(()=>{var Ll=Object.defineProperty;var E=(N,y)=>Ll(N,"name",{value:y,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["client-boot"],{983107878:(N,y,e)=>{N.exports=e.p+"ava_0002-192-0ddd598.png"},2256285620:(N,y,e)=>{N.exports=e.p+"ava_0002-24-f65dddc.png"},6906793909:(N,y,e)=>{N.exports=e.p+"ava_0002-32-798f043.png"},1060768686:(N,y,e)=>{N.exports=e.p+"ava_0002-48-d3ba4ec.png"},2979422297:(N,y,e)=>{N.exports=e.p+"ava_0002-72-c702398.png"},3224273568:(N,y,e)=>{N.exports=e.p+"ava_0022-192-0cc433a.png"},2316786074:(N,y,e)=>{N.exports=e.p+"ava_0022-24-21468d4.png"},3708998647:(N,y,e)=>{N.exports=e.p+"ava_0022-32-7779579.png"},5098468056:(N,y,e)=>{N.exports=e.p+"ava_0022-48-93db11d.png"},4923972147:(N,y,e)=>{N.exports=e.p+"ava_0022-72-5a52d67.png"},5512849639:(N,y,e)=>{N.exports=e.p+"boost_bus_plus_banner_img-5428ddb.png"},8783045612:(N,y,e)=>{N.exports=e.p+"contextual-help-keyboard-e004fd5.png"},7752974446:(N,y,e)=>{N.exports=e.p+"emoji_missing-39b2f0a.png"},2440739180:(N,y,e)=>{N.exports=e.p+"exchange-unlinked-760993c.svg"},4121690455:(N,y,e)=>{N.exports=e.p+"exchange-10f9bbd.svg"},9742272575:(N,y,e)=>{N.exports=e.p+"critical-apps-card-15a4208.png"},2152749084:(N,y,e)=>{N.exports=e.p+"full-context-card-11e4cd8.png"},7205929126:(N,y,e)=>{N.exports=e.p+"slack-ai-card-f4076c2.png"},7396508928:(N,y,e)=>{N.exports=e.p+"slack-connect-card-2602047.png"},5908540923:(N,y,e)=>{N.exports=e.p+"No_Background-ad3fcdb.png"},3677363342:(N,y,e)=>{N.exports=e.p+"active_speaker-dd1164a.gif"},4553218033:(N,y,e)=>{N.exports=e.p+"beach-preview-33d7acf.jpg"},9679390338:(N,y,e)=>{N.exports=e.p+"beach-33258eb.jpg"},7000154057:(N,y,e)=>{N.exports=e.p+"gym-preview-cfff9c8.jpg"},553949882:(N,y,e)=>{N.exports=e.p+"gym-4d948fc.jpg"},9631995895:(N,y,e)=>{N.exports=e.p+"home-preview-8baaf03.jpg"},3342291988:(N,y,e)=>{N.exports=e.p+"home-9e29930.jpg"},1779488764:(N,y,e)=>{N.exports=e.p+"huddle-in-thread-da71b0e.png"},3607863955:(N,y,e)=>{N.exports=e.p+"living_room-preview-1b54428.jpg"},5738074488:(N,y,e)=>{N.exports=e.p+"living_room-a4fba85.jpg"},7485089530:(N,y,e)=>{N.exports=e.p+"office-preview-de46de4.jpg"},5475210953:(N,y,e)=>{N.exports=e.p+"office-98668ce.jpg"},8514307482:(N,y,e)=>{N.exports=e.p+"remote_work-preview-5fbbc32.jpg"},4136357865:(N,y,e)=>{N.exports=e.p+"remote_work-f8cd791.jpg"},7234375712:(N,y,e)=>{N.exports=e.p+"tokyo_sight-preview-3554da9.jpg"},1672115571:(N,y,e)=>{N.exports=e.p+"tokyo_sight-285d851.jpg"},2527471159:(N,y,e)=>{N.exports=e.p+"slack-salesforce-211570d.png"},7972463975:(N,y,e)=>{N.exports=e.p+"slack-salesforce@2x-06b5868.png"},2301861866:(N,y,e)=>{N.exports=e.p+"slack_logo-ebd02d1.svg"},5918772940:(N,y,e)=>{N.exports=e.p+"slack_logo_mark-01b46d3.svg"},9994038664:(N,y,e)=>{N.exports=e.p+"slack_logo_white_text-3cffbf2.svg"},3431559584:(N,y,e)=>{N.exports=e.p+"slackbot_fancy_1024-9020761.png"},2200759559:(N,y,e)=>{N.exports=e.p+"slackbot_fancy_192-fc3f24d.png"},8390767423:(N,y,e)=>{N.exports=e.p+"slackbot_fancy_20-e2d1dcb.png"},1957386787:(N,y,e)=>{N.exports=e.p+"slackbot_fancy_24-e726b64.png"},4245237474:(N,y,e)=>{N.exports=e.p+"slackbot_fancy_32-176771b.png"},7523979550:(N,y,e)=>{N.exports=e.p+"slackbot_fancy_36-d921f9d.png"},7272988726:(N,y,e)=>{N.exports=e.p+"slackbot_fancy_360-29e9a8a.png"},77360885:(N,y,e)=>{N.exports=e.p+"slackbot_fancy_48-8220eaf.png"},2261459203:(N,y,e)=>{N.exports=e.p+"slackbot_fancy_512-8ab1a43.png"},451984622:(N,y,e)=>{N.exports=e.p+"slackbot_fancy_72-9db8807.png"},7428983508:(N,y,e)=>{N.exports=e.p+"slackbot_frowny_1024-f558ba5.png"},669259003:(N,y,e)=>{N.exports=e.p+"slackbot_frowny_192-a0b99ba.png"},4165874747:(N,y,e)=>{N.exports=e.p+"slackbot_frowny_20-96acbec.png"},1023719767:(N,y,e)=>{N.exports=e.p+"slackbot_frowny_24-2246c7b.png"},3710970638:(N,y,e)=>{N.exports=e.p+"slackbot_frowny_32-8a50a23.png"},4814900690:(N,y,e)=>{N.exports=e.p+"slackbot_frowny_36-a7f6cbd.png"},7331486018:(N,y,e)=>{N.exports=e.p+"slackbot_frowny_360-1cb4740.png"},7183565897:(N,y,e)=>{N.exports=e.p+"slackbot_frowny_48-fdccd8c.png"},1001408479:(N,y,e)=>{N.exports=e.p+"slackbot_frowny_512-955a74f.png"},1889110914:(N,y,e)=>{N.exports=e.p+"slackbot_frowny_72-6d65a0f.png"},9948433110:(N,y,e)=>{N.exports=e.p+"slackbot_neutral_1024-b58a548.png"},4948097913:(N,y,e)=>{N.exports=e.p+"slackbot_neutral_192-e5cd9a1.png"},350135845:(N,y,e)=>{N.exports=e.p+"slackbot_neutral_20-00a116e.png"},474239361:(N,y,e)=>{N.exports=e.p+"slackbot_neutral_24-9a05991.png"},1302153452:(N,y,e)=>{N.exports=e.p+"slackbot_neutral_32-44a4c24.png"},9825918216:(N,y,e)=>{N.exports=e.p+"slackbot_neutral_36-c6ff0eb.png"},5908867676:(N,y,e)=>{N.exports=e.p+"slackbot_neutral_360-7309dbd.png"},3333214639:(N,y,e)=>{N.exports=e.p+"slackbot_neutral_48-9906623.png"},2295488157:(N,y,e)=>{N.exports=e.p+"slackbot_neutral_512-dcb310c.png"},5156772208:(N,y,e)=>{N.exports=e.p+"slackbot_neutral_72-79b9eaa.png"},4063699741:(N,y,e)=>{N.exports=e.p+"slackbot_sad_surprise_1024-337ff51.png"},9241168512:(N,y,e)=>{N.exports=e.p+"slackbot_sad_surprise_192-3c6a8ea.png"},3963460214:(N,y,e)=>{N.exports=e.p+"slackbot_sad_surprise_20-5bfbe5a.png"},9267813754:(N,y,e)=>{N.exports=e.p+"slackbot_sad_surprise_24-d519530.png"},2981982679:(N,y,e)=>{N.exports=e.p+"slackbot_sad_surprise_32-5479e94.png"},9833689275:(N,y,e)=>{N.exports=e.p+"slackbot_sad_surprise_36-6982f8c.png"},4840951141:(N,y,e)=>{N.exports=e.p+"slackbot_sad_surprise_360-aff835a.png"},9777215928:(N,y,e)=>{N.exports=e.p+"slackbot_sad_surprise_48-7871f8b.png"},7129884748:(N,y,e)=>{N.exports=e.p+"slackbot_sad_surprise_512-c8291ff.png"},9602720019:(N,y,e)=>{N.exports=e.p+"slackbot_sad_surprise_72-ffaf19c.png"},2283801392:(N,y,e)=>{N.exports=e.p+"trial-awareness-banner-e5514bb.svg"},7626894131:(N,y,e)=>{N.exports=e.p+"de-DE-7cb5203.vtt"},29804293:(N,y,e)=>{N.exports=e.p+"en-GB-fe540d9.vtt"},7749140866:(N,y,e)=>{N.exports=e.p+"en-US-638cf9c.vtt"},5913806097:(N,y,e)=>{N.exports=e.p+"es-ES-2c09d56.vtt"},6636363964:(N,y,e)=>{N.exports=e.p+"es-LA-ea2cf27.vtt"},9916635837:(N,y,e)=>{N.exports=e.p+"fr-FR-aca8347.vtt"},5760619139:(N,y,e)=>{N.exports=e.p+"it-IT-5979abe.vtt"},668694090:(N,y,e)=>{N.exports=e.p+"ja-JP-8bffdf3.vtt"},555040584:(N,y,e)=>{N.exports=e.p+"ko-KR-368325f.vtt"},6820844347:(N,y,e)=>{N.exports=e.p+"paid-feature-education-bcf658e.mp4"},1347747715:(N,y,e)=>{N.exports=e.p+"paid-feature-education-4fcc827.png"},8187362417:(N,y,e)=>{N.exports=e.p+"pt-BR-4dd5817.vtt"},2005200212:(N,y,e)=>{N.exports=e.p+"zh-CN-7893376.vtt"},2563333228:(N,y,e)=>{N.exports=e.p+"zh-TW-bf2d05a.vtt"},6754250580:(N,y,e)=>{N.exports=e.p+"de-DE-e5da613.vtt"},1714394002:(N,y,e)=>{N.exports=e.p+"en-GB-b949ba6.vtt"},6435768457:(N,y,e)=>{N.exports=e.p+"en-US-823d419.vtt"},7417918922:(N,y,e)=>{N.exports=e.p+"es-ES-fb9bba0.vtt"},6869712815:(N,y,e)=>{N.exports=e.p+"es-LA-1d17cb9.vtt"},8089589194:(N,y,e)=>{N.exports=e.p+"fr-FR-0161472.vtt"},5748605292:(N,y,e)=>{N.exports=e.p+"it-IT-f18ddbd.vtt"},4071181961:(N,y,e)=>{N.exports=e.p+"ja-JP-8d6863a.vtt"},8071475775:(N,y,e)=>{N.exports=e.p+"ko-KR-b3589ec.vtt"},9733499682:(N,y,e)=>{N.exports=e.p+"pt-BR-50fe7dc.vtt"},6050136004:(N,y,e)=>{N.exports=e.p+"thumbnail-71d0c1e.png"},5006029593:(N,y,e)=>{N.exports=e.p+"video-9e16c67.mp4"},9753292423:(N,y,e)=>{N.exports=e.p+"zh-CN-f0c9d6c.vtt"},3289703835:(N,y,e)=>{N.exports=e.p+"zh-TW-438dba1.vtt"},9346154532:(N,y,e)=>{N.exports=e.p+"de-DE-feb28fa.png"},4023230306:(N,y,e)=>{N.exports=e.p+"en-GB-92b1507.png"},3665921473:(N,y,e)=>{N.exports=e.p+"en-US-c1aba30.png"},4450714150:(N,y,e)=>{N.exports=e.p+"es-ES-b9da68c.png"},2447916751:(N,y,e)=>{N.exports=e.p+"es-LA-da3f776.png"},4512247066:(N,y,e)=>{N.exports=e.p+"fr-FR-d216449.png"},7856382836:(N,y,e)=>{N.exports=e.p+"it-IT-a9a6cda.png"},8761753225:(N,y,e)=>{N.exports=e.p+"ja-JP-4935b54.png"},8896229587:(N,y,e)=>{N.exports=e.p+"ko-KR-74391d9.png"},9567250534:(N,y,e)=>{N.exports=e.p+"pt-BR-4b40e14.png"},9220196311:(N,y,e)=>{N.exports=e.p+"zh-CN-204bc46.png"},4250547311:(N,y,e)=>{N.exports=e.p+"zh-TW-42915ac.png"},7121362573:(N,y,e)=>{N.exports=e.p+"image-cc06bc3.png"},3469177242:(N,y,e)=>{N.exports=e.p+"de-DE-50d895e.png"},7745320748:(N,y,e)=>{N.exports=e.p+"en-GB-50d895e.png"},4947809175:(N,y,e)=>{N.exports=e.p+"en-US-a34f09a.png"},6700873660:(N,y,e)=>{N.exports=e.p+"es-ES-cce2d85.png"},3394895569:(N,y,e)=>{N.exports=e.p+"es-LA-50d895e.png"},416289424:(N,y,e)=>{N.exports=e.p+"fr-FR-977550f.png"},8946513810:(N,y,e)=>{N.exports=e.p+"it-IT-977550f.png"},9339829407:(N,y,e)=>{N.exports=e.p+"ja-JP-b915fc9.png"},5699146993:(N,y,e)=>{N.exports=e.p+"ko-KR-5d1924d.png"},5267777228:(N,y,e)=>{N.exports=e.p+"pt-BR-341e743.png"},6985852377:(N,y,e)=>{N.exports=e.p+"zh-CN-a532a54.png"},5038027829:(N,y,e)=>{N.exports=e.p+"zh-TW-ba21a69.png"},2651824376:(N,y,e)=>{N.exports=e.p+"de-DE-b035176.png"},1055919006:(N,y,e)=>{N.exports=e.p+"en-GB-15deb42.png"},9468784045:(N,y,e)=>{N.exports=e.p+"en-US-74b04b1.png"},9721191706:(N,y,e)=>{N.exports=e.p+"es-ES-d216251.png"},6072511763:(N,y,e)=>{N.exports=e.p+"es-LA-fcbdb08.png"},9256831486:(N,y,e)=>{N.exports=e.p+"fr-FR-009ea7c.png"},1991548408:(N,y,e)=>{N.exports=e.p+"it-IT-7ff57f7.png"},9439644189:(N,y,e)=>{N.exports=e.p+"ja-JP-c9d259c.png"},9467317535:(N,y,e)=>{N.exports=e.p+"ko-KR-c5a361a.png"},4082867042:(N,y,e)=>{N.exports=e.p+"pt-BR-df3bcd0.png"},7666351987:(N,y,e)=>{N.exports=e.p+"zh-CN-9e65b16.png"},6581854275:(N,y,e)=>{N.exports=e.p+"zh-TW-805f4e4.png"},7260399618:(N,y,e)=>{N.exports=e.p+"apps-0205318.png"},3555024406:(N,y,e)=>{N.exports=e.p+"canvas-27b164f.png"},6362113145:(N,y,e)=>{N.exports=e.p+"huddles-65511ae.png"},5612399517:(N,y,e)=>{N.exports=e.p+"lists-a03762f.png"},9754713110:(N,y,e)=>{N.exports=e.p+"messages-cf1cdcf.png"},8644018899:(N,y,e)=>{N.exports=e.p+"slack-connect-4779df0.png"},8720577475:(N,y,e)=>{N.exports=e.p+"templates-26a2d87.png"},4304939937:N=>{N.exports={callout:"callout__iCkCQ",inverted:"inverted__WIKdT",warning:"warning__ayb0N"}},762973295:N=>{N.exports={pollIcon:"pollIcon__QEauw",pollIconDark:"pollIconDark__ptWiL"}},2217643974:N=>{N.exports={record_breadcrumbs:"record_breadcrumbs__ErsaA",record_breadcrumb:"record_breadcrumb__cEZEJ",record_breadcrumb_label:"record_breadcrumb_label__LDBB9"}},6627147571:N=>{N.exports={accordion:"accordion__kLx8x",item:"item__MTv17",expanded:"expanded__G1WSM",noBorder:"noBorder__Bkdii",itemHeader:"itemHeader__rqviz",expandedIcon:"expandedIcon__a6bDs",header:"header__Mu2fJ",defaultShowDescriptionAnimation:"defaultShowDescriptionAnimation__SUEzA",showDescription:"show-description___8nN1",defaultShowDescription:"defaultShowDescription__O25CX",customItemTextAnimation:"customItemTextAnimation__J88Pz",addPadding:"add-padding__dbRf8",customItemText:"customItemText__vavhM",customItemTransition:"customItemTransition__YwYGB",description:"description__RSIZO",iconSpacer:"iconSpacer__a8u1y",imageCaret:"imageCaret__ZFZoY"}},7722580674:N=>{N.exports={cardsContainer:"cardsContainer__OTIvX",cardContainer:"cardContainer__uXDsY",cardContainerImg:"cardContainerImg__rCUUa",lagoon:"lagoon__MG9UQ",aubergine:"aubergine__ETp71",cilantro:"cilantro__r5shg",sunflower:"sunflower__r4abx",flamingo:"flamingo__Q_Ynx",cardImg:"cardImg__z4O6B",cardContent:"cardContent__aKoTc",arrows:"arrows__iz2fp",left:"left__TiWOa",right:"right__dFttJ"}},4111302702:N=>{N.exports={chip:"chip__Q3ooO",darkMode:"darkMode__UKAub",medium:"medium__kJEgv",large:"large__tdnhm",extraLarge:"extraLarge___ScFb",aiGradient:"aiGradient__pjyr2",lagoon:"lagoon__gVSio",aubergine:"aubergine__aOmqX",cilantro:"cilantro__iMRA3",campfire:"campfire__TzGvj"}},7517926269:N=>{N.exports={clickableIcon:"clickableIcon__TWpIU",nonClickableIcon:"nonClickableIcon__S7ksP",divider:"divider__IMCIF",clickableFeatureContainer:"clickableFeatureContainer__nIB4p",feature:"feature__Q_SzS",urlLink:"urlLink__nc3gX",iconButton:"iconButton__WoqBy"}},1655662782:N=>{N.exports={modalContainer:"modalContainer__o78sg",container:"container__NwDCd",leftContainer:"leftContainer__qkVPh",multiChipContainer:"multiChipContainer__k02pj",subtitle:"subtitle__TcwNf",outerButtonContainer:"outerButtonContainer__zOWxe",innerButtonContainer:"innerButtonContainer__q5Fqv"}},5097962808:N=>{N.exports={containerVertical:"containerVertical__edZL1",containerVerticalDarkMode:"containerVerticalDarkMode__xCc07",containerHorizontal:"containerHorizontal__MZl6H",farLeft:"farLeft__p7HYg",childrenContainer:"childrenContainer__wCqjs"}},6035312900:N=>{N.exports={text:"text__yxtZb",fontSizeMicro:"fontSizeMicro__vL5rG",fontSizeCaption:"fontSizeCaption__g87_d",fontSizeBase:"fontSizeBase__vq3Rz",fontSizeSubtitle:"fontSizeSubtitle__ehrGi",fontSizeTitle:"fontSizeTitle__oao6m",fontSizeHeadline:"fontSizeHeadline__tkdnz",fontWeightBase:"fontWeightBase__MuzzM",fontWeightSemibold:"fontWeightSemibold__qFHfO",fontWeightBold:"fontWeightBold__xavtM",fontWeightBlack:"fontWeightBlack__VEFyV",colorPrimary:"colorPrimary__OpPYq",colorSecondary:"colorSecondary__LA4z5",colorTertiary:"colorTertiary__NzHwL",colorThemeInversePrimary:"colorThemeInversePrimary__HYor1",colorCoreContentHighlight1:"colorCoreContentHighlight1__Cni2v",colorCoreContentHighlight2:"colorCoreContentHighlight2__u2WOd",colorCoreContentHighlight3:"colorCoreContentHighlight3__bkwIu",colorCoreContentImportant:"colorCoreContentImportant__ehtOc",colorPalettesSunflower60:"colorPalettesSunflower60__DiKe3",colorInherit:"colorInherit__jnox0"}},7573583373:N=>{N.exports={proBadge:"proBadge__a6OQu",container:"container__lJGtV",alertBanner:"alertBanner__xNhoq",cta:"cta__tEXdP"}},9295473340:N=>{N.exports={videoAndDevicesContainer:"videoAndDevicesContainer__NVELK",videoContainer:"videoContainer__XjCxI",videoPreview:"videoPreview__hMjwB",videoInnerContainer:"videoInnerContainer__lO7xn",videoAvatar:"videoAvatar__lZyuR",loading:"loading__FMtdL"}},5526670257:N=>{N.exports={modal:"modal__V69Vd",overlay:"overlay__gsuuD"}},7059233720:N=>{N.exports={container:"container__DVK1Z",button:"button__PWHcn"}},1535211300:N=>{N.exports={container:"container__ExpEn",device:"device__Wqu1p",speaker:"speaker__IHiCf"}},2458754542:N=>{N.exports={modal:"modal__v1OWN",overlay:"overlay__HrRPN"}},9632269965:N=>{N.exports={container:"container__rto70"}},2688127376:N=>{N.exports={container:"container__bqBHK",toolbarButton:"toolbarButton__uaxi2",activeButton:"activeButton__UwqVv",warningBadgeContainer:"warningBadgeContainer__SWzb7",warningBadge:"warningBadge__srWl0",cameraDisabled:"cameraDisabled__fhjuY"}},5671227444:N=>{N.exports={inlineAudioMeterContainer:"inlineAudioMeterContainer__Y3vlI",inlineAudioMeter:"inlineAudioMeter__XIoND"}},3416652175:N=>{N.exports={spaceNameContainer:"spaceNameContainer__Up4ES",spaceName:"spaceName__e2eNG",notificationName:"notificationName__PLxJo",notificationList:"notificationList__K7YI_",formError:"formError__RF0wt",textArea:"text-area__GqSis",alert:"alert__gmI86",alertText:"alertText__WNqBZ"}},397939223:N=>{N.exports={dispatcherViewer:"dispatcherViewer__MqLHN",container:"container__JbqvN",dispatcherViewerIcon:"dispatcherViewerIcon__TTCBH",xDispatcher__viewer_iconPulse:"x-dispatcher__viewer_icon--pulse__rzHrs",dispatcherViewerDetails:"dispatcherViewerDetails__HF2Tz"}},9598582073:N=>{N.exports={bodyContainer:"bodyContainer__XdYx2",listContainer:"listContainer__Q03_Y",videoContainer:"videoContainer__zFTj5",proBadge:"proBadge__vbDah",title:"title__I2qJO",subtitle:"subtitle__lKLAD",ctaButton:"ctaButton__KoQEK",modalBackground:"modalBackground__eUyLk"}},6696573656:N=>{N.exports={featuresListContainer:"featuresListContainer__Wztys",icon:"icon__oy3IT",title:"title__OyvRi",text:"text__lXfZb"}},9377084484:N=>{N.exports={costLabel:"costLabel__JmQfs",freeLabel:"freeLabel__kOzDa",proLabel:"proLabel__Y_YqW",bizPlusLabel:"bizPlusLabel__BafhG",costLabelSubtitle:"costLabelSubtitle___zgim",planLabel:"planLabel__jNOYK",discountedPrice:"discountedPrice__pH5Uq",typicalPriceWithStrikethrough:"typicalPriceWithStrikethrough__SlrWi",trialProBadge:"trialProBadge__v4egQ",planHeaderContainer:"planHeaderContainer__P0_Hy",disabledCurrentPlanButton:"disabledCurrentPlanButton__ne1m4",bizPlusUpgradeButton:"bizPlusUpgradeButton__IVKuJ",trialEligibleCellContainer:"trialEligibleCellContainer__No8Xm",trialEligibleCurrentPlanBtn:"trialEligibleCurrentPlanBtn__A1SEA",trialStartCta:"trialStartCta__qHMCY",upgradeLink:"upgradeLink__MZ6Um",upgradeRocketIcon:"upgradeRocketIcon__rrknv",missingText:"missingText__OThqS"}},8941782998:N=>{N.exports={icon:"icon__FjacC",featuresList:"featuresList__CSXeQ",featureText:"featureText__FJcZW",learnMoreLink:"learnMoreLink__aOiVk",plus:"plus__LxKva",learnMoreLinkText:"learnMoreLinkText__S0HoG",footerText:"footerText__hJgWh",cta:"cta__yLBIb"}},5577296129:N=>{N.exports={featureImage:"featureImage__GCGJB"}},8985946788:N=>{N.exports={accordionFeatureListModal:"accordionFeatureListModal__XY4l2",horchataBg:"horchataBg__Z4qYV",aubergineBg:"aubergineBg__XTvzG",horchataCaret:"horchataCaret__z5j66",aubergineCaret:"aubergineCaret__Ln6eA",bodyContainer:"bodyContainer__WwREe",listContainer:"listContainer__RAODJ",header:"header__A7Fx9",title:"title__w5UXN",subtitle:"subtitle__GJpvo",accordionListContainer:"accordionListContainer__ZhxlB",accordionItem:"accordionItem__N3S6I",imageContainer:"imageContainer__I5MJj",upgradeCta:"upgradeCta__gvG2D",spinner:"spinner__D0NVf",footer:"footer__cNZ0p",accordionItemHeaderButton:"accordionItemHeaderButton__klUaK",accordionItemHeader:"accordionItemHeader__SDi13",accordionItemDescription:"accordionItemDescription__P1u4j",accordionExpandedIcon:"accordionExpandedIcon__a2fMf",accordionCollapsedIcon:"accordionCollapsedIcon__KurIq"}},3366751172:N=>{N.exports={footer:"footer__q8kg4",cta:"cta__x1pLT",light:"light__adKpp",disclaimer:"disclaimer__i655U",link:"link__ISsu1"}},4970458e3:N=>{N.exports={primaryCta:"primaryCta__eSYB_"}},4483113171:N=>{N.exports={tooltipText:"tooltipText__Z9pUy"}},8312761259:N=>{N.exports={banner:"banner__NRqlA",link:"link__zbG4b",bodyText:"bodyText__J_4W5",icon:"icon__rIB5w",comparePlansBtn:"comparePlansBtn__EQLop",titleText:"titleText__qMilT",linkWrapper:"linkWrapper__FF5pM"}},1338932669:(N,y,e)=>{"use strict";e.d(y,{O:()=>l});var t=e(3134334389),n=e(2844658640),o=e.n(n),s=e(4659640639),c=e(2843556239);function r(){return r=Object.assign||function(m){for(var _=1;_<arguments.length;_++){var h=arguments[_];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])}return m},r.apply(this,arguments)}E(r,"_extends");const a=(0,s.eF)(s.vt.REACT_VIRTUALIZED,m=>o()(m));function i(m){let{refToForward:_,...h}=m;const{windowRef:d}=(0,t.useContext)(c._0),f=a(d.deref()).List;return t.createElement(f,r({ref:_},h))}E(i,"PortableReactVirtualizedList"),i.displayName="PortableReactVirtualizedList";const l=t.forwardRef((m,_)=>t.createElement(i,r({refToForward:_},m)))},151122307:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(105789326);const n=t.t$},441565466:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(4200812741),n=e(2664504268);const s=E(()=>(0,t.A)(()=>(0,n.A)()),"useUniqueId")},3146263870:(N,y,e)=>{"use strict";e.d(y,{P:()=>n,b:()=>o});var t=e(7639461119);const n="disable_batched_subscribe",o=E(()=>(0,t.fW)(n),"shouldDisableBatchedSubscribe")},8749908259:(N,y,e)=>{"use strict";e.d(y,{b:()=>c,i:()=>s});var t=e(3398586081),n=e(7639461119),o=e(1658558415);const s="sentry_fe_perf",c=(0,t.A)(()=>(0,o.A)()?!1:(0,n.fW)(s))},3087712927:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(1416482128),n=e(5021238865),o=e(2878685908);function s(c){let{teamOrEnterpriseId:r,customEnhancers:a,middlewares:i,disableDevTools:l}=c;const m=(0,n.P)();return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!l&&((0,o.Cu)()||(0,o.b3)())?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(m(r)):t.Zz)((0,t.Tw)(...i??[]),...a??[])}E(s,"configureEnhancers")},5772992709:(N,y,e)=>{"use strict";e.d(y,{XT:()=>l,Xw:()=>n,gU:()=>c,l0:()=>a,xf:()=>o});var t=e(7732872146);const n=new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i");function o(m){const _=typeof m=="string"&&m.match(n);return _&&_.length===1&&_[0]===m||!1}E(o,"isEmail");function s(m){const{pathname:_,protocol:h}=parseUrl(m);return h==="mailto:"&&o(_)}E(s,"isEmailUrl");function c(m){const{pathname:_,protocol:h}=m;return h==="mailto:"&&o(_)}E(c,"isEmailUrlFromUrlObject");const r=/^[\w.-]+(?:\.[\w.-]+)+[\w\-.]+$/i;function a(m){const _=typeof m=="string"&&m.match(r);return _&&_.length===1&&_[0]===m||!1}E(a,"isDomain");function i(m){return m.includes("@slack-bots.com")}E(i,"isSlackBotEmail");function l(m){let{csv:_,min:h=0,max:d=10}=m;const f=_.split(/\s*,\s*/).length;return{minViolation:f<h,maxViolation:f>d}}E(l,"validateCSV")},124320166:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n,o,s){let c,r;return function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];var m;const _=(m=s==null?void 0:s.deref())!==null&&m!==void 0?m:window;_.cancelAnimationFrame(r),c=_.performance.now();const h=E(f=>{if(f>c+o)n(...i);else{var v;r=((v=s==null?void 0:s.deref())!==null&&v!==void 0?v:window).requestAnimationFrame(h)}},"callback");var d;return r=((d=s==null?void 0:s.deref())!==null&&d!==void 0?d:window).requestAnimationFrame(h),r}}E(t,"debounceRAF")},8652526277:(N,y,e)=>{"use strict";e.d(y,{_i:()=>s});function t(r,a,i,l){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const _=[l.x-a.x,l.y-a.y],h=[i.x-a.x,i.y-a.y],d=[r.x-a.x,r.y-a.y],f=_[0]*_[0]+_[1]*_[1],v=_[0]*h[0]+_[1]*h[1],u=_[0]*d[0]+_[1]*d[1],g=h[0]*h[0]+h[1]*h[1],p=h[0]*d[0]+h[1]*d[1],A=1/(f*g-v*v),C=(g*u-v*p)*A,T=(f*p-v*u)*A;return C>=-m&&T>=-m&&C+T<1+m}E(t,"isPointInTriangle");function n(r,a,i){const l=(i.x-a.x)**2+(i.y-a.y)**2,m=((r.x-a.x)*(i.x-a.x)+(r.y-a.y)*(i.y-a.y))/l;return m<0?(r.x-a.x)**2+(r.y-a.y)**2:m<=1?(a.x-r.x)**2+(a.y-r.y)**2-m**2*l:(r.x-i.x)**2+(r.y-i.y)**2}E(n,"distanceSquarePointToSegment");function o(r,a,i,l){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const _=Math.min(a.x,Math.min(i.x,l.x))-m,h=Math.max(a.x,Math.max(i.x,l.x))+m,d=Math.min(a.y,Math.min(i.y,l.y))-m,f=Math.max(a.y,Math.max(i.y,l.y))+m;return r.x>_&&r.x<h&&r.y>d&&r.y<f}E(o,"pointInTriangleBoundingBox");function s(r,a,i,l){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;if(!o(r,a,i,l,m))return!1;const _=m**2;return t(r,a,i,l,0)||n(r,a,i)<=_||n(r,i,l)<=_||n(r,l,a)<=_}E(s,"accurateIsPointInTriangle");var c={accurateIsPointInTriangle:s,isPointInTriangle:t}},3817509504:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(1516013259),n=e(2774532222);const o=E(s=>(0,t.A)(s,(c,r)=>(0,n.A)(r,"aria-")),"__WEBPACK_DEFAULT_EXPORT__")},4518138713:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(1516013259),n=e(2774532222);function o(s){return(0,t.A)(s,(c,r)=>(0,n.A)(r,"data-"))}E(o,"getDataProps")},1275630749:(N,y,e)=>{"use strict";e.d(y,{v:()=>n});var t=e(6845144532);function n(o){const s=(0,t.F)().getLocaleForLastViewedTeam().toLowerCase();return s==="en-us"?o:`/intl/${s}${o}`}E(n,"getLocalizedPath")},6163403996:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return n instanceof o.self.HTMLElement}E(t,"isHtmlElement")},429204216:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n){var o;return!n||n.metaKey||n.ctrlKey?!1:((o=n.key)===null||o===void 0?void 0:o.length)===1}E(t,"isPrintableKeyEvent")},5135324409:(N,y,e)=>{"use strict";e.d(y,{Q:()=>t});const t=E(()=>null,"noopNull")},1887307248:(N,y,e)=>{"use strict";e.d(y,{B:()=>o,I:()=>s.A});var t=e(3134334389),n=e(4757466470);let o=E(class extends t.Component{shouldComponentUpdate(r,a){return!(0,n.Ay)(r,this.props,2)||!(0,n.Ay)(a,this.state,2)}},"PureComponentDepth2");var s=e(1665466574)},1665466574:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(3134334389),n=e(4757466470);let o=E(class extends t.Component{shouldComponentUpdate(c,r){return!(0,n.Ay)(c,this.props,3)||!(0,n.Ay)(r,this.state,3)}},"PureComponentDepth3")},8935440161:(N,y,e)=>{"use strict";e.d(y,{A:()=>s,u:()=>o});var t=e(2156087151),n=e(6312133237);const o=/[- _'.\u{2019}\u{200b}()/\uFF0F]/gu;let s=E(class fs{normalizeAndScore(r){const a=(0,n.B)(r);return a===this.normalizedQuery?0:this.score(a)}score(r){if(!r||this.queryNoSeparators.length>r.replace(o,"").length||!fs.containsAllLetters(r,this.queryNode)||!this.queryNode)return 1/0;const i=fs.lettersToGraph(r,this.options);if(!i)return 1/0;const l=fs.searchWordBoundariesOnly(i,this.queryNode,this.options,this.queryLength);if(!l)return 1/0;const m=fs.countResult(l);return m>this.fuzzyLimit?1/0:m}static scoreOnce(r,a,i){const l=(0,n.B)(a),m=(0,n.B)(r);return new fs(l,i).score(m)}static lettersToGraph(r,a){const i=r.split(""),l=i.shift();return fs.lettersToGraphWorker(l,null,i,[],0,a)}static lettersToGraphWorker(r,a,i,l,m){let _=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!r)return null;const h=(0,t.A)(r),d=fs.makeLetterNode(r,a,l,m,h);if(fs.shouldAddJump(a,d,_)){const v=_.fuzzyJumpLimit||5;l.length<v&&l.push(d)}const f=fs.lettersToGraphWorker(i.shift(),d,i,l,m+1,_);return f&&(d.next=f),d}static shouldAddJump(r,a){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a.ignored?!1:!!(!r||r.ignored&&!a.ignored||i.fuzzyCJK&&(r.isCJK!==a.isCJK||a.isCJK))}static makeLetterNode(r,a,i,l,m){return{letter:r,ignored:r.match(o),next:null,prev:a,jumps:i,visited:!1,index:l,isCJK:m}}static queryToLinkedList(r){if(!r)return null;let a=r.split("");return a.length>1024&&(a=a.slice(0,1024)),fs.queryToLinkedListWorker(a,0)}static queryToLinkedListWorker(r,a){if(a>=r.length)return null;const i=r[a],l=!!(i.match(o)&&(a!==0||r.length>1));return{letter:i,isSeparator:l,isSpace:i===" ",next:fs.queryToLinkedListWorker(r,a+1),index:a}}static searchWordBoundariesOnly(r,a){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0,m=fs.searchWordBoundariesOnlyWorker(r,a,0,i);if(m||(m=r.jumps.reduce((_,h)=>_||h===r?_:fs.searchWordBoundariesOnlyWorker(h,a,1,i),null)),i.matchBeyondWordBoundaries&&l>=4&&!m){const _=fs.findSecondaryPositions(r,a.letter),h=[r.index,...r.jumps.map(f=>f.index)].sort((f,v)=>f-v),d=8;for(const f of _.slice(0,d)){const v=fs.calculateOffsetPenalty(f.index,h);if(v&&(m=fs.searchWordBoundariesOnlyWorker(f,a,v,i),m))break}}return m}static findSecondaryPositions(r,a){const i=[];let l=r.next;for(;l;)l.letter===a&&i.push(l),l=l.next;const m=new Set(r.jumps.map(_=>_.index));return i.filter(_=>!m.has(_.index))}static calculateOffsetPenalty(r,a){if(r<0)return null;if(a.includes(r))return 0;const i=a.reduce((m,_)=>_<r&&_>m?_:m,-1);return 2+(r-i)}static searchWordBoundariesOnlyWorker(r,a,i){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!r||!a)return null;let m;if(!r.visited&&(r.letter===a.letter||r.ignored&&a.isSeparator)&&(m={node:r,count:i}),!m)return null;if(!a.next)return m;r.visited=!0;let _=fs.searchWordBoundariesOnlyWorker(r.next,a.next,0,l),h=a.next;for(;h.isSeparator&&h.next;)h=h.next;return _||(_=r.jumps.reduce((d,f)=>d||f.visited||f===r||(l.searchForwardOnly||l.substringsOnly)&&f.index<r.index||l.substringsOnly&&f.index>r.index+2?d:fs.searchWordBoundariesOnlyWorker(f,h,1,l),null)),r.visited=!1,_?(m.next=_,m):null}static countResult(r){return r?r.count+fs.countResult(r.next):0}static containsAllLetters(r,a){let i=a;for(;i;){if(!(i.isSeparator||r.includes(i.letter)))return!1;i=i.next}return!0}constructor(r,a={}){this.normalizedQuery=(0,n.B)(r),this.queryLength=this.normalizedQuery.length,this.queryNode=fs.queryToLinkedList(this.normalizedQuery),this.options=a;var i;this.fuzzyLimit=(i=this.options.fuzzyLimit)!==null&&i!==void 0?i:1/0,this.queryNoSeparators=this.normalizedQuery.replace(o,"")}},"FuzzyMatcher")},2800152059:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>o});const t=["radio","searchbox","slider","spinbutton","switch","textbox","combobox","listbox","option"],n=["button","submit","reset"];function o(s){if(!s)return!1;const c=s.nodeName;if((c==="BUTTON"||c==="INPUT"&&n.includes(s.getAttribute("type")||""))&&s.matches('[role="toolbar"] button, [role="toolbar"] input'))return!0;const i=s.getAttribute("role");return i?t.includes(i):!1}E(o,"isInlineAriaWidget")},1111258134:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(4304939937),r=e.n(c);const a={warning:"warning",inverted:"inverted"};function i(m){let{children:_,className:h,dataQa:d,onClick:f=s.A,onKeyDown:v=s.A,role:u=void 0,tabIndex:g=void 0,ariaLabel:p=void 0,variant:A}=m;const C={[r().inverted]:A===a.inverted,[r().warning]:A===a.warning};return t.createElement("div",{className:o()(h,r().callout,C),"data-sk":"callout","data-qa":d,onClick:f,onKeyDown:v,role:u,tabIndex:g,"aria-label":p},_)}E(i,"Callout"),i.displayName="Callout",i.displayName="Callout";const l=i},3385766968:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(1111258134);const n=t.A},7435117457:(N,y,e)=>{"use strict";e.d(y,{FK:()=>o,P:()=>c,RG:()=>t,ny:()=>s,pI:()=>n});const t={xxlarge:102,xlarge:72,large:56,medium:36,small:20,smallListVariant:24,smallListVariantOutline:16,inline:14},n={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},o={normal:"12px",none:"0"},s={small:"small",medium:"medium"},c={true:!0,bestOnly:"best_only",false:!1}},4771630161:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(8935440161);const n=E(function(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0;if(!a)return r;const{label:i,options:l}=a,m=new t.A(s,{fuzzyLimit:3,...c});if(!l)isFinite(m.normalizeAndScore(i))&&r.push(a);else{const _=[];l.forEach(h=>{const{label:d}=h;isFinite(m.normalizeAndScore(d))&&_.push(h)}),_.length&&r.push({label:a.label,options:_})}return r},"findMatches");function o(s,c){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c?s.reduce((a,i)=>n(c,r,a,i),[]):s}E(o,"defaultFilter")},8622068040:(N,y,e)=>{"use strict";e.d(y,{F:()=>t,n:()=>n});const t={small:"small",medium:"medium",large:"large"},n={small:22,medium:26,large:32}},7282270866:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(3419042542);let n=E(class extends t.A{getOffsetForKey(s){if(!s)return this.totalHeight;const c=this.getTop(s);return c===void 0?0:c-this.anchorOffset}setHeight(s,c,r){if(this.anchor!==!1)return super.setHeight(s,c),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(r,this.STICKY_EPSILON_SETHEIGHT))return super.setHeight(s,c),this.bracketScrollTop(1/0);let a=r;if(this.getBottom(s)<=r+this.anchorOffset){const l=c-this.getHeight(s);a+=l}return super.setHeight(s,c),this.bracketScrollTop(a)}setKeys(s,c){if(this.anchor!==!1)return super.setKeys(s),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(c))return super.setKeys(s),this.bracketScrollTop(1/0);const r=c+this.anchorOffset,a=this.findAnchor(this.keys,s,r);if(!a)return super.setKeys(s),this.bracketScrollTop(c);const i=this.getTop(a)-r;super.setKeys(s);const l=this.getTop(a)-r,m=i-l;return this.bracketScrollTop(c-m)}setContainerHeight(s,c){return this.anchor!==!1?(this.containerHeight=s,this.layout(),this.bracketScrollTop(this.getOffsetForKey(this.anchor))):this.shouldStickToBottom(c)?(this.containerHeight=s,this.layout(),this.bracketScrollTop(1/0)):(this.containerHeight=s,this.layout(),c)}setBottomMargin(s){this.bottomMargin=s}setStickToBottom(s){this.stickToBottom=s}setAnchor(s,c){this.anchor=s,typeof c!="number"?this.anchorOffset=this.ANCHOR_OFFSET:this.anchorOffset=c}findAnchor(s,c,r){for(let a=0;a<s.length;a++){const i=s[a];if(this.getBottom(i)>r){for(let l=0;l<c.length;l++)if(c[l]===i)return i}}return null}bracketScrollTop(s){return Math.max(0,Math.min(this.totalHeight-this.containerHeight+this.bottomMargin,s))}shouldStickToBottom(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.STICKY_EPSILON;return this.stickToBottom?s>=this.totalHeight-this.containerHeight-c+this.bottomMargin:!1}constructor({keys:s,heightCache:c,gutter:r,onTotalHeightChange:a,containerHeight:i=0,stickToBottom:l=!1,bottomMargin:m=0,ANCHOR_OFFSET:_=0,STICKY_EPSILON:h=2,STICKY_EPSILON_SETHEIGHT:d=2}={}){super({keys:s,heightCache:c,gutter:r,onTotalHeightChange:a}),this.containerHeight=i,this.stickToBottom=l,this.bottomMargin=m,this.STICKY_EPSILON=h,this.STICKY_EPSILON_SETHEIGHT=d,this.ANCHOR_OFFSET=_,this.anchorOffset=_,this.anchor=!1}},"AnchorLayout")},3419042542:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(2208015175),n=e(166097325),o=e(7715417323),s=e(3596300149);let c=E(class{layout(){const{keys:a}=this,i={};let l=0;(0,t.A)(a,m=>{i[m]=l;const _=this.getHeight(m);l+=_+(_>0?this.gutter:0)}),(0,n.A)(i,this.tops)||(this.tops=i),l!==this.totalHeight&&this.onTotalHeightChange(l),this.totalHeight=l}getHeight(a){return this.heightCache.get(a)}getHeightValidity(a){return this.heightCache.getValidity(a)}getTop(a){return this.tops[a]}getBottom(a){return this.tops[a]+this.getHeight(a)}getTops(){return this.tops}getTotalHeight(){return this.totalHeight}getOffsetForKey(a){return a?this.getTop(a):this.totalHeight}getBounds(a,i){const l=this.keys;let m=0;for(;m+1<l.length;){const h=l[m+1];if(this.getTop(h)>a)break;m+=1}let _=m;for(;_<l.length;){const h=l[_];if(this.getTop(h)>i)break;_+=1}return{start:m,end:_}}setHeight(a,i,l){this.heightCache.set(a,i),this.layout()}setKeys(a,i){this.keys=a,this.layout()}constructor({keys:a=[],gutter:i=0,heightCache:l=new s.A,onTotalHeightChange:m=o.A}={}){this.keys=a,this.heightCache=l,this.onTotalHeightChange=m,this.gutter=i,this.tops={},this.totalHeight=0,this.layout()}},"Layout")},3596300149:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});let t=E(class{get(s){return s in this.heights?this.heights[s]:this.DEFAULT_HEIGHT}set(s,c){this.heights[s]=c}getValidity(s){return s in this.heights}constructor({DEFAULT_HEIGHT:s=50,heights:c}={}){this.heights=c||{},this.DEFAULT_HEIGHT=s}},"HeightCache"),n=E(class extends t{getValidity(s){return!!this.validity[s]}set(s,c){super.set(s,c),this.validity[s]=!0}invalidate(s){if(!s){this.validity={};return}delete this.validity[s]}constructor(s){super(s),this.validity={}}},"ValidityHeightCache")},3346098136:(N,y,e)=>{"use strict";e.d(y,{A:()=>u,T:()=>h});var t=e(3134334389),n=e(9391594207),o=e(4426213732),s=e(6471059816),c=e(6839188756),r=e(1670069836),a=e(8847766420),i=e(581167618),l=e(5536692738),m=e(6117529990);const _=new s.Ay("enterprise_calls");var h;(function(g){g.GLOBAL="GLOBAL",g.US="US"})(h||(h={}));const d=E(()=>[{label:_.t("Global"),value:h.GLOBAL},{label:_.t("US"),value:h.US}],"getLocationOptions");let f=E(class extends t.Component{render(){const{appsState:p,featureCallsLocationLock:A,isLockedByOrgAdmin:C,selectedCallLocation:T,isFreeTeam:I}=this.props,M=d(),D=p&&p.video&&Object.keys(p.video).find(L=>L==="A00");if(!A||!D||I)return null;const O=M.find(L=>L.value===T),S=A?_.t("Slack Calls will be restricted and routed through selected regions only."):"Slack Calls will be restricted and routed through selected regions only.",R=A?_.t("Call location options"):"Call location options",U=A?_.t("Limiting to certain regions may reduce call performance or block joining calls in some circumstances."):"Limiting to certain regions may reduce call performance or block joining calls in some circumstances.",P=A?_.t("Slack calls are restricted by Org admin"):"Slack calls are restricted by Org admin";return t.createElement(t.Fragment,null,t.createElement("div",{"data-qa":"calls-location-container",className:"border_top padding_top_100 p-calls_location_lock__container"},t.createElement("span",{className:"p-calls_location_lock__title"},A?_.t("Calls location"):"Calls location"),t.createElement("span",{className:"p-calls_location_lock__description"},S),t.createElement("div",{className:"p-calls_location_lock__options_container"},t.createElement(l.Ay,{className:"p-calls_location_lock__options",size:"medium",isDisabled:C,options:M,selectedOption:O,onOptionSelected:this.handleOptionSelected,ariaLabel:R}),C&&t.createElement("span",{className:"p-calls_location_lock__options_disable_reason"},P))),T===h.US&&t.createElement(i.Ay,{type:i.QE.boxed,level:i.A_.warning,icon:"warning",align:i.AO.left,className:"p-calls_location_lock__alert"},t.createElement("span",null,U)))}handleOptionSelected(p){this.props.setSelectedCallLocation(p.value)}constructor(p){super(p),(0,o.v)(this,["handleOptionSelected"])}},"CallsRegionLockOptions");f.displayName="CallsRegionLockOptions";const v=E(g=>{const p=(0,a.jV)(g);return{isFreeTeam:!(0,c.qR)((0,r.H7)(g))&&!p,featureCallsLocationLock:(0,m.XY)(g)}},"mapStateToProps"),u=(0,n.N)(v)(f)},1223723593:(N,y,e)=>{"use strict";e.d(y,{wl:()=>Q,JG:()=>W,uy:()=>ce,bM:()=>le,Ox:()=>te,A9:()=>q,fD:()=>$});var t=e(3134334389),n=e(9391594207),o=e(3783303734),s=e(9113979368),c=e(3867135795),r=e(45851552),a=e(1649982175),i=e(8668318456),l=e(5795074931),m=e(8462077367),_=e(7138682671),h=e(3165300465),d=e(581167618),f=e(1610251172),v=e(3989454579),u=e(1743656885),g=e(5597672932),p=e(6117529990);const A=E(V=>!(0,p.BD)(V),"isOrgCallsAppsSettingsEnabled");var C=e(766806),T=e(56548687);const I=E(V=>{let{callsApps:w,allowCalls:Y,clogger:G,action:Z,stepVariant:se}=V;const ae={allow_calls:Y};w&&w.video&&w.video.length>0&&(ae.video_call_app_ids=w.video.map(re=>re.id)),w&&w.audio&&w.audio.length>0&&(ae.audio_call_app_ids=w.audio.map(re=>re.id)),w&&w.profile_field_options&&w.profile_field_options.length>0&&(ae.profile_field_option_ids=w.profile_field_options.map(re=>re.id)),G.track(i.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{...ae,contexts:{ui_context:{step:i.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:Z,entry_point:"calls-workspace-admin",step_variant:se}}})},"clogCallsApps"),M=E(V=>{let{clogger:w}=V;w.track(i.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{contexts:{ui_context:{step:i.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:i.UiAction.LEARN_MORE,is_primary_cta:!0,ui_properties:{element_type:i.ElementType.LINK,element_name:"calls-admin-save-multiple-call-apps"}}}})},"clogLinkToPaidPlans");var D=e(6304789565);const O=(0,D.Ay)("Clog a standardized click event when a workspace setting is saved",(V,w,Y)=>{let{eventId:G,uiStep:Z,stepVariant:se}=Y;(0,T.e)({getState:w}).track(G,{contexts:{ui_context:{ui_step:Z,step_variant:se,ui_properties:{element_type:i.ElementType.BUTTON,element_name:"submit_button"},action:i.UiAction.CLICK,is_primary_cta:!0}}})});O.meta={name:"createThunk",key:"createThunkclogWorkspaceSettingSubmit",description:"Clog a standardized click event when a workspace setting is saved"};const S=O;var R=e(1670069836),U=e(6839188756),P=e(6323355797),L=e(980293773),F=e(6471059816),x=e(3346098136),b=e(462591818);const k=new F.Ay("calls_admin"),B="only_available_for_paid_teams";var W;(function(V){V.Video="video",V.Audio="audio",V.ProfileFieldOptions="profile_field_options"})(W||(W={}));const K=E(V=>{let{type:w,app:Y,isChecked:G,onChangeCallApp:Z,isLocked:se}=V;const ae=(0,t.useCallback)(()=>Z(w,Y.id),[Z,w,Y]),re=`${w}_${Y.id}`;return t.createElement(_.A,{text:Y.name,type:"inline",cursor:"pointer"},t.createElement(v.A,{id:re,name:Y.name,checked:G,onChange:ae,disabled:se,"data-qa":re}))},"AppCheckbox");K.displayName="AppCheckbox";const H=E(V=>{let{appsState:w,isLocked:Y,type:G}=V;return!Y||!w?!1:G===W.Video&&(0,o.A)(w.video)>0&&(0,o.A)(w.audio)===0||(G===W.Audio&&(0,o.A)(w.audio)>0&&(0,o.A)(w.video))===0},"disableTypeCheckbox"),z=E(V=>{let{appsState:w,isLocked:Y,appId:G,type:Z}=V;if(!Y||!w)return!1;const se=w.video?Object.keys(w.video):[],ae=w.audio?Object.keys(w.audio):[],re=se.length+ae.length;if(G&&re===1){let pe,de;return se.length===1?(pe=se[0],de=W.Video):ae.length===1&&(pe=ae[0],de=W.Audio),G===pe&&Z===de}return!1},"disableAppCheckbox"),Q=E(V=>{let{type:w,sectionTitle:Y,appsState:G,installedCallApps:Z,onChangeCallType:se,onChangeCallApp:ae,isLocked:re,dataQa:pe}=V;if(!Z||!G||!Z[w])return null;const de=`enable_${w}_calls`;return t.createElement("div",{className:`p-calls_workspace_settings__${w}_container`,"data-qa":pe},t.createElement(_.A,{text:Y,type:"inline",cursor:"pointer"},t.createElement(v.A,{checked:!(0,s.A)(G[w]),id:de,name:de,onChange:se,disabled:H({appsState:G,isLocked:re,type:w})})),t.createElement("p",{className:"p-calls_workspace_settings__options_title"},k.t("Calling options:")),t.createElement("div",{className:"p-calls_workspace_settings__calls_apps"},[...Z[w]].map(ie=>t.createElement(K,{app:ie,isChecked:(0,c.A)(G[w],ie.id),key:`${w}_${ie.id}`,onChangeCallApp:ae,type:w,isLocked:z({appsState:G,isLocked:re,appId:ie.id,type:w})}))))},"CallSection");Q.displayName="CallSection";const q=E(V=>{let{installedCallApps:w,appsState:Y,appId:G,type:Z,setAppsState:se}=V;if(!w||!Y)return;const ae={...Y[Z]};if((0,c.A)(ae,G))delete ae[G],se({...Y,[Z]:ae});else{const re=(0,r.A)(w[Z],pe=>pe.id===G);re>-1&&(ae[G]=re,se({...Y,[Z]:ae}))}},"toggleCallApp"),$=E(V=>{let{installedCallApps:w,appsState:Y,type:G,setAppsState:Z}=V;if(!(!Y||!w))if(!(0,s.A)(Y[G]))Z({...Y,[G]:{}});else{var se;const ae={};(se=w[G])===null||se===void 0||se.forEach((re,pe)=>{ae[re.id]=pe}),Z({...Y,[G]:ae})}},"toggleCallType"),le=E((V,w)=>{const Y={video:{},audio:{},profile_field_options:{}};return!w||!V||[W.Video,W.Audio,W.ProfileFieldOptions].forEach(G=>{w[G]&&[...w[G]].forEach(se=>{const ae=(0,r.A)(V[G],re=>re.id===se.id);ae>-1&&(Y[G][se.id]=ae)})}),Y},"reduceTeamPrefApps"),te=E(function(){let{installedCallApps:V,appsState:w}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Y={video:[],audio:[]};return!V||!w||[W.Video,W.Audio].forEach(G=>{if(V[G]){const Z=[...V[G]],se=w[G];Z.forEach(ae=>{if((0,c.A)(se,ae.id)){var re;(re=Y[G])===null||re===void 0||re.push((0,a.A)(ae,"preselected"))}})}}),Y},"setCallsAppsPayloadToSave"),ce=E(V=>{if(!V||!V.video)return;const w=V.video.findIndex(Y=>Y.id===b.rq);w>=0&&V.video.splice(w,1)},"filterNativeCallsApp"),me=E(V=>{let{isOpen:w,closeModal:Y,errorMessage:G,buttonLabel:Z}=V;return t.createElement(L.dW,{centered:!0,isOpen:w,closeModal:Y},t.createElement(L.$m,{className:"p-calls_workspace_settings__error_modal"},t.createElement(L.qf,null,t.createElement("p",null,G))),t.createElement(L.jl,null,t.createElement(L.ox,null,t.createElement(L.s_,{type:"outline",onClick:Y,"aria-label":Z},Z))))},"ErrorModal");me.displayName="ErrorModal";const _e=E(V=>{let{installedCallApps:w,teamPrefCallsApps:Y,setMultipleTeamPrefsByApi:G,clogWorkspaceSettingSubmit:Z,isLocked:se,isCallsSelectorDisabled:ae,clogger:re,isOrgCallsAppsSettingsEnabled:pe,team:de,isCallsLocationLockedByOrgAdmin:ie,callsLocationLocked:he}=V;const[ve,ge]=(0,t.useState)(!1),[ke,Ne]=(0,t.useState)(""),We=k.t("Save"),Oe=k.t("Saved"),be=k.t("Sorry! Something went wrong. Please try again."),Ke=k.t("Allow third-party calls in Slack"),Fe=k.t("Allow phone number calls in Slack (only in direct messages)"),J=k.t("Ok"),ne=k.t("Sorry, call selection is currently managed by your organization admin."),je=k.rt("First install a <a>calling app from the Slack Marketplace</a> then come back here to enable it as a default calling app.",{},ft=>{let{text:Ct}=ft;return t.createElement(u.A,{articleId:208492868},Ct)}),at=(0,t.useCallback)(()=>{M({clogger:re}),(0,U.gC)(de,(0,P.hZ)({entryPoint:"calls-admin-workspace-settings"}))},[re,de]),nt=k.rt("Sorry, this feature is only available to <a>paid teams</a>.",{},ft=>{let{text:Ct}=ft;return t.createElement("a",{href:"#",onClick:at,"data-qa":"paid_plan_page_link"},Ct)}),Ge=Y?le(w,Y):{video:{},audio:{},profile_field_options:{}},[Pe,Le]=(0,t.useState)(Ge),[ze,Me]=(0,t.useState)(!1),[Ce,Qe]=(0,t.useState)(!1),Be=he&&he.length>0?x.T.US:x.T.GLOBAL,[we,xe]=(0,t.useState)(Be);(0,t.useEffect)(()=>{const ft=le(w,Y);Le(ft)},[Le,w,Y]);const Se=(0,t.useCallback)(ft=>{Qe(!1),$({installedCallApps:w,appsState:Pe,type:ft,setAppsState:Le})},[w,Pe,Le]),Ye=(0,t.useCallback)(()=>Se(W.Video),[Se]),ot=(0,t.useCallback)(()=>Se(W.Audio),[Se]),_t=(0,t.useCallback)(()=>ge(!1),[ge]),pt=(0,t.useCallback)((ft,Ct)=>{Qe(!1),q({installedCallApps:w,appsState:Pe,appId:Ct,type:ft,setAppsState:Le})},[w,Pe,Le]),vt=(0,t.useCallback)(ft=>{xe(ft),Qe(!1)},[xe]),yt=E(()=>{Me(!0),Z({eventId:i.EventId.ADMIN_TEAM_SETTINGS,uiStep:"change_enable_calls"});const ft=!(0,s.A)(Pe.video)||!(0,s.A)(Pe.audio),Ct=te({installedCallApps:w,appsState:Pe}),At={calls_apps:Ct};(0,U.r7)(de)||(At.allow_calls=ft),ie||(At.calls_locations=we===x.T.US?[we]:[]),G({prefs:At}).then(()=>{Qe(!0),I({callsApps:Ct,allowCalls:ft,clogger:re,action:i.UiAction.SAVE})}).catch(kt=>{var Bt;ge(!0),(kt==null||(Bt=kt.data)===null||Bt===void 0?void 0:Bt.error)===B?(Ne(nt),I({callsApps:Ct,allowCalls:ft,clogger:re,action:i.UiAction.ERROR,stepVariant:B})):(Ne(be),I({callsApps:Ct,allowCalls:ft,clogger:re,action:i.UiAction.ERROR}))}).finally(()=>Me(!1))},"onSubmit"),Tt=w&&(w.video&&w.video.length>0||w.audio&&w.audio.length>0);return t.createElement("div",{key:"calls_workspace_settings",className:"p-calls_workspace_settings"},ae&&pe?t.createElement(d.Ay,{type:"boxed",level:"info",icon:"info",align:"left","data-qa":"org_calls_apps_alert_selector_disabled"},t.createElement("span",null,ne)):t.createElement(t.Fragment,null,!Tt&&t.createElement(d.Ay,{type:"boxed",level:"info",icon:"info",align:"left"},t.createElement("span",null,je)),t.createElement("div",{className:"p-calls_workspace_settings__call_options"},w&&w.video&&w.video.length>0&&t.createElement(Q,{type:W.Video,sectionTitle:Ke,appsState:Pe,installedCallApps:w,onChangeCallType:Ye,onChangeCallApp:pt,isLocked:se}),w&&w.audio&&w.audio.length>0&&t.createElement(Q,{type:W.Audio,sectionTitle:Fe,appsState:Pe,installedCallApps:w,onChangeCallType:ot,onChangeCallApp:pt,isLocked:se})),t.createElement(x.A,{appsState:Pe,isLockedByOrgAdmin:ie,selectedCallLocation:we,setSelectedCallLocation:vt}),t.createElement(me,{closeModal:_t,isOpen:ve,errorMessage:ke,buttonLabel:J}),Tt&&t.createElement(h.A,{onClick:yt,loading:ze,"data-qa":"call_save_button","aria-label":Ce?Oe:We},Ce&&t.createElement(f.A,{type:"check-circle-o",className:"p-calls_workspace_settings_check_icon"}),Ce?Oe:We)))},"CallsWorkspaceSettings");_e.displayName="CallsWorkspaceSettings";const Ae=E(V=>{const w=(0,l.tV)(V,"calls_apps");ce(w);const Y=(0,g.xp)(V,"calls_apps"),G=(0,C.SI)(V,"calls_locations");return{installedCallApps:w,teamPrefCallsApps:Y,clogger:(0,T.e)({state:V}),isOrgCallsAppsSettingsEnabled:A(V),team:(0,R.H7)(V),isCallsLocationLockedByOrgAdmin:!!G&&G.length>0,callsLocationLocked:(0,g.xp)(V,"calls_locations")}},"mapStateToProps"),ye={setMultipleTeamPrefsByApi:m.hz,clogWorkspaceSettingSubmit:S},oe={toggleCallApp:q,toggleCallType:$,AppCheckbox:K,reduceTeamPrefApps:le,setCallsAppsPayloadToSave:te,disableTypeCheckbox:H,disableAppCheckbox:z},ee=(0,n.N)(Ae,ye)(_e)},6909784049:(N,y,e)=>{"use strict";e.d(y,{o:()=>nt});var t=e(3134334389),n=e(9391594207),o=e(166097325),s=e(3300324857),c=e(462591818),r=e(2843556239),a=e(4954329752);function i(){return i=Object.assign||function(Ge){for(var Pe=1;Pe<arguments.length;Pe++){var Le=arguments[Pe];for(var ze in Le)Object.prototype.hasOwnProperty.call(Le,ze)&&(Ge[ze]=Le[ze])}return Ge},i.apply(this,arguments)}E(i,"_extends");let l=E(class extends t.PureComponent{componentDidMount(){var Pe;(Pe=this.context.windowRef.deref())===null||Pe===void 0||Pe.document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){var Pe;this.isDragging&&this.onMouseUp(),(Pe=this.context.windowRef.deref())===null||Pe===void 0||Pe.document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown(Pe){var Le;Pe.button===0&&(this.isDragging=!0,(Le=this.context.windowRef.deref())===null||Le===void 0||Le.document.addEventListener("mousemove",this.onMouseMove),this.props.onDragStart(Pe))}onMouseMove(Pe){Pe.button===0&&this.isDragging&&this.props.onDragMove(Pe)}onMouseUp(Pe){if(Pe&&Pe.button!==0)return;const Le=this.isDragging;if(this.isDragging=!1,Le){var ze;(ze=this.context.windowRef.deref())===null||ze===void 0||ze.document.removeEventListener("mousemove",this.onMouseMove),this.props.onDragEnd(Pe)}}render(){const{children:Pe,refToForward:Le,onDragStart:ze,onDragMove:Me,onDragEnd:Ce,...Qe}=this.props,Be=t.Children.only(this.props.children);return t.cloneElement(Be,{...Qe,onMouseDown:xe=>this.onMouseDown(xe),ref:(0,a.N)(Le,Be)})}constructor(Pe){super(Pe),this.isDragging=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}},"BaseDragTarget");l.contextType=r._0,l.displayName="BaseDragTarget";const m=t.forwardRef((Ge,Pe)=>t.createElement(l,i({},Ge,{refToForward:Pe})));var _=e(387328355),h=e(6304789565),d=e(2825968873);const f=(0,d.tZ)("USER-ACTIONS"),v=(0,h.Ay)("Logs user interaction with call window",(Ge,Pe,Le)=>{f.info(Le)});v.meta={name:"createThunk",key:"createThunklogUserAction",description:"Logs user interaction with call window"};var u=e(1975685771),g=e(8405076696);function p(Ge){C=B(te(Ge))}E(p,"startCurve");function A(Ge){const Pe=te(Ge),Le=W(C,Pe);return Le.update_status==P.SUCCESS?Le:W(C,Pe)}E(A,"addToCurve");let C;const T=2,I=9,M=9,D=50,O=80,S=1,R=!0,U=!0,P={SUCCESS:1,FAIL_CORNER:2,FAIL_MAXED:3},L=E(()=>({segments:[],vdmap:[]}),"initCurve"),F=E((Ge,Pe)=>({c0:{x:Ge,y:Pe},c1:{x:Ge,y:Pe},c2:{x:Ge,y:Pe},c3:{x:Ge,y:Pe}}),"initCurveSegment"),x=E(Ge=>Ge.segments[Ge.segments.length-1],"getLastSegment"),b=E(Ge=>Ge.c3,"getLastPoint"),k=E(function(Ge){return{c0:{x:Ge.c0.x,y:Ge.c0.y},c1:{x:Ge.c1.x,y:Ge.c1.y},c2:{x:Ge.c2.x,y:Ge.c2.y},c3:{x:Ge.c3.x,y:Ge.c3.y},constrain_to:Ge.constrain_to==null?void 0:{x:Ge.constrain_to.x,y:Ge.constrain_to.y},error:Ge.error||0,update_status:Ge.update_status}},"copySegment"),B=E(function(Ge){let{x:Pe,y:Le}=Ge;const ze=L();return ze.segments.push(F(Pe,Le)),ze},"createCurve"),W=E(function(Ge,Pe){const Le=x(Ge),ze=b(Le);if(w(Pe,b(Le))<S)return Le;if(P.SUCCESS!=Le.update_status&&Le.update_status!==void 0){let Me;P.FAIL_CORNER==Le.update_status?Me=F(ze.x,ze.y):P.FAIL_MAXED==Le.update_status&&(Me=F(ze.x,ze.y),Me.constrain_to=se(z(Le))),Ge.vdmap=[],Ge.segments.push(Me)}return K(Ge,Pe)},"addToCurveImpl"),K=E(function(Ge,Pe){const Le=x(Ge),{x:ze,y:Me}=Pe;let Ce=b(Le);const Qe=k(Le);if(Q(Le,Pe))return Le.update_status=P.FAIL_CORNER,Le;Le.c3={x:ze,y:Me},Le.c2={x:Le.c2.x+ze-Ce.x,y:Le.c2.y+Me-Ce.y};const Be=Z(Ce,Pe),we=$(Be),xe=_e(Ce,we),Se=_e(Pe,we),Ye=le(ye(we,2)),ot=G(Ye),_t=oe(Ye,ot),pt=Ae(Se,xe),vt=G(pt),yt=oe(pt,vt);let Tt=xe;for(let kt=0;kt<vt;kt++){let Bt=Tt,St=we;for(let Gt=0;Gt<ot;Gt++){const{x:Et,y:wt}=te(Bt);Ge.vdmap[Et]||(Ge.vdmap[Et]=[]),Ge.vdmap[Et][wt]==null?Ge.vdmap[Et][wt]=te(St):Ge.vdmap[Et][wt]=ce(Ge.vdmap[Et][wt])<ce(te(St))?Ge.vdmap[Et][wt]:te(St),St=_e(St,_t),Bt=_e(Bt,_t)}Tt=_e(Tt,yt)}const ft=Ae(Pe,{x:I,y:I}),Ct=_e(Pe,{x:I,y:I});for(let kt=ft.x;kt<Ct.x;kt++)for(let Bt=ft.y;Bt<Ct.y;Bt++){Ge.vdmap[kt]||(Ge.vdmap[kt]=[]);const St=Ae({x:kt,y:Bt},Pe);Ge.vdmap[kt][Bt]==null?Ge.vdmap[kt][Bt]=St:Ge.vdmap[kt][Bt]=ce(Ge.vdmap[kt][Bt])<ce(St)?Ge.vdmap[kt][Bt]:St}let At=0;for(;;){let kt={x:0,y:0},Bt={x:0,y:0};for(let Et=0;Et<M;Et++){const wt=Et/M,Jt=te(ae(Le,wt)),Lt=H(Ge,Jt),Zt=me(Lt),qt=Lt.x,tt=Lt.y;let st=1;U&&(wt<.1||wt>.9)&&(st=10),kt.x+=wt*Math.pow(1-wt,2)*Zt*qt*st,kt.y+=wt*Math.pow(1-wt,2)*Zt*tt*st,Bt.x+=Math.pow(wt,2)*(1-wt)*Zt*qt*st,Bt.y+=Math.pow(wt,2)*(1-wt)*Zt*tt*st}if(U){const Et=Ae(q(Le),Le.c2),wt=Ae(q(Le),Le.c1);kt=Ae(kt,ye(wt,.03)),Bt=Ae(Bt,ye(Et,.03))}Le.constrain_to&&(kt=ye(Le.constrain_to,V(Le.constrain_to,kt)));const St=1;Le.c1.x-=St*kt.x*6/M,Le.c1.y-=St*kt.y*6/M,Le.c2.x-=St*Bt.x*6/M,Le.c2.y-=St*Bt.y*6/M;let Gt=0;for(let Et=0;Et<M;Et++){const wt=Et/M,Jt=ae(Le,wt),Lt=H(Ge,te(Jt));Gt+=Math.pow(Lt.x,2)+Math.pow(Lt.y,2)}if(Gt=Gt/M,At++,Le.error=Gt,Le.steps=At,Gt<T||At>D)break}return At>D?(Le.c0=Qe.c0,Le.c1=Qe.c1,Le.c2=Qe.c2,Le.c3=Qe.c3,Le.error=Qe.error,Le.constrain_to=Qe.constrain_to,Le.update_status=P.FAIL_MAXED,Le):(Le.update_status=P.SUCCESS,Le)},"updateDistanceField"),H=E(function(Ge,Pe){let{x:Le,y:ze}=Pe;if(Ge.vdmap[Le]){const Me=Ge.vdmap[Le][ze],Ce=Ge.vdmap[Le][ze+1];let Qe=Me!=null?{x:Me.x,y:Me.y}:{x:I,y:I};return Ce&&Ce.x!=null&&Math.abs(Qe.x)>Math.abs(Ce.x)&&(Qe.x=Ce.x),Ce&&Ce.y!=null&&Math.abs(Qe.y)>Math.abs(Ce.y)&&(Qe.y=Ce.y),Qe}else return{x:I,y:I}},"getDistanceFromPolyline"),z=E(function(Ge){const Pe=Ge.c3,Le=Ge.c2;return{x:3*(Le.x-Pe.x),y:3*(Le.y-Pe.y)}},"getCurveEndTangent"),Q=E(function(Ge,Pe){if(ee(Ge.c0,Ge.c3))return!1;let Le;R?Le=se(Ae(ae(Ge,.95),Ge.c3)):Le=se(z(Ge));const ze=se({x:Pe.x-Ge.c3.x,y:Pe.y-Ge.c3.y}),Me=V(Le,ze);if(Y(Math.acos(Me))<O)return!0},"checkCorner"),q=E(Ge=>_e(oe(Ae(Ge.c3,Ge.c0),2),Ge.c0),"getSegmentMidpoint"),$=E(Ge=>({x:Ge.x*I,y:Ge.y*I}),"getScaledVectorDifference"),le=E(Ge=>({x:-Ge.x,y:-Ge.y}),"negateVec"),te=E(Ge=>({x:Math.round(Ge.x),y:Math.round(Ge.y)}),"roundVec"),ce=E(Ge=>Math.pow(Ge.x,2)+Math.pow(Ge.y,2),"sumOfSquaresVec"),me=E(Ge=>Math.sqrt(ce(Ge)),"magnitudeVec"),_e=E((Ge,Pe)=>({x:Ge.x+Pe.x,y:Ge.y+Pe.y}),"addVec"),Ae=E((Ge,Pe)=>_e(Ge,le(Pe)),"subVec"),ye=E((Ge,Pe)=>({x:Ge.x*Pe,y:Ge.y*Pe}),"multVec"),oe=E((Ge,Pe)=>ye(Ge,1/Pe),"divVec"),ee=E((Ge,Pe)=>Ge.x==Pe.x&&Ge.y==Pe.y,"equalVec"),V=E((Ge,Pe)=>Ge.x*Pe.x+Ge.y*Pe.y,"dotProduct"),w=E(function(Ge){let{x:Pe,y:Le}=Ge,ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(Pe-ze.x,2)+Math.pow(Le-ze.y,2))},"getMagnitude"),Y=E(Ge=>Ge*180/Math.PI,"radiansToDegrees"),G=E(Ge=>Math.max(Math.abs(Ge.x),Math.abs(Ge.y)),"getDDASteps"),Z=E((Ge,Pe)=>{const Le=Pe.x-Ge.x,Me=Pe.y-Ge.y,Ce=-Le;return se({x:Me,y:Ce})},"getPerpindicularUnitVector"),se=E(function(Ge){let{x:Pe,y:Le}=Ge;const ze=w({x:Pe,y:Le});return{x:Pe/ze,y:Le/ze}},"getUnitVector"),ae=E(function(Ge,Pe){const Le=re(Pe,Ge.c0.x,Ge.c1.x,Ge.c2.x,Ge.c3.x),ze=re(Pe,Ge.c0.y,Ge.c1.y,Ge.c2.y,Ge.c3.y);return{x:Le,y:ze}},"getPointAlongCurve"),re=E(function(Ge,Pe,Le,ze,Me){return Pe*Math.pow(1-Ge,3)+Le*3*Ge*Math.pow(1-Ge,2)+ze*3*Math.pow(Ge,2)*(1-Ge)+Me*Math.pow(Ge,3)},"singleComponentBezier");function pe(Ge,Pe){return{a:Ge,b:Pe}}E(pe,"makeLineSegment");function de(Ge,Pe){let[Le,ze]=Ge,[Me,Ce]=Pe;return Math.sqrt((Le-Me)**2+(ze-Ce)**2)}E(de,"magnitude");class ie{add(Pe){return this.current?de(this.current.a,Pe)>.05?(this.current=pe(this.current.b,Pe),{type:DrawMessageType.New,segment:this.current}):(this.current=pe(this.current.a,Pe),{type:DrawMessageType.Edit,segment:this.current}):(this.current=pe(Pe,Pe),{type:DrawMessageType.New,segment:this.current})}}E(ie,"ProgressiveEqualLengthMultilineTransformer");class he{setTargetRect(Pe){this.targetRect=Pe}add(Pe){if(!(0,u.Z)(this.targetRect,"Need size to transform point to curve"))throw Error();const{top:Le,left:ze,width:Me,height:Ce}=this.targetRect,[Qe,Be]=[Pe[0]-ze,Pe[1]-Le];if(!this.current){p({x:Qe,y:Be});const _t=[Qe/Me,Be/Ce];return this.current={a:_t,b:_t,c:_t,d:_t},{type:c.Sl.New,segment:this.current}}const we=this.current,{c0:xe,c1:Se,c2:Ye,c3:ot}=A({x:Qe,y:Be});return this.current={a:[xe.x/Me,xe.y/Ce],b:[Se.x/Me,Se.y/Ce],c:[Ye.x/Me,Ye.y/Ce],d:[ot.x/Me,ot.y/Ce]},this.current.a[0]!==we.a[0]||this.current.a[1]!==we.a[1]?{type:c.Sl.New,segment:this.current}:{type:c.Sl.Edit,segment:this.current}}}E(he,"ProgressiveCurveTransformer");var ve=e(5950652755),ge=e(3107743571);const ke=2e3,Ne=50,We=E(Ge=>{const{onDragStart:Pe,onDragMove:Le,onDragEnd:ze,onCursorMoveStart:Me,onCursorMove:Ce,onCursorMoveEnd:Qe,children:Be}=Ge,[we,xe]=(0,t.useState)(!1),[Se,Ye]=(0,t.useState)(!1),[ot,_t]=(0,t.useState)(0),[pt,vt]=(0,t.useState)(0),yt=(0,t.useCallback)(St=>{St.button===0&&(xe(!0),Pe(St))},[Pe]),Tt=(0,t.useCallback)(()=>{Ye(!1),Qe()},[Ye,Qe]);(0,ge.Z)(()=>{Tt()},ke,[ot,pt]);const ft=(0,t.useCallback)(St=>{if(St.button===0){if(we){Le(St);return}Se||(Me(St),Ye(!0)),Ce(St),_t(St.movementX),vt(St.movementY)}},[Se,we,Ce,Me,Le]),Ct=(0,ve.A)(ft,Ne,{leading:!0}),At=(0,t.useCallback)(St=>{Ct(St)},[Ct]),kt=(0,t.useCallback)(St=>{if(St&&St.button!==0)return;const Gt=we;xe(!1),Gt&&ze(St)},[we,ze]),Bt=(0,t.useCallback)(St=>{const Gt=we;xe(!1),Gt?ze(St):Se&&Qe()},[we,ze,Se,Qe]);return t.createElement("div",{onMouseDown:yt,onMouseMove:At,onMouseUp:kt,onMouseLeave:Bt,"aria-hidden":"true"},Be)},"HuddlesCursorTarget");We.displayName="HuddlesCursorTarget";const Oe=t.memo(We);var be=e(8558782493),Ke=e(8668318456);function Fe(){return Fe=Object.assign||function(Ge){for(var Pe=1;Pe<arguments.length;Pe++){var Le=arguments[Pe];for(var ze in Le)Object.prototype.hasOwnProperty.call(Le,ze)&&(Ge[ze]=Le[ze])}return Ge},Fe.apply(this,arguments)}E(Fe,"target_extends");let J=E(class extends t.Component{componentDidMount(){this.onResize()}shouldComponentUpdate(Pe,Le){return!(0,o.A)(this.props,Pe)||!(0,o.A)(this.state,Le)}componentDidUpdate(Pe){(0,o.A)(Pe.targetRect,this.props.targetRect)||this.onResize()}onResize(){var Pe;if(!(!((Pe=this.props.refToForward)===null||Pe===void 0)&&Pe.current))return;const Le=(0,g.n)(this.props.targetRect);this.props.refToForward.current.style.height=Le.height,this.props.refToForward.current.style.width=Le.width,this.props.refToForward.current.style.top=Le.top,this.props.refToForward.current.style.left=Le.left,this.props.refToForward.current.style.position=Le.position}getCursorCoordinates(Pe){return this.props.useHuddlesDragTarget?[Pe.nativeEvent.offsetX,Pe.nativeEvent.offsetY]:[Pe.pageX,Pe.pageY]}onDragStart(Pe){this.multilineTransformer=new he,this.props.useHuddlesDragTarget?this.multilineTransformer.setTargetRect({top:0,left:0,width:this.props.targetRect.width,height:this.props.targetRect.height}):this.multilineTransformer.setTargetRect(this.props.targetRect),s.A.publish({id:"self",type:c.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}}),s.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(Pe)),...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw start"),this.setState(()=>({showCursor:!1}))}onDragMove(Pe){(0,u.Z)(this.multilineTransformer,"Need transformer to draw")&&s.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(Pe)),...this.props.itemId&&{itemId:this.props.itemId}})}onDragEnd(Pe){s.A.publish({id:"self",type:c.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw stop"),this.setState(()=>({showCursor:!0})),this.props.useHuddlesDragTarget&&(0,be.k)(Ke.EventId.HUDDLES_SCREENSHARE_INTERACTION,{contexts:{ui_context:{action:Ke.UiAction.CLICK,ui_properties:{element_name:"screenshare_draw"}}}})}onCursorMoveStart(){s.A.publish({id:"self",type:c.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}})}onCursorMove(Pe){const Le=this.getCursorCoordinates(Pe),ze=Le[0]/this.props.targetRect.width,Me=Le[1]/this.props.targetRect.height;s.A.publish({id:"self",type:c.Sl.Position,x:ze,y:Me,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!0}))}onCursorMoveEnd(){s.A.publish({id:"self",type:c.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!1}))}render(){return this.props.useHuddlesDragTarget?t.createElement(Oe,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd,onCursorMoveStart:this.onCursorMoveStart,onCursorMove:this.onCursorMove,onCursorMoveEnd:this.onCursorMoveEnd},t.createElement("div",{ref:this.props.refToForward,className:"p-calls_draw__target_none",style:{...(0,g.n)(this.props.targetRect)}})):t.createElement(m,{onDragStart:Pe=>this.onDragStart(Pe),onDragMove:Pe=>this.onDragMove(Pe),onDragEnd:Pe=>this.onDragEnd(Pe)},t.createElement("div",{ref:this.props.refToForward,className:this.state.showCursor?"p-calls_draw__target":"p-calls_draw__target_none",style:{...(0,g.n)(this.props.targetRect)}}))}constructor(Pe){super(Pe),this.onResize=this.onResize.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragMove=this.onDragMove.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onCursorMoveStart=this.onCursorMoveStart.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onCursorMoveEnd=this.onCursorMoveEnd.bind(this),this.state={showCursor:!0}}},"BaseDrawTarget");J.displayName="BaseDrawTarget";const ne=E((Ge,Pe)=>({hue:(0,_.Ng)(Ge).drawHue}),"mapStateToProps"),je=E(Ge=>({logDrawingAction:Pe=>Ge(v(Pe))}),"mapDispatchToProps"),at=(0,n.N)(ne,je)(J),nt=t.forwardRef((Ge,Pe)=>t.createElement(at,Fe({refToForward:Pe},Ge)))},5956851410:(N,y,e)=>{"use strict";e.d(y,{u:()=>ee});var t=e(3134334389),n=e(166097325),o=e(1649982175),s=e(8571983633),c=e(8840779375),r=e(3300324857),a=e(462591818),i=e(2843556239),l=e(3150724727),m=e(6471059816),_=e(9391594207),h=e(387328355),d=e(5795074931);const f=new m.Ay("calls"),v=E(V=>{let{displayName:w,id:Y,userId:G,color:Z}=V;return t.createElement("div",{className:"p-huddles_draw__name_tag",style:Z?{background:Z}:{}},t.createElement(l.Ay,{className:"p-huddles_draw__name_tag_avatar",key:Y,size:24,userId:G,isInteractive:!1,tabIndex:-1}),t.createElement("div",{className:"p-huddles_draw__name_tag_text"},w))},"NameTag"),u=E((V,w)=>{let{id:Y}=w;return{displayName:Y==="self"?f.t("You"):(0,h.iU)(V,Y),userId:Y==="self"?(0,d.WR)(V):(0,h.C1)(V,Y).userId}},"mapStateToProps"),g=(0,_.N)(u)(v),p=-21,A=-15,C=E(V=>{let{peerId:w,width:Y,height:G,leftOffset:Z,topOffset:se,color:ae,renderNameTag:re=!0,isWindowDrawMode:pe=!1,xWindowPosition:de=0,yWindowPosition:ie=0}=V;const he=(0,t.useRef)(null);let ve,ge;const ke=Z*Y,Ne=se*G;ve=Math.round(ke+A),ge=Math.round(Ne+p),pe&&(ve+=de,ge+=ie);const We=(0,t.useMemo)(()=>[ve,ge],[ve,ge]),Oe=E(be=>{const Ke=he.current;Ke&&(Ke.style.setProperty("transform",`translate(${be[0]}px, ${be[1]}px)`),Ke.style.setProperty("visibility","initial"))},"updateCursorPosition");return(0,t.useEffect)(()=>{Oe(We)},[We]),t.createElement("div",{className:"p-huddles_cursor_tracking__cursor_container"},t.createElement("div",{key:`cursor-${w}`,className:"p-huddles_cursor_tracking__cursor",ref:he},re&&t.createElement(g,{key:`name-tag-${w}`,id:w,color:ae})))},"HuddlesCursor");C.displayName="HuddlesCursor";const T=t.memo(C,n.A);var I=e(2825968873),M=e(8405076696),D=e(5082930587);function O(V,w,Y,G){return`hsla(${V}, ${w}%, ${Y}%, ${G})`}E(O,"makeColorString");const S=E((V,w)=>O(V,100,75,w),"makeBaseColorString"),R=E(V=>O(V,80,50,1),"makeShadowColorString"),U=3;class P{static renderBaseStyle(w){w.lineJoin="round",w.lineCap="round",w.shadowBlur=5}startFade(){this.startedFadingTimestamp=performance.now(),this.observer.requestRenderOnNextFrame()}resetFade(){this.startedFadingTimestamp&&(delete this.startedFadingTimestamp,this.width=P.initialWidth,this.opacity=1,this.color=S(this.hue,this.opacity))}setHue(w){this.hue=w,this.color=S(this.hue,this.opacity),this.shadowColor=R(this.hue),this.observer.requestRenderOnNextFrame()}render(w){this.fade(),w.lineWidth=this.width,w.strokeStyle=this.color,w.shadowColor=this.shadowColor}fade(){if(!this.startedFadingTimestamp)return;const w=Math.min(1,(performance.now()-this.startedFadingTimestamp)/P.fadeDuration);this.width=P.initialWidth-w*U,this.opacity=1-w/1,this.color=S(this.hue,this.opacity),w<1?this.observer.requestRenderOnNextFrame():this.observer.onFadeCompleted()}getColor(){return this.color}constructor(w){this.observer=w,this.width=P.initialWidth,this.opacity=1,this.hue=0,this.color=S(this.hue,this.opacity),this.shadowColor=R(this.hue)}}E(P,"LineStyle"),P.initialWidth=7,P.fadeDuration=3e3,P.displayName="LineStyle";let L=E(class{getSegments(){return this.segments}addNewSegment(w){this.segments.push(w)}editLastSegment(w){this.segments.pop(),this.segments.push(w)}constructor(){this.segments=[]}},"ProgressivePlotter");class F extends null{draw(w){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const Z=this.getSegments();w.beginPath();for(let se=0;se<Z.length;se++){const ae=Z[se];w.moveTo(ae.a[0]*Y,ae.a[1]*G),w.lineTo(ae.b[0]*Y,ae.b[1]*G)}w.stroke()}}E(F,"ProgressiveLineSegmentPlotter");class x extends L{draw(w){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const Z=this.getSegments();w.beginPath();for(let se=0;se<Z.length;se++){const ae=Z[se];w.moveTo(ae.a[0]*Y,ae.a[1]*G),w.bezierCurveTo(ae.b[0]*Y,ae.b[1]*G,ae.c[0]*Y,ae.c[1]*G,ae.d[0]*Y,ae.d[1]*G)}w.stroke()}}E(x,"ProgressiveBezierCurvePlotter");const b=700,k=5e3;class B{onFadeCompleted(){this.plotter=new x,this.observer.onLineVisibilityChanged(!1),this.setLineVisibility({isFading:!1,isLineVisible:!1}),this.style.resetFade()}resetVestigialLineTimeout(){this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),this.vestigialLineTimeout=window.setTimeout(this.onInactivity,k)}resetInactivityTimeout(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=window.setTimeout(this.onInactivity,b)}update(w){if(this.resetVestigialLineTimeout(),w.type===a.Sl.New)this.visibilityState.isLineVisible||this.observer.onLineVisibilityChanged(!0),this.setLineVisibility({isFading:!1,isLineVisible:!0}),this.plotter.addNewSegment(w.segment),this.style.resetFade(),clearTimeout(this.inactivityTimeout);else if(w.type===a.Sl.Edit)this.plotter.editLastSegment(w.segment);else if(w.type===a.Sl.End)this.resetInactivityTimeout();else if(w.type===a.Sl.ChangeHue)this.style.setHue(w.hue);else{if(w.type===a.Sl.Position)return;(0,D.Kh)(w.type)}this.observer.requestRenderOnNextFrame()}render(w,Y,G){this.style.render(w),this.plotter.draw(w,Y,G)}setLineVisibility(w){Object.assign(this.visibilityState,w)}getColor(){return this.style.getColor()}constructor(w){this.observer=w,this.plotter=new x,this.visibilityState={isLineVisible:!1,isFading:!1},this.onInactivity=()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),!(this.visibilityState.isFading||!this.visibilityState.isLineVisible)&&(this.setLineVisibility({isFading:!0}),this.style.startFade())},this.style=new P({onFadeCompleted:()=>this.onFadeCompleted(),requestRenderOnNextFrame:()=>this.observer.requestRenderOnNextFrame()})}}E(B,"DrawLine"),B.displayName="DrawLine";const W=E(V=>{let{refToForward:w,isHidden:Y,numVisibleLines:G,top:Z,left:se,width:ae,height:re,doNotApplyTargetRect:pe}=V;if(pe){const ie={display:Y||G===0?"none":"block"};return t.createElement("canvas",{ref:w,style:ie,"data-qa":"huddles-drawing-canvas"})}const de={display:Y||G===0?"none":"block",...(0,M.n)({left:se,top:Z,width:ae,height:re})};return t.createElement("canvas",{ref:w,style:de,"data-qa":"huddles-drawing-canvas"})},"Canvas");W.displayName="Canvas";const K=t.memo(W,n.A),H=new m.Ay("calls"),z=10,Q=10,q=E(V=>{let{displayName:w,coord:[Y,G]}=V;return t.createElement("div",{className:"p-calls_draw__name_tag",style:{left:`${Y+z}px`,top:`${G+Q}px`}},w)},"name_tag_NameTag"),$=E((V,w)=>{let{id:Y}=w;return{displayName:Y==="self"?H.t("You"):(0,h.iU)(V,Y)}},"name_tag_mapStateToProps"),le=(0,_.N)($)(q),te=-33,ce=-9,me=E(V=>{let{top:w,left:Y,width:G,height:Z,leftOffset:se,topOffset:ae,id:re}=V;const pe=Y+se*G,de=w+ae*Z,ie={left:`${pe+ce}px`,top:`${de+te}px`},he=(0,t.useMemo)(()=>[pe,de],[pe,de]);return t.createElement(t.Fragment,null,re!=="self"&&t.createElement("div",{key:`cursor-${re}`,className:"p-calls_draw__pencil_cursor",style:ie}),t.createElement(le,{key:`name-tag-${re}`,id:re,coord:he}))},"Cursor");me.displayName="Cursor";const _e=t.memo(me,n.A);function Ae(){return Ae=Object.assign||function(V){for(var w=1;w<arguments.length;w++){var Y=arguments[w];for(var G in Y)Object.prototype.hasOwnProperty.call(Y,G)&&(V[G]=Y[G])}return V},Ae.apply(this,arguments)}E(Ae,"_extends");var ye;class oe extends(ye=t.Component){shouldComponentUpdate(w,Y){return!(0,n.A)(this.props,w)||!(0,n.A)(this.state,Y)}getOrCreatePeerLine(w){return this.peerLines[w]=this.peerLines[w]||new B({requestRenderOnNextFrame:()=>this.requestRenderOnNextFrame(),onLineVisibilityChanged:Y=>this.setState(G=>({numVisibleLines:G.numVisibleLines+(Y?1:-1)}))}),this.peerLines[w]}onIncomingPeerLine(w){if(this.props.itemId&&w.itemId&&w.itemId!==this.props.itemId)return;const Y=this.getOrCreatePeerLine(w.id);switch(Y.update(w),w.type){case a.Sl.New:{this.setState(G=>{let{tagCoords:Z,userColors:se}=G;return{tagCoords:{...Z,[w.id]:w.segment.d},userColors:{...se,[w.id]:Y.getColor()}}});break}case a.Sl.Edit:{this.setState(G=>{let{tagCoords:Z}=G;return{tagCoords:{...Z,[w.id]:w.segment.d}}});break}case a.Sl.ChangeHue:{this.setState(G=>{let{userColors:Z}=G;return{userColors:{...Z,[w.id]:Y.getColor()}}});break}case a.Sl.End:{this.setState(G=>{let{tagCoords:Z}=G;return{tagCoords:(0,o.A)(Z,w.id)}});break}case a.Sl.Position:{const G=[w.x,w.y];this.setState(Z=>{let{tagCoords:se}=Z;return{tagCoords:{...se,[w.id]:G}}});break}default:break}}componentDidMount(){r.A.subscribe(this.onIncomingPeerLine),this.ctx=this.props.refToForward.current.getContext("2d"),this.onResize()}componentDidUpdate(w,Y){w.targetRect!==this.props.targetRect&&this.onResize(),this.state.numVisibleLines<0&&(0,I.tZ)("DRAW-RENDERER").warn("Should not have a negative number of lines"),this.props.onRendererIsActive&&(this.state.numVisibleLines===0&&Y.numVisibleLines>0||this.state.numVisibleLines>0&&Y.numVisibleLines===0)&&this.props.onRendererIsActive(this.state.numVisibleLines!==0)}componentWillUnmount(){if(!(0,s.A)(this.rafId)){var w;(w=this.context.windowRef.deref())===null||w===void 0||w.cancelAnimationFrame(this.rafId)}r.A.unsubscribe(this.onIncomingPeerLine)}onResize(){this.ctx&&(this.ctx.canvas.width=this.props.targetRect.width,this.ctx.canvas.height=this.props.targetRect.height,P.renderBaseStyle(this.ctx),this.requestRenderOnNextFrame())}requestRenderOnNextFrame(){this.dirty||(this.dirty=!0,this.rafId=this.context.windowRef.deref().requestAnimationFrame(this.draw))}draw(){if(this.rafId=void 0,!this.ctx)return;const w=this.props.targetRect.width,Y=this.props.targetRect.height;this.dirty=!1,this.ctx.clearRect(0,0,w,Y);const G=Object.values(this.peerLines);for(let Z=0;Z<G.length;Z++)G[Z].render(this.ctx,w,Y)}renderCursor(w,Y,G){const{targetRect:Z,useHuddlesCursor:se,itemId:ae,isHostDrawWindow:re,isWindowDrawing:pe}=this.props;if(se){const de=this.state.userColors[w],ie=ae!=="self",he=re&&pe;return t.createElement(T,{key:w,peerId:w,topOffset:Y,leftOffset:G,width:Z.width,height:Z.height,color:de,renderNameTag:ie,isWindowDrawMode:he,xWindowPosition:Z.left,yWindowPosition:Z.top})}return t.createElement(_e,Ae({key:w,id:w,topOffset:Y,leftOffset:G},Z))}render(){if(this.props.setPositionToMatchTargetRect){const{targetRect:w}=this.props,Y={...(0,M.n)({left:w.left,top:w.top,width:w.width,height:w.height})};return t.createElement("div",{className:"p-calls_draw__renderer",style:Y},t.createElement(K,Ae({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect,{doNotApplyTargetRect:!0})),(0,c.A)(this.state.tagCoords,(G,Z)=>{let[se,ae]=G;return this.renderCursor(Z,ae,se)}))}return t.createElement("div",{className:"p-calls_draw__renderer"},t.createElement(K,Ae({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect)),(0,c.A)(this.state.tagCoords,(w,Y)=>{let[G,Z]=w;return this.renderCursor(Y,Z,G)}))}constructor(w){super(w),this.dirty=!1,this.peerLines={},this.onResize=this.onResize.bind(this),this.onIncomingPeerLine=this.onIncomingPeerLine.bind(this),this.draw=this.draw.bind(this),this.renderCursor=this.renderCursor.bind(this),this.state={tagCoords:{},numVisibleLines:0,userColors:{}}}}E(oe,"BaseDrawRenderer"),oe.contextType=i._0,oe.displayName="BaseDrawRenderer";const ee=t.forwardRef((V,w)=>t.createElement(oe,Ae({refToForward:w},V)))},1429018002:(N,y,e)=>{"use strict";e.d(y,{A:()=>I});var t=e(3134334389),n=e(9391594207),o=e(387328355),s=e(4844578989),c=e.n(s),r=e(4096483543),a=e(4954329752),i=e(7384121809),l=e(6839101721),m=e(3395259576),_=e(2615100822),h=e(4761125736);function d(){return d=Object.assign||function(M){for(var D=1;D<arguments.length;D++){var O=arguments[D];for(var S in O)Object.prototype.hasOwnProperty.call(O,S)&&(M[S]=O[S])}return M},d.apply(this,arguments)}E(d,"_extends");let f=E(class extends t.PureComponent{componentDidMount(){this.setUpMedia(),this.updateVideoState(),this.setupInteractionObserver()}componentDidUpdate(){this.setUpMedia(),this.updateVideoState()}componentWillUnmount(){var D;const O=this.videoRef.current,{shouldAttachStream:S,tileId:R,peerId:U}=this.props;!R||!O||(this.props.unbindVideo({tileId:R,videoRef:this.videoRef,shouldDetachStream:!!S,peerId:U}),O.removeEventListener("resize",this.onResize),(D=this.interactionObserver)===null||D===void 0||D.disconnect())}setUpMedia(){const D=this.videoRef.current,{shouldAttachStream:O,tileId:S,peerId:R}=this.props;!S||!D||(this.props.bindVideo({tileId:S,videoRef:this.videoRef,shouldAttachStream:!!O,peerId:R}),D.addEventListener("resize",this.onResize))}setupInteractionObserver(){var D;if(window!=null&&window.IntersectionObserver&&this.props.unbindNonVisibleVideos&&((D=this.interactionObserver)===null||D===void 0||D.disconnect(),this.interactionObserver=new IntersectionObserver(this.interactionObserverCallback,{root:null,threshold:this.intersectionCheckThresholds}),this.videoRef.current)){var O;(O=this.interactionObserver)===null||O===void 0||O.observe(this.videoRef.current)}}interactionObserverCallback(D){const O=D[0];if(!O)return;const S=this.videoRef.current,{shouldAttachStream:R,tileId:U,peerId:P}=this.props;!U||!S||(O.intersectionRatio>this.intersectionVisibleThreshold?this.props.bindVideo({tileId:U,videoRef:this.videoRef,shouldAttachStream:!!R,peerId:P}):this.props.unbindVideo({tileId:U,videoRef:this.videoRef,shouldDetachStream:!!R,peerId:P}))}onResize(){const D=this.videoRef.current;D&&(this.props.isSharingScreen?D.style.objectFit="contain":D.style.objectFit=D.videoWidth>D.videoHeight?"cover":"contain")}updateVideoState(){const{experimentCallsPauseVideoOnScreenshareGroupTreatment:D,peerId:O,tileId:S,isActivePeerSharingScreen:R,isShroudVisible:U}=this.props;!D||!S||(O!=="self"&&R&&!U?this.props.pauseVideo({tileId:S}):this.props.unpauseVideo({tileId:S}))}render(){const{refToForward:D,shouldFlip:O,peerId:S,className:R,width:U,height:P,onLoadedData:L}=this.props;return t.createElement("video",d({className:c()("p-calls_video",R,{flipped:O}),ref:(0,a.P)(this.videoRef,D),key:S,"data-qa":"free-willy-video-element",style:{width:U,height:P}},L?{onLoadedData:L}:{}))}constructor(D){super(D),this.videoRef=(0,t.createRef)(),this.intersectionVisibleThreshold=0,this.intersectionCheckThresholds=[0],this.onResize=D.onResize?D.onResize:this.onResize.bind(this),this.interactionObserverCallback=this.interactionObserverCallback.bind(this)}},"VideoElement");f.displayName="VideoElement";const v=E((M,D)=>{var O;const S=(0,h._Z)(M,"calls_pause_video_on_screenshare")==="treatment",R=(0,o.vz)(M),U=D.peer?(0,o.Bf)(D.peer):!1;let P;if(R)P=D.tileId;else{var L,F,x,b,k,B;P=U?(L=D.peer)===null||L===void 0||(F=L.tileIds)===null||F===void 0||(x=F.screenshare)===null||x===void 0?void 0:x.tileId:(b=D.peer)===null||b===void 0||(k=b.tileIds)===null||k===void 0||(B=k.camera)===null||B===void 0?void 0:B.tileId}return{tileId:P,peerId:(O=D.peer)===null||O===void 0?void 0:O.id,isSharingScreen:U,isShroudVisible:S&&(0,_.A)()?(0,m.pI)(M):!1,isActivePeerSharingScreen:(0,o.$Q)(M),experimentCallsPauseVideoOnScreenshareGroupTreatment:S}},"mapStateToProps"),u=E(M=>({bindVideo:D=>(0,r.A)()?(0,i.dispatchForClientStore)((0,l.d2)(D)):M((0,l.d2)(D)),unbindVideo:D=>(0,r.A)()?(0,i.dispatchForClientStore)((0,l.gJ)(D)):M((0,l.gJ)(D)),pauseVideo:D=>(0,r.A)()?(0,i.dispatchForClientStore)((0,l.WY)(D)):M((0,l.WY)(D)),unpauseVideo:D=>(0,r.A)()?(0,i.dispatchForClientStore)((0,l.D8)(D)):M((0,l.D8)(D))}),"mapDispatchToProps"),g=(0,n.N)(v,u)(f),p=t.forwardRef((M,D)=>t.createElement(g,d({refToForward:D},M)));function A(){return A=Object.assign||function(M){for(var D=1;D<arguments.length;D++){var O=arguments[D];for(var S in O)Object.prototype.hasOwnProperty.call(O,S)&&(M[S]=O[S])}return M},A.apply(this,arguments)}E(A,"peer_video_element_extends");const C=E((M,D)=>{const O=(0,o.vz)(M),S=(0,o.JZ)(M,D.id);let R;const U=D.tileId;if(!O)R=(0,o.fy)(S)&&!S.isScreenshareEnabled;else{var P,L;const F=((P=S.tileIds)===null||P===void 0||(L=P.screenshare)===null||L===void 0?void 0:L.tileId)===U;R=(0,o.fy)(S)&&!F}return{peer:S,tileId:U,shouldFlip:R}},"peer_video_element_mapStateToProps"),T=(0,n.N)(C)(p),I=t.forwardRef((M,D)=>t.createElement(T,A({},M,{refToForward:D})))},1337358413:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>d,Ft:()=>m});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(9391594207),c=e(3328068409),r=e(9009528296),a=e(9853754481);function i(){return i=Object.assign||function(f){for(var v=1;v<arguments.length;v++){var u=arguments[v];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[g]=u[g])}return f},i.apply(this,arguments)}E(i,"_extends");const l=15;function m(f){return Math.min(1,Math.max(0,a.Ep*f))}E(m,"getClampedAudioLevel");let _=E(class extends t.PureComponent{componentDidMount(){r.A.subscribe(this.onLevelUpdated)}componentWillUnmount(){r.A.unsubscribe(this.onLevelUpdated)}onLevelUpdated(v){const{isEnabled:u}=this.props;if(!u){this.numBubbles>0&&this.setState(()=>({numActiveBubbles:0,numInactiveBubbles:this.numBubbles}));return}const g=Math.floor(this.numBubbles*m(v));this.setState(()=>({numActiveBubbles:g,numInactiveBubbles:this.numBubbles-g}))}renderBubbles(){const{numActiveBubbles:v,numInactiveBubbles:u}=this.state,{bubbleClassname:g}=this.props,p=o()("p-audio_levels__bubble","p-audio_levels__bubble--active",g,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),A=o()("p-audio_levels__bubble","p-audio_levels__bubble--inactive",g,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),C=Array.from({length:v},(I,M)=>t.createElement("span",{key:`active${M}`,className:p})),T=Array.from({length:u},(I,M)=>t.createElement("span",{key:M,className:A}));return C.concat(T)}render(){const v=this.props.ariaLabelledBy||this.props.ariaLabel?{role:"meter","aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-valuenow":Math.floor(this.state.numActiveBubbles/this.numBubbles*100),"aria-valuemin":0,"aria-valuemax":100,tabIndex:0}:{};return t.createElement("div",i({className:o()("p-audio_levels",this.props.containerClassName),"data-qa":"audio-levels-bubbles"},v),this.renderBubbles())}constructor(v){super(v);var u;this.numBubbles=(u=this.props.initNumBubbles)!==null&&u!==void 0?u:l;var g;this.state={numInactiveBubbles:(g=v.initNumBubbles)!==null&&g!==void 0?g:l,numActiveBubbles:0},this.onLevelUpdated=this.onLevelUpdated.bind(this)}},"AudioMeter");_.displayName="AudioMeter";const h=E(f=>({clientTheme:(0,c.to)(f)}),"mapStateToProps"),d=(0,s.N)(h)(_)},5227672331:(N,y,e)=>{"use strict";e.d(y,{AJ:()=>a,S:()=>m,p:()=>i});var t=e(1545824888),n=e(6304789565),o=e(5046160032),s=e(4914127094),c=e(7344959578),r=e(7299481592),a;(function(_){_.HuddleSurvey="huddle-survey",_.ListsSurvey="lists-survey",_.TodosSurvey="todos-survey"})(a||(a={}));var i;(function(_){_.NoAudioInput="no-audio-input",_.NoAudioOutput="no-audio-output",_.LowVideoQuality="low-video-quality",_.LowAudioQuality="low-audio-quality",_.VideoNotWorking="video-not-working",_.DeviceSelectionError="device-selection-error",_.Disconnected="disconnected",_.SomethingElse="something-else",_.Dismiss="dismiss"})(i||(i={}));function l(_){return _.isOk}E(l,"isOkResult");const m=(0,n.Ay)("Send survey results",(_,h,d)=>{var f,v;const u=h();var g;const p=(g=d.callId)!==null&&g!==void 0?g:u.activeCall.id;if(!p)return(0,r.M)(!1,"There should have been a call in order to send survey results."),t.S.reject(new Error("SendSurveyResult: No call"));var A;const C=(A=d.type)!==null&&A!==void 0?A:"vo-survey",T=l(d)?void 0:{response_requested:!1,comments:d.comments,is_video:(f=u.activeCall)===null||f===void 0?void 0:f.hasVideoBeenEnabled,is_ss:(v=u.activeCall)===null||v===void 0?void 0:v.hasScreenshareBeenEnabled,list_id:d==null?void 0:d.listId,list_entry_point:d==null?void 0:d.listEntryPoint},I=l(d)||C===a.ListsSurvey||C===a.TodosSurvey?"ok":d.notOkResponses.join(","),M={room:p,event_type:C,event_value:I,event_metadata:JSON.stringify(T)};return(0,o.A)({apiUrl:"/api/",method:"screenhero.rooms.userEvent",token:(0,s.F)(u),versionTs:(0,c.HF)(),versionUid:(0,c.X3)(),args:M})?t.S.resolve():t.S.reject(new Error("SendSurveyResult: beacon failed"))});m.meta={name:"createThunk",key:"createThunksendSurveyResult",description:"Send survey results"}},610288365:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>r});var t=e(6696292586),n=e(3398586081);class o{constructor(){this.isInitialized=!1,this.isUsingBattery=null,this.batteryLevel=null,this.isSupported=!1,this.registerListeners=()=>{var i,l;(i=this.battery)===null||i===void 0||i.addEventListener("chargingchange",this.handleBatteryUpdate),(l=this.battery)===null||l===void 0||l.addEventListener("levelchange",this.handleBatteryUpdate)},this.removeEventListeners=()=>{var i,l;(i=this.battery)===null||i===void 0||i.removeEventListener("chargingchange",this.handleBatteryUpdate),(l=this.battery)===null||l===void 0||l.removeEventListener("levelchange",this.handleBatteryUpdate)},this.handleBatteryUpdate=()=>{this.isSupported&&this.updateBatteryState()},this.updateBatteryState=()=>{this.battery&&(this.isUsingBattery=!this.battery.charging,this.batteryLevel=this.battery.level)},this.initialize=async()=>{await this.setUp(),this.updateBatteryState()},this.setUp=async()=>{if(!this.isInitialized)try{if(navigator.getBattery){const i=await navigator.getBattery();this.battery=i,this.battery&&(this.isSupported=!0,this.updateBatteryState(),this.registerListeners())}else this.isSupported=!1}catch{this.isSupported=!1}finally{this.isInitialized=!0}},this.cleanup=()=>{this.isSupported&&this.removeEventListeners()},this.isUsingBatteryPower=()=>{if(this.isSupported)return!!this.isUsingBattery},this.getLevel=()=>{if(!(!this.isSupported||!(0,t.A)(this.batteryLevel)))return this.batteryLevel*100},this.setUp()}}E(o,"HuddleBatteryManager");const s=(0,n.A)(()=>new o),c={getHuddleBatteryManager:s,HuddleBatteryManager:o},r=s},6664301844:(N,y,e)=>{"use strict";e.d(y,{$H:()=>ie,$b:()=>f,$s:()=>de,E9:()=>u,Es:()=>r,I8:()=>_,KK:()=>V,Ll:()=>W,Ls:()=>Ke,QJ:()=>x,Q_:()=>ge,RM:()=>re,VW:()=>Fe,Ws:()=>_e,XL:()=>d,Xw:()=>c,ZT:()=>G,Ze:()=>me,_R:()=>se,b9:()=>v,dQ:()=>a,gi:()=>C,i3:()=>ee,j3:()=>be,jp:()=>L,jq:()=>Ne,kM:()=>We,mn:()=>h,of:()=>ve,px:()=>Oe,uL:()=>m,vB:()=>ye,w2:()=>ke,wV:()=>te,xY:()=>i,xc:()=>F,z2:()=>l,zF:()=>H,zg:()=>ae});var t=e(7164668892),n=e.n(t),o=e(3305135794),s=e.n(o);let c=t.CheckAudioConnectivityFeedback,r=t.CheckAudioInputFeedback,a=t.CheckAudioOutputFeedback,i=t.CheckCameraResolutionFeedback,l=t.CheckContentShareConnectivityFeedback,m=t.CheckNetworkTCPConnectivityFeedback,_=t.CheckNetworkUDPConnectivityFeedback,h=t.CheckVideoConnectivityFeedback,d=t.CheckVideoInputFeedback,f=t.LogLevel,v=t.MeetingSessionStatusCode,u=t.TranscriptItemType,g=null;const p=null;let A=null;const C=t.AllHighestVideoBandwidthPolicy;let T,I=null,M=null;const D=t.DefaultDeviceController;let O;const S=t.DefaultMeetingReadinessChecker;let R;const U=t.DefaultMeetingSession;let P,L=t.DefaultModality,F=t.DefaultVideoTile,x=t.MeetingSessionConfiguration,b=null,k=null,B=null,W=t.PermissionDeniedError,K=null,H=t.Versioning,z=null,Q=null,q=null,$=null,le=null,te=t.VoiceFocusDeviceTransformer,ce=null,me=t.DefaultVideoTransformDevice,_e=t.BackgroundBlurVideoFrameProcessor,Ae=null,ye=t.CSPMonitor;const oe=null;let ee=t.VideoFxProcessor,V=t.VideoCodecCapability,w=!1,Y=!1;async function G(J){if(w=J,!w||Y)return;const ne=await Promise.resolve().then(e.t.bind(e,3305135794,23));c=ne.CheckAudioConnectivityFeedback,r=ne.CheckAudioInputFeedback,a=ne.CheckAudioOutputFeedback,i=ne.CheckCameraResolutionFeedback,l=ne.CheckContentShareConnectivityFeedback,m=ne.CheckNetworkTCPConnectivityFeedback,_=ne.CheckNetworkUDPConnectivityFeedback,h=ne.CheckVideoConnectivityFeedback,d=ne.CheckVideoInputFeedback,A=ne.ClientVideoStreamReceivingReport,I=ne.ConnectionHealthData,M=ne.DataMessage,O=ne.DefaultDeviceController,R=ne.DefaultMeetingReadinessChecker,P=ne.DefaultMeetingSession,L=ne.DefaultModality,F=ne.DefaultVideoTile,f=ne.LogLevel,x=ne.MeetingSessionConfiguration,b=ne.MeetingSessionStatus,v=ne.MeetingSessionStatusCode,k=ne.MeetingSessionVideoAvailability,B=ne.MutableVideoPreferences,W=ne.PermissionDeniedError,K=ne.TargetDisplaySize,u=ne.TranscriptItemType,g=ne.TranscriptionStatusType,H=ne.Versioning,z=ne.VideoPreference,Q=ne.VideoPreferences,q=ne.VideoPriorityBasedPolicy,$=ne.VideoPriorityBasedPolicyConfig,le=ne.VideoTileState,T=ne.AudioProfile,te=ne.VoiceFocusDeviceTransformer,ce=ne.DefaultBrowserBehavior,me=ne.DefaultVideoTransformDevice,_e=ne.BackgroundBlurVideoFrameProcessor,Ae=ne.BackgroundReplacementVideoFrameProcessor,ye=ne.CSPMonitor,ee=ne.VideoFxProcessor,V=ne.VideoCodecCapability,Y=!0}E(G,"setUseExpSDK");function Z(){return w}E(Z,"isUsingExpSDK");function se(){return O||D}E(se,"getDefaultDeviceController");function ae(){return D}E(ae,"getDefaultDeviceControllerDefault");function re(){return O}E(re,"getDefaultDeviceControllerExp");function pe(){return R||S}E(pe,"getDefaultMeetingReadinessChecker");function de(){return S}E(de,"getDefaultMeetingReadinessCheckerDefault");function ie(){return R}E(ie,"getDefaultMeetingReadinessCheckerExp");function he(){return P||U}E(he,"getDefaultMeetingSession");function ve(){return U}E(ve,"getDefaultMeetingSessionDefault");function ge(){return P}E(ge,"getDefaultMeetingSessionExp");function ke(){return te}E(ke,"getVoiceFocusDeviceTransformer");function Ne(){return me}E(Ne,"getDefaultVideoTransformDevice");function We(){return _e}E(We,"getBackgroundBlurVideoFrameProcessor");function Oe(){return o.BackgroundReplacementVideoFrameProcessor}E(Oe,"getBackgroundReplacementVideoFrameProcessor");function be(){return t.AudioProfile}E(be,"getAudioProfileDefault");function Ke(){return T}E(Ke,"getAudioProfileExp");function Fe(J){return!!J.type}E(Fe,"isTranscriptEventTranscriptionStatus")},252549317:(N,y,e)=>{"use strict";e.d(y,{LD:()=>r,MS:()=>a,Vd:()=>l,k0:()=>i});var t=e(8571983633),n=e(4094753332),o=e(9042410435);const s="4.30.79",c=[o.R.DesktopScreen,o.R.DesktopWindow];function r(){return!!(0,n.dY)(s)}E(r,"isWindowDrawingSupported");function a(m){return(0,t.A)(m)?o.f.None:m.startsWith("screen:")?o.f.Screen:m.startsWith("window:")?o.f.Window:o.f.Other}E(a,"determineContentShareTypeFromSourceId");function i(m){if(!(0,n.y3)())return o.R.BrowserContent;const _=a(m);if((0,n.y3)())switch(_){case o.f.Screen:return o.R.DesktopScreen;case o.f.Window:return o.R.DesktopWindow;default:return o.R.DesktopUnknown}return o.R.Unknown}E(i,"determineFullContentShareSourceType");function l(m){return c.includes(m)}E(l,"doesContentShareTypeSupportDrawing")},9042410435:(N,y,e)=>{"use strict";e.d(y,{R:()=>n,f:()=>t});var t;(function(o){o.Screen="screen",o.Window="window",o.Other="other",o.None="none"})(t||(t={}));var n;(function(o){o.DesktopScreen="desktop:screen",o.DesktopWindow="desktop:window",o.DesktopUnknown="desktop:unknown",o.BrowserContent="browser:content",o.MobileScreen="mobile:screen",o.Unknown="unknown"})(n||(n={}))},416787925:(N,y,e)=>{"use strict";e.d(y,{Bm:()=>l,LL:()=>a,On:()=>f,Zy:()=>r,dx:()=>c,my:()=>i,tk:()=>_});var t=e(2208015175),n=e(7174777686),o=e(8736071954),s=e(336376314);const c="default",r="communications",a=[o.lW.Microphone,o.lW.Camera,o.Q4];function i(v,u){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a;(0,t.A)(u,(p,A)=>{if(!(0,n.A)(g,A))return;if(!p.length){v.warn(`No ${A} devices available`);return}const C=new s.M(["id","label"]);p.forEach(T=>{C.add([T.id,T.label].map(String))}),v.info(`${A} devices:
${C.report()}`)})}E(i,"logDevices");function l(){return{camera:[],microphone:[],output:[]}}E(l,"createEmptyDevices");const m={audioinput:o.lW.Microphone,videoinput:o.lW.Camera,audiooutput:o.Q4};function _(v){const u=m[v.kind],g={id:v.deviceId,label:v.label||void 0,groupId:v.groupId||void 0};return h(u)?{...g,type:u}:{...g,type:u}}E(_,"makeDevice");function h(v){return v!==o.Q4}E(h,"isInputDeviceType");function d(v){return h(v.type)}E(d,"isInputDevice");function f(v){return v.replace(/ *?\([^)]*?\) *?/g,"")}E(f,"removeDeviceIdFromDeviceLabel")},1473609332:(N,y,e)=>{"use strict";e.d(y,{t3:()=>r,Bh:()=>_,i4:()=>d});var t=e(4103274853);function n(){return"0.1"}E(n,"getDevicePrefsVersion");var o=e(416787925),s=e(2825968873);const c="devicePrefs";function r(v){return(0,t.A)(v,u=>u[0])}E(r,"getPreferredDevices");function a(){return{camera:[],microphone:[o.dx,o.Zy],output:[o.dx,o.Zy]}}E(a,"createDefaultDevicePriority");function i(){return{camera:[],microphone:[],output:[]}}E(i,"createDefaultDeviceExtendedPriority");function l(){return{enableAGC:!0,enableNoiseSuppression:!0}}E(l,"createDefaultAudioPrefs");function m(){return{enableHD:!1,mirrorVideo:!1,effect:void 0}}E(m,"createDefaultVideoPrefs");function _(){const v=localStorage.getItem(c),u={version:n(),deviceIdPriorities:a(),deviceIdPrioritiesExtended:i(),video:m(),audio:l()};if(!v)return u;try{const g=JSON.parse(v);return g.version!==n()?u:{...u,...g}}catch(g){return(0,s.tZ)("DEVICES").error("Could not read device preferences from localStorage: ",g.message),u}}E(_,"readDevicePrefs");async function h(v){const u={},g=await navigator.mediaDevices.enumerateDevices();for(const p of Object.keys(v)){const A=[],C=p;for(let T=0;T<v[C].length;T++){const I=v[C][T],M=g.find(D=>D.deviceId===I);M&&A.push({id:M.deviceId,groupId:M.groupId,label:M.label,labelWithoutId:(0,o.On)(M.label)})}u[p]=A}return u}E(h,"updateDeviceIdPrioritiesExtended");async function d(v){try{const u=await h(v.deviceIdPriorities),g={...v,deviceIdPrioritiesExtended:u};localStorage.setItem(c,JSON.stringify(g))}catch(u){(0,s.tZ)("DEVICES").error("Could not write device preferences to localStorage: ",u.message)}}E(d,"writeDevicePrefs");function f(v,u){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const p=zipObject(u,range(u.length)),A=zipObject(g.map(C=>C.labelWithoutId),range(g.length));return sortBy(v,C=>{const T=removeDeviceIdFromDeviceLabel(C.label);return isUndefined(p[C.deviceId])?isUndefined(A[T])?1/0:A[T]:p[C.deviceId]})}E(f,"sortDevicesByPriorityWithFallback")},9195837907:(N,y,e)=>{"use strict";e.d(y,{t:()=>t});var t;(function(n){n.Blur="blur",n.Background="bg"})(t||(t={}))},7149946954:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>D});var t=e(8736071954),n=e(4518410378),o=e(5387083734),s=e(462591818),c=e(4094753332),r=e(337319621),a;(function(O){O.Granted="granted",O.Denied="denied",O.Prompt="prompt",O.NotDetermined="not-determined",O.Restricted="restricted",O.Unknown="unknown"})(a||(a={}));var i;(function(O){O.CAMERA="camera",O.MICROPHONE="microphone",O.SCREEN="display-capture"})(i||(i={}));const l={[s.mT.MICROPHONE]:i.MICROPHONE,[s.mT.CAMERA]:i.CAMERA,[s.mT.SCREEN]:i.SCREEN},m={[s.mT.MICROPHONE]:null,[s.mT.CAMERA]:null,[s.mT.SCREEN]:null},_=E(()=>({...m}),"getInitialPermissionsState");var h=e(6998663753),d=e(1545824888);let f=E(class{constructor(S){this.config=S,this.canAccessMediaResource=R=>{const U=this.wasPermissionGranted(R);return this.logger.info(`${R} permissions granted: ${U}`),{isAvailable:this.config.isElectronApiAvailable,status:this.permissions[R]}},this.requestMediaAccess=async R=>(this.updatePermissionsState(R,this.getDefaultAccessResult().status),this.logger.error("Requesting media access is not implemented for this device, but it is being called. This is likely a bug."),d.S.resolve({isAvailable:this.config.isElectronApiAvailable,isGranted:!0})),this.refreshAllPermissions=async()=>{try{await this.refreshDevicePermissionStatus(s.mT.MICROPHONE),await this.refreshDevicePermissionStatus(s.mT.CAMERA),await this.refreshDevicePermissionStatus(s.mT.SCREEN)}catch(R){this.logger.warn("An error occurred while refreshing device permissions",R)}},this.refreshDevicePermissionStatus=async R=>{this.updatePermissionsState(R,this.getDefaultAccessResult().status)},this.getDefaultAccessResult=()=>({isAvailable:this.config.isElectronApiAvailable,status:t.eJ.Granted}),this.updatePermissionsState=(R,U)=>{this.permissions[R]!==U&&(this.logger.info(`permission state for ${R} changed to ${U}`),this.permissions[R]=U,this.config.onPermissionsChange(this.permissions))},this.wasPermissionGranted=R=>{let U=!1;return this.permissions[R]&&(U=this.permissions[R]===t.eJ.Granted),U},this.hasNoKnownPermissions=R=>this.permissions[R]===null,this.logger=this.config.logger,this.permissions=this.config.initialState}},"DefaultDevicePermissions");var v=e(9323322135);let u=E(class extends f{constructor(S){super(S),this.refreshDevicePermissionStatus=async R=>{const{status:U}=await(0,v.XBC)(R);this.logger.info(`Received ${R} access status for desktop app: ${U}`),this.updatePermissionsState(R,U)},this.requestMediaAccess=async R=>{const{isAvailable:U,isGranted:P}=await(0,v.Nin)(R);return this.updatePermissionsState(R,P?t.eJ.Granted:t.eJ.Denied),{isAvailable:U,isGranted:!!P}}}},"DesktopDevicePermissions"),g=E(class extends f{constructor(S){super(S),this.refreshDevicePermissionStatus=async R=>{if(R===s.mT.SCREEN)return;const U=R===s.mT.MICROPHONE?"audioinput":"videoinput";try{const L=(await navigator.mediaDevices.enumerateDevices()).filter(x=>x.kind===U),F=L.length>0&&L.some(x=>x.label.trim()!=="");this.updatePermissionsState(R,F?t.eJ.Granted:t.eJ.NotDetermined)}catch{this.logger.error('An error occurred enumerating devices. Setting access status to "granted"'),this.updatePermissionsState(R,t.eJ.NotDetermined)}}}},"FirefoxDevicePermissions"),p=E(class extends f{constructor(...S){super(...S),this.changeHandlers=_(),this.refreshDevicePermissionStatus=async R=>{const U=await navigator.permissions.query({name:l[R]});this.updatePermissionsState(R,U.state),this.logger.info(`Received ${R} access status for browser: ${this.permissions[R]}`),this.maybeRegisterPermissionChangeListener(R,U)},this.maybeRegisterPermissionChangeListener=(R,U)=>{if(!this.changeHandlers[R]){const P=E(()=>this.onPermissionChangeEvent(R,U==null?void 0:U.state),"handler");U.addEventListener("change",P),this.changeHandlers[R]=P}},this.onPermissionChangeEvent=(R,U)=>{this.updatePermissionsState(R,U)}}},"BrowserDevicePermissions");var A=e(938698950);const C="device-permissions-state",T=7*24*60*60*1e3,I=5*1e3;class M{isPersistedStateTrustworthy(S){return!(!S||Date.now()-S>T)}savePermissionsToLocalStorage(S){try{const R={permissions:S,timestamp:Date.now()},U=JSON.stringify(R);localStorage.setItem(C,U),this.logger.info(`Permissions saved to local storage: ${U}`)}catch(R){this.logger.error("Error saving permissions to local storage",R)}}readPermissionsFromLocalStorage(){try{const S=localStorage.getItem(C);if(S){this.logger.info(`Permissions loaded from local storage ${S}`);const R=JSON.parse(S);return this.isPersistedStateTrustworthy(R==null?void 0:R.timestamp)?R.permissions:(this.logger.warn("Permissions not considered trustworthy. Requiring refresh"),null)}}catch(S){this.logger.error("Error reading permissions from local storage",S)}return null}constructor(){this.isSSB=(0,c.y3)(),this.logger=(0,r.Wo)({label:"DEVICE-PERMISSIONS-MANAGER"}),this.initialized=!1,this.init=(0,h.A)(async()=>{this.logger.info("Initializing media device permissions manager"),this.initialized=!0,this.permissionsStrategy=this.getStrategy(),setTimeout(this.refreshAllPermissions,I),this.logger.info("Scheduled permissions refresh")}),this.canAccessMediaResource=S=>{var R,U;return!((R=this.permissionsStrategy)===null||R===void 0)&&R.canAccessMediaResource?this.permissionsStrategy.canAccessMediaResource(S):{isAvailable:!!(!((U=this.config)===null||U===void 0)&&U.isElectronApiAvailable),status:t.eJ.Granted}},this.requestMediaAccess=async S=>{var R;return!((R=this.config)===null||R===void 0)&&R.isElectronApiAvailable?this.permissionsStrategy.requestMediaAccess(S):(this.logger.warn("Permissions strategy not available"),{isAvailable:!1,isGranted:!0})},this.getStrategy=()=>{const S={initialState:this.readPermissionsFromLocalStorage()||_(),isElectronApiAvailable:this.isSSB&&(0,c.cX)(),onPermissionsChange:this.onPermissionsChange,logger:this.logger};return this.config=S,(0,c.y3)()?(this.logger.info("Using desktop device permissions strategy"),new u(S)):(0,c.gm)()?(this.logger.info("Using Firefox device permissions strategy"),new g(S)):this.shouldUsePermissionsApi()?(this.logger.info("Using browser device permissions strategy"),new p(S)):(this.logger.info("Using default device permissions strategy"),new f(S))},this.onPermissionsChange=S=>{this.logger.info("Permissions changed",S),(0,A.pq)(),this.savePermissionsToLocalStorage(S)},this.refreshAllPermissions=async()=>{this.logger.info("Refreshing all permissions");try{await navigator.mediaDevices.enumerateDevices(),await this.refreshPermissions(s.mT.MICROPHONE),await this.refreshPermissions(s.mT.CAMERA),await this.refreshPermissions(s.mT.SCREEN)}catch(S){this.logger.warn("An error occurred while refreshing device permissions",S)}},this.refreshPermissions=async S=>(this.logger.debug(`Refreshing ${S} permissions`),(0,o.IE)("media-access-update",async()=>this.permissionsStrategy.refreshDevicePermissionStatus(S)).catch(R=>{this.logger.warn(`An error occurred while trying to check ${S} permissions`,R)})),this.shouldUsePermissionsApi=()=>!this.isSSB&&!(0,c.gm)()&&"permissions"in n.J.navigator,this.clearAllPermissions=()=>{this.initialized&&this.savePermissionsToLocalStorage(_())}}}E(M,"DevicePermissionsManager");const D=new M},938698950:(N,y,e)=>{"use strict";e.d(y,{$S:()=>Qe,_o:()=>Ce,Nj:()=>ze,T5:()=>Ge,Zy:()=>je,G0:()=>Be,pq:()=>Pe,cT:()=>nt,i_:()=>at,es:()=>Me});var t=e(8736071954),n;(function(we){we.Microphone="audioinput",we.Camera="videoinput",we.Speakers="audiooutput"})(n||(n={}));const o="default",s="communications",c={[n.Camera]:void 0,[n.Microphone]:o,[n.Speakers]:o},r=E(we=>({[t.lW.Microphone]:n.Microphone,[t.lW.Camera]:n.Camera,[t.Q4]:n.Speakers})[we],"adapter_mapDeviceTypeToDeviceKind"),a=E(we=>({[n.Microphone]:t.lW.Microphone,[n.Camera]:t.lW.Camera,[n.Speakers]:t.Q4})[we],"mapDeviceKindToDeviceType"),i=E(we=>{const xe=a(we.kind);return xe===t.Q4?{id:we.deviceId,label:we.label,groupId:we.groupId,type:t.Q4}:{id:we.deviceId,label:we.label,groupId:we.groupId,type:xe,track:void 0}},"adapter_mapMediaDeviceInfoToDevice");var l=e(337319621);const _=(0,l.Wo)({label:"DEVICE-PREFS"});var h=e(2028988448),d=e(4518410378),f=e(235108050),v=e(9113979368),u=e(4103274853),g=e(9268023148),p=e(2208015175),A=e(8289365785),C=e(4094753332),T=e(3078252698);const I=["ZoomAudioDevice (Virtual)"],O=["default","communications"],S=E(we=>O.includes(we),"isOSDefaultDeviceId"),R=E((we,xe)=>{if(S(we.deviceId))return!1;const Se=xe.find(Ye=>S(Ye.deviceId)&&Ye.kind===we.kind);return(Se==null?void 0:Se.groupId)===we.groupId&&(Se==null?void 0:Se.label.includes(we.label))},"isOSDefaultDeviceForType"),U=E(we=>{const xe=/iphone/,Se=we.label;if(!(0,T.A)(Se))return!1;const Ye=(0,C.cX)()&&Se&&xe.test(Se.toLowerCase()),ot=(Se==null?void 0:Se.toLowerCase().includes("display audio"))||Se.toLowerCase().includes("displayport");return Ye||ot},"shouldDeprioritizeDevice"),P=E(we=>!we.label||I.includes(we.label),"shouldRemoveDevice"),L=E(we=>we&&we.replace(/ *?\([a-zA-Z0-9]{4}:[a-zA-Z0-9]{4}\) *?/g,""),"removeDeviceFingerprintFromLabel"),F=E((we,xe)=>we.filter(Se=>Se.label).map(Se=>{let Ye=L(Se.label)||"";if(xe&&S(Se.deviceId)){const _t=xe[Se.kind];_t&&(Ye=`System Default (${_t})`)}return{deviceId:Se.deviceId,kind:Se.kind,label:Ye,groupId:Se.groupId}}),"scrubAvailableDevices"),x=E((we,xe)=>`${we}-${xe}`,"generateDeviceKey");var b=e(6696292586),k=e(6313685253),B=e(8086952004);const W="version",K=4,H={1:we=>we,2:we=>(0,u.A)(we,xe=>{if((0,b.A)(xe))return xe;const Se={...xe},Ye=L(xe.deviceLabel);return Ye&&Ye!==xe.deviceLabel&&(Se.deviceLabel=Ye),Se}),3:we=>(0,k.A)(we,(xe,Se,Ye)=>{if(!S(Ye)&&Ye!==W){const ot=(0,B.A)(we,(_t,pt)=>S(pt)&&_t.deviceInfo.kind===Se.deviceInfo.kind&&_t.deviceInfo.groupId===Se.deviceInfo.groupId&&_t.deviceInfo.label.includes(Se.deviceInfo.label));ot&&((!Se.used&&ot.used||Se.used&&ot.used&&Se.used<ot.used)&&(Se.used=ot.used),(!Se.selected&&ot.selected||Se.selected&&ot.selected&&Se.selected<ot.selected)&&(Se.selected=ot.selected)),xe[Ye]=Se}return xe},{}),4:we=>(0,k.A)(we,(xe,Se,Ye)=>{if((0,b.A)(Se))xe[Ye]=Se;else{const{deviceId:ot,kind:_t}=Se.deviceInfo,pt=x(ot,_t);xe[pt]=Se}return xe},{})},z=E(we=>we[W]!==K,"isMigrationNeeded"),Q=E(we=>{if(!H[K])throw new Error(`No migration found for version ${K}`);const xe=we[W]||0;if(xe===K)return we;let Se={...we};for(let Ye=xe;Ye<K;Ye++){const ot=Ye+1,_t=H[ot];Se=_t(Se),Se[W]=ot}return Se},"maybeMigrateDeviceHistory");var q=e(1649982175);const $="device-selection-records",le=_,te=E(()=>{let we;try{const xe=localStorage.getItem($);xe?(we=JSON.parse(xe),z(we)?(le.debug(`Migration needed for device selection history from ${we[W]} to ${K}`),we=Q(we)):le.debug("No migration needed for device selection history")):we=void 0}catch(xe){le.error("Failed to read device selection history from local storage",xe),we=void 0}return le.debug("Reading device selection history from local storage",we),we?(0,q.A)(we,W):void 0},"readSelectionHistoryFromLocalStorage"),ce=E(we=>{if(we){le.debug("Writing device selection history to local storage",we);try{const xe={...we,[W]:K};localStorage.setItem($,JSON.stringify(xe))}catch(xe){le.error("Failed to write device selection history to local storage",xe)}}},"saveDeviceSelectionRecordsToLocalStorage");var me=e(700984029),_e=e(4250409994),Ae=e(6533394955),ye=e(7384121809),oe=e(3783723764),ee=e(6217320234);class V{hasRecordForDevice(xe){return!!this.getRecord(xe)}getFormattedLabelForRecord(xe){const Se=this.getRecord(xe);return Se==null?void 0:Se.deviceLabel}wasDeviceSelected(xe){const Se=this.getRecord(xe);return!!(Se!=null&&Se.selected)}wasDeviceUsed(xe){const Se=this.getRecord(xe);return!!(Se!=null&&Se.used)}createRecord(xe){const Se=this.createEmptyDeviceSelectionRecord(xe);if(Se.deviceLabel){const Ye=this.findExistingRecordByLabel(xe,Se.deviceLabel);if(Ye){_.info(`Matching device record found for label: ${Ye.deviceLabel} ${Ye.deviceInfo.deviceId}`),this.removeRecord(Ye.deviceInfo),this.setRecord(xe,{...Ye,deviceInfo:xe});return}}this.setRecord(xe,Se)}updateDeviceUsed(xe){const Se=this.getRecord(xe);Se&&(_.info(`Removing device selection record for used device ${xe.deviceId}`),this.setRecord(xe,{...Se,used:Date.now()}))}updateDeviceSelected(xe){const Se=this.getRecord(xe);Se&&(_.info(`Updating device selection record for selected device ${xe.deviceId}`),this.setRecord(xe,{...Se,selected:Date.now()}))}updateDeviceLabel(xe){this.getRecord(xe)&&_.info(`Updating device selection record for label ${xe.label} ${xe.deviceId}`)}updateDeviceInfo(xe){const Se=this.getRecord(xe);Se&&(_.debug(`Updating device selection record for device info ${xe.label} ${xe.deviceId}`),this.setRecord(xe,{...Se,deviceLabel:xe.label,deviceInfo:xe}))}persistToLocalStorage(){_.info("Persisting device selection records to local storage"),ce(this.records)}initFromLocalStorage(){this.records=te()||{},_.info("Initializing device preferences manager from local storage")}setRecord(xe,Se){const{deviceId:Ye,kind:ot}=xe,_t=x(Ye,ot);_.debug(`Setting device selection record for ${_t}`,Se),this.records[_t]=Se}getRecord(xe){let{deviceId:Se,kind:Ye}=xe;const ot=x(Se,Ye);return this.records[ot]}removeRecord(xe){const{deviceId:Se,kind:Ye}=xe,ot=x(Se,Ye);_.info(`Removing device selection record for ${ot}`),delete this.records[ot]}findExistingRecordByLabel(xe,Se){return Object.values(this.records).find(ot=>ot.deviceLabel===Se&&ot.deviceInfo.kind===xe.kind)}constructor(){this.records={},this.init=()=>{this.initFromLocalStorage(),this.printRecords()},this.getAllRecordsForTesting=()=>({...this.records}),this.getDeviceInfoForRecord=xe=>{const Se=this.getRecord(xe);if(Se)return{...Se.deviceInfo}},this.sortDevicesByLastSelection=xe=>(0,oe.A)(xe,Se=>{var Ye;return(Ye=this.records[x(Se.deviceId,Se.kind)])===null||Ye===void 0?void 0:Ye.selected},"desc"),this.sortDevicesByLastUsed=xe=>(0,oe.A)(xe,Se=>{var Ye;return(Ye=this.records[x(Se.deviceId,Se.kind)])===null||Ye===void 0?void 0:Ye.used},"desc"),this.sortDevicesByLabel=xe=>(0,ee.A)(xe,Se=>Se.label),this.printRecords=()=>{_.info("Device selection records:",this.records)},this.getAllRecordsForInitializationAnalyses=()=>(_.info("Returning all records for initialization analyses"),this.records),this.createEmptyDeviceSelectionRecord=xe=>({deviceInfo:xe,deviceLabel:xe.label,selected:null,used:null})}}E(V,"DeviceSelectionRecordsStore");let w;const Y=E(()=>(w||(w=new V),w),"getDeviceSelectionRecordStore");class G{constructor(){this.logger=_,this.deviceSelectionRecords=Y(),this.availableDevices=[],this.currentTeamId=null,this.useDevicesExp=!1,this.updatingAvailableDevicesPromise=null,this.enqueuedPreferenceUpdates={[n.Microphone]:!1,[n.Camera]:!1,[n.Speakers]:!1},this.osDefaultDevices={[n.Microphone]:null,[n.Camera]:null,[n.Speakers]:null},this.prioritizedDeviceLists={[n.Microphone]:[],[n.Camera]:[],[n.Speakers]:[]},this.preferredDevices={[n.Microphone]:void 0,[n.Camera]:void 0,[n.Speakers]:void 0},this.init=async xe=>{let{teamId:Se,useDevicesExp:Ye}=xe;if(this.deviceSelectionRecords.init(),Se!==this.currentTeamId){this.useDevicesExp=Ye,this.useDevicesExp&&this.logger.info("Initializing device preferences manager with experimental features"),this.currentTeamId=Se,this.dispatch=(0,Ae.oK)(Se).dispatch;try{await this.updateAvailableDevices(),navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceListChange)}catch(ot){this.logger.error("Error initializing device preferences manager",ot)}}},this.refreshAvailableDevices=async()=>{await this.updateAvailableDevices()},this.getPreferredDeviceOfType=xe=>{const Se=this.useDevicesExp?this.preferredDevices[xe]:this.getPrioritizedDeviceListOfType(xe)[0];return this.useDevicesExp&&this.logger.debug(`(EXP) Returning preferred ${xe} device: label: ${Se==null?void 0:Se.label}, id: ${Se==null?void 0:Se.deviceId}`),Se},this.getPrioritizedDeviceListOfType=xe=>{if(this.useDevicesExp){const Se=this.getDeviceListOfType(xe);this.logger.debug(`(EXP) Returning prioritized ${xe} device list labels: ${Se.map(Ye=>Ye.label)}`)}return this.prioritizedDeviceLists[xe]},this.getDeviceListOfType=xe=>{const Ye=this.availableDevices.filter(ot=>ot.kind===xe&&ot.deviceId!=="communications").find(ot=>ot.deviceId==="default");return Ye?(0,f.A)([Ye,...this.prioritizedDeviceLists[xe]]):this.prioritizedDeviceLists[xe]},this.recordDeviceSelected=(xe,Se)=>{try{const{deviceId:Ye,deviceLabel:ot}=this.lookupDeviceDetailsById(xe,Se);if(!Ye){this.logger.warn("Device record not found for selected device id",xe);return}if(!this.deviceSelectionRecords.hasRecordForDevice({deviceId:Ye,kind:Se})){this.logger.warn("No device selection record found for device id",Ye);return}this.logger.info(`Reporting ${Se} device selected, label: ${ot}, id: ${Ye}`),this.deviceSelectionRecords.updateDeviceSelected({deviceId:Ye,kind:Se}),this.propagateUpdateToExternalStores()}catch(Ye){this.logger.error("Error reporting device selected",Ye)}},this.recordDeviceUsed=(xe,Se)=>{try{const{deviceId:Ye,deviceLabel:ot}=this.lookupDeviceDetailsById(xe,Se);if(!Ye){this.logger.warn("Device record not found for used device id",xe);return}this.logger.info(`Reporting ${Se} device used, label: ${ot}, id: ${Ye}`),this.deviceSelectionRecords.updateDeviceUsed({deviceId:Ye,kind:Se}),this.propagateUpdateToExternalStores()}catch(Ye){this.logger.error("Error reporting device used",Ye)}},this.getOSDefaults=()=>this.osDefaultDevices,this.clearDeviceSelectionRecords=()=>{ce({})},this.lookupDeviceDetailsById=(xe,Se)=>{(0,v.A)(this.prioritizedDeviceLists[Se])&&this.updateAvailableDevices();const Ye={deviceId:null,deviceLabel:null},ot=!this.useDevicesExp&&S(xe)?this.osDefaultDevices[Se]:xe;if(ot&&!this.useDevicesExp&&S(ot)&&this.logger.warn(`OS default device id (${xe}) used for details. This should not happen`),!ot)return this.logger.warn("Device record not found for device id",ot),Ye;Ye.deviceId=ot;const _t=this.deviceSelectionRecords.getFormattedLabelForRecord({deviceId:ot,kind:Se}),pt=L(_t);return pt?(Ye.deviceLabel=pt,Ye):(this.logger.warn("Device record not found for device id",ot),Ye)},this.getOSDefaultDeviceLabels=xe=>{const Se=(0,u.A)(this.osDefaultDevices,Ye=>{if(!Ye)return"";const ot=xe.find(_t=>_t.deviceId===Ye);return ot!=null&&ot.label&&L(ot.label)||""});return{[n.Microphone]:Se.audioinput||"",[n.Camera]:Se.videoinput||"",[n.Speakers]:Se.audiooutput||""}},this.updateAvailableDevices=async()=>{if(this.updatingAvailableDevicesPromise)return this.logger.info("Available devices update already in progress. Returning existing promise."),this.updatingAvailableDevicesPromise;const xe=E(async Se=>{try{this.logger.info("Updating available devices");const Ye=await d.J.navigator.mediaDevices.enumerateDevices();this.logger.info(`Available devices ${JSON.stringify(Ye,null,2)}`),this.updateOSDefaults(Ye),this.availableDevices=F(Ye,this.useDevicesExp?this.getOSDefaultDeviceLabels(Ye):void 0),this.updateDeviceRecords(this.availableDevices),this.logger.info("Updated device records after device list update. Propagating update"),this.propagateUpdateToExternalStores(),Se()}catch(Ye){this.logger.error("Error updating available devices",Ye),Se()}finally{this.updatingAvailableDevicesPromise=null}},"updateFn");return this.updatingAvailableDevicesPromise=new Promise(xe),this.updatingAvailableDevicesPromise},this.waitForDeviceListUpdate=async()=>{await this.updateAvailableDevices()},this.updatePrioritizedDeviceLists=()=>{this.logger.debug("Updating prioritized device lists"),this.updatePrioritizedDeviceListOfType(n.Microphone),this.logger.debug("Updated mics",this.prioritizedDeviceLists[n.Microphone]),this.updatePrioritizedDeviceListOfType(n.Camera),this.logger.debug("Updated cameras",this.prioritizedDeviceLists[n.Camera]),this.updatePrioritizedDeviceListOfType(n.Speakers),this.logger.debug("Updated speakers",this.prioritizedDeviceLists[n.Speakers])},this.handleDeviceListChange=(0,g.A)(async()=>{try{this.logger.info(`Device list change event received at ${Date.now()}`),await this.updateAvailableDevices()}catch(xe){this.logger.error("Error handling device list change event",xe)}},1e3,{leading:!1,trailing:!0,maxWait:2e3}),this.updateOSDefaults=xe=>{this.logger.info("Updating OS default devices",xe),xe.forEach(Se=>{R(Se,xe)&&Se.deviceId&&(this.osDefaultDevices[Se.kind]=Se.deviceId)})},this.updateDeviceRecords=xe=>{(0,p.A)(xe,Se=>{if(!Se.deviceId||!this.useDevicesExp&&S(Se.deviceId))return;const Ye=this.deviceSelectionRecords.hasRecordForDevice(Se),ot=this.deviceSelectionRecords.getFormattedLabelForRecord(Se),_t=this.deviceSelectionRecords.getDeviceInfoForRecord(Se);if(Ye&&_t&&_t.kind!==Se.kind){this.logger.warn(`device id collision between ${_t.kind} device (${_t.label}) and ${Se.kind} device (${Se.label})`);return}Ye&&Se.label&&ot!==Se.label&&(this.deviceSelectionRecords.updateDeviceInfo(Se),this.logger.info(`Device label updated from ${ot} to ${Se.label}`)),Ye?(this.logger.debug(`Device history record found for ${Se.label} ${Se.deviceId}`),this.deviceSelectionRecords.updateDeviceInfo(Se)):(this.logger.info(`Creating new device history record for ${Se.label} ${Se.deviceId}`),this.deviceSelectionRecords.createRecord(Se));const pt=R(Se,xe);if(!this.useDevicesExp&&pt&&this.osDefaultDevices[Se.kind]!==Se.deviceId){var vt;const Tt=((vt=this.getPreferredDeviceOfType(Se.kind))===null||vt===void 0?void 0:vt.deviceId)===this.osDefaultDevices[Se.kind];this.osDefaultDevices[Se.kind]=Se.deviceId,this.logger.info(`OS default device updated for ${Se.kind}: ${Se.label} ${Se.deviceId}`),Tt&&(this.logger.info(`Preferred ${Se.kind} OS default has changed to: ${Se.label} ${Se.deviceId}. Recording as selected.`),this.recordDeviceSelected(Se.deviceId,Se.kind))}})},this.updatePrioritizedDeviceListOfType=xe=>{var Se,Ye;let ot=null;const _t=[],pt=[],vt=[],yt=[];this.availableDevices.forEach(kt=>{const Bt=kt.deviceId===this.osDefaultDevices[kt.kind];if(this.useDevicesExp){if(kt.kind!==xe)return}else if(kt.kind!==xe||S(kt.deviceId))return;const St=this.deviceSelectionRecords.getDeviceInfoForRecord(kt);if(!St){this.logger.error("No selection record found for device",kt);return}if(!P(St)){if(this.deviceSelectionRecords.wasDeviceSelected(St)){_t.push(St);return}if(!this.useDevicesExp&&this.deviceSelectionRecords.wasDeviceUsed(St)){pt.push(St);return}if(U(St)){vt.push(St);return}if(!this.useDevicesExp&&Bt){ot=St;return}yt.push(St)}});const Tt=[];Tt.push(...this.deviceSelectionRecords.sortDevicesByLastSelection(_t)),this.useDevicesExp||Tt.push(...this.deviceSelectionRecords.sortDevicesByLastUsed(pt)),this.useDevicesExp||Tt.push(ot),Tt.push(...this.deviceSelectionRecords.sortDevicesByLabel(yt)),Tt.push(...vt);const ft=(0,f.A)(Tt).filter(Boolean),Ct=(Se=(0,A.A)(ft))===null||Se===void 0?void 0:Se.deviceId;if(Ct&&Ct!==((Ye=this.prioritizedDeviceLists[xe][0])===null||Ye===void 0?void 0:Ye.deviceId)&&(this.enqueuedPreferenceUpdates[xe]=!0),ft&&(this.prioritizedDeviceLists[xe]=ft,this.useDevicesExp)){const kt=(0,A.A)(ft);this.preferredDevices[xe]=kt||void 0,this.logger.debug(`(EXP) Preferred device updated for ${xe}: label: ${kt==null?void 0:kt.label}, id: ${kt==null?void 0:kt.deviceId}`)}return ft},this.updateDevicesInHuddle=()=>{const xe=E(Se=>{var Ye;const ot=(Ye=this.getPreferredDeviceOfType(Se))===null||Ye===void 0?void 0:Ye.deviceId;!ot||!this.enqueuedPreferenceUpdates[Se]||(this.enqueuedPreferenceUpdates[Se]=!1,(0,ye.dispatchForClientStore)((0,_e.HC)({id:ot,type:a(Se)})),this.logger.info(`Setting preferred ${Se} device in huddle`,ot))},"maybeApplyPreference");xe(n.Microphone),xe(n.Speakers),xe(n.Camera)},this.propagateUpdateToExternalStores=()=>{this.deviceSelectionRecords.persistToLocalStorage(),this.updatePrioritizedDeviceLists(),this.logger.info("Propagating device selection history update"),this.dispatch((0,me.Fb)(void 0)),this.updateDevicesInHuddle()}}}E(G,"DevicePreferencesManager");const Z=new G,se={printDeviceSelectionRecords:()=>{const we=Y().getAllRecordsForTesting(),xe=(0,u.A)(we,Se=>{var Ye;return{deviceId:Se.deviceInfo.deviceId,label:Se.deviceLabel,type:Se.deviceInfo.kind,"is preferred":((Ye=Z.getPreferredDeviceOfType(Se.deviceInfo.kind))===null||Ye===void 0?void 0:Ye.deviceId)===Se.deviceInfo.deviceId,"last selected":Se.selected?Se.selected.toString():"Never selected","last used":Se.used?Se.used.toString():"Never used","is available":!!Z.getPrioritizedDeviceListOfType(Se.deviceInfo.kind).find(ot=>ot.deviceId===Se.deviceInfo.deviceId),"is OS default":Se.deviceInfo.deviceId===Z.getOSDefaults()[Se.deviceInfo.kind],groupId:Se.deviceInfo.groupId}});console.log("Device selection records"),console.table(xe)},printPreferredMicrophone:()=>{const we=Z.getPreferredDeviceOfType(n.Microphone);console.log("Preferred microphone",we)},printPreferredCamera:()=>{const we=Z.getPreferredDeviceOfType(n.Camera);console.log("Preferred camera",we)},printPreferredSpeakers:()=>{const we=Z.getPreferredDeviceOfType(n.Speakers);console.log("Preferred speakers",we)},printPrioritizedDeviceLists:()=>{const we=(0,u.A)(Z.getOSDefaults(),(xe,Se)=>Z.getPrioritizedDeviceListOfType(Se));(0,p.A)(we,(xe,Se)=>{const Ye=xe.map(ot=>({deviceId:ot.deviceId,label:ot.label,groupId:ot.groupId}));console.log(`Prioritized list for ${Se}`),console.table(Ye)})},printRawDeviceList:async()=>{const we=await d.J.navigator.mediaDevices.enumerateDevices();console.log("Available devices"),we.forEach(xe=>{console.log(xe)})},printDebugInfo:()=>{se.printDeviceSelectionRecords(),se.printPrioritizedDeviceLists(),se.printPreferredMicrophone(),se.printPreferredCamera(),se.printPreferredSpeakers(),se.printRawDeviceList()},clearDeviceSelectionRecords:()=>{Z.clearDeviceSelectionRecords(),d.J.location.reload()}};(0,h.ul)("devices",se);const ae=Z;var re=e(7715417323);const pe="preferred-media-devices",de=Y(),ie=E(()=>{try{const we=!localStorage.getItem(pe);return we&&_.info("No preferred devices found in local storage."),we}catch(we){_.error("Error checking if no preferred devices in local storage",we)}return!0},"hasNoPreferredDevicesInLocalStorage"),he=E(()=>{try{const we=localStorage.getItem(pe);if(!we){_.info("No preferred devices found in local storage. Detecting preferences from selection records"),de.init();const Se=(0,oe.A)(de.getAllRecordsForTesting(),"selected",["desc"]),Ye=E(ot=>{var _t,pt;const vt=Se.find(yt=>{var Tt;return yt.selected&&((Tt=yt.deviceInfo)===null||Tt===void 0?void 0:Tt.kind)===ot});if(!(!(!(vt==null||(_t=vt.deviceInfo)===null||_t===void 0)&&_t.deviceId)&&ot===n.Camera))return(vt==null||(pt=vt.deviceInfo)===null||pt===void 0?void 0:pt.deviceId)||o},"findMostRecentDevice");return{[n.Camera]:Ye(n.Camera),[n.Microphone]:Ye(n.Microphone)||o,[n.Speakers]:Ye(n.Speakers)||o}}const xe=JSON.parse(we);return xe[n.Camera]===o&&(xe[n.Camera]=void 0),xe}catch(we){_.error("Error getting preferred devices from local storage",we)}return c},"getPreferredDevicesFromLocalStorage"),ve=E(we=>{try{const xe=JSON.stringify(we);localStorage.setItem(pe,xe)}catch(xe){_.error("Error setting preferred devices in local storage",xe)}},"setPreferredDevicesInLocalStorage");var ge=e(6471059816),ke=e(9365970888);const Ne=new ge.Ay("device-preferences");class We{getPreferredDeviceOfType(xe){if(this.availableDevices)return this.getPrioritizedDeviceListOfType(xe)[0]}validatePreferredDevices(){if(!this.availableDevices)return;const xe=new Set(this.availableDevices.map(Se=>Se.deviceId));Object.entries(this.preferredDevices).forEach(Se=>{let[Ye,ot]=Se;!xe.has(ot)&&Ye!==n.Camera&&(this.logger.warn(`Preferred ${Ye} device (${ot}) not found. Resetting to OS default.`),this.preferredDevices[Ye]=o)}),this.logger.debug("Preferred devices validated",this.preferredDevices)}recordOSDefaultDeviceIds(){this.availableDevices&&(this.availableDevices.forEach(xe=>{if(xe.deviceId===o){var Se;const Ye=(Se=this.availableDevices)===null||Se===void 0?void 0:Se.find(ot=>ot.deviceId!==o&&ot.groupId===xe.groupId&&ot.kind===xe.kind&&xe.label.includes(ot.label));Ye!=null&&Ye.deviceId&&this.osDefaultDeviceIds&&(this.osDefaultDeviceIds[xe.kind]=Ye.deviceId,this.logger.info(`Recorded OS default device for ${xe.kind}: ${Ye.deviceId}`))}}),this.logger.debug("OS default device IDs recorded",this.osDefaultDeviceIds))}scrubDeviceLabels(){const xe=this.availableDevices;!xe||!this.osDefaultDeviceIds||(this.availableDevices=xe.map(Se=>{if(Se.deviceId===o){var Ye;const ot=(Ye=this.osDefaultDeviceIds)===null||Ye===void 0?void 0:Ye[Se.kind],_t=this.findDeviceByKindAndId(Se.kind,ot);if(ot&&_t){const pt=L(_t.label),yt=this.useDevicesExp?Ne.t("System Default ({deviceName})",{deviceName:pt}):`System Default (${pt})`;return this.logger.info(`Amending label for OS default ${Se.kind} device: ${Se.label} -> ${yt}`),{groupId:Se.groupId,kind:Se.kind,deviceId:o,label:yt}}}return{groupId:Se.groupId,kind:Se.kind,deviceId:Se.deviceId,label:L(Se.label)||"Unknown Device"}}),this.logger.debug("Device labels scrubbed",this.availableDevices))}findDeviceByKindAndId(xe,Se){var Ye;return(Ye=this.availableDevices)===null||Ye===void 0?void 0:Ye.find(ot=>ot.kind===xe&&ot.deviceId===Se)}constructor(){this.preferredDevices=c,this.teamId=null,this.useDevicesExp=null,this.availableDevices=null,this.osDefaultDeviceIds=c,this.updatingAvailableDevicesPromise=null,this.logger=_,this.noPrefsOnBoot=!1,this.init=async xe=>{let{teamId:Se,useDevicesExp:Ye}=xe;this.teamId=Se,this.useDevicesExp=Ye,this.useDevicesExp&&this.logger.info("Using experimental device manager"),this.noPrefsOnBoot=ie(),this.preferredDevices=he()||c,this.logger.debug("Preferred devices loaded from local storage",this.preferredDevices),this.dispatch=(0,Ae.oK)(this.teamId).dispatch,await this.updateAvailableDevices(),this.maybeSetInitialDevicePrefToOSDefault(),this.updateDeviceListChangeHandler(),this.logger.info("Device preferences manager initialized")},this.recordDeviceUsed=(xe,Se)=>(0,re.A)(),this.recordDeviceSelected=(xe,Se)=>{if(this.logger.info(`Recording selected ${Se} device: ${xe}`),!!this.preferredDevices){if(this.preferredDevices[Se]===xe&&!this.reduxDeviceStoreNeedsUpdate(Se)){this.logger.info(`Device ${xe} already selected. No action taken.`);return}this.preferredDevices[Se]=xe,ve(this.preferredDevices),this.propagateUpdateToExternalStores(Se)}},this.getPrioritizedDeviceListOfType=xe=>{if(!this.availableDevices)return[];const Se=[],Ye=this.findDeviceByKindAndId(xe,this.preferredDevices[xe]);Ye&&Se.push(Ye);const ot=this.findDeviceByKindAndId(xe,o);ot&&Se.push(ot);const _t=this.availableDevices.filter(pt=>pt.kind===xe&&pt.deviceId!==s);return _t.sort((pt,vt)=>pt.label.localeCompare(vt.label)),(0,f.A)([...Se,..._t]).filter(Boolean)},this.handleDeviceListChange=async()=>{try{this.logger.info(`Device list change event received at ${Date.now()}`),await this.updateAvailableDevices()}catch(xe){this.logger.error("Error handling device list change event",xe)}},this.updateDeviceListChangeHandler=()=>{d.J.navigator.mediaDevices.removeEventListener("devicechange",this.handleDeviceListChange),d.J.navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceListChange),this.logger.info("Device list change handler updated")},this.maybeSetInitialDevicePrefToOSDefault=()=>{if(this.noPrefsOnBoot){const xe=this.osDefaultDeviceIds;if(!xe)return;(0,p.A)(this.preferredDevices,(Se,Ye)=>{const ot=xe[Ye];Se===ot&&Ye!==n.Camera&&(this.logger.info(`Preferred ${Ye} device matches OS default. Updating to OS default`),this.recordDeviceSelected(o,Ye))})}},this.updateAvailableDevices=async()=>{if(this.updatingAvailableDevicesPromise)return this.logger.info("Available devices update already in progress. Returning existing promise."),this.updatingAvailableDevicesPromise;const xe=E(async Se=>{try{const Ye=await d.J.navigator.mediaDevices.enumerateDevices();this.availableDevices=Ye,this.logger.debug("Device list updated",this.availableDevices),this.validatePreferredDevices(),this.recordOSDefaultDeviceIds(),this.scrubDeviceLabels(),this.propagateUpdateToExternalStores(),this.logger.info("Device list update complete"),Se()}catch(Ye){this.logger.error("Error updating available devices",Ye),Se()}finally{this.updatingAvailableDevicesPromise=null}},"updateFn");return this.updatingAvailableDevicesPromise=new Promise(xe),this.updatingAvailableDevicesPromise},this.waitForDeviceListUpdate=async()=>{await this.updateAvailableDevices()},this.refreshAvailableDevices=async()=>{await this.updateAvailableDevices()},this.reduxDeviceStoreNeedsUpdate=xe=>{var Se,Ye,ot;const _t=(0,Ae.oK)(this.teamId).getState();return{[n.Microphone]:(Se=(0,ke.I7)(_t))===null||Se===void 0?void 0:Se.id,[n.Camera]:(Ye=(0,ke.Ls)(_t))===null||Ye===void 0?void 0:Ye.id,[n.Speakers]:(ot=(0,ke.QM)(_t))===null||ot===void 0?void 0:ot.id}[xe]!==this.preferredDevices[xe]},this.propagateUpdateToExternalStores=(0,g.A)(xe=>{ve(this.preferredDevices),this.logger.info("Propagating device selection history update"),this.dispatch((0,me.Fb)(void 0)),this.updateDevicesInHuddle(xe)},300),this.updateDevicesInHuddle=xe=>{const Se=E(Ye=>{var ot;const _t=(ot=this.getPreferredDeviceOfType(Ye))===null||ot===void 0?void 0:ot.deviceId;_t&&((0,ye.dispatchForClientStore)((0,_e.HC)({id:_t,type:a(Ye)})),this.logger.info(`Setting preferred ${Ye} device in huddle`,_t))},"maybeApplyPreference");xe?Se(xe):(Se(n.Microphone),Se(n.Speakers),Se(n.Camera))}}}E(We,"manager_exp_DevicePreferencesManager");const be=new We,Ke=E(()=>{try{_.info("Analyzing stored device records");const xe=Y().getAllRecordsForInitializationAnalyses(),Se={totalRecords:Object.keys(xe).length,webAudioDevices:0,webAudioSelectedDevices:0,webAudioUsedDevices:0,microphoneCount:0,speakerCount:0,cameraCount:0};return Object.values(xe).forEach(Ye=>{switch(Ye.deviceInfo.kind){case n.Microphone:Se.microphoneCount+=1;break;case n.Speakers:Se.speakerCount+=1;break;case n.Camera:Se.cameraCount+=1;break;default:break}Ye.deviceInfo.deviceId.startsWith("webaudio-")&&(Se.webAudioDevices+=1,Ye.selected&&(Se.webAudioSelectedDevices+=1),Ye.used&&(Se.webAudioUsedDevices+=1))}),_.info("Device selection records analysis:",Se),Se.webAudioDevices>0&&_.warn(`Webaudio device records found: total=${Se.webAudioDevices}, selected=${Se.webAudioSelectedDevices}, used=${Se.webAudioUsedDevices}`),Se}catch(we){return _.warn("Error analyzing device records:",we),{totalRecords:0,webAudioDevices:0,webAudioSelectedDevices:0,webAudioUsedDevices:0,microphoneCount:0,speakerCount:0,cameraCount:0}}},"analyzeDeviceRecords");let Fe=null,J=ae,ne=null;const je=E(async we=>{let{teamId:xe,useDevicesExp:Se}=we;!xe||Fe===xe||(_.info(`Initializing device preferences manager with teamId: ${xe} and useDevicesExp: ${Se}`),Fe=xe,Se?J=be:J=ae,await J.init({teamId:xe,useDevicesExp:Se}),ne=Ke(),_.info("Device preferences manager initialized"))},"initializeDevicePreferences"),at=E((we,xe)=>{if(!Fe)return;const Se=r(xe);J.recordDeviceUsed(we,Se)},"reportDeviceUsed"),nt=E((we,xe)=>{if(!Fe)return;const Se=r(xe);J.recordDeviceSelected(we,Se)},"reportDeviceSelected"),Ge=E(()=>{if(!Fe)return;const we=J.getPrioritizedDeviceListOfType(n.Microphone)||[],xe=J.getPrioritizedDeviceListOfType(n.Camera)||[],Se=J.getPrioritizedDeviceListOfType(n.Speakers)||[];return{[t.lW.Microphone]:we.map(i),[t.lW.Camera]:xe.map(i),[t.Q4]:Se.map(i)}},"getPrioritizedDeviceLists"),Pe=E(async()=>{Fe&&await J.refreshAvailableDevices()},"refreshDeviceListsOnDevicePermissionsUpdate"),Le=E(we=>{if(!Fe)return;const xe=mapDeviceTypeToDeviceKind(we);return J.getPrioritizedDeviceListOfType(xe).map(mapMediaDeviceInfoToDevice)},"getPrioritizedDeviceListOfType"),ze=E(we=>{if(!Fe)return;const xe=r(we),Se=J.getPreferredDeviceOfType(xe);if(!Se){_.warn(`No preferred device found for type ${we}. Returning undefined. If this happens, the user will likely report that their device is not working. They may also have revoked or not given permission to use the device.`);return}return _.debug(`Returning preferred ${we} device`,Se.deviceId),i(Se)},"getPreferredDeviceOfType"),Me=E(async()=>{Fe&&await J.waitForDeviceListUpdate()},"waitForDeviceListUpdate"),Ce=E(()=>{var we;return((we=ze(t.Q4))===null||we===void 0?void 0:we.id)||"default"},"getPreferredAudioSinkId"),Qe=E(()=>ne,"getDeviceRecordStats"),Be=E(()=>!!Fe,"isDevicePreferencesManagerInitialized")},63202349:(N,y,e)=>{"use strict";e.d(y,{k:()=>r});var t=e(6664301844),n=e(2825968873),o=e(3812058736),s=e(2028988448);const c={debug:0,info:1,warn:2,error:3,action:0};class r{debug(i){if(!(this.level>t.$b.DEBUG||!r.debugLogsEnabled))if(typeof i=="string"){const l=i;this.consoleLogger.debug(l)}else{const l=i();this.consoleLogger.debug(l)}}info(i){this.level>t.$b.INFO||this.consoleLogger.info(i)}warn(i){this.level>t.$b.WARN||this.consoleLogger.warn(i)}error(i){this.level>t.$b.ERROR||this.callLogger.error(i)}setLogLevel(i){this.level=i}getLogLevel(){return this.level}getName(){return this.name}constructor(i,l){this.name=i,this.level=l||c[(0,o.XM)()],this.consoleLogger=(0,n.Cc)(i),this.callLogger=(0,n.Jt)(i)}}E(r,"FreeWillyLogger"),r.debugLogsEnabled=!1,(0,s.ul)("toggleChimeDebugLogs",()=>{r.debugLogsEnabled=!r.debugLogsEnabled})},7450490805:(N,y,e)=>{"use strict";e.d(y,{Y:()=>ms});var t=e(1649982175),n=e(6664301844),o=e(1890776492),s=e(7344959578),c=e(2825968873),r=e(8736071954),a=e(7561130599),i=e(4708000837),l=e(462591818),m=e(2003990933),_=e(9268023148),h=e(3078252698),d=e(4094753332),f=e(6815073048),v=e(2709531527),u=e(6246464105),g=e(9853754481);let p=E(class{getLevel(){return this.analyserNode.getByteTimeDomainData(this.data),(0,g.n2)(this.data)/g.Ep}constructor(X){this.analyserNode=X,this.data=new Uint8Array(this.analyserNode.fftSize)}},"AudioAnalyser");var A=e(9009528296);const C=300;class T{stop(){this.previewAudioAnalyser=void 0,clearTimeout(this.timeoutId)}setPreviewAudioAnalyser(X){this.previewAudioAnalyser=X}constructor(){this.timeoutId=-1,this.monitorAudioLevel=()=>{this.previewAudioAnalyser&&A.A.subscriberCount>0&&A.A.publish(this.previewAudioAnalyser.getLevel()),this.timeoutId=window.setTimeout(this.monitorAudioLevel,C)},this.monitorAudioLevel()}}E(T,"AudioLevelMonitor");function I(Je,X){let{skipIntermediatePendingRuns:ue=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ee=!1,Te=[];const He=E(async function(){for(var $e=arguments.length,it=new Array($e),ht=0;ht<$e;ht++)it[ht]=arguments[ht];if(Ee){ue&&(Te=[]);const Ut=(0,o.u)();return Te.push({args:it,deferred:Ut}),Ut}Ee=!0;const Kt=await X.call(Je,...it);Ee=!1;const It=Te.shift();return It&&He(...It.args).then(It.deferred.resolve).catch(It.deferred.reject),Kt},"run");return He}E(I,"serialGuard");var M=e(3496486794),D=e(938698950);class O{initialize(X){let{preferredDeviceId:ue}=X;var Ee,Te,He,$e,it,ht,Kt,It,Ut,ln,sn,dn,gn,In;if(!(!((Ee=this.defaultDeviceController)===null||Ee===void 0||(Te=Ee.activeDevices)===null||Te===void 0||(He=Te.audio)===null||He===void 0||($e=He.stream)===null||$e===void 0)&&$e.getAudioTracks))return;const Vn=this.defaultDeviceController;if(!(!((it=this.defaultDeviceController)===null||it===void 0||(ht=it.activeDevices)===null||ht===void 0||(Kt=ht.audio)===null||Kt===void 0||(It=Kt.stream)===null||It===void 0)&&It.getAudioTracks)){this.logger.warn("Unable to retrieve audio tracks from the default device controller");return}const bn=Vn.activeDevices.audio.stream.getAudioTracks();if(bn.length===1)this.audioInputTrack=bn[0];else{this.logger.warn("No audio input tracks where found for the current audio device. Audio input tracks amount: {tracks.length}");return}(Ut=this.audioInputTrack)===null||Ut===void 0||Ut.addEventListener("mute",this.onMute),(ln=this.audioInputTrack)===null||ln===void 0||ln.addEventListener("unmute",this.onUnmute),(sn=this.audioInputTrack)===null||sn===void 0||sn.addEventListener("ended",this.onEnded),!((dn=this.audioInputTrack)===null||dn===void 0)&&dn.muted?this.onMute():this.onUnmute();const xn=(In=(gn=this.audioInputTrack)===null||gn===void 0?void 0:gn.getSettings())===null||In===void 0?void 0:In.deviceId;if(!xn){this.logger.warn("No deviceId found for audio input track");return}xn!==ue?this.logger.warn(`Used audio input track device id (${xn}) does not match the preferred device id (${ue}). 
				Preferred device is unavailable. User may report issues with other participants hearing them.`):this.logger.info(`Used audio input track device id matches the preferred device id (${ue})`),(0,D.cT)(xn,r.lW.Microphone)}tearDown(){var X,ue,Ee;(X=this.audioInputTrack)===null||X===void 0||X.removeEventListener("mute",this.onMute),(ue=this.audioInputTrack)===null||ue===void 0||ue.removeEventListener("unmute",this.onUnmute),(Ee=this.audioInputTrack)===null||Ee===void 0||Ee.removeEventListener("ended",this.onEnded)}onMute(){this.isAudioInputTrackMuted=!0,this.logger.warn("Audio input track is muted. Alerting the user"),this.observer.onAudioInputTrackMuted()}onUnmute(){this.isAudioInputTrackMuted&&this.logger.info("Audio input track is unmuted. Removing alert if there is one"),this.observer.onAudioInputTrackUnMuted(),this.isAudioInputTrackMuted=!1}onEnded(){this.logger.warn("Audio input track was ended.")}constructor(X,ue,Ee){this.defaultDeviceController=X,this.observer=ue,this.logger=Ee,this.isAudioInputTrackMuted=!1,this.onMute=this.onMute.bind(this),this.onUnmute=this.onUnmute.bind(this),this.onEnded=this.onEnded.bind(this)}}E(O,"AudioInputTrackHandler");var S;(function(Je){Je.Blur="BLUR",Je.Image="IMAGE",Je.None="NONE"})(S||(S={}));class R{constructor({backgroundEffect:X}){this.filterCPUUtilizationHigh=ue=>{const{cpuUtilization:Ee,filterMillis:Te,periodMillis:He}=ue;this.callLogger.warn(`CPU utilization by video background processor is high - cpuUtilization: ${Ee} - spent ${Te}ms of last ${He}ms processing video background`)},this.filterFrameDurationHigh=ue=>{const{framesDropped:Ee,avgFilterDurationMillis:Te,framerate:He,periodMillis:$e}=ue;this.callLogger.warn(`Frame duration by video background processor is high. framerate: ${He}, frames dropped: ${Ee}, spent ${Te}ms of last ${$e}ms processing video background`)},this.callLogger=(0,c.Jt)(`VIDEO-BACKGROUND-${X}`)}}E(R,"VideoBackgroundObserver");const U=R;var P=e(5071086688),L=e(5470425448),F=e(1473609332),x=e(9195837907),b=e(416787925),k=e(7149946954);class B{async intrinsicDevice(){return this.device}cleanup(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isCleaned||(window.removeEventListener("beforeunload",this.cleanupHandler),this.generatorVideoTrack&&(this.generatorVideoTrack.stop(),this.generatorVideoTrack=null),X&&this.inputMediaStream&&(this.inputMediaStream.getTracks().forEach(ue=>ue.stop()),this.inputMediaStream=void 0),this.worker&&(this.worker.postMessage({type:"cleanup"}),this.worker.removeEventListener("error",this.handleWorkerError),this.worker.terminate(),this.worker=null),this.bgImg&&(this.bgImg=void 0),this.isCleaned=!0)}async stop(){this.cleanup()}onOutputStreamDisconnect(){const X=!(this.device instanceof MediaStream);this.cleanup(X)}async transformStream(X){if(this.isCleaned||!this.worker||!this.generatorVideoTrack)throw this.workerError||new Error("Device has been cleaned up");if(this.inputMediaStream=X,X)try{const ue=X.getVideoTracks()[0];if(!ue)throw new Error("No video track found in input stream");const Ee=new MediaStreamTrackProcessor({track:ue}),Te=[Ee.readable,this.generatorVideoTrack.writable];this.bgImg&&Te.push(this.bgImg),this.worker.postMessage({type:"init",input:Ee.readable,output:this.generatorVideoTrack.writable,width:ue.getSettings().width,height:ue.getSettings().height,bgImg:this.bgImg},Te),this.bgImg&&(this.bgImg=void 0)}catch(ue){throw this.cleanup(),ue}return this.outputMediaStream}constructor(X,ue){this.worker=null,this.generatorVideoTrack=null,this.isCleaned=!1,this.workerError=null,this.handleWorkerError=Ee=>{this.workerError=new Error(`Worker error: ${Ee.message}`),this.cleanup(!1)},this.device=X,this.bgImg=ue,this.cleanupHandler=()=>this.cleanup(!1);try{this.worker=new Worker(new URL(e.p+e.u("js_modern_app_free-willy_free-willy-sdk_filter-worker_background-worker_ts"),e.b)),this.worker.addEventListener("error",this.handleWorkerError),this.generatorVideoTrack=new MediaStreamTrackGenerator({kind:"video"}),this.outputMediaStream=new MediaStream([this.generatorVideoTrack]),window.addEventListener("beforeunload",this.cleanupHandler)}catch(Ee){this.workerError=Ee instanceof Error?Ee:new Error(String(Ee)),this.cleanup(!1)}}}E(B,"BackgroundWorkerVideoTransformDevice");var W=e(5221945366),K;(function(Je){Je.START_PREVIEW="start-preview",Je.STOP_PREVIEW="stop-preview",Je.ENABLE="enable",Je.DISABLE="disable"})(K||(K={}));const H=1e4,z=30,Q=5e3,q=15e3,$="medium",le=!0,te=50;let ce=E(class{async shutdown(){var X,ue,Ee;if(this.isShuttingDown=!0,this.voiceFocusDevice){var Te;await this.voiceFocusDevice.stop(),await((Te=this.voiceFocusManager)===null||Te===void 0?void 0:Te.tearDown()),this.voiceFocusDevice=void 0}this.pendingAudioDevice=void 0,this.pendingCameraDevice=void 0,this.audioVideoFacade.removeDeviceChangeObserver(this),this.audioVideoFacade.stopLocalVideoTile(),await this.audioVideoFacade.stopVideoInput(),await this.audioVideoFacade.stopAudioInput(),this.audioVideoFacade.unbindAudioElement(),this.removeAudioElementErrorHandler(),await this.clearVideoTransformDeviceRefs(),this.audioInputDeviceRefreshTimer&&(clearTimeout(this.audioInputDeviceRefreshTimer),this.audioInputDeviceRefreshTimer=null),this.videoInputDeviceRefreshTimer&&(clearTimeout(this.videoInputDeviceRefreshTimer),this.videoInputDeviceRefreshTimer=null),this.cameraMetricsTimeout&&(clearTimeout(this.cameraMetricsTimeout),this.cameraMetricsTimeout=null),await((ue=(X=(0,n._R)())===null||X===void 0?void 0:X.getAudioContext())===null||ue===void 0?void 0:ue.suspend()),this.callLogger.info("Audio context suspended"),(Ee=this.audioLevelMonitor)===null||Ee===void 0||Ee.stop(),delete this.audioLevelMonitor,this.callLogger.info("Device manager shutdown complete")}async init(){this.options.useHuddlesSignalStartDelay||this.enumerateDevices(),await this.determineInitialMicrophonePermissionState(),this.enumerateDevices(),this.logDevices(),await this.updateMicrophone(),await this.updateSpeaker(),this.isCameraEnabled&&await this.updateCamera()}async determineInitialMicrophonePermissionState(){if((0,d.y3)()){await this.determineInitialMicrophonePermissionStateForDesktop();return}await this.determineInitialMicrophonePermissionStateForBrowser()}async determineInitialMicrophonePermissionStateForBrowser(){const{status:X}=k.Ay.canAccessMediaResource(l.mT.MICROPHONE);let ue;(X===r.eJ.Prompt||X===r.eJ.NotDetermined||X===r.eJ.Unknown)&&(await this.audioVideoFacade.listAudioInputDevices(!0),ue=k.Ay.canAccessMediaResource(l.mT.MICROPHONE).status),(X===r.eJ.Denied||ue===r.eJ.Denied)&&(this.observer.onBrowserMediaDeviceAccessDenied(l.mT.MICROPHONE),this.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),this.setStartMutedBarrier(!0))}async determineInitialMicrophonePermissionStateForDesktop(){const X=await this.maybeCheckSystemMediaAccess(l.mT.MICROPHONE);(0,d.j9)()||(0,d.uF)()||X&&(X==null?void 0:X.status)===r.eJ.Denied&&(this.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),this.setStartMutedBarrier(!0))}async setAGC(X){this.prefs.audio&&this.prefs.audio.enableAGC!==X&&(this.callLogger.info(`AGC setting changed: ${X}`),this.prefs.audio.enableAGC=X,(0,F.i4)(this.prefs),await this.updateMicrophone())}async setPreferredDevice(X,ue){switch(ue){case r.lW.Microphone:await this.updateMicrophone();break;case r.Q4:await this.updateSpeaker();break;case r.lW.Camera:this.isCameraEnabled&&await this.updateCamera();break;default:break}}async setPreferredCameraDeviceForPreview(X){this.enumerateDevices(),await this.updateCamera()}async setVideoBackgroundEffect(X){let{effect:ue,effectBgKey:Ee}=X;this.prefs.video&&(this.callLogger.info(`Video background effect changed: ${ue}`),this.prefs.video.effect=ue,this.prefs.video.effectBgKey=Ee,(0,F.i4)(this.prefs),this.isCameraEnabled&&await this.updateCamera())}async setNoiseSuppression(X){this.prefs.audio&&this.prefs.audio.enableNoiseSuppression!==X&&(this.callLogger.info(`Noise suppression setting changed: ${X}`),this.prefs.audio.enableNoiseSuppression=X,(0,F.i4)(this.prefs),await this.updateMicrophone())}async setStartMutedBarrier(X){!this.isStartMutedBarrierActive&&X?this.callLogger.warn("ALERT: Audio input will be muted until the start muted barrier is released"):this.isStartMutedBarrierActive&&!X&&this.callLogger.info("Start muted barrier released"),this.isStartMutedBarrierActive=X}async setMicrophone(X){var ue;if(this.voiceFocusManager&&await this.voiceFocusManager.setMute(X),!X){var Ee;this.audioVideoFacade.realtimeMuteLocalAudio(),(Ee=this.huddleEventsTrace)===null||Ee===void 0||Ee.update({name:v.p.MICROPHONE,type:v.G.STOP});return}this.isStartMutedBarrierActive&&this.setStartMutedBarrier(!1),this.audioVideoFacade.realtimeUnmuteLocalAudio(),(ue=this.huddleEventsTrace)===null||ue===void 0||ue.update({name:v.p.MICROPHONE,type:v.G.START})}requestPreviewStreamForDeviceId(X,ue,Ee){ue===r.lW.Camera&&this.handleCameraChanges({type:K.START_PREVIEW,deviceId:X,videoElement:Ee})}stopVideoPreviewForVideoInput(X){this.handleCameraChanges({type:K.STOP_PREVIEW,videoElement:X||this.cameraPreviewVideoElement})}setCamera(X){X!==this.isCameraEnabled&&(this.isCameraEnabled=X,this.isCameraEnabled?(this.handleCameraChanges({type:K.ENABLE}),this.maybeCheckSystemMediaAccess(l.mT.CAMERA)):this.handleCameraChanges({type:K.DISABLE}))}setCameraQuality(X,ue,Ee,Te){this.callLogger.info(`Camera quality settings changed: ${X}x${ue}@${Ee}fps ${Te}kbps`),this.audioVideoFacade.chooseVideoInputQuality(X,ue,Ee),this.audioVideoFacade.setVideoMaxBandwidthKbps(Te)}async audioVideoDidStart(){this.meetingReady=!0,this.options.useHuddlesSignalStartDelay&&this.pendingAudioDevice&&(this.callLogger.info(`Setting audio to pending device ${this.pendingAudioDevice}`),await this.initAudioInput(this.pendingAudioDevice),this.pendingAudioDevice=void 0)}validatePendingDevice(X,ue){const Ee=this.getPreferredDevice(ue),Te=(Ee==null?void 0:Ee.id)===X;return Te||this.callLogger.warn(`Pending ${ue} device ${X} is no longer available, skipping setup`),Te}async setCanStartLocalVideo(X){if(this.options.useHuddlesSignalStartDelay){this.canStartLocalVideo=X;const ue=(0,m.A)(this.pendingCameraDevice,"device",this.pendingCameraDevice);this.pendingCameraDevice&&X&&(this.validatePendingDevice(ue,r.lW.Camera)&&(this.callLogger.info(`Setting camera to pending device ${ue}`),await this.initVideoInput(this.pendingCameraDevice),await this.runCameraActivityEnable()),this.pendingCameraDevice=void 0)}}localVideoTileDidUpdate(X){(!X.boundVideoStream||!X.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${X.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!X.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}async maybeBindAudioOutputElement(){if(!this.isAudioOutputElementBound&&this.audioOutputElement){try{await this.audioVideoFacade.bindAudioElement(this.audioOutputElement)}catch(X){this.callLogger.info(`bindAudioElement failed: error: ${X.name}, message: ${X.message}`);return}this.isAudioOutputElementBound=!0}}async maybeCheckSystemMediaAccess(X){if(!(0,d.y3)()){const{status:ue}=k.Ay.canAccessMediaResource(X);if(ue===r.eJ.Granted)return{isAvailable:!1,status:r.eJ.Granted}}if((0,d.cX)())try{const ue=k.Ay.canAccessMediaResource(X);if(this.callLogger.info(`DeviceManager::getMediaAccessStatus ${X} electron API available: ${ue.isAvailable} and status: ${ue.status}`),!ue.isAvailable)return{isAvailable:!1,status:r.eJ.NotDetermined};if(ue.status===r.eJ.Granted)return this.observer.onDeviceAccessApproved(X),ue;let Ee;return(!ue.status||ue.status===r.eJ.NotDetermined)&&(ue.status||this.callLogger.info(`DeviceManager::getMediaAccessStatus ${X} status is missing. Re-requesting media access`),Ee=X==="screen"?null:await k.Ay.requestMediaAccess(X),this.callLogger.info(`DeviceManager::askForMediaAccess ${X} electron API available: ${!!(Ee!=null&&Ee.isAvailable)} and isConsentGranted: ${Ee==null?void 0:Ee.isGranted}`),X!=="screen"&&(Ee!=null&&Ee.isGranted))?(this.observer.onDeviceAccessApproved(X),{status:r.eJ.Granted,isAvailable:!0}):((ue.status===r.eJ.Denied||Ee&&!Ee.isGranted)&&(this.micPermissionDenied=!0,this.observer.onCheckSystemMediaAccess(X)),ue)}catch(ue){this.callLogger.info(`DeviceManager::Error retrieving system access for ${X}: ${ue}`)}return{isAvailable:!1,status:r.eJ.NotDetermined}}audioInputMuteStateChanged(X,ue){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${X}, ${ue?"muted":"unmuted"}`)}audioInputStreamEnded(X){var ue;X&&(this.callLogger.info("DeviceManager::audioInputStreamEnded"),((ue=(0,D.Nj)(r.lW.Microphone))===null||ue===void 0?void 0:ue.id)===X&&(this.callLogger.warn("Call audio stream ended unexpectedly"),this.observer.onSetNoMediaInput(l.mT.MICROPHONE)))}async videoInputStreamEnded(X){X&&(this.callLogger.info("DeviceManager::videoInputStreamEnded"),this.observer.onSetNoMediaInput(l.mT.CAMERA))}logDevices(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.LL;const ue=(0,D.T5)();if(!ue){this.callLogger.error("No devices found");return}(0,b.my)(this.callLogger,ue,X)}getPreferredDevice(X){return(0,D.Nj)(X)}enumerateDevices(){const X=(0,D.T5)();if(!X){this.callLogger.error("No devices found in v2 device manager");return}this.callLogger.info("V2 devices found. Updating device store"),this.observer.onDevicesUpdated(X)}async handleCameraChanges(X){switch(X.type){case K.START_PREVIEW:await this.runCameraActivityStartPreview(X);break;case K.STOP_PREVIEW:await this.runCameraActivityStopPreview(X);break;case K.ENABLE:await this.runCameraActivityEnable();break;case K.DISABLE:await this.runCameraActivityDisable();break;default:break}}checkDeviceStillAvailable(X,ue,Ee){if(!this.options.useHuddlesSignalStartDelay)return!0;const Te=this.getPreferredDevice(ue),He=(Te==null?void 0:Te.id)===X;return He||this.callLogger.warn(`Device was removed during ${Ee}, aborting`),He}async updateMicrophone(){const X=this.getPreferredDevice(r.lW.Microphone);if(!X){this.callLogger.info("No audio input device found");return}const{id:ue,label:Ee}=X;this.micPermissionDenied&&this.callLogger.error("Microphone permission is denied. The user must grant permissions and fully quit and restart Slack to join the Huddle"),this.callLogger.info(`Selected audio input device: ${X.label||X.id}, deviceId: ${ue}, deviceLabel: ${Ee}`);const He={autoGainControl:this.prefs.audio?this.prefs.audio.enableAGC:!0,deviceId:ue};let $e=!0;if(this.voiceFocusManager&&this.voiceFocusManager.isAvailable()&&(this.prefs.audio&&this.prefs.audio.enableNoiseSuppression)){if(this.voiceFocusDevice||(this.voiceFocusDevice=await this.voiceFocusManager.getTransformDevice()),this.voiceFocusDevice){if(!this.checkDeviceStillAvailable(ue,r.lW.Microphone,"voice focus setup"))return;const it=await this.voiceFocusDevice.chooseNewInnerDevice(He);if(!this.checkDeviceStillAvailable(ue,r.lW.Microphone,"voice focus device creation"))return;this.voiceFocusDevice=it}this.voiceFocusDevice||($e=!1)}else $e=!1;this.voiceFocusDevice&&(0,u.Y)({name:u.R1.VoiceFocusDevice,ref:this.voiceFocusDevice}),this.callLogger.info("Noise suppression:",$e?"enabled":"disabled");try{if(this.isStartMutedBarrierActive&&(this.callLogger.info("Start muted barrier active"),this.audioVideoFacade.realtimeMuteLocalAudio()),!this.checkDeviceStillAvailable(ue,r.lW.Microphone,"audio input initialization"))return;if($e)if(this.voiceFocusDevice)await this.initAudioInput(this.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(He.noiseSuppression=!0),await this.initAudioInput(He)}catch(it){this.callLogger.error(`chooseAudioInputDevice failed: error: ${it.name}, message: ${it.message}`),await this.handleAudioInitError(it);return}this.initAudioAnalyserForPreview(),this.setupAudioInputTrackHandler({preferredDeviceId:ue}),this.observer.onSelfPermissionUpdated(this.micPermissionDenied,r.lW.Microphone),this.attemptToInitMicrophoneNative(X.label)}async updateSpeaker(){const X=this.getPreferredDevice(r.Q4);if(!X){this.callLogger.info("No audio output device found");return}const{id:ue,label:Ee}=X;this.callLogger.info(`Selected audio output device id: ${X.label||X.id}, deviceId: ${ue}, deviceLabel: ${Ee}`),await this.audioVideoFacade.chooseAudioOutput(ue),this.observer.onOutputDeviceChanged({id:X.id,type:r.Q4}),(0,D.i_)(ue,r.Q4)}async updateCamera(){const X=this.getPreferredDevice(r.lW.Camera);if(!X){this.callLogger.info("No video input device found");return}this.callLogger.info(`Selected video input device id: ${X.label||X.id}`);try{await this.setCameraVideoInputDevice(X)}catch(ue){this.callLogger.info(`chooseVideoInputDevice failed: error: ${ue.name}, message: ${ue.message}`),ue instanceof n.Ll?this.observer.onSelfPermissionUpdated(!0,r.lW.Camera):this.observer.onSelfPermissionUpdated(!1,r.lW.Camera);return}this.observer.onSelfPermissionUpdated(!1,r.lW.Camera)}async setCameraVideoInputDevice(X){if(await this.clearVideoTransformDeviceRefs(),this.options.backgroundVideoFilteringSetting===r.uT.NONE){await this.initVideoInput(X.id);return}switch(this.prefs.video.effect){case x.t.Blur:{await this.setCameraVideoInputDeviceWithBackgroundBlurFilter(X);break}case x.t.Background:{this.options.backgroundVideoFilteringSetting!==r.uT.Both?await this.initVideoInput(X.id):await this.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:X,selectedBackgroundImageKey:this.prefs.video.effectBgKey});break}default:{await this.initVideoInput(X.id);break}}}async setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(X){let{videoDevice:ue,selectedBackgroundImageKey:Ee}=X;const Te=ue.label||ue.id;if(Ee===void 0){this.callLogger.info(`No background image key provided id: ${Te}`),await this.initVideoInput(ue.id);return}const $e=M.g.find(dn=>dn.key===Ee);if($e===void 0)return this.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",ue);this.callLogger.info(`Enabling video input device with background image filter id: ${Te}`);const ht=await(await fetch($e.url)).blob();if(this.options.useHuddlesFilterWorker){const dn=await createImageBitmap(ht),gn=new B(ue.id,dn);this.setVideoTransformDeviceRefs({transformDevice:gn,processors:[]}),await this.initVideoInput(gn),await this.cleanupTransformDevicesAndCameraIfShuttingdown();return}const Kt=(0,n.jq)(),It=(0,n.px)(),Ut=[];if(!await n.i3.isSupported(this.chimeLogger)&&le)return this.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",ue);if(!await It.isSupported()&&!le)return this.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",ue);if(this.isShuttingDown)return;const ln={...this.defaultVideoProcessorOptions,imageBlob:ht};if(le){if(this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:$},backgroundReplacement:{isEnabled:!0,backgroundImageURL:$e.url,defaultColor:void 0}},this.videoFxProcessor=await n.i3.create(this.chimeLogger,this.videoFxConfig,te),!this.videoFxProcessor)return this.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",ue);this.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${Te}`),Ut.push(this.videoFxProcessor)}else{const dn=await It.create(void 0,ln);if(dn)this.setupVideoBackgroundFrameProcessor({processor:dn,backgroundEffect:S.Image}),Ut.push(dn);else return this.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",ue)}this.callLogger.info(`Enabling video input device with background image replacement id: ${Te}`);const sn=new Kt(this.chimeLogger,ue.id,Ut);this.setVideoTransformDeviceRefs({transformDevice:sn,processors:Ut}),await this.initVideoInput(sn),await this.cleanupTransformDevicesAndCameraIfShuttingdown()}async handleErrorApplyVideoEffects(X,ue){const Ee=ue.label||ue.id;this.callLogger.info(`${X}: ${Ee}`),await this.initVideoInput(ue.id)}async setCameraVideoInputDeviceWithBackgroundBlurFilter(X){const ue=(0,n.jq)(),Ee=(0,n.kM)(),Te=X.label||X.id;if(this.callLogger.info(`Enabling video input device with background blur filter id: ${Te}`),this.options.useHuddlesFilterWorker){const it=new B(X.id);this.setVideoTransformDeviceRefs({transformDevice:it,processors:[]}),await this.initVideoInput(it),await this.cleanupTransformDevicesAndCameraIfShuttingdown();return}const He=[];if(le){if(!await n.i3.isSupported(this.chimeLogger))return this.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",X);if(this.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:$},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.videoFxProcessor=await n.i3.create(this.chimeLogger,this.videoFxConfig,te),!this.videoFxProcessor)return this.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",X);this.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${Te}`),He.push(this.videoFxProcessor)}else{if(!await Ee.isSupported())return this.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",X);const it={...this.defaultVideoProcessorOptions,blurStrength:15},ht=await Ee.create(void 0,it);if(!ht)return this.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",X);this.setupVideoBackgroundFrameProcessor({processor:ht,backgroundEffect:S.Blur}),He.push(ht)}this.callLogger.info(`Enabling video input device with background blur filter id: ${Te}`);const $e=new ue(this.chimeLogger,X.id,He);this.setVideoTransformDeviceRefs({transformDevice:$e,processors:He}),await this.initVideoInput($e),await this.cleanupTransformDevicesAndCameraIfShuttingdown()}async cleanupTransformDevicesAndCameraIfShuttingdown(){this.isShuttingDown&&(this.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),await this.audioVideoFacade.stopVideoInput(),await this.clearVideoTransformDeviceRefs())}async initVideoInputDevices(){const ue=(await this.audioVideoFacade.listVideoInputDevices()).length>0;return ue||this.observer.onSelfPermissionUpdated(!0,r.lW.Camera),this.prefs=(0,F.Bh)(),this.enumerateDevices(),ue}async runCameraActivityStartPreview(X){const ue=X.deviceId,Ee=X.videoElement;!ue||!Ee||(this.cameraPreviewVideoElement=Ee,await this.setPreferredCameraDeviceForPreview(ue),await this.startCameraPreview())}async runCameraActivityStopPreview(X){const ue=X.videoElement;ue&&(ue!==this.cameraPreviewVideoElement&&this.callLogger.warn("Mismatch in preview video element"),this.audioVideoFacade.hasStartedLocalVideoTile()?this.detachStreamFromCameraPreview():this.stopCameraPreview(),delete this.cameraPreviewVideoElement)}async runCameraActivityEnable(){var X;!this.audioVideoFacade.hasStartedLocalVideoTile()&&this.cameraPreviewVideoElement&&this.stopCameraPreview(),await this.updateCamera(),this.audioVideoFacade.hasStartedLocalVideoTile()||(this.waitForCameraReady=(0,o.u)(),this.audioVideoFacade.startLocalVideoTile(),await this.waitForCameraReady.catch(()=>{this.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),this.runCameraActivityDisable()})),this.attachStreamToCameraPreview(),(X=this.huddleEventsTrace)===null||X===void 0||X.update({name:v.p.VIDEO,type:v.G.START})}async runCameraActivityDisable(){var X;this.detachStreamFromCameraPreview(),this.options.useHuddlesSignalStartDelay?(this.audioVideoFacade.stopLocalVideoTile(),await this.audioVideoFacade.stopVideoInput()):(await this.audioVideoFacade.stopVideoInput(),this.audioVideoFacade.stopLocalVideoTile()),(X=this.huddleEventsTrace)===null||X===void 0||X.update({name:v.p.VIDEO,type:v.G.STOP}),this.cameraPreviewVideoElement&&(!this.isShuttingDown||!this.options.useHuddlesSignalStartDelay)&&(await this.updateCamera(),await this.startCameraPreview())}async startCameraPreview(){this.cameraPreviewVideoElement&&(this.waitForCameraReady=(0,o.u)(),this.audioVideoFacade.startVideoPreviewForVideoInput(this.cameraPreviewVideoElement),this.cameraPreviewVideoElement.addEventListener("canplay",X=>{this.waitForCameraReady.resolve()}),await this.waitForCameraReady)}async stopCameraPreview(){this.cameraPreviewVideoElement&&(this.audioVideoFacade.stopVideoPreviewForVideoInput(this.cameraPreviewVideoElement),await this.audioVideoFacade.stopVideoInput())}attachStreamToCameraPreview(){var X;if(!this.cameraPreviewVideoElement)return;const ue=(X=this.audioVideoFacade.getLocalVideoTile())===null||X===void 0?void 0:X.state();ue&&ue.boundVideoStream&&n.xc.connectVideoStreamToVideoElement(ue.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&n.xc.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(X){var ue,Ee,Te,He;const $e=((ue=X.target)===null||ue===void 0||(Ee=ue.error)===null||Ee===void 0?void 0:Ee.code)||"unavailable",it=((Te=X.target)===null||Te===void 0||(He=Te.error)===null||He===void 0?void 0:He.message)||X.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${$e}, message: ${it}`),this.observer.onSetNoAudioOutput(l.NS.AUDIO_ELEMENT_ERROR)}initAudioAnalyserForPreview(){const X=(0,n._R)().getAudioContext();if(!X){this.callLogger.warn("Unable to get AudioContext");return}X.resume();const ue=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(ue){var Ee;const Te=new p(ue);(Ee=this.audioLevelMonitor)===null||Ee===void 0||Ee.setPreviewAudioAnalyser(Te)}}setupAudioInputTrackHandler(X){let{preferredDeviceId:ue}=X;this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new O(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize({preferredDeviceId:ue})}constructor(X,ue,Ee,Te,He=!1,$e,it,ht){this.audioVideoFacade=X,this.audioOutputElement=ue,this.observer=Ee,this.options=Te,this.isStartMutedBarrierActive=He,this.chimeLogger=$e,this.defaultDeviceController=it,this.voiceFocusManager=ht,this.callLogger=(0,c.Jt)("DEVICES"),this.waitForCameraReady=(0,o.u)(),this.isAudioOutputElementBound=!1,this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:$},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.micPermissionDenied=!1,this.meetingReady=!1,this.canStartLocalVideo=!1,this.audioInputsChanged=async()=>{this.callLogger.info("DeviceManager::audioInputsChanged"),await(0,D.es)(),this.logDevices([r.lW.Microphone]),this.observer.onClearNoMediaInput(l.mT.MICROPHONE)},this.audioOutputsChanged=async()=>{this.callLogger.info("DeviceManager::audioOutputsChanged"),await(0,D.es)(),this.logDevices([r.Q4]),this.observer.onClearNoAudioOutput(l.NS.AUDIO_ELEMENT_ERROR)},this.videoInputsChanged=async()=>{this.callLogger.info("DeviceManager::videoInputsChanged"),await(0,D.es)(),this.logDevices([r.lW.Camera])},this.attemptToInitMicrophoneNative=(0,_.A)(async It=>{try{if(!It||!this.options.useDevicesExp)return;if(this.options.useHuddlesSignalStartDelay&&!this.meetingReady){this.validatePendingDevice(It,r.lW.Microphone)?(this.callLogger.info("Skipping microphone init test because meeting is not ready"),this.pendingAudioDevice=It):this.callLogger.warn("Device is no longer available, not storing as pending");return}const Ut=await(0,W.Lh)(It),{error:ln,canInit:sn}=Ut;(0,h.A)(ln)?ln.includes("Method not available")||ln.includes("only supported on Windows")?this.callLogger.info("Microphone init test not supported on this client"):sn||this.callLogger.warn(`ALERT! Possible init failure for microphone with device: ${It}: ${ln}`):this.callLogger.info(`Successfully initialized microphone with device: ${It}`)}catch(Ut){this.callLogger.error("Error attempting to init audio device",Ut)}},1e3),this.handleAudioInitError=async It=>{switch(It.name){case"NotReadableError":this.callLogger.warn("Either a hardware error (such as an OS/program/webpage lock) is preventing access to the microphone or the selected device is no longer available. Trying again");break;case"NotFoundError":this.callLogger.warn("No audio input devices are available. Trying again");break;case"OverconstrainedError":this.callLogger.warn("The specified constraints resulted in no devices being found. Trying again");break;case"PermissionDeniedError":this.callLogger.error("User denied permission to access microphone.");break;case"TypeError":this.callLogger.error("An unexpected TypeError occured during audio input initialization",It);break;case"GetUserMediaError":this.callLogger.error("An unexpected GetUserMediaError occured during audio input initialization",It);break;default:this.callLogger.error("Unknown error during audio input initialization")}const Ut=It instanceof n.Ll;this.observer.onSelfPermissionUpdated(!!Ut,r.lW.Microphone)},this.setVideoTransformDeviceRefs=It=>{let{transformDevice:Ut,processors:ln}=It;this.currentVideoTransformDevice=Ut,this.currentVideoFrameProcessors=ln,(0,u.Y)({name:u.R1.VideoTransformDevice,ref:Ut})},this.setupVideoBackgroundFrameProcessor=It=>{let{processor:Ut,backgroundEffect:ln}=It;var sn;this.clearVideoBackgroundFrameProcessor(),!le&&(this.currentVideoFrameProcessor=Ut,this.currentVideoFrameProcessorObserver=new U({backgroundEffect:ln}),(sn=this.currentVideoFrameProcessor)===null||sn===void 0||sn.addObserver(this.currentVideoFrameProcessorObserver),(0,u.Y)({name:u.R1.VideoFrameProcessor,ref:Ut}))},this.clearVideoBackgroundFrameProcessor=()=>{le||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)},this.clearVideoTransformDeviceRefs=async()=>{this.clearVideoBackgroundFrameProcessor(),this.currentVideoFrameProcessors&&(this.currentVideoFrameProcessors.forEach(It=>{It.destroy()}),this.currentVideoFrameProcessors.length=0,this.currentVideoFrameProcessors=void 0),this.currentVideoTransformDevice&&(await this.currentVideoTransformDevice.stop(),this.currentVideoTransformDevice=void 0)},this.initAudioInput=async It=>{if(!It){this.callLogger.info("initAudioInput no audio input device was provided");return}const Ut=performance.now(),ln=setTimeout(()=>{this.callLogger.warn(`startAudioInput took longer than ${Q}ms`)},Q),sn=setTimeout(()=>{this.callLogger.warn(`startAudioInput possibly failed took longer than ${q}ms`),this.observer.onAudioInitPossiblyFailed()},q);try{await this.audioVideoFacade.startAudioInput(It),this.callLogger.info("startAudioInput completed")}catch(dn){throw this.callLogger.error("startAudioInput failed",dn),dn}finally{clearTimeout(ln),clearTimeout(sn);const gn=performance.now()-Ut;this.observer.onAudioInitTimeTaken(gn)}},this.initVideoInput=async It=>{if(this.options.useHuddlesSignalStartDelay&&!this.canStartLocalVideo){this.callLogger.info("Skipping video input initialization because canStartLocalVideo is false"),this.pendingCameraDevice=It;return}if(!It)return;await this.audioVideoFacade.startVideoInput(It),this.recordCameraResolution();const Ut=(0,m.A)(It,"device",It);typeof Ut=="string"&&(0,D.i_)(Ut,r.lW.Camera)},this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var It,Ut,ln,sn,dn;if(this.isShuttingDown||!((It=this.audioVideoFacade)===null||It===void 0?void 0:It.hasStartedLocalVideoTile()))return;const In=this.audioVideoFacade.getLocalVideoTile(),Vn=(Ut=In==null?void 0:In.state())===null||Ut===void 0?void 0:Ut.boundVideoStream,bn=Vn==null?void 0:Vn.getVideoTracks()[0];if(bn instanceof CanvasCaptureMediaStreamTrack){P.A.publish({type:L.lx.CameraResolution,update:{isCanvasStream:!0}});return}const xn=bn==null?void 0:bn.getSettings(),Qn=bn==null?void 0:bn.getCapabilities(),hn=xn==null?void 0:xn.width,as=xn==null?void 0:xn.height,rs=xn==null?void 0:xn.frameRate,ys=Qn==null||(ln=Qn.width)===null||ln===void 0?void 0:ln.max,Is=Qn==null||(sn=Qn.height)===null||sn===void 0?void 0:sn.max,Xn=Qn==null||(dn=Qn.frameRate)===null||dn===void 0?void 0:dn.max;ys&&Is&&P.A.publish({type:L.lx.CameraResolution,update:{cameraWidth:hn,cameraHeight:as,cameraFrameRate:rs,cameraMaxWidth:ys,cameraMaxHeight:Is,cameraMaxFrameRate:Xn,isCanvasStream:!1}})}catch{}},5e3)},this.updateMicrophone=I(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=I(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=I(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=I(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=(0,F.Bh)(),this.addAudioElementErrorHandler(),this.audioLevelMonitor=new T,this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:z,reportingPeriodMillis:H,logger:this.chimeLogger};const{huddleEventsTrace:Kt}=(0,f.A)().getAllTraceHandlers();this.huddleEventsTrace=Kt}},"DeviceManager");var me=e(63202349),_e=e(3390261877),Ae=e(3320454392);let ye=E(class{constructor(X,ue,Ee){this.sequenceNumber=X,this.message=ue,this.timestampMs=Ee}},"MeetingEvent"),oe=E(class Xa{getEventCaptureSize(){return this.eventCapture.length}startEventPublishScheduler(X){this.intervalScheduler.start(async()=>{if(this.getEventCaptureSize()===0)return;const ue=this.eventCapture.slice(0,X);try{this.postEvents(ue),this.eventCapture=this.eventCapture.slice(ue.length)}catch(Ee){this.log.error(Ee.message)}})}stop(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.stopped||(this.intervalScheduler.stop(),this.postEvents(this.eventCapture,X,!0),this.eventCapture=[],this.stopped=!0,this.observer=void 0)}logEvent(X,ue){const{meetingHistory:Ee,...Te}=ue;try{const He=JSON.stringify({name:X,attributes:Te});this.eventCapture.push(new ye(this.sequenceNumber,He,Date.now())),this.sequenceNumber+=1}catch(He){this.log.error(He.message)}}postEvents(X){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Te;X.length===0&&!ue&&!Ee||(Te=this.observer)===null||Te===void 0||Te.onMeetingEvents(this.meetingId,this.mediaRegion,this.attendeeId,this.callId,X,ue,Ee)}constructor(X,ue,Ee,Te,He,$e=Xa.DEFAULT_BATCH_SIZE,it=Xa.DEFAULT_INTERVAL_MS){this.observer=X,this.meetingId=ue,this.mediaRegion=Ee,this.attendeeId=Te,this.callId=He,this.batchSize=$e,this.intervalMs=it,this.eventCapture=[],this.sequenceNumber=0,this.log=(0,c.tZ)("MEETING-EVENT-LOGGER"),this.stopped=!1,this.intervalScheduler=new _e.A(this.intervalMs),this.startEventPublishScheduler(this.batchSize),(0,Ae.A)(async()=>{this.stop(!0)})}},"MeetingEventLogger");oe.DEFAULT_BATCH_SIZE=100,oe.DEFAULT_INTERVAL_MS=65*60*1e3;var ee=e(9323322135),V=e(1033764764),w=e(9372409576),Y=e(7299481592);const G=1e4,Z=3e4;class se{observe(X){this.connections.push(X),this.intervalHandle||(this.intervalHandle=window.setInterval(()=>{this.collect()},this.collectionIntervalMs))}stopObserving(X){remove(this.connections,X),this.connections.length===0&&clearInterval(this.intervalHandle)}collect(){this.connections.forEach(async X=>{const ue=X.getPeerConnection();if(!ue)return;const Ee=ae(await ue.getStats());pe(X,Ee);const Te={...he(Ee),send:Ee.sendTracks.map(He=>ve(He,Ee)),recv:Ee.recvTracks.map(He=>({...ge(He,Ee),peerId:X.getPeerIdFromRemoteStreamId(Ee.trackIdToStreamId[He.id])}))};this.observer.onStats(Te)})}constructor(X,ue=G){this.observer=X,this.collectionIntervalMs=ue,this.connections=[]}}E(se,"StatsManager");function ae(Je){const X=Array.from(Je.entries()),ue=reduce(X,(Ee,Te)=>{let[He,$e]=Te;return be($e)?$e.remoteSource===!0?Ee.recvTracks.push($e):Ee.sendTracks.push($e):Oe($e)||We($e)?$e.trackId&&(Ee.rtpStats[$e.trackId]=$e):Ke($e)?Ee.transports[$e.id]=$e:Fe($e)?Ee.candidates[$e.id]=$e:J($e)?Ee.candidatePairs[$e.id]=$e:ne($e)?Ee.codecs[$e.id]=$e:je($e)?$e.trackIds&&$e.trackIds.forEach(it=>{Ee.trackIdToStreamId[it]=$e.streamIdentifier}):at($e)&&$e.trackIdentifier&&(Ee.mediaSources[$e.trackIdentifier]=$e),Ee},{trackIdToStreamId:{},sendTracks:[],recvTracks:[],candidates:{},candidatePairs:{},rtpStats:{},codecs:{},transports:{},mediaSources:{}});return ue.recvTracks=ue.recvTracks.filter(Ee=>ue.trackIdToStreamId[Ee.id]!==void 0),ue}E(ae,"groupStatsByType");function re(Je){const X=filter(Je.candidatePairs,it=>!!it.nominated),ue=maxBy(X,it=>it.priority);if(!ue)return;const Ee=find(Je.candidates,(it,ht)=>ht===ue.localCandidateId);if(!Ee)return;let Te=Ee.candidateType==="relay"?Ee.relayProtocol:Ee.protocol;Ee.candidateType==="prflx"&&(Te+=" (unreliable)");const He="unknown";return{candidateType:Ee.candidateType||He,networkType:Ee.networkType||He,transportType:Te||He}}E(re,"getConnectionNetworkInfo");function pe(Je,X){const ue=re(X);ue&&Je.maybeLogNetworkInfo(ue)}E(pe,"reportConnectionNetworkInfo");const de={nominal:1,fair:2,serious:3,critical:4};async function ie(){var Je;if(!(0,d.y3)())return;let X,ue,Ee;if(ee.vkf.isAvailable()){var Te;const Kt=await(0,ee.vkf)();if(!Kt)return;X=Kt.processMetrics,ue=de[Kt.thermalState],Ee=(Te=Kt.speedLimit)===null||Te===void 0?void 0:Te.limit}else X=await(0,ee.rc_)();if(!X)return;let He=null;const $e=X.reduce((Kt,It)=>{var Ut,ln,sn;return It.type==="GPU"&&(He=It),{cpu:Kt.cpu+((It==null||(Ut=It.cpu)===null||Ut===void 0?void 0:Ut.percentCPUUsage)||0),memory:{workingSetSize:Kt.memory.workingSetSize+(0,V.UK)((It==null||(ln=It.memory)===null||ln===void 0?void 0:ln.workingSetSize)||0),peakWorkingSetSize:Kt.memory.peakWorkingSetSize+(0,V.UK)((It==null||(sn=It.memory)===null||sn===void 0?void 0:sn.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),it=He==null||(Je=He.cpu)===null||Je===void 0?void 0:Je.percentCPUUsage,ht=it?$e.cpu-He.cpu.percentCPUUsage:$e.cpu;return{...$e,cpuWithoutGpu:ht,gpu:it,thermalState:ue,speedLimit:Ee}}E(ie,"makeAppMetricsStats");function he(Je){const[X,...ue]=Object.values(Je.transports);debugCheck(!ue.length,"Can there be more than one transport stat in a report?");const Ee=X&&X.selectedCandidatePairId,Te=Je.candidatePairs[Ee];if(!Ee||!Te)return;const He=Je.candidates[Te.remoteCandidateId]||{};return{availableOutgoingBitrate:Te.availableOutgoingBitrate||0,availableIncomingBitrate:Te.availableIncomingBitrate||0,totalBytesSent:Te.bytesSent,totalBytesReceived:Te.bytesReceived,currentRoundTripTime:Te.currentRoundTripTime,totalRoundTripTime:Te.totalRoundTripTime,protocol:He.protocol==="udp"?slack.calls.analytics.Protocol.UDP:slack.calls.analytics.Protocol.TCP,pathType:He.candidateType==="host"?slack.calls.analytics.PathType.DIRECT:slack.calls.analytics.PathType.RELAY,clientTime:Date.now()}}E(he,"makeConnectionStats");function ve(Je,X){const ue=X.rtpStats[Je.id]||{},Ee={codec:ke(ue,X),bytesSent:ue.bytesSent,packetsSent:ue.packetsSent};if(Je.kind==="audio"){const Te=Je.trackIdentifier?X.mediaSources[Je.trackIdentifier]:null;return Te?{...Ee,audioStats:{audioLevel:Te.audioLevel,totalAudioEnergy:Te.totalAudioEnergy,totalSamplesDuration:Te.totalSamplesDuration,echoReturnLoss:Te.echoReturnLoss,echoReturnLossEnhancement:Te.echoReturnLossEnhancement}}:{...Ee,audioStats:{audioLevel:Je.audioLevel,echoReturnLoss:Je.echoReturnLoss,echoReturnLossEnhancement:Je.echoReturnLossEnhancement}}}return{...Ee,videoStats:{frameHeight:Je.frameHeight,frameWidth:Je.frameWidth,framesSent:Je.framesSent,hugeFramesSent:Je.hugeFramesSent,framesPerSecond:ue.framesPerSecond,framesEncoded:ue.framesEncoded}}}E(ve,"makeOutboundMediaStats");function ge(Je,X){const ue=X.rtpStats[Je.id]||{},Ee={codec:ke(ue,X),bytesReceived:ue.bytesReceived,packetsReceived:ue.packetsReceived,packetsLost:ue.packetsLost,fractionLost:ue.fractionLost,jitter:ue.jitter};return Je.kind==="audio"?{...Ee,audioStats:{audioLevel:Je.audioLevel,jitterBufferDelay:Je.jitterBufferDelay,concealedSamples:Je.concealedSamples,concealmentEvents:Je.concealmentEvents}}:{...Ee,videoStats:{firCount:ue.firCount,nackCount:ue.nackCount,pliCount:ue.pliCount,sliCount:ue.sliCount,frameHeight:Je.frameHeight,frameWidth:Je.frameWidth,framesPerSecond:Je.framesPerSecond,framesCorrupted:Je.framesCorrupted,framesDecoded:Je.framesDecoded,framesDropped:Je.framesDropped,framesReceived:Je.framesReceived}}}E(ge,"makeInboundMediaStats");function ke(Je,X){const ue=Je.codecId,Ee=get(X.codecs,ue),Te=get(Ee,"mimeType");return Ne(Te)}E(ke,"getCodecForRtpStat");function Ne(Je){switch(Je){case"video/VP8":return slack.calls.analytics.Codec.VP8;case"video/VP9":return slack.calls.analytics.Codec.VP9;case"video/H264":return slack.calls.analytics.Codec.H264;case"audio/opus":return slack.calls.analytics.Codec.OPUS;default:return slack.calls.analytics.Codec.UNKNOWN}}E(Ne,"parseCodec");function We(Je){return Je.type==="inbound-rtp"}E(We,"isRecvRtpStat");function Oe(Je){return Je.type==="outbound-rtp"}E(Oe,"isSendRtpStat");function be(Je){return Je.type==="track"}E(be,"isTrackStat");function Ke(Je){return Je.type==="transport"}E(Ke,"isTransportStat");function Fe(Je){return Je.type==="local-candidate"||Je.type==="remote-candidate"}E(Fe,"isIceCandidateStat");function J(Je){return Je.type==="candidate-pair"}E(J,"isIceCandidatePairStat");function ne(Je){return Je.type==="codec"}E(ne,"isCodecStat");function je(Je){return Je.type==="stream"}E(je,"isStreamStat");function at(Je){return Je.type==="media-source"}E(at,"isMediaSourceStat");const nt=5e3;let Ge=E(class{constructor(X,ue){var Ee=this;this.audioVideoFacade=X,this.observer=ue,this.callLogger=(0,c.Jt)("HUDDLES-STATS-MANAGER"),this.isDisconnected=!1,this.onMetricsDidReceive=async Te=>{if(!Te)return;const He=await this.collectScreenshareStats();this.reportAppMetrics({clientMetricReport:Te,screenshareRtcStats:He})},this.reportDisconnect=()=>{this.isDisconnected=!0,this.callLogger.info("Disconnect reported. Resuming app metrics collection without client metric report."),this.reportAppMetrics();const Te=setInterval(()=>{if(!this.isDisconnected){clearInterval(Te);return}this.callLogger.info("User still disconnected. Reporting app metrics without client metric report."),this.reportAppMetrics()},nt)},this.cleanup=()=>{},this.collectScreenshareStats=async()=>{let Te;try{var He;const $e=(He=this.audioVideoFacade.contentShareController.contentAudioVideo)===null||He===void 0?void 0:He.rtcPeerConnection;return $e?(Te=await $e.getStats(),Te):void 0}catch($e){this.callLogger.error("Failed to collect screenshare stats",$e)}},this.reportAppMetrics=async function(){let{clientMetricReport:Te,screenshareRtcStats:He}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Te&&!Ee.isDisconnected)return;Ee.isDisconnected&&Te&&(Ee.isDisconnected=!1);const $e=await Ee.collectAppMetrics();Ee.observer.onAppMetrics({appMetrics:$e,clientMetricReport:Te,screenshareRtcStats:He})},this.collectAppMetrics=async()=>{const Te=await ie();if(!Te)return;let He=Te;return Te&&(He=(0,t.A)({...Te,cpu:Te.cpuWithoutGpu},"cpuWithoutGpu")),He}}},"HuddlesStatsManager"),Pe=E(class{start(){var X;this.isSignallingOnly=!1,(X=this.videoDownlinkManager)===null||X===void 0||X.addObserver(this),this.audioVideoFacade.addObserver(this),this.audioVideoFacade.start(),this.observer.onStart()}startWithSignalingOnly(){this.audioVideoFacade.start({signalingOnly:!0}),this.isSignallingOnly=!0}async stop(){this.isSignallingOnly?(this.waitForStart.resolve(),this.waitForStop.resolve(!0)):await this.waitForStart,this.isStopRequested=!0,this.audioVideoFacade.stop()}audioVideoDidStartConnecting(X){var ue;if(!X)this.callLogger.info("Starting Chime session"),this.observer.onStartSessionTimeout(),this.observer.onAudioVideoDidStartConnecting(),this.isReconnecting=!1;else{var Ee,Te,He;this.callLogger.info("Reconnecting Chime session"),this.observer.onSelfDisconnected(),(Ee=this.statsManager)===null||Ee===void 0||(Te=Ee.reportDisconnect)===null||Te===void 0||Te.call(Ee),(He=this.huddleReconnectTracer)===null||He===void 0||He.traceReconnectAttempt(),this.isReconnecting=!0}(ue=this.disconnectObserver)===null||ue===void 0||ue.onConnectionUpdate(this.audioVideoFacade)}audioVideoDidStart(){var X,ue,Ee;if(this.callLogger.info("Chime audio video session started"),(X=this.disconnectObserver)===null||X===void 0||X.onConnectionUpdate((ue=this.audioVideoFacade)===null||ue===void 0||(Ee=ue.audioVideoController)===null||Ee===void 0?void 0:Ee.meetingSessionContext,this.isReconnecting),this.isReconnecting){var Te;this.callLogger.info("Successfully re-connected to Huddle"),(Te=this.huddleReconnectTracer)===null||Te===void 0||Te.traceReconnectAttemptOutcome({isSuccess:!0}),this.isReconnecting=!1}this.observer.onAudioVideoDidStart(),this.deviceManager.audioVideoDidStart(),this.dataChannelSubscribers.forEach(He=>He.onConnectDatachannel(this.audioVideoFacade)),this.waitForStart.resolve()}audioVideoDidStop(X){var ue,Ee,Te,He;const $e=n.b9[X.statusCode()],it=`Chime session stopped. StatusCode: ${$e}`;if(this.callLogger.info(it),this.isReconnecting&&X.isFailure()){var ht;this.callLogger.info("Failed to re-connect to Huddle"),(ht=this.huddleReconnectTracer)===null||ht===void 0||ht.traceReconnectAttemptOutcome({isSuccess:!1})}delete this.disconnectObserver,this.audioVideoFacade.removeObserver(this),this.observer.onScreenShareStopped(),this.observer.onAudioVideoDidStop(),(ue=this.videoDownlinkManager)===null||ue===void 0||ue.removeObserver(this),(Ee=this.meetingEventLogger)===null||Ee===void 0||Ee.stop(),delete this.meetingEventLogger,(He=(Te=this.statsManager).cleanup)===null||He===void 0||He.call(Te),delete this.statsManager,this.dataChannelSubscribers.forEach(Kt=>Kt.onDisconnectDataChannel()),!this.isStopRequested&&X.isTerminal()&&(this.observer.onClogError(it),this.observer.onError(l.uZ.CallEnded,$e)),this.waitForStop.resolve(this.isStopRequested)}videoTileDidUpdate(X){if(!X.boundVideoStream||!X.boundAttendeeId){X.tileId&&this.observer.onVideoTileRemoved(X.tileId);return}const ue=new n.jp(X.boundAttendeeId).base();this.selfAttendeeId===ue?(this.deviceManager.localVideoTileDidUpdate(X),this.observer.onSelfVideoTileUpdate(X)):this.observer.onPeerVideoTileUpdate(ue,X)}videoTileWasRemoved(X){this.consoleLog.info(`Video tile removed: tileId=${X}`),this.observer.onVideoTileRemoved(X)}videoAvailabilityDidChange(X){this.consoleLog.debug(`Video availability: RemoteVideoAvailable=${X.remoteVideoAvailable}, CanStartLocalVideo=${X.canStartLocalVideo}`),this.deviceManager.setCanStartLocalVideo(X.canStartLocalVideo)}async metricsDidReceive(X){var ue;(ue=this.statsManager)===null||ue===void 0||ue.onMetricsDidReceive(X)}connectionDidBecomePoor(){this.callLogger.warn("SDK detected poor connection")}connectionDidSuggestStopVideo(){var X;this.callLogger.warn("SDK suggested stop video, maybe poor connection"),(X=this.videoUplinkManager)===null||X===void 0||X.shouldRestrictVideoQuality(!0)}connectionDidBecomeGood(){var X;this.callLogger.info("SDK detected good connection"),(X=this.videoUplinkManager)===null||X===void 0||X.shouldRestrictVideoQuality(!1)}videoSendDidBecomeUnavailable(){this.callLogger.warn("Video send is unavailable")}remoteVideoSourcesDidChange(X){var ue,Ee;(ue=this.videoDownlinkManager)===null||ue===void 0||ue.remoteVideoSourcesDidChange(X),(Ee=this.videoUplinkManager)===null||Ee===void 0||Ee.remoteVideoSourcesDidChange(X)}tileWillBePausedByDownlinkPolicy(X){this.observer.onVideoTileWillPause(X)}tileWillBeUnpausedByDownlinkPolicy(X){this.observer.onVideoTileWillUnpause(X)}constructor(X,ue,Ee,Te,He,$e,it,ht,Kt,It,Ut,ln=[],sn){this.selfAttendeeId=X,this.meetingId=ue,this.mediaRegion=Ee,this.callId=Te,this.audioVideoFacade=He,this.observer=$e,this.deviceManager=it,this.videoDownlinkManager=ht,this.disconnectObserver=Kt,this.dataChannelSubscribers=ln,this.videoUplinkManager=sn,this.callLogger=(0,c.tZ)("FREE-WILLY-AV"),this.consoleLog=(0,c.Cc)("FREE-WILLY-AV"),this.waitForStart=(0,o.u)(),this.waitForStop=(0,o.u)(),this.isStopRequested=!1,this.isSignallingOnly=!1,this.isReconnecting=!1,It&&(this.waitForStart=It),Ut&&(this.waitForStop=Ut),this.statsManager=new Ge(He,$e),this.meetingEventLogger=new oe($e,this.meetingId,this.mediaRegion,this.selfAttendeeId,this.callId),{reconnectTrace:this.huddleReconnectTracer}=(0,f.A)().getAllTraceHandlers()}},"AudioVideoObserverImpl");var Le=e(8571983633),ze=e(489015593),Me=e(2671711178),Ce=e(5954792826),Qe=e(9240258658),Be=e(5082930587),we=e(1990810649);function xe(){switch((0,ee.IXB)()){case-3:return 1/.7;case-2:return 1/.8;case-1:return 1/.9;case 0:return 1;case 1:return 1/1.1;case 2:return 1/1.25;case 3:return 1/1.5;case 4:return 1/1.75;case 5:return 1/2;default:return 1}}E(xe,"getScaleFactorForCurrentZoomLevel");function Se(Je,X){const[ue,Ee]=Je;return[ue*X,Ee*X]}E(Se,"getScaledCoordinates");function Ye(Je,X){var ue;const Te=(0,d.y3)()&&!(0,d.dY)("4.18.0")?1/xe():1,He=((ue=Je.itemId)===null||ue===void 0?void 0:ue.toString())||null,$e=Je.itemId==="self"?X:He;switch(Je.type){case l.Sl.New:case l.Sl.Edit:{const[it,ht]=Se(Je.segment.a,Te),[Kt,It]=Se(Je.segment.b,Te),[Ut,ln]=Se(Je.segment.c,Te),[sn,dn]=Se(Je.segment.d,Te);return{itemId:$e,type:Je.type===l.Sl.New?Qe.Y.Draw.Type.NEW:Qe.Y.Draw.Type.EDIT,segment:{a:{x:it,y:ht},b:{x:Kt,y:It},c:{x:Ut,y:ln},d:{x:sn,y:dn}}}}case l.Sl.End:return{itemId:$e,type:Qe.Y.Draw.Type.END};case l.Sl.ChangeHue:return{itemId:$e,type:Qe.Y.Draw.Type.CHANGE_HUE,hue:Je.hue};case l.Sl.Position:return{itemId:$e,type:Qe.Y.Draw.Type.POSITION,x:Je.x,y:Je.y};default:return(0,Be.Kh)(Je)}}E(Ye,"convertDrawMessageToPeerMessage");function ot(Je,X){const ue=Je.itemId===X?"self":Je.itemId;switch(Je.type){case Qe.Y.Draw.Type.NEW:case Qe.Y.Draw.Type.EDIT:{const Te=(0,d.y3)()&&!(0,d.dY)("4.18.0")?xe():1;return{itemId:ue,type:Je.type===Qe.Y.Draw.Type.NEW?l.Sl.New:l.Sl.Edit,segment:{a:[(Je.segment.a.x||0)*Te,(Je.segment.a.y||0)*Te],b:[(Je.segment.b.x||0)*Te,(Je.segment.b.y||0)*Te],c:[(Je.segment.c.x||0)*Te,(Je.segment.c.y||0)*Te],d:[(Je.segment.d.x||0)*Te,(Je.segment.d.y||0)*Te]}}}case Qe.Y.Draw.Type.END:return{itemId:ue,type:l.Sl.End};case Qe.Y.Draw.Type.CHANGE_HUE:return{itemId:ue,type:l.Sl.ChangeHue,hue:Je.hue};case Qe.Y.Draw.Type.POSITION:return{itemId:ue,type:l.Sl.Position,x:Je.x,y:Je.y};default:(0,Y.M)("Unhandled draw message case");return}}E(ot,"convertPeerMessageToDrawMessage");function _t(Je){let X=we.o.Standard;return Je.type&&Je.type===Qe.Y.Reacji.Type.Effect&&(X=we.o.Effect),Je.type&&Je.type===Qe.Y.Reacji.Type.Gif&&(X=we.o.Gif),X}E(_t,"convertFromPeerReactionType");function pt(Je){let X=Qe.Y.Reacji.Type.Standard;return Je===we.o.Effect&&(X=Qe.Y.Reacji.Type.Effect),Je===we.o.Gif&&(X=Qe.Y.Reacji.Type.Gif),X}E(pt,"convertToPeerReactionType");var vt=e(1975685771);let yt=E(class Jo{updatePresence(X,ue){ue?this.attendeesStates.set(X,this.initializeState()):this.attendeesStates.delete(X)}calculateScore(X,ue,Ee){const Te=this.attendeesStates.get(X);if(!Te||(Ee!==null&&(Te.muted=Ee),Te.muted))return 0;const He=Date.now();if(ue){Te.noiseFloor=this.updateNoiseFloor(Te,ue);const $e={timestamp:He,volume:ue};Te.volumeSamples.push($e)}return this.pruneVolumeSamples(Te),this.getScore(Te,He)}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}initializeState(){return{muted:!1,noiseFloor:0,volumeSamples:[]}}updateNoiseFloor(X,ue){let Ee=X.noiseFloor;return ue>Ee?Ee=(1-this.params.slowAttackFactor)*Ee+this.params.slowAttackFactor*ue:Ee=(1-this.params.fastDecayFactor)*Ee+this.params.fastDecayFactor*ue,Math.min(Ee,this.params.noiseFloorMax)}pruneVolumeSamples(X){const ue=Date.now()-this.params.analysisWindowMs,Ee=X.volumeSamples;for(;Ee.length&&Ee[0].timestamp<ue;)Ee.shift()}getScore(X,ue){return X.volumeSamples.reduce((Ee,Te)=>{const He=Math.max(1,Math.ceil((ue-Te.timestamp)/1e3));return Ee+Math.max(0,Te.volume-X.noiseFloor)/He},0)}constructor(){this.attendeesStates=new Map,this.params=Jo.FAST_SWITCHING_PARAMS}},"WindowedActiveSpeakerPolicy");yt.DAMPED_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:3e3},yt.FAST_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:300};let Tt=E(class{shutdown(){window.clearTimeout(this.timerHandle),delete this.timerHandle}addDisconnectedAttendee(X){new n.jp(X).hasModality(n.jp.MODALITY_CONTENT)||this.disconnectedAttendees.has(X)||(this.disconnectedAttendees.set(X,Date.now()+this.timeoutMs),this.maybeStartTimer())}deleteDisconnectedAttendee(X){this.disconnectedAttendees.delete(X),this.disconnectedAttendees.size===0&&(window.clearTimeout(this.timerHandle),delete this.timerHandle)}hasDisconnectedAttendee(X){return this.disconnectedAttendees.has(X)}maybeStartTimer(){if(this.timerHandle||this.disconnectedAttendees.size===0)return;const X=this.disconnectedAttendees.get([...this.disconnectedAttendees.keys()][0]);X&&(this.timerHandle=window.setTimeout(this.runTimer,Math.max(X-Date.now(),10)))}runTimer(){window.clearTimeout(this.timerHandle),delete this.timerHandle;const X=[],ue=Date.now();this.disconnectedAttendees.forEach((Ee,Te)=>{ue>Ee&&(this.observer.onStalePeer(Te),X.push(Te))}),X.forEach(Ee=>{this.disconnectedAttendees.delete(Ee)}),this.maybeStartTimer()}constructor(X,ue){this.timeoutMs=X,this.observer=ue,this.runTimer=this.runTimer.bind(this),this.disconnectedAttendees=new Map}},"StaleAttendeeChecker");var ft=e(4075246222),Ct=e(2208015175),At=e(8403493408),kt=e(2604971659),Bt=e(2462761869);let St=E(class{addSelf(X){this.selfId=X,this.addPeer(X)}removeSelf(X){(0,Y.M)(X===this.selfId,"Bad attendeeId when removing self"),delete this.selfId,this.removePeer(X)}addPeer(X){this.ids=(0,ft.A)(this.ids,[X]),(0,Ct.A)(this.cachedPeerStates[X],(Ee,Te)=>{this.peerStateForwarder[Te]&&!(0,Le.A)(Ee)&&this.peerStateForwarder[Te](X,Ee)}),delete this.cachedPeerStates[X];const ue=[];(0,Ct.A)(this.cachedCallState,(Ee,Te)=>{this.callStateForwarder[Te]&&!(0,Le.A)(Ee)&&this.callStateForwarder[Te].getPeerIdFn(Ee)===X&&(this.callStateForwarder[Te].forwardFn(Ee),this.callStateForwarder[Te].isCached||ue.push(Te))}),this.cachedCallState=(0,t.A)(this.cachedCallState,ue)}removePeer(X){(0,At.A)(this.ids,X),(0,Ct.A)((0,kt.A)(this.cachedCallState),ue=>{if(this.callStateForwarder[ue]){const Ee=this.callStateForwarder[ue].removeFn(this.cachedCallState[ue],X);if(!Ee){delete this.cachedCallState[ue];return}this.cachedCallState[ue]=Ee}})}getPeers(){return this.ids}hasPeer(X){return this.ids.includes(X)}hasAttendee(X){return this.hasPeer(X)||X===this.selfId}updateCallState(X){const ue=X;(0,Ct.A)(X,(Ee,Te)=>{this.callStateForwarder[Te]&&(ue[Te]=this.callStateForwarder[Te].updateFn(this.cachedCallState[Te],Ee))}),(0,Ct.A)(this.callStateForwarder,(Ee,Te)=>{this.forwardOrCacheCallState([ue],Te,Ee)})}updatePeerStates(X){(0,Ct.A)(this.peerStateForwarder,(ue,Ee)=>{this.forwardOrCachePeerState(X,Ee,ue)})}setIncludeSelfAndNoneActiveSpeaker(X,ue){X===this.includeSelf&&ue===this.includeNone||(this.includeSelf=X,this.includeNone=ue,(0,Ct.A)(this.cachedCallState,(Ee,Te)=>{this.callStateForwarder[Te]&&!(0,Le.A)(Ee)&&this.callStateForwarder[Te].forwardFn(Ee)}))}forwardOrCachePeerState(X,ue,Ee){X.filter(He=>!(0,Le.A)(He.state[ue])).map(He=>({id:He.peerId,value:He.state[ue]})).forEach(He=>{let{id:$e,value:it}=He;this.ids.includes($e)?Ee($e,it):this.cachedPeerStates[$e]={...this.cachedPeerStates[$e],[ue]:it}})}forwardOrCacheCallState(X,ue,Ee){X.filter(He=>!(0,Le.A)(He[ue])).map(He=>({value:He[ue]})).forEach(He=>{let{value:$e}=He;const it=Ee.getPeerIdFn($e);let ht=!1;it&&(this.ids.includes(it)||it===this.NO_ACTIVE_SPEAKER)?Ee.forwardFn($e):ht=!0,(ht||Ee.isCached)&&(this.cachedCallState={...this.cachedCallState,[ue]:$e})})}getAttendeeId(X){return new n.jp(X).base()}constructor(X){this.observer=X,this.NO_ACTIVE_SPEAKER="none",this.ids=[],this.includeSelf=!1,this.includeNone=!1,this.cachedCallState={},this.cachedPeerStates={},this.callStateForwarder={activeSpeakerList:{updateFn:(ue,Ee)=>{const Te=ue||[],He=Ee&&Ee.length?Ee[0]:this.NO_ACTIVE_SPEAKER;return(0,Bt.A)(Te,[He,this.NO_ACTIVE_SPEAKER]),Te.unshift(He),Te},removeFn:(ue,Ee)=>{if(ue)return(0,At.A)(ue,Ee),ue},getPeerIdFn:ue=>{const Ee=ue.filter(Te=>Te===this.NO_ACTIVE_SPEAKER?this.includeNone:this.includeSelf||this.selfId!==this.getAttendeeId(Te));if(Ee.length)return Ee[0]},forwardFn:ue=>{const Ee=ue.filter(Te=>Te===this.NO_ACTIVE_SPEAKER&&this.includeNone?!0:this.includeSelf||this.selfId!==this.getAttendeeId(Te));!Ee.length||Ee[0]===this.NO_ACTIVE_SPEAKER?this.observer.onNewActiveSpeaker(void 0):this.observer.onNewActiveSpeaker(this.selfId===Ee[0]?"self":Ee[0])},isCached:!0}},this.peerStateForwarder={isDrawEnabled:(ue,Ee)=>{this.observer.onPeerDrawEnabled(ue,Ee)}}}},"PeerCache");var Gt=e(252549317);let Et=E(class{destroy(){var X,ue,Ee;(X=this.peerCache)===null||X===void 0||X.getPeers().forEach(Te=>this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(Te)),delete this.peerCache,(ue=this.staleAttendeeChecker)===null||ue===void 0||ue.shutdown(),delete this.staleAttendeeChecker,this.audioVideoFacade.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeUnsubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.audioVideoFacade.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerDetectorCallback),delete this.windowedActiveSpeakerPolicy,this.audioVideoFacade.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),(Ee=this.audioVideoFacade.transcriptionController)===null||Ee===void 0||Ee.unsubscribeFromTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.attendeeMuteRequests={}}selfDrawEnabled(X){this.sendPeerMessageOverDataChannel(new Qe.Y({capabilities:{isDrawEnabled:X},fromPeerIdString:this.selfAttendeeId}))}sendReacji(X,ue,Ee){const Te={emoji:X,...ue?{type:pt(ue)}:{},...Ee?{emojiUrl:Ee}:{}};this.sendPeerMessageOverDataChannel(new Qe.Y({reacji:Te,fromPeerIdString:this.selfAttendeeId}))}sendBackground(X){this.sendPeerMessageOverDataChannel(new Qe.Y({background:{url:X},fromPeerIdString:this.selfAttendeeId}))}sendMuteRequest(X){this.sendPeerMessageOverDataChannel(new Qe.Y({muteRequest:{peerId:X},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxRequest(X){this.sendPeerMessageOverDataChannel(new Qe.Y({jukeboxRequest:{songKey:X},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxStopRequest(){this.sendPeerMessageOverDataChannel(new Qe.Y({jukeboxRequest:{stop:!0},fromPeerIdString:this.selfAttendeeId}))}sendDrawMessage(X){this.sendPeerMessageOverDataChannel(new Qe.Y({draw:Ye(X,this.selfAttendeeId),fromPeerIdString:this.selfAttendeeId}))}sendContentShareDetails(X){this.sendPeerMessageOverDataChannel(new Qe.Y({contentShareDetails:{sourceType:X,itemId:this.selfAttendeeId},fromPeerIdString:this.selfAttendeeId}))}sendRecordingStartNotification(){this.sendPeerMessageOverDataChannel(new Qe.Y({recordingStartNotification:{type:Qe.Y.RecordingStartNotification.Type.SUMMARY},fromPeerIdString:this.selfAttendeeId}))}onStalePeer(X){this.callLogger.info(`Removing stale peer: ${X}`),this.attendeeLeft(X),this.observer.onPeerDisconnected(X),this.observer.onPeerLeft(X)}setIncludeSelfAndNoneActiveSpeaker(X,ue){var Ee;(Ee=this.peerCache)===null||Ee===void 0||Ee.setIncludeSelfAndNoneActiveSpeaker(X,ue)}attendeeJoined(X){if(X===this.selfAttendeeId){var ue;(ue=this.peerCache)===null||ue===void 0||ue.addSelf(X)}else{var Ee;(Ee=this.peerCache)===null||Ee===void 0||Ee.addPeer(X)}this.audioVideoFacade.realtimeSubscribeToVolumeIndicator(X,this.realtimeVolumeIndicatorCallback),this.consoleLog.info(`Subscribed to attendee=${X} volume indicator`)}attendeeLeft(X){if(X===this.selfAttendeeId){var ue;(ue=this.peerCache)===null||ue===void 0||ue.removeSelf(X)}else{var Ee;(Ee=this.peerCache)===null||Ee===void 0||Ee.removePeer(X)}this.audioVideoFacade.removeVideoTilesByAttendeeId(X),this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(X),this.consoleLog.info(`Unsubscribed from attendee=${X} volume indicator`)}sendPeerMessageOverDataChannel(X){this.isDataChannelReady()?this.audioVideoFacade.realtimeSendDataMessage(this.dataChannelTopic,Qe.Y.encode(X).finish()):this.logFailureToSendPeerMessage(X)}isAttendeeOfTypeContent(X){return new n.jp(X).hasModality(n.jp.MODALITY_CONTENT)}realtimeAttendeeIdPresenceCallback(X,ue,Ee,Te){var He;if(this.consoleLog.info(`Attendee presence: attendeeId=${X}, isSelf=${this.selfAttendeeId===new n.jp(X).base()}, present=${ue}, externalUserId=${Ee}, dropped=${Te}`),(He=this.windowedActiveSpeakerPolicy)===null||He===void 0||He.updatePresence(X,ue),this.isAttendeeOfTypeContent(X)){ue||this.audioVideoFacade.removeVideoTilesByAttendeeId(X);return}if(!Ee){this.callLogger.error(`Attendee presence: no externalUserId for attendee=${X}`),this.observer.onClogError("MissingExternalUserId");return}let $e=null;if(ue){var it;Te===!1&&!(!((it=this.peerCache)===null||it===void 0)&&it.hasAttendee(X))?$e="joined":$e="reconnected"}else Te===!0?$e="disconnected":$e="left";if($e===null){this.callLogger.error("Presence callback event is null");return}if(this.selfAttendeeId===X)switch($e){case"joined":this.observer.onSelfJoined(),this.observer.onSelfConnected();break;case"left":this.observer.onSelfDisconnected(),this.observer.onSelfLeft();break;case"disconnected":this.observer.onSelfDisconnected();break;case"reconnected":this.observer.onSelfConnected();break;default:this.callLogger.error(`unknown self event ${$e}`);return}else{const Ut=(0,Ce.l)(Ee);if(!Ut){this.callLogger.error(`No externalUserId for ${X}`);return}switch($e){case"joined":{var ht;(ht=this.staleAttendeeChecker)===null||ht===void 0||ht.deleteDisconnectedAttendee(X),this.observer.onPeerJoined(X,Ut),this.observer.onPeerConnected(X),this.updatePeerVideoTile(X);break}case"left":this.observer.onPeerDisconnected(X),this.observer.onPeerLeft(X);break;case"disconnected":var Kt;(Kt=this.staleAttendeeChecker)===null||Kt===void 0||Kt.addDisconnectedAttendee(X),this.observer.onPeerDisconnected(X);break;case"reconnected":{var It;(It=this.staleAttendeeChecker)===null||It===void 0||It.deleteDisconnectedAttendee(X),this.observer.onPeerConnected(X),this.updatePeerVideoTile(X);break}default:this.callLogger.error(`unknown peer event ${$e}`);return}}$e==="joined"&&this.attendeeJoined(X),$e==="left"&&this.attendeeLeft(X)}realtimeFatalErrorCallback(X){this.callLogger.error(`Chime session fatal error: name=${X.name}, message=${X.message}`),this.observer.onClogError(`FatalError: ${X.name} - ${X.message}`)}realtimeLocalSignalStrengthChangeCallback(X){this.consoleLog.debug(`Local attendee signalStrength=${X}`)}realtimeMuteAndUnmuteLocalAudioCallback(X){this.callLogger.debug(`Local attendee mute=${X}`),this.observer.onPeerMuted("self",X)}realtimeSetCanUnmuteLocalAudioCallback(X){this.consoleLog.debug(`Local attendee can unmute = ${X}`)}realtimeVolumeIndicatorCallback(X,ue,Ee,Te,He){this.consoleLog.debug(`Attendee volume indicator: attendeeId=${X}, volume=${ue}, muted=${Ee}, signalStrength=${Te}, externalUserId=${He}`),this.selfAttendeeId!==X&&(Ee?this.observer.onPeerMuted(X,!0):Ee!==null&&Ee===!1&&this.observer.onPeerMuted(X,!1)),Te!==null&&(this.selfAttendeeId===X?this.observer.onSelfConnectionQualityChanged("uplink",(0,l.MK)(Te)):this.observer.onPeerConnectionQualityChanged(X,"uplink",(0,l.MK)(Te)))}activeSpeakerDetectorCallback(X){var ue,Ee;(ue=this.peerCache)===null||ue===void 0||ue.updateCallState({activeSpeakerList:X}),(Ee=this.videoUplinkManager)===null||Ee===void 0||Ee.reportActiveSpeakerChange(this.selfAttendeeId===X[0])}realtimeReceiveDataMessageCallback(X){if(this.selfAttendeeId===X.senderAttendeeId){if(!X.throttled)return;this.callLogger.info(`Data message throttled: size=${X.data.length} bytes`);return}let ue;try{ue=Qe.Y.decode(X.data)}catch(Ee){this.callLogger.error(`Peer Message failed during decode, ignoring peer message.
				| Error: ${Ee}
				| Data Sender Attendee ID: ${X.senderAttendeeId}
				| Data Sender External Attendee ID: ${X.senderExternalUserId}
				| Topic: ${X.topic}`);return}this.handlePeerMessageFromDataMessage(ue,X.senderAttendeeId)}handlePeerMessageFromDataMessage(X,ue){const Ee=ue;if(X.jukeboxRequest){var Te;if(!(0,vt.Z)(Ee,"senderAttendeeId is not populated")||!(0,vt.Z)(X.jukeboxRequest,"message.jukeboxRequest is required in the jukebox request message"))return;if(!this.peerCache||!(!((Te=this.peerCache)===null||Te===void 0)&&Te.hasPeer(Ee))){this.callLogger.info(`Dropping jukeboxRequest from unknown peer: ${Ee}`);return}X.jukeboxRequest.songKey&&!X.jukeboxRequest.stop&&this.observer.onJukeboxRequest(X.jukeboxRequest.songKey),X.jukeboxRequest.stop&&this.observer.onJukeboxStopRequest()}else if(X.reacji){var He;if(!(0,vt.Z)(Ee,"senderAttendeeId is not populated")||!(0,vt.Z)(X.reacji.emoji,"reacji.emoji is required in the reacji message"))return;if(!((He=this.peerCache)===null||He===void 0)&&He.hasPeer(Ee)){const Ut=_t(X.reacji);var $e;this.observer.onPeerReacji(Ee,X.reacji.emoji,!0,Ut,($e=X.reacji.emojiUrl)!==null&&$e!==void 0?$e:void 0)}else this.callLogger.info(`Dropping reacji from unknown peer: ${Ee}`)}else if(X.draw){var it;const Ut=ot(X.draw,this.selfAttendeeId);if(!(0,vt.Z)(Ee,"senderAttendeeId is not populated")||!(0,vt.Z)(Ut,"Draw message must be correctly formed"))return;!((it=this.peerCache)===null||it===void 0)&&it.hasPeer(Ee)?this.observer.onPeerDrawMessage(Ee,Ut):this.callLogger.info(`Dropping draw message from unknown peer: ${Ee}`)}else if(X.capabilities){if(!(0,vt.Z)(Ee,"senderAttendeeId is not populated"))return;if(!(0,Le.A)(X.capabilities.isDrawEnabled)){var ht;(ht=this.peerCache)===null||ht===void 0||ht.updatePeerStates([{peerId:Ee,state:{isDrawEnabled:X.capabilities.isDrawEnabled}}])}}else if(X.muteRequest){var Kt;if(!(0,vt.Z)(Ee,"senderAttendeeId is not populated")||!(0,vt.Z)(X.muteRequest.peerId,"muteRequest.peerId is required in the background message"))return;if(!((Kt=this.peerCache)===null||Kt===void 0)&&Kt.hasPeer(Ee)){if(X.muteRequest.peerId===this.selfAttendeeId){var It;const Ut=this.attendeeMuteRequests[ue],ln=Ut==null?void 0:Ut.lastRequestTime,sn=Date.now();if(Ut?(Ut.lastRequestTime=sn,Ut.count+=1):this.attendeeMuteRequests[ue]={lastRequestTime:sn,count:1},ln&&sn-ln<=this.attendeeMuteRequestThrottleMs){this.callLogger.info(`Throttled mute request from attendee: ${ue} peer: ${Ee}`);return}if(((It=this.attendeeMuteRequests[ue])===null||It===void 0?void 0:It.count)>=this.attendeeMuteRequestMaxAllowed){this.callLogger.info(`Dropped mute request from attendee: ${ue} peer: ${Ee}`);return}}this.observer.onPeerMuteRequest(Ee,X.muteRequest.peerId)}else this.callLogger.info(`Dropping mute request from unknown peer: ${Ee}`)}else if(X.contentShareDetails){if(!(0,vt.Z)(Ee,"senderAttendeeId is not populated")||!(0,vt.Z)(X.contentShareDetails.itemId,"contentShareDetails.itemId is required in the contentShareDetails message")||!(0,vt.Z)(X.contentShareDetails.sourceType,"contentShareDetails.sourceType is required in the contentShareDetails message"))return;this.callLogger.info(`Received content share details for item: ${X.contentShareDetails.itemId}, type: ${X.contentShareDetails.sourceType}`);const Ut=(0,Gt.Vd)(X.contentShareDetails.sourceType);this.observer.onContentShareDetailsUpdate(Ee,Ut,X.contentShareDetails.sourceType)}}realtimeReceiveTranscriptEventCallback(X){this.observer.onTranscriptionEvent(X)}updatePeerVideoTile(X){this.audioVideoFacade.getAllVideoTiles().filter(Te=>{const He=Te.state();return!He||!He.boundAttendeeId?!1:new n.jp(He.boundAttendeeId).base()===new n.jp(X).base()}).forEach(Te=>{const He=(Te==null?void 0:Te.state())||null;He&&this.observer.onPeerVideoTileUpdate(X,He)})}constructor(X,ue,Ee,Te){var He;this.selfAttendeeId=X,this.audioVideoFacade=ue,this.observer=Ee,this.videoUplinkManager=Te,this.callLogger=(0,c.Jt)("AUDIO-VIDEO-FACADE-SUBS"),this.consoleLog=(0,c.Cc)("AUDIO-VIDEO-FACADE-SUBS"),this.dataChannelTopic="data-channel",this.staleAttendeeTimeoutMs=60*1e3,this.attendeeMuteRequestThrottleMs=10*1e3,this.attendeeMuteRequestMaxAllowed=50,this.attendeeMuteRequests={},this.isDataChannelReady=()=>{var $e,it,ht;return($e=this.audioVideoFacade.audioVideoController)===null||$e===void 0||(it=$e.meetingSessionContext)===null||it===void 0||(ht=it.signalingClient)===null||ht===void 0?void 0:ht.ready()},this.logFailureToSendPeerMessage=$e=>{const it=$e.draw?"draw":"reacji",ht=E(()=>this.callLogger.error(`Failed to send ${it} peer message. Data channel is not ready to use.`),"logError");return(0,Me.A)(it,ht)},(0,ze.A)(this,["realtimeAttendeeIdPresenceCallback","realtimeFatalErrorCallback","realtimeLocalSignalStrengthChangeCallback","realtimeMuteAndUnmuteLocalAudioCallback","realtimeSetCanUnmuteLocalAudioCallback","activeSpeakerDetectorCallback","realtimeVolumeIndicatorCallback","realtimeReceiveDataMessageCallback","realtimeReceiveTranscriptEventCallback"]),this.audioVideoFacade.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeSubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeSubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.windowedActiveSpeakerPolicy=new yt,this.audioVideoFacade.subscribeToActiveSpeakerDetector(this.windowedActiveSpeakerPolicy,this.activeSpeakerDetectorCallback),this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),(He=this.audioVideoFacade.transcriptionController)===null||He===void 0||He.subscribeToTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.peerCache=new St(this.observer),this.staleAttendeeChecker=new Tt(this.staleAttendeeTimeoutMs,this)}},"AudioVideoFacadeSubscriber");var wt=e(3867135795),Jt=e(6696292586);const Lt=15,Zt=2560,qt=1e3,tt="text";let st=E(class{stopMusic(X){let{cleanObserver:ue}=X;this.huddlesJukeboxEnabled&&this.isMusicEnabled&&(this.isMusicEnabled=!1,this.audioVideoFacade.stopContentShare(),ue&&this.audioVideoFacade.removeContentShareObserver(this))}async stop(){this.isScreenshareEnabled&&(this.isStopRequested=await this.stopContentShare()),this.huddlesJukeboxEnabled&&this.stopMusic({cleanObserver:!0}),this.isStopRequested||(this.observer.onScreenShareStopped(),this.audioVideoFacade.removeContentShareObserver(this))}contentShareDidStart(){this.log.info("Chime content share started"),this.waitForStart.resolve(!0),this.observer.onScreenShareStarted()}contentShareDidStop(){this.log.info("Chime content share stopped"),this.isScreenshareEnabled&&this.log.info("Screenshare stop: stream ended"),this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped(),this.isStopRequested&&this.audioVideoFacade.removeContentShareObserver(this)}contentShareDidPause(){this.log.info("Chime content share paused")}contentShareDidUnpause(){this.log.info("Chime content share unpaused")}async setSongStream(X){this.huddlesJukeboxEnabled&&(this.waitForStart=(0,o.u)(),await this.audioVideoFacade.startContentShare(X),this.isMusicEnabled=!0)}async setScreenshare(X,ue,Ee){if(X===this.isScreenshareEnabled)return;const{huddleEventsTrace:Te}=(0,f.A)().getAllTraceHandlers();if(X){let He=ue;if(ue){const it=ue.split(":");it.length===3&&it[2]!=="0"&&(it[2]="0",He=it.join(":"),this.log.warn(`Munging screen share media source id, before: ${ue}, after: ${He}`))}let $e;try{this.waitForStart=(0,o.u)();const it=E(ht=>{throw this.log.error(`getUserMedia error during huddle screenshare attempt: ${ht.name} ${ht.message}`),ht},"logGetUserMediaError");if((0,ee.g9M)()&&this.log.info(`Starting screen share with zoomLevel = ${(0,ee.IXB)()}`),(0,ee.g9M)()&&Ee){const{screenHeight:ht,screenWidth:Kt,selectedDisplayId:It}=Ee;if($e={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:He,maxFrameRate:Lt}}},Kt&&ht){const sn=$e.video.mandatory,dn=Kt/ht,gn=Zt;sn.maxWidth=Kt<gn?Kt:gn,sn.maxHeight=ht<gn?ht:gn;const In=navigator.mediaDevices.getSupportedConstraints();(0,wt.A)(In,"aspectRatio")&&!!In.aspectRatio&&(0,Jt.A)(dn)&&(sn.minAspectRatio=dn,sn.maxAspectRatio=dn),this.log.info(`Starting screen share with resolution constraints: ${sn.maxWidth} x ${sn.maxHeight} | resolution provided: ${Kt} x ${ht}`)}else this.log.info("Starting application window share without proposed resolution");const ln=await navigator.mediaDevices.getUserMedia($e).catch(it);(ln==null?void 0:ln.getVideoTracks().length)>0?(this.log.debug(`Applying content hint to content share stream. Content Hint ${tt}`),ln.getVideoTracks()[0].contentHint=tt):this.log.warn("No video tracks where available when starting constrained content share"),setTimeout(()=>{const sn=ln.getVideoTracks()[0].getSettings(),dn=(0,Gt.MS)(sn==null?void 0:sn.deviceId);P.A.publish({type:L.lx.ScreenshareContentType,update:{screenshareContentType:dn}}),this.log.info(`Created video track with resolution: ${sn.width} x ${sn.height} framerate: ${sn.frameRate} aspect ratio: ${sn.aspectRatio}`),It&&this.log.info(`Sharing from selected display: ${It}`)},500),await this.audioVideoFacade.startContentShare(ln),setTimeout(()=>this.applyContentShareConstraints(ln),qt),Te==null||Te.update({name:v.p.SCREENSHARE,type:v.G.START})}else{this.log.info("Starting unconstrained content share with chime API's startContentShareFromScreenCapture");const ht=await this.audioVideoFacade.startContentShareFromScreenCapture(He).catch(it);if(Te==null||Te.update({name:v.p.SCREENSHARE,type:v.G.START}),setTimeout(()=>this.applyContentShareConstraints(ht),qt),(ht==null?void 0:ht.getVideoTracks().length)>0){this.log.debug(`Applying content hint to content share stream. Content Hint ${tt}`),ht.getVideoTracks()[0].contentHint=tt;const Kt=ht.getVideoTracks()[0].getSettings(),It=(0,Gt.MS)(Kt==null?void 0:Kt.deviceId);P.A.publish({type:L.lx.ScreenshareContentType,update:{screenshareContentType:It}})}else this.log.warn("No video tracks where available when starting unconstrained content share")}}catch(it){const ht=E(()=>{delete this.waitForStart,this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped()},"exitScreenshare");if(it.name==="NotAllowedError"){ht(),it.message==="Permission denied by system"&&this.observer.onCheckSystemMediaAccess(l.mT.SCREEN);return}if(it.name==="OverconstrainedError"){ht(),$e&&this.log.error(`Invalid stream constraints prevented screenshare from succeeding: ${JSON.stringify($e)}`);return}if(["TypeError","AbortError","Error"].includes(it.name)){ht(),this.observer.onScreenShareError(l.lD.ERROR);return}if(it.name==="NotReadableError"){ht(),this.observer.onScreenShareError(l.lD.NOT_READABLE_ERROR);return}throw it.name==="NotFoundError"&&(ht(),this.observer.onScreenShareError(l.lD.NOT_FOUND_ERROR)),this.log.error(`Encountered an uncaught error attempting to start screen share: ${it.name} ${it.message}`),this.waitForStart.resolve(!1),ht(),it}this.lastEnableTimeMs=Date.now(),this.isScreenshareEnabled=X}else this.isScreenshareEnabled&&await this.stopContentShare()}async applyContentShareConstraints(X){if(!this.isExperimentalSDK)return;const ue=X.getVideoTracks()[0];if(!ue){this.log.info("Constraints not re-applied no video track available");return}ue.getSettings()||this.log.info("Constraints not re-applied no video track settings available");const Te={width:{ideal:Zt},height:{ideal:Zt},frameRate:{ideal:Lt}};await ue.applyConstraints(Te),this.log.info("Constraints re-applied to content share (resolution overwrite applied)")}isScreenShareEnabled(){return this.isScreenshareEnabled||!1}async stopContentShare(){let X=!1;if(this.waitForStart.isPending()?Date.now()-this.lastEnableTimeMs>1e4?(X=!0,this.log.info(`Stop screen share, force: ${Date.now()-this.lastEnableTimeMs} ms since start`)):(this.log.info("Stop screen share, waiting for content share start to resolve"),X=await this.waitForStart,this.log.info(`Stop screen share, wait for content share start resolve finished: ${X}`)):(X=this.waitForStart.value(),this.log.info(`Stop screen share, promise resolved: ${X}`)),X){this.audioVideoFacade.stopContentShare(),this.isScreenshareEnabled=!1;const{huddleEventsTrace:ue}=(0,f.A)().getAllTraceHandlers();ue==null||ue.update({name:v.p.SCREENSHARE,type:v.G.STOP}),P.A.publish({type:L.lx.ScreenshareContentType,update:null})}else this.log.warn("Screen share disable ignored as screen share was not started successfully");return X}constructor(X,ue,Ee,Te){this.audioVideoFacade=X,this.observer=ue,this.huddlesJukeboxEnabled=Ee,this.isExperimentalSDK=Te,this.log=(0,c.tZ)("FREE-WILLY-CONTENT-SHARE"),this.isStopRequested=!1,this.lastEnableTimeMs=0,this.audioVideoFacade.addContentShareObserver(this),this.setScreenshare=I(this,this.setScreenshare,{skipIntermediatePendingRuns:!1})}},"ContentShareManager"),gt=E(class{addObserver(X){var ue,Ee;(ue=this.videoDownlinkPolicy)===null||ue===void 0||(Ee=ue.addObserver)===null||Ee===void 0||Ee.call(ue,X)}removeObserver(X){var ue,Ee;(ue=this.videoDownlinkPolicy)===null||ue===void 0||(Ee=ue.removeObserver)===null||Ee===void 0||Ee.call(ue,X)}remoteVideoSourcesDidChange(X){this.videoSources=X,this.updateChimeVideoPreferences()}updateChimeVideoPreferences(){if(!this.videoSources||!this.videoDownlinkPolicy)return;const X=[];this.videoSources.forEach(ue=>{var Ee;const Te=(Ee=ue.attendee)===null||Ee===void 0?void 0:Ee.attendeeId;Te===this.selfAttendeeId||!Te||(Te.includes("#content")||!this.isAudioOnlyMode)&&X.push(ue)}),this.sendChimeVideoPreferences(X)}constructor({selfAttendeeId:X,videoDownlinkPolicy:ue}){this.logger=new me.k("Huddles Video Downlink Manager"),this.isAudioOnlyMode=!1,this.toggleAllIncomingVideo=Ee=>{this.isAudioOnlyMode=Ee,this.updateChimeVideoPreferences()},this.sendChimeVideoPreferences=Ee=>{var Te;try{this.logger.debug(`Sending updated video preferences to chime: ${JSON.stringify(Ee)}`)}catch{}(Te=this.videoDownlinkPolicy)===null||Te===void 0||Te.chooseRemoteVideoSources(Ee)},this.videoDownlinkPolicy=ue,this.selfAttendeeId=X}},"VideoDownlinkManager");const Nt=null;var Ht=e(337319621),Xt=e(2240330919);const j=30,Ie=720;class Ue{get videoParticipantCount(){const X=this.audioVideoFacade.hasStartedLocalVideoTile()?1:0;return(this.remoteVideoParticipantCount||0)+X}constructor(X,ue){var Ee=this;this.observer=X,this.audioVideoFacade=ue,this.logger=(0,Ht.Wo)({label:"VIDEO-UPLINK"}),this.remoteVideoParticipantCount=0,this.maxIdealBitrate=1200,this.minimumBitrate=240,this.useMinimumBitrate=!1,this.currentBitrate=this.maxIdealBitrate,this.isActiveSpeaker=!1,this.bitrateUpdateDelayMs=5e3,this.remoteVideoSourcesDidChange=Te=>{this.logger.info("remote video sources changed",Te),this.remoteVideoParticipantCount=Te.length,this.updateVideoQualitySettings()},this.reportActiveSpeakerChange=Te=>{this.logger.debug(`user is active speaker: ${Te}`);const He=this.isActiveSpeaker;this.isActiveSpeaker=Te,He===this.isActiveSpeaker?this.logger.debug(`Active speaker status unchanged ${this.isActiveSpeaker}.`):(this.logger.info(`Active speaker status changed to ${this.isActiveSpeaker}. Updating video quality settings.`),this.updateVideoQualitySettings())},this.updateVideoQualitySettings=()=>{const Te=this.maxIdealBitrate;if(!this.videoParticipantCount){this.logger.debug("Video not active in Huddle. Returning.");return}const He=this.currentBitrate;if(this.useMinimumBitrate?this.currentBitrate=this.minimumBitrate:this.isActiveSpeaker?this.currentBitrate=Te:this.remoteVideoParticipantCount<=2?this.currentBitrate=Te:this.remoteVideoParticipantCount<=4?this.currentBitrate=Te*2/3:this.currentBitrate=Te*2/this.remoteVideoParticipantCount,this.currentBitrate=(0,Xt.A)([this.currentBitrate,this.minimumBitrate])||He,He===this.currentBitrate){this.logger.info(`Target video bitrate unchanged (${this.currentBitrate} kbps). Not updating max bitrate`);return}const $e=He>this.currentBitrate;this.applyNextVideoSettings($e)},this.shouldRestrictVideoQuality=Te=>{this.logger.info(`should restrict video quality due to connection quality: ${Te}`),this.useMinimumBitrate=Te,this.updateVideoQualitySettings()},this.applyBitrate=()=>{var Te;!this.currentBitrate||!(!((Te=this.audioVideoFacade)===null||Te===void 0)&&Te.setVideoMaxBandwidthKbps)||(this.logger.info(`applying new video max bitrate to local video stream ${this.currentBitrate}`),this.audioVideoFacade.setVideoMaxBandwidthKbps(Math.trunc(this.currentBitrate)))},this.applyBitrateDelayed=(0,_.A)(this.applyBitrate,this.bitrateUpdateDelayMs,{leading:!1}),this.applyNextVideoSettings=function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?Ee.applyBitrateDelayed():Ee.applyBitrate()},this.logger.info("Initializing video uplink manager"),this.audioVideoFacade.chooseVideoInputQuality(Ie,Ie,j),this.observer.onMaxTileSizeUpdated(Ie),this.applyNextVideoSettings()}}E(Ue,"VideoUplinkManager");var rt=e(3146858537),zt=e(3398586081),Wt=e(1829947126);let Ft=E(class{initialize(X,ue){this.gainNode=ue,this.audioContext=X}onAudioLevelUpdated(X){isNaN(X.value)||X.value<this.audioLevelActivationThreshold||(this.currentDuckingEndTimeout&&clearTimeout(this.currentDuckingEndTimeout),this.startDucking())}startDucking(){if(!this.gainNode||!this.audioContext)return;const X=this.defaultVolume*this.duckingAudioAdjustmentLevel;this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.gainNode.gain.exponentialRampToValueAtTime(X,this.audioContext.currentTime+this.fadeInTimeLocal),this.currentDuckingEndTimeout=setTimeout(()=>{this.endDucking()},this.waitForFadeOutTime)}endDucking(){var X;this.gainNode&&this.audioContext&&((X=this.gainNode)===null||X===void 0||X.gain.exponentialRampToValueAtTime(this.defaultVolume,this.audioContext.currentTime+this.fadeOutTime))}constructor(X){this.defaultVolume=X,this.fadeOutTime=20,this.fadeInTimeLocal=.2,this.waitForFadeOutTime=3e3,this.duckingAudioAdjustmentLevel=.2,this.audioLevelActivationThreshold=.04,this.onAudioLevelUpdated=this.onAudioLevelUpdated.bind(this),Wt.A.subscribeAll(this.onAudioLevelUpdated)}},"JukeboxDucker");const rn="HUDDLE-JUKEBOX";let _n=E(class{async startLocalJukebox(X){let{song:ue,volume:Ee}=X;var Te;const He=this.getSongUrl({song:ue});if(He===this.localAudioUrl)return;this.callLogger.info(`Starting local jukebox song key: ${ue.key}.`),this.audioContext||(this.audioContext=new AudioContext),this.cleanup(),this.localAudioUrl=He;const it=await(await window.fetch(He)).arrayBuffer(),ht=await this.audioContext.decodeAudioData(it);this.audioBufferSourceNode=this.audioContext.createBufferSource(),this.audioBufferSourceNode.buffer=ht,this.localAudio=new Audio,this.localAudio.volume=Ee,await this.localAudio.setSinkId((0,D._o)()),this.localMediaStreamAudioDestinationNode=this.audioContext.createMediaStreamDestination(),this.gainNode=this.audioContext.createGain(),(Te=this.jukeboxDucker)===null||Te===void 0||Te.initialize(this.audioContext,this.gainNode),this.gainNode.gain.value=this.defaultVolume,this.audioBufferSourceNode.connect(this.gainNode),this.gainNode.connect(this.localMediaStreamAudioDestinationNode),this.localAudio.srcObject=this.localMediaStreamAudioDestinationNode.stream,this.audioBufferSourceNode.loop=!0,this.audioBufferSourceNode.start(),this.localAudio.play()}async startContentShareJukebox(X){let{song:ue}=X;var Ee,Te;this.audioContext||(this.audioContext=new AudioContext),this.audioDestination||(this.audioDestination=this.audioContext.createMediaStreamDestination()),this.callLogger.info(`Starting jukebox song key: ${ue.key}`),this.cleanup();const He=this.getSongUrl({song:ue}),it=await(await window.fetch(He)).arrayBuffer(),ht=await this.audioContext.decodeAudioData(it);return this.audioBufferSourceNode=this.audioContext.createBufferSource(),this.audioBufferSourceNode.buffer=ht,this.localAudio=new Audio,await this.localAudio.setSinkId((0,D._o)()),this.localMediaStreamAudioDestinationNode=this.audioContext.createMediaStreamDestination(),this.gainNode=this.audioContext.createGain(),(Ee=this.jukeboxDucker)===null||Ee===void 0||Ee.initialize(this.audioContext,this.gainNode),this.gainNode.gain.value=this.defaultVolume,this.audioBufferSourceNode.connect(this.gainNode),this.gainNode.connect(this.audioDestination),this.gainNode.connect(this.localMediaStreamAudioDestinationNode),this.localAudio.srcObject=this.localMediaStreamAudioDestinationNode.stream,this.audioBufferSourceNode.loop=!0,this.audioBufferSourceNode.start(),this.localAudio.play(),(Te=this.audioDestination)===null||Te===void 0?void 0:Te.stream}stopJukebox(){this.callLogger.info(`Stopping jukebox for song: ${this.localAudioUrl||""}`),this.cleanup(),this.audioContext=void 0,this.audioDestination=void 0}cleanup(){var X,ue,Ee,Te;(X=this.audioBufferSourceNode)===null||X===void 0||X.stop(),this.audioBufferSourceNode=void 0,(ue=this.localAudio)===null||ue===void 0||ue.pause(),this.localAudio=void 0,this.localAudioUrl=void 0,(Ee=this.gainNode)===null||Ee===void 0||Ee.disconnect(),this.gainNode=void 0,(Te=this.audioDestination)===null||Te===void 0||Te.disconnect()}hasAudio(){return!!this.localAudio}getVolume(){var X;return(X=this.localAudio)===null||X===void 0?void 0:X.volume}getSongUrl(X){let{song:ue}=X;return ue.url}constructor(){this.defaultVolume=.3,this.callLogger=(0,c.Jt)(rn),this.callLogger.info("Huddle Jukebox Manager created."),this.jukeboxDucker=new Ft(this.defaultVolume)}},"JukeboxManager");const un=(0,zt.A)(()=>new _n);var Rn=e(7164668892);const Un=new Rn.ConnectionHealthPolicyConfiguration,Wn={connectionWaitTimeMs:15*1e3,connectionUnhealthyThreshold:5,sendingAudioFailureSamplesToConsider:3,sendingAudioFailureInitialWaitTimeMs:15*1e3,missedPongsLowerThreshold:1,missedPongsUpperThreshold:3,consecutiveVideoEncodingFailureThreshold:5},Ln=E(class{constructor(X=!1){this.expectAv1EncoderFreeze=X,this.getConfiguration=()=>{const ue={...Un,...Wn};return this.expectAv1EncoderFreeze&&(ue.consecutiveVideoEncodingFailureThreshold=20),ue}}},"ConnectionHealthPolicyManager");var On=e(610288365),kn=e(1921074781),Hn;(function(Je){Je.Control="control",Je.Vp8="vp8",Je.Vp8Svc="vp8_svc",Je.Vp9="vp9",Je.Vp9Svc="vp9_svc",Je.Av1="av1",Je.Av1Svc="av1_svc"})(Hn||(Hn={}));const Bn=(0,Ht.Wo)({label:"HUDDLE-VIDEO-CODECS"}),Jn=E(async Je=>{let{audioVideoFacade:X,h264BaselineProfileEnabled:ue,disableVp9:Ee}=Je;var Te,He;const $e=[];!(0,d.gm)()&&!Ee&&$e.push(n.KK.vp9()),ue&&$e.push(n.KK.h264BaselineProfile()),$e.push(n.KK.h264()),Bn.info(`Setting preferred camera video codec to ${(Te=$e[0])===null||Te===void 0?void 0:Te.codecName}`),Bn.debug("Setting camera video codec preferences",$e),(He=X.setVideoCodecSendPreferences)===null||He===void 0||He.call(X,$e)},"setCameraVideoCodec"),ts=E(async Je=>{let{useAv1:X,audioVideoFacade:ue,h264BaselineProfileEnabled:Ee}=Je;var Te,He;const $e=[];X&&$e.push(n.KK.av1()),Ee&&$e.push(n.KK.h264BaselineProfile()),$e.push(n.KK.h264()),Bn.info(`Setting preferred content share video codec to ${(Te=$e[0])===null||Te===void 0?void 0:Te.codecName}`),Bn.debug("Setting content share video codec preferences",$e),(He=ue.setContentShareVideoCodecPreferences)===null||He===void 0||He.call(ue,$e)},"setScreenshareVideoCodec");var on=e(2028988448),$n;(function(Je){Je.CONNECTION_STATE_CHANGE="connectionstatechange",Je.ICE_CONNECTION_STATE_CHANGE="iceconnectionstatechange"})($n||($n={}));var zn;(function(Je){Je.CLOSE="close",Je.ERROR="error"})(zn||(zn={}));var Zn;(function(Je){Je.DISCONNECTED="disconnected",Je.FAILED="failed",Je.CONNECTED="connected",Je.CLOSED="closed"})(Zn||(Zn={}));const yn=5*1e3,Kn=1*1e3;let Cn=null;class os{constructor(X){var ue=this;this.observer=X,this.callLogger=(0,c.Jt)("DISCONNECT-OBSERVER"),this.genericLogger=(0,Ht.Wo)({label:"DISCONNECT-OBSERVER"}),this.peerConnection=null,this.webSocket=null,this.shouldIgnoreDisconnectEvents=!1,this.getPeerConnectionRef=Ee=>{var Te,He;const $e=(Te=Ee)===null||Te===void 0||(He=Te.audioVideoController)===null||He===void 0?void 0:He.meetingSessionContext;return $e==null?void 0:$e.peer},this.getWebSocketRef=Ee=>{var Te,He,$e,it;const ht=(Te=Ee)===null||Te===void 0||(He=Te.audioVideoController)===null||He===void 0?void 0:He.meetingSessionContext;return ht==null||($e=ht.signalingClient)===null||$e===void 0||(it=$e.webSocket)===null||it===void 0?void 0:it.connection},this.onConnectionUpdate=function(Ee){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&(ue.brieflyIgnoreDisconnectEvents(),ue.genericLogger.debug("Connection restored. Ignoring disconnection events for 5 seconds."));try{ue.resetConnectionRefs(Ee),ue.registerAllEventHandlers(),ue.genericLogger.debug("Reconnected and monitoring for future disconnections.")}catch(He){ue.callLogger.error("Error updating connection references on reconnection:",He)}},this.brieflyIgnoreDisconnectEvents=()=>{this.shouldIgnoreDisconnectEvents=!0,setTimeout(()=>{this.shouldIgnoreDisconnectEvents=!1,this.genericLogger.debug("Reconnection delay over. Now responding to disconnection events.")},yn)},this.resetConnectionRefs=Ee=>{this.unregisterAllEventHandlers(),this.peerConnection=this.getPeerConnectionRef(Ee)||null,this.webSocket=this.getWebSocketRef(Ee)||null,this.webSocket?this.genericLogger.debug("WebSocket reference obtained successfully."):this.callLogger.error("WebSocket reference not available.")},this.broadcastDisconnection=(0,_.A)(()=>{var Ee;if(this.shouldIgnoreDisconnectEvents){this.genericLogger.debug("Disconnection event ignored due to recent reconnection.");return}this.genericLogger.info("Disconnection detected. Informing the user."),(Ee=this.observer)===null||Ee===void 0||Ee.onSelfDisconnected()},Kn,{leading:!0,trailing:!1}),this.broadcastReconnection=()=>{var Ee;this.genericLogger.info("Peer connection successfully established. Informing the user."),(Ee=this.observer)===null||Ee===void 0||Ee.onSelfConnected()},this.onHuddleEnd=()=>{this.genericLogger.debug("Huddle ended. Cleaning up event handlers and connection references.");try{this.unregisterAllEventHandlers()}catch(Ee){this.callLogger.error(`Error during Huddle end cleanup: ${Ee}`)}this.webSocket=null,this.peerConnection=null,Cn=null},this.testNetworkDrop=function(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ws:!0,pc:!0};if(ue.genericLogger.info("Simulating network drop by closing WebSocket and PeerConnection."),Ee.ws){var Te;(Te=ue.webSocket)===null||Te===void 0||Te.close()}if(Ee.pc){var He;(He=ue.peerConnection)===null||He===void 0||He.close()}},this.registerAllEventHandlers=()=>{this.genericLogger.debug("Registering event handlers for WebSocket and PeerConnection."),this.registerPeerConnectionEventHandlers(),this.registerWebSocketEventHandlers()},this.unregisterAllEventHandlers=()=>{this.genericLogger.debug("Unregistering event handlers for WebSocket and PeerConnection."),this.unregisterPeerConnectionEventHandlers(),this.unregisterWebSocketEventHandlers()},this.registerPeerConnectionEventHandlers=()=>{var Ee,Te;(Ee=this.peerConnection)===null||Ee===void 0||Ee.addEventListener($n.CONNECTION_STATE_CHANGE,this.handlePeerConnectionStateChange),(Te=this.peerConnection)===null||Te===void 0||Te.addEventListener($n.ICE_CONNECTION_STATE_CHANGE,this.handleIceConnectionStateChange)},this.registerWebSocketEventHandlers=()=>{var Ee,Te;(Ee=this.webSocket)===null||Ee===void 0||Ee.addEventListener(zn.CLOSE,this.handleWebSocketClose),(Te=this.webSocket)===null||Te===void 0||Te.addEventListener(zn.ERROR,this.handleWebSocketError)},this.unregisterPeerConnectionEventHandlers=()=>{var Ee,Te;(Ee=this.peerConnection)===null||Ee===void 0||Ee.removeEventListener($n.CONNECTION_STATE_CHANGE,this.handlePeerConnectionStateChange),(Te=this.peerConnection)===null||Te===void 0||Te.removeEventListener($n.ICE_CONNECTION_STATE_CHANGE,this.handleIceConnectionStateChange)},this.unregisterWebSocketEventHandlers=()=>{var Ee,Te;(Ee=this.webSocket)===null||Ee===void 0||Ee.removeEventListener(zn.CLOSE,this.handleWebSocketClose),(Te=this.webSocket)===null||Te===void 0||Te.removeEventListener(zn.ERROR,this.handleWebSocketError)},this.handleIceConnectionStateChange=()=>{var Ee,Te;if(((Ee=this.peerConnection)===null||Ee===void 0?void 0:Ee.iceConnectionState)===Zn.DISCONNECTED||((Te=this.peerConnection)===null||Te===void 0?void 0:Te.iceConnectionState)===Zn.FAILED)this.logDisconnectionWarning("ICE connection state is either disconnected or failed."),this.broadcastDisconnection();else{var He;this.callLogger.info(`ICE connection state changed to: ${(He=this.peerConnection)===null||He===void 0?void 0:He.iceConnectionState}.`)}},this.handlePeerConnectionStateChange=()=>{var Ee,Te,He;if(((Ee=this.peerConnection)===null||Ee===void 0?void 0:Ee.connectionState)===Zn.DISCONNECTED||((Te=this.peerConnection)===null||Te===void 0?void 0:Te.connectionState)===Zn.FAILED)this.logDisconnectionWarning("Peer connection has either disconnected or failed."),this.broadcastDisconnection();else if(((He=this.peerConnection)===null||He===void 0?void 0:He.connectionState)===Zn.CONNECTED)this.callLogger.info("Peer connection established."),this.broadcastReconnection();else{var $e;this.callLogger.info(`peer connection state changed: ${($e=this.peerConnection)===null||$e===void 0?void 0:$e.connectionState}`)}},this.handleWebSocketClose=Ee=>{this.logDisconnectionWarning(`WebSocket connection closed unexpectedly (Code: ${Ee.code}, Reason: ${Ee.reason||"None provided"}).`),this.broadcastDisconnection()},this.handleWebSocketError=Ee=>{this.callLogger.error(`WebSocket encountered an error: ${Ee}.`)},this.logDisconnectionWarning=Ee=>{this.callLogger.warn(`ALERT! ${Ee} This may result in temporary audio/video disruption. Possible causes include network instability, network congestion, and security software (like VPNs, firewalls, or proxies) blocking or dropping the connection. If the issue persists, users should check their network or security settings and contact their IT team if necessary.`)},this.callLogger.info("Disconnection observer initialized. Monitoring for disconnections..."),Cn=E(Ee=>this.testNetworkDrop(Ee),"testNetworkDropFn")}}E(os,"HuddleDisconnectObserver");const _s=null;(0,on.ul)("huddleDisconnectObserver",{dropNetwork:()=>Cn==null?void 0:Cn(),dropWebsocket:()=>Cn==null?void 0:Cn({ws:!0,pc:!1}),dropPeerConnection:()=>Cn==null?void 0:Cn({ws:!1,pc:!0})});class ms{async initialize(X,ue,Ee,Te,He,$e){var it,ht,Kt,It,Ut,ln,sn,dn;He&&(this.waitForStop=He),$e&&(this.dataChannelSubscribers=$e),this.observer.onInit(),this.options=X;const{serverConfig:gn,useChimeSdkExp:In,useSimulcast:Vn,useHuddlesFilterWorker:bn}=this.options;await(0,n.ZT)(In),this.chimeLogger=new me.k(this.loggerName),this.callLogger=(0,c.Jt)(this.loggerName),(it=this.callLogger)===null||it===void 0||it.info(`user agent: ${navigator.userAgent}`);const xn=(0,s.HF)();(ht=this.callLogger)===null||ht===void 0||ht.info(`Version TS: ${xn}`);const Qn=(document==null||(Kt=document.documentElement)===null||Kt===void 0||(It=Kt.dataset)===null||It===void 0?void 0:It.versionHash)||"unknown";(Ut=this.callLogger)===null||Ut===void 0||Ut.info(`Version Hash: ${Qn}`),(ln=this.callLogger)===null||ln===void 0||ln.info(`Chime SDK Version: ${n.zF.sdkVersion}${In?" (Experimental)":""}`),this.meeting=gn.meeting,this.attendee=gn.attendee,this.selfAttendeeId=this.attendee.AttendeeId;const hn=(0,i.Y)(gn.attendee.ExternalUserId);try{var as;const ls=JSON.stringify((0,t.A)(X,"serverConfig"),null,2);(as=this.callLogger)===null||as===void 0||as.debug(`Huddle SDK [${hn}] initialized with options: ${ls}`)}catch(ls){var rs;(rs=this.callLogger)===null||rs===void 0||rs.error("Error stringifying options",ls)}if(this.transportProtocols=gn.transportProtocols,this.isPrejoin=this.options.isPrejoin,this.meetingSessionConfiguration=new n.QJ(this.meeting,this.attendee),Vn&&this.meetingSessionConfiguration){var ys;(ys=this.callLogger)===null||ys===void 0||ys.info("Simulcast enabled"),this.meetingSessionConfiguration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}if(this.options.usePriorityDownlinkPolicy&&(this.videoDownlinkPolicy=new n.gi(this.selfAttendeeId),this.meetingSessionConfiguration.videoDownlinkBandwidthPolicy=this.videoDownlinkPolicy,this.meetingSessionConfiguration.keepLastFrameWhenPaused=!0,this.videoDownlinkManager=new gt({selfAttendeeId:this.selfAttendeeId,videoDownlinkPolicy:this.videoDownlinkPolicy})),this.meetingSessionConfiguration.urls&&(this.meetingSessionConfiguration.urls.urlRewriter=this.urlRewriter.bind(this)),this.meetingSessionConfiguration&&this.meetingSessionConfiguration.connectionHealthPolicyConfiguration){const ls=this.options.expectAv1EncoderFreeze||!1,Rs=new Ln(ls);Object.assign(this.meetingSessionConfiguration.connectionHealthPolicyConfiguration,Rs.getConfiguration())}this.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender=!0,await this.initVoiceFocus();const Is={audio:ue.includes(l.mT.MICROPHONE),video:ue.includes(l.mT.CAMERA)};n.vB.disable();let Xn;const hs=!!(!((sn=this.voiceFocusManager)===null||sn===void 0)&&sn.isAvailable()),Ms=this.options.disableAudioRedundancy||!1;if(In){const ls=(0,n.Q_)(),Rs=(0,n.RM)();if(this.defaultDeviceController=new Rs(this.chimeLogger,{enableWebAudio:hs}),this.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Is)),this.sessionExp=new ls(this.meetingSessionConfiguration,this.chimeLogger,this.defaultDeviceController),Xn=this.sessionExp.audioVideo,Ms){const Ls=(0,n.Ls)();Xn.setAudioProfile(new Ls(null,!1)),Xn.setContentAudioProfile(new Ls(null,!1))}}else{const ls=(0,n.of)(),Rs=(0,n.zg)();if(this.defaultDeviceController=new Rs(this.chimeLogger,{enableWebAudio:hs}),this.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Is)),this.session=new ls(this.meetingSessionConfiguration,this.chimeLogger,this.defaultDeviceController),Xn=this.session.audioVideo,Ms){const Ls=(0,n.j3)();Xn.setAudioProfile(new Ls(null,!1)),Xn.setContentAudioProfile(new Ls(null,!1))}}if(this.options.useVideoUplinkPolicy){var Ws;(Ws=this.callLogger)===null||Ws===void 0||Ws.info("Video uplink policy enabled"),this.videoUplinkManager=new Ue(this.observer,Xn)}await this.populateDeviceInfoCache();const Ys=this.options.useH264Baseline||!1;Jn({audioVideoFacade:Xn,h264BaselineProfileEnabled:Ys,disableVp9:!!this.options.disableVp9});const Us=this.options.useH264BaselineScreenshare||!1,Fs=this.options.useAv1Screenshare;ts({useAv1:Fs,audioVideoFacade:Xn,h264BaselineProfileEnabled:Us});const Hs={useHuddlesFilterWorker:bn,backgroundVideoFilteringSetting:r.uT.Both,useDevicesExp:this.options.useDevicesExp,useVideoUplinkPolicy:this.options.useVideoUplinkPolicy,useHuddlesSignalStartDelay:this.options.useHuddlesSignalStartDelay};this.deviceManager=new ce(Xn,this.audioOutputElement,this.observer,Hs,Ee,this.chimeLogger,this.defaultDeviceController,this.voiceFocusManager),(dn=this.dataChannelSubscribers)===null||dn===void 0||dn.forEach(ls=>ls.onInitializeDataChannelSubscriber()),this.disconnectObserver=new os(this.observer),this.audioVideoObserver=new Pe(this.selfAttendeeId,this.meeting.MeetingId,this.meeting.MediaRegion,hn,Xn,this.observer,this.deviceManager,this.videoDownlinkManager,this.disconnectObserver,Te,this.waitForStop,this.dataChannelSubscribers,this.videoUplinkManager);const Yn=this.options.huddlesJukeboxEnabled;if(Yn){var ps;(ps=this.callLogger)===null||ps===void 0||ps.info("Huddles Jukebox experiment enabled (prototype)")}this.contentShareManager=new st(Xn,this.observer,!!Yn,In),this.audioVideoFacadeSubscriber=new Et(this.selfAttendeeId,Xn,this.observer,this.videoUplinkManager),(0,On.Ay)().initialize(),this.connect(),this.screenManager=new a.A,this.observer.onMeetingSessionInitialized(),this.setupMeetingEventObserver(),this.waitForInit.resolve()}async shutdown(X){var ue,Ee,Te,He,$e,it,ht;if((ue=this.callLogger)===null||ue===void 0||ue.info("Huddles SDK shutdown initiated"),(Ee=this.disconnectObserver)===null||Ee===void 0||Ee.onHuddleEnd(),delete this.disconnectObserver,await this.waitForInit,this.cleanupDataChannelSubscribers(),(Te=this.contentShareManager)===null||Te===void 0||Te.stop(),(He=this.audioVideoObserver)===null||He===void 0||He.stop(),await(($e=this.deviceManager)===null||$e===void 0?void 0:$e.shutdown()),kn.F.doesInstanceExist()){var Kt;(Kt=kn.F.getInstance())===null||Kt===void 0||Kt.release()}(it=this.audioVideoFacadeSubscriber)===null||it===void 0||it.destroy(),await this.waitForStop,delete this.session,delete this.sessionExp,delete this.meetingSessionConfiguration,await this.cleanupDefaultDeviceControllerRefs(),(ht=this.callLogger)===null||ht===void 0||ht.info("Huddles SDK shutdown completed"),delete this.chimeLogger,delete this.callLogger,delete this.deviceManager,delete this.audioVideoFacadeSubscriber,delete this.audioVideoObserver,delete this.contentShareManager,delete this.screenManager,delete this.voiceFocusManager,delete this.videoDownlinkManager,delete this.videoDownlinkPolicy,delete this.videoUplinkManager,X&&X()}selfMicrophoneEnabled(X){var ue;(ue=this.deviceManager)===null||ue===void 0||ue.setMicrophone(X)}selfVideoEnabled(X,ue,Ee,Te){var He,$e;(He=this.deviceManager)===null||He===void 0||He.setCamera(X),($e=this.contentShareManager)===null||$e===void 0||$e.setScreenshare(ue,Ee,Te)}async startContentShareJukebox(X){let{song:ue}=X;var Ee;const Te=await un().startContentShareJukebox({song:ue});Te&&((Ee=this.contentShareManager)===null||Ee===void 0||Ee.setSongStream(Te))}async selfStopJukebox(){var X;un().stopJukebox(),(X=this.contentShareManager)===null||X===void 0||X.stopMusic({cleanObserver:!1})}setCameraQuality(X,ue,Ee,Te){var He;if(!(!((He=this.options)===null||He===void 0)&&He.useVideoUplinkPolicy)){var $e;($e=this.deviceManager)===null||$e===void 0||$e.setCameraQuality(X,ue,Ee,Te)}}setAGC(X){var ue;(ue=this.deviceManager)===null||ue===void 0||ue.setAGC(X)}setNewPreferredDevice(X,ue){var Ee;(Ee=this.deviceManager)===null||Ee===void 0||Ee.setPreferredDevice(X,ue)}setNoiseSuppression(X){var ue;(ue=this.deviceManager)===null||ue===void 0||ue.setNoiseSuppression(X)}setVideoBackgroundEffect(X){var ue;(ue=this.deviceManager)===null||ue===void 0||ue.setVideoBackgroundEffect(X)}requestPreviewStreamForDeviceId(X,ue,Ee){var Te;(Te=this.deviceManager)===null||Te===void 0||Te.requestPreviewStreamForDeviceId(X,ue,Ee)}stopVideoPreviewForVideoInput(X){var ue;(ue=this.deviceManager)===null||ue===void 0||ue.stopVideoPreviewForVideoInput(X)}async getScreenThumbnails(X){var ue;return await((ue=this.screenManager)===null||ue===void 0?void 0:ue.getScreenThumbnails(X==null?void 0:X.thumbnailDimensions,X==null?void 0:X.isRefetch))}selfDrawEnabled(X){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.selfDrawEnabled(X)}sendReacji(X,ue,Ee){var Te;(Te=this.audioVideoFacadeSubscriber)===null||Te===void 0||Te.sendReacji(X,ue,Ee)}sendBackground(X){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.sendBackground(X)}sendMuteRequest(X){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.sendMuteRequest(X)}sendJukeboxRequest(X){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.sendJukeboxRequest(X)}sendJukeboxStopRequest(){var X;(X=this.audioVideoFacadeSubscriber)===null||X===void 0||X.sendJukeboxStopRequest()}sendDrawMessage(X){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.sendDrawMessage(X)}sendContentShareDetails(X){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.sendContentShareDetails(X)}sendRecordingStartNotification(){var X;(X=this.audioVideoFacadeSubscriber)===null||X===void 0||X.sendRecordingStartNotification()}maybeBindAudioOutputElement(){var X;(X=this.deviceManager)===null||X===void 0||X.maybeBindAudioOutputElement()}maybeCheckSystemMediaAccess(X){var ue;return(ue=this.deviceManager)===null||ue===void 0?void 0:ue.maybeCheckSystemMediaAccess(X)}setIncludeSelfAndNoneActiveSpeaker(X,ue){var Ee;(Ee=this.audioVideoFacadeSubscriber)===null||Ee===void 0||Ee.setIncludeSelfAndNoneActiveSpeaker(X,ue)}bindVideo(X,ue,Ee){var Te;const He=this.session||this.sessionExp;if(!He)return;const $e=(Te=He.audioVideo.getVideoTile(X))===null||Te===void 0?void 0:Te.state();Ee?$e!=null&&$e.boundVideoStream&&n.xc.connectVideoStreamToVideoElement($e.boundVideoStream,ue,!1):(this.videoDownlinkPolicy&&($e!=null&&$e.paused)&&He.audioVideo.unpauseVideoTile(X),He.audioVideo.bindVideoElement(X,ue))}unbindVideo(X,ue,Ee){const Te=this.session||this.sessionExp;Te&&(Ee?n.xc.disconnectVideoStreamFromVideoElement(ue,!0):Te.audioVideo.getVideoTile(X)&&Te.audioVideo.unbindVideoElement(X))}pauseVideo(X){const ue=this.session||this.sessionExp;if(!ue)return;const Ee=ue.audioVideo.getVideoTile(X),Te=Ee==null?void 0:Ee.state();!(Te!=null&&Te.isContent)&&(Te!=null&&Te.active)&&(Ee==null||Ee.pause())}unpauseVideo(X){const ue=this.session||this.sessionExp;if(!ue)return;const Ee=ue.audioVideo.getVideoTile(X),Te=Ee==null?void 0:Ee.state();Te!=null&&Te.paused&&(Ee==null||Ee.unpause())}videoTileHasStream(X){const ue=this.session||this.sessionExp;if(!ue)return!1;const Ee=ue.audioVideo.getVideoTile(X);if(!Ee)return!1;const Te=Ee.state();return Te?!!Te.boundVideoStream:!1}getMeetingMediaRegion(){var X;return(X=this.meeting)===null||X===void 0?void 0:X.MediaRegion}async completePrejoin(X){const{isStartMuted:ue}=X;if(this.isPrejoin){var Ee,Te;return ue&&((Ee=this.deviceManager)===null||Ee===void 0||Ee.setStartMutedBarrier(ue)),(Te=this.audioVideoObserver)===null||Te===void 0||Te.start(),this.maybeBindAudioOutputElement(),this.setIncludeSelfAndNoneActiveSpeaker(!0,!0),this.isPrejoin=!1,!0}return!1}urlRewriter(X){if(!X)return X;if(this.transportProtocols){const He=this.transportProtocols;if(X.includes("?transport=udp")&&!He.includes("udp")){var ue;return(ue=this.callLogger)===null||ue===void 0||ue.info("Dropping UDP transport"),""}if(X.includes("?transport=tcp")){if(X.includes("turns:")){if(!He.includes("tls")){var Ee;return(Ee=this.callLogger)===null||Ee===void 0||Ee.info("Dropping TLS transport"),""}}else if(!He.includes("tcp")){var Te;return(Te=this.callLogger)===null||Te===void 0||Te.info("Dropping TCP transport"),""}}}return X.replace(`:${this.TURN_PORT_UDP}`,`:${this.OVERRIDE_TURN_PORT_UDP}`)}hasSession(){return!!this.session||!!this.sessionExp}setupVideoDeviceLabelTrigger(){var X;const ue=E(async()=>{try{var Ee;this.videoDevicePermissionStatus="IN_PROGRESS";const He=await navigator.mediaDevices.getUserMedia({video:!0});return(Ee=this.callLogger)===null||Ee===void 0||Ee.info("Video device permissions granted"),this.videoDevicePermissionStatus="GRANTED",He}catch(He){var Te;throw this.videoDevicePermissionStatus="DENIED",this.observer.onSetNoMediaInput(l.mT.CAMERA),(Te=this.callLogger)===null||Te===void 0||Te.info("Video device permissions denied"),He}},"callback");(X=this.defaultDeviceController)===null||X===void 0||X.setDeviceLabelTrigger(ue)}async maybeEnableSelfCamera(){let{isScreenshareEnabled:X}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(await this.initVideoPermission()&&(this.videoDevicePermissionStatus==="INITIAL"||this.videoDevicePermissionStatus==="GRANTED")){var Ee;this.selfVideoEnabled(!0,!!X),this.observer.onPeerCameraActive("self",!0),(Ee=this.callLogger)===null||Ee===void 0||Ee.info("maybeEnableSelfCamera:: enabling camera function executed")}}async initVideoPermission(){var X;return this.setupVideoDeviceLabelTrigger(),await((X=this.deviceManager)===null||X===void 0?void 0:X.initVideoInputDevices())}getSelfAttendeeId(){return this.selfAttendeeId}getAttributesString(X){try{return JSON.stringify(X)}catch(Ee){var ue;return(ue=this.callLogger)===null||ue===void 0||ue.warn("Failed to stringify attributes",Ee),"[Unable to stringify attributes]"}}setupMeetingEventObserver(){var X;!((X=this.defaultDeviceController)===null||X===void 0)&&X.eventController&&(this.meetingEventObserver={eventDidReceive:(ue,Ee)=>{var Te;(Te=this.callLogger)===null||Te===void 0||Te.info(`Received meeting event: ${ue}`);const He=this.getAttributesString(Ee),$e=(0,f.A)(),{huddleMeetingEventsTrace:it}=$e.getAllTraceHandlers();switch(it==null||it.recordMeetingEvent(ue),ue){case"audioInputFailed":var ht;(ht=this.callLogger)===null||ht===void 0||ht.error(`Failed to choose microphone: ${Ee.audioInputErrorMessage} ${He}`);break;case"videoInputFailed":var Kt;(Kt=this.callLogger)===null||Kt===void 0||Kt.error(`Failed to choose camera: ${Ee.videoInputErrorMessage} ${He}`);break;case"meetingStartFailed":var It;(It=this.callLogger)===null||It===void 0||It.error(`Failed to start a meeting: ${Ee.meetingErrorMessage} ${He}`);break;case"meetingFailed":var Ut;(Ut=this.callLogger)===null||Ut===void 0||Ut.error(`Failed during a meeting: ${Ee.meetingErrorMessage} ${He}`);break;case"deviceLabelTriggerFailed":var ln;(ln=this.callLogger)===null||ln===void 0||ln.error(`Device label trigger failed ${He}`);break;case"signalingDropped":var sn;(sn=this.callLogger)===null||sn===void 0||sn.error(`Signaling connection dropped ${He}`);break;case"receivingAudioDropped":var dn;(dn=this.callLogger)===null||dn===void 0||dn.warn(`Receiving audio packets dropped significantly ${He}`);break;case"sendingAudioFailed":var gn;(gn=this.callLogger)===null||gn===void 0||gn.error(`Sending audio failed ${He}`);break;default:var In;(In=this.callLogger)===null||In===void 0||In.info(`Meeting event: ${ue} ${He}`);break}}},this.defaultDeviceController.eventController.addObserver(this.meetingEventObserver))}constructor(X,ue,Ee="FREE-WILLY-SDK"){this.observer=X,this.audioOutputElement=ue,this.loggerName=Ee,this.TURN_PORT_UDP=3478,this.OVERRIDE_TURN_PORT_UDP=22466,this.waitForInit=(0,o.u)(),this.waitForStop=(0,o.u)(),this.initVoiceFocus=async()=>{let Te=0;const He=Date.now();this.voiceFocusManager=new rt.A(this.chimeLogger),await this.voiceFocusManager.init({configOnly:!1}),Te=Date.now()-He,this.observer.onMaybeVoiceFocusInitialized(Te)},this.populateDeviceInfoCache=async()=>{var Te,He,$e,it;const ht=Date.now(),Kt=await((Te=this.defaultDeviceController)===null||Te===void 0?void 0:Te.listAudioInputDevices()),It=await((He=this.defaultDeviceController)===null||He===void 0?void 0:He.listAudioOutputDevices()),Ut=await(($e=this.defaultDeviceController)===null||$e===void 0?void 0:$e.listVideoInputDevices()),ln=k.Ay.canAccessMediaResource(l.mT.MICROPHONE).status===r.eJ.Granted&&!(Kt!=null&&Kt.length),sn=k.Ay.canAccessMediaResource(l.mT.CAMERA).status===r.eJ.Granted&&!(Ut!=null&&Ut.length);if(ln){var dn;(dn=this.callLogger)===null||dn===void 0||dn.error("No microphone devices found, though permissions have been granted previously. Permissions have likely been revoked or cleared mid-session")}if(sn){var gn;(gn=this.callLogger)===null||gn===void 0||gn.error("No camera devices found, though permissions have been granted previously. Permissions have likely been revoked or cleared mid-session")}const In=Date.now()-ht;(it=this.callLogger)===null||it===void 0||it.info(`Populated device info cache in ${In}ms with ${Kt==null?void 0:Kt.length} microphones, ${It==null?void 0:It.length} speakers, and ${Ut==null?void 0:Ut.length} cameras`)},this.cleanupDataChannelSubscribers=()=>{this.dataChannelSubscribers&&(this.dataChannelSubscribers.forEach(Te=>Te.onShutdownDataChannelSubscriber()),this.dataChannelSubscribers=void 0)},this.cleanupDefaultDeviceControllerRefs=async()=>{var Te;if(!this.defaultDeviceController)return;await this.defaultDeviceController.destroy();const He=(Te=this.defaultDeviceController)===null||Te===void 0?void 0:Te.eventController;if(He){var $e;this.meetingEventObserver&&(He.removeObserver(this.meetingEventObserver),this.meetingEventObserver=void 0);const it=($e=He.configuration)===null||$e===void 0?void 0:$e.urls;it&&(it.urlRewriter=void 0)}this.defaultDeviceController.deviceLabelTrigger=void 0,delete this.defaultDeviceController},this.handleClientOffline=()=>{var Te;(Te=this.audioVideoObserver)===null||Te===void 0||Te.audioVideoDidStartConnecting(!0)},this.toggleAllIncomingVideo=Te=>{var He;(He=this.videoDownlinkManager)===null||He===void 0||He.toggleAllIncomingVideo(Te)},this.connect=async()=>{var Te,He,$e;if((Te=this.callLogger)===null||Te===void 0||Te.info(`FreeWilly connect called isPreJoin: ${this.isPrejoin}`),(He=this.audioVideoObserver)===null||He===void 0||He.startWithSignalingOnly(),await(($e=this.deviceManager)===null||$e===void 0?void 0:$e.init()),!this.isPrejoin){var it;if(!k.Ay.canAccessMediaResource(l.mT.MICROPHONE)){var ht;(ht=this.callLogger)===null||ht===void 0||ht.error("Missing microphone permissions. Not connecting to huddle");return}(it=this.audioVideoObserver)===null||it===void 0||it.start()}},this.videoDevicePermissionStatus="INITIAL"}}E(ms,"FreeWillySdk")},5016574668:(N,y,e)=>{"use strict";e.d(y,{Kp:()=>i,Nb:()=>o,RN:()=>l,Sq:()=>a,ZT:()=>t,jt:()=>m,yz:()=>n});const t=10*1e3,n=1e3,o="2.6",s=null,c=25,r=15,a="huddles_perf",i="app_metrics",l="client_metrics",m=5},2205899741:(N,y,e)=>{"use strict";e.d(y,{$c:()=>O,h7:()=>S,t5:()=>p,KG:()=>U,q4:()=>A,_N:()=>u,sI:()=>x,Ap:()=>v,kq:()=>B,ik:()=>M,No:()=>F,fB:()=>k,Ye:()=>C,RI:()=>_,Fq:()=>L,oj:()=>f,qf:()=>P,Fu:()=>g,Tg:()=>T});const t=30,n=300,o=300,s=30,c=10,r=30,a=1,i=100,l=15,m=E(W=>function(K){for(var H=arguments.length,z=new Array(H>1?H-1:0),Q=1;Q<H;Q++)z[Q-1]=arguments[Q];if(!(typeof K!="string"&&typeof K!="number"))return W(K,...z)},"makeDeduction"),_=m(W=>W>s?W/5:void 0),h=m(W=>W>400?W/20:void 0),d=m(W=>W>1?W:void 0),f=m(W=>W>o?W/7.5:void 0),v=m(W=>W>1?W*10:void 0),u=m(W=>W>t?W/2:void 0),g=m(W=>W>i?W/2:void 0),p=m(W=>W>r?W*1.25:void 0),A=m(W=>W>n?W/10:void 0),C=m(W=>W>r?W*1.5:void 0),T=m(W=>W>c?W*1.5:void 0),I=m(W=>W*2),M=m(W=>W&&W!=="udp"?40:void 0),D=m(W=>W&&W>500?W/100:void 0),O=m(W=>W>150?W/5:void 0),S=m(W=>W>15?W*2:void 0),R=m(W=>W>5?W:void 0),U=m(W=>W>20?W/5:void 0),P=m(W=>{const K=l-W;return K>1?K*2.5:void 0}),L=m(W=>!W||W==="none"?void 0:25),F=m(W=>W>0?W*20:void 0),x=m(W=>W>1?W*1.25:void 0),b=m(W=>W>300?W/10:void 0),k=m(W=>W&&W>r?W*1.5:void 0),B=m(W=>W>a?Math.round(W*7.5):void 0)},415910655:(N,y,e)=>{"use strict";e.d(y,{ZR:()=>s,jm:()=>n,s2:()=>o});let t;const n=E(c=>{t||(t={}),Object.assign(t,c)},"updateJoinTimingMetrics"),o=E(()=>t,"getJoinTimingMetrics"),s=E(()=>{t=void 0},"resetJoinTimingMetrics")},5470425448:(N,y,e)=>{"use strict";e.d(y,{lx:()=>i,zu:()=>a});var t;(function(l){l.UDP="udp",l.TCP="tcp"})(t||(t={}));var n;(function(l){l.RELAY="relay",l.DIRECT="direct"})(n||(n={}));var o;(function(l){l.UPLINK="uplink",l.DOWNLINK="downlink"})(o||(o={}));var s;(function(l){l.GOOD="good",l.FAIR="fair",l.BAD="bad",l.WORST="worst"})(s||(s={}));var c;(function(l){l.GOOD="good",l.FAIR="fair",l.BAD="bad",l.WORST="worst"})(c||(c={}));var r;(function(l){l[l.UPSTREAM=0]="UPSTREAM",l[l.DOWNSTREAM=1]="DOWNSTREAM"})(r||(r={}));var a;(function(l){l[l.AUDIO=0]="AUDIO",l[l.VIDEO=1]="VIDEO"})(a||(a={}));var i;(function(l){l.RtmMetrics="rtm-metrics",l.RenderTiming="render-timing",l.BluetoothDevices="bluetooth-devices",l.MemoryLeaks="memory-leaks",l.SelectedMediaRegion="selected-media-region",l.PreferredMediaRegion="preferred-media-region",l.VoiceFocusConfig="voice-focus-config",l.NetworkDisconnect="network-disconnect",l.CallId="call-id",l.ScreenshareContentType="screenshare-content-type",l.AppMetrics="app-metrics",l.NoAudio="no-audio",l.CameraResolution="max-camera-resolution",l.SetIsDebugApp="set-is-debug-app",l.TroubleshootingContactUsClicked="troubleshooting-contact-us-clicked",l.TroubleshootingEntryPoint="troubleshooting-entry-point",l.TroubleshootingExitHealthSnapshot="troubleshooting-exit-health-snapshot"})(i||(i={}))},5071086688:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(6267571562);const n=new t.G},5403856613:(N,y,e)=>{"use strict";e.d(y,{U:()=>s,p:()=>r});var t=e(7091646278),n=e(2205899741);const o=20,s=80,c=60,r=E(a=>{const{audioDownstreamQualityScore:i,networkQualityScore:l,networkType:m,networkProtocol:_,networkRelayProtocol:h,networkAvailableOutgoingBitrate:d,networkJitterMs:f,audioDownstreamJitterBufferDelay:v,networkCurrentRoundTripTimeMs:u,mediaRegionSelected:g,mediaRegionPreferred:p,cpuUse:A,cpuUseRelative:C,cpuCompetitionScore:T,gpuUse:I,batteryIsUsing:M,selectedMicrophone:D,selectedCamera:O,selectedSpeakers:S,cameraIsBlocked:R,cameraIsAvailable:U,microphoneIsBlocked:P,microphoneIsAvailable:L,isMicrophoneBluetooth:F,isSpeakerBluetooth:x,isMicrophoneAndSpeakerOnSameDevice:b,isHardwareAccelerationEnabled:k,isDisconnected:B,noAudioInput:W,osIsThrottlingCpu:K,networkPacketLossPercent:H,powerThrottlingActive:z}=a;let Q;switch(!0){case l<=0:Q=t.bz.Bad;break;case l<=s:Q=t.bz.Warn;break;default:Q=t.bz.Good}return{metrics:{stable:{mediaRegionSelected:g,mediaRegionPreferred:p,selectedMicrophone:D,selectedCamera:O,selectedSpeakers:S},unstable:{cpuCompetitionScore:T,cpuUse:A,gpuUse:I,cpuUseRelative:C,audioQualityScore:i,jitterMs:f,audioDelayMs:v,roundTripTimeMs:u,packetLossPercent:H,incomingBandwidth:d,networkQualityScore:l}},warnings:{stable:{isVpnEnabled:m==="vpn",isSuboptimalProtocol:!!(0,n.ik)(_)||!!(0,n.ik)(h),isMediaRegionSuboptimal:!!g&&!!p&&g!==p,isUsingBatteryPower:M,isMicrophoneBluetooth:F,isMicrophoneAndSpeakerOnSameDevice:b,isSpeakerBluetooth:x,isCameraProbablyIphone:/iphone/.test(O==null?void 0:O.toLowerCase()),isHardwareAccelerationDisabled:k===!1,isOSThrottlingCpu:!!K},unstable:{isCpuUsePoor:!!(0,n.$c)(A),isCpuUseRelativePoor:!!(0,n.h7)(C),isGpuUsePoor:!!(0,n.KG)(I),isJitterPoor:!!(0,n._N)(f),isRTTPoor:!!(0,n.oj)(u),isAudioDelayPoor:!!(0,n.q4)(v),isPacketLossPoor:!!(0,n.kq)(H)}},alerts:{stable:{isCameraBlocked:R||!U,isMicrophoneBlocked:P||!L,isMicrophoneNotSendingAudio:!!W,isDisconnected:B,isPowerThrottlingActive:!!z},unstable:{networkQualityHealth:Q,isNetworkQualityPoor:l<=s,isAudioQualityPoor:i<=o,isCpuCompetitionPoor:T<=c}}}},"getTroubleshootingMetricsFromTags")},6246464105:(N,y,e)=>{"use strict";e.d(y,{N5:()=>l,R1:()=>c,Y:()=>i});var t=e(3147021447),n=e(2825968873),o=e(5470425448),s=e(5071086688),c;(function(m){m.HuddlesSdk="huddles-sdk",m.ChimeChannelListener="chime-channel-listener",m.ChimeChannelBroadcaster="chime-channel-broadcaster",m.VoiceFocusDevice="voice-focus-device",m.VideoTransformDevice="video-transform-device",m.VideoFrameProcessor="video-frame-processor"})(c||(c={}));const r=new Map([[c.HuddlesSdk,t.Y.create({name:c.HuddlesSdk})],[c.ChimeChannelListener,t.Y.create({name:c.ChimeChannelListener})],[c.ChimeChannelBroadcaster,t.Y.create({name:c.ChimeChannelBroadcaster})],[c.VoiceFocusDevice,t.Y.create({name:c.VoiceFocusDevice})],[c.VideoTransformDevice,t.Y.create({name:c.VideoTransformDevice})],[c.VideoFrameProcessor,t.Y.create({name:c.VideoFrameProcessor})]]),a=(0,n.Jt)("HUDDLE-LEAK-MONITOR"),i=E(m=>{let{name:_,ref:h}=m;const d=r.get(_);if(!d)return;const f=d.getMetrics();if(f){const{numberOfObjects:v,numberOfExpiredObjects:u}=f,g=v-u;u>3&&(a.warn(`Detected ${u} memory leak(s) for ${_}${g?` (with another ${g} instances in memory)`:""}`),s.A.publish({type:o.lx.MemoryLeaks,update:{name:_,leakCount:u}}))}d.watch(h)},"monitorObjectForMemoryLeaks"),l=E(()=>{for(const[,m]of r)m.expectGCAll()},"detectMemoryLeaks")},6815073048:(N,y,e)=>{"use strict";e.d(y,{A:()=>ms});var t=e(3398586081),n=e(2878685908),o=e(337319621),s=e(3855029223),c=e(8851980998),r=e(9680914051);let a=E(class{initializeHuddleReconnectTracer(){var X,ue,Ee;this.reconnectSpan=(X=this.trace)===null||X===void 0?void 0:X.startSpan(r.xN),this.reconnectSuccessSpan=(ue=this.trace)===null||ue===void 0?void 0:ue.startSpan(r.xx),this.reconnectFailureSpan=(Ee=this.trace)===null||Ee===void 0?void 0:Ee.startSpan(r.cJ)}traceReconnectAttemptOutcome(X){let{isSuccess:ue}=X;var Ee;ue?this.reconnectSuccessCount+=1:this.reconnectFailureCount+=1,(Ee=this.logger)===null||Ee===void 0||Ee.info(`Registered huddle reconnect attempt outcome - isSuccess: ${ue}`)}traceReconnectAttempt(){var X;this.reconnectCount+=1,(X=this.logger)===null||X===void 0||X.info("Counted huddle reconnect attempt")}report(){var X,ue,Ee,Te,He;(X=this.reconnectSpan)===null||X===void 0||X.addTags({metric_value:this.reconnectCount}).close(),(ue=this.reconnectSuccessSpan)===null||ue===void 0||ue.addTags({metric_value:this.reconnectSuccessCount}).close(),(Ee=this.reconnectFailureSpan)===null||Ee===void 0||Ee.addTags({metric_value:this.reconnectFailureCount}).close(),(Te=this.tracer)===null||Te===void 0||Te.reportSpans([this.reconnectSpan,this.reconnectSuccessSpan,this.reconnectFailureSpan]),(He=this.logger)===null||He===void 0||He.info("Reported reconnect attempt metric trace")}constructor({tracer:X,trace:ue,logger:Ee}){this.reconnectCount=0,this.reconnectSuccessCount=0,this.reconnectFailureCount=0,this.tracer=X,this.trace=ue,this.logger=Ee,this.initializeHuddleReconnectTracer()}},"HuddleReconnectTracer"),i=E(class{addTTIMetaTags(X){let{entryPoint:ue,preferredMediaRegion:Ee,isPrejoin:Te,isCreate:He}=X;var $e;($e=this.trace)===null||$e===void 0||$e.addTags({entry_point:ue,preferred_media_region:Ee,is_prejoin:Te,is_create:He,success:!1})}createFetchCredentialsSpan(){var X;this.fetchCredentialsSpan=(X=this.trace)===null||X===void 0?void 0:X.startSpan(r.xl)}setCachedTag(X){let{cached:ue}=X;var Ee;(Ee=this.trace)===null||Ee===void 0||Ee.addTags({cached:ue})}closeFetchCredentialsSpan(){var X;(X=this.fetchCredentialsSpan)===null||X===void 0||X.close()}createConnectToMediaServiceSpan(){var X;this.connectToMediaServiceSpan=(X=this.trace)===null||X===void 0?void 0:X.startSpan(r.xA)}closeConnectToMediaServiceSpan(){var X,ue,Ee,Te;(X=this.connectToMediaServiceSpan)===null||X===void 0||X.close(),(ue=this.trace)===null||ue===void 0||ue.addTags({success:!0}),(Ee=this.tracer)===null||Ee===void 0||Ee.reportTrace(this.trace),this.traceReported=!0,(Te=this.logger)===null||Te===void 0||Te.info("Reported TTI metric trace")}getTTITraceId(){var X;return(X=this.trace)===null||X===void 0?void 0:X.getTraceId()}getFetchCredentialsSpanId(){var X;return(X=this.fetchCredentialsSpan)===null||X===void 0?void 0:X.getId()}setMediaRegionTag(X){var ue,Ee;const Te=(ue=this.trace)===null||ue===void 0?void 0:ue.getTags().preferred_media_region;(Ee=this.trace)===null||Ee===void 0||Ee.addTags({media_region:X,media_region_matches:X===Te})}report(){var X,ue;if(!this.traceReported){var Ee,Te;(Ee=this.tracer)===null||Ee===void 0||Ee.reportTrace(this.trace),this.traceReported=!0,(Te=this.logger)===null||Te===void 0||Te.info("Reported TTI metric trace in final clean up")}(X=this.tracer)===null||X===void 0||X.clearTrace(this.trace),(ue=this.logger)===null||ue===void 0||ue.info("Cleaned up TTI metric trace")}constructor({teamId:X,logger:ue}){this.traceReported=!1,this.tracer=(0,s.E)({teamOrEnterpriseId:X}),this.trace=this.tracer.createTrace({traceName:r.bQ,samplingOptions:{sampleRate:(0,n.Cu)()?1:.05,sampleType:c.tS.SESSION}}),this.logger=ue}},"HuddleTTITracer");var l=e(5470425448),m=e(5016574668),_=e(1616072515),h=e(6313685253),d=e(5797466484),f=e(2208015175),v=e(4103274853),u=e(3605769895),g=e(2048121586),p=e(6696292586),A=e(6890312250),C=e(3750057149),T=e(3078252698);const I=(0,o.Wo)({label:"HUDDLE-METRICS-CACHE"}),M=[],D=E(Je=>{try{if(!Je.length)return{};const X=Date.now(),ue=(0,h.A)(Je,(He,$e)=>{if(!(0,d.A)($e))throw new Error(`metrics cache reports are not correctly formatted. Expected object, got ${typeof $e}`);return(0,f.A)($e,(it,ht)=>{ht in He?He[ht].push(it):He[ht]=[it]}),He},{}),Ee=(0,v.A)(ue,He=>{const $e=He.find(ht=>typeof ht<"u"&&ht!==null),it=E(ht=>{var Kt;const It=(0,u.A)(ht);return(Kt=(0,g.A)(Object.entries(It),ln=>{let[sn,dn]=ln;return dn}))===null||Kt===void 0?void 0:Kt[0]},"getMostCommon");return(0,p.A)($e)?(0,A.A)(He.filter(p.A)):(0,C.A)($e)?it(He)==="true":(0,T.A)($e)?it(He):He[0]});I.info(`Aggregating huddle metric reports took ${Date.now()-X}ms for reports ${Je.length}`);const Te=Object.keys(Je[0]).filter(He=>!(He in Ee));return Te.length&&I.warn(`Keys missing from summary: ${Te.length}`),Ee}catch(X){return I.error("Error merging reports into summary",X),Je[0]||{}}},"mergeReports"),O=E(Je=>{M.push(Je)},"cacheMetricsReport"),S=E(()=>{const Je=D(M);return M.length=0,Je},"getMetricsSummary");var R=e(1703559452),U=e(9268023148);const P=10*1e3;let L=E(class{async recordAppMetrics(X){const ue=Date.now(),Ee=ue-this.lastRecordedSpanTs,Te=(0,_.tT)(X);if(this.metricsAveragesEnabled&&O(Te),this.logQualityScoreWarnings(X),Ee<this.reportingInterval)return;this.logger.debug(`Adding new ${m.Sq}:${m.Kp} span`);const He=this.trace.startSpan(m.Kp),$e=Object.keys(Te).length;if(He.addTags(Te),He.close(),this.logger.debug(`Added new ${m.Sq}:${m.Kp} span with ${$e} tags`),this.getSpanCount()>m.jt){if(this.metricsAveragesEnabled){const it=S();He.addTags(it)}this.report()}this.lastRecordedSpanTs=ue}constructor({teamId:X,logger:ue,callLogger:Ee,enableMaxReportingFrequency:Te,metricsAveragesEnabled:He}){var $e=this;this.traceReported=!1,this.lastRecordedSpanTs=0,this.perfDataStartTimestamp=Date.now(),this.getMetricsCollectionInterval=()=>(0,n.Cu)()||this.enableMaxReportingFrequency?m.yz:m.ZT,this.createNewTrace=()=>(this.trace=this.tracer.createTrace({traceName:m.Sq,tags:{__dataset:m.RN},samplingOptions:{sampleType:c.tS.ALWAYS}}),this.trace),this.getSpanCount=()=>{var it;const ht=(it=this.trace)===null||it===void 0?void 0:it.getSpans();return ht?Object.keys(ht).length:0},this.maybeRecordLeftEarly=it=>{if(!it)return;const ht=30;if(Date.now()-this.perfDataStartTimestamp<ht*1e3){var Kt;this.callLogger.warn(`Leaving huddle less than ${ht} seconds after joining.`),(Kt=this.trace)===null||Kt===void 0||Kt.addTags({left_early:!0})}},this.report=function(){let it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(it&&($e.callLogger.debug(`Huddle ${$e.callId} is ending. Reporting ${$e.getSpanCount()} remaining spans`),$e.maybeRecordLeftEarly(it)),!$e.traceReported&&$e.getSpanCount()>0){var ht,Kt;(ht=$e.tracer)===null||ht===void 0||ht.reportTrace($e.trace),(Kt=$e.tracer)===null||Kt===void 0||Kt.clearTrace($e.trace),$e.logger.debug(`Cleared ${m.Sq}:${m.Kp} event trace`),it?$e.traceReported=!0:$e.createNewTrace()}else $e.logger.debug(`Attempted to report ${m.Sq}:${m.Kp} trace but there was nothing to report`)},this.logQualityScoreWarnings=it=>{let{audioDownstreamQualityScore:ht,audioUpstreamQualityScore:Kt,selfVideoQualityScore:It,videoDownstreamQualityScore:Ut,screenshareUpstreamQualityScore:ln,screenshareDownstreamQualityScore:sn,networkQualityScore:dn,cpuCompetitionScore:gn}=it;const In=50,Vn={"audio-incoming":ht,"audio-outgoing":Kt,network:dn,cpu:gn,"video-outgoing":It,"video-incoming":Ut,"screenshare-outgoing":ln,"screenshare-incoming":sn},bn=E(xn=>Object.entries(xn).filter(Qn=>{let[,hn]=Qn;return(0,p.A)(hn)}).map(Qn=>{let[hn,as]=Qn;return`${hn}=${as}`}).join(" "),"makeLogString");(0,R.A)(Vn,xn=>(0,p.A)(xn)&&xn<=In)?this.logger.warn(`quality scores: ${bn(Vn)}`):this.debouncedInfoLog(bn(Vn))},this.debouncedInfoLog=(0,U.A)(it=>{this.logger.info(`quality scores: ${it}`)},P,{leading:!0,trailing:!1,maxWait:P}),this.tracer=(0,s.E)({teamOrEnterpriseId:X}),this.enableMaxReportingFrequency=!!Te,this.metricsAveragesEnabled=!!He,this.reportingInterval=this.getMetricsCollectionInterval(),this.createNewTrace(),this.logger=ue,this.callLogger=Ee}},"HuddlePerfTracer");const F=null;var x=e(166097325),b=e(8478954380),k=e(5403856613);const B=10*1e3,W=30*1e3;class K{constructor(X){this.logger=X,this.currentUnstableAlerts={},this.currentAlerts={networkQualityHealth:[],isNetworkQualityPoor:[],isAudioQualityPoor:[],isCpuCompetitionPoor:[]},this.updateInterval=B,this.updateIntervalIncrements=0,this.maybeIncrementUpdateInterval=()=>{this.updateIntervalIncrements+=1,this.updateIntervalIncrements%3===0&&(this.updateInterval=Math.min(W,this.updateInterval+1e3))},this.getStableAlerts=(ue,Ee)=>{const Te=E(He=>{const $e=ue[He];let it=this.currentAlerts[He];const ht=Date.now();it.push({timestamp:ht,value:$e}),it=it.filter(sn=>{let{timestamp:dn}=sn;return ht-dn<=W}),this.currentAlerts[He]=it,it=it.filter(sn=>{let{timestamp:dn}=sn;return ht-dn<=Ee.interval});const Kt=new Map;for(const sn of it)Kt.has(sn.value)||Kt.set(sn.value,0),Kt.set(sn.value,Kt.get(sn.value)+1);const It=Array.from(Kt.entries());let[Ut,ln]=It[0];for(const[sn,dn]of It.slice(1))dn>ln&&(ln=dn,Ut=sn);return It.length?Ut:this.currentUnstableAlerts[He]},"nextAlert");return{isAudioQualityPoor:Te("isAudioQualityPoor"),isCpuCompetitionPoor:Te("isCpuCompetitionPoor"),isNetworkQualityPoor:Te("isNetworkQualityPoor"),networkQualityHealth:Te("networkQualityHealth")}},this.getStabilityConfig=()=>({interval:this.updateInterval}),this.getAlertUpdates=ue=>{let{alerts:Ee}=ue;const Te=this.getStableAlerts(Ee,this.getStabilityConfig()),He=!(0,x.A)(Te,this.currentUnstableAlerts);if(this.maybeIncrementUpdateInterval(),He)return this.currentUnstableAlerts=Te,this.logger.debug("Updated alerts and metrics will be dispatched to redux"),Te}}}E(K,"AlertUpdater");const H=null,z="https://slack.com/help/articles/115003538426-Troubleshoot-audio-and-video-issues-in-Slack",Q={isMicrophoneBluetooth:"The user is using a Bluetooth microphone, which could cause audio delays, reduce audio quality, or cause audio and video to fall out of sync. If these problems occur, suggest they switch to a wired or built-in microphone.",isCameraProbablyIphone:'The user might be unknowingly using their iPhone camera, which could lead to issues like a black screen or missing video. To prevent this, they can disable the "Continuity Camera" feature on their device. Guide them to go to Settings > Camera > Continuity and turn off the option.',isVpnEnabled:`The user is connected via a VPN, which can increase latency or cause connectivity issues if the VPN isn't optimized for video conferencing. Suggest they disable the VPN or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${z}`,isSuboptimalProtocol:`The user's connection protocol is TLS, not TCP, which may be due to a VPN, proxy, or firewall not configured for video conferencing. Suggest they disable their VPN or proxy, or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${z}`,isHardwareAccelerationDisabled:"Hardware acceleration seems to be disabled on the user's device, which could degrade performance. Suggest they re-enable hardware acceleration in their Slack preferences. They can do this by going to Preferences > Advanced > Enable hardware acceleration.",isUsingBatteryPower:"The user's device is running on battery power, which could limit device performance and cause audio, video, or application lag. If they report such issues, suggest they connect their device to a power source.",isMediaRegionSuboptimal:"The user is in a different region from the Huddle host, potentially causing increased latency and instability. This geographical disparity can't be controlled by users but network stability and connectivity can be improved. Suggest that they move closer to their Wi-Fi router, switch to a wired connection if possible, limit other bandwidth-intensive activities on their computer or network, or try connecting with a different network.",isOSThrottlingCpu:"The operating system is throttling CPU to manage heat or conserve battery power, which could lead to degraded audio or video quality and/or a general sense that Slack is slow or unresponsive. This might manifest as video freezing frequently, audio cutting out frequently, or audio-video sync issues. In more extreme cases, it can even trigger disconnections from the Chime media server. To mitigate this, ensure the user's device is well-ventilated, that they avoid running unnecessary applications during the call, and, if they are on a laptop, they should connect it to a power source. Adjusting power settings to prefer maximum performance (even when battery is being used) can also help. For detailed steps, please refer to your device's power management settings."},le={...{isNetworkQualityPoor:"The user's network quality is poor, which can cause delays or degraded audio or video, drops in connectivity, and audio/video desynchronization. Guide them through improving network stability, for instance, moving closer to their Wi-Fi router, switching to a wired connection if possible, limiting other bandwidth-intensive activities, or trying to connect with a different network.",isCpuCompetitionPoor:"The user\u2019s device is experiencing high CPU usage, causing audio or video delays, connectivity drops, or desynchronization. Suggest they close unnecessary applications, tabs, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, and check if their hardware meets the recommended specifications."},...{isDisconnected:"The user is disconnected from the Huddle and can't send or receive audio or video. This might be due to network instability, incorrect configurations, hardware issues, or connectivity problems. Guide them through checking their network connection, suggest they limit other bandwidth-intensive activities, try connecting with a different network, move closer to their router, and suggest restarting the call.",isMicrophoneBlocked:"Slack can't access the user's microphone, possibly due to permission or settings issues. Verify that Slack has been granted permission to use the microphone, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Sound settings (on Windows) and ensuring that Slack is checked.",isMicrophoneNotSendingAudio:"The user's microphone is connected, but isn't sending any audio, possibly due to another application using it, being muted, or system-level settings. Suggest they unplug and replug their device, restart Slack, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, close unnecessary applications or tabs, and check for conflicting settings.",isCameraBlocked:"Slack can't access the user's camera, likely due to settings or permissions issues. Verify that Slack has permission to use their camera, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Camera Privacy Settings (on Windows) and ensuring that Slack is checked."},...Q},te={isNetworkQualityPoor:"networkQualityScoreReasons",isCpuCompetitionPoor:"cpuCompetitionScoreReasons"};class ce{constructor({callLogger:X,logger:ue,dispatch:Ee}){this.isDev=(0,n.Cu)(),this.isJsPath=(0,n.b3)(),this.loggedHuddleConfigInfo=!1,this.lastProcessedTagsTs=null,this.lastProcessedStats=null,this.lastUnstableMetricsUpdateTs=0,this.lastLoggedTagsTs=Date.now(),this.logHuddleConfigInfo=Te=>{if(this.loggedHuddleConfigInfo||!this.lastProcessedTagsTs)return;const{isIA4Prod:He,isUnifiedGrid:$e,visibleSidebarItemCount:it,networkType:ht,networkProtocol:Kt,networkRelayProtocol:It,isHardwareAccelerationEnabled:Ut,batteryIsUsing:ln}=Te;this.callLogger.info(`Initial Huddle Config: Network Type=${ht}; Network Protocol=${Kt}; Network Relay Protocol=${It}; IA4=${He}; Unified Grid=${$e}; Hardware Acceleration=${Ut??"unknown (browser)"}; Using Battery Power=${ln}; Sidebar Size=${it};`),this.loggedHuddleConfigInfo=!0},this.logWarningAndAlertUpdates=(Te,He)=>{Object.entries(Te).forEach($e=>{let[it,ht]=$e;if(ht&&this.isRelevantWarning(it,Te)&&le[it]){let Kt;if(it in te){const Ut=te[it];Ut&&(He!=null&&He[Ut])&&(Kt=He[Ut])}this.logger.warn(`\u{1F6A8} WARNING! ${le[it]}${Kt?` reasons: (${Kt})`:""}`)}})},this.isRelevantWarning=(Te,He)=>Te==="isNetworkQualityPoor"||Te==="isCpuCompetitionPoor"?"isAudioQualityPoor"in He&&!!He.isAudioQualityPoor:!0,this.logTags=Te=>{const He=Date.now();this.isJsPath||this.isDev?this.logger.info(`Recorded ${m.Sq}:${m.Kp} event span tags`,Te):He-this.lastLoggedTagsTs>10*1e3&&(this.logger.debug(`Recorded ${m.Sq}:${m.Kp} event span tags`,Te),this.lastLoggedTagsTs=He)},this.getStatsDiff=Te=>{const He=this.lastProcessedStats;return(0,v.A)(Te,($e,it)=>{var ht,Kt;return{stable:He?!(0,x.A)((ht=He[it])===null||ht===void 0?void 0:ht.stable,$e==null?void 0:$e.stable):null,unstable:He?!(0,x.A)((Kt=He[it])===null||Kt===void 0?void 0:Kt.unstable,$e==null?void 0:$e.unstable):null}})},this.maybeUpdateTroubleshootingPanel=Te=>{var He,$e,it,ht,Kt,It,Ut,ln,sn;const dn=Date.now(),gn=(0,k.p)(Te),In=this.getStatsDiff(gn);if(this.lastProcessedStats=gn,(!((He=In.alerts)===null||He===void 0)&&He.stable||(($e=In.alerts)===null||$e===void 0?void 0:$e.stable)===null)&&gn.alerts.stable&&(this.dispatch((0,b._6)(gn.alerts.stable)),In.alerts.stable&&this.logWarningAndAlertUpdates(gn.alerts.stable)),(!((it=In.metrics)===null||it===void 0)&&it.stable||((ht=In.metrics)===null||ht===void 0?void 0:ht.stable)===null)&&gn.metrics.stable&&this.dispatch((0,b.qO)(gn.metrics.stable)),(!((Kt=In.warnings)===null||Kt===void 0)&&Kt.stable||((It=In.warnings)===null||It===void 0?void 0:It.stable)===null)&&gn.warnings.stable&&(this.dispatch((0,b.it)(gn.warnings.stable)),this.logWarningAndAlertUpdates(gn.warnings.stable)),!((Ut=gn.alerts)===null||Ut===void 0)&&Ut.unstable){const Vn=this.alertUpdater.getAlertUpdates({alerts:gn.alerts.unstable});Vn&&(this.dispatch((0,b.Li)(Vn)),this.logWarningAndAlertUpdates(Vn,Te))}gn.metrics.unstable&&gn.warnings.unstable&&(!this.lastUnstableMetricsUpdateTs||dn-this.lastUnstableMetricsUpdateTs>1e4&&(!((ln=In.warnings)===null||ln===void 0)&&ln.unstable||!((sn=In.metrics)===null||sn===void 0)&&sn.unstable))&&(this.dispatch((0,b.bW)({metrics:gn.metrics.unstable,warnings:gn.warnings.unstable})),this.lastUnstableMetricsUpdateTs=dn)},this.processTags=Te=>{this.maybeUpdateTroubleshootingPanel(Te),this.logHuddleConfigInfo(Te),this.logTags(Te),this.lastProcessedTagsTs=Date.now()},this.callLogger=X,this.logger=ue,this.dispatch=Ee,this.alertUpdater=new K(ue),this.callLogger.info("huddle perf observer initialized")}}E(ce,"HuddlePerfObserver");const me=null,_e=ce;var Ae=e(2825968873),ye=e(5238395322),oe=e(9137897911),ee=e(9113979368),V=e(8872403767),w=e(1687672245);const Y=E(Je=>{if((0,ee.A)(Je))return;const X=(0,h.A)(Je,(ue,Ee)=>(0,w.A)(ue,Ee,(Te,He)=>(Te||0)+He),{});return(0,v.A)(X,ue=>ue/Je.length)},"calculateIncomingVideoStatsAverages"),G=E(Je=>{if(typeof Je=="string"||typeof Je=="boolean")return Je;if(!isNaN(Je)&&!(typeof Je>"u"||Je===null))return Math.round(Je)},"getScrubbedMetricValue"),Z=E(Je=>{let{clientMetricReport:X,direction:ue}=Je;const Ee=Object.keys(X.streamMetricReports);let Te;return Ee.forEach(He=>{const $e=Number(He),it=X.streamMetricReports[$e];it.direction===ue&&it.mediaType===l.zu.AUDIO&&(Te=$e)}),Te},"getAudioSsrcId"),se=E((Je,X,ue,Ee,Te)=>{const He=Je==null?void 0:Je.getMetricMap(X,ue)[Ee];if(He!=null&&He.transform)return He.transform(Ee,Te)},"getNonObservedMetric"),ae=E((Je,X)=>{const ue=X?Je.replace(X,""):Je;return ue.charAt(0).toUpperCase()+ue.slice(1)},"removeSubstringAndCapitalize"),re=E(function(Je){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(0,p.A)(X)||!(0,p.A)(Je))return 0;const Ee=isNaN(ue)?0:ue;if(Je===X||Je>X)return 0;const He=(X-Je)/X*100-Ee;return Math.round(He)},"calculateNonNetworkPacketLoss");var pe=e(5057176955),de;(function(Je){Je[Je.UPSTREAM=0]="UPSTREAM",Je[Je.DOWNSTREAM=1]="DOWNSTREAM"})(de||(de={}));var ie;(function(Je){Je[Je.AUDIO=0]="AUDIO",Je[Je.VIDEO=1]="VIDEO"})(ie||(ie={}));let he,ve;const ge=E(function(Je,X,ue){let Ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je||!X)return;const Te=(X.timestamp-Je.timestamp)/1e3,He=X[ue]-Je[ue];return Ee?He/Te:He},"getNextStat"),ke=E(Je=>{let{clientMetricReport:X,selfAttendeeId:ue}=Je;const Ee=X.getObservableVideoMetrics();if(!Ee||!ue)return;let Te=0;const He={},$e=[];return(0,f.A)(Ee,(it,ht)=>{var Kt;const It=Number((Kt=Object.keys(it))===null||Kt===void 0?void 0:Kt[0]);if(!It)return;const Ut=it[It];if(ht.endsWith("#content")){var ln,sn;Te+=1,(0,f.A)(Ut,(xn,Qn)=>{He[(0,oe.A)(`screenshare_${(0,_._3)(Qn)}${Te>1?`${Te}_`:""}`)]=G(xn)}),Object.assign(He,{screenshareVideoDownstreamDecoderImplementation:(ln=X.streamMetricReports[It])===null||ln===void 0||(sn=ln.currentStringMetrics)===null||sn===void 0?void 0:sn.decoderImplementation,screenshareVideoDownstreamFramesReceivedPerSecond:X.countPerSecond("framesReceived",It),screenshareVideoDownstreamFramesDroppedPerSecond:se(X,ie.VIDEO,de.DOWNSTREAM,"framesDropped",It),screenshareVideoDownstreamFreezeCount:se(X,ie.VIDEO,de.DOWNSTREAM,"freezeCount",It),screenshareVideoDownstreamTotalDecodeTime:se(X,ie.VIDEO,de.DOWNSTREAM,"totalDecodeTime",It),screenshareVideoDownstreamTotalFreezesDuration:se(X,ie.VIDEO,de.DOWNSTREAM,"totalFreezesDuration",It)});return}if(ue===ht){if(Ut.videoUpstreamBitrate!==0){var dn,gn;(0,f.A)(Ut,(xn,Qn)=>{He[`self${ae(Qn,"Upstream")}`]=G(xn)}),Object.assign(He,{selfVideoHardwareEncoder:se(X,ie.VIDEO,de.UPSTREAM,"encoderImplementation",It),selfVideoEncoderImplementation:(dn=X.streamMetricReports[It])===null||dn===void 0||(gn=dn.currentStringMetrics)===null||gn===void 0?void 0:gn.encoderImplementation,selfVideoTotalEncodeTime:se(X,ie.VIDEO,de.UPSTREAM,"totalEncodeTime",It)})}}else{var In,Vn;const xn=se(X,ie.VIDEO,de.DOWNSTREAM,"totalDecodeTime",It);if(xn){var bn;He.videoDownstreamTotalDecodeTime=((bn=He.videoDownstreamTotalDecodeTime)!==null&&bn!==void 0?bn:0)+xn}Object.assign(He,{videoDownstreamDecoderImplementation:(In=X.streamMetricReports[It])===null||In===void 0||(Vn=In.currentStringMetrics)===null||Vn===void 0?void 0:Vn.decoderImplementation}),$e.push({...Ut,videoDownstreamFramesReceivedPerSecond:X.countPerSecond("framesReceived",It),videoDownstreamFramesDroppedPerSecond:se(X,ie.VIDEO,de.DOWNSTREAM,"framesDropped",It)})}}),(0,ee.A)($e)||Object.assign(He,Y($e)),He},"getVideoMetricTags"),Ne=["nackCountReceivedPerSecond","currentRoundTripTimeMs","availableOutgoingBitrate","availableIncomingBitrate"],We=E(Je=>{let{clientMetricReport:X}=Je;const{audioDecoderLoss:ue,audioPacketLossPercent:Ee,audioPacketsReceived:Te,audioPacketsReceivedFractionLoss:He,audioPacketsSent:$e,audioSpeakerDelayMs:it,audioDownstreamJitterMs:ht,videoUpstreamBitrate:Kt,videoPacketSentPerSecond:It,currentRoundTripTimeMs:Ut,availableIncomingBitrate:ln,availableOutgoingBitrate:sn,nackCountReceivedPerSecond:dn,audioUpstreamRoundTripTimeMs:gn,audioUpstreamJitterMs:In}=X.getObservableMetrics(),Vn=50,bn=re(Te,Vn,He),xn=re($e,Vn,Ee),Qn={audioDownstreamDecoderLoss:ue,audioUpstreamPacketLossPercent:Ee,audioDownstreamPacketsReceived:Te,audioDownstreamPacketLossPercent:He,audioDownstreamJitterMs:ht,audioUpstreamPacketsSent:$e,audioDownstreamNonNetworkPacketLossPercent:bn,audioUpstreamNonNetworkPacketLossPercent:xn,audioDownstreamJitterBufferDelay:it,selfVideoBitrate:Kt,selfVideoPacketsSentPerSecond:It,audioUpstreamRoundTripTimeMs:gn,audioUpstreamJitterMs:In,networkCurrentRoundTripTimeMs:Ut,networkAvailableIncomingBitrate:ln,networkAvailableOutgoingBitrate:sn,networkNackCountReceivedPerSecond:dn},hn=(0,V.A)(Qn,(hs,Ms)=>Ne.indexOf(Ms)>-1?(0,oe.A)(`network_${Ms}`):Ms),rs={networkSocketPacketsDiscardedOnSend:X.globalMetricReport.currentMetrics.packetsDiscardedOnSend},ys=Z({clientMetricReport:X,direction:de.DOWNSTREAM});let Is;if(ys){const hs=se(X,ie.AUDIO,de.DOWNSTREAM,"concealedSamples",ys);Is={audioDownstreamTotalSamplesReceived:se(X,ie.AUDIO,de.DOWNSTREAM,"totalSamplesReceived",ys),audioDownstreamConcealedSamples:hs}}return(0,v.A)({...hn,...rs,...Is},hs=>G(hs))},"getAudioMetricTags"),Oe=E(Je=>{const X={},ue=[];let Ee;if(!Je)return he=void 0,X;Je.forEach(He=>{He.type==="local-candidate"&&ue.push(He),He.type==="media-source"&&He.kind==="audio"&&(X.audioUpstreamTotalSamplesDuration=He.totalSamplesDuration,X.audioUpstreamAudioLevel=He.audioLevel,X.audioUpstreamTotalAudioEnergy=He.totalAudioEnergy),He.type==="candidate-pair"&&He.state==="succeeded"&&He.nominated&&He.localCandidateId&&(Ee=He.localCandidateId,X.networkBytesSent=He.bytesSent,X.networkBytesReceived=He.bytesReceived,X.networkBytesDiscardedOnSend=He.bytesDiscardedOnSend),He.type==="inbound-rtp"&&He.kind==="audio"&&(X.audioDownstreamLevel=He.audioLevel),He.type==="outbound-rtp"&&He.kind==="video"&&(X.selfVideoQualityLimitationDurations=He.qualityLimitationDurations&&(0,pe.Zf)(He.qualityLimitationDurations),X.selfVideoOutboundFramesPerSecond=He.framesPerSecond,X.selfVideoPacketSendDelay=ge(he,He,"totalPacketSendDelay"),he=He),He.type==="media-source"&&He.kind==="video"&&(X.selfVideoSourceFramesPerSecond=He.framesPerSecond)});const Te=ue.find(He=>He.id===Ee);if(Te){const{networkType:He,protocol:$e,relayProtocol:it}=Te;X.networkType=He,X.networkProtocol=$e,X.networkRelayProtocol=it}return X},"getRtcStatsTags"),be=E(Je=>{if(!Je){ve=void 0;return}const X={};return Je.forEach(ue=>{if(ue.type==="remote-inbound-rtp"&&ue.kind==="video"){const{fractionLost:Ee,jitter:Te,roundTripTime:He}=ue;Object.assign(X,{screenshareUpstreamJitter:Te*1e3,screenshareUpstreamPacketLossPercent:Ee*100,screenshareUpstreamRoundTripTime:He*1e3})}if(ue.type==="outbound-rtp"&&ue.kind==="video"){const{frameHeight:Ee,frameWidth:Te,framesPerSecond:He,targetBitrate:$e,encoderImplementation:it,scalabilityMode:ht,powerEfficientEncoder:Kt}=ue;if(Object.assign(X,{screenshareUpstreamTargetBitrate:$e,screenshareUpstreamFrameWidth:Te,screenshareUpstreamFrameHeight:Ee,screenshareUpstreamFramesPerSecond:He,screenshareUpstreamEncoderImplementation:it,screenshareUpstreamPowerEfficientEncoder:Kt,screenshareUpstreamScalabilityMode:ht}),!ve){ve=ue;return}const It=ge(ve,ue,"totalEncodeTime",!0),Ut=It&&It*1e3;Object.assign(X,{screenshareUpstreamPacketsSent:ge(ve,ue,"packetsSent"),screenshareUpstreamPacketSendDelay:ge(ve,ue,"totalPacketSendDelay"),screenshareUpstreamKeyFramesEncoded:ge(ve,ue,"keyFramesEncoded"),screenshareUpstreamBitrate:ge(ve,ue,"bytesSent",!0),screenshareUpstreamTotalEncodeTime:Ut}),ve=ue}}),(0,v.A)(X,ue=>G(ue))},"getScreenshareRtcStatsTags"),Ke=E(Je=>{let{clientMetricReport:X,selfAttendeeId:ue}=Je;const Ee=ke({clientMetricReport:X,selfAttendeeId:ue}),Te=We({clientMetricReport:X});return{...Ee,...Te}},"getClientMetricReportTags"),Fe={getVideoMetricTags:ke,getAudioMetricTags:We,getClientMetricReportTags:Ke,getScreenshareRtcStatsTags:be,getRtcStatsTags:Oe};var J=e(4404059078),ne=e(2205899741);const je=0,at=100;function nt(Je){return Je.endsWith(",")?Je.slice(0,-1):Je}E(nt,"trimComma");const Ge=E(()=>{let Je=100,X="";return{deductFromScoreForReason:(ue,Ee)=>{ue&&(Je-=ue,X+=`${Ee},`)},getScore:()=>(0,J.A)(Je,je,at),getReasons:()=>nt(X)}},"trackScoreAndReasons"),Pe=E(Je=>{const{deductFromScoreForReason:X,getScore:ue,getReasons:Ee}=Ge(),{screenshareUpstreamBitrate:Te,screenshareUpstreamPacketLossPercent:He,screenshareUpstreamJitter:$e,screenshareUpstreamPacketSendDelay:it,screenshareUpstreamQualityLimitationReason:ht}=Je;if(Te)return X((0,ne.Tg)(He),"screenshareUpstreamPacketLossPercent"),X((0,ne.Fu)($e),"screenshareUpstreamJitter"),X((0,ne.RI)(it),"screenshareUpstreamPacketSendDelay"),X((0,ne.Fq)(ht),"screenshareUpstreamQualityLimitationReason"),{screenshareUpstreamQualityScore:ue(),screenshareUpstreamQualityScoreReasons:Ee()}},"getScreenshareUpstreamQualityScore"),Le=E(Je=>{const{selfVideoPacketLossPercent:X,selfVideoJitterMs:ue,isSelfVideoEnabled:Ee,selfVideoOutboundFramesPerSecond:Te,selfVideoBitrate:He}=Je;if(!Ee||!He)return;const{deductFromScoreForReason:$e,getScore:it,getReasons:ht}=Ge();return $e((0,ne.Tg)(X),"selfVideoPacketLossPercent"),$e((0,ne.Fu)(ue),"selfVideoJitterMs"),$e((0,ne.qf)(Te),"selfVideoOutboundFramesPerSecond"),{selfVideoQualityScore:it(),selfVideoQualityScoreReasons:ht()}},"getSelfVideoQualityScore"),ze=E(Je=>{const{videoDownstreamPacketLossPercent:X,videoDownstreamFramesDecodedPerSecond:ue,videoDownstreamBitrate:Ee,videoDownstreamJitterMs:Te,videoDownstreamDelayMs:He}=Je;if(!Ee)return;const{deductFromScoreForReason:$e,getScore:it,getReasons:ht}=Ge();return $e((0,ne.Tg)(X),"videoDownstreamPacketLossPercent"),$e((0,ne.q4)(He),"videoDownstreamDelayMs"),$e((0,ne.Fu)(Te),"videoDownstreamJitterMs"),$e((0,ne.qf)(ue),"videoDownstreamFramesDecodedPerSecond"),{videoDownstreamQualityScore:it(),videoDownstreamQualityScoreReasons:ht()}},"getVideoDownstreamQualityScore"),Me=E(function(Je){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{deductFromScoreForReason:ue,getScore:Ee,getReasons:Te}=Ge();if(X){const{screenshareVideoDownstreamPacketLossPercent2:Kt,screenshareVideoDownstreamJitterMs2:It,screenshareVideoDownstreamDelayMs2:Ut,screenshareVideoDownstreamFrameHeight2:ln}=Je;return ln?(ue((0,ne.Tg)(Kt),"screenshareVideoDownstreamPacketLossPercent2"),ue((0,ne.Fu)(It),"screenshareVideoDownstreamJitterMs2"),ue((0,ne.q4)(Ut),"screenshareVideoDownstreamDelayMs2"),{screenshareVideoDownstreamQualityScore2:Ee(),screenshareVideoDownstreamQualityScoreReasons2:Te()}):void 0}const{screenshareVideoDownstreamPacketLossPercent:He,screenshareVideoDownstreamJitterMs:$e,screenshareVideoDownstreamDelayMs:it,screenshareVideoDownstreamFrameHeight:ht}=Je;if(ht)return ue((0,ne.Tg)(He),"screenshareVideoDownstreamPacketLossPercent"),ue((0,ne.Fu)($e),"screenshareVideoDownstreamJitterMs"),ue((0,ne.q4)(it),"screenshareVideoDownstreamDelayMs"),{screenshareVideoDownstreamQualityScore:Ee(),screenshareVideoDownstreamQualityScoreReasons:Te()}},"getScreenshareDownstreamQualityScore"),Ce=E(Je=>{const{audioUpstreamPacketLossPercent:X,audioUpstreamRoundTripTimeMs:ue,audioUpstreamJitterMs:Ee,audioUpstreamNonNetworkPacketLossPercent:Te}=Je;if(!ue)return;const{deductFromScoreForReason:He,getScore:$e,getReasons:it}=Ge();return He((0,ne.Ye)(X),"audioUpstreamPacketLossPercent"),He((0,ne.oj)(ue),"audioUpstreamRoundTripTimeMs"),He((0,ne._N)(Ee),"audioUpstreamJitterMs"),He((0,ne.fB)(Te),"audioUpstreamNonNetworkPacketLossPercent"),{audioUpstreamQualityScore:$e(),audioUpstreamQualityScoreReasons:it()}},"getAudioUpstreamQualityScore"),Qe=E(Je=>{const X={};return Je.screenshareVideoDownstreamFrameHeight2&&Object.assign(X,Me(Je,!0)),{...Me(Je),...X}},"getScreenshareDownstreamQualityScores"),Be=E(Je=>{const{cpuUse:X,gpuUse:ue,cpuUseRelative:Ee,longTasksPercentage:Te}=Je,{deductFromScoreForReason:He,getScore:$e,getReasons:it}=Ge();return He((0,ne.sI)(Te),"longTasksPercentage"),He((0,ne.$c)(X),"cpuUse"),He((0,ne.KG)(ue),"gpuUse"),He((0,ne.h7)(Ee),"cpuUseRelative"),{cpuCompetitionScore:$e(),cpuCompetitionScoreReasons:it()}},"getCpuCompetitionScoreTags"),we=E(function(){for(var Je=arguments.length,X=new Array(Je),ue=0;ue<Je;ue++)X[ue]=arguments[ue];const Ee=X.filter(p.A);return Ee.length?Math.round((0,A.A)(Ee)):0},"getMetricAverage"),xe=E(Je=>{const{networkCurrentRoundTripTimeMs:X,networkNackCountReceivedPerSecond:ue,networkSocketPacketsDiscardedOnSend:Ee,networkProtocol:Te,networkRelayProtocol:He,audioDownstreamJitterMs:$e,audioDownstreamPacketLossPercent:it,audioUpstreamPacketLossPercent:ht,audioUpstreamJitterMs:Kt,videoDownstreamPacketLossPercent:It,screenshareDownstreamPacketLossPercent:Ut,screenshareUpstreamPacketLossPercent:ln,selfVideoPacketLossPercent:sn}=Je,{deductFromScoreForReason:dn,getScore:gn,getReasons:In}=Ge();dn((0,ne.ik)(Te),"networkProtocol"),dn((0,ne.ik)(He),"networkRelayProtocol"),dn((0,ne.No)(Ee),"networkSocketPacketsDiscardedOnSend"),dn((0,ne.oj)(X),"networkCurrentRoundTripTimeMs");const Vn=we($e,Kt);dn((0,ne._N)(Vn),"networkJitterMs"),dn((0,ne.Ap)(ue),"networkNackCountReceivedPerSecond");const bn=we(it,It,Ut,ht,sn,ln);return dn((0,ne.kq)(bn),"networkPacketLossPercent"),{networkJitterMs:Vn,networkPacketLossPercent:bn,networkQualityScore:gn(),networkQualityScoreReasons:In()}},"getNetworkQualityScoreTags"),Se=E(Je=>{const{audioDownstreamDecoderLoss:X,audioDownstreamJitterBufferDelay:ue,audioDownstreamPacketLossPercent:Ee}=Je,{deductFromScoreForReason:Te,getScore:He,getReasons:$e}=Ge();return Te((0,ne.t5)(X),"audioDownstreamDecoderLoss"),Te((0,ne.q4)(ue),"audioDownstreamJitterBufferDelay"),Te((0,ne.Ye)(Ee),"audioDownstreamPacketLossPercent"),{audioDownstreamQualityScore:He(),audioDownstreamQualityScoreReasons:$e()}},"getAudioDownstreamQualityTags"),ot=E(Je=>({...Se(Je),...xe(Je),...Ce(Je),...Le(Je),...Qe(Je),...Pe(Je),...Be(Je),...ze(Je),qualityScoringVersion:m.Nb}),"getQualityScoreTags"),_t=E((Je,X)=>{let{type:ue,update:Ee}=Je;switch(ue){case l.lx.BluetoothDevices:case l.lx.PreferredMediaRegion:case l.lx.CameraResolution:case l.lx.CallId:case l.lx.ScreenshareContentType:Object.assign(X.sharedTags,Ee);break;case l.lx.MemoryLeaks:{const Te=X.sharedTags.memoryLeakCount;Object.assign(X.sharedTags,{type:"shared",tags:{[`memoryLeaks-${Ee.name}`]:Ee.leakCount,memoryLeakCount:Te?Te+Ee.leakCount:Ee.leakCount}});break}case l.lx.SelectedMediaRegion:{const{mediaRegionPreferred:Te}=X.sharedTags,He=Te&&Ee.mediaRegionSelected?Te===Ee.mediaRegionSelected:!0;Object.assign(X.sharedTags,{mediaRegionSelected:Ee.mediaRegionSelected,mediaRegionMatchesPreference:He});break}case l.lx.VoiceFocusConfig:Object.assign(X.sharedTags,{vfSimdSupported:Ee.model.simd,vfModelVariant:Ee.model.variant,vfSupported:Ee.supported});break;case l.lx.NetworkDisconnect:Ee.peerId==="self"&&Object.assign(X.transientTags,{selfDisconnectCount:(X.transientTags.selfDisconnectCount||0)+1});break;case l.lx.NoAudio:{const Te=Ee.direction==="send"?{noAudioInput:Ee.noAudio}:{noAudioOutput:Ee.noAudio};Object.assign(X.sharedTags,Te);break}case l.lx.SetIsDebugApp:Object.assign(X.sharedTags,{isDebugApp:!0});break;default:{(0,Ae.tZ)("HUDDLES-PERF").error(new Error(`Unexpected type: ${ue}`));break}}},"updateState"),pt=null;var vt=e(6267571562);const yt=(0,o.Wo)({label:"COMPUTE-PRESSURE"}),Tt={nominal:1,fair:2,serious:3,critical:4};class ft{constructor(){this.defaultSampleRate=.5,this.pubSub=new vt.G,this.isObserving=!1,this.currentLevel=null,this.startObserving=async()=>{if(!this.isObserving){try{var X;this.isObserving=!0,await((X=this.pressureObserver)===null||X===void 0?void 0:X.observe("cpu"))}catch(ue){this.isObserving=!1,yt.error("An error occurred while attempting to observe compute pressure",ue)}yt.info("Observing compute pressure")}},this.getPressureLevelFromRecord=X=>X?Tt[X.state]:void 0,this.pressureObserverCallback=X=>{const ue=X.pop();if(!ue)return;const Ee=this.getPressureLevelFromRecord(ue);Ee&&(this.currentLevel=Ee,Ee===1?yt.debug(`Compute pressure updated to ${ue.state} (${Ee} of 4)`):yt.warn(`Compute pressure updated to ${ue.state} (${Ee} of 4)`),this.pubSub.publish(Ee))},this.subscribe=async X=>{this.pubSub.subscribe(X),await this.startObserving()},this.unsubscribe=X=>{if(this.pubSub.unsubscribe(X),!this.pubSub.subscriberCount)try{var ue;(ue=this.pressureObserver)===null||ue===void 0||ue.disconnect(),yt.debug("No longer observing compute pressure.")}catch(Ee){yt.error("An error occurred attempted to disconnect from the compute pressure observer",Ee)}},this.getCurrentLevel=()=>{if(this.currentLevel)return this.currentLevel;let X;try{var ue;X=(ue=this.pressureObserver)===null||ue===void 0?void 0:ue.takeRecords()}catch(Te){yt.error("An error occurred attempting to get latest compute pressure reports",Te)}const Ee=X?this.getPressureLevelFromRecord(X.pop()):void 0;return Ee&&(this.currentLevel=Ee),Ee},yt.info("Compute Pressure API is supported. Initializing pressure observer.");try{this.pressureObserver=new PressureObserver(this.pressureObserverCallback,{sampleRate:this.defaultSampleRate})}catch(X){yt.error("An error occurred creating a new instance of the PressureObserver",X)}if(!this.pressureObserver){yt.error("Compute pressure observer not created, though PressureObserver API should be supported");return}this.startObserving()}}E(ft,"ComputePressureObserver"),ft.isSupported=()=>"PressureObserver"in globalThis;let Ct;const At=E(()=>{if(Ct)return Ct;if(!ft.isSupported()){yt.info("Compute Pressure API is not supported.");return}try{Ct=new ft}catch(Je){yt.error("An error occurred while attempting to create compute pressure observer",Je);return}return Ct},"getComputePressureObserver"),kt=null,Bt=null,St=At,Gt={longTasksPercentage:0,longTasksPeakDuration:0,longTasksCount:0,longTasksTotalDuration:0};let Et=E(class{initializeReport(){this.report={...Gt},this.lastReportTime=performance.now()}isLongTaskTimingSupported(){return typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}start(){this.observer||!this.isSupported||(this.observer=new PerformanceObserver(this.onReceiveLongTaskList),this.observer.observe({entryTypes:["longtask"]}),this.observer.takeRecords())}stop(){this.observer&&(this.observer.disconnect(),this.observer=null)}getReportSinceLastCall(){if(!this.observer||!this.isSupported)return;const ue=performance.now()-this.lastReportTime;this.report.longTasksCount>0&&(this.report.longTasksPercentage=Math.round(this.report.longTasksTotalDuration/ue*100));const Ee={...this.report};return this.initializeReport(),Ee}constructor(){this.report={...Gt},this.lastReportTime=performance.now(),this.observer=null,this.onReceiveLongTaskList=X=>{const ue=X.getEntries();let Ee=0,Te=0;ue.forEach(He=>{const $e=He.duration;Ee+=$e,$e>Te&&(Te=$e)}),this.report.longTasksTotalDuration+=Ee,this.report.longTasksCount+=ue.length,Te>this.report.longTasksPeakDuration&&(this.report.longTasksPeakDuration=Te)},this.isSupported=this.isLongTaskTimingSupported()}},"LongTaskObserver");const wt=null,Jt=Et;let Lt=0;const Zt={traceName:m.Sq},qt="HUDDLES-PERF",tt={troubleshootingEntryPoint:null,troubleshootingContactUsClicked:!1};let st=E(class{constructor(){var X;this.callLogger=(0,Ae.tZ)(qt),this.logger=(0,o.Wo)({label:qt}),this.sharedTags=Zt,this.transientTags={},this.renderTimings=[],this.rtmProcessingTimings=[],this.troubleshootingTags={...tt},this.lastAppMetricsRecordingTs=Date.now(),this.currentTags={},this.computePressure=null,this.longTaskObserver=new Jt,this.initSharedTags=()=>{Lt+=1,this.updateSharedTags({huddlesCountSinceRefresh:Lt})},this.initComputePressureObserver=()=>{this.computePressureObserver=St(),this.computePressureObserver&&this.computePressureObserver.subscribe(this.updateComputePressure).then(()=>{var ue;const Ee=(ue=this.computePressureObserver)===null||ue===void 0?void 0:ue.getCurrentLevel();this.computePressure=Ee})},this.updateSharedTags=ue=>{this.sharedTags={...this.sharedTags,...ue}},this.updateTransientTags=ue=>{this.transientTags={...this.transientTags,...ue}},this.updateComputePressure=ue=>{const Ee=this.computePressure;this.computePressure=ue;let Te;switch(ue){case 1:Te="System workload is minimal, operating at lower clock speed to conserve power.";break;case 2:Te="System is performing well but under a fair amount of pressure. Still able to take on additional workload without issues.";break;case 3:Te="System is experiencing significant pressure but remains sustainable; close to operational limits.";break;case 4:Te="System is now about to reach its operational limits; continued pressure may lead to CPU throttling.";break;default:Te="Unknown system workload condition."}ue>2?this.callLogger.warn(`Compute pressure updated to level ${ue} of 4. This is a measure of the strain on the user's computer's processing capacity, which may or may not be caused by Slack or Huddles, but will likely impact performance. A score of ${ue} suggests that: ${Te}. If this warning is frequent, suggest that the user close unused tabs or applications on their computer, ensure their computer is not in battery-saving mode, and/or give other general advice around reducing CPU use.`):Ee&&Ee>2&&this.logger.debug(`Compute pressure updated to level ${ue} of 4 from ${Ee}. ${Te}`)},this.updateState=ue=>{switch(ue.type){case l.lx.RenderTiming:this.renderTimings.push(ue.update);break;case l.lx.RtmMetrics:this.rtmProcessingTimings.push(ue.update);break;case l.lx.AppMetrics:this.updateMetrics(ue.update);break;case l.lx.TroubleshootingEntryPoint:this.troubleshootingTags.troubleshootingEntryPoint=ue.update;break;case l.lx.TroubleshootingContactUsClicked:this.troubleshootingTags.troubleshootingContactUsClicked=!0;break;default:_t(ue,{sharedTags:this.sharedTags,transientTags:this.transientTags})}},this.updateMetrics=ue=>{let{huddleStateSnapshot:Ee,clientMetricReport:Te,screenshareRtcStats:He}=ue;const $e=Te?Ke({clientMetricReport:Te,selfAttendeeId:Te.selfAttendeeId}):{},it=Te?Oe(Te.getRTCStatsReport()):{},ht=be(He),Kt={...Ee,...$e,...ht,...it,...this.sharedTags,...this.transientTags,...this.getRtmMetricTags(),...this.getRenderTimingTags(),...this.getTimestampTags(),...this.getComputePressureTags(),...this.getLongTaskTags(),...this.getTroubleshootingTags()},It=ot(Kt);this.currentTags={...Kt,...It},this.clearTransientTags(),this.lastAppMetricsRecordingTs=Date.now()},this.getCurrentTags=()=>({...this.currentTags}),this.clearTransientTags=()=>{this.transientTags={}},this.getLongTaskTags=()=>{var ue;return(ue=this.longTaskObserver)===null||ue===void 0?void 0:ue.getReportSinceLastCall()},this.getTimestampTags=()=>{const{huddleStartTimestamp:ue}=this.currentTags;return ue?{secondsSinceJoining:Math.floor((Date.now()-ue)/1e3)}:{}},this.getRtmMetricTags=()=>{const ue=this.rtmProcessingTimings.length;return this.rtmProcessingTimings=[],{rtmMessagesProcessed:ue}},this.getTroubleshootingTags=()=>{const ue={...this.troubleshootingTags};return this.troubleshootingTags={...tt},ue},this.getComputePressureTags=()=>({computePressure:this.computePressure}),this.getRenderTimingTags=()=>{const ue=Date.now()-this.lastAppMetricsRecordingTs,Ee=(0,ye.A)(this.renderTimings),Te=this.renderTimings.length;return!Ee||!ue?{uiRenderTimePercent:0,uiRenderTimeMs:0}:(this.renderTimings=[],{uiRenderTimePercent:Number((Ee/ue*100).toFixed(1)),uiRenderCount:Te})},this.cleanup=()=>{var ue,Ee;(ue=this.computePressureObserver)===null||ue===void 0||ue.unsubscribe(this.updateComputePressure),delete this.computePressureObserver,(Ee=this.longTaskObserver)===null||Ee===void 0||Ee.stop(),delete this.longTaskObserver},this.initSharedTags(),this.initComputePressureObserver(),(X=this.longTaskObserver)===null||X===void 0||X.start()}},"HuddlePerfStateInternal");const gt=null,Nt=st;var Ht=e(5071086688),Xt=e(5387083734),j=e(415910655),Ie=e(5332875232);const Ue="HUDDLES-PERF",rt=5e3,zt=1e3;let Wt=E(class{constructor({teamId:X,logger:ue,dispatch:Ee,getState:Te}){this.logger=(0,o.Wo)({label:Ue}),this.callLogger=(0,Ae.tZ)(Ue),this.errorReported=!1,this.lastRecordedMetricsTs=0,this.reportCounts={skipped:0,recorded:0},this.reportUpdate=$e=>{$e.type===l.lx.AppMetrics?this.recordAppMetrics($e):this.huddlePerfState.updateState($e)},this.recordAppMetrics=$e=>{(0,Xt.IE)("huddle-perf-metrics",()=>{var it,ht;if(!this.shouldRecordAppMetrics({nextReportTimestamp:(it=$e.update)===null||it===void 0||(ht=it.clientMetricReport)===null||ht===void 0?void 0:ht.currentTimestampMs})){this.reportCounts.skipped+=1;return}this.logger.debug("Recording app metrics",this.reportCounts.recorded),this.huddlePerfState.updateState($e);const Kt=this.huddlePerfState.getCurrentTags();this.huddlePerfTrace.recordAppMetrics(Kt);try{this.huddlePerfObserver.processTags(Kt)}catch(It){this.errorReported||(this.callLogger.error("An error occurred while processing tags",It),this.errorReported=!0)}this.lastRecordedMetricsTs=Date.now(),this.reportCounts.recorded+=1},{delay:100})},this.shouldRecordAppMetrics=$e=>{let{nextReportTimestamp:it}=$e;if(!it)return!1;const ht=Date.now(),Kt=ht-this.lastRecordedMetricsTs;if(Kt<zt)return this.logger.debug(`Not enough time has passed since last report was recorded (${Kt}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1;const Ut=ht-it;return Ut>rt?(this.logger.debug(`Too much time has passed since the current report was made (${Ut}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1):!0},this.report=$e=>{this.huddlePerfTrace.report($e),Ht.A.unsubscribe(this.reportUpdate),this.huddlePerfState.cleanup(),(0,j.ZR)()};const He=Te();this.huddlePerfTrace=new L({teamId:X,logger:ue,callLogger:this.callLogger,enableMaxReportingFrequency:(0,Ie.CN)(He),metricsAveragesEnabled:(0,Ie.Ml)(He)}),this.huddlePerfObserver=new _e({logger:ue,callLogger:this.callLogger,dispatch:Ee}),this.huddlePerfState=new Nt,Ht.A.subscribe(this.reportUpdate)}},"HuddlePerfManager");const Ft=null,rn=Wt;var _n=e(6533394955),An=e(2141441167),un=e(2709531527),Rn=e(7384121809),Un=e(8276911661),Wn=e(5795074931),vn=e(5286203919),Ln=e(8847766420),On=e(7606781622),kn=e(6251210828),Hn=e(3792998666);const Bn=E(Je=>{let{teamId:X}=Je;var ue,Ee;const Te=(0,_n.oK)(X).getState(),He=(0,Rn.en)().getState(),$e=(0,vn.E9)(He),it=(0,vn.hc)(He),ht=(0,Ln.jV)(Te),Kt=(0,kn.ok)(Te,{huddleId:$e}),It=(0,kn.Zg)(Te,{huddleId:$e}),Ut=(0,Wn.WR)(Te),ln=It?((It==null?void 0:It.timestamps)||[]).map(bn=>it?(0,On.Ld)(Te,it,bn):void 0).filter(bn=>(bn==null?void 0:bn.user)===Ut):[],sn=(ue=ln[0])===null||ue===void 0?void 0:ue.ts,dn=(Ee=ln.slice(-1)[0])===null||Ee===void 0?void 0:Ee.ts,gn=ln.length,In=(0,Un.nv)(Te,Ut),Vn=(0,Hn.P)(In);return{huddleId:$e,channelId:it,enterpriseId:ht,threadId:Kt,threadReplyCnt:gn,threadFirstReplyTs:sn,threadLastReplyTs:dn,isGuest:Vn}},"getHuddleEventsStateSnapshot"),Jn="huddle_events",ts="huddle",on="vhq",$n={topicName:ts,userAgent:navigator.userAgent,family:on};let zn=E(class{get spansList(){var X;return(0,An.A)((X=this.trace)===null||X===void 0?void 0:X.getSpans())||[]}report(){var X;let ue;try{ue=(0,_.tT)({...this.sharedTags,...Bn({teamId:this.teamId})})}catch(Te){var Ee;this.logger.error(`Error while reporting huddle_events trace: ${Te}`),(Ee=this.tracer)===null||Ee===void 0||Ee.clearTrace(this.trace);return}!this.traceReported&&this.trace&&(this.trace.addTags(ue),this.logger.info(`Reporting huddle_events trace: ${this.trace.getTraceId()} with ${this.spansList.length} spans`),this.tracer.reportTrace(this.trace),this.traceReported=!0,this.logger.debug("Reported huddle_events trace with tags",ue)),(X=this.tracer)===null||X===void 0||X.clearTrace(this.trace)}constructor({teamId:X,logger:ue}){this.sharedTags=$n,this.traceReported=!1,this.getSpanByName=Ee=>this.spansList.find(Te=>Ee===Te.getOperationName()),this.getDataSet=()=>{if(!(0,n.Cu)())return"client_metrics"},this.addInitialSpans=()=>{this.update({name:un.p.JOIN,type:un.G.START,tags:{}}),this.update({name:un.p.MINIPLAYER_VIEW,type:un.G.START})},this.isSurfaceChange=Ee=>Ee===un.p.MINIPLAYER_VIEW||Ee===un.p.WINDOW_COMPACT_VIEW||Ee===un.p.WINDOW_FULL_VIEW,this.handleSurfaceChange=Ee=>{let{name:Te,type:He}=Ee;He===un.G.START&&this.isSurfaceChange(Te)&&this.spansList.filter($e=>this.isSurfaceChange($e.getOperationName())).forEach($e=>{$e.getOperationName()!==Te&&this.closeSpan($e)})},this.update=Ee=>{let{name:Te,type:He,tags:$e}=Ee;if(this.trace)if(He===un.G.START||He===un.G.ONCE){const it=this.trace.startSpan(Te,{parentSpanId:this.joinSpanId});$e&&it.addTags($e),Te===un.p.JOIN&&(this.joinSpanId=it.getId()),this.isSurfaceChange(Te)&&this.handleSurfaceChange({name:Te,type:He}),this.logger.debug(`started new span for huddle_events trace: ${Te}`),He===un.G.ONCE&&this.closeSpan(it)}else{const it=this.getSpanByName(Te);this.closeSpan(it),this.logger.debug(`closed span for huddle_events trace: ${Te}`)}},this.closeSpan=Ee=>{Ee&&(Ee.getCloseTimeMs()||Ee.close())},this.recordEntryPoint=Ee=>{Object.assign(this.sharedTags,{entryPoint:Ee})},this.tracer=(0,s.E)({teamOrEnterpriseId:X}),this.trace=this.tracer.createTrace({traceName:Jn,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleRate:1,sampleType:c.tS.SESSION}}),this.teamId=X,this.logger=ue,this.logger.info(`created huddle_events trace:${this.trace.getTraceId()}`),this.addInitialSpans()}},"HuddleEventsTracer");const Zn="huddle_meeting_events";class yn{recordMeetingEvent(X){switch(this.stats.meetingEventsTotalCount+=1,X){case"audioInputFailed":this.stats.meetingEventsAudioInputFailedCount+=1;break;case"videoInputFailed":this.stats.meetingEventsVideoInputFailedCount+=1;break;case"meetingStartFailed":this.stats.meetingEventsMeetingStartFailedCount+=1;break;case"meetingFailed":this.stats.meetingEventsMeetingFailedCount+=1;break;case"deviceLabelTriggerFailed":this.stats.meetingEventsDeviceLabelTriggerFailedCount+=1;break;case"signalingDropped":this.stats.meetingEventsSignalingDroppedCount+=1;break;case"receivingAudioDropped":this.stats.meetingEventsReceivingAudioDroppedCount+=1;break;case"sendingAudioFailed":this.stats.meetingEventsSendingAudioFailedCount+=1;break;case"sendingAudioRecovered":this.stats.meetingEventsSendingAudioRecoveredCount+=1;break;case"meetingStartRequested":this.stats.meetingEventsMeetingStartRequestedCount+=1;break;case"meetingStartSucceeded":this.stats.meetingEventsMeetingStartSucceededCount+=1;break;case"meetingReconnected":this.stats.meetingEventsMeetingReconnectedCount+=1;break;case"meetingEnded":this.stats.meetingEventsMeetingEndedCount+=1;break;case"attendeePresenceReceived":this.stats.meetingEventsAttendeePresenceReceivedCount+=1;break;case"audioInputSelected":this.stats.meetingEventsAudioInputSelectedCount+=1;break;case"audioInputUnselected":this.stats.meetingEventsAudioInputUnselectedCount+=1;break;case"videoInputSelected":this.stats.meetingEventsVideoInputSelectedCount+=1;break;case"videoInputUnselected":this.stats.meetingEventsVideoInputUnselectedCount+=1;break;default:break}this.logger.debug(`Recorded meeting event: ${X}`,this.stats)}getStats(){return{...this.stats}}getTeamId(){return this.teamId}report(){var X;if(!this.trace.isSampled())return;const ue=this.trace.startSpan("meeting_events_stats");let Ee;try{Ee=(0,_.tT)(this.stats),ue.addTags(Ee)}catch(He){var Te;this.logger.error(`Error while reporting huddle_meeting_events trace: ${He}`),ue.close(),(Te=this.tracer)===null||Te===void 0||Te.clearTrace(this.trace);return}ue.close(),this.tracer.reportTrace(this.trace),this.logger.info("Reported meeting events stats",this.stats),(X=this.tracer)===null||X===void 0||X.clearTrace(this.trace)}constructor({logger:X,teamId:ue}){this.getDataSet=()=>{if(!(0,n.Cu)())return"client_metrics"},this.teamId=ue,this.logger=X,this.tracer=(0,s.E)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:Zn,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleRate:1,sampleType:c.tS.SESSION}}),this.stats={meetingEventsAudioInputFailedCount:0,meetingEventsVideoInputFailedCount:0,meetingEventsMeetingStartFailedCount:0,meetingEventsMeetingFailedCount:0,meetingEventsDeviceLabelTriggerFailedCount:0,meetingEventsSignalingDroppedCount:0,meetingEventsReceivingAudioDroppedCount:0,meetingEventsSendingAudioFailedCount:0,meetingEventsMeetingStartRequestedCount:0,meetingEventsMeetingStartSucceededCount:0,meetingEventsMeetingReconnectedCount:0,meetingEventsMeetingEndedCount:0,meetingEventsAttendeePresenceReceivedCount:0,meetingEventsAudioInputSelectedCount:0,meetingEventsAudioInputUnselectedCount:0,meetingEventsVideoInputSelectedCount:0,meetingEventsVideoInputUnselectedCount:0,meetingEventsSendingAudioRecoveredCount:0,meetingEventsTotalCount:0},this.logger.info(`Initialized meeting events tracer for huddle (teamId: ${this.teamId})`)}}E(yn,"HuddleMeetingEventsTracer");const Kn="HUDDLE-TRACE-MANAGER",Cn=(0,o.Wo)({label:Kn});let os=E(class{initializeTraces(X){let{teamId:ue,isTinySpeck:Ee,isDebugApp:Te}=X;const He=(0,_n.oK)(ue);this.teamId=ue,this.tracer=(0,s.E)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:r.ne,samplingOptions:{sampleRate:(0,n.Cu)()||Ee?1:.05,sampleType:c.tS.SESSION},tags:{__dataset:"client_metrics"}}),Te||(this.reconnectTrace=new a({tracer:this.tracer,trace:this.trace,logger:Cn}),this.ttiTrace=new i({teamId:this.teamId,logger:Cn}),this.huddleEventsTrace=new zn({teamId:this.teamId,logger:Cn}),this.huddleMeetingEventsTrace=new yn({logger:Cn,teamId:this.teamId})),this.huddlePerfTraceManager=new rn({teamId:this.teamId,logger:Cn,dispatch:He.dispatch,getState:He.getState})}setCallId(X){var ue;this.callId=X,(ue=this.trace)===null||ue===void 0||ue.addTags({callId:this.callId}),X&&Ht.A.publish({type:l.lx.CallId,update:{callId:X}})}getAllTraceHandlers(){return{reconnectTrace:this.reconnectTrace,ttiTrace:this.ttiTrace,huddlePerfTraceManager:this.huddlePerfTraceManager,huddleEventsTrace:this.huddleEventsTrace,huddleMeetingEventsTrace:this.huddleMeetingEventsTrace}}cleanup(){var X,ue,Ee,Te,He;if((X=this.reconnectTrace)===null||X===void 0||X.report(),(ue=this.ttiTrace)===null||ue===void 0||ue.report(),(Ee=this.huddlePerfTraceManager)===null||Ee===void 0||Ee.report(!0),(Te=this.huddleEventsTrace)===null||Te===void 0||Te.report(),(He=this.huddleMeetingEventsTrace)===null||He===void 0||He.report(),this.trace){var $e,it;($e=this.tracer)===null||$e===void 0||$e.reportTrace(this.trace),(it=this.tracer)===null||it===void 0||it.clearTrace(this.trace)}Cn.info("Reported and cleared huddle parent trace"),delete this.reconnectTrace,delete this.ttiTrace,delete this.huddlePerfTraceManager,delete this.huddleEventsTrace,delete this.huddleMeetingEventsTrace,this.callId=null}constructor(){Cn.info("Huddle Trace Manager created")}},"HuddleTraceManager");const ms=(0,t.A)(()=>new os)},2709531527:(N,y,e)=>{"use strict";e.d(y,{G:()=>t,p:()=>n});var t;(function(o){o.START="start",o.STOP="stop",o.ONCE="once"})(t||(t={}));var n;(function(o){o.JOIN="session_join",o.VIDEO="video",o.SCREENSHARE="screenshare",o.REACTION="reaction_posted",o.MESSAGE="message_posted",o.MICROPHONE="microphone",o.MINIPLAYER_VIEW="mini_player_view",o.WINDOW_COMPACT_VIEW="window_compact_view",o.WINDOW_FULL_VIEW="window_full_view",o.THREAD_VIEW="thread_flexpane_view",o.TRANSCRIPT="trxn"})(n||(n={}))},1616072515:(N,y,e)=>{"use strict";e.d(y,{_3:()=>s,tT:()=>c});var t=e(4178261413),n=e(8872403767),o=e(1545824888);const s=E(a=>(0,t.A)(a),"formatTag"),c=E(function(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"peer_video";return(0,n.A)(a,(l,m)=>m.indexOf(i)>-1?m:s(m))},"formatTags"),r=E(()=>new Bluebird(a=>{setTimeout(a,0)}),"waitForNextTick")},3146858537:(N,y,e)=>{"use strict";e.d(y,{A:()=>p});var t=e(8958249318),n=e(1545824888),o=e(56548687),s=e(8668318456),c=e(6664301844),r=e(2825968873);function a(){return 2}E(a,"getVoiceFocusCacheVersion");var i;const l="voiceFocusCache";function m(){return{userAgent:"unknown",sdkVersion:"unknown",isSupported:"unknown"}}E(m,"createDefaultVoiceFocusCapability");function _(){return{vfConfig:"unknown",lastUpdateTimeMs:0}}E(_,"createDefaultVoiceFocusCachedConfig");function h(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window==null||(i=window.navigator)===null||i===void 0?void 0:i.userAgent,C=arguments.length>1?arguments[1]:void 0;const T=localStorage.getItem(l),I={version:a(),voiceFocusCapability:m(),voiceFocusCachedConfig:_()};if(!T)return I;let M;try{M=JSON.parse(T)}catch(D){return(0,r.tZ)("VOICE-FOCUS-CACHE").error("Could not parse voice focus cache from localStorage: ",D.message),I}return M.version!==a()?I:(M.voiceFocusCapability&&(M.voiceFocusCapability.userAgent!==A||M.voiceFocusCapability.sdkVersion!==C)&&(M.voiceFocusCapability=I.voiceFocusCapability,M.voiceFocusCachedConfig=I.voiceFocusCachedConfig),{...I,...M})}E(h,"readVoiceFocusCache");function d(A){try{localStorage.setItem(l,JSON.stringify(A))}catch(C){(0,r.tZ)("VOICE-FOCUS-CACHE").error("Could not write voice focus cache to localStorage: ",C.message)}}E(d,"writeVoiceFocusCache");var f=e(5470425448),v=e(5071086688);const u=1657647210615,g=1686248081659;let p=E(class{async init(C){let{configOnly:T}=C;T||this.callLogger.info(`VF cache: ${!!this.cache}`),this.isSupported=await this.isCapable(!!T),this.isSupported&&this.prepare(T)}isAvailable(){return this.isSupported}async getTransformDevice(){if(this.isSupported&&(this.voiceFocusConfigPromise&&await this.voiceFocusConfigPromise,!!this.voiceFocusDeviceTransformerPromise)){try{await this.voiceFocusDeviceTransformerPromise}catch{this.callLogger.error("Could not get VoiceFocusDeviceTransformer");return}if(this.voiceFocusTransformDevicePromise)try{return await this.voiceFocusTransformDevicePromise}catch{this.callLogger.error("Could not get VoiceFocusTransformDevice")}}}shouldDisable(){return!1}async setMute(C){const T=await this.getTransformDevice();T&&await T.mute(C)}async isCapable(C){if(this.isIFramed())return C||this.callLogger.warn("not supported due to IFrame"),!1;let T=!1;switch(this.cache.voiceFocusCapability.isSupported){case"yes":C||this.callLogger.info("cache says supported"),T=!0;break;case"no":C||this.callLogger.info("cache says not supported"),T=!1;break;case"unknown":{C||this.callLogger.info("cache says unknown, determining support..."),this.cache.voiceFocusCapability.userAgent=(0,t.A)(),this.cache.voiceFocusCapability.sdkVersion=c.zF.sdkVersion,T=await(0,c.w2)().isSupported(),T?this.cache.voiceFocusCapability.isSupported="yes":this.cache.voiceFocusCapability.isSupported="no",d(this.cache),C||this.callLogger.info(`determined supported=${this.cache.voiceFocusCapability.isSupported}, writing to cache`);break}default:this.callLogger.warn(`Voice Focus capability pref bad: ${this.cache.voiceFocusCapability.isSupported}`);break}return T}isIFramed(){try{var C;return((C=window.frameElement)===null||C===void 0?void 0:C.nodeName)==="IFRAME"||parent!==top}catch{return!0}}isStale(C){const I=this.cache.voiceFocusCachedConfig.lastUpdateTimeMs,M=this.allowMaxModelsToBeUsed?g:u;return I===0||C-I>6048e5||I<M}prepare(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const T=Date.now(),I=this.cache.voiceFocusCachedConfig.vfConfig,M=this.isStale(T),D={},O={logger:this.chimeLogger};if(I!=="unknown"&&!M){if(C)return;if(!I.supported){this.callLogger.warn("Unsupported config was returned from the cache");return}this.setupDevice(D,O,I);return}this.voiceFocusConfigPromise||(this.callLogger.info("Initializing VoiceFocusDeviceTransformer afresh"),this.voiceFocusConfigPromise=n.S.resolve((0,c.w2)().configure(D,O)),this.voiceFocusConfigPromise.then(S=>{var R;if(!S.supported){this.callLogger.error(`VF Config was provided as unsupported Reason: ${S.reason}`);return}if(!(!(S==null||(R=S.model)===null||R===void 0)&&R.simd)){this.callLogger.error("VF not enabled because device is not expected to be able to perform adequately");return}const P=S;this.callLogger.info(`Got new config, variant: ${P.model.variant}, simd: ${P.model.simd}, executionQuanta: ${P.executionQuanta}`),this.storeVfConfig(T,P),C||this.setupDevice(D,O,P)}).catch(S=>{this.callLogger.info(`Could not get configuration of voice device transformer: ${S.name}: ${S.message}`),C||this.setupDevice(D,O)}))}storeVfConfig(C,T){this.cache.voiceFocusCachedConfig.vfConfig=T,this.cache.voiceFocusCachedConfig.lastUpdateTimeMs=C,d(this.cache)}async updateCacheWithUpdatedConfig(C){this.callLogger.info("Updating VF cache with new modified model");const T={logger:this.chimeLogger},I={variant:C},M=await(0,c.w2)().configure(I,T);M.supported&&this.storeVfConfig(Date.now(),M)}setupDevice(C,T,I){const M=C;let D=I,O,S;I?(O=I.model.variant,S=!0):(this.callLogger.info("No VFConfig provided defaulting base model to c10"),O="c10",S=!1);let R=!0;this.allowMaxModelsToBeUsed&&(R=!1);const U=this.chooseModelVariant(O,S,R);if(U.modelWasAdjusted&&(M.variant=U.chosenModel,D=void 0,this.callLogger.info(`VF Model was adjusted from ${I==null?void 0:I.model.variant} to ${U.chosenModel} Reason: ${U.adjustmentReason}`),this.updateCacheWithUpdatedConfig(U.chosenModel)),I){(0,o.e)().track(s.EventId.CALLS_VOICE_FOCUS_CONFIG,{model_variant_determined:I.model.variant,model_variant_override:M.variant,simd:I.model.simd,execution_quanta:I.executionQuanta,hw_concurrency:navigator==null?void 0:navigator.hardwareConcurrency});const P={...I};P.model.variant=U.chosenModel,v.A.publish({type:f.lx.VoiceFocusConfig,update:P}),this.callLogger.info(`model_variant_determined: ${I.model.variant}, model_variant_override: ${U.chosenModel}, simd: ${I.model.simd}, execution_quanta: ${I.executionQuanta}, hw_concurrency: ${navigator==null?void 0:navigator.hardwareConcurrency}`)}this.voiceFocusDeviceTransformerPromise=n.S.resolve((0,c.w2)().create(M,T,D)),this.voiceFocusDeviceTransformerPromise.then(async P=>{this.voiceFocusTransformDevicePromise=n.S.resolve(P.createTransformDevice(null))}).catch(P=>{this.callLogger.info(`Could not create voice device transformer exp: ${P.name}: ${P.message}`)})}chooseModelVariant(C,T,I){const M={c10:1,c20:2,c50:3,c100:4},D=navigator==null?void 0:navigator.hardwareConcurrency;if(!D)return this.callLogger.info(`Hardware concurrency not available, using self-determined model variant: ${C}`),{modelWasAdjusted:!1,chosenModel:C,adjustmentReason:""};let O;return D<=4?O="c10":D<=6?O="c20":D<=8?O="c50":O="c100",M[O]<M[C]&&!I?{modelWasAdjusted:this.wasModelAdjusted(O,C,T),chosenModel:O,adjustmentReason:"Using CPU restricted model variant which is weaker"}:M[O]>M[C]&&(this.callLogger.info(`using self-determined model variant which is weaker: ${C}`),O=C,!I)?{modelWasAdjusted:!1,chosenModel:C,adjustmentReason:""}:O==="c100"?{modelWasAdjusted:this.wasModelAdjusted("c20",C,T),chosenModel:"c20",adjustmentReason:"Model selection was determined to be c100 capping the model at C20"}:{modelWasAdjusted:this.wasModelAdjusted("c10",C,T),chosenModel:"c10",adjustmentReason:"Model selection was determined to be less than c100 capping the model at C10"}}wasModelAdjusted(C,T,I){return C===T&&!I||C!==T}async tearDown(){const C=await this.getTransformDevice();C&&(this.callLogger.info("Attempting to destroyVoiceFocus"),c.wV.destroyVoiceFocus(C))}constructor(C,T){this.chimeLogger=C,this.allowMaxModelsToBeUsed=T,this.callLogger=(0,r.Jt)("VOICE-FOCUS-MANAGER"),this.isSupported=!1,this.cache=h((0,t.A)(),c.zF.sdkVersion)}},"VoiceFocusManager")},8558782493:(N,y,e)=>{"use strict";e.d(y,{k:()=>c});var t=e(56548687),n=e(5795074931),o=e(3395259576),s=e(7439555287);function c(r,a){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var m;const _=(m=(0,s.KA)())===null||m===void 0?void 0:m.getState();if(!_)return;const h=(0,t.e)({state:_}).setUser((0,n.WR)(_));if(i){const d={...a,room_id:(0,o.G0)(_)};h.track(r,d,{sendImmediately:l})}else h.track(r,a,{sendImmediately:l})}E(c,"trackCallsClog")},164795489:(N,y,e)=>{"use strict";e.d(y,{w:()=>g});var t=e(6680093304),n=e(1545824888),o=e(6304789565),s=e(8276911661),c=e(1670069836),r=e(6439846314),a=e(7344959578),i=e(5046160032),l=e(4914127094),m=e(7299481592);const _="screenhero.rooms.proxyLogs",h=(0,o.Ay)("Send call logs to the server",(p,A,C)=>{let{logs:T,useSendBeacon:I=!1,callId:M}=C;const D=A();let O;if(M?O=M:D.activeCall&&D.activeCall.id&&(O=D.activeCall.id),!O)return(0,m.M)(!1,"There should be an active call in progress in order to send logs."),n.S.reject(new Error("SendLogs: no call"));const S=(0,s.cA)(D),R=(0,c.H7)(D);if(!R)return n.S.reject(new Error("SendLogs: no current team"));const U={data:{room_id:O,user_id:S.id,team_id:R.id,ua:window.navigator.userAgent,event_type:"calls_js_logs",encoding:"none",logs:T}},P={data:JSON.stringify(U.data)};return I?(0,i.A)({apiUrl:"/api/",method:_,token:(0,l.F)(D),versionTs:(0,a.HF)(),versionUid:(0,a.X3)(),args:P})?n.S.resolve():n.S.reject(new Error("SendLogs: beacon failed")):p((0,r.apiCall)({method:_,reason:"calls-logging",args:P}))});h.meta={name:"createThunk",key:"createThunksendLogs",description:"Send call logs to the server"};var d=e(7439555287),f=e(337319621),v=e(4518410378);const u=60*1e3;class g{start(A){(0,m.M)(!this.intervalHandle,"Log reporter already started."),this.callId=A,this.intervalHandle=v.J.setInterval(()=>this.report(!1),u),v.J.addEventListener("beforeunload",this.unloadHandler)}joinLogs(A){return A.map(C=>C.join(" ")).join(`
`)}constructor(A=t.tt){var C=this;this.buffer=A,this.unloadHandler=()=>{v.J.Cypress||this.report(!0)},this.stop=async function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;C.intervalHandle&&v.J.clearInterval(C.intervalHandle),C.intervalHandle=void 0,v.J.removeEventListener("beforeunload",C.unloadHandler),await C.emptyBuffer(I),C.callId=void 0},this.emptyBuffer=async function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;C.buffer.hasItems()&&(await C.report(T),await C.emptyBuffer(T))},this.report=async function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{dispatch:I}=(0,d.KA)(),M=C.buffer.flush();if(!M.length)return;const D=C.joinLogs(M);await I(h({logs:D,useSendBeacon:T,callId:C.callId})).catch(()=>{(0,f.Wo)().error("Failed to send Huddle logs")})}}}E(g,"LogReporter")},3300324857:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(6267571562);const n=new t.G},6839101721:(N,y,e)=>{"use strict";e.d(y,{D8:()=>_,WY:()=>m,cn:()=>h,d2:()=>i,gJ:()=>l});var t=e(2140362605);const n=(0,t.Ay)("connect to free willy media server");n.meta={name:"createAction",key:"createActionconnectToFreeWillyMediaServer",description:"connect to free willy media server"};const o=(0,t.Ay)("Set flag to indicate if experimental Chime SDK should be used");o.meta={name:"createAction",key:"createActionsetUseChimeSdkExp",description:"Set flag to indicate if experimental Chime SDK should be used"};const s=(0,t.Ay)("Set flag to indicate if simulcast should be used in a Chime call");s.meta={name:"createAction",key:"createActionsetUseSimulcast",description:"Set flag to indicate if simulcast should be used in a Chime call"};const c=(0,t.Ay)("Set flag to indicate if priority based downlink policy should be used in a Chime call");c.meta={name:"createAction",key:"createActionsetUsePriorityDownlinkPolicy",description:"Set flag to indicate if priority based downlink policy should be used in a Chime call"};const r=(0,t.Ay)("Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call");r.meta={name:"createAction",key:"createActionsetUseGetMediaAccessCheckForWindows",description:"Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call"};const a=(0,t.Ay)("Set flag to determine if a call is a readiness test call");a.meta={name:"createAction",key:"createActionsetReadinessCheck",description:"Set flag to determine if a call is a readiness test call"};const i=(0,t.Ay)("Binds video tile to a video element");i.meta={name:"createAction",key:"createActionbindVideo",description:"Binds video tile to a video element"};const l=(0,t.Ay)("Unbinds video tile from a video element");l.meta={name:"createAction",key:"createActionunbindVideo",description:"Unbinds video tile from a video element"};const m=(0,t.Ay)("Pauses video tile");m.meta={name:"createAction",key:"createActionpauseVideo",description:"Pauses video tile"};const _=(0,t.Ay)("Unpauses video tile");_.meta={name:"createAction",key:"createActionunpauseVideo",description:"Unpauses video tile"};const h=(0,t.Ay)("Returns if there in a stream associated with the tileId");h.meta={name:"createAction",key:"createActionvideoTileHasStream",description:"Returns if there in a stream associated with the tileId"}},3094144240:(N,y,e)=>{"use strict";e.d(y,{P:()=>t});const t={height:576,width:1024,useContentSize:!0,minContentWidth:704,minContentHeight:396,center:!0,frame:!0,titleBarStyle:"default"};function n(o){return!!has(o,"activeCall")}E(n,"isCallWindowContextState")},5156662944:(N,y,e)=>{"use strict";e.d(y,{Rv:()=>F,Xk:()=>L,hL:()=>P,j7:()=>K,lp:()=>x,tO:()=>le,tw:()=>b,uI:()=>q,vf:()=>Q});var t=e(5597672932),n=e(6007206761),o=e(4630136761),s=e(3929724715),c=e(8920264989),r=e(8798294025),a=e(1407713935),i=e(2350349607),l=e(6839188756),m=e(4827886670),_=e(8276911661),h=e(6728717861),d=e(8921478798),f=e(8170643398),v=e(3534324375),u=e(1670069836),g=e(6471059816),p=e(8374895239),A=e(9101533895),C=e(5670315214),T=e(8767621462),I=e(462591818),M=e(340763958),D=e(6470070112);const O="Slack",S=new g.Ay("calls");function R(ce){return!!(0,t.xp)(ce,"allow_calls")}E(R,"isCallsAllowedByAdmin");function U(ce,me){return(0,D.pt)(ce)&&(0,D.Bn)(ce,me)}E(U,"isHuddlesAllowed");function P(ce,me,_e){const Ae=(0,A.Pu)(ce,me.id);return!(!R(ce)&&!U(ce,Ae)||(0,f.fy)(me)&&!_e||!(0,f._W)(me)||!(0,T.S)(ce,me.id)||(0,s.Mi)(Ae))}E(P,"canCallMember");function L(ce,me){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const Ae=(0,_.nv)(ce,(0,r.e)(me)),ye=_e&&z(ce);return!R(ce)&&!U(ce,me)&&!ye||(0,o.Zz)(me)||(0,a.LI)(me)&&(!Ae||!P(ce,Ae))||!(0,s.Ez)(me)?!1:(0,m.c)(ce,me)}E(L,"isCallButtonVisibleForChannel");function F(ce,me){return(0,h.Pb)(ce)?((0,s.bU)(me)||(0,n.F)(me))&&!te(me):!0}E(F,"isCallButtonDisabledForChannel");function x(ce,me){const _e=(0,A.OL)(ce,me);return _e&&!F(ce,_e)&&L(ce,_e)}E(x,"canStartCallInChannel");function b(ce,me,_e){const Ae=(0,i.V)(me),ye=(0,C.q8)(ce,Ae),oe=(0,_.nv)(ce,_e,{preferNonExistentToNull:!1,fetchIfMissing:!0}),ee=(0,f.v8)(oe),V=(0,C.OJ)({callsApp:ye,memberPhoneNumber:ee,hideVideoApps:!1}),w=V.length,Y=U(ce,me);let G=w;return Y&&(G+=1),G>1?S.t("{numCallApps} calling options",{numCallApps:G}):G===1?w===0?"":S.t("using {appName}",{appName:V[0].name}):""}E(b,"getTipSubtitleForStartCall");function k(ce,me,_e){const Ae=(0,d.I)(ce,(0,r.e)(me));return _e?S.rt("Huddle with {name}",{name:Ae,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):S.rt("Call {name}",{name:Ae})}E(k,"getTipForIm");function B(ce,me,_e){const Ae=(0,s.d3)(ce,me).map(oe=>(0,v.sE)(ce,oe)),ye=(0,p.A)(Ae,{noEscape:!0}).join("");return _e?S.rt("Huddle with {listOfNamesWithConjunction}",{listOfNamesWithConjunction:ye,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):S.rt("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:ye})}E(B,"getTipForMpim");function W(ce,me,_e){return(0,a.LI)(me)?k(ce,me,_e):(0,a.yz)(me)?B(ce,me,_e):_e?S.t("Huddle in {channelName}",{channelName:(0,c.SB)(ce,me),fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d",fallbackHashNs:"huddles"}):S.t("Start a call")}E(W,"getTipForChannel");function K(ce,me){const _e=(0,u.H7)(ce),Ae=(0,l.qR)(_e),ye=z(ce),oe=Ae||ye,ee=U(ce,me)&&!Q(ce);return(0,h.Pb)(ce)?oe&&(0,n.F)(me)?S.t("Unarchive this channel to start a huddle"):oe&&(0,s.bU)(me)?S.t("Join this channel to start a huddle"):(ye||te(me),W(ce,me,ee)):S.t("Go online to start a huddle")}E(K,"getTipForStartCall");function H(ce,me){const _e=getCurrentTeam(ce),Ae=isPaidTeamRule(_e),ye=isMpimRule(me),oe=z(ce),ee=Ae||oe;return!isClientOnline(ce)||ee&&isArchived(me)||ee&&isPreview(me)||oe?!1:!!(!Ae&&ye||!Ae&&isNonImOrMpimChannel(me))}E(H,"isFreeTeamAndInChannelOrMpim");function z(ce){const me=(0,C.wZ)(ce);for(let _e=0;_e<me.length;_e++)if(me[_e].id!==I.rq)return!0;return!1}E(z,"isThirdPartyCallEnabled");function Q(ce){return(0,C.wZ)(ce).length>0}E(Q,"isAnyCallAppEnabled");function q(ce){const me=S.t("Start a call?",{fallbackHash:"04d5cae8ffd5cbdfd97d6ea2c1afe3e969b3eed7"}),_e=S.t("You\u2019ll be starting a call that all {count} members of this channel can join.",{count:ce,fallbackHash:"225ecb6662087bf4b09285688dc46d8ecb5ed2aa"}),Ae=S.t("Start Call",{fallbackHash:"291a0a58dfa6c640a90c1d868d2af190775ea219"});return{title:me,description:_e,confirm:Ae,cancel:S.t("Cancel")}}E(q,"getCallConfirmationStrings");function $(){return!1}E($,"isNativeSlackCallEnabled");function le(){return!0}E(le,"isSlackCallSlashCommandDisabled");function te(ce){return(0,M.ju)(ce)&&!(0,a.LI)(ce)}E(te,"shouldEnableForSponsoredConnections")},7561130599:(N,y,e)=>{"use strict";e.d(y,{A:()=>d});var t=e(2825968873),n=e(9323322135),o=e(7299481592),s=e(4094753332),c=e(8558782493),r=e(8668318456),a=e(336376314);const i=window.RTCPeerConnection,l=window.MediaStream,m=window.RTCIceCandidate,_=window.navigator,h={height:116,width:168};let d=E(class{async getScreenThumbnails(u){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const p=await(0,n.zxd)();g||f(this.log,p);const A=["screen"];A.push("window"),h.width=(u==null?void 0:u.width)||200,h.height=(u==null?void 0:u.height)||150;let C;try{C=await(0,n.Yx3)(h,A)}catch(I){this.log.error(`Could not get screen thumbnails: ${I.message}`)}return C?C.map((I,M)=>{var D;const O=p.find(R=>parseInt(I.display_id,10)===R.id);!O&&!(0,s.tR)()&&!(0,s.cX)()&&!(!((D=I.id)===null||D===void 0)&&D.startsWith("window:"))&&this.log.error(`Could not find matching display for screen ${M} with id ${I.display_id}`);const S=O||((0,s.tR)()||(0,s.cX)()?p[M]:void 0);return{mediaSourceId:I.id,thumbnail:I.thumbnail,displayId:S&&S.id,bounds:S&&S.bounds,name:I.name}}):[]}getCurrentlyActiveScreenTrack(){return this.screenTrack}async startCapturingScreen(u){if((0,o.M)(!this.screenTrack,"Screen track should not already be active"),!u){if(!_.mediaDevices.getDisplayMedia)throw this.log.error("Error: getDisplayMedia unavailable while trying to screen share in browser"),new Error("browser screenshare unavailable");try{const g={audio:!1,video:{frameRate:{max:15}}},p=await _.mediaDevices.getDisplayMedia(g);return this.screenTrack=p.getVideoTracks()[0],this.log.info(`Start screen sharing with track id: ${this.screenTrack.id} in browser`),this.screenTrack}catch(g){if(g.name!=="NotAllowedError")throw this.log.error(`Error: ${g.name} while trying to screen share in browser`),(0,c.k)(r.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:g.name}),g;return null}}try{const g={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:u,maxFrameRate:15}}};if(!(0,s.uF)()){const A=await this.getScreenDetailsByMediaSourceId(u);A&&A.bounds&&(g.video.mandatory.maxWidth=A.bounds.width,g.video.mandatory.maxHeight=A.bounds.height)}const p=await _.mediaDevices.getUserMedia(g);return this.screenTrack=p.getTracks()[0],this.log.info("Start screen sharing with track id:",this.screenTrack.id,"and mediaSourceId:",u),this.screenTrack}catch(g){throw this.log.error(`Error: ${g.name} for screen ${u}`),(0,c.k)(r.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:g.name}),g}}stopCapturingScreen(){if(!this.screenTrack){(0,o.M)("No screenTrack to stop.");return}this.screenTrack.stop();const u=this.screenTrack.id;return delete this.screenTrack,this.log.info("Stop screen sharing track id:",u),u}clearScreenTrack(){delete this.screenTrack}async getScreenDetailsByMediaSourceId(u){let g;const p=await this.getScreenThumbnails();return p&&(g=p.find(A=>A.mediaSourceId===u,p)),g}constructor(){this.log=(0,t.tZ)("SCREENS")}},"ScreenManager");function f(v,u){if(!u.length){v.error("No screens available");return}const g=new a.M(["id","width","height","x","y","scaleFactor","rotation"]);u.forEach(p=>{g.add([p.id,p.bounds.width,p.bounds.height,p.bounds.x,p.bounds.y,p.scaleFactor,p.rotation].map(String))}),v.info(`Available screens:
${g.report()}`)}E(f,"logDisplays")},4708000837:(N,y,e)=>{"use strict";e.d(y,{Y:()=>t});function t(n){const o=(n||"").split("-");return o&&(o.length===3||o.length===4)?o[1]:null}E(t,"getCallIdFromExternalId")},8405076696:(N,y,e)=>{"use strict";e.d(y,{n:()=>t});function t(n){let{width:o,height:s,top:c,left:r}=n;return{position:"absolute",width:`${o}px`,height:`${s}px`,top:`${c}px`,left:`${r}px`}}E(t,"cssForRect")},6117529990:(N,y,e)=>{"use strict";e.d(y,{BD:()=>o,OV:()=>n,XY:()=>r,kx:()=>c,wn:()=>s,zq:()=>a});var t=e(4761125736);function n(i){return(0,t._Z)(i,"calls_chime_sdk_exp")==="enabled"}E(n,"isCallsChimeSdkExpEnabled");const o=E(i=>(0,t._Z)(i,"calls_org_app_settings")==="treatment","isCallsOrgAppsSettingsExperimentEnabled"),s=E(i=>(0,t._Z)(i,"calls_tracing_disabled")==="treatment","isCallsTracingDisabled"),c=E(i=>(0,t._Z)(i,"call_button_suppress_window")==="treatment","isCallsWindowSuppressed"),r=E(i=>(0,t._Z)(i,"calls_location_lock")==="treatment","isCallsLocationLockEnabled"),a=E(i=>(0,t._Z)(i,"calls_disable_screenshare_border")==="treatment","isCallsScreenShareBorderDisabled")},2004048777:(N,y,e)=>{"use strict";e.d(y,{$:()=>c,Y:()=>s});var t=e(2615100822),n=e(2825968873),o=e(337319621);function s(r){let{direction:a,type:i,payload:l}=r;const m=(0,t.A)()?"slack":"call",_="INTER-WINDOW-MESSAGE";((0,t.A)()?(0,n.tZ)(_):(0,o.Wo)({label:_})).info(`${a==="send"?"Sending":"Received"} ${i} ${a==="send"?"to":"from"} the ${m} window${l?`, with payload: ${JSON.stringify(l)}`:""}`)}E(s,"logInterWindowMessage");function c(r){function a(i,l,m){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;r(l,m,_),i.sendData({type:l,payload:m})}return E(a,"sendMessage"),a}E(c,"createInterWindowMessageSender")},1371073900:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(4094753332);function n(){return!(0,t.j9)()&&(0,t.y3)()}E(n,"isDrawSupported")},6267571562:(N,y,e)=>{"use strict";e.d(y,{G:()=>n});var t=e(8403493408);class n{get subscriberCount(){return this.subscribers.length}subscribe(s){this.subscribers.push(s)}unsubscribe(s){(0,t.A)(this.subscribers,s)}publish(s){this.subscribers.forEach(c=>{c(s)})}constructor(){this.subscribers=[]}}E(n,"PubSub")},6155974509:(N,y,e)=>{"use strict";e.d(y,{X:()=>f,a:()=>v});var t=e(4094753332),n=e(4387298515),o=e(2825968873),s=e(2615100822),c=e(337319621),r=e(6117529990);const a=2e3,i=6,l=0/265,m=255/265,_=53/265,h=1,d="SCREEN-SHARE",f=E((u,g)=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&!(0,r.zq)(g)&&((0,n.$m)(u,a),(0,n.VR)(u),(0,n.D0)(i),(0,n.Mh)(l,m,_,h),(0,n.Ac)(),((0,s.A)()?(0,o.tZ)(d):(0,c.Wo)({label:d})).info("Screenshare border added"))},"showBorderForWindowOrScreenId"),v=E(()=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&((0,n.th)(),((0,s.A)()?(0,o.tZ)(d):(0,c.Wo)({label:d})).info("Screenshare border removed"))},"hideScreenShareWindowBorder")},7304871158:(N,y,e)=>{"use strict";e.d(y,{R:()=>s});var t=e(7299481592),n=e(2615100822),o=e(2004048777);const s=(0,o.$)(function(c,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;(0,t.M)(!(0,n.A)(),"Expected to send message from the slack window"),(0,o.Y)({direction:"send",type:c,payload:a?r:"REDACTED"})})},336376314:(N,y,e)=>{"use strict";e.d(y,{M:()=>n});var t=e(9118672869);class n{add(s){this.rows.push(s),this.adjustPadding(s)}report(){const s=this.padding.map(r=>"-".repeat(r));return(this.columnNames?[s,this.columnNames,s]:[]).concat(this.rows).reduce((r,a)=>r+a.reduce((i,l,m)=>i+(0,t.A)(l,this.padding[m])+(m!==a.length-1?` ${this.separator} `:`
`),""),"")}adjustPadding(s){this.padding=s.map((c,r)=>Math.max(c.length,this.padding[r]||0))}constructor(s,c="|"){this.columnNames=s,this.separator=c,this.padding=[],this.rows=[],this.columnNames&&this.adjustPadding(this.columnNames)}}E(n,"StringTable")},5954792826:(N,y,e)=>{"use strict";e.d(y,{l:()=>t});function t(n){const o=(n||"").split("-");return o&&(o.length===3||o.length===4)?o[2]:null}E(t,"getUserIdFromExternalId")},5075331445:(N,y,e)=>{"use strict";e.d(y,{i:()=>o});var t=e(1473609332),n=e(9195837907);function o(){var s,c;const r=(0,t.Bh)(),a=(r==null||(s=r.video)===null||s===void 0?void 0:s.effect)===n.t.Blur;return{backgroundEffectBgKey:r==null||(c=r.video)===null||c===void 0?void 0:c.effectBgKey,blurEffectIsEnabled:a}}E(o,"getVideoDeviceBackgroundPrefs")},771196083:(N,y,e)=>{"use strict";e.d(y,{uM:()=>te,Gf:()=>le,lQ:()=>ce});var t=e(9733150292),n=e(8289899277),o=e(4748556159),s=e(5881327370),c=e(3202757386),r=e(2664504268),a=e(6188550760),i=e(337319621),l=e(6533394955),m=e(2567914105),_=e(7384121809),h=e(4529239752),d=e(8628205589),f=e(3193155968),v=e(9108490430),u=e(4096483543),g=e(9823696244),p=e(109860581),A=e(3034856104),C=e(8172368937),T=e(1548487227),I=e(6304789565),M=e(8720458890);const D=(0,I.Ay)("Determine if fullscreen mode is enabled",(me,_e)=>{const Ae=_e();return(0,M.V)(Ae)});D.meta={name:"createThunk",key:"createThunkgetIsFullscreenEnabled",description:"Determine if fullscreen mode is enabled"};var O=e(9553287e3),S=e(3875705815),R=e(8854307618),U=e(7606925238),P=e(5223893135),L=e(5925742547),F=e(9012396182);const x=E((me,_e)=>!((0,S.V)(me)||_e[f.jf]!==f.k6.BBM),"shouldPreventBBMHistory"),b=E((me,_e,Ae)=>{if((0,P.V)(me))return!1;const ye=(0,_.Ry)();if((F.getFocusedWorkspace===null||F.getFocusedWorkspace===void 0?void 0:(0,F.getFocusedWorkspace)(ye))!==Ae)return!1;const oe=(0,h.jo)(ye),ee=_e[f.jf],V=oe[f.jf];if(ee!==V)return!1;const w=_e[ee],Y=oe[V];return!!(0,L.A)(w,Y)},"shouldPreventDuplicateHistory"),k=(0,I.Ay)("Maybe prevent default handling of history on pop state",(me,_e,Ae)=>{let{current:ye,index:oe,teamId:ee}=Ae;const V=_e();if(!x(V,ye)&&!b(V,ye,ee))return!1;const w=(0,_.Ry)(),Y=(0,h.XG)(w),G=oe>Y;if(G){if((0,h.yS)(w))return!0}else if((0,h.m6)(w))return!0;return me((G?R.r:U.h)()),!0});k.meta={name:"createThunk",key:"createThunkmaybePreventHistoryOnPopState",description:"Maybe prevent default handling of history on pop state"};var B=e(5250801180),W=e(2554594353);async function K(me){const _e=me.state;if(!(_e!=null&&_e.teamId)||!(_e!=null&&_e.id))return;const Ae=(0,_.en)();if(!Ae)return;const ye=Ae.getState,oe=Ae.dispatch;if(!ye||!oe)return;const ee=(0,h.jR)(ye()),V=ee.findIndex(ve=>ve.id===_e.id);if(V<0)return;const w=(0,h.XG)(ye()),Y=ee[w],G=_e.state[f.jf];if((0,l.Qw)(_e.teamId,k({current:_e.state,index:V,teamId:_e.teamId})))return;var se;const ae=(se=_e.state[G])!==null&&se!==void 0?se:(0,f.DP)(G),re=(0,A.H)(Y)?Y[f.jf]:void 0,pe=(0,A.H)(Y)&&re?Y[re]:void 0,{viewSet:de}=await(0,l.Qw)(_e.teamId,(0,T.F)({context:C.b.HistoryStack,prevViewSet:pe,prevTab:re,nextViewSet:ae,nextTab:G,windowId:f.N2}));(0,l.Qw)(_e.teamId,(0,B.I)()),_e.state[G]=de??ae,oe((0,d.cM)({windowId:f.N2,index:V,previousIndex:w})),(0,l.Qw)(_e.teamId,(0,v.cQ)(_e.state)),(F.getFocusedWorkspace===null||F.getFocusedWorkspace===void 0?void 0:(0,F.getFocusedWorkspace)(ye()))!==_e.teamId&&oe(W.b===null||W.b===void 0?void 0:(0,W.b)({teamId:_e.teamId,fromNavigation:!0}));const he=(0,l.Qw)(_e.teamId,D())?(0,l.Qw)(_e.teamId,(0,O.n)({id:_e.id})):void 0;(0,l.Qw)(_e.teamId,(0,g.C)({prevViewSet:pe,prevTab:re,nextViewSet:ae,nextTab:G,windowId:f.N2,navigateParams:{destinationContainer:he},triggerType:p.w.HISTORY_NAVIGATION}))}E(K,"onPopState");function H(me){if(!isSonic())return;const _e=me.state;if(!(_e!=null&&_e.id))return;const Ae=getClientStoreInstance();if(!Ae)return;const ye=Ae.getState,oe=Ae.dispatch;if(!ye||!oe)return;const V=getHistoryForMainWindow(ye()).findIndex(Y=>Y.id===_e.id);if(V<0)return;const w=getHistoryIndexForMainWindow(ye());oe(updateIndexForMainWindow({windowId:MainWindowId,index:V,previousIndex:w}))}E(H,"onIA3PopState");async function z(me){var _e;if(!(0,c.A)())return;if(!(me==null||(_e=me.state)===null||_e===void 0)&&_e.isIA4){o.p.prevNavigatedTeamOrEnterpriseId=me.state.teamId,K(me);return}const Ae=(0,s.oI)(),ye=(0,n.f)(),oe=(0,a.A_)(),ee=(0,l.oK)(o.p.prevNavigatedTeamOrEnterpriseId),V=ee?(0,m.oY)(ee.getState()):!1,w=(0,r.A)().slice(0,8);if((0,i.Wo)().info("ROUTES",`[${w}]`,`[${ye.routeName}]`,"Attempting to popstate navigate to new route",ye.params),await(0,a.$C)({prevTeamOrEnterpriseId:o.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:Ae,prevRouteInfo:o.p.popstatePrevRouteInfo,routeName:ye.routeName,params:ye.params,reason:a.GB,uuid:w})===!1||V===!0){(0,i.Wo)().info("ROUTES",`[${w}]`,`[${ye.routeName}]`,"willNavigateListener caused early exit"),window.history.forward();return}if((0,a.OX)({prevTeamOrEnterpriseId:o.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:Ae,prevRouteInfo:o.p.popstatePrevRouteInfo,routeName:ye.routeName,params:ye.params,reason:a.GB,uuid:w}),(0,i.Wo)().info("ROUTES",`[${w}]`,`[${ye.routeName}]`,"Navigated to new route"),o.p.prevNavigatedTeamOrEnterpriseId=Ae,oe&&typeof oe.onEnter=="function"){const G=(0,l.oK)(Ae);oe.onEnter.call(null,G.getState,null,window.location.pathname)}}E(z,"navigateAfterPopState");const Q=E(()=>{window.addEventListener("popstate",z)},"addPopStateListener");var q=e(6329712420),$=e(210422728);Q();function le(){let{shouldSetFocus:me}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const _e=(0,n.f)(window.location.pathname,{throwOnNoRoute:!1});return _e&&me&&_e.routeName!==q.o?_e:null}E(le,"determineCurrentView");function te(){(0,a.Dd)(me=>{let{nextTeamId:_e,routeName:Ae,params:ye}=me;(0,l.oK)(_e)&&(0,l.Qw)(_e,(0,$.w)({routeName:Ae,params:ye}))})}E(te,"configureUpdateCurrentRoute");function ce(me){const _e=(0,t._z)(me,"lastRoute");return(0,a.EB)(_e)?_e??null:null}E(ce,"getLastRouteFromLocalConfig")},210422728:(N,y,e)=>{"use strict";e.d(y,{T:()=>o,w:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Navigate to a route");n.meta={name:"createAction",key:"createActionupdateCurrentRoute",description:"Navigate to a route"};const o=(0,t.Ay)("Set a value that represents whether the user navigated during a warm boot");o.meta={name:"createAction",key:"createActionsetUserNavigatedDuringWarmBoot",description:"Set a value that represents whether the user navigated during a warm boot"}},5820791302:(N,y,e)=>{"use strict";e.d(y,{RG:()=>S,f1:()=>P,fp:()=>U});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(6471059816),r=e(8622068040),a;(function(L){L.BaseHeart="mask__base-heart",L.SmallHeart="mask__small-heart",L.BaseSingleChannelGuestDnd="mask__base-single-channel-guest-dnd",L.BaseSingleChannelGuest="mask__base-single-channel-guest",L.SmallSingleChannelGuestDnd="mask__small-single-channel-guest-dnd",L.SmallSingleChannelGuest="mask__small-single-channel-guest",L.BaseGuestDnd="mask__base-guest-dnd",L.BaseGuest="mask__base-guest",L.SmallGuestDnd="mask__small-guest-dnd",L.SmallGuest="mask__small-guest",L.BaseMemberDnd="mask__base-member-dnd",L.BaseMember="mask__base-member",L.SmallMemberDnd="mask__small-member-dnd",L.SmallMember="mask__small-member",L.NoAccess="mask__base-no-access"})(a||(a={}));function i(L){let{size:F="base",userType:x="member",isDnd:b=!1,hasNoAccess:k=!1}=L;return k?t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:a.NoAccess,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.542 V0.825 C0.542,0.745,0.587,0.676,0.653,0.642 C0.662,0.481,0.795,0.353,0.958,0.353 C0.972,0.353,0.986,0.354,1,0.356 V0"}))):t.createElement("svg",{className:"sr-only"},x==="slackbot"&&(F==="base"?t.createElement("clipPath",{id:a.BaseHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0,0 H1 V0.673 C0.986,0.669,0.971,0.667,0.954,0.667 C0.929,0.667,0.907,0.673,0.889,0.682 C0.87,0.673,0.849,0.667,0.824,0.667 C0.764,0.667,0.719,0.697,0.694,0.736 C0.672,0.77,0.667,0.807,0.667,0.832 C0.667,0.854,0.669,0.894,0.696,0.942 C0.707,0.962,0.721,0.981,0.739,1 H0 V0"})):t.createElement("clipPath",{id:a.SmallHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.801 C0.75,0.958,0.714,0.915,0.69,0.872 C0.653,0.807,0.65,0.753,0.65,0.723 C0.65,0.689,0.658,0.64,0.687,0.594 C0.721,0.541,0.781,0.5,0.862,0.5 C0.896,0.5,0.925,0.508,0.95,0.521 C0.965,0.513,0.982,0.507,1,0.504 V0"}))),x==="ura"&&(F==="base"?b?t.createElement("clipPath",{id:a.BaseSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.825,0.763 C0.821,0.752,0.819,0.741,0.819,0.729 C0.819,0.672,0.866,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:a.BaseSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.87,0.718 C0.907,0.68,0.958,0.673,1,0.688 V0"})):b?t.createElement("clipPath",{id:a.SmallSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.864,0.63 C0.859,0.615,0.856,0.6,0.856,0.584 C0.856,0.507,0.919,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:a.SmallSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.924,0.569 C0.947,0.546,0.973,0.532,1,0.525 V0"}))),(x==="ra"||x==="external")&&(F==="base"?b?t.createElement("clipPath",{id:a.BaseGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.753,0.695,0.825,0.694 C0.84,0.654,0.878,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:a.BaseGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.754,0.694,0.826,0.694 H0.951 C0.969,0.694,0.985,0.698,1,0.704 V0"})):b?t.createElement("clipPath",{id:a.SmallGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"})):t.createElement("clipPath",{id:a.SmallGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"}))),x==="member"&&(F==="base"?b?t.createElement("clipPath",{id:a.BaseMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.795,0.742,0.716,0.827,0.69 C0.843,0.652,0.88,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:a.BaseMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.774,0.774,0.681,0.889,0.681 C0.93,0.681,0.968,0.692,1,0.713 V0"})):b?t.createElement("clipPath",{id:a.SmallMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.674,0.752,0.567,0.867,0.531 C0.888,0.48,0.938,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:a.SmallMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.645,0.795,0.519,0.95,0.519 C0.967,0.519,0.984,0.52,1,0.523 V0"}))))}E(i,"AvatarMasks");var l=e(9843753818),m=e(9656781090),_=e(5622140641),h=e(1030162945),d=e(8822892075),f=e(9332393661),v=e(2036354333),u=e(1610251172),g=e(9742374352),p=e(8181621268),A=e(82287009),C=e(1060768686),T=e.n(C),I=e(2979422297),M=e.n(I);function D(){return D=Object.assign||function(L){for(var F=1;F<arguments.length;F++){var x=arguments[F];for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&(L[b]=x[b])}return L},D.apply(this,arguments)}E(D,"_extends");const O=new c.Ay("avatar"),S={xlarge:72,large:56,medium:36,small:24,verySmall:20,tiny:16},R=t.memo(L=>{let{botEmoji:F,canRenderEmoji:x}=L;return F?x?t.createElement(h.Ay,{className:"c-avatar__emoji",text:F,emojiSize:h.lw.LARGE,stopAnimations:!0,forceDisplay:!0}):t.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:T(),srcSet:`${M()} 2x`,alt:""}):null});function U(L){let{isExternal:F,teamId:x,team:b,showTooltip:k,badgeIconType:B,badgeIconClassName:W,allowTeamInitials:K=!0}=L;if(B){const H=W?{[W]:!!W}:{};return()=>t.createElement(u.A,{className:o()("c-avatar__icon c-avatar__nonteam_icon",{...H}),type:B})}return F&&x?()=>t.createElement(_.A,{className:"c-avatar__icon c-avatar__team_icon",id:x,team:b,size:16,showTooltip:k,allowTeamInitials:K,ariaHidden:!0}):()=>null}E(U,"getCustomBadgeIconRenderer"),U.displayName="getCustomBadgeIconRenderer";const P=E(L=>{let{size:F,userId:x,isAdHocMember:b,botId:k,botProfile:B=void 0,imageUrl:W,imageUrl2x:K,additionalOverlay:H,onClick:z=void 0,className:Q,teamId:q,isExternal:$=!1,isRestricted:le=!1,isUltraRestricted:te=!1,isInToken:ce=!1,isDeleted:me=!1,tokenSize:_e=void 0,memberOrBotName:Ae=void 0,showTooltip:ye=!1,showCard:oe=!1,showBadge:ee=!0,showPresence:V=!1,badgeIconType:w=void 0,badgeIconClassName:Y=void 0,isInteractive:G=!0,clogLinkClick:Z=s.A,tabIndex:se=0,ariaHidden:ae=void 0,team:re=void 0,botEmoji:pe=void 0,canRenderEmoji:de=void 0,renderCustomBadge:ie=void 0,autoClogProps:he=void 0,openProfile:ve=s.A,propagateClickEvent:ge=!1,fromQuipDoc:ke=!1,allowTeamInitials:Ne=!0,disableLink:We=!1,isUserHidden:Oe=!1,onLoad:be=s.A,onError:Ke=s.A,navigate:Fe,resetIA:J,userType:ne,isDnd:je,isSlackbot:at,hasNoAccess:nt,"data-qa":Ge,"data-stringify-ignore":Pe,triggerId:Le,alwaysUseOpenProfile:ze,maybeOpenInSurface:Me}=L;const Ce=(0,t.useCallback)(async qt=>{if(qt.preventDefault(),!G)return null;if(ge||qt.stopPropagation(),Z(),!ke){if(x&&Me&&await Me({e:qt,navProps:(0,d.Fo)({memberId:x})}))return;!ze&&Fe&&x?Fe((0,d.Fo)({memberId:x})):ve({memberId:x,serviceId:k,botProfile:B,triggerId:Le})}return z?z(qt):null},[G,ge,Z,ke,z,Me,x,ze,Fe,ve,k,B,Le]),Qe=E(()=>x?`/team/${x}`:k&&!We?`/services/${k}`:"","getHrefAttr"),Be=E(()=>K?`${K} 2x`:"","getSrcSetAttribute"),we=E(()=>{if(H){const qt=H>9?"9+":`+${H}`;return t.createElement("div",{className:"c-avatar__additional_overlay"},qt)}return null},"renderAdditionalOverlay");we.displayName="renderAdditionalOverlay";const xe=E(qt=>{let{tooltipText:tt,className:st}=qt,gt=t.createElement("span",{className:"c-avatar__badge_inner"});ye&&(gt=t.createElement(p.Ay,{tip:tt},gt));const Nt=o()("c-avatar__badge",st);return t.createElement("span",{className:Nt},gt)},"renderBadgeElement");xe.displayName="renderBadgeElement";const Se=E(()=>{const qt=_e?r.n[_e]:F;if(ie!==void 0&&qt>=32){const tt=ie();if(tt)return tt}if(ie===void 0&&qt>=32){const tt=U({isExternal:$,teamId:q,team:re,showTooltip:ye,badgeIconType:w,badgeIconClassName:Y,allowTeamInitials:Ne})();if(tt)return tt}return V?t.createElement(m.A,{memberId:x,inline:!1,className:"c-avatar__presence",inheritIconSize:!0,hasNoAccess:nt}):te&&qt>=32?xe({tooltipText:E(()=>O.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,st=>{let{text:gt}=st;return t.createElement("span",{className:"c-avatar__tooltip_detail"},gt)}),"tooltipText"),className:"c-avatar__badge--ultra_restricted"}):le&&qt>=32?xe({tooltipText:E(()=>O.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,st=>{let{text:gt}=st;return t.createElement("span",{className:"c-avatar__tooltip_detail"},gt)}),"tooltipText"),className:"c-avatar__badge--restricted"}):null},"renderBadgeOrPresence");Se.displayName="renderBadgeOrPresence";const Ye=E(()=>{let qt=W||K;return _e?(_e==="large"&&K&&(qt=K),t.createElement(f.A,{image:qt,classes:"c-base_icon--token",srcSet:Be(),size:r.n[_e],ariaHidden:!0,ariaRole:"img",widthOnly:!0,onLoad:be,onError:Ke,resetIA:J})):null},"renderTokenAvatar");Ye.displayName="renderTokenAvatar";const ot=E(()=>W||K?_e||ce?Ye():t.createElement(f.A,{image:W||K,size:F,srcSet:Be(),ariaHidden:!0,widthOnly:!0,onLoad:be,onError:Ke,resetIA:J}):null,"renderImageTag");ot.displayName="renderImageTag";const _t=E(qt=>{let{fallback:tt=null}=qt,st=tt;return(W||K)&&(st=ot()),st},"renderImageOrFallback"),pt=pe?t.createElement(R,{botEmoji:pe,canRenderEmoji:de}):null,vt=F>26?"base":"small",yt=ne==="member",Tt=ne==="ra"||ne==="external",ft=ne==="ura",Ct=t.useMemo(()=>V?nt?a.NoAccess:at&&vt==="base"?a.BaseHeart:at&&vt==="small"?a.SmallHeart:yt&&vt==="base"&&je?a.BaseMemberDnd:yt&&vt==="base"?a.BaseMember:yt&&vt==="small"&&je?a.SmallMemberDnd:yt&&vt==="small"?a.SmallMember:Tt&&vt==="base"&&je?a.BaseGuestDnd:Tt&&vt==="base"?a.BaseGuest:Tt&&vt==="small"&&je?a.SmallGuestDnd:Tt&&vt==="small"?a.SmallGuest:ft&&vt==="base"&&je?a.BaseSingleChannelGuestDnd:ft&&vt==="base"?a.BaseSingleChannelGuest:ft&&vt==="small"&&je?a.SmallSingleChannelGuestDnd:ft&&vt==="small"?a.SmallSingleChannelGuest:"":"",[V,je,vt,Tt,yt,ft,at,nt]),At=o()(Q,"c-avatar",{"c-avatar--no_image":!(W||K||pt),"c-avatar--interactive":G&&!b&&!We,"c-avatar--ad_hoc_member":b,"c-avatar--deleted_member":me,"c-avatar--resetIA":J}),kt=_e?r.n[_e]:F,Bt={height:`${kt}px`,width:`${kt}px`};let St;k&&(St=G&&Qe());const Gt=Ae&&(G||St)?O.t("View {name}\u2019s Profile",{name:Ae}):void 0,Et=_t({fallback:pt}),wt={...Bt,"--avatar-image-size":`${kt}px`},Jt=at?"slackbot":ne,Lt=V||ee;let Zt=t.createElement(t.Fragment,null,V&&ne&&t.createElement(i,{isDnd:je,userType:Jt,hasNoAccess:nt,size:vt}),Oe?t.createElement(l.A,{className:Q,size:kt}):Et,Lt&&Se(),we());return St?Zt=t.createElement(g.A,{href:St,target:"_blank",rel:"noopener noreferrer",style:Bt,className:At,onClick:Ce,tabIndex:se,"aria-hidden":ae,"aria-label":Gt,autoClogProps:he,"data-qa":Ge,"data-stringify-ignore":Pe},Zt):G&&!We?Zt=t.createElement(v.A,{style:Bt,className:At,"data-qa":Ge,"data-stringify-ignore":Pe,"aria-hidden":ae,"aria-label":Gt,tabIndex:se,onClick:Ce,autoClogProps:he},Zt):Zt=t.createElement("span",D({style:wt,className:At},Ct?{"data-mask":Ct}:{},{"data-qa":Ge,"data-stringify-ignore":Pe,"aria-hidden":ae}),Zt),G&&oe&&F>=S.medium?(0,A.yN)({memberId:x,serviceId:k,botProfile:B,children:Zt}):Zt},"BaseAvatar");P.displayName="BaseAvatar"},3208600556:(N,y,e)=>{"use strict";e.d(y,{A:()=>k});var t=e(3134334389),n=e(6122756707),o=e(7582939986),s=e(2878685908),c=e(5820791302),r=e(2973590371),a=e(2615727366),i=e(1335022929),l=e(4117634716),m=e(8822892075),_=e(5519146941),h=e(3244118357),d=e(6052448919),f=e(8170643398),v=e(3534324375),u=e(4562579337),g=e(6536982570),p=e(6415587347),A=e(92812954),C=e(8847766420),T=e(9786721596),I=e(9506008067),M=e(8677230210),D=e(6273556946),O=e(1844213939),S=e(3829348308),R=e(4761125736),U=e(5761207079),P=e(1670069836),L=e(3193155968);function F(){return F=Object.assign||function(B){for(var W=1;W<arguments.length;W++){var K=arguments[W];for(var H in K)Object.prototype.hasOwnProperty.call(K,H)&&(B[H]=K[H])}return B},F.apply(this,arguments)}E(F,"_extends");const x=(0,t.forwardRef)((B,W)=>{const K=(0,n.wA)();t.useImperativeHandle(W,()=>({props:B}),[B]);const{user:H,userId:z,botId:Q,botProfile:q,triggerId:$,size:le,icons:te,emoji:ce,team:me,slackbotFeels:_e,isUnknown:Ae,showPresence:ye,isExternal:oe,hasNoAccess:ee}=B;let V=null,w=null,Y,G,Z,se,ae,re=ce,pe,de;const{member:ie,bot:he,memberIsHuman:ve}=(0,I.Z2)(we=>(0,M.Od)(we,{userId:z,botId:Q,botProfile:q})),{channelId:ge}=(0,t.useContext)(i.d),ke=(0,a.u)(),{container:Ne}=(0,t.useContext)(_.A),We=H||z||Ae,Oe=We?H||ie:void 0,be=Oe&&!Oe.isUnknown&&!Oe.is_unknown,Ke=(0,I.d4)(we=>(0,R._Z)(we,"bot_team_id_from_member")==="on"),Fe=(0,I.d4)(we=>(0,R._Z)(we,"app_flexpane")==="on");if(be){var J;Q||(pe=he==null?void 0:he.id);let we;Ke?we=(0,g.dQ)(Oe):we=(0,u.A)(Oe)?(0,g.D5)(Oe):(0,g.dQ)(Oe);const xe=(0,p.Ay)({size:le,teamOrEnterpriseId:we,memberId:Oe==null?void 0:Oe.id,avatarHash:Oe==null||(J=Oe.profile)===null||J===void 0?void 0:J.avatar_hash,slackbotFeels:_e});V=xe==null?void 0:xe.imageUrl,w=xe==null?void 0:xe.imageUrl2x,Y=oe||(Oe==null?void 0:Oe.isExternal),G=Oe==null?void 0:Oe.is_restricted,Z=Oe.is_ultra_restricted,se=Oe.id,ae=(0,f.oy)(Oe)}de=(0,I.d4)(we=>be&&Y?(0,g.Ux)(we,Oe):void 0);let ne=We?void 0:te||q&&q.icons;if(!We){if(he){ne=ne||he.icons;const we=(0,s.Cu)()?D.O:D.U;(he==null?void 0:he.app_id)===we&&(ne=(he==null?void 0:he.icons)||ne)}if(!re&&ne&&(re=ne.emoji),!re){const we=(0,p.Ay)({size:le,botImages:ne,isBot:!0});V=we.imageUrl,w=we.imageUrl2x}}de=(0,I.d4)(we=>We?de:(me==null?void 0:me.id)||(0,d.s)(we,{bot:he,botProfile:q,botId:Q})||void 0),Y=(0,I.d4)(we=>We?Y:de?de!==(0,C.Kc)(we):!1);const je=(0,I.d4)(we=>{if(be)return(0,v.sE)(we,Oe);if(!We)return(0,h.Hg)(he)}),at=(0,I.d4)(we=>{let xe=re&&de&&(0,S.ux)(we,{text:re,teamId:de});if(!xe&&re&&de===(0,C.Kc)(we)){const Se=(0,P.H7)(we),Ye=Se&&Se.id;Ye&&Ye!==de&&(xe=(0,S.ux)(we,{text:re,teamId:Ye}))}return xe}),nt=(0,I.d4)(we=>ye?(0,A.d)(we,z):void 0),Ge=(0,I.d4)(we=>ye?(0,O.z)(we,z):!1);var Pe;const Le=(Pe=z??se)!==null&&Pe!==void 0?Pe:"",ze=(0,I.d4)(we=>Le?(0,U.a)(we,Le):!1),Me=(0,t.useCallback)(we=>K((0,T.U)(we)),[K]),Ce=(0,t.useCallback)(we=>ke&&ge&&Ne!==L.mq.Split?K((0,l.o)((0,m.sL)(we,ge,ke.id))):K((0,l.o)(we)),[K,ke,ge,Ne]),Qe=(0,t.useCallback)(we=>K((0,r.d)(we)),[K]),Be=ve||he&&!(0,f.v3)(he)||$;return t.createElement(c.f1,F({},B,{userId:z,imageUrl:V||void 0,imageUrl2x:w||void 0,botEmoji:re,canRenderEmoji:!!at,teamId:de,isRestricted:G,isUltraRestricted:Z,isDeleted:ae,memberOrBotName:je,botId:pe||Q,disableLink:!Be,isExternal:Y,isUserHidden:ze,userType:nt,isDnd:Ge,isSlackbot:z===o.Q$,size:le,openProfile:Me,navigate:Ce,hasNoAccess:ee,showPresence:ye,triggerId:$,alwaysUseOpenProfile:Fe,maybeOpenInSurface:Qe}))}),b=t.memo(x);b.displayName="ConnectedAvatar";const k=b},3150724727:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>o,RG:()=>n.RG,f1:()=>n.f1,fp:()=>n.fp});var t=e(3208600556),n=e(5820791302);const o=t.A},9843753818:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(8683010724);function c(a){let{className:i="",size:l,"data-qa":m}=a;return t.createElement("span",{className:o()(i,"c-hidden_user_avatar",{"c-hidden_user_avatar--small":l===16}),style:{width:`${l}px`,height:`${l}px`},"data-qa":m},t.createElement("span",{className:"c-hidden_user_avatar--icon"},t.createElement(s.A,{size:l<=24?"16":"24",name:"user-hide"})))}E(c,"HiddenUserAvatar"),c.displayName="HiddenUserAvatar";const r=t.memo(c)},6968234170:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(8683010724),o=e(6471059816);const s=new o.Ay("members");function c(){return t.createElement("span",{className:"c-hidden_user_icon_and_name "},t.createElement(n.A,{name:"user-hide",inline:!0}),"\xA0",s.t("Name hidden"))}E(c,"HiddenUserIconAndName"),c.displayName="HiddenUserIconAndName";const r=t.memo(c)},2068755951:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(1030162945),o=e(8170643398),s=e(6818330210),c=e(9506008067),r=e(8276911661);function a(l){let{memberId:m,className:_,emoji:h,emojiSize:d=n.lw.SMALL,showTooltips:f=!1,stopAnimations:v=!1}=l;const u=(0,c.d4)(A=>(0,r.nv)(A,m));if(!u||!h)return;const g=(0,o.q4)(u),p=(0,s.H)(h,g);return t.createElement(n.Ay,{className:_,emojiSize:d,iconInTextMode:!0,isEmojiInlineWithText:!0,showTooltip:f,stopAnimations:v,text:p.name,url:p.url})}E(a,"CustomStatusEmoji"),a.displayName="CustomStatusEmoji";const i=t.memo(a)},5420562392:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(3134334389),n=e(6471059816),o=e(1961463505),s=e(9391594207),c=e(1345620242),r=e(2047021170);const a=new n.Ay("current_status");function i(_){let{className:h,expiration:d,time24:f}=_;if(!d)return null;const v=d*1e3,u=a.t("Until {expirationDate}",{expirationDate:(0,o.A)(v,"{status_expiration}",{do24hrTime:f,shouldCapitalize:!1})});return t.createElement("span",{className:h,"data-qa-status-expiration":d},u)}E(i,"CustomStatusExpiration"),i.displayName="CustomStatusExpiration";function l(_,h){let{memberId:d}=h;return{expiration:(0,c.A)(_,d||"")||0,time24:!!(0,r.ty)(_,"time24")}}E(l,"mapStateToProps");const m=(0,s.N)(l)(i)},6849520570:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(1030162945),o=e(7969928607),s=e(8170643398),c=e(9506008067),r=e(8276911661);function a(l){let{memberId:m,className:_,emojiSize:h,showTooltips:d,stopAnimations:f,text:v}=l;const u=(0,c.d4)(p=>(0,r.nv)(p,m));if(!v)return;const g=(0,s.q4)(u);return t.createElement("span",{className:_,"data-qa":"custom_status_text"},t.createElement(o.A,{text:v,inputIsEscaped:!0,emojiSize:h||n.lw.MEDIUM,showTooltips:!!d,stopAnimations:!!f,emojiDisplayInfo:g}))}E(a,"CustomStatusText"),a.displayName="CustomStatusText";const i=t.memo(a)},4743059565:(N,y,e)=>{"use strict";e.d(y,{A:()=>p});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(2068755951),c=e(5420562392),r=e(6849520570),a=e(1030162945),i=e(8170643398),l=e(6818330210),m=e(9506008067),_=e(8276911661),h=e(2072540560);const d=E(A=>{let{stopAnimations:C=!1,noText:T=!1,className:I,memberId:M="",showEmojiTooltip:D=!1,insertTextSpacing:O=!1,displayInMemberProfile:S=!1,displayEmojiTextAsFallbackIfNoText:R=!1,emoji:U}=A;const P=(0,m.d4)(b=>(0,h.A)(b,M)),L=(0,m.d4)(b=>(0,_.nv)(b,M)),F=R&&!P&&!T&&!S;let x=U;if(F){const b=(0,i.q4)(L),k=(0,l.H)(U,b);k&&(x=k.name)}if(S){const b=(0,i.fy)(L);return t.createElement("span",{className:I},t.createElement(s.A,{memberId:M,emoji:U,stopAnimations:C,showTooltips:D,emojiSize:a.lw.MEDIUM,className:"c-custom_status__emoji_in_member_profile"}),P&&t.createElement(r.A,{memberId:M,className:o()("margin_left_50","padding_right_50",{margin_right_100:b}),emojiSize:a.lw.SMALL,stopAnimations:C,text:T?"":P}))}return t.createElement("span",{className:I},t.createElement(s.A,{memberId:M,showTooltips:D,emojiSize:a.lw.SMALL,emoji:U,stopAnimations:C}),P&&t.createElement(r.A,{memberId:M,className:O?"margin_left_50":"margin_left_25",emojiSize:a.lw.SMALL,stopAnimations:C,text:T?"":P}),F&&x&&t.createElement("span",{className:O?"margin_left_50":"margin_left_25"},x))},"CustomStatusTooltipContent");d.displayName="CustomStatusTooltipContent";const f=t.memo(d);var v=e(2312625946),u=e(193084903);const g=E(A=>{let{animated:C=!1,tooltip:T=!0,tipPosition:I,noText:M=!1,className:D,memberId:O="",showEmojiTooltip:S=!1,insertTextSpacing:R=!1,displayInMemberProfile:U=!1,fallback:P}=A;const L=(0,m.d4)(x=>(0,u.A)(x,O)),F=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement(f,{className:"c-custom_status__tooltip",noText:M,memberId:O,showEmojiTooltip:S,insertTextSpacing:R,displayInMemberProfile:U,emoji:L,displayEmojiTextAsFallbackIfNoText:!0}),t.createElement(c.A,{className:"c-custom_status__expiration c-tooltip__subtitle",memberId:O})),[O,M,S,R,U,L]);return L?T?t.createElement(v.Ay,{tip:F,position:I,zIndex:"above_fs","data-qa":"custom_status_tooltip"},t.createElement("span",{className:o()("c-custom_status",D),"data-qa":"custom_status"},t.createElement(s.A,{memberId:O,showTooltips:!1,emojiSize:a.lw.SMALL,emoji:L,stopAnimations:!C}))):t.createElement(f,{className:o()(D,"c-custom_status","c-custom_status--inline",{display_flex:U}),stopAnimations:!C,noText:M,memberId:O,showEmojiTooltip:S,insertTextSpacing:R,displayInMemberProfile:U,emoji:L}):P||null},"CustomStatus");g.displayName="CustomStatus";const p=t.memo(g)},605958036:(N,y,e)=>{"use strict";e.d(y,{A:()=>o,j:()=>n.A});var t=e(4743059565),n=e(5420562392);const o=t.A},2805783620:(N,y,e)=>{"use strict";e.d(y,{A:()=>g});var t=e(3134334389),n=e(1649982175),o=e(3297051565),s=e.n(o),c=e(9262712126),r=e(8921478798),a=e(3534324375),i=e(6471059816),l=e(9391594207),m=e(5761207079);function _(){return _=Object.assign||function(p){for(var A=1;A<arguments.length;A++){var C=arguments[A];for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(p[T]=C[T])}return p},_.apply(this,arguments)}E(_,"_extends");const h=new i.Ay("files"),d={name:s().string.isRequired,isChannelFiles:s().bool,showMemberNameIfHidden:s().bool},f={isChannelFiles:!1,showMemberNameIfHidden:!1},v=E(p=>{const A=(0,n.A)(p,["id","name","dispatch","firstName","skipPrefCompliance","isChannelFiles","showMemberNameIfHidden"]);let C=p.name;if(p.isChannelFiles){const T=p.name;C=h.t("Shared by {memberName}",{memberName:T})}return t.createElement("span",_({},A),C)},"MemberName");v.displayName="MemberName",v.propTypes=d,v.defaultProps=f;const u=E((p,A)=>{const{id:C,member:T,skipPrefCompliance:I,showMemberNameIfHidden:M}=A;if(I)return{name:(0,c.wg)(T)};let D;return!M&&(0,m.a)(p,C)?D=h.t("Name hidden"):D=T?(0,a.sE)(p,T,!1,!1,I,!1):(0,r.I)(p,C,!1,!1,!1,!1),{name:D}},"mapStateToProps"),g=(0,l.N)(u)(v)},8064950432:(N,y,e)=>{"use strict";e.d(y,{I:()=>i,a:()=>l});var t=e(3134334389),n=e(7969928607),o=e(1407713935),s=e(8920264989),c=e(6163112184),r=e(9506008067),a=e(9101533895);const i=t.memo(m=>{let{name:_}=m;return t.createElement(n.A,{text:_,showTooltips:!1,inputIsEscaped:!0})}),l=t.memo(m=>{let{channel:_,channelId:h,name:d,displayNameOptions:f}=m;const v=(0,r.d4)(c.h),u=(0,r.d4)(C=>_??(0,a.OL)(C,h)),g=(0,o.yz)(u),p=(0,r.d4)(C=>d??(0,s.SB)(C,u,f));return v&&g?t.createElement(i,{name:p}):p})},6818173548:(N,y,e)=>{"use strict";e.d(y,{A:()=>M,k:()=>p});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(4757466470),c=e(7435117457),r=e(531406119),a=e(1588480853),i=e(9991962665),l=e(516467206),m=e(1407713935),_=e(4559887502),h=e(6007206761),d=e(2671211451),f=e(337319621),v=e(9391594207),u=e(9101533895);function g(){return g=Object.assign||function(D){for(var O=1;O<arguments.length;O++){var S=arguments[O];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(D[R]=S[R])}return D},g.apply(this,arguments)}E(g,"_extends");function p(D){return!(0,m.LI)(D)&&!(0,m.yz)(D)}E(p,"shouldUseInlineChannelEntity");const A="INLINE-CHANNEL-ENTITY";function C(D){let{className:O,channel:S,bestFormerName:R,displayFormerNames:U=c.P.false,logger:P,boldIcon:L=!1,showTeam:F=!0,truncate:x=!1,truncateWidth:b,overrideHiddenName:k,overrideHiddenIcon:B,withTruncationTooltip:W,channelNameClassName:K,omitNonExistentTooltip:H,channelHasNonUniqueName:z=!1,showDisambiguatingTeamName:Q=!1,readChannelIcon:q=!1}=D;const $=(0,m.t8)(S),le=(0,m.QR)(S||null),te=(0,t.useCallback)(ee=>{let{className:V,...w}=ee;return(!le||B)&&t.createElement(i.A,g({},w,{bold:L,className:V,channel:S,overrideHiddenIcon:B,readChannelIcon:q}))},[S,L,le,B,q]);if(!p(S||null))return P==null||P.warn(A,"InlineChannelEntity should not display IMs or MPIMs"),null;const ce=o()(O,"c-inline_channel_entity"),me=(0,h.F)(S)?c.pI.dim:void 0,_e=S&&k?{...S,name:k}:S||void 0,Ae=o()(K,"c-inline_channel_entity__content"),ye=z&&Q,oe=($||le)&&!k?t.createElement(l.A,{"data-qa":"inline_channel_entity__missing",type:$?"unknown":"non-existent",size:"small",width:b,omitNonExistentTooltip:H}):t.createElement("span",{className:Ae},t.createElement(r.A,{bold:L,channel:_e,bestFormerName:R,displayFormerNames:U,showTeam:F,showTeamForLocalChannel:ye,width:b,"data-qa":"inline_channel_entity__name",overrideHiddenName:k}));return t.createElement(d.A,{avatar:te,className:ce,"data-qa":"inline_channel_entity","data-channel-id":S&&S.id,style:me,truncate:x,truncateWidth:b,withTruncationTooltip:W,primaryContent:oe,secondaryContent:b&&t.createElement(t.Fragment,null,F&&t.createElement(a.A,{className:"c-inline_channel_entity__team",iconSize:14,channel:_e,"data-qa":"inline_channel_entity__team"}))})}E(C,"InlineChannelEntity"),C.displayName="InlineChannelEntity";function T(D){return Object.prototype.hasOwnProperty.call(D,"channel")}E(T,"propsContainsChannel");function I(D,O){const S=T(O)?O.channel:(0,u.OL)(D,O.channelId);let R;return O.showDisambiguatingTeamName&&(R=(0,_.i)((0,u.MS)(D),S)),{channel:S,channelHasNonUniqueName:R,logger:(0,f.Ay)({state:D})}}E(I,"mapStateToProps");const M=(0,v.N)(I,null,null,{areStatePropsEqual:s.kt})(C)},2768501508:(N,y,e)=>{"use strict";e.d(y,{A:()=>O});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6696292586),c=e(6471059816),r=e(7435117457),a=e(1253757845),i=e(531406119),l=e(516467206),m=e(3929724715),_=e(1407713935),h=e(4559887502),d=e(6007206761),f=e(5273017660),v=e(337319621),u=e(9391594207),g=e(9101533895),p=e(8286248123);function A(){return A=Object.assign||function(S){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var P in U)Object.prototype.hasOwnProperty.call(U,P)&&(S[P]=U[P])}return S},A.apply(this,arguments)}E(A,"_extends");const C=new c.Ay("channel_entity"),T="SMALL-CHANNEL-ENTITY";function I(S){let{className:R,channel:U,bestFormerName:P,inlineNameSuffix:L,invert:F=!1,logger:x,displayFormerNames:b=r.P.false,showTeamForLocalChannel:k,showDraftIcon:B=!1,showFilledIcon:W=!1,showTeam:K,memberCount:H,onlyBoldIfUnread:z=!1,showTruncatedChannelNameTooltip:Q=!1,"data-qa":q="small_channel_entity",channelHasNonUniqueName:$=!1,showDisambiguatingTeamName:le=!1,useIconOutline:te=!1}=S;const ce=(0,t.useCallback)(Z=>t.createElement(a.A,A({},Z,{className:o()({"c-small_channel_entity__icon":!te}),channel:U,size:te?r.RG.smallListVariantOutline:r.RG.small,showDraftIcon:B,showFilledIcon:W})),[U,B,W,te]);if((0,_.LI)(U)||(0,_.yz)(U))return x==null||x.warn(T,"SmallChannelEntity should not display IMs or MPIMs"),null;const me=o()(R,"c-small_channel_entity"),_e=!z||(0,m.KJ)(U),Ae=(0,_.t8)(U),ye=(0,_.QR)(U);let oe=(0,d.F)(U)?r.pI.dim:void 0;F&&(oe=r.pI.highlightDark);let ee=null;if((0,s.A)(H)){const Z=C.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:H,fallbackHash:"c8e3bc8a761a13ce8f87cea7ebb3009bccee1a21",fallbackHashNs:"user_group_entity"});ee=t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix normal","aria-label":Z},"(",H,")")}const V=$&&le,w=t.createElement(i.A,{channel:U,bestFormerName:P,inlineNameSuffix:L,displayFormerNames:b,showTeamForLocalChannel:k||V,showTeam:K,bold:!!_e}),Y=Q?t.createElement(f.CG,{withTruncationTooltip:!0},w):w,G=o()("c-small_channel_entity__content","c-small_channel_entity__content--xws",{"c-small_channel_entity__content--show-truncated-tooltip":Q});return t.createElement(f.Ay,{avatar:ce,className:me,"data-qa":q,size:"small",style:oe,text:t.createElement(f.CG,null,Ae||ye?t.createElement(l.A,{type:Ae?"unknown":"non-existent",invert:F,size:"small"}):t.createElement("span",{className:G},Y,L&&t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},L),ee)),useAvatarOutline:te})}E(I,"SmallChannelEntity"),I.displayName="SmallChannelEntity";function M(S){return Object.prototype.hasOwnProperty.call(S,"channel")}E(M,"propsContainsChannel");function D(S,R){let U;if(R.showMemberCounts){const F=(0,p.q8)(S,M(R)?(0,m.FB)(R.channel):R.channelId);U=F==null?void 0:F.counts.member_count}const P=M(R)?R.channel:(0,g.OL)(S,R.channelId);let L;return R.showDisambiguatingTeamName&&(L=(0,h.i)((0,g.MS)(S),P)),{memberCount:U,channel:P,logger:(0,v.Ay)({state:S,label:T}),channelHasNonUniqueName:L}}E(D,"mapStateToProps");const O=(0,u.N)(D)(I)},8099711795:(N,y,e)=>{"use strict";e.d(y,{A:()=>d});var t=e(3134334389),n=e(7435117457),o=e(2768501508),s=e(2828836153),c=e(9163962844),r=e(9391594207),a=e(9101533895);function i(){return i=Object.assign||function(f){for(var v=1;v<arguments.length;v++){var u=arguments[v];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[g]=u[g])}return f},i.apply(this,arguments)}E(i,"_extends");function l(f,v,u){if(f)return v||u?n.pI.highlightDim:n.pI.highlightDark;if(v||u)return n.pI.dim}E(l,"getBaseStyle");function m(f){let{className:v,secondaryContent:u,isActive:g=!1,isDeactivated:p=!1,isDisabled:A=!1,showUnreadBadge:C=!1,badgeCount:T=0,onlyBoldIfUnread:I=!1,useIconOutline:M=!1,...D}=f,O=u;C&&(O=t.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},u,t.createElement(c.A,{count:T,className:"c-channel_entity__mentions",style:g?c.r.white:c.r.red})));const S=l(g,A,p);return t.createElement(s.A,{className:v,primaryContent:t.createElement(o.A,i({invert:S===n.pI.highlightDark,onlyBoldIfUnread:I,useIconOutline:M},D)),secondaryContent:O,size:"small",style:S})}E(m,"SmallChannelListEntity"),m.displayName="SmallChannelListEntity";function _(f){return Object.prototype.hasOwnProperty.call(f,"channel")}E(_,"propsContainsChannel");function h(f,v){const u=_(v)?v.channel:(0,a.OL)(f,v.channelId),g=v.showUnreadBadge?v.badgeCount||(0,a.TJ)(f,u):0;return{channel:u,badgeCount:g}}E(h,"mapStateToProps");const d=(0,r.N)(h)(m)},1253757845:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7435117457),c=e(2150442287),r=e(1407713935),a=e(8683010724),i=e(9506008067);function l(){return l=Object.assign||function(h){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v])}return h},l.apply(this,arguments)}E(l,"_extends");function m(h){let{size:d=s.RG.medium,className:f,channel:v,showDraftIcon:u=!1,showFilledIcon:g=!1}=h;const p=(0,r.t8)(v),A=(0,i.d4)(T=>(0,c.Ay)(T,v,{filled:g,showDraftIcon:u})),C=(0,t.useMemo)(()=>{const T={...A};return d===s.RG.small&&(T.size="18"),d===s.RG.smallListVariantOutline&&(T.size="16"),T},[d,A]);return t.createElement("span",{className:o()("c-channel_icon",{"c-channel_icon--unknown":p,"c-channel_icon--with-background":d===s.RG.medium},f),"data-channel-type-icon":(C==null?void 0:C.name)||"unknown"},!p&&t.createElement(a.A,l({},C)))}E(m,"ChannelIcon"),m.displayName="ChannelIcon";const _=m},531406119:(N,y,e)=>{"use strict";e.d(y,{A:()=>U});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(9113979368),c=e(4518138713),r=e(6471059816),a=e(7435117457),i=e(1588480853),l=e(9991962665),m=e(6159136815),_=e(3929724715),h=e(8920264989),d=e(6007206761),f=e(395285811),v=e(4630136761),u=e(2647703359),g=e(3634593162),p=e(6839188756),A=e(82287009),C=e(8374895239),T=e(9391594207),I=e(937317117),M=e(1670069836);function D(){return D=Object.assign||function(P){for(var L=1;L<arguments.length;L++){var F=arguments[L];for(var x in F)Object.prototype.hasOwnProperty.call(F,x)&&(P[x]=F[x])}return P},D.apply(this,arguments)}E(D,"_extends");const O=new r.Ay("search");function S(P){const{bestFormerName:L,bold:F=!0,channel:x,channelName:b,overrideHiddenName:k,width:B,displayFormerNames:W=a.P.true,isChannelFrozenAndInGracePeriod:K,showTeam:H=!0,showTeamForLocalChannel:z=!1,showTeamName:Q,titleBlocks:q}=P,$=(0,d.F)(x)&&!K;let le=`${k??b}${$?` ${O.t("(archived)")}`:""}`,te;if(W)if(L){const me=t.createElement(l.A,{bold:F,className:"c-channel_name__former_channel_icon",channel:x}),_e=t.createElement("span",{className:"c-channel_name__former_name_text"},t.createElement(m.A,{text:L,showTooltips:!1}));te=L&&t.createElement("span",{className:"c-channel_name__suffix"},O.rt(" (formerly {icon}{name})",{icon:me,name:_e}))}else{let me;const _e=(0,_.Hx)(x);if(_e&&!(0,s.A)(_e)){const Ae=_e.map(oe=>`#${oe}`);me=(0,C.A)(Ae,{noConj:!0}).join("")}me&&(le+=` ${O.t("(formerly {names})",{names:me})}`)}const ce=o()("c-channel_entity__name",{"c-channel_entity__name--bold":F});return t.createElement(t.Fragment,null,t.createElement("span",D({className:ce},(0,c.A)(P)),q??t.createElement(t.Fragment,null,t.createElement(m.A,{text:le,showTooltips:!1}),W&&te)),!B&&t.createElement(t.Fragment,null,H&&t.createElement(i.A,{className:"c-channel_entity__team",iconSize:a.RG.inline,channel:x,"data-qa":"channel_entity__team",shouldRender:z,showTeamName:Q})))}E(S,"ChannelName"),S.displayName="ChannelName";function R(P,L){let{channel:F,includeChannelPrefix:x}=L;const b=(0,M.H7)(P)||(0,M.lp)(P),k=(0,p.ZT)(b),B=F&&(0,f.jT)(F)&&(0,g.l)(F.id),W=B?(0,I.Lp)(P,B):void 0,K=W&&(0,u.U9)(W)?(0,A.GU)({id:B,fileId:B,size:"caption",truncate:!1}):null;var H;return{channelName:(H=(0,h.SB)(P,F,{publicChannelIncludeHashSign:!!x,imIncludeAtSign:!1}))!==null&&H!==void 0?H:void 0,titleBlocks:K,isChannelFrozenAndInGracePeriod:(0,v.sP)(k,F)}}E(R,"mapStateToProps");const U=(0,T.N)(R)(S)},1588480853:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3929724715),c=e(5373179915),r=e(6839188756),a=e(9391594207),i=e(9101533895),l=e(1670069836);let m=E(class extends t.Component{render(){const{shouldRender:f,team:v,className:u}=this.props;return!f||!v?null:t.createElement("div",{className:o()("c-channel_team","c-channel_team--xws",u),"data-qa":"channel_team"},t.createElement("span",{className:"c-channel_team__name"},(0,r.F1)(v)))}},"ChannelTeam");m.displayName="ChannelTeam";const _=E((d,f)=>{let{channel:v,channelId:u,shouldRender:g}=f;const p=v||(0,i.OL)(d,u),A=(0,c.R)(d,p);let C;if((0,s.lo)(p))C=(0,l._J)(d,(0,s.bK)(d,p));else if(g||A){const T=(0,s.ne)(d,p);C=(T?(0,l._J)(d,T):void 0)||(0,l.H7)(d)}return{shouldRender:g||A||!!(0,s.lo)(p),team:C??void 0}},"mapStateToProps"),h=(0,a.N)(_)(m)},9991962665:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(2150442287),c=e(1407713935),r=e(8683010724),a=e(6471059816),i=e(9506008067);function l(){return l=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(d[u]=v[u])}return d},l.apply(this,arguments)}E(l,"_extends");const m=new a.Ay("channels"),_=E(d=>{let{className:f,filled:v,bold:u,channel:g,disableArchived:p,overrideHiddenIcon:A,readChannelIcon:C}=d;const T=(0,i.d4)(O=>A||(0,s.Ay)(O,g,{filled:v||(0,c.Zp)(g),bold:u,disableArchived:p})),I=o()(f,{"c-inline_channel_icon c-inline_channel_icon--space":!0}),M=(0,c.Zp)(g),D=(0,t.useMemo)(()=>M?m.t("private channel ",{fallbackHash:"943992d03db8cad462814c3650217ac329a26742",fallbackHashNs:"channel_sidebar"}):m.t("channel ",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf",fallbackHashNs:"huddles"}),[M]);return t.createElement(t.Fragment,null,C&&t.createElement("span",{className:"offscreen"},D),t.createElement("span",{className:I,"data-inline-channel-type-icon":T.name},t.createElement(r.A,l({inline:!0},T))))},"InlineChannelIcon");_.displayName="InlineChannelIcon";const h=t.memo(_)},2150442287:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>D,PR:()=>I,pH:()=>C});var t=e(5892132962),n=e(3929724715),o=e(1407713935),s=e(6007206761),c=e(395285811),r=e(4630136761),a=e(2647703359),i=e(3634593162),l=e(6839188756),m=e(9101533895),_=e(937317117),h=e(1670069836);const d={name:"archive"},f={name:"archive-filled"},v={name:"edit"},u={name:"edit-filled"},g={name:"file"},p={name:"lists"},A={name:"lock"},C={name:"lock-filled"},T={name:"channel"},I={name:"channel-filled"},M={name:"canvas"};function D(O,S){let{filled:R,bold:U,disableArchived:P,showDraftIcon:L}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{filled:!1,bold:!1,disableArchived:!1,showDraftIcon:!1};const F=(0,h.H7)(O)||(0,h.lp)(O),x=(0,l.ZT)(F);if(!(0,r.sP)(x,S)&&((0,s.F)(S)&&!P||(0,r.Zz)(S)))return R?f:d;if(L&&(0,n.yc)(O,S.id))return R?u:v;if((0,c.jT)(S)){const k=(0,_.Lp)(O,(0,i.l)(S.id));if((0,a.wL)(k))return M;if((0,a.aD)(k)){const B=(0,m.Pf)(O,k.id),W=(0,m.OL)(O,B);return(0,o.Zp)(W)||(0,o.JM)(W)?R?C:A:M}return(0,a.l7)(k)?p:g}const b=(0,t.sc)(S);return b||((0,o.Zp)(S)?R?C:A:U?I:T)}E(D,"getChannelIconType")},7577304499:(N,y,e)=>{"use strict";e.d(y,{A:()=>u});var t=e(3134334389),n=e(7958934443),o=e(4541034515),s=e(2647703359),c=e(7747467459),r=e(8921478798),a=e(6954805277),i=e(6471059816),l=e(9391594207),m=e(9506008067),_=e(5795074931),h=e(2047021170);const d=new i.Ay("files");function f(g){let{file:p,time24:A,isChannelFiles:C,useSeparator:T,customSeparator:I,excludeTime:M,displaySharedBy:D,documentUnfurlTs:O=void 0,name:S,showYou:R,isCreator:U=!1}=g;const P=C||D;let L;const F=I??"\xB7",x="\xA0\xA0";P?L=null:T||I||O?L=[x,F,x]:L=x;const b=U&&(p!=null&&p.created)?p.created:(0,s.VP)(p);let k,B;if(b){const le=(0,a.Od)(b,{shortenMonth:!0});k=le;let te;if(P)if(le==="Today"||le==="Yesterday"){const me=le.toLowerCase();te=d.t("{newDate}",{newDate:me})}else te=d.t("on {date}",{date:le});else te=le;const ce=M?te:d.t("{date} at {time}",{date:le,time:(0,a.Yq)(b,"{time}",{do24hrTime:A})});B=t.createElement(t.Fragment,null,L,t.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-timestamp"},ce))}const K=(0,m.d4)(_.WR)===p.user;let H=p.bot_id?t.createElement(o.A,{id:p.bot_id,isChannelFiles:P,isWorkflow:!1,"data-qa":"file-entity-metadata-user",className:"margin_right_0"}):t.createElement(n.A,{name:S,isChannelFiles:P,"data-qa":"file-entity-metadata-user",inline:!0,isBold:!1,isCreator:U,className:"margin_right_0",isSelf:R?K:!1});(0,s.aD)(p)&&p.user==="USLACKBOT"&&(H=t.createElement("span",{className:"margin_right_25"},d.t("Shared")));const z=O&&(0,a.Od)(O,{shortenMonth:!0});let Q=!1,q;z&&(z.includes("Today")||z.includes("Yesterday")?q=d.t("Added {readableTs}",{readableTs:z}):q=d.t("Added on {readableTs}",{readableTs:z}),k&&(Q=k===z));let $;return q&&($=t.createElement(t.Fragment,null,L,t.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-unfurl-in-canvas-timestamp"},q))),(0,c.A)(p)||(0,s.aK)(p)||(0,s.c4)(p)?null:t.createElement(t.Fragment,null,H,Q?t.createElement(t.Fragment,null," ",$):t.createElement(t.Fragment,null," ",B,$))}E(f,"FileEntityUserTimestamp"),f.displayName="FileEntityUserTimestamp";const v=E((g,p)=>({time24:(0,h.ty)(g,"time24"),name:(0,r.I)(g,p.file.user||"",!1,!1,!1,!1)}),"mapStateToProps"),u=(0,l.N)(v)(f)},7563272258:(N,y,e)=>{"use strict";e.d(y,{I:()=>S,A:()=>P});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(9113979368),r=e(413105706),a=e(5250235443),i=e(1152360252),l=e(1030162945),m=e(1662399599),_=e(2238535162),h=e(9866150923),d=e(2647703359),f=e(5273017660),v=e(7435117457),u=e(1610251172),g=e(8683010724),p=e(8509961938),A=e(6471059816);function C(L){var F;const x=(0,p.A)(),b=(F=L.match(x))===null||F===void 0?void 0:F[0];return b&&L.indexOf(b)===0?[b,L.slice(b.length).trim()]:[null,L]}E(C,"parseLeadingEmoji");var T=e(2960290117),I=e(9391594207),M=e(7929066846),D=e(937317117);const O=new A.Ay("files");var S;(function(L){L[L.NORMAL=0]="NORMAL",L[L.BLACK=1]="BLACK"})(S||(S={}));function R(L){let{className:F,"data-qa":x,"data-sk":b,fileFromPropsOrState:k,id:B,isDisabled:W,detailText:K,shouldShowHighlight:H=!0,shouldShowDetailText:z=!0,fontWeight:Q,useLeadingEmojiAsIcon:q,shouldCheckForTemporaryFiles:$,useLiveTitleForChannelCanvas:le,useMissingIconIfFileUnknown:te,hideRichTextEmojiTooltips:ce=!1,useIconOutline:me=!1}=L;const _e=(0,n.wA)(),Ae=(k==null?void 0:k.filetype)||(k==null?void 0:k.highlight_type),ye=(0,T.oH)(B)&&$,oe=(0,t.useCallback)(()=>{if(!k)return null;const w=s()("c-file_entity__icon",{"c-file_entity__icon--contained":me});if(ye)return t.createElement("span",{className:w},t.createElement(g.A,{name:"canvas-content"}));if((0,d.uO)(k)||(0,d.aK)(k))return t.createElement(u.A,{className:w,type:"trash"});if((0,d.kn)(k)||(0,d.Bp)(k)||(0,d.Ki)(k)||(0,d.AL)(k))return t.createElement(u.A,{className:w,type:"eye-closed"});if(!(0,d.ZG)(k))return t.createElement(u.A,{className:w,type:"question"});if((0,d.Y8)(k))return t.createElement(h.A,{iconClassName:s()(w,"p-list_icon--search"),file:k,isFilled:!1});if((0,d.l7)(k)){if(q){var Y,G;let se=(Y=k.list_metadata)===null||Y===void 0?void 0:Y.icon;const ae=((G=k.title)===null||G===void 0?void 0:G.trim())||"",re=ae.search((0,p.A)());if(!se&&re===0){var Z;se=(Z=ae.match((0,p.A)()))===null||Z===void 0?void 0:Z[0]}if(se&&_e((0,M.D)(se)))return t.createElement("div",{className:s()(w,"c-file_entity_emoji_container")},t.createElement(l.Ay,{text:se,emojiSize:l.lw.SMALL,showTooltip:!1,stopAnimations:!0}))}return t.createElement(_.A,{iconClassName:s()(w,"p-list_icon--search"),file:k,isFilled:!1,size:"inherit"})}if((0,d.DQ)(k)){const[se,ae]=C((0,d.V)(k)||"");return se&&_e((0,M.D)(se))&&q?t.createElement("div",{className:s()(w,"c-file_entity_emoji_container")},t.createElement(l.Ay,{text:se,emojiSize:l.lw.SMALL,showTooltip:!1,stopAnimations:!0})):t.createElement("span",{className:w},t.createElement(g.A,{name:"canvas-content"}))}return Ae?t.createElement(u.A,{className:w,file:"tiny",type:Ae}):te?t.createElement("span",{className:s()(w,"c-file_entity__missing_icon_container")},t.createElement(i.A,{size:16})):t.createElement(u.A,{className:w,file:"tiny",type:"file"})},[_e,k,ye,Ae,q,te,me]),ee=(0,t.useMemo)(()=>{if(z)return t.createElement(f.Q,{"data-qa":"file_detail_text"},K)},[K,z]),V=W?v.pI.dim:void 0;return(0,c.A)(k)?null:t.createElement(f.Ay,{size:"small",className:s()("c-file_entity",F),"data-id":B||(k==null?void 0:k.id),"data-qa":x,"data-sk":(0,c.A)(b)?"small_file_entity":b,style:V,avatar:oe,text:t.createElement(f.CG,{className:s()("c-file_entity__text",{normal:Q===0,black:Q===1})},ye?O.t("Untitled"):t.createElement(m.A,{file:k,shouldShowHighlight:H,useLeadingEmojiAsIcon:q,useLiveTitleForChannelCanvas:le,hideRichTextEmojiTooltips:ce})),metadata:ee,useAvatarOutline:me})}E(R,"SmallFileEntity"),R.displayName="SmallFileEntity";function U(L,F){let{id:x,file:b,detailType:k=r.s.FILETYPE}=F;const B=b||(0,D.Lp)(L,x),W=(0,a.A)(L,B,k);return{fileFromPropsOrState:B,detailText:W}}E(U,"mapStateToProps");const P=(0,I.N)(U)(R)},413105706:(N,y,e)=>{"use strict";e.d(y,{h:()=>n,s:()=>t});const t={NONE:"none",OWNER:"owner",OWNER_TIMESTAMP:"owner-timestamp",CHANNEL:"channel",SHARER:"sharer",FILETYPE:"filetype",LAST_UPDATED:"last-updated",LAST_VIEWED:"last-viewed",CREATED_TIMESTAMP:"created-timestamp",SHARED_TIMESTAMP:"shared-timestamp",ACTIVITY_MENTION:"mention",READ_TIME:"read-time"},n={Detail:"detail",View:"view",Download:"download",Window:"window",Remote:"remote",Reveal:"reveal",External:"external",Open:"open"}},5250235443:(N,y,e)=>{"use strict";e.d(y,{A:()=>R});var t=e(3134334389),n=e(7577304499),o=e(413105706),s=e(1677062231),c=e(2208015175),r=e(9101533895),a=e(3929724715),i=e(7582939986);const l=6,m=10,_=20,h=25,d=E((U,P)=>{const L=P==null?void 0:P.shares;if(!L)return null;let F=null,x=!1,b=!1;return(0,c.A)(L.private,(k,B)=>{b=!0;let W=k.find(H=>{let{share_user_id:z}=H;return z!==i.Q$});if(W)x=!0;else{if(x)return;W=k[0]}const K=W.ts;Number(K)>Number((F==null?void 0:F.ts)||0)&&(F={ts:K,channelId:B,shareUserId:k[0].share_user_id})}),(0,c.A)(L.public,(k,B)=>{const W=(0,r.OL)(U,B);if((0,a.Ez)(W))b||(F=void 0),b=!0;else if(b)return;let K=k.find(z=>{let{share_user_id:Q}=z;return Q!==i.Q$});if(K)x=!0;else{if(x)return;K=k[0]}const H=K.ts;Number(H)>Number((F==null?void 0:F.ts)||0)&&(F={ts:H,channelId:B,shareUserId:k[0].share_user_id})}),F},"getMostRelevantShare");function f(U,P){const L=d(U,P);if(!L)return null;const{channelId:F}=L;return t.createElement(s.A,{channelId:F,inline:!0})}E(f,"getFileChannel");var v=e(674932420),u=e(3534324375),g=e(6471059816),p=e(5795074931),A=e(8276911661);const C=new g.Ay("file");function T(U,P,L){if(!P||P===i.Q$)return(0,v.A)(U,L);const F=(0,A.nv)(U,P),x=(0,u.sE)(U,F);return P===(0,p.WR)(U)?C.rt("{name} (you)",{name:x,fallbackHash:"26d4d69c81b9ea155418f35cc46db79fdbb5e28b",fallbackHashNs:"channel_sidebar"}):x}E(T,"getShareName");function I(U,P){const{shareUserId:L}=d(U,P)||{};return T(U,L,P)}E(I,"getFileSharer");var M=e(2332535469),D=e(8090839701),O=e(9670560261);function S(){return S=Object.assign||function(U){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(U[F]=L[F])}return U},S.apply(this,arguments)}E(S,"_extends");function R(U,P,L,F,x){if(Array.isArray(L))return L.map(b=>R(U,P,b,F,x));switch(L){case o.s.NONE:return"";case o.s.OWNER:return(0,v.A)(U,P);case o.s.OWNER_TIMESTAMP:return t.createElement(n.A,S({file:P,documentUnfurlTs:x},F));case o.s.CHANNEL:return f(U,P);case o.s.SHARER:return I(U,P);case o.s.LAST_UPDATED:case o.s.LAST_VIEWED:return(0,O.N)(U,P,L);case o.s.READ_TIME:return(0,M.O)(U,P);case o.s.FILETYPE:default:return(0,D.A)(U,P)}}E(R,"getFileDetail")},674932420:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(2647703359),n=e(9464746668),o=e(3534324375),s=e(6471059816),c=e(5795074931),r=e(8677230210),a=e(8276911661);const i=new s.Ay("file");function l(m,_){if(!_)return"";const{userId:h,botId:d}=(0,t.xR)(_),f=h?(0,a.nv)(m,h):null,v=f?(0,n.A)(m,f):null,u=d||v;if(u){const g=(0,r.AF)(m,u);if(g&&g.name)return g.name}if(f){const g=(0,o.sE)(m,f);return h===(0,c.WR)(m)?i.rt("{name} (you)",{name:g,fallbackHash:"26d4d69c81b9ea155418f35cc46db79fdbb5e28b",fallbackHashNs:"channel_sidebar"}):g}return _.username||""}E(l,"getFileOwner")},506098956:(N,y,e)=>{"use strict";e.d(y,{A:()=>p});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3750057149),c=e(7435117457),r=e(7958934443),a=e(3037015781),i=e(8170643398),l=e(9262712126),m=e(4562579337),_=e(2671211451),h=e(9391594207),d=e(5761207079),f=e(8276911661),v=e(3146663623);function u(A){const{className:C,forceRealName:T=!1,id:I,member:M,truncate:D=!1,truncateWidth:O,withTruncationTooltip:S=!1,"data-qa":R="inline_member_entity",isBold:U=!0,showAppOrBotBadge:P,isUserHidden:L=!1}=A,F=o()(C,"c-inline_member_entity"),x=(0,m.A)(M),b=(0,i.v3)(M),k=(0,i.oy)(M),B=(0,a.lv)(M),W=(0,a.mX)(M),K=(0,l.wg)(M),H=(0,l.Fh)(M);let z;T||!H?z=K:z=H;const Q=k?c.pI.dim:void 0;return t.createElement(_.A,{className:F,"data-qa":R,"data-member-id":I||(M==null?void 0:M.id),style:Q,truncate:D,truncateWidth:O,withTruncationTooltip:S,primaryContent:t.createElement("span",{className:"c-inline_member_entity__content"},t.createElement(r.A,{isBold:U,name:z,inline:!0,"data-qa":"inline_member_entity__name",isAppOrBot:x,isWorkflowBot:b,isDeleted:k,isNonExistent:B,isUnknown:W,showAppOrBotBadge:P,isUserHidden:L}))})}E(u,"InlineMemberEntity"),u.displayName="InlineMemberEntity";function g(A,C){let{forceRealName:T,member:I,id:M}=C;const D=I||(0,f.nv)(A,M);return{member:D??void 0,forceRealName:(0,s.A)(T)?T:(0,v.E)(A),isUserHidden:D&&(0,d.a)(A,D.id)}}E(g,"mapStateToProps");const p=(0,h.N)(g)(u)},5585462770:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>F,lP:()=>U});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7435117457),c=e(3150724727),r=e(605958036),a=e(7958934443),i=e(9283547879),l=e(6916052175),m=e(3037015781),_=e(3929724715),h=e(8170643398),d=e(9262712126),f=e(3534324375),v=e(4562579337),u=e(1464713483),g=e(51460783),p=e(161084047),A=e(3534100833),C=e(8683010724),T=e(2809903252),I=e(82287009),M=e(9391594207),D=e(9101533895),O=e(5761207079),S=e(8276911661);function R(){return R=Object.assign||function(x){for(var b=1;b<arguments.length;b++){var k=arguments[b];for(var B in k)Object.prototype.hasOwnProperty.call(k,B)&&(x[B]=k[B])}return x},R.apply(this,arguments)}E(R,"_extends");const U={right:"right",bottom:"bottom"};function P(x){const{className:b,id:k,invert:B=!1,member:W,memberPrimaryName:K,memberSecondaryName:H,secondaryContent:z,secondaryContentPosition:Q=U.bottom,subtext:q,showSubtext:$=!0,showAvatar:le=!0,showDraftIcon:te=!1,showPresence:ce=!0,showStatus:me=!0,showTooltip:_e=!0,showAppOrBotBadge:Ae=!0,isDeactivated:ye=!1,useShortMode:oe,showHoverCard:ee=!1,forwardedRef:V,"data-sk":w="medium_member_entity","data-qa":Y="medium_member_entity",isUserHidden:G=!1,noStatusText:Z=!1,showBadgeOnTextTruncation:se,description:ae=""}=x,re=(0,v.A)(W),pe=(0,h.v3)(W),de=(0,h.oy)(W),ie=(0,h.fy)(W),he=(0,h.hh)(W),ve=(0,l.u)(W),ge=(0,m.lv)(W),ke=(0,m.mX)(W),Ne=t.createElement(a.A,{"data-qa":"member-entity__primary-name",name:K,invert:B&&!ye,isAppOrBot:re,isWorkflowBot:pe,showAppOrBotBadge:Ae,isDeleted:de,isSelf:ie,isNonExistent:ge,isUnknown:ke,isUserHidden:G,showBadgeOnTextTruncation:se,isAgent:ve}),We=(0,I.yN)({memberId:k,children:Ne}),Oe=!G&&t.createElement(A.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},H),be=W&&t.createElement(p.A,{className:"c-member__title","data-qa":"member-entity__title"},(0,h.rN)(W)),Ke=!de&&!he&&t.createElement(i.Ay,{memberId:k,className:"c-member__presence",invert:B&&!ye,"data-qa":"member-entity__presence",inline:!1}),Fe=t.createElement(r.A,{memberId:k,tooltip:_e,animated:oe,className:"c-member__current-status c-member__current-status--medium","data-qa":"member-entity__status",noText:Z}),J=Q===U.bottom&&z?t.createElement(g.A,{"data-qa":"member-entity__metadata"},z):null,ne=t.createElement("span",{className:"c-member__primary_content__description"},t.createElement(T.A,{lines:1,withTooltip:!0,breakWords:!1},ae)),je=t.createElement("span",{className:"c-member__primary_content"},ee?We:Ne,ce&&Ke,!oe&&Oe,me&&Fe,ae&&ne),at=de||ye?s.pI.dim:void 0,nt=o()(b,"c-member","c-member--medium",{"c-member--with-presence":ce}),Ge=(0,t.useCallback)(Pe=>le?te?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(C.A,{name:"edit"})):t.createElement(c.Ay,R({},Pe,{size:s.RG.medium,userId:k,"data-qa":"member-entity__avatar",isInteractive:!1})):null,[le,te,k]);return t.createElement(u.A,{avatar:Ge,className:nt,size:"medium",style:at,text:je,subtext:$&&(q||be),metadata:!de&&J,"data-qa":Y,"data-sk":w,forwardedRef:V})}E(P,"MediumMemberEntity"),P.displayName="MediumMemberEntity";function L(x,b){let{id:k,isDraftContext:B,member:W,showStatus:K}=b;const H=W||(0,S.nv)(x,k);let z=!1;if(B&&k){const q=(0,D.Pu)(x,k);z=!!(q&&(0,_.yc)(x,q.id))}const Q=k||(H==null?void 0:H.id);return{id:Q,member:H??void 0,memberPrimaryName:(0,f.sE)(x,H,!1,!1),memberSecondaryName:(0,d.Mu)(x,H),showDraftIcon:z,showStatus:K&&(0,h.aH)(H),isUserHidden:!!Q&&(0,O.a)(x,Q)}}E(L,"mapStateToProps");const F=(0,M.N)(L)(P)},5506656361:(N,y,e)=>{"use strict";e.d(y,{A:()=>f});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7435117457),c=e(5585462770),r=e(9438480351),a=e(2828836153),i=e(2762351398),l=e(9391594207),m=e(8276911661);function _(){return _=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var g=arguments[u];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(v[p]=g[p])}return v},_.apply(this,arguments)}E(_,"_extends");let h=E(class extends t.Component{render(){const{className:u,isActive:g=!1,isDeactivated:p=!1,isDisabled:A=!1,secondaryContent:C,secondaryContentPosition:T=c.lP.right,showUnreadCount:I=!1,showStatus:M,showPresence:D,useShortMode:O=!1,showHoverCard:S,forwardedRef:R,unreadCount:U,ariaLabel:P}=this.props,L=I&&U&&t.createElement(i.Ay,{className:"c-member__unread_count",count:U,style:i.rY.red}),F=C&&t.createElement("span",{className:"c-member__details","data-qa":"member-entity__secondary-content"},C),x=(T===c.lP.right&&F||L)&&t.createElement("span",{className:"c-member__secondary_content"},T===c.lP.right&&F,L),b=o()(u,"c-medium_member_list_entity");let k;return g?A||p?k=s.pI.highlightDim:k=s.pI.highlightLight:(A||p)&&(k=s.pI.dim),t.createElement(a.A,{"data-qa":"medium_member_list_entity",className:b,style:k,primaryContent:t.createElement(c.Ay,_({},this.props,{secondaryContent:T===c.lP.right?null:C,showStatus:M,showPresence:D,showHoverCard:S,useShortMode:O,forwardedRef:R})),secondaryContent:x,size:"medium",ariaLabel:P})}},"MediumMemberListEntity");h.displayName="MediumMemberListEntity";function d(v,u){let{id:g}=u;const p=(0,m.nv)(v,g);return{member:p??void 0,unreadCount:(0,r.A)(v,p)}}E(d,"mapStateToProps");const f=(0,l.N)(d,null,null,{forwardRef:!0})(h)},6228854066:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>z,Cg:()=>B});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3750057149),c=e(6471059816),r=e(7435117457),a=e(3150724727),i=e(4743059565),l=e(7958934443),m=e(2326217668),_=e(9283547879),h=e(5537045526),d=e(6916052175),f=e(5624319675),v=e(3037015781),u=e(3929724715),g=e(8170643398),p=e(9438480351),A=e(9262712126),C=e(4562579337),T=e(5096647761),I=e(6536982570),M=e(5273017660),D=e(3534100833),O=e(2762351398),S=e(8683010724),R=e(9391594207),U=e(9101533895),P=e(4761125736),L=e(5761207079),F=e(8276911661),x=e(3146663623);function b(){return b=Object.assign||function(Q){for(var q=1;q<arguments.length;q++){var $=arguments[q];for(var le in $)Object.prototype.hasOwnProperty.call($,le)&&(Q[le]=$[le])}return Q},b.apply(this,arguments)}E(b,"_extends");const k=20,B=16,W=new c.Ay("members");function K(Q){const{className:q,id:$,invert:le=!1,member:te,teamId:ce,showAvatar:me=!0,showDraftIcon:_e=!1,showPresence:Ae=!0,showBadge:ye=!0,showStatus:oe=!0,showTooltip:ee=!0,showUnreadCount:V=!1,showDeactivated:w=!0,showAppOrBotBadge:Y=!0,isDeactivated:G=!1,unreadCount:Z,useShortMode:se=!1,forceRealName:ae=!1,tokenSize:re,truncateStatus:pe=!1,withTruncationTooltip:de,"data-sk":ie="small_member_entity","data-qa":he="small_member_entity",isBold:ve,experimentSidebarPrefsApplyToMenusGroupOn:ge=!1,isUserHidden:ke=!1,hasNoAccess:Ne=!1,forceAvatarPresenceIndicator:We=!1,experimentAgentforceGroupOn:Oe=!1,avatarSize:be=r.RG.small,useAtSymbolForDisplayName:Ke=!1,useSmallerDisplayName:Fe=!1}=Q,J=(0,C.A)(te),ne=(0,g.v3)(te),je=(0,g.oy)(te),at=(0,T.g)(te),nt=(0,g.fy)(te),Ge=(0,g.hh)(te),Pe=(0,d.u)(te),Le=(0,v.lv)(te),ze=(0,v.mX)(te),Me=Le||ze,Ce=le&&!G,Qe=w&&je,Be=(0,A.wg)(te),we=(0,A.Fh)(te);let xe,Se;ke?(xe=W.t("Name hidden"),Se=W.t("Name hidden")):ae||!we?(xe=Be,Se=we?`${Ke?"@":""}${we}`:void 0):(xe=we,Se=Be);const Ye=t.createElement(l.A,{"data-qa":"member-entity__primary-name",className:"c-member__member-name",name:xe,invert:Ce,isAppOrBot:J,isWorkflowBot:ne,isDeleted:Qe,isSelf:nt,isNonExistent:Le,isUnknown:ze,withTruncationTooltip:de,isBold:ve,isAgent:Oe&&Pe,showAppOrBotBadge:Y}),ot=!ke&&!Ge&&t.createElement(D.A,{className:o()("c-member__secondary-name",{"c-member__secondary-name--smaller":Fe}),"data-qa":"member-entity__secondary-name"},Se),_t=(0,t.useMemo)(()=>ke||je||Ge?null:t.createElement(_.Ay,{memberId:$||(te==null?void 0:te.id),className:"c-member__presence",invert:Ce,inline:!1}),[ke,je,Ge,$,Ce,te]),pt=(0,t.useCallback)(Bt=>me?ke?t.createElement("span",{className:"c-search_autocomplete__hidden_member_icon "},t.createElement(S.A,{size:"20",name:"user-hide"})):Me?t.createElement(m.A,b({},Bt,{"data-qa":"member-entity__missing",isNonExistent:Le,size:k})):_e?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(S.A,{name:"edit"})):t.createElement(a.Ay,b({},Bt,{"data-qa":"member-entity__avatar",size:be,userId:$,user:te,showBadge:ye,tabIndex:-1,isInteractive:!1,tokenSize:re,hasNoAccess:Ne,showPresence:We})):Ae&&ge?_t:null,[me,$,Le,Me,te,re,_e,ke,_t,Ae,ye,ge,Ne,We,be]),vt=at&&t.createElement(h.A,b({},Q,{"data-qa":"member-entity__team-icon",id:ce,size:B,className:"c-member__team_icon"})),yt=t.createElement(i.A,{memberId:$||"",tooltip:ee,animated:se,className:o()("c-member__current-status","c-member__current-status--small",{overflow_ellipsis:pe}),"data-qa":"member-entity__status"}),Tt=V&&!!Z&&t.createElement(O.Ay,{className:"c-member__unread_count",count:Z,style:Ce?O.rY.white:O.rY.red,"data-qa":"member-entity__mention-badge"}),ft=t.createElement("span",{className:"c-member__primary_content"},Ye,Ae&&!Me&&me&&_t,!se&&ot,oe&&yt),Ct=(vt||Tt)&&t.createElement("span",{className:"c-member__secondary_content"},vt,Tt),At=je&&!le?r.pI.dim:void 0,kt=o()(q,"c-member","c-member--small",{"c-member--with-presence":Ae,"c-member--deleted":je,"c-base_entity--dim":ke});return t.createElement(M.Ay,{avatar:pt,className:kt,text:ft,size:"small",style:At,subtext:Ct,"data-qa":he,"data-sk":ie})}E(K,"SmallMemberEntity"),K.displayName="SmallMemberEntity";function H(Q,q){let{forceRealName:$,member:le,id:te,isDraftContext:ce,showStatus:me,onlyBoldIfUnread:_e,useShortMode:Ae,neverBold:ye}=q;const oe=le||(0,F.nv)(Q,te);let ee;const V=te||(oe==null?void 0:oe.id);V&&(ce||_e)&&(ee=(0,U.Pu)(Q,V));const w=(0,L.a)(Q,V);let Y=!0;w?Y=!!Ae:_e?Y=!!(ee&&(0,u.KJ)(ee)):ye&&(Y=!1);let G;return ce&&(G=!!(ee&&(0,u.yc)(Q,ee.id))),{id:te||(oe==null?void 0:oe.id),member:oe??void 0,teamId:(0,I.Ux)(Q,oe),forceRealName:(0,s.A)($)?$:(0,x.E)(Q),unreadCount:(0,p.A)(Q,oe),showDraftIcon:G,showStatus:me&&(0,g.aH)(oe),isBold:Y,experimentSidebarPrefsApplyToMenusGroupOn:(0,P._Z)(Q,"sidebar_prefs_apply_to_menus")==="on",isUserHidden:w,experimentAgentforceGroupOn:(0,f.mr)(Q)}}E(H,"mapStateToProps");const z=(0,R.N)(H)(K)},5727180841:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7435117457),c=e(6228854066),r=e(2828836153);function a(){return a=Object.assign||function(m){for(var _=1;_<arguments.length;_++){var h=arguments[_];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])}return m},a.apply(this,arguments)}E(a,"_extends");let i=E(class extends t.Component{render(){const{className:_,id:h,isActive:d=!1,isDeactivated:f=!1,isDisabled:v=!1,isDraftContext:u,showAvatar:g,showBadge:p,showPresence:A,showAppOrBotBadge:C,showStatus:T,showTooltip:I,withTruncationTooltip:M,showUnreadCount:D,useShortMode:O,secondaryContent:S,onlyBoldIfUnread:R=!1,forceRealName:U,hasNoAccess:P,forceAvatarPresenceIndicator:L,removePadding:F,avatarSize:x,useAtSymbolForDisplayName:b,useSmallerDisplayName:k}=this.props;let B;return d?v||f?B=s.pI.highlightDim:B=s.pI.highlightDark:(v||f)&&(B=s.pI.dim),t.createElement(r.A,{className:o()(_,"c-small_member_list_entity"),primaryContent:t.createElement(c.Ay,a({id:h,invert:B===s.pI.highlightDark,isDeactivated:f,truncateStatus:!!S,showAvatar:g,showPresence:A,showBadge:p,showAppOrBotBadge:C,useShortMode:O,showStatus:T,showTooltip:I,withTruncationTooltip:M,showUnreadCount:D,isDraftContext:u,onlyBoldIfUnread:R,forceRealName:U,hasNoAccess:P,forceAvatarPresenceIndicator:L,avatarSize:x,useAtSymbolForDisplayName:b,useSmallerDisplayName:k},this.props)),secondaryContent:S,size:"small",style:B,padding:F?s.FK.none:s.FK.normal})}},"SmallMemberListEntity");i.displayName="SmallMemberListEntity";const l=i},7958934443:(N,y,e)=>{"use strict";e.d(y,{A:()=>f});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(4518138713),c=e(6471059816),r=e(6916498058),a=e(9509635375),i=e(5273017660),l=e(9506008067),m=e(4761125736);function _(){return _=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var g=arguments[u];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(v[p]=g[p])}return v},_.apply(this,arguments)}E(_,"_extends");const h=new c.Ay("inline_member");function d(v){const{className:u,multiline:g=!1,inline:p=!1,invert:A=!1,name:C,isSelf:T=!1,isAppOrBot:I=!1,isWorkflowBot:M=!1,showAppOrBotBadge:D=!0,isDeleted:O=!1,isUnknown:S=!1,isNonExistent:R=!1,withTruncationTooltip:U=!1,isBold:P=!0,isUserHidden:L=!1,isChannelFiles:F=!1,isCreator:x=!1,showMemberNameIfHidden:b=!1,showBadgeOnTextTruncation:k,isAgent:B=!1}=v,W=(0,l.d4)(q=>(0,m._Z)(q,"member_name_channel_files_view_two")==="on");let K;if(S||R)K=t.createElement(r.A,{type:R?"non-existent":"unknown","data-qa":"member_name__missing"});else if(L&&!b)K=h.t("Name hidden");else if(F){const q=W?h.rt("Created by {name}",{name:C}):`Created by ${C}`;K=x?q:h.rt("Shared by {name}",{name:C})}else K=C;const H=o()(u,"c-member_name",{"c-member_name--deactivated":O,"c-member_name--inverted":A}),z=P?"strong":"span",Q=(I||M)&&D;return t.createElement(i.CG,_({className:H,multiline:g,inline:p,withTruncationTooltip:U},(0,s.A)(v)),t.createElement(z,{className:o()({"c-member_name__container":Q&&k}),"data-qa":"member_name"},Q&&k?t.createElement("span",{className:"c-member_name__text"},K):K,T&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},h.t("(you)")),O&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},h.t("(deactivated)")),Q&&t.createElement(a.A,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:A,isWorkflow:M,isAgent:B})))}E(d,"MemberName"),d.displayName="MemberName";const f=d},7905172576:(N,y,e)=>{"use strict";e.d(y,{A:()=>Y});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3297051565),c=e.n(s),r=e(7435117457),a=e(3150724727),i=e(1962888617),l=e(7958934443),m=e(2326217668),_=e(3037015781),h=e(8170643398),d=e(3534324375),f=e(4562579337),v=e(9391594207),u=e(8276911661);const g=20,p={id:c().string.isRequired,invert:c().bool,isDeactivated:c().bool,isHidden:c().bool,member:c().object,memberPrimaryName:c().string},A={member:void 0,memberPrimaryName:void 0,invert:!1,isDeactivated:!1,isHidden:!1},C=t.forwardRef((G,Z)=>{const{id:se,invert:ae,member:re,memberPrimaryName:pe,isDeactivated:de,isHidden:ie}=G,he=(0,f.A)(re),ve=(0,h.v3)(re),ge=(0,h.oy)(re),ke=(0,_.lv)(re),Ne=(0,_.mX)(re),We=ke||Ne,Oe=ae&&!de,be=t.createElement(l.A,{"data-qa":"mpim-entity__name",name:pe,invert:Oe,isAppOrBot:he,isWorkflowBot:ve,isDeleted:ge,isNonExistent:ke,isUnknown:Ne});let Ke;We?Ke=t.createElement(m.A,{isNonExistent:ke,size:g}):Ke=t.createElement(a.Ay,{className:"c-small_mpim_entity__member_avatar","data-qa":"mpim-entity__avatar",size:r.RG.small,userId:se,tabIndex:-1,isInteractive:!1});const Fe=o()("c-small_mpim_entity__member",{"c-small_mpim_entity__member--deleted":ge,"c-small_mpim_entity__member--hidden":ie});return t.createElement("div",{className:Fe,"data-id":se,ref:Z},Ke,be)});C.propTypes=p,C.defaultProps=A;function T(G,Z){let{id:se}=Z;const ae=(0,u.nv)(G,se);return{member:ae,memberPrimaryName:(0,d.sE)(G,ae,!1,!1)}}E(T,"mapStateToProps");const I=(0,v.N)(T,null,null,{forwardRef:!0})(C);var M=e(6072832722),D=e(1030162945),O=e(6471059816),S=e(6989432693),R=e(8374895239),U=e(9506008067),P=e(5795074931);const L=new O.Ay("channel_token"),F=10,x=E(G=>{let{memberIds:Z}=G;var se;const ae=(se=(0,U.d4)(P.WR))!==null&&se!==void 0?se:void 0;let re=Z.map((pe,de)=>t.createElement(S.A,{key:pe,userId:pe,isFirst:de===0,isSelf:ae===pe}));return Z.length>F+1&&(re=re.slice(0,F).concat(L.rt("{count} others",{count:Z.length-F}))),t.createElement(t.Fragment,null,(0,R.A)(re))},"TooltipMemberNames");x.displayName="TooltipMemberNames";const b=x;var k=e(3929724715),B=e(8920264989),W=e(5273017660),K=e(2762351398),H=e(2312625946),z=e(2809903252),Q=e(4058658129),q=e(8584282426),$=e(3852424459),le=e(9101533895),te=e(3328068409),ce=e(4761125736),me=e(3998401757),_e=e(832411022);function Ae(){return Ae=Object.assign||function(G){for(var Z=1;Z<arguments.length;Z++){var se=arguments[Z];for(var ae in se)Object.prototype.hasOwnProperty.call(se,ae)&&(G[ae]=se[ae])}return G},Ae.apply(this,arguments)}E(Ae,"_extends");const ye=r.RG.small,oe={className:c().string,"data-qa":c().string,"data-sk":c().string,mpim:c().object,id:c().string,invert:c().bool,isDeactivated:c().bool,memberIds:c().array,isActive:c().bool,clientTheme:c().oneOf(["light","dark"]),matchData:c().array,onlyBoldIfUnread:c().bool,showUnreadBadge:c().bool,unreadCount:c().number,shortenTooltipContents:c().bool,showAvatar:c().bool,showMemberList:c().bool,memberList:c().string,experimentSidebarPrefsApplyToMenusGroupOn:c().bool,tooltipPosition:c().string,disableTooltip:c().bool,experimentMpdmOmniswitcherDisplayTopicGroupOn:c().bool,isOmniswitcherContext:c().bool},ee={className:void 0,"data-qa":void 0,"data-sk":"small_mpim_entity",mpim:void 0,memberList:null,id:void 0,invert:!1,isDeactivated:!1,memberIds:[],isActive:!1,clientTheme:"light",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,unreadCount:0,shortenTooltipContents:!1,showAvatar:!0,showMemberList:!1,experimentSidebarPrefsApplyToMenusGroupOn:!1,tooltipPosition:"top-right",disableTooltip:!1,experimentMpdmOmniswitcherDisplayTopicGroupOn:!1,isOmniswitcherContext:!1};function V(G){let{className:Z,"data-qa":se,"data-sk":ae,memberList:re,id:pe,invert:de,isDeactivated:ie,mpim:he,memberIds:ve,isActive:ge,clientTheme:ke,matchData:Ne,onlyBoldIfUnread:We,showUnreadBadge:Oe,showMemberList:be,unreadCount:Ke,shortenTooltipContents:Fe,showAvatar:J,experimentSidebarPrefsApplyToMenusGroupOn:ne,tooltipPosition:je,disableTooltip:at,experimentMpdmOmniswitcherDisplayTopicGroupOn:nt,isOmniswitcherContext:Ge}=G;const Pe=(0,_.lv)(he),Le=(0,_.mX)(he),ze=(0,k.N4)(he),Me=pe||(he==null?void 0:he.id),Ce=(0,k.cU)(he),Qe=nt&&Ce&&Ge,Be=Ce&&t.createElement(M.A,{text:Ce,className:"c-medium_mpim_entity__topic",emojiSize:D.lw.SMALL,noJumbomoji:!0,noHighlights:!0}),we=de&&!ie,xe=Oe&&!!Ke&&t.createElement(K.Ay,{className:"c-member__unread_count",count:Ke,style:we?"white":"red","data-qa":"member-entity__mention-badge"}),Se=xe&&t.createElement("span",{className:"c-member__secondary_content"},xe),Ye=(0,t.useCallback)(yt=>{if(Pe||Le)return t.createElement(m.A,Ae({},yt,{isNonExistent:Pe,size:ye,invert:we}));const Tt=ve==null?void 0:ve[0];return t.createElement("span",{className:o()("c-small_mpim_entity__mpim_avatars","c-small_mpim_entity__count",Z,{"c-small_mpim_entity__mpim_avatars--inverted":we,[`c-small_mpim_entity__mpim_avatars--${ke}`]:ke!=="light"})},J&&t.createElement(a.Ay,{userId:Tt,className:"c-small_mpim_entity__mpim_avatars_mpim1",size:14,isInteractive:!1,"data-qa":"small-mpim-entity-mpim-avatar"}),t.createElement("div",{className:o()("c-small_mpim_entity__mpim_counter",{"c-small_mpim_entity__mpim_counter--count-only":!J&&ne}),"data-qa":"small-mpim-entity-mpim-counter"},t.createElement("div",{"aria-hidden":!0,className:"c-small_mpim_entity__mpim_counter_inner"},ze)))},[Z,ke,Pe,Le,ze,we,ve,J,ne]),ot=(0,t.useCallback)(()=>{let yt;return Fe?yt=t.createElement(b,{memberIds:ve}):yt=ve.map(Tt=>t.createElement(I,{id:Tt,key:Tt})),t.createElement(t.Fragment,null,yt)},[ve,Fe]);let _t=ie?r.pI.dim:null;we&&(_t=r.pI.highlightDark);const pt=o()(Z,{"c-small_mpim_entity__with_member_list":be}),vt=t.createElement(W.Ay,{"data-id":Me,"data-qa":se,"data-sk":ae,avatar:Ye,className:pt,size:Qe?"medium":"small",style:_t,subtext:Qe?Be:Se,text:t.createElement(t.Fragment,null,t.createElement(i.A,{mpim:he,className:"c-small_mpim_entity__primary_name",invert:we,matchData:Ne,onlyBoldIfUnread:We}),be&&t.createElement("div",{className:"c-small_mpim_entity__member_list"},t.createElement(z.A,{lines:1},re)))});return at?vt:t.createElement(H.Ay,{tip:ot(),tipClassName:Fe?"":"c-small_mpim_entity__tooltip",position:je,shouldForceVisible:ge,shouldOnlyShowWhenTruncated:ge,zIndex:"above_fs"},t.createElement("div",null,vt))}E(V,"SmallMpimEntity"),V.displayName="SmallMpimEntity",V.propTypes=oe,V.defaultProps=ee;function w(G,Z){let{id:se,mpim:ae,matchData:re}=Z;const pe=ae||(0,le.OL)(G,se),de=(0,$.B)(G,se),ie=(0,me.x)(G,_e.Jx.OMNISWITCHER),he=(0,ce._Z)(G,"sidebar_prefs_apply_to_menus")==="on",ve=(0,q.M)({state:G,mpim:pe,matchData:re}),ge=(0,te.to)(G),ke=(0,k.kR)(pe,de),Ne=(0,B.Xx)(G,pe,ve,!0),We=(0,Q.z)(G);return{memberList:Ne,mpim:pe,experimentSidebarPrefsApplyToMenusGroupOn:he,memberIds:ve,clientTheme:ge,unreadCount:ke,experimentMpdmOmniswitcherDisplayTopicGroupOn:We,isOmniswitcherContext:ie}}E(w,"small_mpim_entity_mapStateToProps");const Y=(0,v.N)(w)(V)},1962888617:(N,y,e)=>{"use strict";e.d(y,{A:()=>u});var t=e(3134334389),n=e(9867500491),o=e(1703559452),s=e(8064950432),c=e(5000515034),r=e(3037015781),a=e(3929724715),i=e(8920264989),l=e(5273017660),m=e(8584282426),_=e(9391594207),h=e(8276911661);const d=4;function f(g){let{className:p,mpim:A,multiline:C=!1,name:T,invert:I=!1,isAnyMemberUnknown:M=!1,inline:D=!1,onlyBoldIfUnread:O=!1}=g;const S=(0,r.mX)(A),R=(0,r.lv)(A),U=(0,a.N4)(A),P=!O||(0,a.KJ)(A);let L=T;return S||R||M?L=(0,n.A)(U||d).map(F=>t.createElement(c.A,{key:F,className:"c-mpim_entity__missing_text",isNonExistent:R,size:"random",invert:I,dataQa:"mpim_name_missing"})):(L=t.createElement(s.a,{channel:A,name:T??""}),L=P?t.createElement("strong",{"data-qa":"mpim_name"},L):t.createElement("span",{"data-qa":"mpim_name"},L)),t.createElement(l.CG,{className:p,multiline:C,breakWords:!1,inline:D},L)}E(f,"MpimName"),f.displayName="MpimName";const v=E((g,p)=>{let{mpim:A,matchData:C,equalizeMembersListToMatchData:T=!1}=p;const I=(0,m.M)({state:g,mpim:A,matchData:C,equalizeMembersListToMatchData:T}),M=I&&I.map(D=>(0,h.nv)(g,D));return{name:(0,i.Xx)(g,A,I),isAnyMemberUnknown:(0,o.A)(M,r.GU)}},"mapStateToProps"),u=(0,_.N)(v)(f)},276274568:(N,y,e)=>{"use strict";e.d(y,{A:()=>A});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6471059816),c=e(7435117457),r=e(4192943401),a=e(6839188756),i=e(2546018671),l=e(5273017660),m=e(8683010724),_=e(9391594207),h=e(8847766420),d=e(1670069836),f=e(1835177371);function v(){return v=Object.assign||function(C){for(var T=1;T<arguments.length;T++){var I=arguments[T];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(C[M]=I[M])}return C},v.apply(this,arguments)}E(v,"_extends");const u=new s.Ay("user_group_entity");function g(C){let{className:T,invert:I,showDescription:M=!0,userGroup:D,userGroupTeamName:O,isDeactivated:S}=C;const R=S||!(0,i.V1)(D),U=(0,t.useCallback)(B=>t.createElement("span",{className:"margin_right_50"},t.createElement(m.A,v({},B,{name:"user-groups",size:"18"}))),[]);if((0,i.t8)(D)||(0,i.QR)(D)){const B=o()("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":I});return t.createElement("div",{className:"c-small_user_group__missing"},t.createElement("div",{className:B},t.createElement(m.A,{name:"user-groups",size:"18"})),t.createElement(r.A,{type:(0,i.t8)(D)?"unknown":"non-existent",invert:I}))}const P=(0,i.ue)(D),L=t.createElement("span",{className:"c-user_group__name c-small_user_group__name"},P),F=(0,i.Br)(D),x=O&&t.createElement(t.Fragment,null,"\xA0\xA0",t.createElement("span",{className:"c-small_user_group__team"},O)),b=t.createElement(t.Fragment,null,t.createElement("span",{className:"c-small_user_group__count"},"(",u.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:F}),")"),x);let k;return R?k=c.pI.dim:I&&(k=c.pI.highlightDark),t.createElement(l.Ay,{avatar:U,className:T,size:"small",style:k,text:t.createElement(l.CG,null,L,M&&b),"data-usergroup-id":D.id})}E(g,"SmallUserGroupEntity"),g.displayName="SmallUserGroupEntity";const p=E((C,T)=>{let{id:I,userGroup:M}=T;const D=M||(0,f.lJ)(C,I),O=(0,h.ZT)(C),S=(0,i.$Q)(D),R=S!==O&&(0,a.F1)((0,d._J)(C,S));return{userGroup:D,userGroupTeamName:R}},"mapStateToProps"),A=(0,_.N)(p)(g)},7360333171:(N,y,e)=>{"use strict";e.d(y,{E:()=>c,a:()=>r});var t=e(8583036784),n=e(9936232041),o=e(6304789565),s=e(9609912577);const c=(0,o.Ay)("Opens the AddCustomEmojiModal for importing a custom emoji",(a,i,l)=>{let{emojiName:m,emojiUrl:_}=l;var h;a((0,s.A)({emojiNameSuggestion:m&&((h=(0,n.A)(m))===null||h===void 0?void 0:h.name),emojiUrl:_}))});c.meta={name:"createThunk",key:"createThunkopenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal for importing a custom emoji"};const r=(0,o.Ay)("Opens the AddCustomEmojiModal if an emoji can be imported",(a,i,l)=>{const m=i(),{event:_,emojiName:h,emojiUrl:d}=l;d&&(0,t.LU)(m,d,h)&&(_==null||_.preventDefault(),_==null||_.stopPropagation(),a(c(l)))});r.meta={name:"createThunk",key:"createThunkmaybeOpenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal if an emoji can be imported"}},5371346921:(N,y,e)=>{"use strict";e.d(y,{K:()=>r});var t=e(3134334389),n=e(6471059816),o=e(8583036784),s=e(8683010724);const c=new n.Ay("import-external-emoji");function r(a){let{emojiUrl:i,emojiName:l}=a;return(0,o.tJ)(i,l)?t.createElement("div",{className:"margin_top_50"},t.createElement(s.A,{name:"right-click",inline:!0,size:"18"}),t.createElement("span",{className:"margin_left_25"},c.t("Right click to add to your organization"))):null}E(r,"ImportExternalEmojiTooltipInfo"),r.displayName="ImportExternalEmojiTooltipInfo"},8583036784:(N,y,e)=>{"use strict";e.d(y,{$N:()=>L,LU:()=>D,pg:()=>S,tJ:()=>O});var t=e(9392104102),n=e(3502457281),o=e(2757639362),s=e(6457401668),c=e(5757070316),r=e(6839188756),a=e(317660850),i=e(6783791506),l=e(4921059838),m=e(9936232041),_=e(2384831516),h=e(4813703725),d=e(6790819894),f=e(9506008067),v=e(5795074931),u=e(7606781622),g=e(9608713960),p=e(1670069836);const A=E(F=>{var x;return Array.isArray((x=F)===null||x===void 0?void 0:x.elements)},"hasElements"),C=E((F,x)=>(0,n.Ay)(F.emojiName,x.emojiName),"emojiNameSort"),T=new Set(["black_square","bowtie","cubimal_chick","dusty_stick","glitch_crab","piggy","pride","shipit","slack_call","slack","squirrel","thumbsup_all","white_square","simple_smile"]);function I(F){var x;const b=(x=(0,m.A)(F))===null||x===void 0?void 0:x.name;return!!b&&T.has(b)}E(I,"isBuiltInEmoji");function M(F,x,b){return decodeURIComponent(x).includes((0,o.w)())?!1:!(b&&((0,l.A)(F,b)||I(b)))}E(M,"isCustomEmoji");const D=(0,_.Mz)((F,x,b)=>{if(!(x&&(0,v.TZ)(F)&&M(F,x,b)&&(0,a.D)(F)))return!1;const B=(0,p.Yc)(F);var W;const K=(W=B==null?void 0:B.id)!==null&&W!==void 0?W:"",H=(0,r.Ic)(B);return!!H&&x.indexOf((0,r.k7)(K,H))===-1&&x.indexOf(K.slice(1))===-1});D.meta={name:"createSelector",key:"createSelectorcanUserImportEmoji",description:(F,x,b)=>{if(!(x&&(0,v.TZ)(F)&&M(F,x,b)&&(0,a.D)(F)))return!1;const B=(0,p.Yc)(F);var W;const K=(W=B==null?void 0:B.id)!==null&&W!==void 0?W:"",H=(0,r.Ic)(B);return!!H&&x.indexOf((0,r.k7)(K,H))===-1&&x.indexOf(K.slice(1))===-1}};function O(F,x){return(0,f.d4)(b=>D(b,F,x))}E(O,"useCanImportThisEmoji");function S(F){return(0,f.d4)(x=>F.find(b=>D(x,b==null?void 0:b.url,b==null?void 0:b.name)))}E(S,"useFindFirstImportEmojiFromArray");function R(F,x){for(const b of x||[])(0,i.E)(b)?b.display_url&&F.set(b.display_url,{emojiName:b.name,emojiUrl:b.display_url}):A(b)&&R(F,b.elements)}E(R,"collectMessageEmojis");function U(F,x){for(const{name:b,url:k}of x||[])k&&F.set(k,{emojiName:b,emojiUrl:k})}E(U,"collectMessageReactjis");const P=(0,d.F)((F,x)=>x,(F,x)=>(0,g.bk)(F,(0,c.J)(x)),(F,x)=>{const b=new Map;return U(b,x),R(b,F.blocks),[...b.values()].sort(C)}),L=(0,h.eI)((F,x)=>{let{channelId:b,ts:k}=x;if(!(0,a.D)(F)||!(0,v.TZ)(F))return t.Ml;const B=(0,u.Ld)(F,b,k);return!B||(0,s.aK)(B)?t.Ml:P(F,B).filter(W=>{let{emojiName:K,emojiUrl:H}=W;return D(F,H,K)})})},6828699058:(N,y,e)=>{"use strict";e.d(y,{A:()=>R});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(6968234170),r=e(6228854066),a=e(4031325387),i=e(4088523593),l=e(8822892075),m=e(8170643398),_=e(9464746668),h=e(9262712126),d=e(8739505998),f=e(2312625946),v=e(82287009),u=e(6471059816),g=e(4096483543),p=e(4327331459),A=e(9506008067),C=e(5795074931),T=e(3328068409),I=e(5761207079),M=e(8276911661);function D(){return D=Object.assign||function(U){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(U[F]=L[F])}return U},D.apply(this,arguments)}E(D,"_extends");const O=new u.Ay("members"),S=E(U=>{let{id:P,fallback:L,noHighlights:F,noLinking:x,onClick:b,showTooltip:k,clogLinkClick:B,className:W,tabIndex:K=0,ariaHidden:H,supressLinkColors:z,supressMentionAtSymbol:Q,forceRealNames:q,alwaysDisplayAsLink:$}=U;const le=(0,n.wA)(),te=(0,A.d4)(T.to),ce=(0,A.d4)(C.WR),me=(0,A.d4)(pe=>(0,M.nv)(pe,P)),_e=P===ce;let Ae=q?(0,h.wg)(me):(0,h.Gt)(me),ye=(0,m.t8)(me),oe=(0,m.QR)(me),ee=x;const V=(0,A.d4)(pe=>(0,_.A)(pe,me));oe&&!(0,p.A)(P)&&(Ae=P,ye=!1,oe=!1,ee=!0);const w=(0,A.d4)(pe=>(0,I.a)(pe,me.id)),Y=(0,t.useCallback)(pe=>{pe.preventDefault(),B==null||B({link_type:"user"}),(0,f.Ws)(),le((0,i.n)({e:pe,navProps:(0,l.Fo)({memberId:P})})),b&&b(pe,P)},[le,P,b,B]),G=`${Q?"":"@"}${Ae||L}`,Z=s()("c-member_slug",W,`c-member_slug--${te}`,{"c-member_slug--link":$||!ee,"c-member_slug--mention":_e&&!F,"c-member_slug--grey":z}),se=(0,t.useMemo)(()=>t.createElement(r.Ay,{id:P,invert:!0,showAvatar:!0,showPresence:!0,forceRealName:!0}),[P]),ae=(0,t.useMemo)(()=>(0,g.A)()?{"data-stringify-type":"mention","data-stringify-id":P,"data-stringify-label":G}:{"data-stringify-text":`@${P}`},[P,G]),re=t.useMemo(()=>t.createElement(d.A,D({className:Z,href:`/team/${P}`,"data-member-id":P,"data-member-label":G},ae,{onClick:Y,tabIndex:K,"aria-hidden":H}),G),[Z,G,P,ae,Y,K,H]);return P?ye?t.createElement(a.A,{type:"unknown"}):oe?t.createElement(a.A,{type:"non-existent"}):w?k?t.createElement(f.Ay,{tip:O.t("You\u2019ve hidden this person"),tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",null,t.createElement(c.A,null))):t.createElement(c.A,null):ee?t.createElement("span",{className:Z},G):k?b?t.createElement(f.Ay,{tip:se,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",{dir:"ltr"},re)):(0,v.yN)({memberId:P,serviceId:V,children:re}):re:null},"MemberSlug");S.displayName="MemberSlug";const R=t.memo(S)},516467206:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(5113778506);const n=t.A},5113778506:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6471059816),c=e(8076829876),r=e(5000515034),a=e(8683010724),i=e(2312625946);const l=new s.Ay("channel_token"),m=E(h=>{let{type:d=c.A.Unknown,subtler:f=!1,size:v=c.o.Small,width:u="random",invert:g=!1,showHash:p=!0,showTooltip:A=!0,omitNonExistentTooltip:C=!1}=h;const T=o()("c-missing_channel",{"c-missing_channel--unknown":d===c.A.Unknown,"c-missing_channel--nonexistent":d===c.A.Nonexistent,"c-missing_channel--subtler":f,"c-missing_channel--medium":v===c.o.Medium,"c-missing_channel--unknown_inverted":d===c.A.Unknown&&g,"c-missing_channel--non_existent_inverted":d===c.A.Nonexistent&&g}),I=o()("c-missing_channel--medium_hash",{"c-missing_channel--subtler":f});let M;if(A&&(d===c.A.Unknown?M=l.t("Loading\u2026",{fallbackHash:"b04ba49f848624bb97ab094a2631d2ad74913498",fallbackHashNs:"channel_token"}):d===c.A.Nonexistent&&(M=l.t("You don\u2019t have access to this channel (ex. it\u2019s private or in a workspace you\u2019re not a part of), so its name isn\u2019t shown",{fallbackHash:"b63975b75ce4c6d6e1e8b8057209fc25f351bbcf"}))),d===c.A.Nonexistent){const D=t.createElement("span",{className:"c-missing_channel--private"},t.createElement(a.A,{inline:!0,name:"lock"}),l.t("private channel"));return C?D:t.createElement(i.Ay,{tip:M},D)}return v===c.o.Medium?t.createElement("div",null,t.createElement("div",{className:"c-missing_channel--medium-top"},p&&t.createElement("span",{className:I},t.createElement(a.A,{inline:!0,name:"channel"})),t.createElement(r.A,{tooltip:M,isNonExistent:!1,size:u,className:T})),t.createElement(r.A,{tooltip:M,isNonExistent:!1,size:u,className:T})):t.createElement(r.A,{tooltip:M,isNonExistent:!1,size:u,className:T})},"MissingChannel");m.displayName="MissingChannel";const _=t.memo(m)},1152360252:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(2326217668);const n=t.A},2326217668:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(8076829876);const c=E(a=>{let{className:i,isNonExistent:l=!1,size:m,subtler:_=!1,invert:h=!1,dataQa:d}=a;const{Unknown:f,Nonexistent:v}=s.A,u=l?v:f,g=(0,t.useMemo)(()=>({height:m,width:m}),[m]);return t.createElement("span",{className:o()(i,"c-missing_icon",`c-missing_icon--${u}`,{"c-missing_icon--unknown_inverted":u===f&&h,"c-missing_icon--non_existent_inverted":u===v&&h,"c-missing_icon--subtler":_}),style:g,"data-qa":d})},"MissingIcon");c.displayName="MissingIcon";const r=c},4031325387:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(6916498058);const n=t.A},6916498058:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(6471059816),o=e(8076829876),s=e(5000515034);const c=new n.Ay("member_token"),{Unknown:r,Nonexistent:a}=o.A,i=E(m=>{let{type:_=r,subtler:h=!1,className:d,"data-qa":f}=m;const v=_===r?c.t("Loading\u2026"):c.t("Private user info");return t.createElement(s.A,{className:d??"",isNonExistent:_===a,subtler:h,tooltip:v,"data-qa":f})},"MissingMember");i.displayName="MissingMember";const l=t.memo(i)},4192943401:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(6471059816),o=e(8076829876),s=e(5000515034);const c=new n.Ay("user_group_token"),{Unknown:r,Nonexistent:a}=o.A,{Small:i,Medium:l}=o.o,m=E(d=>{let{invert:f=!1,size:v=i,type:u=r,subtler:g=!1}=d;const p=u===r?c.t("Loading\u2026",{fallbackHash:"b04ba49f848624bb97ab094a2631d2ad74913498"}):c.t("Private user group info");if(v===l){const A="\xA0\xA0\xB7\xA0\xA0";return t.createElement("div",{className:"p-browse_page_user_group_entity--missing"},t.createElement("div",null,t.createElement(s.A,{tooltip:p,isNonExistent:u===a,size:"small",invert:f})," ",t.createElement(s.A,{tooltip:p,isNonExistent:u===a,size:"small",invert:f})),t.createElement("div",null,t.createElement(s.A,{tooltip:p,isNonExistent:u===a,size:"small",invert:f}),A,t.createElement(s.A,{tooltip:p,isNonExistent:u===a,size:"large",invert:f})))}return t.createElement(s.A,{tooltip:p,isNonExistent:u===a,size:"random",subtler:g,invert:f})},"MissingUserGroup");m.displayName="MissingUserGroup";const h=m},3270738832:(N,y,e)=>{"use strict";e.d(y,{i:()=>l,m:()=>h});var t=e(3134334389),n=e(6471059816),o=e(4980558152),s=e(9236644324),c=e(9391594207);const r=new n.Ay("message"),a={code:"code",codeBlock:"codeBlock"};function i(d){let{children:f,blockType:v,...u}=d,g;const p=t.Children.only(f),A=t.cloneElement(p,{...u,ref:T=>{T&&(g=T)}}),C=(0,t.useCallback)(()=>[{label:v==="codeBlock"?r.t("Copy this code block"):r.t("Copy this code"),click:()=>g&&(0,s.x3)(g.innerText)}],[v,g]);return t.createElement(o.A,{getTemplate:C},A)}E(i,"BaseCopyCodeBlockContextMenuTrigger"),i.displayName="BaseCopyCodeBlockContextMenuTrigger";const l=(0,c.N)(()=>({}),()=>({}))(i),m=t.forwardRef((d,f)=>{let{children:v,...u}=d;const g=t.Children.only(v);return t.cloneElement(g,{...u,ref:f,onMouseDown:_})});function _(d){if(d.button!==0||d.detail<3)return;d.preventDefault();const f=window.getSelection(),v=document.createRange();f==null||f.removeAllRanges(),v.selectNodeContents(d.currentTarget),f==null||f.addRange(v)}E(_,"selectContentsOnTripleMouseDown");const h=(0,c.N)(()=>({}),()=>({}),null,{forwardRef:!0})(m)},3869429517:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(6122756707),o=e(3771536679),s=e(3098394427),c=e(6954805277),r=e(4841770661);function a(l){let{ts:m,format:_,fallback:h=void 0,link:d=void 0,noLinking:f=!1,do24hrTime:v=!1,timezone:u=void 0}=l;const g=(0,n.wA)(),p=(0,c.Yq)(m,_,{fallbackString:h,do24hrTime:v,timezone:u}),A=(0,t.useCallback)(C=>{d&&p&&(0,o.A)(p,d)&&(g((0,r.A)({text:p,url:d})),C.preventDefault())},[g,p,d]);return!p||p===_?null:!d||f?t.createElement("span",{"data-qa":"mrkdwn_date",className:"c-mrkdwn__date"},p):t.createElement(s.A,{"data-qa":"mrkdwn_date",href:d,maybeOpenSuspiciousLinkDialog:A},p)}E(a,"DateCommand"),a.displayName="DateCommand";const i=t.memo(a)},2836999160:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(4173622771);let c=E(class extends t.PureComponent{render(){const{type:i,noHighlights:l,noLinking:m}=this.props,_=!l,h=(0,s.Y)({type:i,tsfMode:"NORMAL"}),d=h,f=o()("c-mrkdwn__broadcast",{"c-mrkdwn__broadcast--link":!m,"c-mrkdwn__broadcast--mention":_});return t.createElement("span",{className:f,"data-broadcast-id":`BK${i}`,"data-stringify-text":h},d)}},"MrkdwnBroadcastCommand");c.defaultProps={noHighlights:!1,noLinking:!1},c.displayName="MrkdwnBroadcastCommand";const r=c},7048718168:(N,y,e)=>{"use strict";e.d(y,{A:()=>le});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(6818173548),r=e(516467206),a=e(6388117406),i=e(6889316748),l=e(4088523593),m=e(5083570322),_=e(5892132962),h=e(2233365467),d=e(8822892075),f=e(3275490582),v=e(3929724715),u=e(1407713935),g=e(4559887502),p=e(8920264989),A=e(6495946979),C=e(8739505998),T=e(8683010724),I=e(8181621268),M=e(82287009),D=e(5822647621),O=e(6471059816),S=e(9038222488),R=e(6904279885),U=e(5123689463),P=e(9391594207),L=e(3273285825),F=e(9101533895),x=e(8146089001),b=e(4761125736),k=e(1670069836);function B(){return B=Object.assign||function(te){for(var ce=1;ce<arguments.length;ce++){var me=arguments[ce];for(var _e in me)Object.prototype.hasOwnProperty.call(me,_e)&&(te[_e]=me[_e])}return te},B.apply(this,arguments)}E(B,"_extends");const W=new O.Ay("recordchannels"),K={channelName:void 0,className:void 0,fallbackName:void 0,showTooltip:!0,noLinking:!1,isPrivate:!1,isChannelImOrMpim:!1,isRecord:!1,recordChannelIconProps:null,isNonExistent:!1,isFromAnotherTeam:!1,team:null,isMember:!1,isUnknown:!1,clogLinkClick:s.A,mpimMemberNames:[],teamName:"",channelHasNonUniqueName:!1,noTabbableContent:!1,alwaysDisplayAsLink:!1};let H=E(class extends t.PureComponent{async onClick(ce){const{id:me,tabId:_e,experimentBkChannelTabsGroupOn:Ae}=this.props;ce.preventDefault(),ce.stopPropagation();const ye=Ae&&_e?(0,d.id)(me,{tabId:_e}):(0,d.pr)(me);this.props.maybeOpenInSurfaceOrNavigate({e:ce,navProps:ye})}getTooltipContent(){const{id:ce,isRecord:me,isChannelImOrMpim:_e,mpimMemberNames:Ae,teamName:ye,channelHasNonUniqueName:oe,recordLabel:ee}=this.props;return _e?Ae.join(", "):me?t.createElement("div",{className:"c-mrkdwn__record_channel--tooltip"},W.t("{recordLabel} channel ",{recordLabel:ee,recordType:ee}),t.createElement(m.r,{channelId:ce})):t.createElement(t.Fragment,null,t.createElement(c.A,{channelId:ce}),oe&&t.createElement("br",null),oe&&t.createElement("span",{className:"c-member_slug__tooltip_subheader"},ye))}clogLinkClick(){var ce,me;(me=(ce=this.props).clogLinkClick)===null||me===void 0||me.call(ce,{item_id:this.props.id,item_type:"C",link_type:"channel",is_member:this.props.isMember}),this.props.updateChannelLastTrigger({source:"MSG_PANE",objId:this.props.id})}renderChannelHoverCard(){const{id:ce}=this.props;return(0,M.Q$)({channelId:ce,enableButtons:!0})}renderChannelHoverCardTrigger(ce){return t.createElement(i.d,{renderCard:this.renderChannelHoverCard},ce)}render(){const{channelName:ce,className:me,fallbackName:_e,showTooltip:Ae,id:ye,isPrivate:oe,isChannelImOrMpim:ee,isRecord:V,recordChannelIconProps:w,isMember:Y,isNonExistent:G,isUnknown:Z,noLinking:se,isFromAnotherTeam:ae,team:re,noTabbableContent:pe,alwaysDisplayAsLink:de,experimentChannelHoverCardGroupOn:ie}=this.props;if(Z)return ie&&Ae?this.renderChannelHoverCardTrigger(t.createElement(r.A,{showTooltip:!1,type:"unknown"})):t.createElement(r.A,{showTooltip:Ae,type:"unknown"});if(G&&!_e)return ie&&Ae?this.renderChannelHoverCardTrigger(t.createElement(r.A,{showTooltip:!1,type:"non-existent"})):t.createElement(r.A,{showTooltip:Ae,type:"non-existent"});const he=!oe||Y||V;if(!he)return ie&&Ae?this.renderChannelHoverCardTrigger(t.createElement(r.A,{showTooltip:!1,type:"non-existent"})):t.createElement(r.A,{showTooltip:Ae,type:"non-existent"});const ve=(0,D.A)({channelName:ce,fallbackName:_e,isUnknown:Z,isNonExistent:G,includePrefix:!oe&&!ee&&!w}),ge=ve;let ke,Ne;ke=!se&&!G&&he,oe&&(Ne=(0,R.A)({channelName:ce,isPrivate:oe})),ke&&ae&&(ke=!!re);const We=o()("c-mrkdwn__channel c-member_slug",{internal_channel_link:ke,"c-member_slug--link":de||ke},me);if(!ke)return t.createElement("span",{className:We},oe&&t.createElement(T.A,{name:"lock-filled",inline:!0}),ge);let Oe;w?Oe=t.createElement(T.A,B({inline:!0},w)):oe&&(Oe=t.createElement(T.A,{name:"lock-filled",inline:!0}));const be=ae&&re?(0,U.Kk)({team:re,channelId:ye}):(0,U.iu)({channelId:ye}),Ke=be?{href:be,clogLinkClick:this.clogLinkClick}:{},Fe=t.createElement(C.A,B({className:We,"data-channel-name":ve,"data-channel-id":ye,"data-qa":"channel_link","data-stringify-type":"channel","aria-label":Ne,onClick:this.onClick},Ke,pe&&{tabIndex:-1}),Oe,ge);return ie?Ae?t.createElement(a.A,{id:ye},this.renderChannelHoverCardTrigger(Fe)):t.createElement(a.A,{id:ye},Fe):Ae?t.createElement(a.A,{id:ye},t.createElement(I.Ay,{tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--channel"},Fe)):t.createElement(a.A,{id:ye},Fe)}constructor(ce){super(ce),this.clogLinkClick=this.clogLinkClick.bind(this),this.onClick=this.onClick.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this),this.renderChannelHoverCard=this.renderChannelHoverCard.bind(this),this.renderChannelHoverCardTrigger=this.renderChannelHoverCardTrigger.bind(this)}},"BaseMrkdwnChannel");H.defaultProps=K,H.displayName="BaseMrkdwnChannel";function z(te,ce){let{id:me}=ce,_e,Ae,ye,oe,ee,V,w=null;const Y=(0,F.OL)(te,me);let G,Z,se=null,ae=[],re,pe,de;const ie=(0,b._Z)(te,"bk_channel_tabs")==="on",he=(0,S.V)(te);return Y?(_e=(0,p.SB)(te,Y,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1,truncateMpimNames:!0}),ee=(0,u.t8)(Y),Ae=(0,u.Zp)(Y),oe=(0,A.bl)(Y),G=(0,u.JM)(Y),Z=(0,u.rI)(Y),se=(0,_.sc)(Y),ye=(0,u.QR)(Y),V=(0,v.lo)(Y),w=V?(0,k._J)(te,(0,v.bK)(te,Y)):null,ae=(0,v.Zu)(te,me),pe=(0,g.i)((0,F.MS)(te),Y),de=(0,h.jT)(Y),pe&&(re=(0,x.a)(te,{channel:Y}))):ye=!0,{channelName:_e,isPrivate:Ae,isChannelImOrMpim:G,isRecord:Z,recordChannelIconProps:se,isNonExistent:ye,isMember:oe,isUnknown:ee,isFromAnotherTeam:V,team:w,mpimMemberNames:ae,channelHasNonUniqueName:pe,teamName:re,recordLabel:de,experimentBkChannelTabsGroupOn:ie,experimentChannelHoverCardGroupOn:he}}E(z,"mapStateToProps");const Q={updateChannelLastTrigger:L.Z,maybeOpenInSurfaceOrNavigate:l.n},q=(0,P.N)(z,Q),le=(0,f.A)(q(H))},4839279329:(N,y,e)=>{"use strict";e.d(y,{A:()=>k});var t=e(3134334389),n=e(6818173548),o=e(7577304499),s=e(6072832722),c=e(6971099563);function r(B){let{href:W,entity:K}=B;const H=(0,c.Kr)(K);if(H){const z=H.full(),Q=H.compact(),q=H.expanded();if(z)return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},z.title())),t.createElement("div",null,t.createElement("span",{className:"normal"},z.headerSubtitle()," | ",z.headerTitle())),t.createElement("div",{className:"sk_foreground_high_solid break_all"},W));if(Q)return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Q.title())),t.createElement("div",null,t.createElement("span",{className:"normal"},Q.subtitle()," ")),t.createElement("div",{className:"sk_foreground_high_solid break_all"},W));if(q)return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},q.title())),t.createElement("div",null,t.createElement("span",{className:"normal"},q.subtitle()," ")),t.createElement("div",{className:"sk_foreground_high_solid break_all"},W))}return t.createElement("div",{className:"sk_foreground_high_solid break_all"},W)}E(r,"WorkObjectLinkTooltip"),r.displayName="WorkObjectLinkTooltip";var a=e(1191942715),i=e(897219217),l=e(1030162945),m=e(6658490498),_=e(3037015781),h=e(1407713935),d=e(8920264989),f=e(6007206761),v=e(2647703359),u=e(7334104107),g=e(1198382523),p=e(7980641),A=e(3787230964),C=e(7039120302),T=e(675958705),I=e(4138249182),M=e(6457401668),D=e(4821277680),O=e(6471059816),S=e(9391594207),R=e(9101533895),U=e(937317117),P=e(7606781622),L=e(7057004528);const F=new O.Ay("linkify_emails");function x(B){let{href:W,isMsgPermalink:K=!1,msg:H=void 0,channelDisplayName:z,msgSenderName:Q,permalinkChannelId:q=void 0,channel:$=void 0,isFilePermalink:le=!1,file:te=void 0,isWorkObject:ce,entity:me}=B,_e=W.length>500?`${W.substr(0,500)}\u2026`:W;if(_e=K?_e:_e==null?void 0:_e.toLowerCase(),ce&&me)return t.createElement(r,{entity:me,href:W});if(le&&te){const oe=te==null?void 0:te.title,ee=(0,v.Hx)(te);return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},oe)),t.createElement("div",null,t.createElement("span",{className:"normal"},ee," | "),t.createElement("span",{className:"normal"},t.createElement(o.A,{file:te,displaySharedBy:!0,excludeTime:!0}))),t.createElement("div",{className:"sk_foreground_high_solid break_all"},W))}if(!K||(0,_.lv)(H)||(0,u.ow)(H)||(0,f.F)($)||(0,A.A)(H==null?void 0:H.subtype)||(0,M.ys)(H)==="tombstone"||(0,M.s7)(H)||(0,M.Dv)(H)||(0,M.TD)(H)||(0,C.o)(H)||!(0,u.iM)(H)&&!(H!=null&&H.text)){if(W.startsWith("mailto:")){const ee=W.split("mailto:")[1]?W.split("mailto:")[1]:W;return F.rt("Contact {emailAddress} in Slack",{emailAddress:ee})}return t.createElement(t.Fragment,null,_e)}let Ae;if(H&&(0,T.A)(H,!0)&&(0,i.n)(H.blocks)&&!(0,I.A)(H))Ae=t.createElement(a.A,{richTextBlock:(H==null?void 0:H.blocks)&&H.blocks[0],emojiSize:l.lw.SMALL,truncateLength:125});else{const oe=H&&(0,g.A)(H);oe&&(Ae=t.createElement(s.A,{text:oe,noHighlights:!0,noHexColors:!0,noJumbomoji:!0,noLinking:!0,noCode:!0,noQuotes:!0,customLineEnding:"\u2026",maxNewlines:1,emojiSize:l.lw.SMALL,maxCharacters:125}))}const ye=(0,h.LI)($)||(0,h.yz)($)?z:t.createElement(n.A,{className:"normal",channelId:q});return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Q),t.createElement("span",{className:"normal"}," | ",ye)),Ae&&t.createElement("div",{className:"normal"},Ae),t.createElement("div",{className:"sk_foreground_high_solid break_all"},W))}E(x,"MrkdwnLinkTooltip"),x.displayName="MrkdwnLinkTooltip";function b(B,W){let{href:K}=W;const H=(0,D.$N)(B,K),z=!!(H&&H.type==="message"&&H.ts),Q=z?H.channelId:void 0,q=!!(H&&(H!=null&&H.fileId)),$=H!=null&&H.fileId?(0,U.Lp)(B,H.fileId):void 0,le=z&&H.channelId&&H.ts&&(0,P.Ld)(B,H.channelId,H.ts),te=le&&(0,p.A)(B,le),ce=!!(H&&H.type===D.im.WORK_OBJECT),me=ce&&(0,L.Ne)(B,{recordId:H==null?void 0:H.entityId,lookupFunction:H==null?void 0:H.lookupFunction})||void 0;var _e;return{isFilePermalink:q,file:$,isMsgPermalink:z,msg:le||void 0,permalinkChannelId:Q||void 0,channel:Q&&(_e=(0,R.OL)(B,Q))!==null&&_e!==void 0?_e:void 0,channelDisplayName:z?(0,d.SB)(B,(0,R.OL)(B,Q)):void 0,msgSenderName:te?(0,m.A)(B,{userId:te.userId,botId:te.botId,username:te.username,botProfile:le.bot_profile}):void 0,isWorkObject:ce,entity:me}}E(b,"mapStateToProps");const k=(0,S.N)(b)(x)},4392539311:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>Q});var t=e(3134334389),n=e(2774532222),o=e(7715417323),s=e(5734673180),c=e(7582939986),r=e(3621443010),a=e(5783032341),i=e(7732872146),l=e(4839279329),m=e(5604079762),_=e(1650415028),h=e(8170244779),d=e(4116177835),f=e(6271402872),v=e(6536982570),u=e(4821277680),g=e(6044196829),p=e(3098394427),A=e(8181621268),C=e(82287009),T=e(8257102208),I=e(337319621),M=e(9899967630),D=e(6471059816),O=e(9391594207),S=e(7547876038),R=e(8677230210),U=e(4761125736),P=e(5492254797),L=e(8276911661),F=e(2047021170),x=e(8262898118);const b="javascript:";function k($){let{url:le,origin:te,botId:ce,urlIsSIWSLink:me,experimentWebIdentityLinksGroupTreatment:_e,isFileQuipAndNotAccessible:Ae,isFileListAndNotAccessible:ye}=$;return me&&_e?"siws":Ae?"quip-inaccessible":ye?"list-inaccessible":ce?"bot":(0,n.A)(le,b)?"javascript":(0,n.A)(le,`${te}/messages`)?"messages":(0,n.A)(le,`${c.SQ}chat.help`)?"old-slack-action":(0,n.A)(le,`${c.Rw}`)?"slack-action":"external"}E(k,"getUrlType");const B=(0,a.A)();function W($){let{botId:le,botName:te,children:ce,origin:me=B,doSlackAction:_e,doSlackActionLinks:Ae=!0,requestAccessModalThunk:ye,noLinking:oe=!1,url:ee,maybeOpenSuspiciousLinkDialog:V=o.A,clogLinkClick:w=o.A,urlIsSIWSLink:Y=!1,explicitlyRenameBotLink:G=!1,showTooltip:Z=!1,suppressLinkWarningPref:se=!1,experimentWebIdentityLinksGroupTreatment:ae=!1,isHermesLinkTrigger:re=!1,triggerId:pe,isFileQuipAndNotAccessible:de=!1,isFromAppHome:ie=!1,permalinkType:he=null,permalinkFileId:ve=void 0,isFileListAndNotAccessible:ge=!1,noTabbableContent:ke=!1,appId:Ne}=$;const We=(0,t.useCallback)(()=>{_e(ee)},[_e,ee]),Oe=(0,t.useCallback)(ze=>{ze.preventDefault(),ye({url:ee})},[ye,ee]),be=(0,t.useCallback)(ze=>{let Me;he===u.im.FILE&&ve&&(Me={item_id:ve,item_type:"F",link_action:"file_preview_link"});let Ce;he===u.im.WORK_OBJECT&&(Ce={appId:Ne}),w({...ze,...Me,...Ce,link_type:he||"external"})},[he,ve,w,Ne]),Ke=(0,t.useCallback)(()=>{const ze=(0,s.A)(ee);return t.createElement(l.A,{href:ze})},[ee]);if(oe)return t.createElement("span",null,ce);const Fe=k({url:ee,origin:me,botId:le,urlIsSIWSLink:Y,experimentWebIdentityLinksGroupTreatment:ae,isFileQuipAndNotAccessible:de,isFileListAndNotAccessible:ge}),J=(0,s.A)(ee);let ne,je=null,at=!1,nt=!1,Ge=ce,Pe=!1;if(Fe==="slack-action")nt=!0,Ae?je=We:(at=!0,ne="(Disabled) ");else if(Fe==="old-slack-action")at=!0,ne="(Disabled) ";else if(Fe==="quip-inaccessible"||Fe==="list-inaccessible"){const Me=new D.Ay("request_access").t("Request access"),Ce=t.createElement(p.A,{className:"c-mrkdwn__quip_and_list_file_request_access_link","data-stringify-link":J,"data-qa":"file-request-access-link",href:J,onClick:Oe,isFromAppHome:ie,tabIndex:ke?-1:void 0},ce);return Z?t.createElement(A.Ay,{tip:Me,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link","data-qa":"quip-file-request-access-tooltip"},Ce):Ce}else if(Fe==="javascript")nt=!0,je=o.A;else if(Fe==="bot"&&G)nt=!0,Ge=te||ce,Pe=!0;else if(Fe==="siws"){const ze=E((Ce,Qe)=>t.createElement(p.A,{autoClogProps:Qe,clogLinkClick:be,className:"c-mrkdwn__identity_trigger",onClick:Ce,"data-stringify-link":J,href:J},Ge),"renderBaseLink");let Me=ze;return Z&&(Me=E((Ce,Qe)=>t.createElement(A.Ay,{tip:Ke,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},ze(Ce,Qe)),"renderSiwsLink")),t.createElement(_.A,{url:J},Me)}if(nt){let ze=t.createElement(g.A,{onClick:je&&!at?je:o.A,disabled:at,renderAsSpan:!0},ne,Ge);return Pe&&(ze=t.createElement(d.A,{botId:le,onClick:!at&&je},ze)),ze}const Le=t.createElement(p.A,{"data-stringify-link":J,href:J,clogLinkClick:be,maybeOpenSuspiciousLinkDialog:se?o.A:V,isFromAppHome:ie,tabIndex:ke?-1:void 0},ce);return re&&pe?t.createElement(h.A.Consumer,null,ze=>{let{...Me}=ze;const Ce={triggerId:pe,url:ee},Qe=(0,P.P)(Me),Be=(0,P.S)(Me,Ce);return(0,C.sh)({shortcutInfo:Ce,channelId:Me.channelId,hermesLinkTriggerUIContext:Qe,autoClogEntryPoint:(Be==null?void 0:Be.entryPoint)||"other",children:t.createElement(p.A,{"data-stringify-link":J,href:J,clogLinkClick:be,autoClogProps:Be,hermesLinkTriggerUIContext:Qe,maybeOpenSuspiciousLinkDialog:se?o.A:V},ce)})}):Z?t.createElement(A.Ay,{tip:Ke,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},Le):Le}E(W,"BaseMrkdwnLink"),W.displayName="BaseMrkdwnLink";const K=E(($,le)=>{let{children:te,memberId:ce,url:me}=le;const _e=(0,U._Z)($,"web_identity_links")==="treatment",Ae=(0,r.A)(me),ye=(0,i.Ay)(me),oe=ye?(0,u.XN)($,ye):null;let ee;if(Ae&&(ee=(0,R.vu)($,Ae),!ee&&ce)){const G=(0,L.nv)($,ce);(0,v.Ux)($,G)&&(ee=te),ee||(0,I.Ay)({state:$}).warn(`MrkdwnLink: no bot name found for ${Ae}`)}const V=(0,f.Wc)($)&&(oe==null?void 0:oe.type)===u.im.SHORTCUT_LINK_TRIGGER,w=ye&&(0,M.dR)($,ye)!==null,Y=ye&&(0,T.W4)($,ye)!==null;return{botId:Ae??void 0,botName:ee,appId:oe==null?void 0:oe.appId,experimentWebIdentityLinksGroupTreatment:_e,suppressLinkWarningPref:!!(0,F.ty)($,"suppress_link_warning"),urlIsSIWSLink:ye?(0,x.Ls)($,ye):!1,isHermesLinkTrigger:V,triggerId:oe==null?void 0:oe.triggerId,permalinkType:oe==null?void 0:oe.type,permalinkFileId:oe==null?void 0:oe.fileId,isFileQuipAndNotAccessible:w,isFileListAndNotAccessible:Y}},"mapStateToProps"),H=E($=>({doSlackAction:le=>$((0,S.A)(le)),requestAccessModalThunk:le=>$((0,m.A)(le))}),"mapDispatchToProps"),Q=(0,O.N)(K,H)(W);Object.defineProperty({},"getUrlType",{get:()=>k,set:$=>{k=$}})},6072832722:(N,y,e)=>{"use strict";e.d(y,{A:()=>me});var t=e(3134334389),n=e(1398359918),o=e(6696292586),s=e(8891672792),c=e(8840779375),r=e(9113979368),a=e(7715417323),i=e(6828699058),l=e(3270738832),m=e(3869429517),_=e(2836999160),h=e(7048718168),d=e(4392539311),f=e(6423046221),v=e(3771536679),u=e(1030162945),g=e(3043682041),p=e(8181621268),A=e(6818330210),C=e(2952777997),T=e(7285080585),I=e(1842363787),M=e(337319621),D=e(6471059816),O=e(9907843289),S=e(4096483543),R=e(5619542846),U=e(9391594207),P=e(6652001255),L=e(4841770661),F=e(4761125736),x=e(1021289374),b=e(1317368584),k=e(2047021170),B=e(3146663623);function W(){return W=Object.assign||function(_e){for(var Ae=1;Ae<arguments.length;Ae++){var ye=arguments[Ae];for(var oe in ye)Object.prototype.hasOwnProperty.call(ye,oe)&&(_e[oe]=ye[oe])}return _e},W.apply(this,arguments)}E(W,"_extends");const K=void 0,H="\u2026.,_-",z=/\ue000|\ue001/,Q=new D.Ay("message"),q=(0,M.Wo)();let $=E(class extends t.PureComponent{componentDidMount(){const{onRender:Ae}=this.props;Ae==null||Ae({isTruncated:this.isTruncated()})}componentDidUpdate(){const{onRender:Ae}=this.props;Ae==null||Ae({isTruncated:this.isTruncated()})}render(){const{text:Ae,className:ye,noJumbomoji:oe,noSpecials:ee,customContentHandler:V,addDirectionAttr:w,refToForward:Y,onMouseEnter:G,onMouseLeave:Z,"data-qa":se,experimentTsfSnitchGroupOn:ae}=this.props;if(!Ae)return null;this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0;const re=ee?"NOMRKDWN":this.props.tsfMode,pe=this.props.ariaAssertive?"assertive":void 0;let de=(0,I.sm)(Ae,re,{jumbomoji:!oe,allow_intra_word_formatting:!0});z.test(Ae)&&(de=(0,n.A)(de,ve=>ve.replace(/\ue000/g,"<HIGHLIGHT:START>").replace(/\ue001/g,"<HIGHLIGHT:END>").split(/(<HIGHLIGHT:START>|<HIGHLIGHT:END>)/g).filter(Boolean)));let ie=(0,T.A)(de);V&&(ie=V(ie));const he=w?"auto":void 0;return t.createElement("span",{className:ae?`c-mrkdwn__snitch ${ye||""}`:ye,ref:Y,"aria-live":pe,dir:he,"data-qa":se,onMouseEnter:G,onMouseLeave:Z},this.renderMrkdwnFormatting(ie,!0))}constructor(...Ae){var ye;super(...Ae),ye=this,this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0,this.handleUserGroupClick=(oe,ee)=>{const{onUserGroupClick:V}=this.props;oe.preventDefault(),V==null||V(ee)},this.isTruncated=()=>this.numCharactersUsed>=this.props.maxCharacters||this.numNewlinesUsed>=this.props.maxNewlines,this.nextKey=()=>(this.uid+=1,this.uid),this.renderBold=oe=>{let{contents:ee}=oe;const V=(0,O.Yp)()==="ja-JP"?"\uFF0A":"*",w=(0,S.A)()?{"data-stringify-type":"bold"}:{"data-stringify-prefix":V,"data-stringify-suffix":V,"data-stringify-requires-siblings":!0};return t.createElement("b",W({key:this.nextKey()},w),this.renderMrkdwnFormatting(ee))},this.renderChannel=oe=>{let{id:ee="",name:V=""}=oe;const{noLinking:w,clogLinkClick:Y,showTooltips:G}=this.props;return this.numCharactersUsed+=(V||ee).length+1,t.createElement(h.A,{key:this.nextKey(),id:ee,noLinking:w,clogLinkClick:Y,showTooltip:G})},this.renderCode=oe=>{let{contents:ee}=oe;if(this.props.noCode)return t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(ee));const V=(0,O.Yp)()==="ja-JP"?"\uFF40":"`",w=(0,S.A)()?{"data-stringify-type":"code"}:{"data-stringify-prefix":V,"data-stringify-suffix":V,"data-stringify-requires-siblings":!0};return t.createElement(l.i,{blockType:"code",key:this.nextKey()},t.createElement(l.m,null,t.createElement("code",W({key:this.nextKey(),className:"c-mrkdwn__code"},w),this.renderMrkdwnFormatting(ee))))},this.renderCommand=oe=>{let{data:ee}=oe;const{type:V,label:w,...Y}=ee,{noHighlights:G,noLinking:Z,do24hrTime:se}=this.props;switch(V){case"here":case"channel":case"everyone":case"group":return this.numCharactersUsed+=V.length+1,t.createElement(_.A,W({},Y,{key:this.nextKey(),type:V,noHighlights:G,noLinking:Z}));case"subteam":return this.numCharactersUsed+=(w||V).length,t.createElement(f.Ay,W({},Y,{key:this.nextKey(),fallback:w,noHighlights:G,noLinking:Z,onClick:this.handleUserGroupClick}));case"date":return this.numCharactersUsed+=(w||V).length,t.createElement(m.A,W({},Y,{key:this.nextKey(),fallback:w,do24hrTime:se}));default:return K}},this.renderEmoji=oe=>{let{name:ee=""}=oe;const{showTooltips:V,stopAnimations:w,emojiDisplayInfo:Y,emojiSize:G=u.lw.MEDIUM,isEmojiInlineWithText:Z,iconInTextMode:se,sourceTeamId:ae}=this.props;this.numCharactersUsed+=1;const{name:re=ee,url:pe=void 0}=(0,A.H)(ee,Y);return t.createElement(u.Ay,{key:this.nextKey(),text:re,emojiSize:G,showTooltip:V,stopAnimations:w,iconInTextMode:se,sourceTeamId:ae,isEmojiInlineWithText:Z,url:pe})},this.renderHardSpace=oe=>this.props.customLineEnding?"\xA0":["\xA0",t.createElement("wbr",{key:this.nextKey()})],this.renderHex=oe=>{let{color:ee=""}=oe;const{noHexColors:V}=this.props;return this.numCharactersUsed+=ee.length,V?null:t.createElement("div",{key:this.nextKey(),className:"c-mrkdwn__hex",style:{background:ee}})},this.renderHighlight=oe=>t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__mention"},oe),this.renderHighlightMarkers=oe=>{let{contents:ee}=oe;return t.createElement("span",{className:"c-mrkdwn__highlight",key:this.nextKey()},this.renderMrkdwnFormatting(ee))},this.renderHighlights=(oe,ee)=>{let{text:V=""}=oe;const{highlightWords:w,noHighlights:Y,maxCharacters:G}=this.props,{isLastItem:Z}=ee;if((0,o.A)(G)&&this.numCharactersUsed<G){const pe=G-this.numCharactersUsed;if(pe<V.length||pe===V.length&&!Z){const de=(0,s.A)((0,s.A)(V.slice(0,pe)),H);return this.numCharactersUsed=G,[this.renderHighlights({text:de},ee),"\u2026"]}this.numCharactersUsed+=V.length}if(!V||!w||Y)return(0,R.A)(V);const se=(0,C.Ay)(V,w),ae=[];let re=0;if(se.forEach(pe=>{let{index:de,length:ie}=pe;const he=(0,R.A)(V.slice(re,de));ae.push(he);const ve=(0,R.A)(V.substr(de,ie));ae.push(this.renderHighlight(ve)),re=de+ie}),re!==V.length){const pe=(0,R.A)(V.slice(re));ae.push(pe)}return ae},this.renderItalic=oe=>{let{contents:ee}=oe;const V=(0,O.Yp)()==="ja-JP"?"\uFF3F":"_",w=(0,S.A)()?{"data-stringify-type":"italic"}:{"data-stringify-prefix":V,"data-stringify-suffix":V,"data-stringify-requires-siblings":!0};return t.createElement("i",W({key:this.nextKey()},w),this.renderMrkdwnFormatting(ee))},this.renderJumbomoji=oe=>{let{name:ee}=oe;const{showTooltips:V,stopAnimations:w,sourceTeamId:Y}=this.props;return this.numCharactersUsed+=1,t.createElement(u.Ay,{key:this.nextKey(),text:ee,emojiSize:u.lw.LARGE,showTooltip:V,stopAnimations:w,sourceTeamId:Y})},this.renderLineBreak=()=>{const{customLineEnding:oe}=this.props,ee=t.createElement("br",{key:this.nextKey()});return this.numNewlinesUsed+=1,oe?[t.createElement("span",{key:this.nextKey()},oe),ee]:ee},this.onMaybeOpenSuspiciousLinkDialog=(oe,ee)=>{let{url:V="",contents:w=[]}=ee;const{onOpenSuspiciousLinkDialog:Y,suppressLinkWarningPref:G}=this.props;if(G)return;const Z=E(pe=>pe!=null&&pe.text?pe.text:pe!=null&&pe.name?pe.name:pe!=null&&pe.contents?pe.contents.map(Z):"","textFromContents"),se=w.map(Z).join(""),ae=se.replace(/&amp;/g,"&"),re=V.replace(/&amp;/g,"&");(0,v.A)(se,V)&&(Y==null||Y({text:ae,url:re}),oe.preventDefault())},this.renderLink=oe=>{let{url:ee="",contents:V=[]}=oe;const{doSlackActionLinks:w,noLinking:Y,origin:G,memberId:Z,clogLinkClick:se,explicitlyRenameBotLink:ae,isFromAppHome:re,showTooltips:pe}=this.props;return t.createElement(d.Ay,{key:this.nextKey(),url:ee,noLinking:Y,doSlackActionLinks:w,origin:G,memberId:Z,clogLinkClick:se,explicitlyRenameBotLink:ae,showTooltip:pe,maybeOpenSuspiciousLinkDialog:de=>{this.onMaybeOpenSuspiciousLinkDialog(de,{url:ee,contents:V})},isFromAppHome:re},this.renderMrkdwnFormatting(V))},this.renderLongQuotePrefix=()=>(0,S.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">>>"),this.renderMember=oe=>{let{id:ee="",fallback:V}=oe;const{noHighlights:w,noLinking:Y,showTooltips:G,clogLinkClick:Z,forceRealNames:se,supressMentionAtSymbol:ae}=this.props;return this.numCharactersUsed+=ee.length,t.createElement(i.A,{key:this.nextKey(),forceRealNames:se,id:ee,fallback:V,showTooltip:G,noHighlights:w,noLinking:Y,clogLinkClick:Z,supressMentionAtSymbol:ae})},this.renderMrkdwnFormatting=function(oe){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{customFormatHandler:V}=ye.props;return(0,c.A)(oe,(w,Y)=>{if(ye.isTruncated())return!1;const G=w.type,Z=G&&ye.FORMAT_HANDLERS[G]||ye.renderHighlights,se=E(()=>{const re=Boolean(ee&&oe&&Y===oe.length-1);return Z(w,{index:Y,isLastItem:re})},"getDefaultOutput");let ae;try{V?(ae=V({item:w,getDefaultOutput:se}),t.isValidElement(ae)&&(ae=t.cloneElement(ae,{key:ye.nextKey()}))):ae=se()}catch(re){q.error(re)}return ae===K&&(ae=ye.renderUnknownItem(w)),ae})},this.renderParagraphBreak=()=>{const{customLineEnding:oe}=this.props;return oe?this.renderLineBreak():(0,S.A)()?t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br","data-stringify-type":"paragraph-break"}):t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br"},t.createElement("i",{className:"copy_only"},t.createElement("br",null)))},this.renderPre=(oe,ee)=>{let{contents:V}=oe,{index:w}=ee;if(this.props.noCode)return this.renderUnformattedBlock({contents:V,index:w});const Y=(0,O.Yp)()==="ja-JP"?"\uFF40\uFF40\uFF40":"```",G=(0,S.A)()?{"data-stringify-type":"pre"}:{"data-stringify-prefix":Y,"data-stringify-suffix":Y,"data-stringify-requires-siblings":!0};return t.createElement(l.i,{blockType:"codeBlock"},t.createElement(l.m,null,t.createElement("pre",W({key:this.nextKey(),className:"c-mrkdwn__pre"},G),this.renderMrkdwnFormatting(V))))},this.renderQuote=(oe,ee)=>{let{contents:V}=oe,{index:w}=ee;if(this.props.noQuotes)return this.renderUnformattedBlock({contents:V,index:w});const Y={};if((0,S.A)()&&!(0,r.A)(V)){const G=(V==null?void 0:V[0].type)==="long_quote_prefix"?"blockquote":"quote";Y["data-stringify-type"]=G}return t.createElement("blockquote",W({key:this.nextKey(),className:"c-mrkdwn__quote"},Y),this.renderMrkdwnFormatting(V))},this.renderQuotePrefix=()=>(0,S.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">"),this.renderStrike=oe=>{let{contents:ee}=oe;const V=(0,S.A)()?{"data-stringify-type":"strike"}:{"data-stringify-prefix":"~","data-stringify-suffix":"~","data-stringify-requires-siblings":!0};return t.createElement("strike",W({key:this.nextKey()},V),this.renderMrkdwnFormatting(ee))},this.renderUnformattedBlock=oe=>{let{contents:ee,index:V}=oe;const w=t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(ee));if(V===0)return w;const Y=this.renderLineBreak();return this.isTruncated()?Y:[Y,w]},this.renderUnknownItem=oe=>{let{token:ee}=oe;const{showTooltips:V}=this.props;return V?t.createElement(p.Ay,{key:this.nextKey(),tip:Q.t("Sorry! This part didn\u2019t render correctly.")},t.createElement("code",{className:"sk_primary_foreground"},ee)):t.createElement("code",{key:this.nextKey(),className:"sk_primary_foreground"},ee)},this.FORMAT_HANDLERS={bold:this.renderBold,italic:this.renderItalic,strike:this.renderStrike,code:this.renderCode,pre:this.renderPre,quote:this.renderQuote,quote_prefix:this.renderQuotePrefix,long_quote_prefix:this.renderLongQuotePrefix,line_break:this.renderLineBreak,paragraph_break:this.renderParagraphBreak,space_hard:this.renderHardSpace,link:this.renderLink,command:this.renderCommand,member:this.renderMember,channel:this.renderChannel,emoji:this.renderEmoji,jumbomoji:this.renderJumbomoji,hex:this.renderHex,highlight:this.renderHighlightMarkers,unknown:this.renderUnknownItem}}},"BaseMrkdwn");$.defaultProps={text:"",tsfMode:"NORMAL",emojiMode:"default",emojiDisplayInfo:{},emojiSize:void 0,isEmojiInlineWithText:!0,do24hrTime:!1,suppressLinkWarningPref:!1,noJumbomoji:!1,noLinking:!1,noSpecials:!1,noHighlights:!1,noEmojiText:!1,iconInTextMode:void 0,noHexColors:!1,noCode:!1,noQuotes:!1,preventCopyPaste:!1,transformMissingEmoji:!1,showIconForEmojiInAsTextMode:!1,stopAnimations:!1,customLineEnding:"",showTooltips:!0,doInlineImages:!1,doSlackActionLinks:!1,origin:void 0,memberId:void 0,sourceTeamId:void 0,customFormatHandler:void 0,customContentHandler:void 0,clogLinkClick:a.A,addDirectionAttr:!0,ariaAssertive:void 0,maxCharacters:1/0,maxNewlines:1/0,onRender:a.A,onMouseEnter:a.A,onMouseLeave:a.A,explicitlyRenameBotLink:!1,onUserGroupClick:a.A,onOpenSuspiciousLinkDialog:a.A,refToForward:void 0,"data-qa":void 0,isExpandableStateKnown:!1,isExpanded:!1,experimentTsfSnitchGroupOn:!1,isFromAppHome:!1,forceRealNames:!1,supressMentionAtSymbol:!1,useUserNamePrefs:!1},$.displayName="BaseMrkdwn";const le=E((_e,Ae)=>{const{emojiMode:ye,noHexColors:oe,noJumbomoji:ee,useUserNamePrefs:V}=Ae,w=ye||(0,g.w)(_e),Y=(0,b.A)(_e);return{emojiMode:w,noJumbomoji:ee||!Y,highlightWords:(0,x.A)(_e),noHexColors:oe||(0,k.ty)(_e,"hide_hex_swatch"),do24hrTime:(0,k.ty)(_e,"time24"),suppressLinkWarningPref:(0,k.ty)(_e,"suppress_link_warning"),experimentTsfSnitchGroupOn:(0,F._Z)(_e,"tsf_snitch")==="on",forceRealNames:V&&(0,B.E)(_e)}},"mapStateToProps"),te=E(_e=>({onUserGroupClick:Ae=>_e((0,P.q)({groupId:Ae})),onOpenSuspiciousLinkDialog:Ae=>{let{text:ye,url:oe}=Ae;return _e((0,L.A)({text:ye,url:oe}))}}),"mapDispatchToProps"),me=(0,U.N)(le,te)($)},6423046221:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>T});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(4192943401),r=e(6839188756),a=e(2546018671),i=e(8739505998),l=e(3903956190),m=e(4096483543),_=e(9391594207),h=e(6652001255),d=e(1670069836),f=e(598369692),v=e(1835177371);function u(){return u=Object.assign||function(I){for(var M=1;M<arguments.length;M++){var D=arguments[M];for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(I[O]=D[O])}return I},u.apply(this,arguments)}E(u,"_extends");function g(I){let{id:M,className:D=void 0,fallback:O=void 0,handle:S=void 0,isUserInGroup:R=!1,onClick:U=s.A,noHighlights:P=!1,noLinking:L=!1,isNonExistent:F=!1,isUnknown:x=!1,isDeactivated:b=!1,team:k=void 0,showUserGroupDetailsProps:B,alwaysDisplayAsLink:W=!1,noTabbableContent:K=!1}=I;const H=(0,t.useCallback)(ce=>{B(M),ce.preventDefault(),U(ce,M)},[M,U,B]);if(x)return t.createElement(c.A,{type:"unknown"});if(F&&!O)return t.createElement(c.A,{type:"non-existent"});const z=!L&&!F&&!b,Q=(0,l.k)({userGroupHandle:S,fallbackHandle:O,isUnknown:x,isNonExistent:F}),q=Q,$=R&&!P,le=o()("c-mrkdwn__user_group",D,{"c-mrkdwn__user_group--link":W||z,"c-mrkdwn__user_group--mention":$});if(!z)return t.createElement("span",{"data-user-group-id":M,"data-qa-user-group-mrkdwn-is-linked":z,"data-qa-user-group-mrkdwn-is-mention":$,className:le},q);const te={};return(0,m.A)()?(te["data-stringify-type"]="mention",te["data-stringify-id"]=M,te["data-stringify-label"]=Q):te["data-stringify-text"]=Q,t.createElement(i.A,u({className:le,"data-user-group-id":M,"data-qa-user-group-mrkdwn-is-linked":z,"data-qa-user-group-mrkdwn-is-mention":$,href:`${(0,r.Zl)(k)}admin/user_groups`,onClick:H},K&&{tabIndex:-1},te),q)}E(g,"UserGroup"),g.displayName="UserGroup";const p=null;function A(I,M){let{id:D}=M;const O=(0,v.lJ)(I,D);let S;if(O){const U=(0,a.t8)(O),P=(0,a.QR)(O),L=!(0,a.V1)(O),F=O.handle||void 0;var R;S={handle:F,isUnknown:U,isNonExistent:P,isDeactivated:L,isUserInGroup:(0,f.nc)(I,O.id)&&!L,team:(R=(0,d.H7)(I))!==null&&R!==void 0?R:void 0}}else S={isNonExistent:!0};return S}E(A,"mapStateToProps");const C=E(I=>({showUserGroupDetailsProps:M=>I((0,h.q)({groupId:M}))}),"mapDispatchToProps"),T=(0,_.N)(A,C)(g)},9656781090:(N,y,e)=>{"use strict";e.d(y,{A:()=>A});var t=e(7582939986),n=e(3134334389),o=e(6122756707),s=e(7715417323),c=e(2850141087),r=e(1607053586),a=e(1509752838);function i(){return i=Object.assign||function(C){for(var T=1;T<arguments.length;T++){var I=arguments[T];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(C[M]=I[M])}return C},i.apply(this,arguments)}E(i,"_extends");const l=(0,n.memo)(C=>{let{addMemberToPresenceSubscription:T=s.A,memberId:I,removeMemberFromPresenceSubscription:M=s.A,renderDoublePresence:D=!1,firstElementExtraClassName:O="",...S}=C;const R=(0,o.wA)();return(0,n.useEffect)(()=>{R((0,a.n$)())},[R]),(0,c.A)(()=>(T(I),()=>M(I)),[I]),D?n.createElement(n.Fragment,null,n.createElement(r.Ay,i({},S,{className:`${S.className||""} ${O}`})),n.createElement(r.Ay,i({},S))):n.createElement(r.Ay,i({},S))});l.displayName="PresenceWithSubscriptions";const m=l;var _=e(92812954),h=e(9391594207),d=e(8918640447),f=e(5795074931),v=e(1844213939),u=e(9290914927);const g=E((C,T)=>{const I=(0,u.gd)(C,T.memberId),M=(0,_.d)(C,T.memberId),D=(0,v.z)(C,T.memberId),O=(0,f.WR)(C)===T.memberId;return{...T,userType:M,isDnd:D,isSelf:O,isSlackbot:T.memberId===t.Q$,isActive:I==="active"}},"mapStateToProps"),p=E(C=>({addMemberToPresenceSubscription:T=>C((0,d.xz)(T)),removeMemberFromPresenceSubscription:T=>C((0,d.Fd)(T))}),"mapDispatchToProps"),A=(0,h.N)(g,p)(m)},9283547879:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>o});var t=e(9656781090),n=e(1607053586);const o=t.A},1607053586:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>h});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(2036354333),c=e(8683010724),r=e(8181621268),a=e(6471059816);function i(){return i=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(d[u]=v[u])}return d},i.apply(this,arguments)}E(i,"_extends");const l=new a.Ay("presence");function m(d,f){return d?f?l.t("Active, notifications snoozed"):l.t("Active"):f?l.t("Away, notifications snoozed"):l.t("Away")}E(m,"getPresenceText");const _=E(d=>{let{inheritIconSize:f=!1,inline:v=!0,isActive:u=!1,isDnd:g=!1,isSelf:p=!1,isSlackbot:A=!1,invert:C=!1,userType:T="member",focusable:I=!1,showText:M=!1,resetIA:D=!1,hasNoAccess:O=!1,className:S}=d,R=u?{name:"status-member-filled"}:{name:"status-member"};const U=o()(S,"c-presence",{"c-presence--active":u&&!C,"c-presence--resetIA":D,"c-presence--away":!u&&!C,"c-presence--inverted":C,"is-inline":v,block:!v}),P=m(u,g);O?R={name:"lock-filled"}:T==="member"?g?R=u?{name:"status-member-dnd-filled"}:{name:"status-member-dnd"}:A&&(R={name:"status-slackbot-filled"}):T==="ra"||T==="external"?g?R=u?{name:"status-guest-dnd-filled"}:{name:"status-guest-dnd"}:R=u?{name:"status-guest-filled"}:{name:"status-guest"}:T==="ura"&&(g?R=u?{name:"status-single-channel-guest-dnd-filled"}:{name:"status-single-channel-guest-dnd"}:R=u?{name:"status-single-channel-guest-filled"}:{name:"status-single-channel-guest"});const L=t.createElement("span",{className:U},t.createElement(c.A,i({},R,{title:P,"aria-label":P,"aria-hidden":"false",size:f?"inherit":"20",inline:v,"data-qa":"presence_indicator","data-qa-type":R.name,"data-qa-presence-self":p,"data-qa-presence-active":u,"data-qa-presence-dnd":g})));return I?t.createElement(t.Fragment,null,t.createElement(r.Ay,{tip:P},t.createElement(s.A,null,L)),M&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},P)):t.createElement(t.Fragment,null,L,M&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},P))},"Presence");_.displayName="Presence";const h=t.memo(_)},9674520607:(N,y,e)=>{"use strict";e.d(y,{A:()=>V});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(7173172014),r=e(6471059816),a=e(307717037),i=e(2208015175),l=e(2850141087),m=e(2664504268),_=e(4250078557),h=e(3207321841),d=e(5602423845),f=e(7937864072),v=e(5204962244),u=e(6308822),g=e(8668318456),p=e(9506008067),A=e(2047021170);const C=new r.Ay("slack_kit_video"),I=(0,t.forwardRef)((w,Y)=>{let{src:G,vtt:Z,videoPoster:se,title:ae,label:re,autoPlay:pe=!0,enableMediaCaptions:de,onLoadedMetadata:ie,isLoading:he,setIsLoading:ve,isPlaying:ge,setIsPlaying:ke,duration:Ne,setDuration:We,setElapsed:Oe,enableControls:be=!1,controlsList:Ke,shiftCaptionsUp:Fe,setHasError:J,videoContainerClassName:ne}=w;const je=(0,f.A)(),at=(0,d.A)(),nt=(0,t.useRef)(null),Ge=(0,v.d)(m.A),[Pe,Le]=(0,t.useState)(!1),ze=(0,t.useRef)(),Me=(0,t.useRef)(0),[Ce,Qe]=(0,t.useState)(null),Be=(0,p.d4)(Et=>(0,A.ty)(Et,"media_muted"));var we;const xe=(we=(0,p.d4)(Et=>(0,A.ty)(Et,"media_volume")))!==null&&we!==void 0?we:1,Se=(0,p.d4)(Et=>(0,A.ty)(Et,"media_playback_speed")),Ye=(0,t.useRef)({});(0,t.useEffect)(()=>{nt.current&&Ce&&(Ye.current={file_src:Ce,media_type:"video",duration_ms:Ne*1e3,playback_session:Ge,title:ae})},[Ge,Ce,ae,Ne]),(0,t.useEffect)(()=>{fetch(G).then(Et=>Et.blob()).then(Et=>{const wt=URL.createObjectURL(Et);Qe(wt)}).catch(Et=>{je.error(`Video player err: ${Et}`),J(!0)})},[je,J,Qe,G]);const ot=(0,t.useRef)(!1),_t=(0,t.useCallback)(()=>{!ot.current&&Pe&&(ze.current&&(Me.current+=Date.now()-ze.current,ze.current=void 0),at.track(g.EventId.SK_VIDEO_PLAYER,(0,a.A)({},Ye.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_type:"video",element_name:"playback_finished"}}},closed_captions:de?"on":"off",playback_speed:`${Se??1}x`,duration_watched_ms:Me.current})),ot.current=!0,Me.current=0)},[at,Pe,de,Se]),pt=(0,t.useRef)(_t);pt.current=_t,(0,l.A)(()=>()=>pt.current(),[]);const vt=(0,t.useCallback)(()=>{_t()},[_t]);(0,t.useEffect)(()=>{if(!nt.current)return;const Et=E(()=>{ge&&ke(!1),ve(!0)},"onWaiting"),wt=E(()=>{ve(!1),ke(!0),at.track(g.EventId.SK_VIDEO_PLAYER,(0,a.A)({},Ye.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"play"}}}})),Pe||(Le(!0),at.track(g.EventId.SK_VIDEO_PLAYER,(0,a.A)({},Ye.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_name:"media"}}}}))),ze.current=Date.now()},"onPlay"),Jt=E(()=>{ke(!1),ve(!1),at.track(g.EventId.MEDIA_PLAYER,(0,a.A)({},Ye.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"pause"}}}})),ze.current&&(Me.current+=Date.now()-ze.current,ze.current=void 0)},"onPause"),Lt=nt.current,Zt=E(()=>{if(!Lt.buffered)return;const st=Lt.duration||0;We(st)},"onProgress"),qt=E(()=>{ve(!1);const st=Lt.duration;We(st),Oe(Lt.currentTime)},"onTimeUpdate"),tt=E(()=>{const st=Lt.playbackRate;h.Cv.includes(st)&&(Lt.playbackRate=st)},"handleRateChange");return Lt.addEventListener("waiting",Et),Lt.addEventListener("progress",Zt),Lt.addEventListener("timeupdate",qt),Lt.addEventListener("play",wt),Lt.addEventListener("playing",wt),Lt.addEventListener("pause",Jt),Lt.addEventListener("ratechange",tt),Lt.addEventListener("ended",vt),()=>{Lt.addEventListener("waiting",Et),Lt.removeEventListener("progress",Zt),Lt.removeEventListener("timeupdate",qt),Lt.removeEventListener("play",wt),Lt.removeEventListener("playing",wt),Lt.removeEventListener("pause",Jt),Lt.removeEventListener("ratechange",tt),Lt.removeEventListener("ended",vt)}},[nt,he,ge,We,ve,Oe,ke,Pe,Le,vt,at]),(0,t.useEffect)(()=>{var Et;const wt=(Et=nt.current)===null||Et===void 0?void 0:Et.textTracks[0];wt&&(wt.mode=de?"showing":"hidden")},[de]),(0,t.useEffect)(()=>{if(de){var Et,wt;const Jt=(Et=nt.current)===null||Et===void 0?void 0:Et.textTracks[0];if(!Jt)return;const Lt=((wt=nt.current)===null||wt===void 0?void 0:wt.clientWidth)<500?50:80;Jt.mode="hidden",Fe?(0,i.A)(Jt==null?void 0:Jt.cues,Zt=>{(Zt.text.match(/\n/g)||[]).length>=2||Zt.text.length>Lt?Zt.line=-6:Zt.line=-5}):(0,i.A)(Jt==null?void 0:Jt.cues,Zt=>{Zt.line="auto"}),Jt.mode="showing"}},[de,Fe]);const yt=(0,t.useCallback)(function(Et){let wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;nt!=null&&nt.current&&(nt.current.currentTime=Et,wt&&nt.current.play())},[nt]),Tt=(0,t.useCallback)(()=>{nt!=null&&nt.current&&(nt.current.paused?nt.current.play():nt.current.pause())},[nt]),ft=(0,t.useCallback)(()=>{var Et;nt!=null&&nt.current&&((Et=nt.current)===null||Et===void 0||Et.pause())},[nt]),Ct=(0,t.useCallback)(Et=>{nt!=null&&nt.current&&(nt.current.muted=Et)},[nt]),At=(0,t.useCallback)(Et=>{nt!=null&&nt.current&&(nt.current.volume=Et)},[nt]),kt=(0,t.useCallback)(Et=>{nt!=null&&nt.current&&h.Cv.includes(Et)&&(nt.current.playbackRate=Et)},[nt]);(0,t.useImperativeHandle)(Y,()=>({setCurrentTime:yt,togglePlayPause:Tt,setMuted:Ct,setVolume:At,setPlaybackRate:kt,pause:ft})),(0,t.useEffect)(()=>{Be&&Ct(Be),xe&&At(xe),Se&&!be&&kt(Se)});const Bt=(0,t.useCallback)(()=>{var Et;const wt=(Et=nt.current)===null||Et===void 0?void 0:Et.error;wt&&(J(!0),je.error(`error code: ${wt.code}, msg: ${wt.message}`))},[nt,je,J]),St=(0,t.useCallback)(()=>{ve(!1)},[ve]),Gt=o()("c-video_player-video-container",ne);return t.createElement("div",{className:Gt,"data-media-focus-container":!0,tabIndex:-1},he&&t.createElement("div",{className:"c-video_player-video-container_spinner"},t.createElement(u.A,{color:"white"})),t.createElement("video",{preload:"auto",autoPlay:pe,"aria-label":re,className:"c-video_player-video",controls:be&&!he?!0:void 0,controlsList:be?Ke:void 0,title:ae,ref:nt,poster:se,disablePictureInPicture:!0,onLoadedMetadata:ie,onCanPlay:St,onError:Bt},Ce&&t.createElement("source",{src:Ce,type:"video/mp4"}),C.t("Your browser does not support the video tag"),Z&&t.createElement(_.A,{vtt:Z,enableMediaCaptions:de})))});var M=e(5034080361),D=e(7323656146),O=e(6122756707),S=e(9362126998),R=e(2036354333),U=e(5946832122),P=e(8683010724),L=e(2312625946),F=e(387484329);const x=new r.Ay("video_player"),b=E(w=>{let{vtt:Y,isInlinePlayer:G,className:Z,backgroundStyle:se}=w;const ae=(0,O.wA)(),re=(0,p.d4)(ge=>(0,A.ty)(ge,"enable_media_captions")),pe=(0,p.d4)(S.y0),de=(0,t.useCallback)(()=>{ae((0,F.AZ)({pref:"enable_media_captions",value:!re}))},[ae,re]),ie=re&&Y?x.t("Turn off captions",{fallbackHash:"c344bd39683fc6566ab53b0d886e93230fd21cbf",fallbackHashNs:"stories_av"}):x.t("Turn on captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"}),he=x.t("Display captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"});if(!pe)return null;const ve=re?t.createElement(P.A,{name:"closed-caption-filled",size:"inherit"}):t.createElement(P.A,{name:"closed-caption",size:"inherit"});return t.createElement(L.Ay,{tip:ie,position:"top",delay:L.n1,hideFromScreenReader:!0},G?t.createElement(R.A,{className:o()("c-video_controls_overlay__controls__button c-video_controls_overlay__controls__caption"),"aria-label":he,"aria-pressed":re,onClick:de},ve):t.createElement(U.A,{"aria-label":he,"aria-pressed":re,icon:re?"cc-filled":"cc",onClick:de,size:"medium",className:Z,backgroundStyle:se},"CC"))},"VideoCaptionsButton");b.displayName="VideoCaptionsButton";const k=b;var B=e(5874162200),W=e(9446966957);function K(){return K=Object.assign||function(w){for(var Y=1;Y<arguments.length;Y++){var G=arguments[Y];for(var Z in G)Object.prototype.hasOwnProperty.call(G,Z)&&(w[Z]=G[Z])}return w},K.apply(this,arguments)}E(K,"_extends");const H=new r.Ay("video_scrubber"),z=E(w=>{let{elapsed:Y,duration:G,setTime:Z}=w;const se=(0,t.useRef)(null);(0,t.useEffect)(()=>{var de;(de=se.current)===null||de===void 0||de.toggleAttribute("data-no-drag-on-mouse-move",!0)},[se]);const ae=(0,t.useCallback)(de=>t.createElement("div",K({className:"c-video_player_controls_scrubber c-video_player_controls_overlay__hover",ref:se},de)),[]),re=(0,t.useCallback)(de=>t.createElement("div",K({className:"c-video_player_controls_scrubber__track"},de)),[]),pe=(0,t.useCallback)(de=>t.createElement("div",K({className:"c-video_player_controls_scrubber__elapsed"},de)),[]);return t.createElement(W.A,{value:Y,max:G,onChange:Z,renderContainer:ae,renderTrack:re,renderInner:pe,"aria-label":H.t("Time scrubber",{currentTime:(0,B.A)(Y),totalTime:(0,B.A)(G),fallbackHash:"638b3954642581b284074f5e0f0f6dd701690df1",fallbackHashNs:"stories_av"}),"aria-valuetext":(0,B.A)(Y)})},"VideoControlsScrubber");z.displayName="VideoControlsScrubber";const Q=z;var q=e(5460331959),$=e(3118200703),le=e(8371678613),te=e(3242899446),ce=e(4916948857),me=e(6084388622);const _e=new r.Ay("slack_kit_video"),Ae=E(w=>{let{onClickOverlay:Y,showControls:G=!0,duration:Z,elapsed:se,setTime:ae,isPlaying:re,isLoading:pe,videoRef:de,vtt:ie,setShiftCaptionsUp:he=s.A,onFullscreenButtonClicked:ve,isFullScreen:ge}=w;const ke=(0,t.useContext)(D.A),[Ne,We]=(0,t.useState)(!1),[Oe,be]=(0,t.useState)(!1),Ke=(0,t.useRef)(null),Fe=(0,t.useRef)(null),J=re?_e.t("Pause"):_e.t("Play"),ne=(0,t.useCallback)(Qe=>{var Be,we;const xe=Qe.target,Se=!!(ke&&(!((Be=Ke.current)===null||Be===void 0)&&Be.contains(xe)||!((we=Fe.current)===null||we===void 0)&&we.contains(xe)));be(Se)},[ke]),je=(0,t.useCallback)(Qe=>{var Be,we;const xe=Qe.relatedTarget,Se=!!(ke&&(!((Be=Ke.current)===null||Be===void 0)&&Be.contains(xe)||!((we=Fe.current)===null||we===void 0)&&we.contains(xe)));be(Se)},[ke]),{mouseIsOverElement:at,onMouseLeave:nt,onMouseEnter:Ge,onMouseMove:Pe,onMouseOver:Le}=(0,ce.A)(),ze=(0,t.useCallback)(()=>{Ge()},[Ge]);(0,t.useEffect)(()=>{he(at)},[at,he]);const Me=(()=>se?(0,M.A)(se*1e3):Z?(0,M.A)(Z*1e3):_e.t("Video"))(),Ce=pe?t.createElement(u.A,{size:"medium",color:"white",className:"c-video_player_controls_overlay__controls__spinner",noMargin:!0}):t.createElement(P.A,{name:re?"pause-filled":"play-filled",inline:!0});return G?t.createElement(q.A,null,Qe=>{let{measureRef:Be,width:we}=Qe;const xe=we||360,Se=!!(xe&&xe<=330);return t.createElement("div",{className:o()("c-video_player_controls_overlay","c-video_player_controls_overlay--controls",{"c-video_player_controls_overlay--active":Oe,"p-video_player_controls_overlay--vertical_volume_active":Ne}),onFocus:ne,onBlur:je,onMouseEnter:ze,onMouseLeave:nt,onMouseMove:Pe,onMouseOver:Le,"data-prevent-fade":"true",role:"group",ref:Be},t.createElement(me.Nm,{className:"c-video_player_controls_overlay__button",onClick:Y,tabIndex:-1,"aria-hidden":"true"}),t.createElement("div",{className:"c-video_player_controls_overlay__controls_container",ref:Ke},t.createElement(Q,{elapsed:se,duration:Z,setTime:ae}),t.createElement("div",{className:"c-video_player_controls_overlay--controls"},t.createElement(me.Nm,{className:o()("c-video_player_controls_overlay__controls__pill",{"c-video_player_controls_overlay__controls__pill--playing":re}),"aria-label":J,"aria-pressed":re,onClick:Y},Ce,t.createElement("div",{className:"c-video_player_controls_overlay__time"},Me)),t.createElement(te.A,{className:"c-video_player_media_volume_slider",isInlinePlayer:!0,useVerticalVolume:Se,setIsVerticalVolumeActive:We,videoRef:de}),t.createElement("div",{className:"c-video_player_controls--right-controls"},t.createElement(le.A,{isInlinePlayer:!0,videoRef:de}),ie&&t.createElement(k,{vtt:ie,isInlinePlayer:!0})))),t.createElement("div",{className:"c-video_player_controls_overlay__corner c-video_controls_overlay__hover",ref:Fe},!ge&&ve&&t.createElement($.A,{classPrefix:"c-video_player",onClick:ve})))}):null},"VideoOverlay");Ae.displayName="VideoOverlay";const ye=Ae,oe=new r.Ay("slack_kit_video"),ee=E(w=>{let{className:Y,styleProps:G,title:Z,label:se,src:ae,vtt:re,enableMediaCaptions:pe=!1,autoPlay:de,videoPoster:ie,enableControls:he=!1,controlsList:ve,bubbleErrorOrLoadingStateToParent:ge=s.A,videoContainerClassName:ke}=w;const Ne=(0,t.useRef)(null),[We,Oe]=(0,t.useState)(!1),[be,Ke]=(0,t.useState)(!1),[Fe,J]=(0,t.useState)(!0),[ne,je]=(0,t.useState)(0),[at,nt]=(0,t.useState)(0),[Ge,Pe]=(0,t.useState)(!1),Le=(0,p.d4)(Qe=>(0,A.ty)(Qe,"enable_media_captions"))||pe;(0,t.useEffect)(()=>{ge&&ge({hasError:be,isLoading:Fe})},[be,Fe,ge]);const ze=(0,t.useCallback)(Qe=>{if(Ne!=null&&Ne.current){var Be;(Be=Ne.current)===null||Be===void 0||Be.setCurrentTime(Qe,!1)}else je(Qe)},[Ne,je]),Me=(0,t.useCallback)((Qe,Be)=>{Be&&nt(Be)},[]),Ce=(0,t.useCallback)(Qe=>{var Be;Qe.stopPropagation(),(Be=Ne.current)===null||Be===void 0||Be.togglePlayPause()},[Ne]);return t.createElement(c.A,{clogImpression:!0,eventId:g.EventId.SK_VIDEO_PLAYER},t.createElement("div",{className:o()("c-video_player",Y),style:G},t.createElement(I,{title:Z,label:se,src:ae,vtt:re,ref:Ne,autoPlay:de,videoPoster:ie,enableControls:he,controlsList:ve,setIsLoading:J,isLoading:Fe,isPlaying:We,setIsPlaying:Oe,duration:at,setDuration:nt,setElapsed:je,onLoadedMetadata:Me,enableMediaCaptions:Le,shiftCaptionsUp:Ge,setHasError:Ke,videoContainerClassName:ke}),be&&t.createElement("div",{className:"c-video_player__error_overlay"},t.createElement("p",null,oe.t("Error loading video. Please try again later."))),t.createElement(ye,{onClickOverlay:Ce,elapsed:ne,duration:at,showControls:!he,setTime:ze,isPlaying:We,isLoading:Fe,videoRef:Ne,vtt:re,setShiftCaptionsUp:Pe,onFullscreenButtonClicked:s.A,isFullScreen:!1})))},"VideoPlayer");ee.displayName="VideoPlayer";const V=t.memo(ee)},3227396439:(N,y,e)=>{"use strict";e.d(y,{$:()=>c,h:()=>s});var t=e(6769132732),n=e(7090824688),o=e(5185985254);const s=(0,t.A)(n.yW),c=(0,t.A)((0,o.A)(n.yW))},97626932:(N,y,e)=>{"use strict";e.d(y,{A:()=>c,u:()=>s});var t=e(6769132732),n=e(630868093),o=e(5185985254);const s=(0,t.A)(n.JJ),c=(0,t.A)((0,o.A)(n.JJ))},6769132732:(N,y,e)=>{"use strict";e.d(y,{A:()=>$});var t=e(3134334389),n=e(7715417323),o=e(166097325),s=e(9113979368),c=e(9524650809),r=e(235108050),a=e(362134992),i=e(2208015175),l=e(8086952004),m=e(4360875129),_=e(2394306156),h=e(9746734072),d=e(2101927269),f=e(8840779375),v=e(9268023148),u=e(5950652755),g=e(3297051565),p=e.n(g),A=e(1545824888),C=e(3924280006),T=e(3708320478),I=e(1507416e3),M=e(2753496765),D=e(7994832222);function O(le){return[...le.filter(te=>!te.isError&&!te.isUnknown),...le.filter(te=>!te.isError&&te.isUnknown),...le.filter(te=>te.isError)]}E(O,"sortTokens");var S=e(9236644324),R=e(56548687),U=e(337319621),P=e(6471059816),L=e(8374895239),F=e(4327331459),x=e(7679173189),b=e(4862221402),k=e(9868740303),B=e(4342685672),W=e(4757466470),K=e(9391594207),H=e(8847766420);function z(){return z=Object.assign||function(le){for(var te=1;te<arguments.length;te++){var ce=arguments[te];for(var me in ce)Object.prototype.hasOwnProperty.call(ce,me)&&(le[me]=ce[me])}return le},z.apply(this,arguments)}E(z,"_extends");const Q=(0,U.Wo)(),q=new P.Ay("form_inputs");function $(le){const te={searcherOptions:p().object.isRequired,selectId:p().string.isRequired,inputRef:p().object,isRequired:p().bool,selectedOptions:p().array,selectedOption:p().object,isExpanded:p().bool,isDisabled:p().bool,isInvalid:p().bool,focusOnMount:p().bool,searchOnPaste:p().bool,expandOnFocus:p().bool,expandOnClick:p().bool,searchBatchSize:p().number,debounceWaitPeriod:p().number,onFilterQueryPaste:p().func,onInputFocused:p().func,onSearch:p().func,onSearchError:p().func,onSearchResolved:p().func,onOptionsListClose:p().func,splitPastedQuery:p().func,processOptions:p().func,processSelectedOptions:p().func,clogger:p().object.isRequired,search:p().func.isRequired,teamId:p().string.isRequired,useSearcherSessions:p().bool,showConfirmDialog:p().func,restrictedSelectedTokenIndexes:p().array,disabledSelectedTokenIndexes:p().array,invalidSelectedTokenIndexes:p().array,useBulkSearch:p().bool,shouldRefocusInputAfterSelection:p().bool},ce={isRequired:!0,selectedOptions:null,selectedOption:null,inputRef:null,isExpanded:!1,isDisabled:!1,isInvalid:!1,focusOnMount:!1,searchOnPaste:!1,expandOnFocus:void 0,expandOnClick:void 0,searchBatchSize:1,debounceWaitPeriod:50,onFilterQueryPaste:n.A,onInputFocused:n.A,onSearch:n.A,onSearchError:n.A,onSearchResolved:n.A,onOptionsListClose:n.A,splitPastedQuery:M.I,processOptions:ye=>A.K.resolve(ye),processSelectedOptions:void 0,useSearcherSessions:!1,showConfirmDialog:void 0,restrictedSelectedTokenIndexes:[],disabledSelectedTokenIndexes:[],invalidSelectedTokenIndexes:[],useBulkSearch:!1,shouldRefocusInputAfterSelection:void 0};let me=E(class extends t.Component{componentDidMount(){this.props.focusOnMount&&this.setState(()=>({isLoading:!0})),this.searchQuery(this.state.filterQuery)}componentDidUpdate(oe,ee){const{isDisabled:V,isInvalid:w,selectedOptions:Y,selectedOption:G,searchOnPaste:Z,expandOnFocus:se,expandOnClick:ae,restrictedSelectedTokenIndexes:re,disabledSelectedTokenIndexes:pe,invalidSelectedTokenIndexes:de}=this.props,ie={};if(oe.isInvalid!==w&&(ie.isInvalid=w),oe.isDisabled!==V&&(ie.isDisabled=V),(0,o.A)(oe.selectedOptions,Y)||(ie.selectedOptions=Y),(0,o.A)(oe.selectedOption,G)||(ie.selectedOption=G),(oe.expandOnFocus&&!se||oe.expandOnClick&&!ae)&&(ie.isExpanded=!1),this.wasUnknownTokenResolved(this.state.selectedOptions,ee.selectedOptions)){var ve,ge;const Ke=this.getNextUnknownTokenIndex();ie.selectedTokenIndexes=[Ke],(ve=this.inputRef)===null||ve===void 0||(ge=ve.current)===null||ge===void 0||ge.focus()}oe.restrictedSelectedTokenIndexes!==re&&(ie.restrictedSelectedTokenIndexes=re),oe.disabledSelectedTokenIndexes!==pe&&(ie.disabledSelectedTokenIndexes=pe),oe.invalidSelectedTokenIndexes!==de&&(ie.invalidSelectedTokenIndexes=de);const{isLoading:ke,pendingQueries:Ne,selectedOptions:We,pendingEscapeQueries:Oe,filterQuery:be}=this.state;if(Z&&!ke){if(!(0,s.A)(Ne))ie.isLoading=!0,ie.loadInBackground=!0,this.searchQueryObjects(Ne);else if(ee.isLoading){if(this.updateDisabled(!1),Oe.length>0&&be===""){const Ke=(0,L.A)(Oe.map(at=>at.query),{noConj:!0}).join(""),Fe=Oe[0],{options:J}=Fe,ne=E(at=>at.map(nt=>{const{query:Ge,options:Pe,...Le}=nt,ze=Pe?{options:ne(Pe)}:{};return{...Le,...ze,query:Ke}}),"getUpdatedOptions"),je={...Fe,options:ne(J),query:Ke};ie.pendingEscapeQueries=[],ie.options=je.options,ie.filterQuery=Ke,ie.isExpanded=!0,ie.isLoading=!1}if(We.length){const Ke=We.filter(J=>J.isError||J.isUnknown).length,Fe=Ke?q.t("Loading complete. There {count, plural, =1 {is # unknown entry} other {are # unknown entries}}.",{count:Ke}):q.t("Loading complete.");this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel(),this.updateAriaTextThrottled(Fe)}}}(0,s.A)(ie)||this.setSelectState(()=>ie)}componentWillUnmount(){this.updateAriaText.cancel&&this.updateAriaText.cancel(),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this._isMounted=!1}async onFilterQueryPaste(oe){const{searchOnPaste:ee,searcherOptions:V,splitPastedQuery:w,processOptions:Y}=this.props;if(!ee||!oe&&!oe.clipboardData)return;oe.preventDefault();const G=oe.clipboardData.getData("text/plain")?"text/plain":"Text",Z=(0,S.i_)(oe),se=Z.text,ae=w(se,{...V,fromMetadata:Z.text!==oe.clipboardData.getData(G)});this.props.onFilterQueryPaste(ae);const re=[],pe=[];await A.K.all(ae.map(de=>{const ie=this.getQueryId();return(0,F.A)(de)||(0,b.A)(de)||(0,x.Ay)(de)?Y([{key:ie,pasted:!0,fromMetadata:!0,value:de,label:Z.members?Z.members[de]:de}]).then(he=>(he[0]&&pe.push(he[0]),A.K.resolve())):(re.push({query:de,queryId:ie,pasted:!0}),pe.push({label:de,queryId:ie,isLoading:!0,key:ie,pasted:!0}),A.K.resolve())})),this.setSelectState(de=>({pendingQueries:de.pendingQueries.concat(re),selectedOptions:de.selectedOptions.concat(pe),filterQuery:""})),this.updateDisabled(!(0,s.A)(re)),this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel()}onInputFocused(){this.props.onInputFocused(),!(this.props.expandOnClick||this.shouldExpandOnFocus())&&this.setState(()=>({isExpanded:!1,options:[]}))}onOptionsListClose(oe){const{isLoading:ee,isExpanded:V,filterQuery:w}=this.state;!ee&&V&&w.length>0&&this.clogSearcherResults(),this.props.onOptionsListClose(oe)}async onTokenSelect(oe){if(!(this.props.expandOnClick||this.shouldExpandOnFocus())){if(oe&&!oe.isUnknown)this.setState(()=>({isExpanded:!1,options:[]}));else if(oe){const ee=await this.props.processOptions(oe.resultOptions.map(V=>({...V,fromUnknown:!0})),oe.label);this.lastShownSearchDetails=oe.searcher,this.setState(()=>({isExpanded:!0,options:ee}))}}}getQueryId(){return(0,c.A)("query__")}async setSelectState(oe,ee){var V;const{processSelectedOptions:w}=this.props;let Y=oe(this.state);const{selectedOption:G,selectedOptions:Z,shouldRefocusInputAfterSelection:se}=this.state;se&&(Y.shouldRefocusInputAfterSelection=!0),Y.filterQuery!==void 0&&Y.filterQuery!==this.state.filterQuery&&(Y.isLoading=!0,Y.loadInBackground=!1,this.searchQuery(Y.filterQuery));const{searchOnPaste:ae}=this.props;if(ae&&Y.selectedOptions){const pe=Y.selectedOptions.map(ie=>{let{key:he}=ie;return he}),de=(0,r.A)((0,a.A)(pe.filter(ie=>pe.indexOf(ie)!==pe.lastIndexOf(ie))));(0,i.A)(de,ie=>{const he=(0,l.A)(Y.selectedOptions,ge=>{let{key:ke,isUnknown:Ne}=ge;return ke===ie&&!Ne}),ve=(0,a.A)(Y.selectedOptions.map(ge=>ge.key===ie?ge.isUnknown?he:null:ge));Y.selectedOptions=ve})}if(Y.selectedOptions!==void 0&&!(0,o.A)(Y.selectedOptions,Z)){const pe=Y.selectedOptions.filter(ie=>{let{isLoading:he,isUnknown:ve}=ie;return!he&&!ve}),[de]=(0,m.A)(pe,Z,"value");de&&this.clogSearcherResults(de)}Y.selectedOption!==void 0&&Y.selectedOption!==null&&((V=Y.selectedOption)===null||V===void 0?void 0:V.value)!==(G==null?void 0:G.value)&&this.clogSearcherResults(Y.selectedOption);const re=!!Y.removalInitiator;if(Y.selectedOptions&&!re&&w){if(Y=(0,_.A)(Y),Y.isLoading!==void 0){const pe=Y.isLoading;this.setState(()=>({isLoading:pe})),delete Y.isLoading}Y.selectedOptions=await w(Y.selectedOptions)}this.setState(()=>Y,ee)}getNextUnknownTokenIndex(){return this.state.selectedOptions.findIndex(oe=>oe.isUnknown&&oe.queryId)}wasUnknownTokenResolved(oe,ee){const V=oe.filter(Y=>Y.isUnknown).length,w=ee.filter(Y=>Y.isUnknown).length;return V<w}shouldExpandOnFocus(){const{expandOnFocus:oe}=this.props,{selectedOptions:ee}=this.state,V=(0,I.A)(ee);return oe&&!V}clogSearcherResults(oe){if(this.lastShownSearchDetails===null)return;const{clogger:ee,selectId:V,useSearcherSessions:w,teamId:Y}=this.props,{query:G,results:Z}=this.lastShownSearchDetails,se={source:V,query:G,results:Z};oe?(se.selectedItemId=oe.value,w?(0,k.A)({teamId:Y,key:V}).clogSearcherAccept({clogger:ee,data:se}):(0,C.DC)({clogger:ee,data:se})):w?(0,k.A)({teamId:Y,key:V}).clogSearcherReject({clogger:ee,data:se}):(0,C.Yb)({clogger:ee,data:se})}processSearchResults(oe){const{searchOnPaste:ee,onSearchResolved:V,searcherOptions:w}=this.props,{escapeHatchEnabled:Y,escapeHatchKeys:G}=w,Z=this.state.selectedOptions.slice(0);ee&&oe.forEach(se=>{let{queryId:ae,options:re,searcher:pe}=se;const de=Z.findIndex(ve=>ve.queryId===ae),ie=Z[de];let he=null;if(ie){this.lastShownSearchDetails=pe;let ve;re.length===1?(ve=re[0],Y&&pe&&pe.results&&pe.results.length===0&&pe.pasted&&G&&G[ve.key]&&this.setState(ke=>({pendingEscapeQueries:[...ke.pendingEscapeQueries,{query:pe.query,options:[ve]}]})),this.clogSearcherResults(ve)):re.length?ve={isUnknown:!0}:(ve={isError:!0},this.clogSearcherResults()),he={...ie,...ve,resultOptions:re,searcher:pe,isLoading:!1},Z[de]=he}V({result:re,selectedOption:he})}),this.setState(se=>{if((0,W.Ay)(se.selectedOptions,Z,2)){const{options:ae,searcher:re}=oe[0];return this.lastShownSearchDetails=re,se.loadInBackground?null:{options:ae}}return{selectedOptions:O(Z)}})}runBatchedSearch(oe){const ee=oe.slice(0,this.props.searchBatchSize);if(oe.length>1&&this.props.useBulkSearch){const w=ee.some(G=>!!G.pasted),Y=ee.some(G=>!!G.initial);return this.runSingleSearch({query:ee,pasted:w,initial:Y})}const V=ee.map(w=>{let{query:Y,queryId:G,pasted:Z,initial:se}=w;return this.runSingleSearch({query:Y,queryId:G,pasted:Z,initial:se})});return A.K.all(V)}runSingleSearch(oe){let{query:ee,queryId:V,pasted:w,initial:Y}=oe;const{onSearch:G,onSearchError:Z,processOptions:se,searcherOptions:ae,selectId:re,useSearcherSessions:pe,teamId:de,useBulkSearch:ie}=this.props;let he,ve,ge=!1;const ke=V||this.getQueryId(),Ne=new Map;if((0,h.A)(ee)&&ie?(he=ee.map(Oe=>(Ne.set(Oe.queryId,Oe.query),{query:(0,M.t)(Oe.query,ae),queryId:Oe.queryId})),ge=!0):ve=(0,M.t)(ee,ae),ve&&G(ee)===!1)return se([],ve).then(Oe=>({queryId:ke,options:Oe,searcher:this.lastShownSearchDetails}));let We;return pe&&(!w||ge)?We=(0,k.A)({teamId:de,key:Y?ke:re}).search({query:ge?he:ve,options:{...ae,sort:{source:re,...ae.sort},returnMetadata:!0}}):We=this.props.search({query:ge?he:ve,options:{...ae,sort:{source:re,...ae.sort},returnMetadata:!0}}),We.then(async Oe=>{this.lastShownSearchDetails={query:ge?he:ve,results:Oe};const be=(Oe||[]).map((J,ne)=>{var je;return{key:ge?J.queryId:`${ke}_${ne}`,value:J.item.id,label:J.name||((je=J.item)===null||je===void 0?void 0:je.name)||(ge?Ne.get(J.queryId):ee),entity:J.item,matchData:J.subqueryScoresByMember}}),{selectedOption:Ke}=this.state;ve===""&&Ke&&((0,l.A)(be,["value",Ke.value])||be.unshift(Ke));const Fe=await se(be,ee,{pasted:w});return{queryId:ke,options:Fe,searcher:{...this.lastShownSearchDetails,pasted:w}}}).catch(Oe=>{Q.error(`Error when searching for select id: ${re}, error: ${Oe}`),Z(Oe);const be=[];return{queryId:ke,options:be,searcher:{query:ge?he:ve,results:be,pasted:w,isError:!0}}})}searchQuery(oe){this._isMounted&&this.searchQueryObjects([{query:oe}])}searchQueryObjects(oe){if((0,s.A)(oe))return;if(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.props.searchOnPaste){const{query:V,queryId:w}=oe[0];this.searchPromise=this.runSingleSearch({query:V,queryId:w}).then(Y=>{let{options:G}=Y;this.setSelectState(()=>({options:G})),this.setState(()=>({isLoading:!1}))});return}this.searchPromise=this.runBatchedSearch(oe).then(V=>{let w=V;this.props.useBulkSearch&&(w=this.generateBulkSearchResultsArray(w)),this.processSearchResults(w);const Y=w.map(G=>{let{queryId:Z}=G;return Z});this.setState(G=>({pendingQueries:G.pendingQueries.filter(se=>{let{queryId:ae}=se;return!Y.includes(ae)}),isLoading:!1}))});const ee=q.t("Loading {count, plural, =1 {# more entry} other {# more entries}}",{count:oe.length});this.updateAriaTextThrottled(ee)}updateAriaText(oe){this.setState(ee=>ee.ariaText===oe?null:{ariaText:oe})}updateDisabled(oe){this.setState(ee=>ee.isDisabled===oe?null:{isDisabled:oe})}generateBulkSearchResultsArray(oe){var ee;if(!(!(oe==null||(ee=oe.options)===null||ee===void 0)&&ee.length))return oe.splice(0);const{options:V,searcher:w}=oe,{pasted:Y,query:G,results:Z}=w;return G.map(ae=>({options:V.filter(re=>re.key===ae.queryId),queryId:ae.queryId,searcher:{pasted:Y,query:ae.query,results:Z.filter(re=>re.queryId===ae.queryId)}}))}render(){return t.createElement(t.Fragment,null,t.createElement(le,z({},this.props,{expandOnFocus:this.shouldExpandOnFocus(),inputRef:this.inputRef,selectState:this.state,setSelectState:this.setSelectState,onOptionsListClose:this.onOptionsListClose,onFilterQueryPaste:this.onFilterQueryPaste,onTokenSelect:this.onTokenSelect,onInputFocused:this.onInputFocused,isLoading:this.state.isLoading})),t.createElement(T.A,{message:this.state.ariaText}))}constructor(oe){super(oe),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.onOptionsListClose=this.onOptionsListClose.bind(this),this.onFilterQueryPaste=this.onFilterQueryPaste.bind(this),this.onTokenSelect=this.onTokenSelect.bind(this),this.onInputFocused=this.onInputFocused.bind(this);const{selectedOptions:ee,searchOnPaste:V}=oe,w=(0,d.A)(ee,G=>(0,D.iC)(G));let Y=[];V&&(Y=(0,a.A)((0,f.A)(w,G=>!G.label||!G.queryId?null:{query:G.label,queryId:G.queryId,initial:!0}))),this.state={filterQuery:"",options:[],isExpanded:oe.isExpanded,selectId:oe.selectId,selectedOptions:oe.selectedOptions||[],selectedOption:oe.selectedOption||null,isRequired:oe.isRequired,isLoading:!1,isDisabled:oe.isDisabled,isInvalid:oe.isInvalid,pendingQueries:Y||[],loadInBackground:!1,ariaText:"",shouldRefocusInputAfterSelection:!!oe.showConfirmDialog||oe.shouldRefocusInputAfterSelection,pendingEscapeQueries:[],selectedTokenIndexes:[],restrictedSelectedTokenIndexes:oe.restrictedSelectedTokenIndexes||[],disabledSelectedTokenIndexes:oe.disabledSelectedTokenIndexes||[],invalidSelectedTokenIndexes:oe.invalidSelectedTokenIndexes||[]},this.searchQuery=(0,v.A)(this.searchQuery,oe.debounceWaitPeriod),this.updateAriaTextThrottled=(0,u.A)(this.updateAriaText,3e4),this.lastShownSearchDetails=null,this.inputRef=oe.inputRef||t.createRef(),this._isMounted=!0}},"SearcherSelectWrapper");me.displayName="SearcherSelectWrapper",me.propTypes=te,me.defaultProps=ce;const _e=E(ye=>({clogger:(0,R.e)({state:ye}),teamId:(0,H.JY)(ye),useSearcherSessions:(0,B.nK)(ye)}),"mapStateToProps"),Ae={search:function(){for(var ye=arguments.length,oe=new Array(ye),ee=0;ee<ye;ee++)oe[ee]=arguments[ee];return(0,C.$P)(...oe)}};return(0,K.N)(_e,Ae)(me)}E($,"withSearcher")},6226774595:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>n,Y$:()=>s,Z0:()=>o,d1:()=>r,iC:()=>a,nB:()=>c});var t=e(4761125736);function n(i){return(0,t._Z)(i,"tableau_unfurls")==="on"}E(n,"isTableauUnfurlsEnabled");function o(i){return(0,t._Z)(i,"tableau_work_object_unfurls")==="on"}E(o,"isTableauWorkObjectUnfurlsEnabled");function s(i){return(0,t._Z)(i,"tableau_unfurls_embed")==="on"}E(s,"isTableauUnfurlsEmbedEnabled");function c(i){return(0,t._Z)(i,"tableau_unfurls_embed_caching")==="on"}E(c,"isTableauUnfurlsEmbedCachingEnabled");function r(i){return(0,t._Z)(i,"tableau_sdk_with_lo")==="on"}E(r,"isTableauSdkWithLoEnabled");function a(i){return(0,t._Z)(i,"tableau_256_release")==="on"}E(a,"isTableau256ReleaseEnabled")},9361281657:(N,y,e)=>{"use strict";e.d(y,{U:()=>n});var t=e(4761125736);function n(o){return(0,t._Z)(o,"polls")==="on"}E(n,"isPollsEnabled")},9866150923:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7937864072),c=e(2647703359),r=e(8683010724),a=e(9506008067),i=e(3328068409),l=e(762973295),m=e.n(l);function _(d){let{iconClassName:f,file:v,isFilled:u=!0}=d;const g=(0,s.A)(),p=(0,a.d4)(i.to);return v&&!(0,c.Y8)(v)?(g.error(`[PollIcon] Expected Poll file, got ${(0,c.ti)(v)}`),null):t.createElement("div",{className:o()(f,m().pollIcon,{[m().pollIconDark]:p==="dark"})},t.createElement(r.A,{name:u?"form-filled":"form",size:"20"}))}E(_,"PollIcon"),_.displayName="PollIcon";const h=t.memo(_)},4121822481:(N,y,e)=>{"use strict";e.d(y,{D:()=>_,Y:()=>h});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(5000515034),c=e(6084388622),r=e(8683010724),a=e(2217643974),i=e.n(a);function l(){return l=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(d[u]=v[u])}return d},l.apply(this,arguments)}E(l,"_extends");function m(){return t.createElement(r.A,{name:"caret-right",size:"16"})}E(m,"Separator"),m.displayName="Separator";function _(d){let{crumb:f}=d;const{label:v,onClick:u,className:g,iconProps:p}=f;return t.createElement("div",{className:o()(i().record_breadcrumb,g)},p&&t.createElement(r.A,l({},p,{inline:!0})),!u&&t.createElement("span",{className:i().record_breadcrumb_label},v),u&&t.createElement(c.jV,{className:i().record_breadcrumb_label,onClick:u},v))}E(_,"RecordBreadcrumb"),_.displayName="RecordBreadcrumb";function h(d){let{className:f,crumbs:v,isLoading:u}=d;return!v.length&&!u?null:t.createElement("div",{className:o()(i().record_breadcrumbs,f)},u&&t.createElement(s.A,{dataQa:"record-breadcrumbs-missing-text",size:"large"}),!u&&v.map((g,p)=>t.createElement(t.Fragment,{key:g.label},t.createElement(_,{crumb:g}),!g.noSeparator&&p!==v.length-1&&t.createElement(m,null))))}E(h,"RecordBreadcrumbsLayout"),h.displayName="RecordBreadcrumbsLayout"},5083570322:(N,y,e)=>{"use strict";e.d(y,{r:()=>T});var t=e(3134334389),n=e(6122756707),o=e(362134992),s=e(4121822481),c=e(2463625947),r=e(5892132962),a=e(2233365467),i=e(2823938397),l=e(9392104102),m=e(6471059816),_=e(5332109660),h=e(9506008067),d=e(9101533895),f=e(8096107629),v=e(7045654828),u=e(4158363050);const g=new m.Ay("recordchannels");function p(I){let{className:M,recordId:D}=I;const O=(0,n.wA)(),S=(0,h.d4)(U=>(0,v.PQ)(U,D)),R=(0,t.useMemo)(()=>{if(!(0,f._s)(S))return l.Ml;const{org:U,parent:P}=S,L=(0,r.C)(P==null?void 0:P.object_api_name),F=(0,r.C)("Org");return(0,o.A)([P&&{label:P.name,iconProps:L,onClick:()=>O((0,c.c)({recordId:P.id}))},U&&{label:U.name,iconProps:F}])},[O,S]);return t.createElement(s.Y,{className:M,crumbs:R,isLoading:(0,f.Eh)(S)})}E(p,"BaseRecordBreadcrumbs"),p.displayName="BaseRecordBreadcrumbs";function A(I){let{className:M,channelId:D,includePrefix:O}=I;const S=(0,n.wA)(),R=(0,h.d4)(B=>(0,d.OL)(B,D)),U=(0,a.iJ)(R),P=(0,a.dM)(R),L=(0,a.jT)(R),F=(0,h.d4)(B=>(0,v.PQ)(B,U)),x=F.parent,b=(0,h.d4)(B=>(0,u.kO)(B,(0,_.D)(U||"").salesforceOrgId)),k=(0,t.useMemo)(()=>{const B=(0,r.C)(P),W=(0,r.C)(x==null?void 0:x.object_api_name),K=(0,r.C)("Org");return(0,o.A)([O&&{label:g.t("{recordLabel} in",{recordLabel:L,recordType:L}),className:"margin_right_25",iconProps:B,noSeparator:!0},(x==null?void 0:x.name)&&{label:x.name,iconProps:W,onClick:()=>{x.id&&S((0,c.c)({recordId:x.id}))}},(0,i.uz)(b)&&{label:b.name,iconProps:K}])},[S,O,b,x,P,L]);return t.createElement(s.Y,{className:M,crumbs:k,isLoading:(0,i.mX)(b)||(0,i.mX)(R)||(0,f.Eh)(F)})}E(A,"BaseRecordChannelBreadcrumbs"),A.displayName="BaseRecordChannelBreadcrumbs";const C=null,T=t.memo(A)},5996639710:(N,y,e)=>{"use strict";e.d(y,{L:()=>o});var t=e(3009309149),n=e(4761125736);const o=(0,t.Ay)(c=>(0,n._Z)(c,"record_channel_related_conversations_fe")==="on");o.meta={name:"createSelector",key:"createSelectorgetIsRecordChannelRelatedConversationsEnabled",description:c=>(0,n._Z)(c,"record_channel_related_conversations_fe")==="on"};const s=(0,t.Ay)(c=>(0,n._Z)(c,"salesforce_channel_retention_frontend")==="on");s.meta={name:"createSelector",key:"createSelectorisSalesforceChannelRetentionFrontendEnabled",description:c=>(0,n._Z)(c,"salesforce_channel_retention_frontend")==="on"}},2463625947:(N,y,e)=>{"use strict";e.d(y,{B:()=>_,c:()=>h});var t=e(352142497),n=e(9629572172),o=e(4117634716),s=e(8822892075),c=e(1407713935),r=e(8040098042),a=e(6304789565),i=e(8847766420),l=e(9101533895),m=e(8096107629);function _(d){return(d==null?void 0:d.type)==="messageUnfurl"}E(_,"isMessageUnfurlReferrer");const h=(0,a.Ay)("Navigate to a Record in the Flexpane",async(d,f,v,u)=>{let{listViewId:g,recordId:p,shouldPersistOnRecordChannel:A=!0,referrer:C}=v;const T=f(),I=(0,i.ZT)(T);I&&(0,m.D1)(I,[p]);let M;if(A){const{getPrimaryView:O}=u(n.U),S=O(T),R=S==null?void 0:S.id;M=R&&(S==null?void 0:S.viewType)===t.D.Channel&&(0,r.A)(R)&&(0,c.rI)((0,l.OL)(T,R,!1))?R:void 0}const D=(0,s.We)({listViewId:g,recordId:p});return d((0,o.o)({...D,params:{...D.params,parentTab:M,referrer:C}}))});h.meta={name:"createThunk",key:"createThunknavigateToRecord",description:"Navigate to a Record in the Flexpane"}},5892132962:(N,y,e)=>{"use strict";e.d(y,{C:()=>u,sc:()=>g});var t=e(9548888903),n=e(2233365467),o=e(1407713935),s=e(5298341891);const c={name:"sf-account"},r={name:"sf-case"},a={name:"sf-contact"},i={name:"sf-lead"},l={name:"sf-opportunity"},m={name:"sf-cloud"},_={name:"sf-record"},h={name:"sf-record-list"},d={name:"bolt"},f={name:"headphones-filled"},v={[s.Dj.Account]:c,[s.Dj.Case]:r,[s.Dj.Contact]:a,[s.Dj.Lead]:i,[s.Dj.Opportunity]:l,List:h,Org:m,Record:_,Bolt:d},u=E(p=>p&&v[p]||_,"getSalesforceIconPropsForType");function g(p){if(!(0,o.rI)(p))return null;const A=(0,n.LJ)(p);switch((0,n.fI)(A==null?void 0:A.record_id)){case t.B4.Huddle:return f;default:return null}}E(g,"getRecordChannelOverrideIconProps")},6878532881:(N,y,e)=>{"use strict";e.d(y,{Q:()=>n});var t=e(4761125736);const n=E(o=>(0,t._Z)(o,"sidekicks")==="on","isSidekicksEnabled")},7244076749:(N,y,e)=>{"use strict";e.d(y,{b:()=>n});var t=e(2878685908);function n(){return(0,t.b3)()}E(n,"isSlackKitPlaygroundEnabled")},9449324277:(N,y,e)=>{"use strict";e.d(y,{Y:()=>a});var t=e(3134334389),n=e(9132066222),o=e(1335022929),s=e(5519146941),c=e(9506008067),r=e(3193155968);function a(){var i;const{currentTabId:l}=(0,t.useContext)(o.d),m=(0,c.d4)(n.zm),{getSiblingView:_,container:h}=(0,t.useContext)(s.A),d=(0,c.d4)(f=>_(f,{container:h??r.mq.Primary}));return m?l:d==null||(i=d.params)===null||i===void 0?void 0:i.tabId}E(a,"useCurrentChannelTabId")},2615727366:(N,y,e)=>{"use strict";e.d(y,{u:()=>a});var t=e(3134334389),n=e(9449324277),o=e(4939604634),s=e(1335022929),c=e(7937864072),r=e(9506008067);function a(){const i=(0,c.A)(),{channelId:l}=(0,t.useContext)(s.d),m=(0,n.Y)(),_=(0,r.d4)(h=>{if(l)return(0,o.b)(h,{channelId:l,currentTabId:m})});if(l)return _||i.error(new Error("No current channel tab selected.")),_}E(a,"useCurrentlySelectedTab")},1335022929:(N,y,e)=>{"use strict";e.d(y,{H:()=>a,d:()=>r});var t=e(3134334389),n=e(9132066222),o=e(4427921758),s=e(7245481391),c=e(9506008067);const r=(0,t.createContext)({});function a(i){let{channelId:l,currentTabId:m,children:_}=i;const h=(0,c.d4)(n.zm),d=(0,t.useMemo)(()=>h?{channelId:l,currentTabId:m??s.fY.Channel}:{channelId:l,currentTabId:void 0},[l,m,h]);return l?t.createElement(r.Provider,{value:d},t.createElement(o.j.Provider,{value:d},_)):_}E(a,"TabbedChannelProvider"),a.displayName="TabbedChannelProvider"},4249467243:(N,y,e)=>{"use strict";e.d(y,{c:()=>o});var t=e(3009309149),n=e(4761125736);const o=(0,t.Ay)(s=>(0,n._Z)(s,"unified_directory")==="on");o.meta={name:"createSelector",key:"createSelectorisUnifiedDirectoryViewEnabled",description:s=>(0,n._Z)(s,"unified_directory")==="on"}},6971099563:(N,y,e)=>{"use strict";e.d(y,{Kr:()=>r,TX:()=>i,jH:()=>o,t_:()=>a,yg:()=>s});var t=e(3037015781),n=e(6140401014);const o=E(l=>(l==null?void 0:l.type)==="entity_details_present","isEntityFromRTMEvent"),s=E(l=>{var m;return o(l)&&((m=l.ext_error)===null||m===void 0?void 0:m.status)==="user_not_authed"},"isExistingEntityAwaitingUserAuth"),c=E(l=>{if(!(0,t.GU)(l))return o(l)?l.entity_details:l.work_object},"getWorkObjectDetails"),r=E(l=>{const m=c(l);return m?n.cV.create(m):void 0},"getWorkObjectModel"),a=E(l=>(0,t.GU)(l)?l.id:o(l)?l.entity_id:l.record_id,"getEntityId"),i=E(l=>{var m;const _="external_link"in l?l.external_link:void 0;var h;return(h=(m=c(l))===null||m===void 0?void 0:m.external_url)!==null&&h!==void 0?h:_},"getEntityUrl")},73855031:(N,y,e)=>{"use strict";e.d(y,{n:()=>_});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(2036354333),r=e(8683010724),a=e(6627147571),i=e.n(a);function l(){return l=Object.assign||function(h){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v])}return h},l.apply(this,arguments)}E(l,"_extends");const m={item:"accordion-list-item",itemHeader:"accordion-list-item-header",itemDescription:"accordion-list-item-description",expandedIcon:"accordion-list-item-expanded-icon",imageCaret:"accordion-list-item-image-caret"};function _(h){let{accordionItems:d,className:f,showImageCaret:v,autoClogProps:u,showItemBorder:g=!0,itemClassName:p="",itemHeaderClassName:A="",itemHeaderButtonClassName:C="",itemDescriptionClassName:T="",expandedIconClassName:I="",collapsedIconClassName:M="",imageCaretClassName:D="",applyCustomAnimation:O=!1,expandOnHover:S=!1}=h;const[R,U]=(0,t.useState)(!1),[P,L]=(0,t.useState)(d.map((Q,q)=>({...Q,isExpanded:q===0}))),[F,x]=(0,t.useState)(""),b=(0,t.useRef)({}),k=(0,t.useCallback)((Q,q)=>()=>{R||U(!0),!q.isExpanded&&(L(P.map(($,le)=>({...$,isExpanded:le===Q}))),x(q.id),typeof q.onExpand=="function"&&q.onExpand())},[P,R]),B=(0,t.useCallback)(Q=>q=>{b.current[Q]=q},[]);(0,t.useEffect)(()=>{if(F&&b.current[F]){var Q;(Q=b.current[F])===null||Q===void 0||Q.focus()}},[F]);const W=E(Q=>({...u,onClick:{enableClogAction:!Q.isExpanded},elementValue:Q.id}),"getAutoClogProps"),K=(0,t.useCallback)((Q,q)=>t.createElement("h2",{className:o()(i().header,{[A]:!!A,[i().customItemTextAnimation]:O&&q&&R,[i().customItemText]:O&&q&&!R}),"data-qa":m.itemHeader},Q),[O,A,R]),H=(0,t.useCallback)((Q,q,$)=>{let le=o()({[i().defaultShowDescriptionAnimation]:q&&R,[i().defaultShowDescription]:q&&!R});return O&&(le=o()({[i().customItemTextAnimation]:O&&q&&R,[i().customItemText]:O&&q&&!R})),t.createElement("div",{className:le},t.createElement("div",{className:i().description},t.createElement("div",{id:`description-${$}`,"aria-hidden":!q,"data-qa":m.itemDescription,className:o()({[T]:!!T})},Q)))},[O,T,R]),z=O?{[i().customItemTransition]:O}:{};return t.createElement("ul",{className:o()(i().accordion,f)},P.map((Q,q)=>t.createElement("li",{key:Q.id,"data-qa":m.item,className:o()(i().item,{[i().expanded]:Q.isExpanded,[i().noBorder]:!g,...z},p)},t.createElement(c.A,{"aria-expanded":Q.isExpanded,"aria-controls":`description-${q}`,className:o()(i().itemHeader,{[C]:!!C}),onClick:k(q,Q),autoClogProps:W(Q),ref:B(Q.id),"aria-label":typeof Q.header=="string"?Q.header:void 0,"aria-describedby":Q.isExpanded?`description-${q}`:void 0,onMouseOver:S?k(q,Q):s.A},t.createElement("div",{className:i().iconSpacer},Q.isExpanded?t.createElement("span",{className:o()(i().expandedIcon,{[I]:!!I,[Q.iconHighlightClassName||""]:!!Q.iconHighlightClassName}),"data-qa":m.expandedIcon},Q.iconProps?t.createElement(r.A,l({},Q.iconProps)):t.createElement(r.A,{name:"check-filled"})):t.createElement("span",{className:o()({[M]:!!M,[Q.iconHighlightClassName||""]:!!Q.iconHighlightClassName})},Q.collapsedIcon?t.createElement(r.A,l({},Q.collapsedIcon)):t.createElement(r.A,{name:"caret-right-filled"}))),t.createElement("div",{className:"display_flex flex_direction_column"},K(Q.header,Q.isExpanded),H(Q.description,Q.isExpanded,q))),v&&Q.isExpanded&&t.createElement("div",{className:o()(i().imageCaret,D),"data-qa":m.imageCaret}))))}E(_,"Accordion"),_.displayName="Accordion"},6786905431:(N,y,e)=>{"use strict";e.d(y,{K8:()=>o,Q1:()=>t});const t=20,n={FETCH:"activity_fetch",VIEW_LOAD:"activity_view_load",VIEW_UPDATED:"activity_view_updated"},o={PREF:"activity_view",PAGE:"page",FLEXPANE:"flexpane"}},4371795352:(N,y,e)=>{"use strict";e.d(y,{g:()=>o});var t=e(5624319675),n=e(2384831516);const o=(0,n.Mz)(s=>(0,t.mr)(s));o.meta={name:"createSelector",key:"createSelectorisAgentforceNewDmViewEnabled",description:s=>(0,t.mr)(s)}},9509635375:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(3134334389),n=e(9506008067),o=e(6471059816),s=e(4844578989),c=e.n(s),r=e(6271402872),a=e(5624319675);function i(){return i=Object.assign||function(h){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v])}return h},i.apply(this,arguments)}E(i,"_extends");const l=new o.Ay("members");function m(h){let{className:d,inverse:f=!1,isWorkflow:v=!1,isLegacyWorkflow:u=!1,isAgent:g=!1,...p}=h;const A=(0,n.d4)(r.x$),C=(0,n.d4)(a.mr);let T=l.t("WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"});u&&A&&(T=l.t("LEGACY WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"})),C&&g?T=l.t("AGENTFORCE",{fallbackHash:"635643b67608c4426a4ad8287a8b687415bee6b5"}):v||(T=l.t("APP"));const I=c()(d,"c-app_badge",{"c-app_badge--inverse":f});return t.createElement("span",i({},p,{className:I,"data-stringify-suffix":" "}),T)}E(m,"AppBadge"),m.displayName="AppBadge";const _=(0,t.memo)(m)},2197556995:(N,y,e)=>{"use strict";e.d(y,{Y:()=>o});var t=e(2384831516),n=e(4761125736);const o=(0,t.Mz)(s=>(0,n._Z)(s,"app_gallery_default_org")==="on"&&(0,n._Z)(s,"app_gallery_refresh")==="on");o.meta={name:"createSelector",key:"createSelectorisAppGalleryDefaultOrgOn",description:s=>(0,n._Z)(s,"app_gallery_default_org")==="on"&&(0,n._Z)(s,"app_gallery_refresh")==="on"}},5874162200:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(6471059816);const n=new t.Ay("audio_player");function o(c){const r=Math.floor(c/3600),a=Math.floor((c-r*3600)/60),i=Math.floor(c-r*3600-a*60);return r>0?n.t("{hours} {hours, plural, =1 {hour} other {hours}}, {minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:i,minutes:a,hours:r}):a>0?n.t("{minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:i,minutes:a}):n.t("{seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:i})}E(o,"secondsToSpokenTime");const s=o},1191942715:(N,y,e)=>{"use strict";e.d(y,{A:()=>z});var t=e(3134334389),n=e(6122756707),o=e(8289365785),s=e(362134992),c=e(6828699058),r=e(3869429517),a=e(2836999160),i=e(7048718168),l=e(6423046221),m=e(8389327410),_=e(3771536679),h=e(8025887996),d=e(5014733736),f=e(1030162945),v=e(694411468),u=e(7712314707),g=e(475043867),p=e(8212777283),A=e(1843207890),C=e(6783791506),T=e(7957086050),I=e(8983164438),M=e(297247517),D=e(6659965705),O=e(9413477854),S=e(6795568989),R=e(3842747943),U=e(6533394955),P=e(7203178304);function L(Q,q){if(!q||!Q||!(0,S.d)(Q))return"";const $=(0,U.$D)(q),le=(0,R.O)($);return(0,P.A)(le)[Q]}E(L,"getUnicodeNameFromEmojiString");var F=e(1301184890),x=e(9391594207),b=e(8847766420),k=e(4841770661),B=e(9506008067),W=e(2047021170);const K=E(Q=>{let{richTextBlock:q,do24hrTime:$,emojiSize:le,truncateLength:te,teamOrEnterpriseId:ce,withFormattingStyles:me,withHighlights:_e,withSlackLinks:Ae,withHyperlinks:ye}=Q;var oe;const ee=(0,n.wA)(),V=(0,B.d4)(de=>(0,W.ty)(de,"suppress_link_warning")),w=(0,t.useCallback)(de=>{if(!V){const{href:ie,innerText:he}=de.target;ee((0,k.A)({text:he,url:ie})),de.preventDefault()}},[ee,V]);if(!(!(q==null||(oe=q.elements)===null||oe===void 0)&&oe.length))return null;let Y=0;const G=E(()=>(Y+=1,Y),"makeKey");let Z=(0,o.A)((0,h.M)(q.elements)),se;if((0,I.C)(Z)&&(Z!=null&&Z.style&&Z.style===m.L1.ORDERED?se=t.createElement(t.Fragment,null,"1. "):se=t.createElement(t.Fragment,null,"\u2022 "),Z=(0,o.A)(Z.elements)),!Z||!Z.elements||!Z.elements.length)return null;let ae=!1,re=0;const pe=Z.elements.map(de=>{if(ae)return null;let ie=null;if((0,C.E)(de)){re+=1;const he=de.name,ve=de.skin_tone,ge=de.display_team_id,ke=de.display_alias,Ne=de==null?void 0:de.unicode,We=ke??he,Oe=(0,F.A)(We,ce);let be=ve?`:${We}::skin-tone-${ve}:`:`:${We}:`;if(Oe&&Ne){const Fe=L(Ne,ce??"");Fe&&(be=`:${Fe}:`)}const Ke=de.display_url;ie=t.createElement(f.Ay,{key:G(),text:be,emojiSize:le||f.lw.MEDIUM,isEmojiInlineWithText:!0,showTooltip:!0,sourceTeamId:ge,url:Ke})}if((0,g.P)(de)&&(de!=null&&de.channel_id)&&(re+=de.channel_id.length,ie=t.createElement(i.A,{key:G(),id:de.channel_id,noLinking:!Ae})),(0,D.H)(de)&&(de!=null&&de.user_id)&&(re+=de.user_id.length,ie=t.createElement(c.A,{key:G(),id:de.user_id,noLinking:!Ae,noHighlights:!_e})),(0,O.G)(de)&&(de!=null&&de.usergroup_id)&&(re+=de.usergroup_id.length,ie=t.createElement(l.Ay,{key:G(),id:de.usergroup_id,noLinking:!Ae,noHighlights:!_e})),(0,u.V)(de)&&(de!=null&&de.range)&&(re+=de.range.length,ie=t.createElement(a.A,{key:G(),type:de.range,noLinking:!Ae,noHighlights:!_e})),(0,A.i)(de)){const{timestamp:he,format:ve,fallback:ge}=de;if(!he||!ve)return null;re+=ge?ge.length:0,ie=t.createElement(r.A,{key:G(),ts:he.toString(),format:ve,fallback:ge,do24hrTime:$,noLinking:!Ae})}if((0,T._)(de)){re+=(de.text||de.url||"").length;let he;if(ye){const ve=de.url||"",ge=de.text||de.url||"";(0,_.A)(ge,ve)?he=t.createElement(v.A,{key:G(),href:ve,onClick:w},ge):he=t.createElement(v.A,{key:G(),href:ve},ge)}else he=t.createElement(t.Fragment,{key:G()},de.text||de.url||"");ie=he}if((0,p.f)(de)&&(de!=null&&de.value)&&(re+=de.value.length,ie=t.createElement(t.Fragment,{key:G()},de.value||"")),(0,M.P)(de)&&de.text){const he=de.text.split(/\n/);let ve=(0,o.A)(he);const ge=te?te-re:re;re=ve?re+ve.length:re,he.length>1&&(ae=!0),ve&&te&&ve.length>ge&&(ae=!0,ve=ve.substr(0,ge)),ie=t.createElement(t.Fragment,{key:G()},ve||"")}return me&&(ie=t.createElement(d.A,{key:G(),style:de.style},ie)),ie||(te&&!ae&&re>te&&(ae=!0),null)});return t.createElement(t.Fragment,null,se,(0,s.A)(pe),ae&&t.createElement(t.Fragment,null,"\u2026"))},"RichTextPreamble");K.displayName="RichTextPreamble";const H=E(Q=>({do24hrTime:(0,W.ty)(Q,"time24"),teamOrEnterpriseId:(0,b.JY)(Q)||""}),"mapStateToProps"),z=(0,x.N)(H)(K)},8025887996:(N,y,e)=>{"use strict";e.d(y,{M:()=>o});var t=e(498506970),n=e(3495012415);function o(s){return(0,n.A)(s,c=>{const r=c&&c.elements;if(!(r!=null&&r.length))return c;const a=[],i=E(m=>m&&m.style&&m.style.code,"isCode");let l=null;return r.forEach(m=>{const _=i(m)?(0,t.A)(m):m;l&&(l!=null&&l.style)&&(_!=null&&_.style)&&i(l)&&i(_)&&(l.style.noRightCap=!0,_.style.noLeftCap=!0),a.push(_),l=_}),{...c,elements:a}})}E(o,"decorateInlineCode")},5014733736:(N,y,e)=>{"use strict";e.d(y,{A:()=>p});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3270738832),c=e(6122756707),r=e(5082930587),a=e(8170244779),i=e(8739505998),l=e(2312625946),m=e(82287009),_=e(9506008067),h=e(6082887833),d=e(2375333597);const f=E(A=>{const C=new Date(A),T=C.getMinutes(),I=T%15;return I<8?C.setMinutes(T-I):C.setMinutes(T+(15-I)),C.setSeconds(0),C.setMilliseconds(0),C.getTime()/1e3},"roundToNearest15Minutes");function v(A){let{children:C}=A;const T=(0,t.useContext)(a.A),I=(0,_.d4)(S=>T.ts?(0,h.S)(S,T.ts):void 0),M=(0,c.wA)(),D=(0,t.useCallback)(()=>{M((0,d.q)({element:(0,m.Qo)({channelId:T==null?void 0:T.channelId,appType:"gcal",threadTs:T==null?void 0:T.threadTs,isProfileAppView:!1})}))},[M,T==null?void 0:T.channelId,T==null?void 0:T.threadTs]),O=(0,t.useCallback)(()=>{if(I!=null&&I.contextType)switch(I==null?void 0:I.contextType){case"create_event":if(!(I!=null&&I.createEventPayload)){D();break}if(!(I!=null&&I.createEventPayload.start_date)){D();break}if(!(I!=null&&I.createEventPayload.title)){D();break}M((0,d.q)({element:(0,m.Qo)({channelId:T==null?void 0:T.channelId,appType:"gcal",threadTs:T==null?void 0:T.threadTs,presetDate:new Date(I==null?void 0:I.createEventPayload.start_date).toISOString().split("T")[0],presetStartTime:f(I==null?void 0:I.createEventPayload.start_date),presetTitle:I==null?void 0:I.createEventPayload.title,isProfileAppView:!1})}));break;case"view_schedule":if(!(I!=null&&I.viewSchedulePayload)||!(I!=null&&I.viewSchedulePayload.start_time)||!(I!=null&&I.viewSchedulePayload.date)){D();break}M((0,d.q)({element:(0,m.Qo)({channelId:T==null?void 0:T.channelId,appType:"gcal",threadTs:T==null?void 0:T.threadTs,presetDate:new Date(I==null?void 0:I.viewSchedulePayload.date).toISOString().split("T")[0],presetStartTime:f(I==null?void 0:I.viewSchedulePayload.start_time),isProfileAppView:!1})}));break;case"find_a_time":if(!(I!=null&&I.findATimePayload)){D();break}if(!(I!=null&&I.findATimePayload.duration)){D();break}break;case"describe_knowledgebase":break;default:(0,r.Kh)(I==null?void 0:I.contextType)}},[I,M,T==null?void 0:T.channelId,T==null?void 0:T.threadTs,D]);return t.createElement(l.Ay,{tip:I==null?void 0:I.debugPayload},t.createElement(i.A,{className:"p-assistant_thread_ambient_suggestion","data-qa":"assistant-thread-ambient-suggestion",onClick:O},C))}E(v,"AssistantThreadAmbientSuggestion"),v.displayName="AssistantThreadAmbientSuggestion";const u=t.memo(v),g=E(A=>{let{children:C,style:T}=A;if(!C)return null;const{bold:I,italic:M,strike:D,code:O,clientHighlight:S,subjectLine:R,noLeftCap:U,noRightCap:P}=T||{},{slackAssistantAmbientSuggestion:L,slackAssistantAmbientSuggestionKey:F}=T||{};let x=C;if(D&&(x=t.createElement("s",{"data-stringify-type":"strike"},x)),M&&(x=t.createElement("i",{"data-stringify-type":"italic"},x)),I&&!R&&(x=t.createElement("b",{"data-stringify-type":"bold"},x)),S&&(x=t.createElement("span",{className:"c-mrkdwn__highlight"},x)),L&&(x=t.createElement(u,{suggestion:F},x)),O){const b=o()("c-mrkdwn__code",{"c-mrkdwn__code--no_left_cap":U,"c-mrkdwn__code--no_right_cap":P});x=t.createElement(s.i,{blockType:"code"},t.createElement(s.m,null,t.createElement("code",{"data-stringify-type":"code",className:b},x)))}return t.createElement(t.Fragment,null,x)},"WithFormattingStyles");g.displayName="WithFormattingStyles";const p=g},897219217:(N,y,e)=>{"use strict";e.d(y,{n:()=>n});var t=e(8389327410);const n=E(o=>!o||o.length===0?!1:o[0].type===t.Lv.RICH_TEXT,"isFirstBlockRichText")},4541034515:(N,y,e)=>{"use strict";e.d(y,{A:()=>u});var t=e(3134334389),n=e(3297051565),o=e.n(n),s=e(9391594207),c=e(8677230210),r=e(8170643398),a=e(9509635375),i=e(4031325387),l=e(3244118357),m=e(6471059816);const _=new m.Ay("bot-name"),h={isWorkflow:o().bool.isRequired,className:o().string,name:o().string,badge:o().bool,isChannelFiles:o().bool,"data-qa":o().string},d={className:void 0,name:void 0,badge:!0,isChannelFiles:!1,"data-qa":void 0},f=E(g=>{let{className:p,name:A,badge:C,isWorkflow:T,isChannelFiles:I,"data-qa":M}=g;const D=I&&A?_.t("Shared by {name}",{name:A}):A;return t.createElement("span",{className:p,"data-qa":M},D||t.createElement(i.A,null)," ",C&&!I&&t.createElement(a.A,{isWorkflow:T}))},"BotName");f.displayName="BotName",f.propTypes=h,f.defaultProps=d;const v=E((g,p)=>{let{id:A}=p;const C=(0,c.AF)(g,A);return{name:(0,l.Hg)(C),isWorkflow:(0,r.v3)(C)}},"mapStateToProps"),u=(0,s.N)(v)(f)},7592430824:(N,y,e)=>{"use strict";e.d(y,{N:()=>s,u:()=>o});var t=e(3134334389),n=e(6152845331);const o=(0,n.Ay)("Embedded UI Provider",null),s=t.createContext({embeddedUIContainerElement:null,embeddedUiData:null,inChannelCanvas:!1,slackFileId:void 0,docEmbed:void 0})},7330763135:(N,y,e)=>{"use strict";e.d(y,{I1:()=>l,Jn:()=>g,N2:()=>_,OD:()=>D,RO:()=>O,Wg:()=>i,h$:()=>u,jY:()=>a,nH:()=>C,o8:()=>I,pg:()=>f,s3:()=>m,v_:()=>M,zd:()=>T});var t=e(3262078016),n=e(6471059816),o=e(6946629059),s=e(5645915081),c=e(9084547259);const r=new n.Ay("slack_docs");var a;(function(S){S.START_THREAD="start-thread",S.OPEN_THREAD="open-thread",S.START_ASSISTANT_THREAD="start-assistant-thread",S.INSERT_VARIABLE="insert-variable",S.MAX_VARIABLE_LIMIT_REACHED="variable-limit-reached",S.SHARE="share",S.OPEN_IN_DETACHED_WINDOW="open-in-detached-window",S.VIEW_FULL_SCREEN="view-full-screen",S.VIEW_IN_SLACK="view-in-slack",S.OPEN_IN_NEW_WINDOW="open-in-new-window",S.SHARE_CHANNEL_CANVAS="channel-canvas-share",S.ADD_REACTION="add-reaction",S.OPEN_REACTION="open-reaction",S.AI_REFINE="refine",S.OVERFLOW="overflow",S.CALLOUT="callout"})(a||(a={}));const i="option-list-divider",l="quick-edits-header",m="content-based-header";var _;(function(S){S.SUGGEST_EDITS="canvas-suggest-edits",S.REWRITE="canvas-rewrite",S.CHAT="canvas-chat",S.EXPLAIN="canvas-explain",S.PROOFREAD="canvas-proofread",S.SIMPLIFY="canvas-simplify",S.ELABORATE="canvas-elaborate",S.CHANGE_TONE="canvas-change-tone",S.CHANGE_FORMATTING="canvas-change-formatting",S.TRANSLATE="canvas-translate",S.SUMMARIZE="canvas-summarize",S.ADD_ACTION_ITEMS="canvas-add-action-items",S.CONVERT_TO_TABLE="canvas-convert-to-table"})(_||(_={}));var h;(function(S){S.ENGLISH="en",S.SPANISH="es",S.GERMAN="de",S.FRENCH="fr",S.PORTUGUESE="pt",S.ITALIAN="it",S.JAPANESE="ja",S.KOREAN="ko",S.CHINESE_SIMPLIFIED="zh-CN",S.CHINESE_TRADITIONAL="zh-TW",S.PROFESSIONAL="professional",S.WITTY="witty",S.EMPATHETIC="empathetic",S.DIRECT="direct",S.PIRATE="pirate"})(h||(h={}));const d=[_.SUGGEST_EDITS,_.CHAT,_.EXPLAIN,_.CHANGE_FORMATTING],f=E((S,R)=>{if(!R)return"";switch(S){case h.PROFESSIONAL:return r.t("Professional",{fallbackHash:"6f719fb045c0b6fc89e44e33177ba6d4c3e21055",fallbackHashNs:"composer"});case h.WITTY:return r.t("Witty",{fallbackHash:"89d3e5e4e9788f9e7c9f15d5ba5d02ab6c4f6757",fallbackHashNs:"composer"});case h.EMPATHETIC:return r.t("Empathetic",{fallbackHash:"f8b682c6e9202623d369bea1073ed20ea4969fce",fallbackHashNs:"composer"});case h.DIRECT:return r.t("Direct",{fallbackHash:"bc81524a554d8a0ff1c122ddd69f8eeebdf76f02",fallbackHashNs:"composer"});case h.PIRATE:return r.t("Pirate",{fallbackHash:"4778a2e5249d620c6e3309e4f9cac43d5821da7e",fallbackHashNs:"composer"});case h.ENGLISH:return r.t("English");case h.SPANISH:return r.t("Spanish");case h.GERMAN:return r.t("German");case h.FRENCH:return r.t("French");case h.PORTUGUESE:return r.t("Portuguese");case h.ITALIAN:return r.t("Italian");case h.JAPANESE:return r.t("Japanese");case h.KOREAN:return r.t("Korean");case h.CHINESE_SIMPLIFIED:return r.t("Chinese");case h.CHINESE_TRADITIONAL:return r.t("Chinese (Traditional)");default:return""}},"getCanvasAiSubmenuItemLabel"),v=new Map([[_.CHANGE_TONE,[h.PROFESSIONAL,h.WITTY,h.EMPATHETIC,h.DIRECT,h.PIRATE]],[_.TRANSLATE,[h.ENGLISH,h.SPANISH,h.GERMAN,h.FRENCH,h.PORTUGUESE,h.ITALIAN,h.JAPANESE,h.KOREAN,h.CHINESE_SIMPLIFIED,h.CHINESE_TRADITIONAL]],[_.CHANGE_FORMATTING,[]]]),u=E(S=>v.get(S),"getCanvasAiSubmenuContent"),g=E(S=>!d.includes(S),"isCanvasAiSelectAndRefineActionSupported"),p=[_.PROOFREAD,_.SIMPLIFY,_.ELABORATE,_.CHANGE_TONE,_.CHANGE_FORMATTING,_.TRANSLATE],A=[_.SUMMARIZE,_.ADD_ACTION_ITEMS,_.CONVERT_TO_TABLE];function C(S){if(p.includes(S)||A.includes(S))return null;switch(S){case _.SUGGEST_EDITS:return{name:"glasses"};case _.REWRITE:return{name:"compose"};case _.CHAT:return{name:"direct-messages"};case _.EXPLAIN:return{name:"help"};default:return{name:"magic-wand"}}}E(C,"getCanvasAiIcons");const T=E((S,R,U)=>{if(!R)return;const P=S.actionId,L=S.contextId;switch(P){case _.PROOFREAD:return r.t("Proofread");case _.ELABORATE:return r.t("Elaborate");case _.SIMPLIFY:return r.t("Simplify");case _.REWRITE:return U?r.t("Describe your edit"):r.t("Rewrite");case _.CHANGE_TONE:{if(L){const F=L===h.PIRATE?r.t("like a pirate"):f(L,R).toLowerCase();return r.t("Change the content tone to sound {tone}.",{tone:F})}break}case _.TRANSLATE:{if(L){const F=f(L,R);return r.t("Translate the content to the following language: {language}.",{language:F})}break}case _.SUMMARIZE:return U?r.t("Add a summary",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"}):r.t("Summarize this");case _.ADD_ACTION_ITEMS:return U?r.t("Add action items",{fallbackHashNs:"assistant",fallbackHash:"1363e6593c6d58b63d976fd1607b3a26c84046e1"}):r.t("Generate action items");case _.CONVERT_TO_TABLE:return r.t("Convert to table",{fallbackHashNs:"slack_docs",fallbackHash:"c0794c144895e84308d76814fd04b93125d0f8b9"});default:return}},"getSelectionPresetPromptText"),I={...s.zF,...c.L},M={...I,...a,..._};function D(S,R){return Object.values(R).some(U=>U===S)}E(D,"isToolbarAction");const O=E(function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.DocBlockStyle.PLAIN;const U=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).map(P=>(0,c.B)(P)).filter(o.b);return S&&U.push((0,s.Zq)(S)||s.zF.PARAGRAPH),U},"getFormats")},5645915081:(N,y,e)=>{"use strict";e.d(y,{Zq:()=>r,zF:()=>n,zf:()=>a});var t=e(3262078016),n;(function(i){i.PARAGRAPH="paragraph",i.H1="h1",i.H2="h2",i.H3="h3",i.CHECK_LIST="check-list",i.CHECK_LIST_TOGGLE="check-list-toggle",i.ORDERED_LIST="ordered-list",i.BULLET_LIST="bullet-list",i.BLOCKQUOTE="blockquote",i.CODE_BLOCK="code-block"})(n||(n={}));const o=[[t.DocBlockStyle.PLAIN,n.PARAGRAPH],[t.DocBlockStyle.H1,n.H1],[t.DocBlockStyle.H2,n.H2],[t.DocBlockStyle.H3,n.H3],[t.DocBlockStyle.LIST_CHECKLIST,n.CHECK_LIST],[t.DocBlockStyle.LIST_NUMBERED,n.ORDERED_LIST],[t.DocBlockStyle.LIST_BULLET,n.BULLET_LIST],[t.DocBlockStyle.BLOCKQUOTE,n.BLOCKQUOTE],[t.DocBlockStyle.CODE,n.CODE_BLOCK]],s=new Map(o),c=new Map(o.map(i=>[i[1],i[0]]));function r(i){return s.get(i)}E(r,"blockStyleToFormat");function a(i){return c.get(i)}E(a,"formatToBlockStyle")},4843305308:(N,y,e)=>{"use strict";e.d(y,{P:()=>o});var t=e(7731278967),n=e(9084547259);const o=E(s=>{switch(s){case t.r.FILE:return{name:"attachment"};case t.r.IMAGE:return{name:"image"};case t.r.CHECK_LIST:return{name:"checkbox"};case t.r.CHECK_LIST_TOGGLE:return{name:"checkbox"};case t.r.BULLET_LIST:return{name:"bulleted-list"};case t.r.ORDERED_LIST:return{name:"numbered-list"};case t.r.VIDEO_CLIP:return{name:"video"};case t.r.AUDIO_CLIP:return{name:"microphone"};case t.r.DIVIDER:return{name:"divider"};case t.r.TABLE:return{name:"spreadsheet"};case t.r.LAYOUT_2_COLUMNS:return{name:"column-two"};case t.r.LAYOUT_3_COLUMNS:return{name:"column-three"};case t.r.PINS:return{name:"pin"};case t.r.SMART_SUMMARY:case t.r.RECENT_FILES:case t.r.ACTIVE_DISCUSSIONS:case t.r.CHANNEL_HUDDLES:return{name:"magic-wand"};case t.r.BLOCKQUOTE:return{name:"quote"};case t.r.CODE_BLOCK:return{name:"code-block"};case n.L.CODE:return{name:"code"};case t.r.PARAGRAPH:return{name:"paragraph"};case t.r.H1:return{name:"heading-1"};case t.r.H2:return{name:"heading-2"};case t.r.H3:return{name:"heading-3"};case t.r.CANVAS:return{name:"canvas"};case t.r.WORKFLOW:return{name:"play"};case t.r.LIST:return{name:"lists"};case t.r.WIDGET:return{name:"blocks"};case t.r.SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.USER_PROFILE_UNFURL:return{name:"user"};case t.r.PLACEHOLDER_CARD_SUBMENU:return{name:"add-placeholder"};case t.r.PLACEHOLDER_CARD_VIDEO:return{name:"video"};case t.r.PLACEHOLDER_CARD_PROFILE:return{name:"user"};case t.r.PLACEHOLDER_CARD_AUDIO:return{name:"microphone"};case t.r.PLACEHOLDER_CARD_WORKFLOW:return{name:"play"};case t.r.PLACEHOLDER_CARD_IMAGE:return{name:"image"};case t.r.PLACEHOLDER_CARD_CANVAS:return{name:"canvas"};case t.r.PLACEHOLDER_CARD_FILE:return{name:"attachment"};case t.r.PLACEHOLDER_CARD_LINK:return{name:"link"};case t.r.PLACEHOLDER_CARD_LIST:return{name:"lists"};case t.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.DATE_MENTION:return{name:"calendar"};case t.r.AI_ASSISTANT:return{name:"ai-sparkle"};case t.r.AI_ASSISTANT_CANVAS_SUMMARY:return{name:"ai-summary"};case t.r.AI_ASSISTANT_CANVAS_ACTION_ITEMS:return{name:"ai-check"};case t.r.CALLOUT:return{name:"callout"};case t.r.SALESFORCE_DATA_MENTION:return{name:"sf-cloud"};default:return{name:"help"}}},"getQuipButtonIcon")},8079225585:(N,y,e)=>{"use strict";e.d(y,{O:()=>c});var t=e(6471059816),n=e(7731278967),o=e(9084547259);const s=new t.Ay("slack_docs"),c=E(function(r){let{experimentCanvasSmartCardsGroupOn:a,experimentWidgetsGroupOn:i,experimentCanvasLiveDataMentionsGroupOn:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(r){case n.r.FILE:return s.t("File");case n.r.IMAGE:return s.t("Image");case n.r.CHECK_LIST:return s.t("Check list");case n.r.CHECK_LIST_TOGGLE:return s.t("Check list");case n.r.BULLET_LIST:return s.t("Bulleted list");case n.r.ORDERED_LIST:return s.t("Ordered list");case n.r.VIDEO_CLIP:return s.t("Record video clip");case n.r.AUDIO_CLIP:return s.t("Record audio clip");case n.r.DIVIDER:return s.t("Divider");case n.r.PINS:return s.t("Pins");case n.r.SMART_SUMMARY:return a?s.t("AI Channel Summary"):"";case n.r.RECENT_FILES:return a?s.t("Recent Files"):"";case n.r.ACTIVE_DISCUSSIONS:return a?s.t("Active Discussions"):"";case n.r.CHANNEL_HUDDLES:return a?s.t("Huddles"):"";case n.r.BLOCKQUOTE:return s.t("Blockquote");case n.r.CODE_BLOCK:return s.t("Code block");case n.r.PARAGRAPH:return s.t("Paragraph");case n.r.H1:return s.t("Big heading");case n.r.H2:return s.t("Medium heading");case n.r.H3:return s.t("Small heading");case n.r.CANVAS:return s.t("Canvas");case n.r.WORKFLOW:return s.t("Workflow");case o.L.CODE:return s.t("Code");case n.r.TABLE:return s.t("Table");case n.r.LAYOUT_2_COLUMNS:return s.t("2 columns",{fallbackHash:"8d8f0f25822179c33b917613ec2d022ef593c340",fallbackHashNs:"quip_shortcut_handlers"});case n.r.LAYOUT_3_COLUMNS:return s.t("3 columns",{fallbackHash:"b505f5f09f70ff9d216f1c3cbb5c1a8a4e82179b",fallbackHashNs:"quip_shortcut_handlers"});case n.r.LIST:return s.t("List");case n.r.WIDGET:return i?s.t("Widget"):"Widget";case n.r.USER_PROFILE_UNFURL:return s.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case n.r.SALESFORCE_RECORD:return s.t("Salesforce record");case n.r.PLACEHOLDER_CARD_VIDEO:return s.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"slack_kit_video"});case n.r.PLACEHOLDER_CARD_PROFILE:return s.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case n.r.PLACEHOLDER_CARD_AUDIO:return s.t("Audio",{fallbackHash:"acdac205f5e24cb75113c4b281a2c13f08b75159",fallbackHashNs:"files"});case n.r.PLACEHOLDER_CARD_WORKFLOW:return s.t("Workflow",{fallbackHash:"d7a484140f5f9f7f5427e1f2c44dbfc1d3ad9eea",fallbackHashNs:"slack_docs"});case n.r.PLACEHOLDER_CARD_IMAGE:return s.t("Image");case n.r.PLACEHOLDER_CARD_CANVAS:return s.t("Canvas");case n.r.PLACEHOLDER_CARD_FILE:return s.t("File");case n.r.PLACEHOLDER_CARD_LINK:return s.t("Link");case n.r.PLACEHOLDER_CARD_LIST:return s.t("List");case n.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return s.t("Salesforce record");case n.r.DATE_MENTION:return s.t("Date",{fallbackHash:"eb9a4bc1c0c153e4e4b042a79113b815b7e3021d",fallbackHashNs:"calendar"});case n.r.CALLOUT:return s.t("Callout",{fallbackHash:"f3e792e7d41d161d609362af9fd451593481fd5d"});case n.r.AI_ASSISTANT:return s.t("Write with AI",{fallbackHash:"5a98372d1f7b397565f7cb33560b8abe99f7acdc"});case n.r.AI_ASSISTANT_CANVAS_SUMMARY:return s.t("Add a summary",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"});case n.r.AI_ASSISTANT_CANVAS_ACTION_ITEMS:return s.t("Add action items",{fallbackHash:"955d21424ac706b11f1425f1189ba754d1cc93de"});case n.r.SALESFORCE_DATA_MENTION:return l?s.t("Salesforce data"):"";default:return r}},"getQuipButtonLabel")},9084547259:(N,y,e)=>{"use strict";e.d(y,{B:()=>s,L:()=>n});var t=e(3262078016),n;(function(c){c.BOLD="bold",c.STRIKE="strike",c.ITALIC="italic",c.CODE="code",c.LINK="link",c.UNDERLINE="underline"})(n||(n={}));const o=new Map([[t.DocInlineStyle.BOLD,n.BOLD],[t.DocInlineStyle.STRIKETHROUGH,n.STRIKE],[t.DocInlineStyle.ITALIC,n.ITALIC],[t.DocInlineStyle.CODE,n.CODE],[t.DocInlineStyle.LINK,n.LINK]]);function s(c){return o.get(c)}E(s,"inlineStyleToFormat")},7731278967:(N,y,e)=>{"use strict";e.d(y,{r:()=>o});var t=e(5645915081),n;(function(s){s.UNKNOWN="unknown",s.TITLE="title",s.FILE="file",s.IMAGE="image",s.VIDEO_CLIP="video-clip",s.AUDIO_CLIP="audio-clip",s.DIVIDER="divider",s.TABLE="table",s.SHORTCUT="shortcut",s.MENU_SEPARATOR="menu-separator",s.PINS="pins",s.BOOKMARKS="bookmarks",s.USER_UNFURL="user-unfurl",s.CANVAS_UNFURL="canvas-unfurl",s.MESSAGE_UNFURL="message-unfurl",s.PUBLIC_LINK_UNFURL="public-link-unfurl",s.SHORTCUT_UNFURL="shortcut-unfurl",s.USER_PROFILE_UNFURL="user-profile-unfurl",s.UNFURL="unfurl",s.CANVAS="canvas",s.GENERIC="generic",s.WORKFLOW="workflow",s.FILE_UPLOAD_BLOCKED_MESSAGE_BANNER="file-upload-blocked-message-banner",s.SMART_SUMMARY="smart-summary",s.RECENT_FILES="recent-files",s.ACTIVE_DISCUSSIONS="active-discussions",s.CHANNEL_HUDDLES="channel-huddles",s.LIST="list",s.WIDGET="widget",s.LAYOUT_2_COLUMNS="layout-2-columns",s.LAYOUT_3_COLUMNS="layout-3-columns",s.PLACEHOLDER_CARD_SUBMENU="placeholder-card-submenu",s.PLACEHOLDER_CARD_VIDEO="placeholder-card-video",s.PLACEHOLDER_CARD_PROFILE="placeholder-card-profile",s.PLACEHOLDER_CARD_AUDIO="placeholder-card-audio",s.PLACEHOLDER_CARD_WORKFLOW="placeholder-card-workflow",s.PLACEHOLDER_CARD_IMAGE="placeholder-card-image",s.PLACEHOLDER_CARD_CANVAS="placeholder-card-canvas",s.PLACEHOLDER_CARD_FILE="placeholder-card-file",s.PLACEHOLDER_CARD_LINK="placeholder-card-link",s.PLACEHOLDER_CARD_LIST="placeholder-card-list",s.PLACEHOLDER_CARD_SALESFORCE_RECORD="placeholder-card-salesforce-record",s.SALESFORCE_RECORD="salesforce-record",s.DATE_MENTION="date-mention",s.CALLOUT="callout",s.AI_ASSISTANT="ai-assistant",s.AI_ASSISTANT_CANVAS_SUMMARY="ai-assistant-canvas-summary",s.AI_ASSISTANT_CANVAS_ACTION_ITEMS="ai-assistant-canvas-action-items",s.SALESFORCE_DATA_MENTION="salesforce-data-mention"})(n||(n={}));const o={...t.zF,...n}},1069376685:(N,y,e)=>{"use strict";e.d(y,{D:()=>t});var t;(function(n){n.SpecificMembers="add-specific-members",n.AllMembers="add-all-members"})(t||(t={}))},8414606991:(N,y,e)=>{"use strict";e.d(y,{v:()=>i});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(123281540),c=e(1610251172),r=e(8683010724),a=e(207659888);const i=E(l=>{let{type:m,spacing:_="medium"}=l;const h=o()("three_fourths_opacity",{margin_right_0:_==="none",margin_right_25:_==="small",margin_right_50:_==="medium"});return m===a.VZ.Channels||m===a.VZ.OrgChannels?t.createElement(c.A,{type:"channel",size:"inherit",className:h}):(0,s.m)(m)?t.createElement(c.A,{type:"dm",size:"inherit",className:h}):m===a.VZ.RecentApps?t.createElement(c.A,{type:"gn-menu",size:"inherit",className:h}):m===a.VZ.SlackConnect||m===a.VZ.SharedChannels?t.createElement(c.A,{type:"shared-channels-outline",size:"inherit",className:h}):m===a.VZ.Stars?t.createElement(c.A,{type:"star-o",size:"inherit",className:h}):m===a.VZ.UserGroup?t.createElement("div",{className:o()("c-icon","c-icon--inherit",h)},t.createElement(r.A,{name:"user-groups-filled"})):t.createElement(c.A,{type:"star-o",size:"inherit",className:h})},"InlineChannelSectionFallbackIcon");i.displayName="InlineChannelSectionFallbackIcon"},126225536:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(8414606991),r=e(1030162945),a=e(1033870301),i=e(207659888);function l(_){let{channelSection:h,className:d,spacing:f="medium",showIcon:v=!0}=_;const g=(0,n.wA)()((0,a.i1)({channelSection:h})),p=g&&g.split(" "),A=p&&p[0],C=p&&(p.length>1?` ${p.slice(1).join(" ")}`:null),T=E(()=>{if(!v)return null;if(h.type===i.VZ.UserGroup)return t.createElement(c.v,{type:h.type,spacing:f});const I=s()({margin_right_0:f==="none",margin_right_25:f==="small",margin_right_50:f==="medium"});return h.emoji?t.createElement(r.Ay,{className:I,shouldFallbackOnLoadError:!0,text:h.emoji,stopAnimations:!0,emojiSize:r.lw.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0}):t.createElement(c.v,{type:h.type,spacing:f})},"getIcon");return T.displayName="getIcon",t.createElement("span",{className:s()("p-inline_channel_section",d)},t.createElement("span",{className:"p-inline_channel_section__lockup"},T(),A),C)}E(l,"InlineChannelSection"),l.displayName="InlineChannelSection";const m=l},7502434758:(N,y,e)=>{"use strict";e.d(y,{AV:()=>i,Cu:()=>h,Gu:()=>a,g4:()=>m,qn:()=>l});var t=e(2028988448),n=e(6188550760),o=e(337319621);let s=1,c=1;const r=(0,o.Wo)({label:"HISTORY-NAVIGATION"}),a=E(()=>{c!==s&&(r.info("Incrementing the users current position in the history stack"),c+=1)},"onNavigateForward"),i=E(()=>{c!==1&&(r.info("Decrementing the users current position in the history stack"),c-=1)},"onNavigateBack"),l=E(()=>c===1,"isBackDisabled"),m=E(()=>c===s,"isForwardDisabled");function _(){r.info("Adding route to the history stack"),c+=1,s=c}E(_,"incrementHistoryLength");function h(f){let{shouldReplaceState:v,reason:u}=f;v||u!==n.GB&&_()}E(h,"maybeIncrementHistoryLength"),(0,t.ul)("history",{getHistoryLength:()=>s,getHistoryIndex:()=>c});const d={maybeIncrementHistoryLength:h}},5670315214:(N,y,e)=>{"use strict";e.d(y,{Hu:()=>d,OJ:()=>D,q8:()=>I,vU:()=>M,wZ:()=>O});var t=e(6249041335),n=e(6471059816),o=e(4813703725),s=e(5597672932),c=e(462591818),r=e(6565762531),a=e(1223723593),i=e(4178531214),l=e(1670069836),m=e(6470070112),_=e(6946629059),h=e(6790819894);const d={video:"video",audio:"audio",profileFieldOptions:"profile_field_options"},f=new n.Ay("huddles"),v=E((S,R)=>({video:[...S&&S.video?S.video:[]],audio:[...!R&&S&&S.audio?S.audio:[]],profile_field_options:[]}),"getInnerCallsAppsFromTeamPref"),u=E(S=>{const R=S.reduce((P,L)=>(Object.entries(L).forEach(F=>{let[x,b]=F;(x==="video"||x==="audio")&&(P[x]=P[x]?[...P[x],...b]:[...b])}),P),{}),U={video:[],audio:[]};return Object.entries(R).forEach(P=>{let[L,F]=P;(L==="video"||L==="audio")&&(U[L]=F.filter((x,b,k)=>b===k.findIndex(B=>B.id===x.id&&B.id!==void 0)))}),U},"combineCallApps"),g=E(S=>{const U=(0,l.FR)(S).map(L=>(0,s.xp)(S,"calls_apps",L.id)).filter(_.b);return u(U)},"retrieveCallsAppsForUnifiedOrg"),p=E(S=>(0,i.ss)(S)?g(S):(0,s.xp)(S,"calls_apps"),"retrieveCallsAppsFromPrefs"),A=E((S,R)=>{const U=p(S);if(R){var P;const L=U==null||(P=U.video)===null||P===void 0?void 0:P.findIndex(F=>F.id===c.rq);L>=0&&U.video.splice(L,1)}return U},"filterCallsAppsFromTeamPref"),C=(0,o.ik)((S,R)=>A(S,R),S=>v(S,!1)),T=(0,o.ik)((S,R)=>A(S,R),S=>v(S,!0)),I=E(function(S){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?T(S,!0):C(S,!0)},"getCallsAppsFromTeamPref"),M=(0,h.F)(I,m.pt,(S,R)=>{const U={},P=S&&S.video?S.video:[],L=S&&S.audio?S.audio:[],F=f.t("Start a huddle"),x=R?[{id:"A01",name:F,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...P,...L,...x].forEach(b=>{let k;b.id===c.rq?k={id:b.id,name:b.name,image:b.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(B=>b.id===B)!==-1?k={id:b.id,name:b.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:k=b,U[k.id]=k}),U}),D=E(S=>{let{callsApp:R,memberPhoneNumber:U,hideVideoApps:P=!1}=S;const L=[];return R&&(!P&&R.video&&L.push(...R.video.map(F=>({...F,type:a.JG.Video}))),R.audio&&(0,r.A)((0,t.A)(U))&&L.push(...R.audio.map(F=>({...F,type:a.JG.Audio})))),L},"getCallAppList"),O=E(S=>{const R=A(S,!0),U=R&&R.video?R.video:[],P=R&&R.audio?R.audio:[];return[...U,...P]},"getFlattenTeamPrefCallsApps")},4980558152:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(4103274853),o=e(7715417323),s=e(9323322135),c=e(2664504268),r=e(3514831633),a=e(2312625946),i=e(5301554740),l=e(2409900369);function m(){return m=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(d[u]=v[u])}return d},m.apply(this,arguments)}E(m,"_extends");let _=E(class extends t.Component{onDesktopContextMenu(f){const{getTemplate:v,overrideDefaultMenu:u}=this.props,g=E(T=>({...T,id:(0,c.A)(),submenu:T.submenu&&T.submenu.map(g)}),"addIdsToItem"),p=v?v().map(g):[];if(!p.length)return;const{x:A,y:C}=(0,n.A)(this.getCoordinatesForContextMenu(f),T=>(0,s.xhB)()*T);(0,s.O0f)(p,{x:A,y:C,overrideDefaultMenu:u}),this.props.onClick&&this.props.onClick()}getCoordinatesForContextMenu(f){if(!this.props.hasKeyboardFocus||!f)return{};const{left:v,top:u,width:g,height:p}=f.currentTarget.getBoundingClientRect(),A=v+g/2,C=u+p/2;return{x:A,y:C}}renderMenuFromTemplate(f){const{getTemplate:v,width:u,showSlackKitContextMenuOnDesktop:g,menuAriaLabel:p}=this.props;function A(T){return T.replace(/&([\w&])/g,(I,M)=>M)}E(A,"removeKeyboardAccelerators");const C=v?v().map(T=>!T.label||g?T:{...T,label:A(T.label)}):[];return C.length?t.createElement(r.a,m({"aria-label":p,width:u},f,{template:C,isContextMenu:!0,stripTerminalSeparators:!0})):null}onContextMenuOpen(){(0,a.Ws)()}render(){if((0,s.g9M)()&&!this.props.showSlackKitContextMenuOnDesktop)return(0,l.A)(this.props.children,{onContextMenu:this.onDesktopContextMenu});const{forceOpen:f,onClick:v,onClose:u,isDisabled:g,renderMenu:p,preventScroll:A}=this.props;return this.props.desktopAppOnly?(0,l.A)(this.props.children):t.createElement(r.cQ,{isContextMenu:!0,position:"right-bottom",tryOppositePosition:!0,forceOpen:f,shouldFade:!1,renderMenu:p||this.renderMenuFromTemplate,onClick:v,onClose:u,isDisabled:g,preventScroll:A,onPopoverOpen:this.onContextMenuOpen},this.props.children)}constructor(f){super(f),this.onDesktopContextMenu=this.onDesktopContextMenu.bind(this),this.renderMenuFromTemplate=this.renderMenuFromTemplate.bind(this),this.onContextMenuOpen=this.onContextMenuOpen.bind(this)}},"ContextMenuTrigger");_.defaultProps={overrideDefaultMenu:!1,desktopAppOnly:!0,hasKeyboardFocus:!1,showSlackKitContextMenuOnDesktop:!1,onClick:o.A,onClose:o.A,isDisabled:!1,forceOpen:!1,stripTerminalSeparators:!1},_.displayName="ContextMenuTrigger";const h=(0,i.A)(_)},6388117406:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(6122756707),o=e(2409900369),s=e(4980558152),c=e(82287009),r=e(9506008067),a=e(5795074931);const i=E(m=>{let{id:_,children:h,forceOpen:d=!1,onClick:f,onClose:v,menuAriaLabel:u,sidebar:g,header:p,channelSection:A,onEnterEditModeClick:C,transitionFocusTo:T}=m;const I=(0,r.d4)(a.TZ),M=(0,n.wA)(),D=(0,t.useCallback)(()=>M((0,c.QO)({id:_,sidebar:g,header:p,channelSection:A,onEnterEditModeClick:C,transitionFocusTo:T})),[M,_,g,p,A,C,T]);return!I||!_?(0,o.A)(h):t.createElement(s.A,{menuAriaLabel:u,getTemplate:D,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,forceOpen:d,onClick:f,onClose:v,width:"auto"},h)},"ChannelContextMenu");i.displayName="ChannelContextMenu";const l=i},350738674:(N,y,e)=>{"use strict";e.d(y,{AB:()=>L,Jv:()=>F,TX:()=>M,WF:()=>U,n1:()=>O,s5:()=>R,s9:()=>D});var t=e(6122756707),n=e(7715417323),o=e(3385422400),s=e(8170643398),c=e(9262712126),r=e(3534324375),a=e(6839188756),i=e(9236644324),l=e(8668318456),m=e(56548687),_=e(6471059816),h=e(485355941),d=e(6304789565),f=e(8847766420),v=e(9506008067),u=e(9107158149),g=e(613926746),p=e(5761207079),A=e(8276911661),C=e(1670069836);const T=new _.Ay("member_profile"),I=(0,o.Mz)((x,b)=>{let{memberId:k}=b;return(0,A.nv)(x,k)},(x,b)=>{let{memberId:k}=b;return(0,p.a)(x,k)},(x,b)=>{const k=(0,c.Gt)(x),B=(0,s.oy)(x),W=b?T.t("Copy display name"):T.t("Copy display name: @{displayName}",{displayName:k,__react:!0});return!B&&k?{key:"copy_display_name",dataQa:"copy_display_name",label:W,click:()=>{(0,i.x3)(k)},show:!0,disabled:(0,s.Zx)(x)}:null}),M=E(x=>{let{memberId:b}=x;return(0,v.d4)(k=>b?I(k,{memberId:b}):void 0)},"useGetMenuTemplateCopyDisplayName"),D=(0,d.Ay)("Gets the template for copy display name menu item",(x,b,k)=>I(b(),k));D.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyDisplayNameThunk",description:"Gets the template for copy display name menu item"};const O=(0,d.Ay)("Clog member context item click",(x,b,k)=>{(0,m.e)({getState:b}).track(l.EventId.CONTEXT_MENU_ACTION,{label:k,is_iap1:!0})});O.meta={name:"createThunk",key:"createThunkclogItemClick",description:"Clog member context item click"};const S=(0,d.Ay)("Gets the template for copy display name menu item",(x,b,k)=>{const{memberId:B,label:W}=k,K=(0,r.sE)(b(),(0,A.nv)(b(),B));return{label:T.t("Copy name"),click:()=>{x(O(W));try{(0,i.LJ)({"text/plain":K,"text/html":`<span data-stringify-id="${B}" data-stringify-label="${K}">${K}</span>`})}catch{(0,i.x3)(K)}}}});S.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyName",description:"Gets the template for copy display name menu item"};const R=(0,d.Ay)("Gets the template for copy name menu item",(x,b,k)=>x(S(k)));R.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyNameThunk",description:"Gets the template for copy name menu item"};const U=(0,d.Ay)("Copies link to member to clipboard",(x,b,k)=>{x(O(k.label));const B=b(),W=(0,C._J)(B,(0,f.ZT)(B)||"");(0,i.x3)((0,a.Zl)(W,`/team/${k.memberId}`))});U.meta={name:"createThunk",key:"createThunkcopyMemberLink",description:"Copies link to member to clipboard"};const P=(0,o.Mz)(x=>x,(x,b,k)=>{let{onClickCallback:B=n.A}=k;return B},(x,b,k)=>{let{isCanvasContext:B}=k;return B},(x,b,k)=>{let{memberId:B}=k;return(0,A.nv)(b,B)},(x,b,k)=>{let{memberId:B}=k;return(0,r.sE)(b,(0,A.nv)(b,B))},(x,b,k)=>{let{memberId:B}=k;return(0,u.zP)(b,B||"")},(x,b,k,B,W,K)=>{const H=(0,s.oy)(B);let z=T.rt("Message {memberName}",{memberName:W})||"";return k&&(H?z=T.t("View message history"):z=T.t("Message")),!K||(0,s.po)(B)||k&&(0,s.fy)(B)?null:{key:"message",dataQa:"message",label:z,click:Q=>{x((0,g.Z)({memberId:B.id,shouldOpenInTile:(0,h.Cz)(Q),reason:"member-context-menu"})).then(()=>b())},show:!!B,disabled:(0,s.Zx)(B)}}),L=E(x=>{let{memberId:b,isCanvasContext:k,onClickCallback:B}=x;const W=(0,t.wA)();return(0,v.d4)(K=>b?P(W,K,{memberId:b,isCanvasContext:k,onClickCallback:B}):void 0)},"useGetMenuTemplateMessage"),F=(0,d.Ay)("Gets the template for message menu item",(x,b,k)=>P(x,b(),k));F.meta={name:"createThunk",key:"createThunkgetMenuTemplateMessageThunk",description:"Gets the template for message menu item"}},306565116:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(3134334389),n=e(7715417323),o=e(2409900369),s=e(4980558152),c=e(798776972),r=e(9391594207),a=e(5795074931);let i=E(class extends t.Component{getContextMenuTemplate(){return this.props.getMemberContextMenuTemplate({id:this.props.id})}render(){const{id:d,isClient:f}=this.props;return f?d?t.createElement(s.A,{getTemplate:this.getContextMenuTemplate,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",onClick:this.props.onClick},this.props.children):(0,o.A)(this.props.children):(0,o.A)(this.props.children)}constructor(d){super(d),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this)}},"MemberContextMenu");i.defaultProps={id:void 0,onClick:n.A},i.displayName="MemberContextMenu";function l(h){return{isClient:(0,a.TZ)(h)}}E(l,"mapStateToProps");const m=E(h=>({getMemberContextMenuTemplate:d=>h((0,c.nz)(d))}),"mapDispatchToProps"),_=(0,r.N)(l,m)(i)},798776972:(N,y,e)=>{"use strict";e.d(y,{i8:()=>A,nz:()=>C});var t=e(3106223098),n=e(350738674),o=e(3078708518),s=e(4117634716),c=e(8822892075),r=e(3534324375),a=e(7324846416),i=e(8773153312),l=e(6471059816),m=e(6795500641),_=e(2338429587),h=e(6304789565),d=e(2327059915),f=e(8276911661);const v=new l.Ay("menu"),u={CALL_MEMBER:"call_member",MESSAGE_MEMBER:"message_member",VIEW_PROFILE:"view_profile",COPY_MEMBER_NAME:"copy_member_name",COPY_MEMBER_LINK:"copy_member_link",ADD_PRIORITY_USER:"add_priority_user",REMOVE_PRIORITY_USER:"remove_priority_user"},g=(0,h.Ay)("get the context menu item for actions",(T,I,M)=>{let{id:D}=M;const O=[];if((0,o.A)(I()))return O;const S=T((0,n.Jv)({memberId:D,onClickCallback:()=>(0,n.n1)(u.MESSAGE_MEMBER)}));return S&&O.push(S),O.length&&O.push({type:i.A.separator}),O});g.meta={name:"createThunk",key:"createThunkgetActionsTemplate",description:"get the context menu item for actions"};const p=(0,h.Ay)("get the context menu item for sharing a contact",(T,I,M)=>{let{id:D}=M;const O=I();return(0,a.VX)(O,D||"")&&!(0,o.A)(O)?[{label:v.t("Share contact"),click:()=>T((0,d.A)({contactUserId:D}))},{type:i.A.separator}]:[]});p.meta={name:"createThunk",key:"createThunkgetShareContactActionMaybe",description:"get the context menu item for sharing a contact"};const A=(0,h.Ay)("get the context menu item for adding to or removing from VIP",(T,I,M)=>{let{id:D,includeSeparator:O}=M;const S=I(),R=(0,f.nv)(S,D),U=(0,t.GL)(S,R);if(!D)return[];if(!U)return[];const P=(0,m.mF)(S,D),L=(0,r.sE)(S,(0,f.nv)(S,D)),F=[{label:P?v.rt("Remove from VIP",{memberName:L}):v.rt("Add to VIP",{memberName:L}),click:()=>{const x=P?u.REMOVE_PRIORITY_USER:u.ADD_PRIORITY_USER;T((0,n.n1)(x)),T((0,_.C)(D))},autoClogProps:{label:P?u.REMOVE_PRIORITY_USER:u.ADD_PRIORITY_USER}}];return O&&F.push({type:i.A.separator}),F});A.meta={name:"createThunk",key:"createThunkgetToggleVipActionMaybe",description:"get the context menu item for adding to or removing from VIP"};const C=(0,h.Ay)("get the context menu template when user clicks on a member",(T,I,M)=>{let{id:D}=M;return[{label:v.t("View profile"),click:()=>{T((0,n.n1)(u.VIEW_PROFILE)),T((0,s.o)((0,c.Fo)({memberId:D||""})))}},{type:i.A.separator},...T(g({id:D})),...T(A({id:D,includeSeparator:!0})),...T(p({id:D})),T((0,n.s5)({memberId:D,label:u.COPY_MEMBER_NAME})),T((0,n.s9)({memberId:D})),{label:v.t("Copy link"),click:()=>{T((0,n.WF)({memberId:D,label:u.COPY_MEMBER_LINK}))}}].filter(O=>!!O)});C.meta={name:"createThunk",key:"createThunkgetMemberContextMenuTemplate",description:"get the context menu template when user clicks on a member"}},2837660778:(N,y,e)=>{"use strict";e.d(y,{$g:()=>T,Mo:()=>g,rp:()=>C});var t=e(6217320234),n=e(7823346015),o=e(3385422400),s=e(3009309149),c=e(6471059816),r=e(7679173189),a=e(6839188756),i=e(9950739645),l=e(6536982570),m=e(8276911661),_=e(1670069836),h=e(8847766420),d=e(241752795),f=e(5962670951),v=e(8180302442);const u=new c.Ay("create_channel_modal"),g=(0,s.Ay)(I=>{const M=(0,m.cA)(I),D=(0,l.HI)(M),O=(0,_.H7)(I);if(!O)return[];const S=(0,h.VO)(I)||[],R=[O.id,...D,...S],U=[...new Set(R)].filter(P=>!(0,r.JV)(P)).map(P=>(0,_._J)(I,P)).filter(P=>!!P&&!(0,a.Zx)(P));return(0,t.A)(U,P=>(0,a.F1)(P))});g.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaces",description:I=>{const M=(0,m.cA)(I),D=(0,l.HI)(M),O=(0,_.H7)(I);if(!O)return[];const S=(0,h.VO)(I)||[],R=[O.id,...D,...S],U=[...new Set(R)].filter(P=>!(0,r.JV)(P)).map(P=>(0,_._J)(I,P)).filter(P=>!!P&&!(0,a.Zx)(P));return(0,t.A)(U,P=>(0,a.F1)(P))}};const p=E((I,M)=>{const D=M==null?void 0:M.map(O=>O.id);return I.map(O=>{var S,R;return{label:(0,a.F1)(O),value:O,optgroup:O.enterprise_name,key:O.id,isDisabled:!!(D!==void 0&&D.includes(O.id)),displayReason:(R=(S=M==null?void 0:M.find(U=>U.id===O.id))===null||S===void 0?void 0:S.displayReason)!==null&&R!==void 0?R:""}})},"mapWorkspacesToSelectOptionItems"),A=E((I,M)=>{let{ineligibleWorkspaces:D,excludeExternalWorkspaces:O}=M;const[S,R]=(0,n.A)(I,P=>(0,i.N)(P)),U={value:void 0,label:"",type:"divider"};return[...p(R,D),...!O&&S.length>0?[U,...p(S,D)]:[]]},"mapInvitableWorkspacesToSelectOptions"),C=(0,s.Ay)(I=>{const M=(0,v.g)(I),D=(0,d.y5)(I),O=(0,f.S)(I),S=g(I),R=S.filter(U=>!D.includes(U.id)&&!O.includes(U.id)).map(U=>({id:U.id,displayReason:M?"":u.t("You don\u2019t have access to this")}));return A(S,{ineligibleWorkspaces:R})});C.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaceSelectOptions",description:I=>{const M=(0,v.g)(I),D=(0,d.y5)(I),O=(0,f.S)(I),S=g(I),R=S.filter(U=>!D.includes(U.id)&&!O.includes(U.id)).map(U=>({id:U.id,displayReason:M?"":u.t("You don\u2019t have access to this")}));return A(S,{ineligibleWorkspaces:R})}};const T=(0,o.Mz)(g,I=>I.length>1)},9364044512:(N,y,e)=>{"use strict";e.d(y,{D:()=>Lt,A:()=>qt});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(2003990933),r=e(7715417323),a=e(9268023148),i=e(4348392507),l=e(4426213732),m=e(6471059816),_=e(6165267850),h=e(1030162945),d=e(9746734072),f=e(7156798807),v=e(3297051565),u=e.n(v),g=e(6439846314),p=e(56548687),A=e(5257368278),C=e(330221449),T=e(3009309149);const I=(0,T.Ay)(tt=>!tt||!tt.customizeEmoji||!tt.customizeEmoji.customEmojiData||!tt.customizeEmoji.customEmojiData.length?[]:tt.customizeEmoji.customEmojiData);I.meta={name:"createSelector",key:"createSelectorgetCustomEmojiData",description:tt=>!tt||!tt.customizeEmoji||!tt.customizeEmoji.customEmojiData||!tt.customizeEmoji.customEmojiData.length?[]:tt.customizeEmoji.customEmojiData};const M=(0,T.Ay)(tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.customEmojiTotalCount?tt.customizeEmoji.customEmojiTotalCount:0);M.meta={name:"createSelector",key:"createSelectorgetCustomEmojiTotalCount",description:tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.customEmojiTotalCount?tt.customizeEmoji.customEmojiTotalCount:0};const D=(0,T.Ay)(tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.currentPage?tt.customizeEmoji.currentPage:0);D.meta={name:"createSelector",key:"createSelectorgetLastPageRetrieved",description:tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.currentPage?tt.customizeEmoji.currentPage:0};const O=(0,T.Ay)(tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.totalPages?tt.customizeEmoji.totalPages:0);O.meta={name:"createSelector",key:"createSelectorgetTotalPages",description:tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.totalPages?tt.customizeEmoji.totalPages:0};const S=(0,T.Ay)(tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.isLoadingNewPage?tt.customizeEmoji.isLoadingNewPage:!1);S.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewPage",description:tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.isLoadingNewPage?tt.customizeEmoji.isLoadingNewPage:!1};const R=(0,T.Ay)(tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.isLoadingNewSearchQuery?tt.customizeEmoji.isLoadingNewSearchQuery:!1);R.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewSearchQuery",description:tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.isLoadingNewSearchQuery?tt.customizeEmoji.isLoadingNewSearchQuery:!1};const U=(0,T.Ay)(tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.deletedEmojiList?tt.customizeEmoji.deletedEmojiList:[]);U.meta={name:"createSelector",key:"createSelectorgetDeletedEmojiList",description:tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.deletedEmojiList?tt.customizeEmoji.deletedEmojiList:[]};const P=(0,T.Ay)(tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.disabledEmoji?tt.customizeEmoji.disabledEmoji:{});P.meta={name:"createSelector",key:"createSelectorgetDisabledEmoji",description:tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.disabledEmoji?tt.customizeEmoji.disabledEmoji:{}};const L=(0,T.Ay)(tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.sortDir?tt.customizeEmoji.sortDir:"asc");L.meta={name:"createSelector",key:"createSelectorgetSortDirection",description:tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.sortDir?tt.customizeEmoji.sortDir:"asc"};const F=(0,T.Ay)(tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.sortBy?tt.customizeEmoji.sortBy:"name");F.meta={name:"createSelector",key:"createSelectorgetSortBy",description:tt=>tt&&tt.customizeEmoji&&tt.customizeEmoji.sortBy?tt.customizeEmoji.sortBy:"name"};const x=(0,A.A)("Load the next page of custom emoji data",function(tt,st){let{count:gt=100,queries:Nt,userIds:Ht,reason:Xt="customize-emoji-next-page"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const j=st();tt((0,C.en)(!0));const Ue={page:D(j)+1,count:gt,sort_by:F(j),sort_dir:L(j)};return Nt&&(Ue.queries=JSON.stringify(Nt)),Ht&&(Ue.user_ids=JSON.stringify(Ht)),tt((0,g.apiCall)({method:"emoji.adminList",reason:Xt,args:Ue})).then(rt=>{tt((0,C.en)(!1));const zt=(0,d.A)(rt.disabled_emoji)?(0,f.A)(rt.disabled_emoji,"name"):rt.disabled_emoji;tt((0,C.X8)({newCustomEmojiData:rt.emoji,disabledEmoji:zt,customEmojiTotalCount:rt.custom_emoji_total_count,customEmojiSearchCount:rt.paging.total,currentPage:rt.paging.page,totalPages:rt.paging.pages}))}).catch(rt=>{throw rt})});x.meta={name:"createFetcher",key:"createFetcherfetchCustomEmojiNextPage",description:"Load the next page of custom emoji data"},x.propTypes={queries:u().array,userIds:u().array};const b=(0,A.A)("Load custom emoji data with a new search query",function(tt,st){let{queries:gt,page:Nt=1,count:Ht=100,sortBy:Xt,sortDir:j,userIds:Ie,reason:Ue="customize-emoji-new-query"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};tt((0,C.d$)(!0));const rt={page:Nt,count:Ht};return gt&&(rt.queries=JSON.stringify(gt)),Ie&&(rt.user_ids=JSON.stringify(Ie)),Xt&&j&&(rt.sort_by=Xt,rt.sort_dir=j),tt((0,g.apiCall)({method:"emoji.adminList",reason:Ue,args:rt})).then(zt=>{tt((0,C.d$)(!1));const Wt=(0,d.A)(zt.disabled_emoji)?(0,f.A)(zt.disabled_emoji,"name"):zt.disabled_emoji;tt((0,C.Ot)({newCustomEmojiData:zt.emoji,disabledEmoji:Wt,customEmojiTotalCount:zt.custom_emoji_total_count,customEmojiSearchCount:zt.paging.total,currentPage:zt.paging.page,totalPages:zt.paging.pages,sortBy:Xt,sortDir:j}))}).catch(zt=>{throw zt})});b.meta={name:"createFetcher",key:"createFetcherfetchResetCustomEmoji",description:"Load custom emoji data with a new search query"},b.propTypes={queries:u().array,page:u().number,count:u().number,sortBy:u().oneOf(["created","name"]),sortDir:u().oneOf(["asc","desc"]),userIds:u().array};const k=(0,A.A)("Deletes the given custom emoji",function(tt,st){let{emojiName:gt,isPrimaryEmoji:Nt=!1,synonyms:Ht=[],reason:Xt="customize-emoji-remove"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return tt((0,C.gx)({emojiName:gt,isPrimaryEmoji:Nt,synonyms:Ht})),tt((0,g.apiCall)({method:"emoji.remove",reason:Xt,args:{name:gt}})).then(j=>j).then(()=>{(0,p.e)({state:st()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(j=>{throw(0,p.e)({state:st()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),j})});k.meta={name:"createFetcher",key:"createFetchersubmitRemoveCustomEmoji",description:"Deletes the given custom emoji"},k.propTypes={emojiName:u().string,isPrimaryEmoji:u().bool,synonyms:u().array};const B=(0,A.A)("Creates a new custom emoji or alias",function(tt,st){let{mode:gt,name:Nt,aliasFor:Ht,image:Xt,searchArgs:j={},reason:Ie="customize-emoji-add"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return tt((0,g.apiCall)({method:"emoji.add",reason:Ie,args:{mode:gt,name:Nt,alias_for:Ht,image:Xt}})).then(Ue=>Ue).then(()=>{tt(b(j))}).catch(Ue=>{throw Ue})});B.meta={name:"createFetcher",key:"createFetchersubmitAddCustomEmoji",description:"Creates a new custom emoji or alias"},B.propTypes={mode:u().string,name:u().string,aliasFor:u().string,image:u().object};const W=(0,A.A)("Gets the emoji data for a given emoji",function(tt,st){let{name:gt,reason:Nt="customize-emoji-get-info"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return tt((0,g.apiCall)({method:"emoji.getInfo",reason:Nt,args:{name:gt}})).then(Ht=>Ht).catch(Ht=>{throw Ht})});W.meta={name:"createFetcher",key:"createFetchergetEmojiInfo",description:"Gets the emoji data for a given emoji"},W.propTypes={name:u().string};const K=(0,A.A)("Renames the custom emoji with the new name",function(tt,st){let{oldName:gt,newName:Nt,reason:Ht="customize-emoji-rename"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return tt((0,g.apiCall)({method:"emoji.rename",reason:Ht,args:{name:gt,new_name:Nt}})).then(Xt=>Xt).then(()=>{tt(b()),tt((0,C.S9)(gt))}).catch(Xt=>{throw Xt})});K.meta={name:"createFetcher",key:"createFetchersubmitRenameEmoji",description:"Renames the custom emoji with the new name"},K.propTypes={oldName:u().string,newName:u().string};var H=e(3456937405);function z(tt){return/^[a-zA-Z0-9\u00E0\u00E1\u00E2\u00E4\u00E3\u00E8\u00E9\u00EA\u00EB\u00ED\u00EE\u00EF\u00F3\u00F6\u00F4\u00F5\u0153\u00FA\u00F9\u00FB\u00FC\u00FF\u00E7\u00DF\u00F1\u00C0\u00C1\u00C2\u00C4\u00C3\u00C8\u00C9\u00CA\u00CB\u00CD\u00CE\u00CF\u00D3\u00D6\u00D4\u00D5\u0152\u00DA\u00D9\u00DB\u00DC\u0178\u00C7\u00D1\uFF41-\uFF5A\uFF10-\uFF19-_+'\uFF3F\uFF0B\u30FC\u3005\u3041-\u3096\u30A0-\u30FF\uFF61-\uFF9F\u3400-\u4DB5\u4E00-\u9FFF\u2E80-\u2FD5\u1100-\u11FF\uA960-\uA97F\uAC00-\uD7A3\uD7B0-\uD7FF\u3139-\u318F\uF900-\uFAFF\u0400-\u04FF\u0500-\u052F]*$/.test(tt)}E(z,"isValidEmojiName");var Q=e(581167618),q=e(6084388622),$=e(2219904496),le=e(1610251172),te=e(980293773),ce=e(5733135148),me=e(8181621268),_e=e(8668318456),Ae=e(3842747943),ye=e(9391594207),oe=e(5795074931),ee=e(9003400431),V=e(5060694341);const w=new m.Ay("custom_emoji_list"),Y={ADD_DIALOG_INPUT:"customize_emoji_add_dialog_input",ADD_DIALOG_ERROR:"customize_emoji_add_dialog_error",ADD_DIALOG_FILE_INPUT:"customize_emoji_add_dialog_file_input",ADD_DIALOG_FILE_INFO:"customize_emoji_add_dialog_file_info",ADD_DIALOG_IMAGE_PREVIEW:"customize_emoji_add_dialog_image_preview",ADD_DIALOG_IMAGE_PREVIEW_ERROR:"customize_emoji_add_dialog_image_preview_error",ADD_DIALOG_MESSAGE:"customize_emoji_add_dialog_message",ADD_DIALOG_UPLOAD:"customize_emoji_add_dialog_upload",ADD_DIALOG_UPLOAD_IMAGE_PROMPT:"customize_emoji_add_dialog_upload_image_prompt",ADD_DIALOG_UPLOAD_PREVIEW:"customize_emoji_add_dialog_upload_preview",ADD_DIALOG:"customize_emoji_add_dialog",ADD_DIALOG_DUPLICATE_PREVIEW:"customize_emoji_add_dialog_duplicate_preview"};let G=E(class extends t.PureComponent{componentDidMount(){const{clogger:st}=this.props;st.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}}),this.maybeLoadEmojiPreviewFromUrl(),this.props.emojiNameSuggestion&&this.state.newEmojiName&&this.checkIfEmojiNameAlreadyExistsImmediate(this.props.emojiNameSuggestion)}shouldPreventSubmit(){const{newEmojiName:st,uploadedImage:gt,nameErrorText:Nt}=this.state,{emojiUrl:Ht}=this.props,Xt=st.length>100;return!st||Xt||!!Nt||!Ht&&!gt}onDragOver(st){st.preventDefault(),st.dataTransfer.dropEffect="copy"}onDrop(st){st.preventDefault();const gt=st.dataTransfer.files[0];if(gt){const Nt=gt.name,Ht=URL.createObjectURL(gt);this.updateAfterUpload({uploadedImage:gt,fileName:Nt,previewImageUrl:Ht})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}onEmojiNameChange(st){const{standardEmojiData:gt}=this.props;let Nt="";this.setState(()=>({newEmojiName:st})),/[A-Z]/.test(st)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(st)?Nt=w.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):st in gt?Nt=w.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name."):z(st)?this.checkIfEmojiNameAlreadyExists(st):Nt=w.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.setState(()=>({nameErrorText:Nt}))}onImagePreviewError(){this.setState(()=>({imagePreviewError:!0}))}onSubmit(st){st&&st.preventDefault();const{newEmojiName:gt,uploadedImage:Nt}=this.state,{emojiUrl:Ht}=this.props;if(this.shouldPreventSubmit())return;this.setState(()=>({goButtonIsPending:!0}));const j={...{reason:"add-custom-emoji-dialog-content",name:gt},...Ht?{mode:"url",url:Ht}:{mode:"data",searchArgs:this.props.searchArgs,...Nt?{image:Nt}:{}}};this.props.addCustomEmoji(j).then(()=>{this.props.closeModal();const Ie=this.renderToastMessage();this.props.enqueueToast({element:Ie}),this.setState(()=>({goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:Ht?"import_custom_emoji":"add_custom_emoji",action:Ht?"import":"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(Ie=>{let Ue;const rt=(0,c.A)(Ie,"data.error");(rt===H.W.NoUrlProvided||rt===H.W.NoUrlImage)&&(Ue=w.t("Something happened that prevented the image from being imported. Try again?")),rt==="error_bad_upload"?Ue=w.t("Something happened that prevented your file from being uploaded. Try again?"):rt==="error_bad_format"?Ue=w.t("Please make sure your file is a GIF, JPEG, PNG, or WEBP."):rt==="resized_but_still_too_large"||rt==="too_many_frames"?Ue=w.t("This image is a bit too big, even after resizing. A smaller file might help?"):rt==="error_too_big"?Ue=w.t("Please choose an image smaller than 64KB."):rt==="error_name_taken_i18n"?Ue=w.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:gt}):rt==="error_name_taken"?Ue=w.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:gt}):(rt==="error_bad_name"||rt==="error_bad_name_i18n")&&(Ue=w.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),this.setState(()=>({apiErrorText:Ue,goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})})}onTextBlur(){this.setState(()=>({placeholder:!0}))}onTextFocus(){this.setState(()=>({placeholder:!1}))}onUploadChange(){var st,gt;const Nt=!((st=this.fileInput)===null||st===void 0||(gt=st.current)===null||gt===void 0)&&gt.files?this.fileInput.current.files[0]:null;if(Nt){const Ht=Nt.name,Xt=URL.createObjectURL(Nt);this.updateAfterUpload({uploadedImage:Nt,fileName:Ht,previewImageUrl:Xt})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}maybeLoadEmojiPreviewFromUrl(){const{emojiUrl:st}=this.props;st&&this.setState(()=>({previewImageUrl:st,imagePreviewError:!1}))}convertFileNameToEmojiName(st){if(!st)return null;const gt=st.lastIndexOf("."),Nt=gt>0?st.substring(0,gt):st;return Nt?Nt.toLowerCase().replace(/\s/g,"-").replace(/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/g,""):null}updateAfterUpload(st){let{uploadedImage:gt,fileName:Nt,previewImageUrl:Ht}=st;const{newEmojiName:Xt,fileName:j}=this.state;let Ie=Xt;(!Xt||Xt===this.convertFileNameToEmojiName(j))&&(Ie=this.convertFileNameToEmojiName(Nt)||Ie),this.setState(()=>({uploadedImage:gt,fileName:Nt,previewImageUrl:Ht,imagePreviewError:!1}),()=>this.onEmojiNameChange(Ie))}fileUpload(){var st;const gt=(st=this.props.windowRef.deref())===null||st===void 0?void 0:st.document.getElementById("emojiimg");gt==null||gt.click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}renderChooseNamePrompt(){const{newEmojiName:st,nameErrorText:gt}=this.state;return t.createElement("ol",{className:"black margin_bottom_0",start:2},t.createElement("li",{className:"margin_bottom_0"},t.createElement("div",null," ",w.t("Give it a name")," "),t.createElement("div",{className:"normal sk_foreground_max p-add_custom_emoji_dialog__choose_name_container"},w.t("This is also what you\u2019ll type to add this emoji to your messages.")),t.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},t.createElement($.A,{id:"emojiname",name:"name",value:st,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:gt,"data-qa":Y.ADD_DIALOG_INPUT,useInlineAlert:!0}))))}maybeRenderDuplicateNameErrorPreview(){const{newEmojiName:st,nameErrorText:gt}=this.state,Nt=w.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.");return gt===Nt?t.createElement("div",{className:"inline_flex full_width","data-qa":Y.ADD_DIALOG_DUPLICATE_PREVIEW},t.createElement(h.Ay,{text:st,alt:st,emojiSize:"larger",className:"flex_shrink_none"}),t.createElement("div",{className:"padding_left_50 overflow_hidden"},t.createElement("strong",null,w.t("Existing emoji")),t.createElement("span",{className:"block normal overflow_ellipsis"},":",st,":"))):null}renderDialogMessage(){const{orgName:st}=this.props;let gt;return st?gt=w.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:st}):gt=w.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),t.createElement("div",{className:"p-add_custom_emoji_dialog","data-qa":Y.ADD_DIALOG_MESSAGE},t.createElement("div",null,gt),t.createElement("div",null,this.renderErrorMessage()),t.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),t.createElement("hr",null),this.renderChooseNamePrompt(),this.maybeRenderDuplicateNameErrorPreview()))}renderErrorMessage(){const{apiErrorText:st}=this.state;return st?t.createElement(Q.Ay,{level:"error",className:"margin_top_50 margin_bottom_100","data-qa":Y.ADD_DIALOG_ERROR},t.createElement("span",null," ",st," ")):null}renderImagePreview(){const{previewImageUrl:st}=this.state,gt=t.createElement("img",{src:st,alt:w.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1}),{imagePreviewError:Nt}=this.state;return Nt?t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":Y.ADD_DIALOG_IMAGE_PREVIEW_ERROR},t.createElement(me.Ay,{tip:w.t("We couldn\u2019t preview your image. Make sure it\u2019s a GIF, JPEG, or PNG."),zIndex:"above_fs"},t.createElement(le.A,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):t.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container","data-qa":Y.ADD_DIALOG_IMAGE_PREVIEW},gt)}renderPlaceholderText(){const{placeholder:st}=this.state;let gt;return st?gt=w.t("avocado"):gt="",gt}renderToastMessage(){const{newEmojiName:st,previewImageUrl:gt}=this.state,Nt=t.createElement(h.Ay,{text:st,url:gt,emojiSize:h.lw.MEDIUM}),Ht=w.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:Nt,newEmojiName:st});return t.createElement(ce.Ay,{toastClasses:"p-customize_emoji_list__toast"},t.createElement("span",null,Ht))}renderUploadImagePrompt(){const{emojiUrl:st}=this.props,gt=w.t("Square images under 128KB and with transparent backgrounds work best. If your image is too large, we\u2019ll try to resize it for you."),Nt=t.createElement(t.Fragment,null,t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered"},this.renderUploadPreview()),t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview p-add_custom_emoji_dialog__upload_preview--dark rounded bordered margin_left_50"},this.renderUploadPreview())),Ht=st?w.t("Import external emoji"):w.t("Upload an image");return t.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop,"data-qa":Y.ADD_DIALOG_UPLOAD_IMAGE_PROMPT},t.createElement("li",{className:"large_bottom_margin"},t.createElement("div",null," ",Ht," "),!st&&t.createElement("div",{className:"normal sk_foreground_max"},gt),t.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},Nt,!st&&t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100"},this.renderUploadedFileText(),t.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":Y.ADD_DIALOG_FILE_INPUT}),t.createElement(q.Ay,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":Y.ADD_DIALOG_UPLOAD}," ",w.t("Upload Image")," ")))))}renderUploadPreview(){const{fileName:st}=this.state,{emojiUrl:gt}=this.props;let Nt;return st||gt?Nt=this.renderImagePreview():Nt=t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":Y.ADD_DIALOG_UPLOAD_PREVIEW},t.createElement(le.A,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "})),Nt}renderUploadedFileText(){const{fileName:st}=this.state;let gt;return st?gt=t.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",st," "):gt=t.createElement("div",{className:"sk_foreground_max margin_bottom_25"}," ",w.t("Select an image")," "),gt}render(){const{goButtonIsPending:st}=this.state,gt=this.shouldPreventSubmit();return t.createElement(t.Fragment,null,t.createElement(te.$m,null,t.createElement(te.qf,{"data-qa":`${Y.ADD_DIALOG}_body`},this.renderDialogMessage())),t.createElement(te.jl,null,t.createElement(te.ox,null,t.createElement(te.s_,{type:"outline","aria-label":w.t("Cancel")},w.t("Cancel")),t.createElement(q.lV,{type:"primary",onClick:this.onSubmit,loading:st,disabled:gt,"data-qa":`${Y.ADD_DIALOG}_go`,"aria-label":w.t("Save")},w.t("Save")))))}constructor(st){super(st),this.fileInput=t.createRef(),this.checkIfEmojiNameAlreadyExistsImmediate=gt=>{this.props.getEmojiInfo({name:gt}).then(()=>{this.state.newEmojiName===gt&&this.setState(()=>({nameErrorText:w.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.")}))}).catch(r.A)},this.checkIfEmojiNameAlreadyExists=(0,a.A)(this.checkIfEmojiNameAlreadyExistsImmediate,200),this.state={uploadedImage:null,newEmojiName:this.props.emojiNameSuggestion,fileName:"",previewImageUrl:this.props.emojiUrl||"",placeholder:!0,nameErrorText:"",apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},this.fileInput=t.createRef(),this.eventId=st.clientApp?_e.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT:_e.EventId.PAGE_CUSTOMIZE_EMOJI,(0,l.v)(this,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver","maybeLoadEmojiPreviewFromUrl","maybeRenderDuplicateNameErrorPreview"])}},"AddCustomEmojiDialogContent");G.defaultProps={standardEmojiData:{},addCustomEmoji:r.A,enqueueToast:r.A,clientApp:!1,closeModal:r.A,getEmojiInfo:r.A,searchArgs:{},emojiNameSuggestion:"",windowRef:(0,_.O)(window)},G.displayName="AddCustomEmojiDialogContent";const Z=E(tt=>({addCustomEmoji:st=>tt((0,H.l)(st)),enqueueToast:function(){for(var st=arguments.length,gt=new Array(st),Nt=0;Nt<st;Nt++)gt[Nt]=arguments[Nt];return tt((0,V.M)(...gt))},closeModal:()=>tt((0,ee.O)()),getEmojiInfo:function(){for(var st=arguments.length,gt=new Array(st),Nt=0;Nt<st;Nt++)gt[Nt]=arguments[Nt];return tt(W(...gt))}}),"mapDispatchToProps"),se=E(tt=>({standardEmojiData:(0,Ae.O)(tt),clientApp:(0,oe.TZ)(tt),clogger:(0,p.e)({state:tt})}),"mapStateToProps"),ae=(0,ye.N)(se,Z)((0,i.A)(G));var re=e(9113979368),pe=e(2101927269),de=e(2141441167),ie=e(6217320234),he=e(3783303734),ve=e(4978843660),ge=e(8840779375),ke=e(5331686899);function Ne(tt){return tt&&tt.id}E(Ne,"getEmojiCollectionId");var We=e(2036354333),Oe=e(3385766968),be=e(9506008067),Ke=e(3004085654),Fe=e(2047021170),J=e(387484329);const ne=new m.Ay("custom_emoji_list"),je="emoji_packs_clicked_collection_cta",at=E(tt=>{let{id:st,name:gt,author:Nt,emoji:Ht,installed:Xt,onClick:j}=tt;const Ie=(0,n.wA)(),Ue=(0,be.d4)(Rn=>(0,Fe.ty)(Rn,je)),rt=(0,be.d4)(Ke.fl),zt=(0,be.d4)(Ke._J);if(!Ht)return null;const Ft=Ne(zt)===st&&rt&&!Ue;function rn(){Ft&&Ie((0,J.AZ)({pref:je,value:!0})),j()}E(rn,"handleOnClick");const _n=(0,ge.A)(Ht,(Rn,Un)=>({name:Un,url:Rn})),An=(0,ve.A)(_n,4),un=ne.t("by {author}",{author:Nt});return t.createElement(We.A,{className:"p-emoji_pack_card p-emoji_pack_card--clickable",onClick:rn},t.createElement("div",{className:"display_flex align_items_center margin_bottom_100"},t.createElement("div",{className:"flex_one"},t.createElement("div",{className:"p-emoji_pack_card__header"},gt,Ft&&t.createElement("span",{className:"margin_left_25"},t.createElement(Oe.A,null,ne.t("NEW")))),t.createElement("div",{className:"p-emoji_pack_card__subheader"},un)),Xt&&!Ft&&t.createElement("div",{className:"flex_none"},t.createElement(le.A,{size:"inherit",type:"circle-checkbox-checked",className:"p-emoji_pack_card__checkmark"}))),t.createElement("div",{className:"p-emoji_pack_card_rows"},An.map(Rn=>t.createElement("div",{key:Rn.map(Un=>`${Un.name}-card-`).join(),className:"p-emoji_pack_card__row"},Rn.map(Un=>t.createElement(ke.Ay,{key:`emoji-pack-${Un.name}`,showTooltip:!1,text:`:${Un.name}:`,url:Un.url,emojiSize:ke.lw.LARGE})),[...new Array(4-Rn.length)].map((Un,Wn)=>`emoji-pack-spacer-${Wn}`).map(Un=>t.createElement("div",{key:Un,className:"p-emoji_pack_card__spacer"}))))))},"EmojiPackCard");at.displayName="EmojiPackCard";const nt=at,Ge=new m.Ay("custom_emoji_list"),Pe=E(()=>{const tt=Ge.t("STAY TUNED"),st=Ge.t("More emoji packs are on the way");return t.createElement("div",{className:"p-emoji_pack_card p-emoji_pack_coming_soon"},t.createElement(Oe.A,{className:"p-emoji_pack_coming_soon__pill"},tt),t.createElement("div",{className:"p-emoji_pack_coming_soon__text"},st),t.createElement("div",{className:"p-emoji_pack_coming_soon__illustrations"},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("g",{clipPath:"url(#clip0)"},t.createElement("path",{d:"M22.7 30C35.2 30 45.3 19.9 45.3 7.3 45.3-5.2 35.2-15.3 22.7-15.3 10.1-15.3 0-5.2 0 7.3 0 19.9 10.1 30 22.7 30Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M24 20C25.5 20 26.7 18.5 26.7 16.7 26.7 14.8 25.5 13.3 24 13.3 22.5 13.3 21.3 14.8 21.3 16.7 21.3 18.5 22.5 20 24 20Z",fill:"#664500"}),t.createElement("path",{d:"M10.8 10.5C10.6 10.5 10.3 10.4 10.1 10.3 9.5 9.9 9.3 9.1 9.7 8.5 10.9 6.5 14.6 3.2 19.9 4.5 20.7 4.7 21.1 5.4 20.9 6.1 20.7 6.8 20 7.3 19.3 7.1 14.5 5.9 12 9.8 11.9 9.9 11.7 10.3 11.3 10.5 10.8 10.5V10.5ZM26.8 5.5C26.4 5.5 26 5.4 25.7 5 25.3 4.5 25.4 3.6 25.9 3.2 30.2-0.3 34.9 1.1 36.9 2.3 37.5 2.7 37.7 3.5 37.3 4.1 36.9 4.8 36.1 4.9 35.5 4.6 35.3 4.4 31.4 2.1 27.6 5.2 27.4 5.4 27.1 5.5 26.8 5.5Z",fill:"#664500"}),t.createElement("path",{d:"M17.8 23.7C17.7 23.7 17.6 23.7 17.5 23.7 17 23.5 16.7 23 16.8 22.4 17.4 20.4 17.2 18.4 16.2 17 15.5 16 14.6 15.5 13.6 15.4 13 15.4 12.6 14.9 12.7 14.3 12.7 13.8 13.2 13.3 13.7 13.4 15.3 13.5 16.8 14.4 17.8 15.8 19.2 17.7 19.5 20.3 18.8 23 18.6 23.4 18.2 23.7 17.8 23.7ZM32.5 19.6C32.3 19.6 32.1 19.6 32 19.5 30.4 18.4 29.5 16.6 29.6 14.5 29.6 12.3 30.7 10.3 32.2 9.4 32.7 9.1 33.3 9.2 33.6 9.7 33.9 10.2 33.7 10.8 33.3 11.1 32.3 11.7 31.6 13.1 31.6 14.6 31.5 16 32.1 17.1 33.1 17.8 33.5 18.1 33.6 18.7 33.3 19.2 33.2 19.5 32.8 19.6 32.5 19.6V19.6Z",fill:"#E2A62D"}),t.createElement("path",{d:"M22.9-14.4C22.8-14.4 22.8-14.5 22.7-14.5 22.7-14.5 1.4-18.5 0.5-17.7 -0.4-16.9 1 4.7 1 4.7 1 4.8 1 4.9 1.1 4.9 1.9 5.8 7.4 2.3 13.4-3.1 19.5-8.4 23.7-13.5 22.9-14.4V-14.4Z",fill:"#DD2E44"}),t.createElement("path",{d:"M0.5-17.6C0.4-17.6 0.4-17.5 0.4-17.5 0.6-15.6 2.7-0.6 4 4.1 5.9 3 7.8 1.6 10.1-0.2 8.2-3.8 1.5-17.8 0.5-17.6Z",fill:"#EA596E"}),t.createElement("path",{d:"M39.9 21L25.8 19.2C24.3 19.1 21.6 19.1 21.8 16.7 21.9 14.5 24.5 14.9 26.4 15.2L40.6 17.5 39.9 21V21Z",fill:"#3B88C3"}),t.createElement("path",{d:"M40.6 17.5L34.9 16.6C34.3 16.4 33.7 17.4 33.7 18.5 33.6 19.6 34 20.2 34.6 20.3L40.2 21 40.6 17.5V17.5Z",fill:"#88C9F9"}),t.createElement("path",{d:"M46.6 17.1L43.1 20.3 36.8 13.5 40.3 10.3C42.1 8.7 45 8.8 46.6 10.6L46.8 10.8C48.5 12.6 48.4 15.5 46.6 17.1Z",fill:"#3B88C3"}),t.createElement("path",{d:"M43.1 20.3C44.6 19 44.4 16.3 42.7 14.4 40.9 12.6 38.3 12.2 36.8 13.5 35.3 14.9 35.5 17.6 37.2 19.4 38.9 21.3 41.6 21.7 43.1 20.3Z",fill:"#88C9F9"}),t.createElement("path",{d:"M41.8 19C42.6 18.3 42.3 16.8 41.3 15.7 40.3 14.6 38.8 14.2 38.1 14.9 37.3 15.6 37.5 17.1 38.6 18.2 39.6 19.3 41.1 19.7 41.8 19Z",fill:"#269"}),t.createElement("path",{d:"M3.3 28.7C4.4 28.7 5.3 27.8 5.3 26.7 5.3 25.6 4.4 24.7 3.3 24.7 2.2 24.7 1.3 25.6 1.3 26.7 1.3 27.8 2.2 28.7 3.3 28.7Z",fill:"#55ACEE"}),t.createElement("path",{d:"M6.5 21L3.4 13.5 0.5 21.6 6.5 21ZM34.7-11.3L29.3-10 30.7-15.3 34.7-11.3Z",fill:"#EA596E"}))),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M123 6C123 19.3 112.3 30 99 30 85.7 30 75 19.3 75 6 75-7.3 85.7-18 99-18 112.3-18 123-7.3 123 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M99 11.3C94.2 11.3 91 10.8 87 10 86.1 9.8 84.3 10 84.3 12.7 84.3 18 90.5 24.7 99 24.7 107.5 24.7 113.7 18 113.7 12.7 113.7 10 111.9 9.8 111 10 107 10.8 103.8 11.3 99 11.3Z",fill:"#664500"}),t.createElement("path",{d:"M87 12.7C87 12.7 91 14 99 14 107 14 111 12.7 111 12.7 111 12.7 108.3 18 99 18 89.7 18 87 12.7 87 12.7Z",fill:"white"}),t.createElement("path",{d:"M115.8 6.3C115.6 6.2 113.2 4.4 109.6 3.1 109.6 3 109.7 2.8 109.7 2.7 109.7 2.2 109.5 1.7 109.2 1.4 111.6 0.7 113.6 0.7 113.7 0.7 114.4 0.7 115 0.1 115-0.7 115-1.4 114.4-2 113.7-2 113.4-2 106.4-1.9 102.1 2.4 101.7 2.8 101.6 3.3 101.8 3.8 102 4.3 102.5 4.7 103 4.7 109.1 4.7 114.2 8.4 114.2 8.4 114.4 8.6 114.7 8.7 115 8.7 115.4 8.7 115.8 8.5 116.1 8.1 116.5 7.5 116.4 6.7 115.8 6.3V6.3ZM95.9 2.4C91.6-1.9 84.6-2 84.3-2 83.6-2 83-1.4 83-0.7 83 0.1 83.6 0.7 84.3 0.7 84.4 0.7 86.4 0.7 88.8 1.4 88.5 1.7 88.3 2.2 88.3 2.7 88.3 2.8 88.4 3 88.4 3.1 84.8 4.4 82.4 6.2 82.2 6.3 81.6 6.7 81.5 7.5 81.9 8.1 82.2 8.5 82.6 8.7 83 8.7 83.3 8.7 83.6 8.6 83.8 8.4 83.8 8.4 88.8 4.7 95 4.7 95.5 4.7 96 4.3 96.2 3.8 96.4 3.3 96.3 2.8 95.9 2.4V2.4Z",fill:"#664500"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 6C198 19.3 187.3 30 174 30 160.7 30 150 19.3 150 6 150-7.3 160.7-18 174-18 187.3-18 198-7.3 198 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M188.7 19.3C192.3 19.3 195.3 16.3 195.3 12.7 195.3 9 192.3 6 188.7 6 185 6 182 9 182 12.7 182 16.3 185 19.3 188.7 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M159.3 19.3C163 19.3 166 16.3 166 12.7 166 9 163 6 159.3 6 155.7 6 152.7 9 152.7 12.7 152.7 16.3 155.7 19.3 159.3 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M182.7 11.3C186.7 11.3 190 8.1 190 4 190-0.1 186.7-3.3 182.7-3.3 178.6-3.3 175.3-0.1 175.3 4 175.3 8.1 178.6 11.3 182.7 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 11.3C169.4 11.3 172.7 8.1 172.7 4 172.7-0.1 169.4-3.3 165.3-3.3 161.3-3.3 158-0.1 158 4 158 8.1 161.3 11.3 165.3 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 7.3C167.2 7.3 168.7 5.8 168.7 4 168.7 2.2 167.2 0.7 165.3 0.7 163.5 0.7 162 2.2 162 4 162 5.8 163.5 7.3 165.3 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M182.7 7.3C184.5 7.3 186 5.8 186 4 186 2.2 184.5 0.7 182.7 0.7 180.8 0.7 179.3 2.2 179.3 4 179.3 5.8 180.8 7.3 182.7 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M179.3 22H168.7C167.9 22 167.3 21.4 167.3 20.7 167.3 19.9 167.9 19.3 168.7 19.3H179.3C180.1 19.3 180.7 19.9 180.7 20.7 180.7 21.4 180.1 22 179.3 22ZM190-3.3C189.6-3.3 189.2-3.5 188.9-3.9 185.4-8.6 180.9-8.7 180.7-8.7 179.9-8.7 179.3-9.3 179.3-10 179.3-10.7 179.9-11.3 180.7-11.3 180.9-11.3 186.7-11.3 191.1-5.5 191.5-4.9 191.4-4 190.8-3.6 190.6-3.4 190.3-3.3 190-3.3V-3.3ZM158-3.3C157.7-3.3 157.4-3.4 157.2-3.6 156.6-4 156.5-4.9 156.9-5.5 161.3-11.3 167.1-11.3 167.3-11.3 168.1-11.3 168.7-10.7 168.7-10 168.7-9.3 168.1-8.7 167.3-8.7 167.1-8.7 162.6-8.6 159.1-3.9 158.8-3.5 158.4-3.3 158-3.3Z",fill:"#664500"})),t.createElement("defs",null,t.createElement("clipPath",null,t.createElement("rect",{y:"-18",width:"48",height:"48",fill:"white"})))),t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M48 24C48 37.3 37.3 48 24 48 10.7 48 0 37.3 0 24 0 10.7 10.7 0 24 0 37.3 0 48 10.7 48 24Z",fill:"#DA2F47"}),t.createElement("path",{d:"M34 39.8C33.9 39.6 32.4 34 24 34 15.6 34 14.1 39.6 14 39.8 13.9 40.1 14.1 40.4 14.3 40.6 14.6 40.7 14.9 40.7 15.1 40.5 15.2 40.4 17.7 38 24 38 30.3 38 32.8 40.4 32.9 40.5 33 40.6 33.2 40.7 33.3 40.7 33.4 40.7 33.6 40.6 33.7 40.6 33.9 40.4 34.1 40.1 34 39.8V39.8ZM20.9 23.1C16.6 18.7 9.6 18.7 9.3 18.7 8.6 18.7 8 19.3 8 20 8 20.7 8.6 21.3 9.3 21.3 9.4 21.3 11.9 21.4 14.6 22.3 13.9 23.2 13.3 24.5 13.3 26 13.3 28.6 14.8 30.7 16.7 30.7 18.5 30.7 20 28.6 20 26 20 25.8 20 25.5 20 25.3 20 25.3 20 25.3 20 25.3 20.3 25.3 20.7 25.2 20.9 24.9 21.5 24.4 21.5 23.6 20.9 23.1V23.1ZM38.7 18.7C38.4 18.7 31.4 18.7 27.1 23.1 26.5 23.6 26.5 24.4 27.1 24.9 27.3 25.2 27.7 25.3 28 25.3 28 25.3 28 25.3 28 25.3 28 25.5 28 25.8 28 26 28 28.6 29.5 30.7 31.3 30.7 33.2 30.7 34.7 28.6 34.7 26 34.7 24.5 34.1 23.2 33.4 22.3 36.1 21.4 38.6 21.3 38.7 21.3 39.4 21.3 40 20.7 40 20 40 19.3 39.4 18.7 38.7 18.7V18.7Z",fill:"#292F33"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 24C198 37.3 187.3 48 174 48 160.7 48 150 37.3 150 24 150 10.7 160.7 0 174 0 187.3 0 198 10.7 198 24Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M174 28C169.2 28 166 27.4 162 26.7 161.1 26.5 159.3 26.7 159.3 29.3 159.3 34.7 165.5 41.3 174 41.3 182.5 41.3 188.7 34.7 188.7 29.3 188.7 26.7 186.9 26.5 186 26.7 182 27.4 178.8 28 174 28Z",fill:"#664500"}),t.createElement("path",{d:"M162 29.3C162 29.3 166 30.7 174 30.7 182 30.7 186 29.3 186 29.3 186 29.3 183.3 34.7 174 34.7 164.7 34.7 162 29.3 162 29.3Z",fill:"white"}),t.createElement("path",{d:"M170.9 5.9L164.9 7 161.7 1.3C161.4 0.7 160.7 0.3 160 0.4 159.3 0.6 158.7 1.1 158.6 1.8L157.6 8.2 151.6 9.3C150.9 9.4 150.3 10 150.2 10.7 150.1 11.4 150.5 12.1 151.2 12.4L156.6 15 155.6 21.4C155.5 22.1 155.8 22.9 156.5 23.2 156.7 23.3 157 23.4 157.2 23.4 157.7 23.4 158.1 23.2 158.4 22.9L163.1 18.1 169.1 21C169.8 21.3 170.6 21.1 171.1 20.6 171.5 20.1 171.6 19.3 171.3 18.7L168.2 13 172.4 8.7C172.9 8.2 173 7.4 172.7 6.8 172.3 6.1 171.6 5.8 170.9 5.9V5.9ZM177.1 5.9L183.1 7 186.3 1.3C186.6 0.7 187.3 0.3 188 0.4 188.7 0.6 189.3 1.1 189.4 1.8L190.4 8.2 196.4 9.3C197.1 9.4 197.7 10 197.8 10.7 197.9 11.4 197.5 12.1 196.8 12.4L191.4 15 192.4 21.4C192.5 22.1 192.2 22.9 191.5 23.2 191.3 23.3 191 23.4 190.8 23.4 190.3 23.4 189.9 23.2 189.6 22.9L184.9 18.1 178.9 21C178.2 21.3 177.4 21.1 176.9 20.6 176.5 20.1 176.4 19.3 176.7 18.7L179.8 13 175.6 8.7C175.1 8.2 175 7.4 175.3 6.8 175.7 6.1 176.4 5.8 177.1 5.9V5.9Z",fill:"#E95F28"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M99 48C112.3 48 123 37.3 123 24 123 10.7 112.3 0 99 0 85.7 0 75 10.7 75 24 75 37.3 85.7 48 99 48Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M98.1 22.1C97.8 22 97.5 22 97.3 22.1 97.3 22.1 95.6 23.3 92.3 23.3 89.1 23.3 87.4 22.1 87.4 22.1 87.2 22 86.8 22 86.6 22.1 86.3 22.3 86.3 22.7 86.4 22.9 86.5 23.1 88.4 27.3 92.3 27.3 96.3 27.3 98.2 23.1 98.3 22.9 98.4 22.7 98.3 22.3 98.1 22.1V22.1ZM111.4 22.1C111.2 22 110.8 22 110.6 22.1 110.6 22.1 108.9 23.3 105.7 23.3 102.4 23.3 100.7 22.1 100.7 22.1 100.5 22 100.2 22 99.9 22.1 99.7 22.3 99.6 22.7 99.7 22.9 99.8 23.1 101.7 27.3 105.7 27.3 109.6 27.3 111.5 23.1 111.6 22.9 111.7 22.7 111.7 22.3 111.4 22.1V22.1Z",fill:"#664500"}),t.createElement("path",{d:"M120.9 16.7C120.9 16.7 120.9 16.6 120.9 16.5 120.9 15.5 120.2 15 119.3 15H114.5L120.2 7C120.5 6.6 120.6 6.4 120.6 5.9 120.6 4.9 119.8 4.8 119.4 4.8H112.3L112.3 3.8C112.3 3.8 110.4 5 110.3 5 110.1 5.1 109.6 5.5 109.6 6.3 109.6 7.3 110.3 7.9 111.2 7.9H115.4L109.7 15.9C109.6 16.1 109.4 16.5 109.4 16.9 109.4 17.7 110.1 18.1 110.9 18.1H119.3C119.6 18.1 120 18 120.2 17.9L122.2 16.7H120.9V16.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M117.4 6.8H113.2C112.3 6.8 111.5 6.2 111.5 5.2 111.5 4.2 112.3 3.6 113.2 3.6H121.4C121.7 3.6 122.6 3.8 122.6 4.7 122.6 5.2 122.5 5.4 122.2 5.8L116.5 13.8H121.3C122.2 13.8 122.9 14.4 122.9 15.4 122.9 16.4 122.2 17 121.3 17H112.8C112 17 111.4 16.6 111.4 15.7 111.4 15.3 111.6 15 111.7 14.8L117.4 6.8V6.8Z",fill:"#2A6797"}),t.createElement("path",{d:"M108.2 10C108.2 9.9 108.2 9.9 108.2 9.9 108.2 9.1 107.7 8.7 107 8.7H103.4L107.7 2.7C107.9 2.4 108 2.2 108 1.9 108 1.1 107.3 1 107.1 1H101.7L101.7 0.3C101.7 0.3 100.3 1.2 100.2 1.2 100.1 1.3 99.7 1.6 99.7 2.2 99.7 3 100.2 3.4 100.9 3.4H104.1L99.8 9.4C99.7 9.5 99.6 9.8 99.6 10.1 99.6 10.7 100.1 11 100.7 11H107C107.2 11 107.5 11 107.7 10.9L109.2 10H108.2V10Z",fill:"#FFAC33"}),t.createElement("path",{d:"M105.5 2.5H102.4C101.7 2.5 101.2 2.1 101.2 1.4 101.2 0.6 101.7 0.2 102.4 0.2H108.5C108.8 0.2 109.4 0.3 109.4 1 109.4 1.4 109.3 1.5 109.1 1.8L104.9 7.8H108.4C109.1 7.8 109.7 8.2 109.7 9 109.7 9.7 109.1 10.2 108.4 10.2H102.1C101.5 10.2 101 9.9 101 9.3 101 9 101.2 8.7 101.3 8.5L105.5 2.5V2.5Z",fill:"#2A6797"}),t.createElement("path",{d:"M98.7 13.9C98.7 13.9 98.7 13.8 98.7 13.8 98.7 13.2 98.2 12.8 97.6 12.8H94.6L98.2 7.7C98.4 7.4 98.5 7.3 98.5 7 98.5 6.3 97.9 6.2 97.7 6.2H93.1L93.1 5.7 91.8 6.4C91.7 6.5 91.4 6.7 91.4 7.3 91.4 7.9 91.9 8.3 92.4 8.3H95.1L91.5 13.4C91.4 13.5 91.3 13.8 91.3 14 91.3 14.6 91.7 14.8 92.2 14.8H97.6C97.8 14.8 98.1 14.7 98.2 14.7L99.5 13.9H98.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M96.4 7.5H93.7C93.1 7.5 92.6 7.2 92.6 6.5 92.6 5.9 93.1 5.5 93.7 5.5H99C99.2 5.5 99.7 5.6 99.7 6.2 99.7 6.5 99.7 6.7 99.5 6.9L95.8 12H98.9C99.5 12 99.9 12.4 99.9 13.1 99.9 13.7 99.5 14.1 98.9 14.1H93.5C93 14.1 92.5 13.8 92.5 13.3 92.5 13 92.7 12.8 92.7 12.7L96.4 7.5V7.5Z",fill:"#2A6797"})))))},"EmojiPackComingSoon");Pe.displayName="EmojiPackComingSoon";const Le=Pe;function ze(tt){return tt&&tt.author}E(ze,"getEmojiCollectionAuthor");function Me(tt){return tt&&tt.date_create}E(Me,"getEmojiCollectionDateCreate");var Ce=e(6045879501),Qe=e(370406050),Be=e(5071545805),we=e(7564917982);const xe=new m.Ay("custom_emoji_list");function Se(tt){let{row:st=[],className:gt,onPackClick:Nt}=tt;return t.createElement("div",{key:st.map(Ht=>`${Ne(Ht)}-row`).join(),className:gt},st.map(Ht=>{if(Ht.type==="coming_soon")return t.createElement(Le,{key:"emoji-pack-coming-soon"});if(Ht.type==="spacer")return t.createElement("div",{key:"emoji-pack-spacer",className:"p-emoji_pack__spacer"});const Xt=(0,Be.j)(Ht);return t.createElement(nt,{key:`emoji-pack-${Ne(Ht)}`,installed:Xt,id:Ne(Ht)||void 0,name:(0,Qe.M)(Ht),author:ze(Ht),emoji:(0,Ce.H)(Ht),onClick:()=>Nt(Ht,{installed:Xt})})}))}E(Se,"Row"),Se.displayName="Row";function Ye(tt){let{orgName:st,onPackClick:gt}=tt;const Nt=(0,n.wA)(),Ht=(0,be.d4)(Ke.uI);if((0,t.useEffect)(()=>{Nt((0,we.H)({reason:"emojiPack:dialog"}))},[Nt]),(0,re.A)(Ht))return null;const Xt=(0,pe.A)(Ht,rt=>(0,Be.j)(rt)).length;let j=(0,de.A)(Ht);j=(0,ie.A)(j,rt=>-1*Me(rt)),(0,he.A)(Ht)<2&&j.push({type:"coming_soon"}),j.length%2!==0&&j.push({type:"spacer"});const Ie=(0,ve.A)(j,2);let Ue;return st?Ue=xe.rt("Emoji packs let you add a whole set new of emoji to every {orgName} workspace. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!).",{orgName:t.createElement("b",null,st)}):Ue=xe.t("Emoji packs let you add a whole set new of emoji for your team. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!)."),t.createElement(te.$m,null,t.createElement(te.qf,null,t.createElement("div",null,Xt>0&&t.createElement("div",{className:"p-emoji_pack__header"},xe.t("Added"),t.createElement("div",{className:"p-emoji_pack__pill"},Xt)),t.createElement("div",{className:"p-emoji_pack__list"},Ie.map(rt=>t.createElement(Se,{key:rt.map(zt=>`${Ne(zt)}-rp-`).join(),className:"p-emoji_pack__pack_row",row:rt,onPackClick:gt}))),t.createElement("div",{className:"p-emoji_pack__help"},Ue))))}E(Ye,"AddEmojiPackDialogContent"),Ye.displayName="AddEmojiPackDialogContent";const ot=Ye;var _t=e(1194535350),pt=e(5305906809),vt=e(5510392579),yt=e(6105929840),Tt=e(9236644324),ft=e(4318855015);const Ct=new m.Ay("custom_emoji_list"),At=E(tt=>{let{adding:st,name:gt}=tt;const Nt=(0,n.wA)();return t.createElement(ce.Ay,{onCloseComplete:()=>{st&&Nt((0,ft.su)())}},t.createElement("span",{"data-qa":"emoji-pack-action"},st&&Ct.rt("The {name} emoji pack has been added to your workspace.",{name:t.createElement("b",null,gt)}),!st&&Ct.rt("The {name} emoji pack has been removed from your workspace.",{name:t.createElement("b",null,gt)})))},"InstallToast");At.displayName="InstallToast";const kt=E(tt=>{let{name:st,url:gt,index:Nt,copyToClipboard:Ht,onClose:Xt}=tt;const j=(0,n.wA)(),Ie=t.createElement(ke.Ay,{showTooltip:!0,text:st,url:gt,emojiSize:ke.lw.LARGE});function Ue(){(0,Tt.x3)(st),Xt&&Xt(),j((0,ee.O)()),j((0,V.M)({element:t.createElement(ce.Ay,null,t.createElement("span",null,Ct.rt("Emoji copied to clipboard",{name:st})))}))}return E(Ue,"onClick"),Ue.displayName="onClick",Ht&&(0,Tt.tD)()?t.createElement(We.A,{className:"p-emoji_pack_details__button","data-color-index":Nt%pt.dX,onClick:Ue},Ie):Ie},"EmojiButton");kt.displayName="EmojiButton";const Bt=E(tt=>{let{collectionId:st,name:gt,author:Nt,installed:Ht,emoji:Xt,onCancelClick:j,onClose:Ie}=tt;const Ue=(0,n.wA)(),rt=(0,be.d4)(vt.h3),[zt,Wt]=(0,t.useState)(!1),Ft=(0,t.useCallback)(()=>{Wt(!0),Ue((0,_t._J)({collectionId:st,reason:"emojiPack:dialog"})).then(()=>{Wt(!1),Ie&&Ie(),Ue((0,ee.O)()),Ue((0,V.M)({element:t.createElement(At,{adding:!0,name:gt})}))})},[Ue,st,gt,Ie]),[rn,_n]=(0,t.useState)(!1),An=(0,t.useCallback)(()=>{_n(!0),Ue((0,_t.zx)({collectionId:st,reason:"emojiPack:dialog"})).then(()=>{_n(!1),Ie&&Ie(),Ue((0,ee.O)()),Ue((0,V.M)({element:t.createElement(At,{adding:!1,name:gt})}))})},[Ue,st,gt,Ie]);if(!Xt)return null;const un=(0,ge.A)(Xt,(On,kn)=>({name:kn,url:On})).map((On,kn)=>({...On,index:kn})),Rn=(0,ve.A)(un,5),Un=Ct.t("{emojiCount, plural, =1 {# emoji} other {# emoji}}",{emojiCount:(0,he.A)(Xt)}),Wn=Ct.t("by {author}",{author:Nt}),vn=t.createElement(t.Fragment,null,t.createElement("span",{className:"p-emoji_pack_details__subtitle_author"},Wn),Un),Ln=t.createElement(yt.A,{"aria-label":Ct.t("Go back"),svgIconProps:{name:"caret-left-full"},onClick:()=>j()});return t.createElement(t.Fragment,null,t.createElement(te.rQ,null,t.createElement(te.Rc,{icon:Ln,title:gt,subtitle:vn})),t.createElement(te.$m,null,t.createElement(te.qf,null,Rn.map(On=>t.createElement("div",{key:On.map(kn=>kn.name).join("-details-"),className:"p-emoji_pack_details__emoji_row"},On.map(kn=>t.createElement(kt,{key:`emoji-pack-details-${kn.name}`,name:`:${kn.name}:`,url:kn.url,index:kn.index,copyToClipboard:Ht,onClose:Ie})),[...new Array(5-On.length)].map((kn,Hn)=>`emoji-pack-details-spacer-${Hn}`).map(kn=>t.createElement("div",{key:kn,className:"p-emoji_pack_details__emoji_spacer"})))))),t.createElement(te.jl,null,Ht&&(0,Tt.tD)()&&t.createElement("span",{className:"p-emoji_pack_details__tip"},Ct.t("Click an emoji to copy to clipboard")),t.createElement(te.ox,null,Ht&&rt&&t.createElement(q.lV,{autoFocus:!0,type:"danger",loading:rn,onClick:An,"aria-label":Ct.t("Remove pack")},Ct.t("Remove pack")),!Ht&&t.createElement(q.lV,{autoFocus:!0,loading:zt,onClick:Ft,"aria-label":Ct.t("Add pack")},Ct.t("Add pack")))))},"EmojiPackDetails");Bt.displayName="EmojiPackDetails";const St=Bt;function Gt(tt){return tt&&tt.localEmoji}E(Gt,"getEmojiCollectionLocalEmoji");var Et=e(2293211408),wt=e(1655938719);const Jt=new m.Ay("custom_emoji_list"),Lt={CUSTOM:"custom",PACKS:"packs"},Zt=E(tt=>{let{orgName:st="",searchArgs:gt={},showEmojiPacks:Nt,initialTab:Ht=Lt.CUSTOM,emojiNameSuggestion:Xt="",emojiUrl:j,megaphoneEventOnClose:Ie}=tt;const Ue=(0,n.wA)(),[rt,zt]=(0,t.useState)(Ht),[Wt,Ft]=(0,t.useState)(!1),[rn,_n]=(0,t.useState)(null),An=j?Jt.t("Add emoji to your organization"):void 0,un=Nt?Jt.t("Add emoji"):Jt.t("Add custom emoji"),Rn=An??un,Un=Jt.t("Emoji packs"),Wn=Jt.t("Custom emoji"),vn=(0,t.useMemo)(()=>[{title:Wn,id:Lt.CUSTOM,onClick:()=>zt(Lt.CUSTOM),"data-qa":"add_emoji_dialog_tab_custom"},{title:Un,id:Lt.PACKS,onClick:()=>zt(Lt.PACKS),"data-qa":"add_emoji_dialog_tab_packs"}],[Wn,Un]),Ln=(0,t.useCallback)(()=>{Ie&&Ue((0,wt.iR)({event:{type:Ie}}))},[Ue,Ie]),On=(0,t.useCallback)(()=>{Ln(),Ue((0,ee.O)())},[Ue,Ln]),kn=Nt&&rt===Lt.PACKS,Hn=Nt?t.createElement(Et.A,{tabs:vn,currentTabId:rt,className:"p-add_custom_emoji_dialog__tabs",ariaLabel:Rn}):null,Bn=s()("p-add_emoji_dialog",{"p-add_emoji_dialog--without_tabs":!Nt});return Nt&&rn?t.createElement(te.dW,{closeModal:On,isOpen:!0,className:Bn},t.createElement(St,{collectionId:Ne(rn),name:(0,Qe.M)(rn),author:ze(rn),emoji:Wt?Gt(rn):(0,Ce.H)(rn),installed:Wt,onCancelClick:()=>{_n(null)},onClose:Ln})):t.createElement(te.dW,{overlayClassName:"p-add_emoji_dialog_overlay",closeModal:On,isOpen:!0,className:Bn},t.createElement(te.rQ,null,t.createElement(te.Rc,{title:Rn,className:"no_min_height padding_bottom_50"}),Hn),kn&&t.createElement(ot,{orgName:st,onPackClick:(Jn,ts)=>{let{installed:on}=ts;Ft(on),_n(Jn)}}),!kn&&t.createElement(ae,{orgName:st,searchArgs:gt,emojiNameSuggestion:Xt,emojiUrl:j}))},"AddEmojiDialog");Zt.displayName="AddEmojiDialog";const qt=Zt},1677062231:(N,y,e)=>{"use strict";e.d(y,{A:()=>R});var t=e(3134334389),n=e(9391594207),o=e(4844578989),s=e.n(o),c=e(9101533895),r=e(8847766420),a=e(1670069836),i=e(2003903489),l=e(8064950432),m=e(3929724715),_=e(395285811),h=e(8798294025),d=e(1407713935),f=e(1360656152),v=e(8170643398),u=e(5761207079),g=e(6839188756),p=e(1610251172),A=e(9283547879),C=e(6084388622),T=e(6388117406),I=e(6471059816);const M=new I.Ay("jumper"),D={publicChannelIncludeHashSign:!1,imIncludeAtSign:!1};let O=E(class extends t.Component{renderChannelIcon(){const{channel:P,channelType:L,mpimMemberCount:F,inline:x,memberId:b,showPresence:k,inheritPresenceIconSize:B,showDraftIcon:W,hasDraft:K}=this.props;let H;return L==="im"?b&&k&&!x?t.createElement(A.Ay,{inheritIconSize:B,memberId:b}):null:(W&&K?H="pencil":L==="mpim"&&F?H=`multiparty-dm-${F}`:(0,_.jT)(P)?H="create-post":L==="private"?H="lock":H="channel",t.createElement(p.A,{type:H,size:"inherit","data-qa-icon-type":L}))}renderChannelName(){const{channel:P,channelId:L,isImChannelWithHiddenUser:F,inline:x}=this.props;return t.createElement(t.Fragment,null,this.renderChannelIcon(),t.createElement("span",{className:s()("p-deprecated_channel_name__text",{"p-deprecated_channel_name__text--inline":!x}),"data-qa":"deprecated_channel_name__text"},F?M.t("Name hidden"):t.createElement(l.a,{channelId:(P==null?void 0:P.id)||L||"",displayNameOptions:D}),this.renderChannelNameSuffix()),this.renderTeamIcon())}renderChannelNameSuffix(){const{previousName:P,showSuffix:L}=this.props;if(!L||!P)return null;let F;return P&&(F=M.t("(formerly #{previous_name})",{previous_name:P})),t.createElement("span",{className:"p-deprecated_channel_name__suffix"},F)}renderTeamIcon(){const{showTeamIcon:P,teamIdForChannel:L,teamName:F}=this.props;return!P||!L||!F?null:t.createElement("span",{className:"p-deprecated_channel_name__team_name p-deprecated_channel_name__team_name--xws"},"\xA0",t.createElement("span",{className:"p-deprecated_channel_name__team_name_child"},F))}renderButton(){const{autoClogProps:P,className:L,onClick:F}=this.props;return t.createElement(C.Nm,{className:s()("p-deprecated_channel_name p-deprecated_channel_name--clickable",L),onClick:F,htmlType:"button",autoClogProps:P},this.renderChannelName())}render(){const{onClick:P,className:L,channel:F,channelId:x}=this.props,b=!!P;return b?t.createElement(T.A,{id:(F==null?void 0:F.id)||x||""},this.renderButton()):b?this.renderButton():t.createElement("span",{className:s()("p-deprecated_channel_name",L),"data-qa":"channel_name_header"},this.renderChannelName())}},"DeprecatedChannelName");O.displayName="DeprecatedChannelName",O.defaultProps={channelId:"",channelType:"channel",className:void 0,hasDraft:void 0,inheritPresenceIconSize:!1,inline:!1,isImChannelWithHiddenUser:!1,memberId:void 0,mpimMemberCount:void 0,onClick:void 0,previousName:void 0,showDraftIcon:!1,showPresence:!0,showSuffix:!0,showTeamIcon:!1,showTeamIconForLocalChannels:!1,showTeamIconForXwsChannels:!1,teamIdForChannel:"",teamName:""},O.displayName="DeprecatedChannelName";const S=E((U,P)=>{const{channel:L,channelId:F,showTeamIconForXwsChannels:x=!1,showTeamIconForLocalChannels:b=!1}=P;let k=L||(0,c.OL)(U,F);const B=(0,d.yz)(k)?k&&(0,m.N4)(k):null;L&&(0,v.NB)(L)&&(k=(0,c.Pu)(U,L.id));const W=(0,d.LI)(k)?(0,h.e)(k):null,K=!!W&&(0,u.a)(U,W),H=(0,d.mz)(k),z=(0,r.JY)(U),Q=!!L&&((0,m.lo)(L)||(0,m.uA)(U,L)),q=x&&(H==="channel"||H==="private")&&!(0,i.S)(k)&&(b||Q);let $=q?k==null?void 0:k.team_id:void 0;q&&!$&&(Q?$=(0,f.A)({state:U,channel:L,currentTeamId:z||""})||(0,m.bK)(U,L):b&&($=z));const le=$?(0,a._J)(U,$):void 0,te=$?(0,g.F1)(le):void 0,ce=F?(0,m.yc)(U,F):void 0;return{channelType:H,mpimMemberCount:B,memberId:W,showTeamIcon:q,teamIdForChannel:$,teamName:te,hasDraft:ce,isImChannelWithHiddenUser:K}},"mapStateToProps"),R=(0,n.N)(S)(O)},5331686899:(N,y,e)=>{"use strict";e.d(y,{lw:()=>L,Ay:()=>B});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7360333171),c=e(5371346921),r=e(337319621),a=e(7752974446),i=e.n(a);function l(){return l=Object.assign||function(W){for(var K=1;K<arguments.length;K++){var H=arguments[K];for(var z in H)Object.prototype.hasOwnProperty.call(H,z)&&(W[z]=H[z])}return W},l.apply(this,arguments)}E(l,"_extends");function m(W){return class extends t.PureComponent{componentDidCatch(K,H){this.setState(()=>({hasError:!0})),(0,r.Wo)().error({label:"Error rendering emoji component",error:K,message:H})}render(){return this.state.hasError?t.createElement("span",{"data-qa":"missing_emoji",className:"c-emoji c-emoji__medium c-emoji--inline"},t.createElement("img",{src:i()})):t.createElement(W,l({},this.props))}constructor(K){super(K),this.state={hasError:!1}}}}E(m,"withEmojiErrorBoundary"),m.displayName="withEmojiErrorBoundary";const _=m;var h=e(3043682041),d=e(6795568989),f=e(9599231336),v=e(1610251172),u=e(8181621268),g=e(8525228540),p=e(4921059838),A=e(5799716058),C=e(9936232041),T=e(8556787853),I=e(3695531806),M=e(9907843289),D=e(9391594207),O=e(8847766420),S=e(9506008067),R=e(3829348308),U=e(2047021170);function P(){return P=Object.assign||function(W){for(var K=1;K<arguments.length;K++){var H=arguments[K];for(var z in H)Object.prototype.hasOwnProperty.call(H,z)&&(W[z]=H[z])}return W},P.apply(this,arguments)}E(P,"emoji_extends");const L={SMALL:"small",MEDIUM:"medium",LARGE:"large",LARGER:"larger",XLARGE:"xlarge"},F=E(W=>{const K=(0,S.d4)(H=>{if(!W.isStandard)return W.url;var z;const Q=(z=W.sourceTeamId)!==null&&z!==void 0?z:(0,O.ZT)(H);return W.isStandard?(0,R.Ez)(H,{text:W.text||"",teamId:Q,emojiMode:(0,h.w)(H,{forceDisplay:!!W.forceDisplay}),emojiSize:L.XLARGE}):W.url});return t.createElement(x,{shouldFallbackOnLoadError:!0,renderAsText:!1,showTooltip:!1,emojiSize:L.LARGER,text:W.text,displayText:W.displayText,url:K||"",sourceTeamId:W.sourceTeamId,ariaLabel:W.ariaLabel,alt:W.alt,unicode:W.unicode,emojiNameFromText:W.emojiNameFromText,dispatch:W.dispatch,stopAnimations:W.stopAnimations,fallbackUrl:W.fallbackUrl,isStandard:W.isStandard})},"EmojiTooltipEmoji");F.displayName="EmojiTooltipEmoji";let x=E(class extends t.PureComponent{onLoadError(){this.setState(()=>({isLoadError:!0}))}renderIconFallback(){return t.createElement(v.A,{legacy:!0,className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}isImportable(){const{isLoadError:K}=this.state,{isImportAllowed:H,isStandard:z}=this.props;return H&&!z&&!K}renderEmojiElement(){const{text:K,displayText:H,url:z,emojiSize:Q,isEmojiInlineWithText:q,className:$,shouldFallbackOnLoadError:le,fallbackUrl:te,ariaLabel:ce,alt:me}=this.props,{isLoadError:_e}=this.state,Ae=o()("c-emoji",`c-emoji__${Q}`,$,{"c-emoji--inline":q}),ye=ce??(H&&(0,A.A)(H)),oe={"data-stringify-type":"emoji","data-stringify-emoji":K},ee=this.isImportable()?this.handleEmojiImport:void 0;return q?t.createElement("span",{className:Ae,"data-qa":(_e||!z)&&le?"emoji-fallback":"emoji"},t.createElement("img",P({src:(_e||!z)&&le?te:z,onError:this.onLoadError,onContextMenu:ee,"aria-label":ye,alt:H},oe))):t.createElement("img",P({src:(_e||!z)&&le?te:z,onError:this.onLoadError,"aria-label":ye,alt:me??H,className:Ae,onContextMenu:ee,"data-qa":(_e||!z)&&le?"emoji-fallback":"emoji"},oe))}renderUnicodeAsEmoji(K){if(K&&(0,d.d)(K)){const{emojiSize:H}=this.props,z=(0,I.z)({codePointLikeString:K});return t.createElement("span",{className:o()("c-emoji__unicode",{"c-emoji__unicode--large":H===L.LARGE})},z)}}renderTooltip(){const{renderAsText:K,displayText:H,text:z,isStandard:Q,url:q,unicode:$,sourceTeamId:le,ariaLabel:te,alt:ce,emojiNameFromText:me,stopAnimations:_e,fallbackUrl:Ae,forceDisplay:ye}=this.props;if(K)return H;const oe=Q?void 0:q;return t.createElement(t.Fragment,null,t.createElement("div",{className:"c-emoji__emoji-tooltip"},t.createElement(F,{text:z,displayText:H,url:oe,sourceTeamId:le,ariaLabel:te,alt:ce,unicode:$,emojiNameFromText:me,dispatch:this.props.dispatch,stopAnimations:_e,fallbackUrl:Ae,isStandard:Q,forceDisplay:ye})),H,this.isImportable()&&t.createElement(c.K,{emojiName:H,emojiUrl:q}))}render(){const{displayText:K,url:H,renderAsText:z,showTooltip:Q,iconInTextMode:q,renderEmojiFallback:$,unicode:le,emojiNameFromText:te}=this.props;if(!H&&!K&&!le)return null;if((z||!H)&&!$&&!le)return q?this.renderIconFallback():K;if(le&&!te){var ce;return(ce=this.renderUnicodeAsEmoji(le))!==null&&ce!==void 0?ce:K}return Q?t.createElement(u.Ay,{tip:this.renderTooltip,delay:u.PK,zIndex:"above_fs"},this.renderEmojiElement()):this.renderEmojiElement()}constructor(K){super(K),this.handleEmojiImport=H=>{if(H!=null&&H.altKey)return;const{url:z,dispatch:Q,displayText:q}=this.props;Q((0,s.a)({emojiName:q,emojiUrl:z,event:H}))},this.onLoadError=this.onLoadError.bind(this),this.renderTooltip=this.renderTooltip.bind(this),this.state={isLoadError:!1}}},"Emoji");x.defaultProps={text:"",showTooltip:!1,className:void 0,stopAnimations:!1,iconInTextMode:!1,url:void 0,emojiSize:L.MEDIUM,isEmojiInlineWithText:!1,isImportAllowed:!1,displayText:"",sourceTeamId:void 0,shouldFallbackOnLoadError:!1,renderEmojiFallback:!1,ariaLabel:void 0,alt:void 0},x.displayName="Emoji";const b=E((W,K)=>{const{stopAnimations:H,forceDisplay:z,emojiSize:Q=L.MEDIUM,url:q,unicode:$}=K;let{text:le}=K,te=(0,R.qJ)(W,$??"");te&&te.charAt(te.length-1)!==":"&&te.charAt(0)!==":"&&(te=`:${te}:`),le=te||le||"";let ce=q;const me=(0,O.JY)(W)||"",_e=!(0,U.ty)(W,"a11y_animations"),Ae=H||_e,ye=(0,M.Yp)({teamOrEnterpriseId:me,recalc:!1}),oe=(0,g.bR)({state:W,locale:ye,name:le}),ee=!z&&(0,f.P)(W),V=(0,C.A)(le),w=(0,p.R)(W,V);if(!ee&&!ce){const Z=(0,h.w)(W,{forceDisplay:!!z});var Y;const se=(Y=K.sourceTeamId)!==null&&Y!==void 0?Y:me;ce=(0,R.Ez)(W,{text:le,parsedEmoji:V,teamId:se,emojiMode:Z,emojiSize:Q===L.LARGER?L.XLARGE:Q})||void 0}if(Ae&&!w){var G;ce=(G=(0,T.Ay)(W,{url:ce,stopAnimations:Ae,isEmoji:!0}))!==null&&G!==void 0?G:void 0}return{text:le,url:ce,renderAsText:ee,emojiSize:Q,displayText:oe||"",stopAnimations:Ae,fallbackUrl:i(),isStandard:w,emojiNameFromText:te}},"mapStateToProps"),k={mapStateToProps:b},B=_((0,D.N)(b)(x))},1030162945:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>n,lw:()=>t.lw});var t=e(5331686899);const n=t.Ay},4899054948:(N,y,e)=>{"use strict";e.d(y,{A:()=>D});var t=e(3134334389),n=e(9391594207),o=e(4844578989),s=e.n(o),c=e(4477620356),r=e(3202757386),a=e(2878685908),i=e(6471059816),l=e(6084388622),m=e(8739505998),_=e(337319621),h=e(1318506593),d=e(7578434623),f=e(7171435821),v=e(7545496485);const g=E(O=>!!(0,v.w)(O).isWorkspace,"looksLikeWorkspaceState");var p=e(2229064554),A=e(8022922400),C=e(719020269);const T=new i.Ay("error_boundary"),I="REB";let M=E(class extends t.Component{componentDidUpdate(S){this.state.hasError&&S.id!==this.props.id&&this.resetHasError()}componentDidCatch(S,R){let U=null;try{U=`${I}${(0,c.B)((0,A.A)(S.message)).substr(0,9).toUpperCase()}`}catch{}if(this.setState(()=>({hasError:!0,errCode:U}),()=>{var L,F;return(F=(L=this.props).onError)===null||F===void 0?void 0:F.call(L,S)}),!(0,a.Cu)()){var P;const L=R==null||(P=R.componentStack)===null||P===void 0?void 0:P.split(`
`).slice(0,Error.stackTraceLimit).join(`
`);this.props.logger.error("ERROR-BOUNDARY",S,U,L,{subtype:this.props.subtype||"component_error_boundary"})}}onClickReloadButton(S){S.preventDefault();let R=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),(0,r.A)()?(R=(0,h.M6)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY",`Reloading at ${R} after hitting ErrorBoundary`),(0,C.Lz)().finally(()=>{window.location.href=R})):(this.props.logger.info("LEGACY",`Reloading at ${R} after hitting ErrorBoundary`),window.location.href=R)}resetHasError(){this.setState(()=>({hasError:!1,errCode:null}))}renderReloadLinkMsg(){const S=E(R=>{let{text:U,key:P}=R;return t.createElement(m.A,{href:`https://${(0,f.qF)()}/help/contact`,rel:"noopener noreferrer",key:P},U)},"renderLink");return this.state.errCode==="REBD7A8C1099"?T.rt("This particular hiccup is something we know about and are working to fix. Please reload and things should be cleared up. If this issue persists, please <a>drop us a line.</a>",{fallbackHash:"e429542887f26442dba7a085bd05bea15803edd9",fallbackHashNs:"error_boundary"},S):T.rt("Reloading Slack might clear things up. If it doesn\u2019t, <a>drop us a line.</a>",null,S)}render(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError({errCode:this.state.errCode});const S=s()("p-error_boundary",this.props.className,{"p-error_boundary--short":this.props.variant==="short"});return t.createElement("div",{className:S},t.createElement("div",{className:"p-error_boundary__content"},t.createElement("div",{className:"p-error_boundary__message"},t.createElement("h1",{className:"p-error_boundary__heading"},t.createElement("span",null,T.t("Something went wrong")),t.createElement("span",{className:"p-error_boundary__icon p-error_boundary__icon--turtle",role:"img","aria-label":T.t("Something went wrong")},"\u{1F422}")),t.createElement("p",{className:"p-error_boundary__contact_msg"},this.renderReloadLinkMsg())),this.state.errCode&&t.createElement(p.A,{errCode:this.state.errCode}),t.createElement(l.Ay,{type:"primary",className:"margin_right_50",onClick:this.onClickReloadButton,"data-qa":"error_reload"},T.t("Reload"))))}return this.props.children}constructor(S){super(S),this.state={hasError:!1,errCode:null},this.onClickReloadButton=this.onClickReloadButton.bind(this)}},"ErrorBoundary");M.displayName="ErrorBoundary";const D=(0,n.N)(O=>({logger:g(O)?(0,_.Ay)({state:O}):(0,_.Wo)(),telemeter:g(O)?(0,d.Cy)({state:O}):(0,d.rh)()}))(M)},2229064554:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3134334389),n=e(6471059816);const o=new n.Ay("error_boundary");function s(c){let{errCode:r}=c;return t.createElement("p",{className:"p-error_boundary__error_code_container"},t.createElement("span",{className:"p-error_boundary__error_code","data-qa":"error_code"},o.t("Error: "),r))}E(s,"ErrorCode")},3837503631:(N,y,e)=>{"use strict";e.d(y,{H:()=>r,A:()=>a});var t=e(4899054948),n=e(3134334389);function o(){return o=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(i[_]=m[_])}return i},o.apply(this,arguments)}E(o,"_extends");const s=E(()=>null,"renderError"),r=E(i=>n.createElement(t.A,o({renderError:s},i)),"QuietErrorBoundary"),a=t.A},8022922400:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});const t=/\bA[A-Z0-9]{8,}\b/g,n=/\bB[A-Z0-9]{8,}\b/g,o=/\b(C|G|D)[A-Z0-9]{8,}\b/g,s=/\bF[A-Z0-9]{8,}\b/g,c=/\b(U|W)[A-Z0-9]{8,}\b/g,r=/\b[\d]{10}\.[\d]{6}\b/g,a=/\bS[A-Z0-9]{8,}\b/g,i=/\bT[A-Z0-9]{8,}\b/g;function l(m){return String(m).replace(t,"[APP_ID]").replace(n,"[BOT_ID]").replace(o,"[CHANNEL_ID]").replace(s,"[FILE_ID]").replace(c,"[MEMBER_ID]").replace(r,"[MESSAGE_TS]").replace(a,"[USER_GROUP_ID]").replace(i,"[TEAM_ID]")}E(l,"normalizeError")},5858219536:(N,y,e)=>{"use strict";e.d(y,{c:()=>o,w:()=>n});var t=e(4761125736);function n(s){return(0,t._Z)(s,"a11y_explorer_results_labels_i18n")==="on"}E(n,"isA11yExplorerResultsLabelsEnabled");const o=E(s=>(0,t._Z)(s,"browse_3p_files")==="on","isBrowse3PFilesEnabled")},3216205233:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(2375333597),o=e(6304789565),s=e(6122756707),c=e(9003400431),r=e(980293773),a=e(6471059816);const i=new a.Ay("request_access_done"),l=E(()=>{const d=(0,s.wA)(),f=(0,t.useCallback)(()=>{d((0,c.O)())},[d]),v=i.t("Request sent"),u=i.t("You\u2019ll be notified once it\u2019s been shared with you"),g=i.t("Done");return t.createElement(r.dW,{closeModal:f,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(r.rQ,null,t.createElement(r.Rc,null,t.createElement("h2",null,v))),t.createElement(r.$m,null,t.createElement(r.qf,null,u)),t.createElement(r.jl,null,t.createElement(r.ox,null,t.createElement(r.s_,{type:"primary",onClick:f,"aria-label":g},g))))},"RequestAccessDoneModal");l.displayName="RequestAccessDoneModal";const m=l,_=(0,o.Ay)("Opens the Request Access Done confirmation modal in client",(d,f)=>{d((0,n.q)({element:t.createElement(m,null)}))});_.meta={name:"createThunk",key:"createThunkopenRequestAccessDoneModal",description:"Opens the Request Access Done confirmation modal in client"};const h=_},4492997969:(N,y,e)=>{"use strict";e.d(y,{A:()=>f});var t=e(3134334389),n=e(2375333597),o=e(6304789565),s=e(6122756707),c=e(9003400431),r=e(8739505998),a=e(6471059816),i=e(7171435821),l=e(980293773);const m=new a.Ay("request_access_error"),_=E(()=>{const v=(0,s.wA)(),u=(0,t.useCallback)(()=>{v((0,c.O)())},[v]),g=m.rt("Something\u2019s gone wrong. If the problem persists, <a>let us know</a>.",null,p=>{let{tag:A,text:C}=p;return t.createElement(r.A,{key:A,target:"_blank",href:`https://${(0,i.qF)()}/help/requests/new`},C)});return t.createElement(l.dW,{closeModal:u,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(l.rQ,null,t.createElement(l.Rc,null,t.createElement("h2",null,m.t("Error")))),t.createElement(l.$m,null,t.createElement(l.qf,null,g)),t.createElement(l.jl,null,t.createElement(l.ox,null,t.createElement(l.s_,{type:"danger",onClick:u,"aria-label":m.t("Close")},m.t("Close")))))},"RequestAccessErrorModal");_.displayName="RequestAccessErrorModal";const h=_,d=(0,o.Ay)("Opens the Request Access Done confirmation modal in client",(v,u)=>{v((0,n.q)({element:t.createElement(h,null)}))});d.meta={name:"createThunk",key:"createThunkopenRequestAccessErrorModal",description:"Opens the Request Access Done confirmation modal in client"};const f=d},5604079762:(N,y,e)=>{"use strict";e.d(y,{A:()=>R});var t=e(6304789565),n=e(6801073238),o=e(9899967630),s=e(3134334389),c=e(2375333597),r=e(6122756707),a=e(9003400431),i=e(9506008067),l=e(980293773),m=e(7173172014),_=e(8668318456),h=e(2647703359),d=e(937317117),f=e(6471059816),v=e(6084388622),u=e(3216205233),g=e(4492997969);const p=new f.Ay("request_access_done"),A={uiComponentName:_.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_close",elementName:"quip_permissions_request_button_close",onClick:{enableClogAction:!0}},C={uiComponentName:_.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_send",elementName:"quip_permissions_request_button_send",onClick:{enableClogAction:!0}},T=E(U=>{let{fileId:P}=U;const[L,F]=(0,s.useState)(!1),[x,b]=(0,s.useState)(!1),k=(0,r.wA)(),B=(0,i.d4)($=>(0,d.Lp)($,P)),W=(0,s.useCallback)(()=>(k((0,a.O)()),!1),[k]),K=(0,s.useCallback)(()=>{b(!1),k((0,n.x)({fileId:P,requestType:"access",reason:"CustomizedRequestAccessModal"})).then(()=>k((0,u.A)())).catch(()=>{k((0,g.A)())}),F(!0)},[k,P]),H=p.t("You need to request access",{fallbackHash:"384d50cc961f3f5667f81c3db3ba493621488050"});let z=p.t("To get access, you can send a request to the owners of the canvas.",{fallbackHash:"16834285a44e33a46cfa86485105f6803bf0ed04"});(0,h.dE)(B)||(0,h.Vc)(B)?z=p.t("To get access, you can send a request to the owners of the template.",{fallbackHash:"16834285a44e33a46cfa86485105f6803bf0ed04"}):(0,h.l7)(B)&&(z=p.t("To get access, you can send a request to the owners of the list.",{fallbackHash:"16834285a44e33a46cfa86485105f6803bf0ed04"}));const Q=p.t("Cancel"),q=p.t("Request access");return B?s.createElement(m.A,{eventId:_.EventId.QUIP_PERMISSIONS_REQUEST,elementType:_.ElementType.MODAL},s.createElement(l.dW,{closeModal:W,"data-qa":"canvas_customized_request_access_modal",centered:!0,shouldCloseOnOverlayClick:!0},s.createElement(l.rQ,null,s.createElement(l.Rc,null,s.createElement("h2",null,H))),s.createElement(l.$m,null,s.createElement(l.qf,null,z)),s.createElement(l.jl,null,s.createElement(l.ox,null,s.createElement(l.s_,{type:"outline",onClick:W,"data-qa":"canvas_request_cancel_button",autoClogProps:A,"aria-label":Q},Q),s.createElement(v.lV,{type:"primary",onClick:K,loading:x,"data-qa":"canvas_request_access_button",disabled:L,autoClogProps:C,"aria-label":q},q))))):null},"CustomizedRequestAccessModal");T.displayName="CustomizedRequestAccessModal";const I=T,M=(0,t.Ay)("Opens the Request Access Done confirmation modal in client",(U,P,L)=>{let{fileId:F}=L;U((0,c.q)({element:s.createElement(I,{fileId:F})}))});M.meta={name:"createThunk",key:"createThunkopenCustomizedRequestAccessModal",description:"Opens the Request Access Done confirmation modal in client"};const D=M;var O=e(8257102208);const S=(0,t.Ay)('Opens the "Request Access" modal',async(U,P,L)=>{let{fileId:F,url:x,skipConfirmation:b,skipDoneDialog:k}=L,B;if(!F&&x){const W=(0,o.cR)(P(),x),K=(0,O.$q)(P(),x);W!==null&&(B=W),K!==null&&(B=K)}else F&&(B=F);B&&(b?U((0,n.x)({fileId:B,requestType:"access",reason:"DirectRequestAccessModal"})).then(()=>{k||U((0,u.A)())}).catch(()=>{U((0,g.A)())}):U(D({fileId:B})))});S.meta={name:"createThunk",key:"createThunkrequestAccessModalThunk",description:'Opens the "Request Access" modal'};const R=S},1662399599:(N,y,e)=>{"use strict";e.d(y,{A:()=>R});var t=e(3134334389),n=e(9506008067),o=e(4844578989),s=e.n(o),c=e(6551836451),r=e(82287009),a=e(7094978947),i=e(2647703359),l=e(4702704067),m=e(1257883628),_=e(8181621268),h=e(2952777997),d=e(1021289374),f=e(6159136815);const v=E(U=>{let{text:P="",inputIsEscaped:L=!1,showTooltips:F=!0}=U;const x=(0,n.d4)(d.A);return t.createElement(f.A,{text:(0,h.pV)({text:P,highlights:x,inputIsEscaped:L}),inputIsEscaped:L,showTooltips:F})},"FormatTextWithHighlightWords");v.displayName="FormatTextWithHighlightWords";const u=t.memo(v);var g=e(6471059816),p=e(5519146941),A=e(352142497),C=e(7969928607),T=e(1030162945),I=e(8509961938),M=e(5000515034),D=e(7274827479);const O=new g.Ay("files");function S(U){let{className:P,file:L,disableTooltip:F=!1,forcedTitle:x,shouldShowHighlight:b=!0,fromCanvasOrganization:k=!1,hasHighlightMarkers:B=!1,useLeadingEmojiAsIcon:W=!1,useLiveTitleForChannelCanvas:K=!1,hideRichTextEmojiTooltips:H=!1}=U;const z=(0,t.useRef)(),[Q,q]=(0,t.useState)(!1),[$,le]=(0,t.useState)(!1),{view:te}=(0,t.useContext)(p.A),ce=(te==null?void 0:te.viewType)===A.D.Search,me=(0,n.d4)(D.sE);if((0,t.useEffect)(()=>{const oe=(0,c.A)(z.current);q(oe)},[$]),!L)return null;let _e,Ae;if((0,i.uO)(L)||(0,i.aK)(L))Ae=t.createElement("span",{className:P,ref:z},O.t("Deleted file"));else if((0,i.kn)(L)||(0,i.Bp)(L)||(0,i.Ki)(L))Ae=t.createElement("span",{className:P,ref:z},O.t("Hidden file"));else if((0,i.sR)(L))Ae=t.createElement("span",{className:P,ref:z},O.t("Access denied"));else if(!(0,i.ZG)(L)&&!(0,i.Sp)(L)&&!(0,i.AY)(L))Ae=t.createElement("span",{className:P,ref:z},O.t("File not found"));else if((0,m.A)(L)){let oe="";(0,l.A)(L)?oe=O.t("Audio clip"):oe=O.t("Video clip"),Ae=t.createElement("span",{className:P,ref:z},oe)}else if((0,i.DQ)(L)&&L.title_blocks)Ae=t.createElement("span",{"data-qa":"file_name",className:P,ref:z},(0,r.GU)({id:L.id,fileId:L.id,truncate:!1,useLeadingEmojiAsIcon:W,stopAnimations:K,hideRichTextEmojiTooltips:H,preferTitleBlocksFromFileObject:ce||k}));else if((0,i.l7)(L)){var ye;const oe=(ye=L.list_metadata)===null||ye===void 0?void 0:ye.icon;_e=oe&&!W?`${oe} ${L.title}`:L.title,W&&(_e==null?void 0:_e.trim().search((0,I.A)()))===0&&(_e=_e.trim().replace((0,I.A)(),"").trim());let ee;b?B?ee=t.createElement(f.A,{text:_e||"",inputIsEscaped:!0}):ee=t.createElement(u,{text:_e||"",inputIsEscaped:!0}):ee=t.createElement(C.A,{text:_e,emojiSize:T.lw.SMALL}),Ae=t.createElement("span",{ref:z,"data-qa":"file_name",className:P,onMouseEnter:()=>le(!0),onMouseLeave:()=>le(!1)},ee)}else if(x||L.title){_e=x??L.title,W&&(_e==null?void 0:_e.trim().search((0,I.A)()))===0&&(_e=_e.trim().replace((0,I.A)(),""));let oe;b?B?oe=t.createElement(f.A,{text:_e||"",inputIsEscaped:!0}):oe=t.createElement(u,{text:_e||"",inputIsEscaped:!0}):oe=_e,Ae=t.createElement(t.Fragment,null,t.createElement("span",{ref:z,"data-qa":"file_name",className:s()("c-file_name",P),onMouseEnter:()=>le(!0),onMouseLeave:()=>le(!1)},oe),me&&(0,i.mb)(L)?t.createElement(t.Fragment,null,t.createElement("span",null," "),t.createElement(a.o,{type:"sparkles",size:"16",inline:!0,variation:"filled"})):null)}else _e=L.name,_e?Ae=t.createElement("span",{className:P,"data-qa":"file_name",ref:z},_e):Ae=t.createElement(M.A,{size:"random"});return Q&&!F?t.createElement(_.Ay,{tip:_e},Ae):Ae}E(S,"Name"),S.displayName="Name";const R=(0,t.memo)(S)},2332535469:(N,y,e)=>{"use strict";e.d(y,{O:()=>s});var t=e(6471059816),n=e(6120301420);const o=new t.Ay("files");function s(c,r){const a=(0,n.Vs)(c);var i;const l=(i=r.canvas_readtime)!==null&&i!==void 0?i:0;return l&&a?o.t("{readtimeString} min read",{readtimeString:Math.ceil(l).toString()}):""}E(s,"getCanvasReadtime")},5141066605:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(6471059816);const n=new t.Ay("files");function o(s){if(!s.is_external)return null;let c="File";switch(s.external_type){case"gdrive":switch(s.filetype){case"gsheet":c=n.t("Google Sheet");break;case"gdoc":c=n.t("Google Doc");break;case"gpres":c=n.t("Google Slide");break;case"gdraw":c=n.t("Google Drawing");break;default:c=n.t("Google {fileType}",{fileType:s.pretty_type})}break;case"dropbox":case"box":case"onedrive":case"app":c=n.t("{fileType}",{fileType:s.pretty_type});break;default:c=n.t("File")}return c}E(o,"getExternalFiletypeDescription")},8090839701:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(2647703359),n=e(6471059816),o=e(3207321841),s=e(5141066605),c=e(9361281657),r=e(6120301420),a=e(2332535469);const i=new n.Ay("files");function l(m,_){const h=(0,c.U)(m),d=(0,r.Vs)(m);if((0,t.dE)(_))return i.t("Template");if((0,t.DQ)(_)){const v=(0,a.O)(m,_);return v?d?i.t("Canvas | {readtimeString}",{readtimeString:v}):"Canvas":i.t("Canvas")}if((0,t.Y8)(_)&&h)return h?i.t("Poll"):"Poll";const f=(0,t.ge)(_)||(0,t.Vx)(_)?(0,s.A)(_):_.pretty_type;switch(f){case"Arugula":return i.t("Post");case o.Hk:return i.t("Slack Clip");default:return f}}E(l,"getFileTypeDescription")},6565762531:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n){return!!(n&&n!=="-")}E(t,"isValidFieldValue")},7969928607:(N,y,e)=>{"use strict";e.d(y,{A:()=>a});var t=e(3134334389),n=e(5734673180),o=e(8509961938),s=e(1030162945),c=e(6818330210);function r(i){let{text:l="",inputIsEscaped:m=!1,emojiSize:_=s.lw.SMALL,showTooltips:h=!0,stopAnimations:d=!1,emojiDisplayInfo:f={}}=i;const v=[];let u=0;const g=m?(0,n.A)(l??""):l??"";if(g.replace((0,o.A)(),(p,A,C)=>{if(C>u){const M=g.slice(u,C);v.push(t.createElement(t.Fragment,{key:`${C}-${M}`},M))}const{name:T=p,url:I=void 0}=(0,c.H)(p,f);return v.push(t.createElement(s.Ay,{text:T,emojiSize:_,key:`${C}-${T}`,showTooltip:h,stopAnimations:d,isEmojiInlineWithText:!0,url:I})),u=C+p.length,""}),!v.length)return t.createElement(t.Fragment,null,g);if(u<g.length){const p=g.substr(u);v.push(t.createElement(t.Fragment,{key:`last-${p}`},p))}return t.createElement(t.Fragment,null,v)}E(r,"FormatTextWithEmoji"),r.displayName="FormatTextWithEmoji";const a=t.memo(r)},6159136815:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(5734673180),o=e(7969928607);const s=/\ue000([^\ue001]*)\ue001/g;function c(a){let{text:i="",inputIsEscaped:l=!1,showTooltips:m=!0,stopAnimations:_=!1}=a;const h=[];let d=0;const f=l?(0,n.A)(i??""):i??"";if(f.replace(s,(v,u,g)=>{if(g>d){const p=f.slice(d,g);h.push(t.createElement(o.A,{key:`${g}-${p}`,text:p,showTooltips:m,inputIsEscaped:l,stopAnimations:_}))}h.push(t.createElement("span",{className:"c-mrkdwn__highlight",key:`${g}-${u}`},t.createElement(o.A,{text:u,showTooltips:m,inputIsEscaped:l,stopAnimations:_}))),d=g+v.length}),!h.length&&i)return t.createElement(t.Fragment,null,t.createElement(o.A,{text:i,showTooltips:m,inputIsEscaped:l,stopAnimations:_}));if(i&&d<i.length){const v=f.substr(d);h.push(t.createElement(o.A,{key:`last-${v}`,text:v,showTooltips:m,inputIsEscaped:l,stopAnimations:_}))}return t.createElement(t.Fragment,null,h)}E(c,"FormatTextWithHighlightMarkers"),c.displayName="FormatTextWithHighlightMarkers";const r=t.memo(c)},9245136272:(N,y,e)=>{"use strict";e.d(y,{E:()=>c});var t=e(3134334389),n=e(2670882607),o=e(9506008067),s=e(2047021170);const c=E(r=>{let{className:a,isAnimating:i,getAnimationImport:l,imagePath:m,style:_}=r;const h=(0,o.d4)(d=>(0,s.ty)(d,"a11y_animations"));return t.createElement("div",{style:{position:"relative",width:"100%"}},t.createElement("img",{className:a,src:m,alt:"",style:{width:"100%",display:"block",opacity:!h||!i||!l?1:0,transition:"opacity 0.2s ease",..._}}),h&&l&&t.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,opacity:i?1:0,transition:"opacity 0.2s ease"}},t.createElement(n.e,{key:m,getAnimationImport:l,autoplay:!0,loop:!0})))},"AnimatedImageTransition");c.displayName="AnimatedImageTransition"},7881522262:(N,y,e)=>{"use strict";e.d(y,{F:()=>A});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(2843556239),c=e(6471059816),r=e(9245136272),a=e(5931392972),i=e(3801841745),l=e(2036354333),m=e(8683010724),_=e(9506008067),h=e(2047021170),d=e(7722580674),f=e.n(d);function v(){return v=Object.assign||function(C){for(var T=1;T<arguments.length;T++){var I=arguments[T];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(C[M]=I[M])}return C},v.apply(this,arguments)}E(v,"_extends");const u=new c.Ay("promotions"),g={left:"flex-start",right:"flex-end"},p={ANIMATION_TIMEOUT:400,FADE_OUT_TIMEOUT_MULTIPLIER:.2,FADE_IN_TIMEOUT_MULTIPLIER:.8,CARD_OVERLAP_PX:6,FIRST_CARD_SCALE:1,SECOND_CARD_SCALE:.64,THIRD_CARD_SCALE:.58,REMAINING_CARDS_SCALE:.55,TRANSITION_SCALE:1.1},A=E(C=>{let{cards:T,className:I,position:M="left",cardOffsetWidth:D=280,containerHeight:O=333}=C;const{windowRef:S}=(0,t.useContext)(s._0),R=(0,_.d4)(G=>(0,h.ty)(G,"a11y_animations")),U=(0,t.useMemo)(()=>R?p.ANIMATION_TIMEOUT:0,[R]),P=(0,t.useRef)(null),L=(0,t.useRef)(null),F=(0,t.useRef)(null),[x,b]=(0,t.useState)(0),[k,B]=(0,t.useState)(!1),[W,K]=(0,t.useState)(0),[H,z]=(0,t.useState)(null),[Q,q]=(0,t.useState)(!1),$=u.t("{currentCard} of {totalCards}",{currentCard:W+1,totalCards:T.length}),le=(0,t.useCallback)((G,Z)=>()=>{R&&Z&&z(Z==="backward"?W:W-1>=0?W-1:T.length-1),K(G)},[W,T.length,R]),te=(0,t.useCallback)(G=>{const Z=M==="right",se=(G==="right"?1:-1)*(Z?-1:1),ae=(W+se+T.length)%T.length;let re;Z?re=G==="left"?"backward":"forward":re=G==="left"?"forward":"backward",le(ae,re)()},[W,le,T.length,M]),ce=(0,t.useCallback)(()=>te("left"),[te]),me=(0,t.useCallback)(()=>te("right"),[te]),_e=(0,t.useCallback)(G=>()=>{if(R){if(G===W||x>0)return;const Z=(G-W+T.length)%T.length;Z>0&&b(Z)}else le(G)()},[W,x,R,T.length,le]);(0,t.useEffect)(()=>{x>0&&!k&&(M==="right"?ce():M==="left"&&me(),B(!0),P.current=setTimeout(()=>{b(G=>G-1),B(!1)},U))},[x,k,me,ce,M,U]),(0,t.useEffect)(()=>{var G;const Z=E(ae=>{ae.key==="ArrowRight"?me():ae.key==="ArrowLeft"&&ce()},"handleKeyDown"),se=S.deref();return se==null||(G=se.document)===null||G===void 0||G.addEventListener("keydown",Z),()=>{var ae;se==null||(ae=se.document)===null||ae===void 0||ae.removeEventListener("keydown",Z)}},[me,ce,S]);const Ae=(0,t.useCallback)(()=>{L.current&&(clearTimeout(L.current),L.current=null),F.current&&(clearTimeout(F.current),F.current=null),P.current&&(clearTimeout(P.current),P.current=null)},[]);(0,t.useEffect)(()=>{H!==null&&(x===0&&Ae(),q(!0),L.current=setTimeout(()=>{z(null),F.current=setTimeout(()=>{q(!1)},U*p.FADE_IN_TIMEOUT_MULTIPLIER)},U*p.FADE_OUT_TIMEOUT_MULTIPLIER))},[H,U,Ae,x]),(0,t.useEffect)(()=>()=>{Ae()},[Ae]);const ye=(0,t.useCallback)(G=>(G-W+T.length)%T.length,[W,T.length]),oe=(0,t.useCallback)(G=>G===H||Q&&(G===W-1||W===0&&G===T.length-1),[H,Q,W,T.length]),ee=(0,t.useCallback)(G=>G===0?p.FIRST_CARD_SCALE:G===1?p.SECOND_CARD_SCALE:G===2?p.THIRD_CARD_SCALE:p.REMAINING_CARDS_SCALE,[]),V=(0,t.useCallback)(G=>{const Z={position:"absolute",transition:`all ${U}ms ease-in-out, box-shadow ${U}ms ease-in-out`,willChange:"transform, left, right, z-index, opacity, box-shadow, filter",boxShadow:"0 10px 20px rgba(0, 0, 0, 0.1)",transform:"translateZ(0)",backfaceVisibility:"hidden",height:`${O}px`},se=T.length,ae=ye(G),re=Math.abs(ae),pe=oe(G),de=Array(re).fill(0).reduce((ge,ke,Ne)=>{const We=ee(Ne),Oe=ee(Ne+1),be=D*We,Ke=D*Oe,Fe=(be+Ke)/2;return ge+Fe-p.CARD_OVERLAP_PX},0);let ie=`scale(${ee(re)})`,he=`${de}px`,ve=se-re;return pe&&(ie=`scale(${G===H?p.TRANSITION_SCALE:ee(T.length-1)})`,he=G===H?`${-D}px`:`${de+D}px`,G===H&&(ve=se+1)),{...Z,transform:ie,opacity:pe?0:1,zIndex:ve,[M]:he,...G<W&&!pe&&{filter:"grayscale(100%)",opacity:.5}}},[W,H,M,U,T.length,ye,ee,oe,D,O]),w=(0,t.useCallback)((G,Z)=>{let se=2;return Z==="title"&&!G.subtitle&&(se=3),{WebkitLineClamp:se,display:"-webkit-box",WebkitBoxOrient:"vertical",overflow:"hidden",margin:0}},[]),Y=(0,t.useMemo)(()=>T.map((G,Z)=>V(Z)),[T,V]);return t.createElement(i.A,{className:I,flexDirection:"column",justifyContent:"center",alignItems:"center",gap:28},t.createElement("div",null),t.createElement("div",{className:f().cardsContainer,style:{height:`${O}px`}},T.map((G,Z)=>{var se,ae,re,pe,de,ie;return t.createElement(l.A,{key:G.key,className:o()(f().cardContainer),style:Y[Z],onClick:_e(Z)},t.createElement("div",{className:o()(f().cardContainerImg,G.theme&&f()[G.theme]),style:{...(pe=G==null||(se=G.imgStyle)===null||se===void 0?void 0:se.container)!==null&&pe!==void 0?pe:{}}},G.lottieSrc?t.createElement(r.E,{className:o()(f().cardImg),isAnimating:Z===W,getAnimationImport:G.lottieSrc,imagePath:G.imgSrc,style:{...(de=G==null||(ae=G.imgStyle)===null||ae===void 0?void 0:ae.img)!==null&&de!==void 0?de:{}}}):t.createElement("img",{className:o()(f().cardImg),style:{...(ie=G==null||(re=G.imgStyle)===null||re===void 0?void 0:re.img)!==null&&ie!==void 0?ie:{}},src:G.imgSrc,alt:""})),t.createElement(i.A,{alignItems:"baseline",gap:8,className:f().cardContent},G.svgIconProps&&t.createElement(m.A,v({size:"20"},G.svgIconProps)),t.createElement(i.A,{flexDirection:"column",className:"margin_left_050 margin_right_050 margin_top_200",gap:8},t.createElement("span",{style:w(G,"title")},t.createElement(a.DZ,{level:"2",weight:"black",size:"title"},G.title)),G.subtitle&&t.createElement("span",{style:w(G,"subtitle")},t.createElement(a.EY,{weight:"base",color:"Core/Content/Secondary"},G.subtitle)))))})),t.createElement(i.A,{alignSelf:g[M],gap:12,className:o()(f().arrows,f()[M])},t.createElement(l.A,{onClick:ce},t.createElement(m.A,{size:"16",name:"caret-left"})),$,t.createElement(l.A,{onClick:me},t.createElement(m.A,{size:"16",name:"caret-right"}))))},"Carousel");A.displayName="Carousel"},8991818866:(N,y,e)=>{"use strict";e.d(y,{u:()=>m,v:()=>_});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(8683010724),c=e(9506008067),r=e(3328068409),a=e(4111302702),i=e.n(a);function l(){return l=Object.assign||function(h){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v])}return h},l.apply(this,arguments)}E(l,"_extends");const m=["lagoon","aubergine","cilantro","campfire","aiGradient"],_=E(h=>{let{theme:d,chipSize:f="medium",...v}=h;const g=(0,c.d4)(r.to)==="dark";return t.createElement("div",{className:o()(i().chip,d&&i()[d],i()[f],{[i().darkMode]:g})},t.createElement(s.A,l({size:"inherit"},v)))},"Chip");_.displayName="Chip"},8983392585:(N,y,e)=>{"use strict";e.d(y,{N:()=>d});var t=e(3134334389),n=e(6122756707),o=e(6839188756),s=e(9907843289),c=e(4452574402),r=e(6323355797),a=e(9506008067),i=e(3554387543),l=e(4005238080),m=e(7268021173),_=e(8815837079),h=e(1670069836);const d=E(()=>{const f=(0,n.wA)(),v=(0,a.d4)(i.Pr);(0,t.useEffect)(()=>{v||(f((0,l.A)()),f((0,_.A)({reason:"compare_plans_modal"})))},[v,f]);const u=(0,a.d4)(h.H7),g=(0,o.lk)(u),A=(0,a.d4)(i.nc)||"USD",C=(0,a.d4)(m.iH),T=(0,a.d4)(H=>(0,i.MO)(H,r.i6.standard.name,r.ck.monthly)),I=(0,a.d4)(H=>(0,i.C8)(H,r.i6.standard.name,r.ck.monthly)),M=(0,a.d4)(H=>(0,i.h$)(H,r.i6.standard.name,r.ck.monthly)),D=(0,a.d4)(H=>(0,i.cX)(H,r.i6.standard.name,r.ck.monthly)),O=(0,a.d4)(H=>(0,i.MO)(H,r.i6.standard.name,r.ck.yearly)),S=(0,a.d4)(H=>(0,i.C8)(H,r.i6.standard.name,r.ck.monthly)),R=(0,a.d4)(H=>(0,i.h$)(H,r.i6.standard.name,r.ck.yearly)),U=(0,a.d4)(H=>(0,i.cX)(H,r.i6.standard.name,r.ck.yearly)),P=(0,a.d4)(H=>(0,i.MO)(H,r.i6.plus.name,r.ck.monthly)),L=(0,a.d4)(H=>(0,i.C8)(H,r.i6.plus.name,r.ck.monthly)),F=(0,a.d4)(H=>(0,i.h$)(H,r.i6.plus.name,r.ck.monthly)),x=(0,a.d4)(H=>(0,i.cX)(H,r.i6.standard.name,r.ck.monthly)),b=(0,a.d4)(H=>(0,i.MO)(H,r.i6.plus.name,r.ck.yearly)),k=(0,a.d4)(H=>(0,i.C8)(H,r.i6.plus.name,r.ck.yearly)),B=(0,a.d4)(H=>(0,i.h$)(H,r.i6.plus.name,r.ck.yearly)),W=(0,a.d4)(H=>(0,i.cX)(H,r.i6.standard.name,r.ck.yearly));return(0,t.useMemo)(()=>v?{currentPlanLevel:g,isInTrial:C,pro:{billedMonthly:{undiscountedPrice:{unformatted:T,formatted:(0,c.ZV)(T,(0,s.Yp)(),{style:"currency",currency:A,currencyDisplay:"symbol"})||""},discountedPrice:I?{unformatted:I,formatted:(0,c.ZV)(I,(0,s.Yp)(),{style:"currency",currency:A,currencyDisplay:"symbol"})||"",discountPercentage:M,discountName:D}:null},billedYearly:{undiscountedPrice:{unformatted:O,formatted:(0,c.ZV)(O,(0,s.Yp)(),{style:"currency",currency:A,currencyDisplay:"symbol"})||""},discountedPrice:S?{unformatted:S,formatted:(0,c.ZV)(S,(0,s.Yp)(),{style:"currency",currency:A,currencyDisplay:"symbol"})||"",discountPercentage:R,discountName:U}:null}},plus:{billedMonthly:{undiscountedPrice:{unformatted:P,formatted:(0,c.ZV)(P,(0,s.Yp)(),{style:"currency",currency:A,currencyDisplay:"symbol"})||""},discountedPrice:L?{unformatted:L,formatted:(0,c.ZV)(L,(0,s.Yp)(),{style:"currency",currency:A,currencyDisplay:"symbol"})||"",discountPercentage:F,discountName:x}:null},billedYearly:{undiscountedPrice:{unformatted:b,formatted:(0,c.ZV)(b,(0,s.Yp)(),{style:"currency",currency:A,currencyDisplay:"symbol"})||""},discountedPrice:k?{unformatted:k,formatted:(0,c.ZV)(k,(0,s.Yp)(),{style:"currency",currency:A,currencyDisplay:"symbol"})||"",discountPercentage:B,discountName:W}:null}}}:{currentPlanLevel:r.F2.FREE,isInTrial:!1,pro:null,plus:null},[v,g,C,T,A,I,M,D,O,S,R,U,P,L,F,x,b,k,B,W])},"usePlanPrices")},4965739992:(N,y,e)=>{"use strict";e.d(y,{h:()=>p});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6471059816),c=e(5931392972),r=e(3398219534),a=e(3801841745),i=e(6084388622),l=e(8739505998),m=e(8683010724),_=e(2809903252),h=e(7517926269),d=e.n(h);const f=new s.Ay("promotions"),v=E(A=>{let{feature:C}=A;return t.createElement(a.A,{flexDirection:"column",flexGrow:1},t.createElement(c.EY,{weight:"bold"},t.createElement(_.A,{lines:1,withTooltip:!0,customTooltipText:C.cta.title},C.cta.title)),t.createElement(c.EY,{color:"Core/Content/Tertiary",size:"caption"},t.createElement(_.A,{lines:1,withTooltip:!0},C.cta.subtitle)))},"FeatureContent"),u=E(A=>{let{feature:C,afterFeatureClick:T,featureActionLookup:I}=A;const{url:M,onClick:D}=I(C),O=(0,r.T)({articleId:C.helpArticle.id,hash:C.helpArticle.hash}),S=(0,t.useCallback)(()=>{D?D():O(),T&&T()},[D,T,O]),R=(0,t.useMemo)(()=>({elementName:"feature_action",elementValue:C.key,onClick:{enableClogAction:!0}}),[C.key]),U=t.createElement(a.A,{gap:12,alignItems:"center"},t.createElement("div",{className:d().clickableIcon},t.createElement(m.A,{name:C.icon.name,width:32,height:40})),t.createElement(v,{feature:C}),t.createElement("div",{className:d().iconButton},t.createElement(m.A,{"aria-label":f.t("Go to feature"),name:"arrow-right",height:10,width:8})));return M?t.createElement(l.A,{href:M,autoClogProps:R,className:o()(d().urlLink,d().feature)},U):t.createElement(i.Nm,{onClick:S,className:d().feature,autoClogProps:R},U)},"ClickableFeature");u.displayName="ClickableFeature";const g=E(A=>{let{feature:C}=A;return t.createElement(a.A,{gap:12,alignItems:"center",className:d().feature},t.createElement(a.A,{alignItems:"center",justifyContent:"center",className:d().nonClickableIcon},t.createElement(m.A,{name:C.icon.name,size:"20"})),t.createElement(v,{feature:C}))},"NonClickableFeature");g.displayName="NonClickableFeature";const p=E(A=>{let{features:C,onFeatureHover:T,clickable:I,featureActionLookup:M,afterFeatureClick:D}=A;const O=(0,t.useCallback)(S=>T&&T(S),[T]);return t.createElement(a.A,{flexDirection:"column"},C.map((S,R)=>{const U=R<C.length-1;return t.createElement(a.A,{key:S.key,flexDirection:"column",justifyContent:"center",flexGrow:1,className:o()({[d().clickableFeatureContainer]:I,[d().divider]:I&&U})},t.createElement("div",{onMouseEnter:()=>O(S)},I?t.createElement(u,{feature:S,afterFeatureClick:D,featureActionLookup:M}):t.createElement(g,{feature:S})))}))},"FeatureList");p.displayName="FeatureList"},4191414376:(N,y,e)=>{"use strict";e.d(y,{a:()=>P,w:()=>U});var t=e(3134334389),n=e(6471059816),o=e(9346154532),s=e.n(o),c=e(4023230306),r=e.n(c),a=e(3665921473),i=e.n(a),l=e(4450714150),m=e.n(l),_=e(2447916751),h=e.n(_),d=e(4512247066),f=e.n(d),v=e(7856382836),u=e.n(v),g=e(8761753225),p=e.n(g),A=e(8896229587),C=e.n(A),T=e(9567250534),I=e.n(T),M=e(9220196311),D=e.n(M),O=e(4250547311),S=e.n(O);const R=new n.Ay("promotions"),U=E(()=>({key:"huddles_notes",category:"ai",name:R.t("Huddles notes"),shortDescription:R.t("Focus on the conversation and let Slack do the note taking for you.",{fallbackHash:"d00edd223edcf872c7193e824d23b600f4836173"}),longDescription:R.t("Get a comprehensive summary of your meetings, complete with a transcript, key takeaways and action items."),cta:{title:R.t("Group meetings with AI notes"),subtitle:R.t("Use huddles in channels to get the whole team aligned")},icon:{name:"ai-huddle-summary"},assets:{backgroundColor:"Palettes/Aubergine/10","de-DE":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-de-DE.json").then(e.t.bind(e,387771442,23))},"en-GB":{png:r(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-en-GB.json").then(e.t.bind(e,6081942680,23))},"en-US":{png:i(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-en-US.json").then(e.t.bind(e,1910811717,23))},"es-ES":{png:m(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-es-ES.json").then(e.t.bind(e,907296360,23))},"es-LA":{png:h(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-es-LA.json").then(e.t.bind(e,8146755499,23))},"fr-FR":{png:f(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-fr-FR.json").then(e.t.bind(e,706628968,23))},"ja-JP":{png:p(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-ja-JP.json").then(e.t.bind(e,2141367261,23))},"pt-BR":{png:I(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-pt-BR.json").then(e.t.bind(e,2747495880,23))},"ko-KR":{png:C(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-ko-KR.json").then(e.t.bind(e,5896553299,23))},"it-IT":{png:u(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-it-IT.json").then(e.t.bind(e,4539150266,23))},"zh-CN":{png:D(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-zh-CN.json").then(e.t.bind(e,2471077179,23))},"zh-TW":{png:S(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-zh-TW.json").then(e.t.bind(e,5599348295,23))}},helpArticle:{id:31377193680019},availabilityByPlanLevel:{free:{isAvailable:!1,limitation:null},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),P=E(()=>(0,t.useMemo)(()=>U(),[]),"useHuddlesNotes")},3777567130:(N,y,e)=>{"use strict";e.d(y,{D:()=>a,w:()=>r});var t=e(3134334389),n=e(6471059816),o=e(7121362573),s=e.n(o);const c=new n.Ay("promotions"),r=E(()=>({key:"integrations_with_other_apps",category:"automation",name:c.t("Integrations with other apps"),shortDescription:c.t("Connect the tools and services you use every day right into Slack"),longDescription:c.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2014 from Salesforce, Jira, Google Drive, ChatGPT, and more."),cta:{title:c.t("Unlimited app integrations"),subtitle:c.t("Make every integration seamless with apps")},icon:{name:"apps"},helpArticle:{id:360001537467},assets:{backgroundColor:"Palettes/Paprika/50","de-DE":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"en-GB":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"en-US":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"es-ES":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"es-LA":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"fr-FR":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"ja-JP":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"pt-BR":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"ko-KR":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"it-IT":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"zh-CN":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"zh-TW":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))}},availabilityByPlanLevel:{free:{isAvailable:!0,limitation:{label:c.t("10"),description:null}},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),a=E(()=>(0,t.useMemo)(()=>r(),[]),"useIntegrationsWithOtherApps")},3789530276:(N,y,e)=>{"use strict";e.d(y,{s:()=>P,w:()=>U});var t=e(3134334389),n=e(6471059816),o=e(3469177242),s=e.n(o),c=e(7745320748),r=e.n(c),a=e(4947809175),i=e.n(a),l=e(6700873660),m=e.n(l),_=e(3394895569),h=e.n(_),d=e(416289424),f=e.n(d),v=e(8946513810),u=e.n(v),g=e(9339829407),p=e.n(g),A=e(5699146993),C=e.n(A),T=e(5267777228),I=e.n(T),M=e(6985852377),D=e.n(M),O=e(5038027829),S=e.n(O);const R=new n.Ay("promotions"),U=E(()=>({key:"slack_connect",category:"productivity",name:R.t("Slack Connect"),shortDescription:R.t("Collaborate with outside partners and clients as easily as with in-house teams."),longDescription:R.t("Collaborate seamlessly and securely with vendors, customers, and other organizations using Slack Connect."),cta:{title:R.t("Work securely with external organizations"),subtitle:R.t("Work in channels with external people")},icon:{name:"buildings"},helpArticle:{id:360035092414},assets:{backgroundColor:"Palettes/Jade/70","de-DE":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-de-DE.json").then(e.t.bind(e,4657123492,23))},"en-GB":{png:r(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-en-GB.json").then(e.t.bind(e,5710905158,23))},"en-US":{png:i(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-en-US.json").then(e.t.bind(e,8825457063,23))},"es-ES":{png:m(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-es-ES.json").then(e.t.bind(e,4126465322,23))},"es-LA":{png:h(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-es-LA.json").then(e.t.bind(e,9718468121,23))},"fr-FR":{png:f(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-fr-FR.json").then(e.t.bind(e,248722738,23))},"ja-JP":{png:p(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-ja-JP.json").then(e.t.bind(e,1175194519,23))},"pt-BR":{png:I(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-pt-BR.json").then(e.t.bind(e,5359837234,23))},"ko-KR":{png:C(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-ko-KR.json").then(e.t.bind(e,1326023725,23))},"it-IT":{png:u(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-it-IT.json").then(e.t.bind(e,7180790508,23))},"zh-CN":{png:D(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-zh-CN.json").then(e.t.bind(e,7855186137,23))},"zh-TW":{png:S(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-zh-TW.json").then(e.t.bind(e,6392096305,23))}},availabilityByPlanLevel:{free:{isAvailable:!0,limitation:{label:R.t("1:1 only"),description:null}},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),P=E(()=>(0,t.useMemo)(()=>U(),[]),"useSlackConnect")},9650781710:(N,y,e)=>{"use strict";e.d(y,{d:()=>P,w:()=>U});var t=e(3134334389),n=e(6471059816),o=e(2651824376),s=e.n(o),c=e(1055919006),r=e.n(c),a=e(9468784045),i=e.n(a),l=e(9721191706),m=e.n(l),_=e(6072511763),h=e.n(_),d=e(9256831486),f=e.n(d),v=e(1991548408),u=e.n(v),g=e(9439644189),p=e.n(g),A=e(9467317535),C=e.n(A),T=e(4082867042),I=e.n(T),M=e(7666351987),D=e.n(M),O=e(6581854275),S=e.n(O);const R=new n.Ay("promotions"),U=E(()=>({key:"thread_and_channel_summaries",category:"ai",name:R.t("Thread and channel summaries"),shortDescription:R.t("Easily catch up on channels and threads in one click."),longDescription:R.t("Catch up on channels and threads in one click."),cta:{title:R.t("AI conversation summaries"),subtitle:R.t("Get up to speed in any channel or thread with one click")},icon:{name:"ai-summary"},helpArticle:{id:25076892548883,hash:"h_01HEKHNMD5YFNCVB9B2S0BSC1T"},assets:{backgroundColor:"Palettes/Aubergine/40","de-DE":{png:s(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-de-DE.json").then(e.t.bind(e,9764938808,23))},"en-GB":{png:r(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-en-GB.json").then(e.t.bind(e,6536852562,23))},"en-US":{png:i(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-en-US.json").then(e.t.bind(e,8685059971,23))},"es-ES":{png:m(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-es-ES.json").then(e.t.bind(e,863127406,23))},"es-LA":{png:h(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-es-LA.json").then(e.t.bind(e,2553170845,23))},"fr-FR":{png:f(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-fr-FR.json").then(e.t.bind(e,6767920742,23))},"ja-JP":{png:p(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-ja-JP.json").then(e.t.bind(e,4787834955,23))},"pt-BR":{png:I(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-pt-BR.json").then(e.t.bind(e,4927276174,23))},"ko-KR":{png:C(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-ko-KR.json").then(e.t.bind(e,1659694137,23))},"it-IT":{png:u(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-it-IT.json").then(e.t.bind(e,895017776,23))},"zh-CN":{png:D(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-zh-CN.json").then(e.t.bind(e,7672849621,23))},"zh-TW":{png:S(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-zh-TW.json").then(e.t.bind(e,8027931509,23))}},availabilityByPlanLevel:{free:{isAvailable:!1,limitation:null},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),P=E(()=>(0,t.useMemo)(()=>U(),[]),"useThreadAndChannelSummaries")},1471093810:(N,y,e)=>{"use strict";e.d(y,{m:()=>v});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7881522262),c=e(8991818866),r=e(4965739992),a=e(2657634112),i=e(5931392972),l=e(3801841745),m=e(6084388622),_=e(8739505998),h=e(980293773),d=e(1655662782),f=e.n(d);const v=E(u=>{let{title:g,subtitle:p,secondaryCTA:A,primaryCTA:C,carouselFeatures:T,listFeatures:I,autoClogProps:M,secondaryCTAAutoClogProps:D,primaryCTAAutoClogProps:O,chipIcons:S=[{name:"slack-logo-color"}],renderCustomHeaderIcon:R,disclaimer:U,carouselContainerHeight:P}=u;S.length===2&&S.splice(1,0,{name:"slack-logo-color"});const L=S.length===3;return t.createElement(h.aF,{className:f().modalContainer,maxWidth:870,autoClogProps:M},t.createElement(a.A,{horizontal:!0,horizontalOffset:I?"farLeft":"slightLeft"},t.createElement("div",{className:f().container},t.createElement(l.A,{flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",className:f().leftContainer},t.createElement("div",{className:o()("margin_bottom_150",{[f().multiChipContainer]:L})},!R&&S.map((F,x)=>t.createElement(c.v,{key:F.name,name:F.name,chipSize:L&&x%2===0?"medium":"extraLarge",theme:F.theme,style:F.style})),!!R&&R()),t.createElement(i.DZ,{level:"1",weight:"black",size:"headline"},g),t.createElement("div",{className:f().subtitle},t.createElement(i.EY,{color:"Core/Content/Secondary"},p)),t.createElement("div",{className:f().outerButtonContainer},t.createElement("div",{className:f().innerButtonContainer},C&&(C.url?t.createElement(m.z9,{href:C.url,autoClogProps:O},C.text):C.onClick&&t.createElement(m.Ay,{onClick:C.onClick,autoClogProps:O},C.text)),A&&t.createElement(_.A,{onClick:A.onClick,href:A.url,autoClogProps:D},A.text)))),t.createElement(l.A,{alignItems:I?"center":"flex-start",justifyContent:"center",flexDirection:"column",gap:16},T&&t.createElement(s.F,{containerHeight:P,cards:T,position:"left"}),I&&t.createElement(r.h,{features:I,clickable:!1}),U&&t.createElement(i.EY,{color:"Core/Content/Tertiary",weight:"base"},U)))))},"EntryPointModal");v.displayName="EntryPointModal"},229412938:(N,y,e)=>{"use strict";e.d(y,{y:()=>r});var t=e(3134334389),n=e(6471059816),o=e(5431290584);const s=new n.Ay("trials"),c={name:"slack-logo",size:"inherit"},r=E(a=>{let{ariaHidden:i,size:l=o.vj.Small}=a;return t.createElement(o.rg,{ariaLabel:s.t("Business Plus feature"),badgeText:s.t("Plus"),className:"p-plus_badge","data-qa":"plus-badge",icon:c,size:l,ariaHidden:i})},"PlusBadge")},2657634112:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(9506008067),c=e(3328068409),r=e(5097962808),a=e.n(r);const i=E(l=>{let{children:m,horizontal:_=!1,horizontalOffset:h="slightLeft"}=l;const f=(0,s.d4)(c.to)==="dark";return t.createElement("div",{className:o()({[a().containerVertical]:!_,[a().containerVerticalDarkMode]:!_&&f,[a().containerHorizontal]:_,[a().farLeft]:h==="farLeft"})},t.createElement("div",{className:a().childrenContainer},m))},"ScoopContainer");i.displayName="ScoopContainer"},5931392972:(N,y,e)=>{"use strict";e.d(y,{DZ:()=>f,EY:()=>_,LE:()=>i,Xm:()=>m,_g:()=>a});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6035312900),c=e.n(s);const r=["headline","title","subtitle","base","caption","micro"],a=["base","semibold","bold","black"],i=["Core/Content/Primary","Core/Content/Secondary","Core/Content/Tertiary","Theme/Content/Inverse primary","Core/Content/Important","Core/Content/Highlight 1","Core/Content/Highlight 2","Core/Content/Highlight 3","Palettes/Sunflower/60","inherit"],l=E(v=>{let{children:u,as:g="span",size:p="base",weight:A="base",color:C="Core/Content/Primary",isItalic:T}=v;return t.createElement(g,{className:o()(c().text,{[c().fontSizeMicro]:p==="micro",[c().fontSizeCaption]:p==="caption",[c().fontSizeBase]:p==="base",[c().fontSizeSubtitle]:p==="subtitle",[c().fontSizeTitle]:p==="title",[c().fontSizeHeadline]:p==="headline",[c().fontWeightBase]:A==="base",[c().fontWeightSemibold]:A==="semibold",[c().fontWeightBold]:A==="bold",[c().fontWeightBlack]:A==="black",[c().colorPrimary]:C==="Core/Content/Primary",[c().colorSecondary]:C==="Core/Content/Secondary",[c().colorTertiary]:C==="Core/Content/Tertiary",[c().colorThemeInversePrimary]:C==="Theme/Content/Inverse primary",[c().colorCoreContentHighlight1]:C==="Core/Content/Highlight 1",[c().colorCoreContentHighlight2]:C==="Core/Content/Highlight 2",[c().colorCoreContentHighlight3]:C==="Core/Content/Highlight 3",[c().colorCoreContentImportant]:C==="Core/Content/Important",[c().colorPalettesSunflower60]:C==="Palettes/Sunflower/60",[c().inherit]:C==="inherit",italic:T})},u)},"TextBase");l.displayName="TextBase";const m=["micro","caption","base","subtitle"].filter(v=>r.includes(v)),_=E(v=>{let{children:u,as:g,size:p,weight:A,color:C,isItalic:T}=v;return t.createElement(l,{as:g,size:p,weight:A,color:C,isItalic:T},u)},"Text");_.displayName="Text";const h=["headline","title","subtitle"].filter(v=>r.includes(v)),d={1:"h1",2:"h2",3:"h3"},f=E(v=>{let{level:u,size:g,weight:p="black",children:A}=v;return t.createElement(l,{size:g,as:d[u],color:"Core/Content/Primary",weight:p},A)},"Heading");f.displayName="Heading"},1743656885:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(8951118047);const n=t.A},6882609392:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(1483755157),n=e.n(t),o=e(862210999),s=e(1398359918),c=e(337319621);const r=n().prototype.stopCallback;n().prototype.stopCallback=()=>!1;const a=E(h=>r(h,h.target),"filterInput"),i=E((h,d)=>function(){for(var f=arguments.length,v=new Array(f),u=0;u<f;u++)v[u]=arguments[u];const g=v[0];d(g)||h(...v)},"makeFilteredHandler"),l=E((h,d)=>{const f=d[0];return f?l(i(h,f),d.slice(1)):h},"applyFilters"),m=E(h=>[h.ignoreInputs&&a,h.filter].filter(o.A),"getFiltersForCommand");let _=E(class{bindAll(d){d.forEach(f=>{const v=m(f);f.handler=l(f.handler,v),this.mousetrap.bind(f.keys,f.handler,f.action)})}reset(){this.mousetrap.destroy()}unbindAll(d){this.mousetrap.unbind((0,s.A)(d,"keys"))}trigger(d,f){this.mousetrap.trigger(d,f)}constructor(d){var f,v,u,g;let p=d;p&&!(p instanceof HTMLElement||p instanceof Document||(p==null||(f=p.constructor)===null||f===void 0?void 0:f.name)==="HTMLDocument"||(p==null||(v=p.constructor)===null||v===void 0?void 0:v.name)==="HTMLDivElement"||(p==null||(u=p.constructor)===null||u===void 0?void 0:u.name)==="HTMLElement"||(p==null||(g=p.constructor)===null||g===void 0?void 0:g.name)==="HTMLInputElement")&&((0,c.Wo)().error("Invalid element passed to KeyCommands"),p=void 0),n().addKeycodes({188:"comma"}),n().addKeycodes({173:"-"}),this.mousetrap=new(n())(p)}},"KeyCommands")},2852751673:(N,y,e)=>{"use strict";e.d(y,{o:()=>n});var t=e(3134334389);const n=t.createContext({closeCard:()=>{}})},6889316748:(N,y,e)=>{"use strict";e.d(y,{d:()=>h});var t=e(3134334389),n=e(7715417323),o=e(3020393294),s=e(5249175977),c=e(2852751673),r=e(2843556239),a=e(9497970206),i=e(6473800831);function l(){return l=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(d[u]=v[u])}return d},l.apply(this,arguments)}E(l,"_extends");const m=350,_=250,h=E(d=>{let{children:f,className:v,position:u="top",renderCard:g,...p}=d;const{windowRef:A}=(0,r.ox)(),C=(0,t.useRef)(null),[T,I]=(0,t.useState)(),[M,D]=(0,t.useState)(!1),O=(0,t.useCallback)(()=>{D(!1)},[]),S=(0,t.useCallback)(()=>{C.current&&I(C.current.getBoundingClientRect()),D(!0)},[]),[R,U]=(0,o.i)(O),[P,L]=(0,o.i)(S);(0,i.M)("keydown",k=>{k.key===a.D.ESCAPE&&O()},{element:A,isEnabled:M});function F(){L(),M?R(_):U()}E(F,"handleLeave");function x(){U(),M?L():P(m)}E(x,"handleEnter");const b=(0,t.useMemo)(()=>({closeCard:O}),[O]);return t.createElement(c.o.Provider,{value:b},t.createElement("span",l({className:v,onClick:O,onFocus:n.A,onMouseLeave:F,onMouseOver:x,ref:C,role:"presentation"},p),f,t.createElement(s.Ay,{isContentInteractive:!0,isOpen:M,isOverlayInteractive:!1,offsetY:-12,position:u,shouldFade:!0,shouldFocusAfterRender:!1,targetBounds:T,tryOppositePosition:!0},g())))},"HoverCardTrigger");h.displayName="HoverCardTrigger"},8808892924:(N,y,e)=>{"use strict";e.d(y,{i:()=>S});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3150724727);const c=t.memo(R=>{let{id:U}=R;return t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:U,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0.03,1 h0.742 a0.258,0.2,0,0,0,0.258,-0.2 V0.2 a0.258,0.2,0,0,0,-0.258,-0.2 H0.03 a0.385,0.299,0,0,1,0.098,0.2 v0.6 A0.385,0.299,0,0,1,0.03,1"})))});var r=e(543174729),a=e(3288846409),i=e(1407713935),l=e(6470070112),m=e(3391133100),_=e(8683010724),h=e(8181621268),d=e(337319621),f=e(8847766420),v=e(9506008067),u=e(9338147070),g=e(6533394955),p=e(9101533895),A=e(5286203919),C=e(9548972574),T=e(1766818988);function I(){return I=Object.assign||function(R){for(var U=1;U<arguments.length;U++){var P=arguments[U];for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(R[L]=P[L])}return R},I.apply(this,arguments)}E(I,"_extends");const M=2;function D(R){let{channelId:U,withTooltip:P,className:L,excludeIcon:F,excludeMemberOverflowCount:x,maxMembers:b=M,avatarSize:k=s.RG.verySmall,includeChannelNameInTooltip:B=!1,excludeSelf:W=!1}=R;const K=(0,t.useMemo)(()=>`huddles-mask-${(0,m.r9)()}`,[]),H=(0,t.useMemo)(()=>({"--huddles-mask":`url(#${K})`,"--huddles-avatar-size":`${k}px`}),[K,k]),z=(0,v.d4)(Y=>(0,l.pt)(Y)||(0,T.s)(Y)),Q=(0,v.d4)(Y=>(0,p.OL)(Y,U)),q=(0,a.cw)(A.hc),$=(0,a.cw)(A.vO),te=q===U&&(0,l.pZ)($),ce=(0,v.Z2)(Y=>(0,C.A7)(Y,U,W)),me=ce.length,_e=me>b,Ae=_e?me-2:0,ye=_e?ce.slice(0,b):ce,oe=(0,t.useMemo)(()=>{const Y=B&&!(0,i.cb)(Q),G=t.createElement(r.A,{channelId:U,includeChannelName:Y});return G||(0,d.Wo)().info("HUDDLE-FACEPILE",`channelId: ${U}, includeChannelName: ${Y}`),G},[U,B,Q]),ee=(0,t.useCallback)(()=>null,[]);if(!z||!me)return null;const V=t.createElement("div",{className:o()("p-huddle_avatar_stack",L),"data-qa":"huddle_avatar_stack__avatars_container",style:H},t.createElement(c,{id:K}),!F&&t.createElement("div",{className:"p-huddle_avatar_stack__icon_container"},t.createElement(_.A,{name:"headphones",size:"18"})),ye.map((Y,G)=>t.createElement(s.Ay,{key:Y,"data-qa":"huddle_avatar_stack__member",className:o()("p-huddle_avatar_stack__avatar",{"p-huddle_avatar_stack__avatar--first":G===0}),userId:Y,size:k,renderCustomBadge:ee,isInteractive:!1})),!x&&_e&&t.createElement("div",{className:"p-huddle_avatar_stack__plus-member-count","data-qa":"huddle_avatar_stack__plus_member_count"},`+${Ae}`)),w=P&&oe?t.createElement(h.Ay,{tip:oe},V):V;return te?null:w}E(D,"HuddleAvatarStackContent"),D.displayName="HuddleAvatarStackContent";const O=t.memo(D),S=t.memo(R=>{const{channelId:U}=R,P=(0,v.d4)(b=>(0,C.LY)(b,U)),L=(0,a.cw)(A.l4),F=(0,a.cw)(A.hc),x=(0,v.d4)(f.ZT);if(!P)return null;if(F===U){const b=(0,g.oK)(L||x);return t.createElement(u.Kq,{store:b},t.createElement(O,I({},R)))}return t.createElement(O,I({},R))})},1465889885:(N,y,e)=>{"use strict";e.d(y,{A:()=>I});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(9195837907),c=e(5075331445),r=e(3496486794),a=e(3288846409),i=e(2036354333),l=e(1610251172),m=e(2312625946),_=e(6471059816),h=e(7384121809),d=e(9506008067),f=e(6251210828),v=e(4250409994),u=e(5286203919);const g=new _.Ay("huddles"),p=65,A=80,C=100,T=E(M=>{let{updatePreview:D,onEffectSelected:O,isSmallLayout:S=!1}=M;const R=(0,r.A)(),U=(0,a.cw)(u.E9),P=(0,d.d4)(z=>(0,f.pj)(z,{huddleId:U})),[L,F]=(0,t.useState)("NONE"),x=(0,t.useCallback)(z=>()=>{z==="NONE"?((0,h.dispatchForClientStore)((0,v.Rb)({effect:void 0,effectBgKey:void 0})),O==null||O({backgroundType:void 0,effectBgKey:void 0})):z==="BLUR"?((0,h.dispatchForClientStore)((0,v.Rb)({effect:s.t.Blur})),O==null||O({backgroundType:s.t.Blur,backgroundKey:void 0})):((0,h.dispatchForClientStore)((0,v.Rb)({effect:s.t.Background,effectBgKey:z})),O==null||O({backgroundType:s.t.Background,backgroundKey:z})),D!==void 0&&D(),F(z)},[O,D]),b=(0,c.i)(),k=R.find(z=>z.key===b.backgroundEffectBgKey);(0,t.useEffect)(()=>{b.blurEffectIsEnabled?F("BLUR"):b.backgroundEffectBgKey===void 0?F("NONE"):k===void 0?(F("NONE"),x("NONE")()):F(b.backgroundEffectBgKey)},[F,k,x,b.backgroundEffectBgKey,b.blurEffectIsEnabled]);const{imgHeight:B,imgWidth:W}=(0,t.useMemo)(()=>S?{imgHeight:p,imgWidth:p}:P?{imgHeight:A,imgWidth:A}:{imgHeight:C,imgWidth:C},[P,S]),H=(0,t.useCallback)(()=>{const z=R.map(Q=>{const q=L===Q.key,$=E(()=>t.createElement(t.Fragment,null,Q.name,Q.description?t.createElement("div",{className:"c-tooltip__subtitle normal"},Q.description):null),"tooltipGetLabel");return $.displayName="tooltipGetLabel",t.createElement(m.Ay,{tip:$(),position:"top",key:Q.key},t.createElement(i.A,{key:Q.key,onClick:x(Q.key)},t.createElement("div",{className:"p-huddle_video_background_menu__image_and_checkbox_container"},q&&Q.key!=="NONE"&&t.createElement(t.Fragment,null,t.createElement(l.A,{className:"p-huddle_video_background_menu__checkbox_icon p-huddle_video_background_menu__checkbox_icon_background",type:"real-checkbox-checked-o"}),t.createElement(l.A,{className:"p-huddle_video_background_menu__checkbox_icon",type:"real-checkbox-checked"})),Q.key==="NONE"&&t.createElement("div",{style:{height:B,width:W},className:o()("p-huddle_video_background_menu__category_preview_image","p-huddle_video_background_menu__category_preview_image_none",{"p-huddle_video_background_menu__category_preview_image_none--selected":q,"p-huddle_video_background_menu__category_preview_image--selected":q,"p-huddle_video_background_menu__category_preview_image--compact_mode":P})},g.rt("<strong>None</strong>",{fallbackHash:"0dfae2820b8c3e724ad95bfde6a9b4539a58d6fb",fallbackHashNs:"canvas"})),Q.key==="BLUR"&&t.createElement("div",{style:{height:B,width:W},className:o()("p-huddle_video_background_menu__category_preview_image","p-huddle_video_background_menu__category_preview_image_blur",{"p-huddle_video_background_menu__category_preview_image_blur--selected":q,"p-huddle_video_background_menu__category_preview_image--selected":q,"p-huddle_video_background_menu__category_preview_image--compact_mode":P})},Q.key==="BLUR"&&g.rt("<strong>Blur</strong>",{fallbackHash:"7d5c2a9cc6a1684caefb5c90e47bcfd22356902e",fallbackHashNs:"canvas"})),Q.key!=="NONE"&&Q.key!=="BLUR"&&t.createElement("img",{className:o()("p-huddle_video_background_menu__category_preview_image",{"p-huddle_video_background_menu__category_preview_image--selected":q,"p-huddle_video_background_menu__category_preview_image--compact_mode":P}),alt:Q.name,src:Q.preview,height:B,width:W}))))});return t.createElement("div",{className:o()("p-huddle_video_background_menu__category_previews","p-huddle_video_background_menu__category_previews--has_video_preview",{"p-huddle_video_background_menu__category_previews--compact_mode":P,"p-huddle_video_background_menu__category_previews--small_layout":S})},z)},[R,P,S,L,x,B,W])();return t.createElement(t.Fragment,null,H)},"HuddleVideoBackgroundMenu");T.displayName="HuddleVideoBackgroundMenu";const I=t.memo(T)},3496486794:(N,y,e)=>{"use strict";e.d(y,{A:()=>W,g:()=>k});var t=e(3134334389),n=e(6471059816),o=e(4553218033),s=e.n(o),c=e(9679390338),r=e.n(c),a=e(7000154057),i=e.n(a),l=e(553949882),m=e.n(l),_=e(9631995895),h=e.n(_),d=e(3342291988),f=e.n(d),v=e(3607863955),u=e.n(v),g=e(5738074488),p=e.n(g),A=e(5908540923),C=e.n(A),T=e(7485089530),I=e.n(T),M=e(5475210953),D=e.n(M),O=e(8514307482),S=e.n(O),R=e(4136357865),U=e.n(R),P=e(7234375712),L=e.n(P),F=e(1672115571),x=e.n(F);const b=new n.Ay("huddles"),k=[{key:"NONE",preview:C()},{key:"BLUR",preview:C()},{key:"LIVING_ROOM",url:p(),preview:u()},{key:"REMOTE_WORK",url:U(),preview:S()},{key:"TOKYO_SIGHT",url:x(),preview:L()},{key:"GYM",url:m(),preview:i()},{key:"HOME",url:f(),preview:h()},{key:"OFFICE",url:D(),preview:I()},{key:"BEACH",url:r(),preview:s()}],W=E(()=>(0,t.useMemo)(()=>k.map(H=>{let z,Q;switch(H.key){case"NONE":z=b.t("No Background",{fallbackHash:"e47fc484f6e2f4bb4d93eff83f6dd16ed8da67a6",fallbackHashNs:"canvas"});break;case"BLUR":z=b.t("Blur",{fallbackHash:"900aa998d3550d438fc20a414d3938fc3a1630ab",fallbackHashNs:"canvas"});break;case"LIVING_ROOM":z=b.t("Living Room",{fallbackHash:"c7b60f3edf3318e80575d5e28c1ce24aa99a9025",fallbackHashNs:"canvas"}),Q=b.t("Art by Haley Tippmann",{fallbackHash:"e81e1f67d7c01d9dd464871bece52a2c87443190",fallbackHashNs:"canvas"});break;case"REMOTE_WORK":z=b.t("Remote Work",{fallbackHash:"42a38f6c51f22fed5086c12e2e747c90b17a2201",fallbackHashNs:"canvas"}),Q=b.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"TOKYO_SIGHT":z=b.t("Tokyo Sight",{fallbackHash:"eccff2285de126d6179c36b1fbc60c06b039a6e0",fallbackHashNs:"canvas"}),Q=b.t("Art by Luis Mendo",{fallbackHash:"4c1b393549c87100c23c7fe3e258fb7380736dfa",fallbackHashNs:"canvas"});break;case"GYM":z=b.t("Gym",{fallbackHash:"bc4359231d615dc65e372bac1bb5e0f2bf37639f",fallbackHashNs:"canvas"}),Q=b.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"HOME":z=b.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"canvas"});break;case"OFFICE":z=b.t("Office",{fallbackHash:"6c3a72eaf6235dfa967f2bba4dfc3e431c3e1180",fallbackHashNs:"canvas"});break;case"BEACH":z=b.t("Beach",{fallbackHash:"911fbb65335023a0800e5bf4a2dcc3ff13b2f9e3",fallbackHashNs:"canvas"});break;default:z="NO_NAME",Q="NO_DESCRIPTION"}return{...H,name:z,description:Q}}),[]),"useGetVideoBackgrounds")},5203103513:(N,y,e)=>{"use strict";e.d(y,{Mz:()=>o,NY:()=>s,VW:()=>n,_q:()=>t,aI:()=>r,xX:()=>c});const t="huddles_play_music_when_last",n="huddles_play_music_timeout",o="huddles_music_player_song_key",s="calendar_huddles_default_access_policy",c="calendar_huddles_default_auto_start_summary",r="huddles_show_join_preview"},3622858354:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3134334389),n=e(1030162945),o=e(7969928607);const s=E(r=>{let{text:a,emojiSize:i=n.lw.SMALL}=r;return t.createElement(t.Fragment,null,t.createElement(o.A,{text:a,emojiSize:i}))},"FormattedHuddleTopic");s.displayName="FormattedHuddleTopic";const c=s},7723800688:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>_,Hi:()=>l,uV:()=>m});var t=e(3134334389),n=e(6122756707),o=e(3288846409),s=e(6470070112),c=e(9506008067),r=e(8239363237),a=e(6251210828),i=e(5286203919),l;(function(h){h.CANVAS_OPEN="canvas_open",h.CANVAS_JOIN="canvas_join",h.CANVAS_LEAVE="canvas_leave",h.CANVAS_TOOLBAR="canvas_toolbar",h.EMOJI_PICKER_OPEN="emoji_picker_open",h.EMOJI_SENT="emoji_sent",h.LINK_OPEN="link_open",h.FOCUS_OPEN="focus_open",h.FOCUS_CLOSE="focus_close",h.MINI_PLAYER_THREAD_BUTTON="mini_player_thread_button",h.MINI_PLAYER_OPEN_WINDOW_BUTTON="mini_player_open_window_button",h.MINI_PLAYER_VIEW_START="mini_player_view_start",h.MINI_PLAYER_VIEW_END="mini_player_view_end",h.SCREENSHARE_START="screenshare_start",h.SCREENSHARE_END="screenshare_end",h.THREAD_FLEXPANE_VIEW_START="thread_flexpane_view_start",h.THREAD_FLEXPANE_VIEW_END="thread_flexpane_view_end",h.THREAD_WINDOW_VIEW_START="thread_window_view_start",h.THREAD_WINDOW_VIEW_END="thread_window_view_end",h.THREAD_OPEN="thread_open",h.THREAD_CLOSE="thread_close",h.SELF_VIDEO="self_video",h.WINDOW_COMPACT_VIEW_START="window_compact_view_start",h.WINDOW_COMPACT_VIEW_END="window_compact_view_end",h.WINDOW_FULL_VIEW_START="window_full_view_start",h.WINDOW_FULL_VIEW_END="window_full_view_end",h.WINDOW_RESIZE_BUTTON="window_resize_button",h.BACKGROUND_CHANGED="background_changed",h.JUKEBOX_SONG_SELECTED="huddles_jukebox_song_selected",h.JUKEBOX_STOP_MUSIC="huddles_jukebox_stop_music",h.CAPTIONS_START="huddles_captions_start",h.CAPTIONS_STOP="huddles_captions_stop",h.INVITATION_SENT="invitation_sent",h.MUSIC_PLAYER_STARTED="huddles_music_player_start_music",h.MUSIC_PLAYER_SONG_SELECTED="huddles_music_player_song_selected",h.MUSIC_PLAYER_STOP="huddles_music_player_stop_music",h.NOTES_OPEN="notes_open",h.NOTES_CLOSE="notes_close",h.CHANNEL_SPACE_OPEN="channel_space_open",h.CHANNEL_SPACE_CLOSE="channel_space_close",h.CHANNEL_SPACE_AUTO_OPEN="channel_space_auto_open"})(l||(l={}));var m;(function(h){h.HUDDLE_MINI_PLAYER_BADGE_ICON="huddle_mini_player_badge_icon",h.HUDDLE_MINI_PLAYER_SCREENSHARE="huddle_mini_player_screenshare",h.HUDDLE_MINI_PLAYER_PEER_TILES="huddle_mini_player_peer_tiles",h.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON="huddle_mini_player_overflow_button",h.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON="huddle_mini_player_open_window_button",h.HUDDLE_MINI_PLAYER_THREAD_BUTTON="huddle_mini_player_thread_button",h.CANVAS_WINDOW="canvas_window",h.LEAVE_CALL="leave_call",h.CLOSE_MODAL="close_modal",h.EMOJI_PICKER="emoji_picker",h.JUKEBOX_MENU="jukebox_menu",h.JUKEBOX_MUSIC_BANNER="jukebox_menu_banner",h.REACTION_BUBBLE="reaction_bubble",h.CHANGE_BACKGROUND_DIALOG="change_background_dialog",h.CONNECT_WITH_HUDDLES_CANVAS_EDUCATION="connect_with_huddles_canvas_education",h.HUDDLE_MINI_PLAYER_MUSIC_PLAYER="huddle_music_player",h.HUDDLE_WINDOW_MUSIC_PLAYER="huddle_window_music_player"})(m||(m={}));function _(){const h=(0,o.cw)(i.E9),d=(0,c.Z2)(A=>(0,s.$t)(A,{huddleId:h})),f=(0,o.cw)(s.kn,n.bN),v=(0,o.cw)(s.UE,n.bN),u=(0,c.d4)(A=>(0,a.Ec)(A,{huddleId:h})),g=(0,c.d4)(r.Tk);return(0,t.useMemo)(()=>({canvasThreadChannelId:d.canvas_thread_channel_id,canvasThreadId:d.canvas_thread_id,canvasHuddleSessionId:f.canvas_huddle_session_id,callsRoomId:v.room_id,callsChannelId:v.channel_id,uiPage:u?u.toString():null,fileId:g}),[d.canvas_thread_channel_id,d.canvas_thread_id,f.canvas_huddle_session_id,v.room_id,v.channel_id,u,g])}E(_,"useHuddleClogContext")},4233000497:(N,y,e)=>{"use strict";e.d(y,{A:()=>c,H:()=>s});var t=e(3134334389),n=e(6470070112),o=e(9506008067),s;(function(r){r.HUDDLES_SCHEDULED_ADD="huddles_scheduled_add",r.HUDDLES_SCHEDULED_NUX="huddles_scheduled_nux",r.HUDDLES_SCHEDULED_CANCEL="huddles_scheduled_cancel"})(s||(s={}));function c(r){const a=(0,o.Z2)(i=>r?(0,n.w1)(i,r):{});return(0,t.useMemo)(()=>({callsChannelId:a.channel_id,callsChannelType:a.channel_type,callsNumParticipants:a.num_participants,callsRoomId:a.room_id}),[a.channel_id,a.channel_type,a.num_participants,a.room_id])}E(c,"useHuddlesClogContext")},5169680368:(N,y,e)=>{"use strict";e.d(y,{k:()=>a});var t=e(8736071954),n=e(6471059816),o=e(387328355),s=e(9506008067),c=e(9365970888);const r=new n.Ay("huddles"),a=E(()=>{const i=(0,s.d4)(f=>!!(0,o.WQ)(f,"isMicrophoneEnabled")),l=(0,s.Z2)(f=>(0,c.ql)(f,t.lW.Microphone)),m=i?r.t("Mute mic"):r.t("Unmute mic"),_=i?r.t("Mute microphone",{fallbackHash:"51f49b875396cd34840651294743f45c5e634fd6"}):r.t("Unmute microphone",{fallbackHash:"c34014e51dd6e4f1ec620aa0f492685978c86433"});let h=l==null?void 0:l.label;if((l==null?void 0:l.id)!=="default"){var d;h=(l==null||(d=l.label)===null||d===void 0?void 0:d.replace(/ *?\([^)]*?\) *?/g,""))||void 0}return{microphoneLabel:m,isMicrophoneEnabled:i,deviceLabel:h,ariaLabel:_}},"useMicrophoneOnOff")},1638377365:(N,y,e)=>{"use strict";e.d(y,{z:()=>i});var t=e(416787925),n=e(8736071954),o=e(6471059816),s=e(387328355),c=e(9506008067),r=e(9365970888);const a=new o.Ay("huddles"),i=E(()=>{const l=(0,c.d4)(g=>!!(0,s.WQ)(g,"isHidingSelf")),m=!!(0,c.d4)(g=>(0,s.WQ)(g,"isCameraEnabled"))||!1,_=(0,c.Z2)(g=>(0,r.ql)(g,n.lW.Camera));let h;_!=null&&_.label&&(h=(0,t.On)(_.label));const d=a.t("Turn on video"),f=a.t("Turn off video"),v=m?f:d,u=m?a.t("Turn off camera",{fallbackHash:"af4d2263ca9afd84e1c091391c248ca22b884036"}):a.t("Turn on camera",{fallbackHash:"27892acc411157e52b1022f480b10c11e51b2350"});return{videoLabel:v,isCameraEnabled:m,isHidingSelf:l,deviceLabel:h,ariaLabel:u}},"useVideoOnOff")},4385664584:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3134334389),n=e(5950652755),o=e(9338147070);const s=E(r=>{let{store:a,children:i}=r;const l=(0,t.useMemo)(()=>({...a,subscribe:m=>a.subscribeImmediate((0,n.A)(m,16))}),[a]);return t.createElement(o.Kq,{store:l}," ",i," ")},"BackgroundableProvider");s.displayName="BackgroundableProvider";const c=s},7280065019:(N,y,e)=>{"use strict";e.d(y,{A:()=>a});var t=e(3134334389),n=e(4844578989),o=e.n(n);const s=E(i=>{let{className:l,wasCameraEverEnabled:m}=i;return t.createElement("div",{className:o()("p-huddle_camera_icon","p-huddle_camera_icon__container",l),"data-qa":"huddle_video_icon_camera_off"},t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M14.6694 6.44613L13.0988 8.21302C13.1635 8.32628 13.2578 8.42265 13.3746 8.4902C13.6064 8.62424 13.8922 8.62449 14.1242 8.49088L17.5 6.54725V13.4528L14.1242 11.5091C13.8922 11.3755 13.6064 11.3758 13.3746 11.5098C13.1428 11.6438 13 11.8913 13 12.1591V14.75C13 15.1642 12.6642 15.5 12.25 15.5H6.62151L5.28818 17H12.25C13.4926 17 14.5 15.9926 14.5 14.75V13.4563L17.1263 14.9684C17.9596 15.4482 19 14.8468 19 13.8852V6.11483C19 5.15324 17.9596 4.55176 17.1263 5.03155L14.6694 6.44613ZM1.5 14.4883V5.25C1.5 4.00736 2.50736 3 3.75 3H11.7118L10.3785 4.5H3.75C3.33579 4.5 3 4.83579 3 5.25V12.8008L1.5 14.4883Z",fill:"currentColor"}),t.createElement("path",{className:o()({"p-huddle_camera_icon--slash_animated":m}),d:"M2 17.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))},"renderCameraOff");s.displayName="renderCameraOff";const c=E(i=>{let{className:l}=i;return t.createElement("div",{className:o()("p-huddle_camera_icon","p-huddle_camera_icon__container",l),"data-qa":"huddle_video_icon_camera_on"},t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3.75 3.75C2.92157 3.75 2.25 4.42157 2.25 5.25V14.75C2.25 15.5784 2.92157 16.25 3.75 16.25H12.25C13.0784 16.25 13.75 15.5784 13.75 14.75V12.1591L17.5005 14.3185C17.8339 14.5104 18.25 14.2698 18.25 13.8852V6.11483C18.25 5.7302 17.8338 5.4896 17.5005 5.68152L13.75 7.84091V5.25C13.75 4.42157 13.0784 3.75 12.25 3.75H3.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),t.createElement("circle",{className:"p-huddle_camera_icon--dot",cx:"8",cy:"10",r:"2.5",fill:"currentColor"})))},"renderCameraOn");c.displayName="renderCameraOn";const r=E(i=>{let{isCameraEnabled:l,className:m}=i;const[_,h]=(0,t.useState)(l);return(0,t.useEffect)(()=>{l&&h(!0)},[l]),l?c({className:m}):s({className:m,wasCameraEverEnabled:_})},"HuddleCameraIcon"),a=t.memo(r)},543174729:(N,y,e)=>{"use strict";e.d(y,{A:()=>T,z:()=>C});var t=e(3134334389),n=e(3502457281),o=e(3150724727),s=e(3622858354),c=e(8920264989),r=e(6470070112),a=e(3534324375),i=e(337319621),l=e(6471059816),m=e(5135324409),_=e(9506008067),h=e(5795074931),d=e(9101533895),f=e(9548972574),v=e(4742719639),u=e(1766818988);const g=new l.Ay("huddles"),p=5,A=8,C=E(I=>{let{channelId:M}=I;const D=(0,_.Z2)(U=>(0,f.A7)(U,M,!1)),O=D.length,S=O>p,R=S?D.slice(0,p):D;return O===0?null:t.createElement("div",{className:"p-huddle_channel_tooltip__avatar_stack"},R.map((U,P)=>{const L=P===R.length-1;return t.createElement("div",{key:U,className:"p-huddle_channel_tooltip__avatar_container",style:{width:L?"auto":o.RG.medium-A}},t.createElement(o.Ay,{className:"p-huddle_channel_tooltip__avatar",userId:U,size:o.RG.medium,renderCustomBadge:m.Q,isInteractive:!1,additionalOverlay:S&&L?O-R.length+1:void 0}))}))},"HuddleTooltipAvatarStack");C.displayName="HuddleTooltipAvatarStack";function T(I){let{channelId:M,includeChannelName:D=!1}=I;const O=(0,_.d4)(H=>(0,d.OL)(H,M)),S=(0,_.d4)(H=>{const z=(0,r.Bn)(H,O),Q=(0,u.s)(H),q=z||Q;return q||(0,i.Wo)().info("HUDDLE-FACEPILE",`isHuddlesEnabled: ${q}, doesChannelSupportHuddles: ${z}, isHuddlesEnabledForSponsoredTeam: ${Q}`),q}),R=(0,_.d4)(h.WR),U=(0,_.Z2)(H=>(0,f.ft)(H,M)),P=(0,_.d4)(r.df),L=(0,c.Mn)(O),F=U.length,b=F>p?U.slice(0,p):U,k=(0,_.Z2)(H=>b.map(z=>({id:z.id,name:z.id===R?g.t("you"):(0,a.sE)(H,z)})).sort((z,Q)=>z.id===R?1:Q.id===R?-1:(0,n.Ay)(z.name,Q.name)).map(z=>{let{name:Q}=z;return Q})),B=(0,_.d4)(H=>(0,v.o)(H,M)),W=(0,t.useMemo)(()=>D?k.length===1?U[0].id===R?g.rt("Just you in the huddle #{channelName}",{channelName:L}):g.rt("{name} is in the huddle #{channelName}",{name:k[0],channelName:L}):g.rt("{memberCount} people in the huddle #{channelName}",{memberCount:F,channelName:L}):k.length===1?U[0].id===R?g.rt("Just you in the huddle"):g.rt("{name} is in the huddle",{name:k[0]}):g.rt("{memberCount} people in the huddle",{memberCount:F}),[D,k,F,L,U,R]);let K=B!=null&&B.trim()?t.createElement(s.A,{text:B}):null;return U.length>=P&&(K=g.t("Only {maxParticipants} people can join a huddle",{maxParticipants:P})),S?t.createElement("div",{className:"p-huddle_channel_tooltip"},t.createElement(C,{channelId:M}),t.createElement("div",{className:"margin_bottom_25","data-qa":"tooltip_action_text"},K),t.createElement("div",{className:"c-tooltip__subtitle","data-qa":"tooltip_member_text"},W)):null}E(T,"HuddleChannelTooltip")},9477894139:(N,y,e)=>{"use strict";e.d(y,{A:()=>l,g:()=>i});var t=e(3134334389),n=e(6122756707),o=e(2825968873),s=e(3837503631),c=e(5253428843),r=e(9712681361);const a=(0,o.tZ)("HUDDLE-ERROR");var i;(function(m){m.Huddles="huddles",m.Sidebar="huddles_pro_max-sidebar",m.Flexpane="huddles_pro_max-flexpane",m.CompactWindow="huddles_pro_max-compact_window",m.LargeWindow="huddles_pro_max-large_window",m.WindowFooter="huddles_pro_max-window_footer",m.AlertBanner="huddles_pro_max-alert_banner",m.InviteWindow="huddles_invite_window",m.ControlStripButton="huddles_control_strip_button",m.ChannelHeader="huddles_channel_header",m.Composer="huddles_composer",m.HuddleSpecialReactions="huddle_special_reactions"})(i||(i={}));function l(m){let{children:_,onError:h,isQuiet:d=!0,shouldStopHuddle:f=!1,subtype:v=i.Huddles}=m;const u=(0,n.wA)(),g=(0,t.useCallback)(()=>{f&&u((0,c.A)({terminalState:r.M6.ClientUIError}))},[u,f]),p=(0,t.useCallback)(C=>{a.error(`${v} ${C}`),h?h():g()},[g,h,v]),A=d?s.H:s.A;return t.createElement(A,{subtype:v,onError:p},_)}E(l,"HuddleErrorBoundary")},2084347232:(N,y,e)=>{"use strict";e.d(y,{A:()=>x});var t=e(3134334389),n=e(6122756707),o=e(7345807809),s=e(7914553163),c=e(825587348),r=e(6471059816),a=e(6323355797),i=e(8847766420),l=e(9506008067);const m=new r.Ay("huddles");function _(b){let{closeModal:k}=b;const B=a.zG.Vhq,W=(0,s.Ay)({promoSubtype:B}),K=(0,l.d4)(i.ZT)||"",H=(0,t.useMemo)(()=>(0,o.e)(W,B,K),[W,B,K]),z=(0,t.useCallback)(()=>{H==null||H.onClick(),k==null||k()},[H,k]);return!H||W!==s.MX.TrialEligible&&W!==s.MX.TrialIneligible&&W!==s.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement(c.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:k,onCancel:k,onSubmit:z,showCancelButton:!0,cancelButtonText:m.t("Dismiss"),showSubmitButton:!0,title:m.t("Your huddle has ended"),submitButtonText:H.text},m.t("On the free version of Slack, your huddles are limited to {min} minutes. You may restart the huddle if you\u2019d like.",{min:30}))}E(_,"HuddleTimeLimitReachedModal"),_.displayName="HuddleTimeLimitReachedModal";var h=e(3288846409),d=e(3037015781),f=e(8920264989),v=e(2350349607),u=e(6470070112),g=e(6839188756),p=e(8739505998),A=e(462591818),C=e(5363983309),T=e(9101533895),I=e(5881236351),M=e(5286203919),D=e(5332875232),O=e(9712681361),S=e(1670069836);const R=new r.Ay("huddles");function U(b){let{errorCode:k,isJoinError:B,closeModal:W}=b;var K;const H=(0,n.wA)(),z=(K=(0,h.cw)(M.Qn))===null||K===void 0?void 0:K.channelId,Q=(0,l.d4)(D.TM),q=(0,l.d4)(Y=>(0,T.OL)(Y,z)),$=(0,l.d4)(Y=>(0,d.uz)(q)?(0,f.SB)(Y,q,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0),le=(0,l.d4)(u.df),te=R.rt("This huddle already has {maxAmount} people, which is the maximum allowed.",{maxAmount:le}),ce=(0,t.useCallback)(()=>{H((0,I.RX)())},[H]),me=(0,t.useCallback)(()=>{H((0,I.e$)())},[H]),_e=(0,v.V)(q),Ae=(0,l.d4)(S.H7),ye=E(Y=>t.createElement(p.A,{target:"_blank",href:`${(0,g.Zl)(Ae)}help/requests/new`},Y),"renderContactUsLink");if(!(0,l.d4)(u.pl)&&!Q)return null;if(k===O.M6.FreemiumMaxParticipants)return ce(),null;const ee=(()=>{switch(k){case O.M6.MaxParticipants:return te;case O.M6.AudioJoinedFromAnotherDevice:return R.rt("To keep things nice and neat, you\u2019re no longer in the huddle here.");case O.M6.ChimeMeetingEnded:return B?R.rt("The Huddle has ended."):_e?R.rt("We ended the huddle since you were the only one there for a bit."):R.rt("We ended your huddle since you were the only one there for a bit.");case O.M6.PermissionDenied:return Q?R.rt("You are unable to join the Huddle as you do not have permission to join Huddles."):null;case A.uZ.CallEnded:return R.rt("The Huddle has ended.");case O.M6.DeviceLocked:return R.rt("When your computer locks, you automatically leave any huddle you\u2019re in. You can change this in <a>Preferences</a>.",null,Y=>{let{text:G,tag:Z}=Y;return Z==="a"?t.createElement(p.A,{onClick:me},G):null});case O.M6.FailedStartingRecording:case O.M6.FailedResumingRecording:return R.rt("We\u2019re not sure what went wrong, but try giving it another go in a few minutes.");case O.M6.FailedStartingRecordingUser:case O.M6.FailedResumingRecordingUser:return R.rt("It looks like not everyone on this huddle has access to this feature just yet.");case O.M6.FailedPausingRecording:return R.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try deleting the notes, or <a>contact us</a> for support.",null,Y=>{let{text:G,tag:Z}=Y;return Z==="a"?ye(G):null});case O.M6.FailedDeletingRecording:return R.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try ending the huddle and deleting the canvas once it\u2019s ready, or <a>contact us</a> for support.",null,Y=>{let{text:G,tag:Z}=Y;return Z==="a"?ye(G):null});case O.M6.GenericSomethingWentWrong:return R.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, <a>contact us</a> for support.",{},Y=>{let{text:G,tag:Z}=Y;return Z==="a"?ye(G):null});default:return R.rt("You\u2019ll have to go back and give it another try.")}})(),V=(()=>B?R.t("Can\u2019t join the huddle"):k===O.M6.AudioJoinedFromAnotherDevice?R.t("You\u2019ve joined the huddle on a different device"):k===O.M6.ChimeMeetingEnded&&!B?_e?R.t("You\u2019re no longer in a huddle in #{channelDisplayName}",{channelDisplayName:$}):R.t("You\u2019re no longer in a huddle"):k===O.M6.DeviceLocked?R.t("You\u2019re no longer in a huddle"):k===O.M6.FailedStartingRecording||k===O.M6.FailedStartingRecordingUser?R.rt("Couldn\u2019t start AI notes"):k===O.M6.FailedResumingRecording||k===O.M6.FailedResumingRecordingUser?R.rt("Couldn\u2019t resume AI notes"):k===O.M6.FailedPausingRecording?R.rt("Couldn\u2019t stop AI notes"):k===O.M6.FailedDeletingRecording?R.rt("Couldn\u2019t delete AI notes"):R.t("Something went wrong with your huddle"))(),w=(()=>k===O.M6.AudioInputStreamEnded||k===O.M6.MaxParticipants||k===O.M6.ChimeMeetingEnded&&!B?R.t("Got It"):R.t("OK"))();return t.createElement(c.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:W,onSubmit:W,showCancelButton:!1,showSubmitButton:!0,title:V,submitButtonText:w},ee)}E(U,"HuddleErrorModal"),U.displayName="HuddleErrorModal";const P={HuddleErrorModal:U},L="huddle_error_modal";function F(b){switch(b.errorCode){case O.M6.ChimeMeetingEndedFromTimeLimit:return _(b);default:return U(b)}}E(F,"HuddleErrorModalManager");const x=(0,C.A)(F,{modalName:L,allowMultiple:!1,isStackable:!0})},5933621899:(N,y,e)=>{"use strict";e.d(y,{Wx:()=>k,YM:()=>P});var t=e(3134334389),n=e(6122756707),o=e(6818173548),s=e(7173172014),c=e(4902318931),r=e(1407713935),a=e(1273480023),i=e(6839188756),l=e(825587348),m=e(8668318456),_=e(6471059816),h=e(5363983309),d=e(9506008067),f=e(9101533895),v=e(2938177083),u=e(7003004874),g=e(6259241484),p=e(8871937520),A=e(8286248123),C=e(3810478625),T=e(7268021173),I=e(1670069836),M=e(1779488764),D=e.n(M);function O(){return O=Object.assign||function(B){for(var W=1;W<arguments.length;W++){var K=arguments[W];for(var H in K)Object.prototype.hasOwnProperty.call(K,H)&&(B[H]=K[H])}return B},O.apply(this,arguments)}E(O,"_extends");const S=new _.Ay("huddles"),R={elementName:"cancel",onClick:{enableClogAction:!0}},U={elementName:"start-huddle",onClick:{enableClogAction:!0}},P=E(B=>{let{channelId:W,channelType:K,channelMembersCount:H,isTeamOnTrial:z,isFreeTeam:Q,trialExpirationTS:q,handleOnSubmit:$,closeModal:le,UNSAFE_parentSelector:te,isCurrentTeamSponsoredInSlackConnectChannel:ce=!1}=B;const me=(0,d.d4)(C.g),_e=S.t("Continue this conversation in a huddle",{fallbackHash:"e5dda045c4edc7e85d1a347f7051533c494e1904"}),Ae=t.createElement(o.A,{channelId:W});let ye,oe;switch(z&&!ce?oe=m.UiComponentVariant.TRIAL_TEAM:Q&&!ce?oe=m.UiComponentVariant.FREE_TEAM:oe=m.UiComponentVariant.PAID_TEAM,K){case r.Cu.mpim:{const ee=E(()=>S.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of this conversation will be able to join.",{channelMembersCount:H}),"genericCopy");me?ye=ee():z?ye=S.rt("Use this message as a jumping off point for a huddle with anyone in this conversation. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{trialEndDate:(0,p.Pd)(q),fallbackHash:"2955534d96227983f0f85447fb8f3f044131c94f"}):Q?ye=S.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from the conversation will be able to join."):ye=ee();break}case r.Cu.im:ye=S.t("Use this message as a jumping off point for a huddle.",{fallbackHash:"563c2f46cf094d773cfedd52e582a385faea3753"});break;default:{const ee=E(()=>S.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of <strong>{channelName}</strong> will be able to join.",{channelMembersCount:H,channelName:Ae}),"genericCopy");me||ce?ye=ee():z?ye=S.rt("Use this message as a jumping off point for a huddle with anyone in <strong>{channelName}</strong>. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{channelName:Ae,trialEndDate:(0,p.Pd)(q)}):Q?ye=S.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from <strong>{channelName}</strong> will be able to join.",{channelName:Ae}):ye=ee()}}return t.createElement(s.A,{uiComponentName:m.UiComponentName.HUDDLES_IN_THREAD_SPEEDBUMP,eventId:m.EventId.CANVAS_EVENT,uiComponentVariant:oe},t.createElement(l.A,{onClose:le,"data-qa":"huddle_in_thread_speed_bump_modal",submitButtonText:S.t("Start Huddle",{fallbackHash:"d9a37dbb2c259a1534d34ec9a94d2e9013f7b445"}),title:_e,onSubmit:$,submitAutoClogProps:U,onCancel:le,cancelAutoClogProps:R,headerImageSrc:D(),className:"p-huddle_in_thread_speed_bump_modal",headerImageAlt:S.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online."),UNSAFE_parentSelector:te},t.createElement("p",{className:"p-huddle_in_thread_speed_bump_modal__body_text",id:"huddle-in-thread-speed-bump-modal-body-text"},ye)))},"BaseHuddleInThreadSpeedBumpModalBase");P.displayName="BaseHuddleInThreadSpeedBumpModalBase";const L=E(B=>{let{channelId:W,onConfirm:K,closeModal:H}=B;const z=(0,n.wA)(),Q=(0,d.d4)(ye=>(0,f.OL)(ye,W)),q=(0,r.mz)(Q),$=(0,d.d4)(ye=>(0,A.q8)(ye,W)),le=($==null?void 0:$.counts.member_count)||0,te=(0,i.tc)((0,d.d4)(I.H7)),ce=(0,d.d4)(T.iH),me=(0,d.d4)(T.Sk),_e=(0,d.d4)(ye=>(0,a.u)(ye,Q));(0,t.useEffect)(()=>(z((0,u.A)({notificationName:g.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL,action:g.hw.IMPRESSION})),()=>{z((0,v.Ay)({spaceName:g.xu.LAUNCH_MODAL,action:g.hw.DISMISS}))}),[z]);const Ae=(0,t.useCallback)(()=>{K(),H==null||H()},[H,K]);return t.createElement(P,{channelType:q,channelMembersCount:le,isFreeTeam:te,isTeamOnTrial:ce,trialExpirationTS:me,handleOnSubmit:Ae,channelId:W,onConfirm:K,closeModal:H,isCurrentTeamSponsoredInSlackConnectChannel:_e})},"HuddleInThreadSpeedBumpModalBase");L.displayName="HuddleInThreadSpeedBumpModalBase";const F={spaceName:g.xu.LAUNCH_MODAL,notifications:{[g.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL]:{component:L}}},x=E(B=>{let{channelId:W,onConfirm:K,closeModal:H}=B;return t.createElement(c.Ay,O({},F,{channelId:W,onConfirm:K,closeModal:H}))},"HuddleInThreadSpeedBumpModal");x.displayName="HuddleInThreadSpeedBumpModal";var b=null;const k=(0,h.A)(x)},7843142872:(N,y,e)=>{"use strict";e.d(y,{D7:()=>_,Lk:()=>f,Vp:()=>v,g6:()=>d});var t=e(3134334389),n=e(6122756707),o=e(2028988448),s=e(6304789565),c=e(9506008067),r=e(6533394955),a=e(2832209848),i=e(9719951405),l=e(5492559860);let m=1;const _=E((u,g)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:p=!1,component:A=a.G7.HuddleCallNudgesBanner}=g;if(!p||!(0,i.kI)(u,A,a.X8.Click)&&!(0,i.kI)(u,A,a.X8.Dismiss))return!1;var C;const T=(C=(0,i.ky)(u,A,a.X8.Click))!==null&&C!==void 0?C:0;var I;const M=(I=(0,i.ky)(u,A,a.X8.Dismiss))!==null&&I!==void 0?I:0;return!(T>=m||M>=m)},"shouldShowHuddleDiscoveryBanner"),h=E(function(){let{experimentHuddlesDiscoveryCallsGroupTreatment:u=!1,component:g=UiComponent.HuddleCallNudgesBanner}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{experimentHuddlesDiscoveryCallsGroupTreatment:!1,component:UiComponent.HuddleCallNudgesBanner};const p=useDispatch();useEffect(()=>{u&&p(loadUserInteractions({interactions:[{component:g,type:InteractionType.Click},{component:g,type:InteractionType.Dismiss}],useCache:!0,cacheFilter:hasLoadedInteraction,reason:"huddle-discovery-calls"}))},[p,u,g])},"useHuddleDiscoveryCallsUserInteractions"),d=(0,s.Ay)("Send interaction to dismiss nudge",(u,g,p)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:A,interactionType:C}=p;if(!A)return;const T=g();(0,i.ky)(T,a.G7.HuddleCallNudgesBanner,C)>m||u((0,l.z)({component:a.G7.HuddleCallNudgesBanner,type:C,reason:"huddle-discovery-calls"}))});d.meta={name:"createThunk",key:"createThunkincrementUserInteractionCount",description:"Send interaction to dismiss nudge"};const f=E(u=>{let{component:g,type:p}=u;const A=(0,n.wA)();return(0,t.useEffect)(()=>{A((0,l.b)({interactions:[{component:g,type:p}],reason:g}))},[A,g,p]),(0,c.d4)(C=>(0,i.kI)(C,g,p)?(0,i.PU)(C,g):null)},"useTrialProBannerInteraction"),v=(0,s.Ay)("Record trial pro banner interaction",(u,g,p)=>{let{component:A,type:C}=p;return u((0,l.z)({component:A,type:C,reason:A}))});v.meta={name:"createThunk",key:"createThunkrecordTrialProBannerInteraction",description:"Record trial pro banner interaction"},(0,o.ul)("huddleInteractionUtils",{addOneMoreThanClickCount:u=>{const g=(0,r.$D)(u);m=(0,i.ky)(g,a.G7.HuddleCallNudgesBanner,a.X8.Click)+1},addOneMoreThanDismissCount:u=>{const g=(0,r.$D)(u);m=(0,i.ky)(g,a.G7.HuddleCallNudgesBanner,a.X8.Dismiss)+1}})},8330768070:(N,y,e)=>{"use strict";e.d(y,{G$:()=>R,Oe:()=>F,Y6:()=>P});var t=e(3134334389),n=e(6122756707),o=e(6818173548),s=e(7173172014),c=e(3037015781),r=e(3929724715),a=e(1407713935),i=e(8798294025),l=e(8921478798),m=e(6496493732),_=e(3989454579),h=e(7138682671),d=e(8668318456),f=e(6471059816),v=e(8374895239),u=e(5363983309),g=e(9506008067),p=e(5795074931),A=e(9101533895),C=e(8286248123),T=e(2047021170),I=e(387484329);function M(){return M=Object.assign||function(x){for(var b=1;b<arguments.length;b++){var k=arguments[b];for(var B in k)Object.prototype.hasOwnProperty.call(k,B)&&(x[B]=k[B])}return x},M.apply(this,arguments)}E(M,"_extends");const D=new f.Ay("huddles"),O={elementName:"huddles_confirmation_dialog_ok",eventId:d.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}},S={elementName:"huddles_confirmation_dialog_cancel",eventId:d.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},R=E(x=>{let{children:b,closeModal:k,onConfirm:B,uiComponentName:W,...K}=x;const H=(0,t.useCallback)(()=>{B(),k==null||k()},[k,B]);return t.createElement(s.A,{uiComponentName:W,eventId:d.EventId.HUDDLES_CONFIRM_DIALOG_SHOWN,clogImpression:!0},t.createElement(m.A,M({overlayClassName:"p-huddle_join_modal__overlay","data-qa":"huddle_join_modal",onCancel:k,onClose:k,onSubmit:H,submitButtonText:D.t("OK"),submitAutoClogProps:O,cancelAutoClogProps:S},K),b))},"HuddleJoinModal");R.displayName="HuddleJoinModal";const U=E(x=>{let{prevChannelId:b,nextChannelId:k,onConfirm:B,closeModal:W}=x;const K=(0,g.d4)(le=>(0,A.OL)(le,b)),H=(0,g.Z2)(le=>{if(!K)return[];let te=[];if((0,a.LI)(K))te=[(0,i.e)(K)];else if((0,a.yz)(K)){const ce=(0,r.Ug)(K);if(ce&&ce.length){const me=(0,p.WR)(le);te=ce.filter(_e=>_e!==me)}}return te.map(ce=>(0,l.I)(le,ce))}),z=(0,g.d4)(le=>(0,A.OL)(le,k)),Q=(0,g.Z2)(le=>{if(!z)return[];let te=[];if((0,a.LI)(z))te=[(0,i.e)(z)];else if((0,a.yz)(z)){const ce=(0,r.Ug)(z);if(ce&&ce.length){const me=(0,p.WR)(le);te=ce.filter(_e=>_e!==me)}}return te.map(ce=>(0,l.I)(le,ce))});let q=D.rt("You\u2019re already in a huddle.");H.length?q=D.rt("You\u2019re already in a huddle with {listOfPersons}.",{listOfPersons:(0,v.A)(H).join("")}):K&&(0,c.uz)(K)&&(q=D.rt("You\u2019re already in a huddle in {channel}.",{channel:t.createElement(o.A,{channel:K,channelId:b})}));let $=D.rt("Would you like to leave it and join this one instead?");return Q.length?$=D.rt("Would you like to leave it and join a huddle with {listOfPersons} instead?",{listOfPersons:t.createElement("strong",null,(0,v.A)(Q).join(""))}):z&&(0,c.uz)(z)&&($=D.rt("Would you like to leave it and join a huddle in {channel} instead?",{channel:t.createElement("strong",null,t.createElement(o.A,{channel:z,channelId:k}))})),t.createElement(R,{uiComponentName:d.UiComponentName.HUDDLES_CONFIRMATION_DIALOG,title:D.t("Switch to this huddle?"),onConfirm:B,closeModal:W},t.createElement("p",null,q," ",$))},"HuddleSwitchModal");U.displayName="HuddleSwitchModal";const P=(0,u.A)(U),L=E(x=>{let{channelId:b,onConfirm:k,closeModal:B}=x;const W=(0,g.d4)(ce=>(0,A.OL)(ce,b)),K=(0,g.d4)(ce=>{const me=(0,C.q8)(ce,b);return(me==null?void 0:me.counts.member_count)||0}),H=(0,g.d4)(ce=>(0,T.ty)(ce,"huddles_show_shouty_rooster")),[z,Q]=(0,t.useState)(H),q=(0,n.wA)(),$=W&&(0,c.uz)(W)&&t.createElement("strong",null,t.createElement(o.A,{channelId:b,channel:W})),le=K>1?D.rt("You\u2019ll be starting a huddle that all {count} members of {channel} can join.",{count:t.createElement("strong",null,K),channel:$}):D.rt("You\u2019ll be starting a huddle that every member of {channel} can join.",{channel:$}),te=(0,t.useCallback)(()=>{const ce=!z;Q(ce),q((0,I.AZ)({pref:"huddles_show_shouty_rooster",value:ce}))},[z,q]);return t.createElement(R,{uiComponentName:d.UiComponentName.HUDDLES_SHOUTY_ROOSTER_DIALOG,title:D.t("Start a huddle in this channel?"),onConfirm:k,closeModal:B},t.createElement("p",null,le),t.createElement(h.A,{text:D.t("Don\u2019t show this message again."),type:"inline",cursor:"pointer"},t.createElement(_.A,{name:"ns",checked:!z,onChange:te,"data-qa":"huddle_join_modal_show_checkbox"})))},"HuddleShoutyRoosterModal");L.displayName="HuddleShoutyRoosterModal";const F=(0,u.A)(L)},3143500799:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(9506008067),c=e(2047021170),r=e(3677363342),a=e.n(r);const i=t.memo(h=>{let{className:d,iconClassName:f,allowMuteAnimation:v,wasMicEverEnabled:u,isMicStrikethroughRed:g}=h;return t.createElement("div",{className:o()("p-huddle_mic_icon p-huddle_mic_icon__container",d),"data-qa":"huddle_mic_icon_unmute"},t.createElement("svg",{className:f,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{d:"M5.35086 10.3436C5.12445 9.77312 5 9.15109 5 8.5V8.25C5 7.83579 4.66421 7.5 4.25 7.5C3.83579 7.5 3.5 7.83579 3.5 8.25V8.5C3.5 9.60794 3.7772 10.6511 4.26603 11.564L5.35086 10.3436ZM7.62904 14.554C8.36362 14.8419 9.16335 15 10 15C13.5899 15 16.5 12.0899 16.5 8.5V8.25C16.5 7.83579 16.1642 7.5 15.75 7.5C15.3358 7.5 15 7.83579 15 8.25V8.5C15 11.2614 12.7614 13.5 10 13.5C9.55549 13.5 9.12453 13.442 8.71427 13.3331L7.62904 14.554Z",fill:"currentColor"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.1271 2.72031C11.5376 2.2685 10.8001 2 10 2C8.067 2 6.5 3.567 6.5 5.5V8.5C6.5 8.67302 6.51255 8.84311 6.5368 9.0094L8 7.3633V5.5C8 4.39543 8.89543 3.5 10 3.5C10.4175 3.5 10.8051 3.62793 11.1258 3.84674L12.1271 2.72031ZM9.90052 11.9986C9.93357 11.9995 9.96673 12 10 12C11.933 12 13.5 10.433 13.5 8.5V7.9492L9.90052 11.9986Z",fill:"currentColor"}),t.createElement("path",{className:o()({"p-huddle_mic_icon__microphone--slash_animated":v&&u,"p-huddle_mic_icon__microphone--slash":g}),d:"M4 15.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),l=t.memo(h=>{let{volumeLevel:d=0,className:f,iconClassName:v,allowUnmutedAnimation:u}=h;const[g,p]=(0,t.useState)(0);(0,t.useEffect)(()=>{if(d!=="auto"){p(Math.min(1,d||0));return}const T=setInterval(()=>{const I=(Math.floor(Math.random()*100)+1)/100;p(I)},100);return()=>{clearInterval(T)}},[d]);const A=(0,s.d4)(T=>!(0,c.ty)(T,"a11y_animations")),C=(0,t.useMemo)(()=>u?A?t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3 8.9V11M5.8 6.1V13.8M8.6 4V16.6M11.4 7.5V12.4M14.2 5.4V14.5M17 8.9V11",stroke:"#178F65",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})):t.createElement("img",{className:"p-huddle_mic_icon__img",src:a(),alt:""}):t.createElement("svg",{className:v,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{className:"p-huddle_mic_icon__microphone--input_level",style:{transform:`scaleY(${g})`},d:"M10 11V3",stroke:"currentColor",strokeWidth:"4"}),t.createElement("path",{d:"M7.25 5.5C7.25 3.98122 8.48122 2.75 10 2.75V2.75C11.5188 2.75 12.75 3.98122 12.75 5.5V8.5C12.75 10.0188 11.5188 11.25 10 11.25V11.25C8.48122 11.25 7.25 10.0188 7.25 8.5V5.5Z",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("path",{d:"M4.25 8.25V8.5C4.25 11.6756 6.82436 14.25 10 14.25V14.25C13.1756 14.25 15.75 11.6756 15.75 8.5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})),[u,v,g,A]);return t.createElement("div",{className:o()("p-huddle_mic_icon p-huddle_mic_icon__container",f),"data-qa":"huddle_mic_icon_mute"},C)}),m=E(h=>{let{type:d,volumeLevel:f,className:v,iconClassName:u,allowMuteAnimation:g=!1,isMicStrikethroughRed:p=!1,allowUnmutedAnimation:A=!1}=h;const[C,T]=(0,t.useState)(d==="unmuted");return(0,t.useEffect)(()=>{d==="unmuted"&&T(!0)},[d]),d==="unmuted"?t.createElement(l,{className:v,iconClassName:u,volumeLevel:f,allowUnmutedAnimation:A}):t.createElement(i,{className:v,iconClassName:u,allowMuteAnimation:g,wasMicEverEnabled:C,isMicStrikethroughRed:p})},"HuddleMicIcon");m.displayName="HuddleMicIcon";const _=t.memo(m)},5043394918:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(7715417323),o=e(1337358413),s=e(3143500799),c=e(1829947126);function r(a){let{peerId:i,isMicrophoneEnabled:l,className:m,allowMuteIconAnimation:_=!1,isMicStrikethroughRed:h=!1}=a;const[d,f]=(0,t.useState)(0);return(0,t.useEffect)(()=>{if(!l)return n.A;const v=E(u=>{const g=(0,o.Ft)(u);f(g)},"onLevelUpdated");return c.A.subscribe(i,v),()=>{c.A.unsubscribe(i,v)}},[i,l]),t.createElement(s.A,{type:l?"unmuted":"muted",volumeLevel:d,className:m||"",allowMuteAnimation:_,isMicStrikethroughRed:h})}E(r,"HuddleMicVolumeIndicator")},438845125:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3134334389),n=e(506098956);function o(c){let{slackId:r,displayName:a}=c;return!r&&!a?null:r?t.createElement(n.A,{isBold:!1,id:r}):t.createElement("span",null,a)}E(o,"HuddleMsgTextUser"),o.displayName="HuddleMsgTextUser";const s=o},1051015021:(N,y,e)=>{"use strict";e.d(y,{V:()=>g});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6005700845),c=e(7914553163),r=e(6148716148),a=e(5431290584),i=e(7433432223),l=e(6471059816),m=e(6323355797),_=e(9506008067),h=e(9548972574),d=e(3810478625),f=e(7573583373),v=e.n(f);const u=new l.Ay("huddles");function g(p){let{showProBadge:A,className:C}=p;const T=(0,_.d4)(h.qr),I=(0,_.d4)(d.g),M=m.zG.Vhq,D=(0,c.Ay)({promoSubtype:M}),O=(0,t.useMemo)(()=>t.createElement(s.A,{useLink:!0,variant:D,promoSubtype:m.zG.Vhq,ctaClassName:v().cta}),[D]);return!T||!I||D!==c.MX.TrialEligible&&D!==c.MX.TrialIneligible&&D!==c.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement("div",{className:o()(v().container,C)},t.createElement(i.A,null,t.createElement("div",{className:v().alertBanner},A&&t.createElement(r.a,{featurePlan:"std",size:a.vj.Medium,className:v().proBadge}),t.createElement("span",null,u.t("On the free version of Slack, your huddles are limited to {min} minutes.",{min:30}),"\xA0",O))))}E(g,"HuddleTimeLimitUpgradeAlert"),g.displayName="HuddleTimeLimitUpgradeAlert"},4745917661:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3134334389),n=e(6471059816);const o=new n.Ay("huddles");function s(r){let{actionLabel:a,deviceLabel:i,audioOnlyModeEnabledWarning:l}=r;if(l){const m=o.t("Audio only mode will be disabled if you turn on your camera",{fallbackHash:"27892acc411157e52b1022f480b10c11e51b2350"});return t.createElement("div",{className:"p-huddle_tooltip_device_content"},t.createElement("div",{className:"p-huddle_tooltip_action_label"},m))}return t.createElement("div",{className:"p-huddle_tooltip_device_content"},t.createElement("div",{className:"p-huddle_tooltip_action_label"},a),i&&t.createElement("div",{className:"p-huddle_tooltip_device_label"},i))}E(s,"HuddlesToolTipDeviceContent"),s.displayName="HuddlesToolTipDeviceContent";const c=s},8320929653:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>ee,e3:()=>_e,lc:()=>Ae});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(3150724727),r=e(6818173548),a=e(7173172014),i=e(3622858354),l=e(4233000497),m=e(6749400491),_=e(5519146941),h=e(3288846409),d=e(1149563359),f=e(3037015781),v=e(3929724715),u=e(1407713935),g=e(8798294025),p=e(6470070112),A=e(9373230523),C=e(3708320478),T=e(2527782504),I=e(2683115972),M=e(3165300465),D=e(8683010724),O=e(4275787242),S=e(8668318456),R=e(6471059816),U=e(8374895239),P=e(9012396182),L=e(1289024643),F=e(9506008067),x=e(5795074931),b=e(9101533895),k=e(6251210828),B=e(5286203919),W=e(5332875232),K=e(8746998952),H=e(9712681361),z=e(4742719639),Q=e(3193155968),q=e(7429662208);function $(){return $=Object.assign||function(V){for(var w=1;w<arguments.length;w++){var Y=arguments[w];for(var G in Y)Object.prototype.hasOwnProperty.call(Y,G)&&(V[G]=Y[G])}return V},$.apply(this,arguments)}E($,"_extends");const le=new R.Ay("huddles"),te={elementName:"huddles_invite_decline",eventId:S.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ce={elementName:"huddles_invite_joining_soon",eventId:S.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},me={elementName:"huddles_invite_join",eventId:S.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},_e=E(V=>{let{topic:w,formattedTopic:Y,channel:G,channelName:Z,otherMemberNamesString:se,imMemberName:ae,experimentHuddlesLaterGroupOn:re}=V;if(!re)return t.createElement(t.Fragment,null);let pe=w?le.rt("Join the scheduled huddle about {topic}",{topic:Y}):le.rt("Join the scheduled huddle");return(0,u.LI)(G)&&ae?pe=w?le.rt("Join the scheduled huddle with {imMemberName} about {topic}",{topic:Y,imMemberName:ae}):le.rt("Join the scheduled huddle with {imMemberName}",{imMemberName:ae}):(0,u.yz)(G)?pe=w?le.rt("Join the scheduled huddle about {topic} with {otherMemberNamesString}",{topic:Y,otherMemberNamesString:se}):le.rt("Join the scheduled huddle with {otherMemberNamesString}",{otherMemberNamesString:se}):(0,f.uz)(G)&&!(0,u.LI)(G)&&(pe=w?le.rt("Join the scheduled huddle in {channelName} about {topic}",{topic:Y,channelName:Z}):le.rt("Join the scheduled huddle in {channelName}",{channelName:Z})),pe},"getScheduledHuddleInviteCopy");function Ae(V){let{channelId:w,senderUserId:Y,callId:G,teamId:Z,isInviter:se}=V;const ae=(0,n.wA)(),{activeTab:re}=(0,t.useContext)(_.A),pe=(0,F.d4)(W.MJ),de=(0,F.d4)(x.WR),ie=(0,F.d4)(Se=>(0,A.A)(Se,Y)),he=(0,F.d4)(Se=>(0,b.OL)(Se,w)),ve=(0,F.d4)(Se=>{if(!he||!pe||!(0,u.LI)(he))return;const Ye=(0,g.e)(he);if(Ye)return(0,A.A)(Se,Ye)}),ge=(0,F.Z2)(Se=>(0,u.yz)(he)?((0,v.Ug)(he)||[]).filter(ot=>ot!==Y&&ot!==de).map(ot=>(0,A.A)(Se,ot)).filter(ot=>ot):[]),ke=(0,h.cw)(B.vO),Ne=(0,p.eu)(ke),Oe=(0,F.d4)(Se=>(0,L.Ck)(Se,G,de))==="joining_soon",be=(0,F.d4)(Se=>(0,L.H6)(Se,G));var Ke;const Fe=(Ke=be==null?void 0:be.isScheduled)!==null&&Ke!==void 0?Ke:!1,J=(0,F.d4)(Se=>{var Ye;return(Ye=(0,q.F8)(Se,{tab:re,container:Q.mq.Primary}))===null||Ye===void 0?void 0:Ye.id}),ne=(0,h.cw)(P.getFocusedWorkspace),je=w===J&&ne&&Z&&ne===Z,at=(0,t.useCallback)(()=>{ae((0,m.A)({callId:G,channelId:w,inviteResponse:m.J.DECLINE}))},[G,w,ae]),[nt,Ge]=(0,t.useState)(!1),[Pe,Le]=(0,t.useState)(!1),ze=(0,t.useCallback)(()=>{E(async()=>{Le(!0),Ge(!1);const Ye=ae((0,m.A)({callId:G,channelId:w,inviteResponse:m.J.JOINING_SOON}));if(Ye)try{await Ye}catch{Ge(!0)}finally{Le(!1)}else Le(!1)},"respondToInvite")()},[G,w,ae]),Me=(0,t.useCallback)(()=>{ae((0,K.A)({channelId:w,callId:G,entryPoint:H.su.SIDEBAR_HUDDLE_INVITE}))},[w,G,ae]),Ce=(0,F.d4)(Se=>w&&(0,z.o)(Se,w))||"",Qe=Ce?t.createElement("span",{className:"p-huddle_invite__topic"},t.createElement(i.A,{text:Ce})):null,Be=t.createElement("span",{className:"p-huddle_invite__sender_name"},ie);let we;if(Fe){const Se=t.createElement(r.A,{channelId:w,boldIcon:!0});we=_e({topic:Ce,formattedTopic:Qe,channel:he,channelName:Se,experimentHuddlesLaterGroupOn:!0})}else if((0,u.LI)(he))se?we=_e({topic:Ce,formattedTopic:Qe,channel:he,imMemberName:ve,experimentHuddlesLaterGroupOn:pe}):we=le.rt("Join huddle with {senderName}",{senderName:Be});else if((0,u.yz)(he)){const Se=(0,U.A)(ge,{react:!0}).join("");if(se)we=_e({topic:Ce,formattedTopic:Qe,channel:he,otherMemberNamesString:Se,experimentHuddlesLaterGroupOn:pe});else{const Ye=(0,U.A)([ie].concat(ge),{react:!0}).join(""),ot=t.createElement("span",{className:"p-huddle_invite__all_member_names"},Ye);we=le.rt("Join huddle with {allMemberNames}",{allMemberNames:ot})}}else{const Se=t.createElement(r.A,{channelId:w,boldIcon:!0});se?we=_e({topic:Ce,formattedTopic:Qe,channel:he,channelName:Se,experimentHuddlesLaterGroupOn:pe}):je?we=le.rt("{senderName} is inviting you to a huddle in this channel",{senderName:Be}):we=le.rt("{senderName} is inviting you to a huddle in {channelName}",{senderName:Be,channelName:Se})}return{avatarOverflowBadgeCount:(0,u.yz)(he)?ge.length+1:0,didRespondingToInviteFail:nt,formattedTopic:Qe,handleDecline:at,handleJoiningSoon:ze,handleJoin:Me,inviteText:we,isCurrentUserJoiningSoon:Oe,isJoiningSoonResponsePending:Pe,isLoading:Ne}}E(Ae,"useHuddleInviteProps"),Ae.displayName="useHuddleInviteProps";const ye={name:"warning"},oe=E(V=>{let{channelId:w,senderUserId:Y,callId:G,teamId:Z}=V;const se=(0,F.d4)(W.MJ),ae=(0,F.d4)(x.WR),re=se&&ae===Y,pe=(0,l.A)(w),{avatarOverflowBadgeCount:de,didRespondingToInviteFail:ie,formattedTopic:he,handleDecline:ve,handleJoiningSoon:ge,handleJoin:ke,inviteText:Ne,isCurrentUserJoiningSoon:We,isJoiningSoonResponsePending:Oe,isLoading:be}=Ae({channelId:w,senderUserId:Y,callId:G,teamId:Z,isInviter:re}),Ke=(0,t.useRef)(null),Fe=(0,t.useCallback)(()=>{var Me;(Me=Ke.current)===null||Me===void 0||Me.focus()},[]);(0,d.A)(T.Ay.HUDDLE_INVITE_JOIN,Fe);const J="huddle-invite-text",ne=t.createElement(I.Ay,{type:"outline",className:"p-huddle_invite__button",onClick:ve,"data-qa":"huddle_invite_declined",disabled:be,autoClogProps:te},t.createElement("span",{className:"p-huddle_invite__label"},le.t("Decline"))),je=t.createElement(M.A,{type:"outline",className:"p-huddle_invite__button p-huddle_invite__button--joining_soon",loading:Oe,onClick:ge,disabled:be,autoClogProps:ce,"aria-label":le.t("Be there soon")},t.createElement("span",{className:"p-huddle_invite__label"},le.t("Be there soon"))),[at,nt]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let Me=0;return We&&(nt(!0),Me=window.setTimeout(()=>{nt(!1)},6e3)),()=>{Me&&clearTimeout(Me)}},[We]);const Ge=at?t.createElement("div",{className:"p-huddle_invite__header_notif"},t.createElement("div",{className:"p-huddle_invite__header_notif_content"},t.createElement(D.A,{name:"clock",size:"20"}),t.createElement("span",{className:"margin_left_50"},le.t("Join when you\u2019re ready!")))):null,Pe=t.createElement(M.A,{ref:Ke,type:"primary",className:"p-huddle_invite__button p-huddle_invite__button--accept",loading:be,onClick:ke,"data-qa":"huddle_invite_join",autoClogProps:me,"aria-label":le.t("Join")},t.createElement("span",{className:"p-huddle_invite__label p-huddle_invite__label--join"},le.t("Join"))),Le=(0,F.d4)(k.jI),ze=Le?{width:Le}:null;return t.createElement(a.A,$({eventId:S.EventId.CANVAS_EVENT,uiComponentName:S.UiComponentName.HUDDLES_INVITE,clogImpression:!0},pe),t.createElement("div",$({className:s()("p-huddle_invite",{"p-huddle_invite--with_header":!!he})},ze&&{style:ze}),t.createElement("div",{className:"p-huddle_invite__content"},Ge,he&&t.createElement("div",{className:"p-huddle_invite__message_header"},he),t.createElement("div",{className:"p-huddle_invite__message"},!re&&t.createElement("div",{className:s()("p-huddle_invite__avatar_container",{"p-huddle_invite__avatar_container--with_overflow":!!de})},t.createElement(c.Ay,{key:Y,className:"p-huddle_invite__avatar",size:de?14:20,userId:Y,isInteractive:!1}),!!de&&t.createElement("div",{className:"p-huddle_invite__avatar_overflow_overlay"},de)),t.createElement(C.z,null,t.createElement("div",{className:"p-huddle_invite__text",id:J},Ne,t.createElement("span",{className:"offscreen"},le.rt("Press {key} to join",{key:(0,p.$z)()}))))),t.createElement("div",{className:"p-huddle_invite__buttons",role:"group","aria-labelledby":J},Pe,!We&&je,ne)),ie&&t.createElement(O.A,{svgIconProps:ye},le.t("Something went wrong responding to the invite."))))},"HuddleInvite");oe.displayName="HuddleInvite";const ee=oe},6749400491:(N,y,e)=>{"use strict";e.d(y,{A:()=>l,J:()=>a});var t=e(5170073955),n=e(6304789565),o=e(7384121809),s=e(4250409994),c=e(1070786785),r=e(5319025363),a;(function(m){m.ACCEPT="accept",m.DECLINE="decline",m.JOINING_SOON="joining_soon"})(a||(a={}));const i=(0,n.Ay)("Respond to an invitation to a huddle",(m,_,h)=>{let{channelId:d,inviteResponse:f,callId:v}=h;m((0,r.z)());let u;return f!==a.ACCEPT&&(u=m((0,t.Q)({response:f,channelId:d,roomId:v,reason:"respond-to-huddle-invite"}))),f===a.DECLINE&&((0,o.dispatchForClientStore)((0,s.u8)(d)),m((0,c.V3)(d))),u});i.meta={name:"createThunk",key:"createThunkrespondToHuddleInvite",description:"Respond to an invitation to a huddle"};const l=i},4983989341:(N,y,e)=>{"use strict";e.d(y,{x:()=>a});var t=e(1545824888),n=e(6304789565),o=e(7631186994),s=e(1070786785),c=e(5613673538),r=e(9712681361);const a=(0,n.Ay)("Creates a new huddle in mpim where all huddle participants are channel members",(i,l,m)=>{let{channelId:_,memberIds:h}=m;return i((0,o.r)({memberIds:h})).then(d=>{i((0,s.Ay)(_)),i((0,c.A)({channelId:d.id,entryPoint:r.su.CREATE_NEW_MPIM}))}).catch(d=>t.S.reject(d))});a.meta={name:"createThunk",key:"createThunkcreateNewHuddleInMpimWithUsers",description:"Creates a new huddle in mpim where all huddle participants are channel members"}},5907086961:(N,y,e)=>{"use strict";e.d(y,{A:()=>L});var t=e(3134334389),n=e(6122756707),o=e(6818173548),s=e(5585462770),c=e(6690263587),r=e(3288846409),a=e(1612857492),i=e(9183417278),l=e(6471059816),m=e(8847766420),_=e(9506008067),h=e(9101533895),d=e(4761125736),f=e(5286203919);const v=new l.Ay("huddles"),u=E(F=>{let{numOfExternalMembers:x,members:b}=F;const k=(0,_.d4)(m.Kc),B=(0,r.cw)(f.hc)||"",W=(0,_.d4)(w=>(0,h.OL)(w,B)),K=(0,_.d4)(w=>(0,d._Z)(w,"invite_to_channel_permission")==="on"),H=(0,_.d4)(w=>(0,i.Q)(w,W)),z=(0,_.d4)(w=>(0,a.q)(w,W)),Q=x===b.length,q=x>0,$=!x,le=b.length-x>0,te=!(b.length-x),ce=v.rt("They can join the huddle, but since you are not allowed to invite external people to this channel, they won\u2019t be able to see messages or reply to the thread."),me=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(c.A,{id:k}),channelName:t.createElement(o.A,{className:"bold",channel:W})})),t.createElement("p",null,v.t("You don\u2019t have permission to add external people to this channel."))),_e=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(c.A,{id:k}),channelName:t.createElement(o.A,{className:"bold",channel:W})}))),Ae=v.rt("They can join the huddle, but since you are not allowed to invite people from {org} to this channel, they won\u2019t be able to see messages or reply to the thread.",{org:t.createElement(c.A,{id:k})}),ye=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(c.A,{id:k}),channelName:t.createElement(o.A,{className:"bold",channel:W})})),t.createElement("p",null,v.t("You don\u2019t have permission to add internal people to this channel."))),oe=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(c.A,{id:k}),channelName:t.createElement(o.A,{className:"bold",channel:W})}))),ee=v.rt("They can join the huddle, but since you are not allowed to invite people to this channel, they won\u2019t be able to see messages or reply to the thread."),V=v.rt("They can join the huddle but won\u2019t be able to see messages or reply to the thread unless they are members of {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{channelName:t.createElement(o.A,{className:"bold",channel:W})});switch(!0){case(!K&&!z&&Q):return ce;case(!K&&!z&&q):return me;case(!K&&!z&&$):return _e;case(!K&&z):return V;case(K&&H&&!z&&Q):return ce;case(K&&H&&!z&&q):return me;case(K&&H&&!z&&$):return _e;case(K&&!H&&z&&$):return Ae;case(K&&!H&&z&&le):return ye;case(K&&!H&&z&&te):return oe;case(K&&!H&&!z):return ee;default:return V}},"DisallowedHuddleInviteSubtitle");u.displayName="DisallowedHuddleInviteSubtitle";const g=u;var p=e(4446301238),A=e(7868634217),C=e(4061200313),T=e(581167618),I=e(6084388622),M=e(980293773),D=e(5363983309),O=e(2527994834),S=e(9003400431);const R=new l.Ay("huddles");function U(F){let{members:x}=F;const b=(0,n.wA)(),[k,B]=(0,t.useState)(null),[W,K]=(0,t.useState)([]),[H,z]=(0,t.useState)(!1),Q=(0,r.cw)(f.hc)||"",q=(0,_.d4)(de=>(0,h.OL)(de,Q)),$=(0,t.useCallback)(()=>b((0,S.O)()),[b]),le=(0,t.useCallback)(()=>b((0,S.O)({closeAll:!0})),[b]),te=(0,t.useCallback)(de=>{B(de),b((0,p.Cw)({channelId:Q,users:de})).then(()=>{W.push(de),K(W),B(null)}).catch(()=>{B(null),z(!0)})},[Q,b,W]),ce=(0,_.d4)(de=>(0,d._Z)(de,"invite_to_channel_permission")==="on"),me=(0,_.d4)(de=>(0,d._Z)(de,"shared_channel_invite_requested_event_ga")==="on"),_e=(0,_.d4)(de=>(0,O.Q)(de,"shared_channel_invite_requested",q.id)&&me),Ae=(0,_.d4)(de=>(0,A.Z)(de,x)),ye=(0,t.useMemo)(()=>({addedToChannel:R.t("Added to channel"),notInChannel:R.t("Not in channel"),inviteRequestPending:me?R.t("Invitation request pending approval"):"",added:R.t("Added"),pending:me?R.t("Pending"):"",inviteToChannel:R.t("Invite to channel"),cantBeInvitedToChannel:R.t("Can\u2019t be invited to channel")}),[me]),oe=(0,_.d4)(de=>(0,i.Q)(de,q)),ee=(0,_.d4)(de=>(0,a.q)(de,q)),V=(0,_.Z2)(de=>x.filter(ie=>(0,C.i)(de,ie))),w=V.length,Y=!ce&&!ee,G=ce&&oe&&!ee,Z=w===x.length,se=!w,ae=(0,t.useMemo)(()=>R.rt("{count, plural, =1 {This person is not a member} other {These people are not members}} of {channelName}",{count:x.length,channelName:t.createElement(o.A,{channel:q})}),[q,x]),re=(0,t.useCallback)(de=>de&&_e?ye.inviteRequestPending:de?ye.addedToChannel:ye.notInChannel,[_e,ye.addedToChannel,ye.inviteRequestPending,ye.notInChannel]),pe=(0,t.useCallback)((de,ie)=>{let he;switch(ie&&_e?he=ye.pending:he=ie?ye.added:ye.inviteToChannel,!0){case((Y||G)&&Z):return null;case((Y||G)&&V.includes(de)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},ye.cantBeInvitedToChannel);case(ce&&!oe&&ee&&se):return null;case(ce&&!oe&&ee&&!V.includes(de)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},ye.cantBeInvitedToChannel);case(ce&&!oe&&!ee):return null;default:return t.createElement(I.lV,{type:"outline",size:"small",disabled:ie,loading:k===de,onClick:()=>te(de),"aria-label":he},he)}},[_e,ye.pending,ye.added,ye.inviteToChannel,ye.cantBeInvitedToChannel,Y,G,Z,V,ce,oe,ee,se,k,te]);return t.createElement(M.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:$,contentLabel:ae,shouldReturnFocusAfterClose:!0},t.createElement(M.rQ,null,t.createElement(M.Rc,{title:ae}),t.createElement("div",{className:"p-huddle_invite_add_to_channel__subtitle"},t.createElement(g,{numOfExternalMembers:w,members:x}))),t.createElement(M.$m,null,t.createElement(M.qf,null,H&&t.createElement(T.Ay,{className:"margin_bottom_150",level:T.A_.error,type:T.QE.inline},R.t("Oops, something went wrong. Please try again.",{fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"})),Ae.map(de=>{const ie=W.includes(de);return t.createElement("div",{className:"p-huddle_invite_add_to_channel__user_list",key:de},t.createElement(s.Ay,{id:de,useShortMode:!0,showPresence:!0,showStatus:!0,showSubtext:!0,subtext:t.createElement("small",{className:"sk_dark_gray"},re(ie))}),pe(de,ie))}))),t.createElement(M.jl,null,t.createElement(M.ox,null,t.createElement(I.Ay,{onClick:le,type:"primary"},ce&&!oe||!ee?R.t("OK"):R.t("Done")))))}E(U,"HuddleInviteAddToChannel"),U.displayName="HuddleInviteAddToChannel";const P={HuddleInviteAddToChannel:U},L=(0,D.A)(U,{isStackable:!0})},5911067953:(N,y,e)=>{"use strict";e.d(y,{A:()=>Ce});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(235108050),r=e(3150724727),a=e(6818173548),i=e(506098956),l=e(7173172014),m=e(1743656885),_=e(8808892924),h=e(1051015021),d=e(5907086961),f=e(6011052675),v=e(5142752606),u=e(3534324375),g=e(581167618),p=e(6471059816),A=e(9506008067),C=e(5332875232),T=e(8276911661);const I=new p.Ay("huddles"),M=t.memo(Qe=>{let{error:Be}=Qe;const we=(0,A.d4)(ot=>(0,T.nv)(ot,Be.invitedMemberId)),xe=(0,A.d4)(ot=>(0,u.sE)(ot,we));if(!(0,A.d4)(C.TM))return null;let Ye=I.t("{userName} could not be invited to the Huddle.",{userName:xe});return Be.inviteRejectionReason===v.g.RecipientHuddlesDisabled&&(Ye=I.t("{userName} could not be invited as Huddles is not enabled for them.",{userName:xe})),t.createElement(g.Ay,{level:"error"},Ye)});var D=e(9236164662),O=e(7396657731),S=e(9645800439),R=e(4031325387),U=e(2823938397);function P(Qe){let{memberId:Be}=Qe;const we=(0,A.d4)(Se=>(0,T.nv)(Se,Be)),xe=(0,A.d4)(Se=>(0,u.sE)(Se,we,!1,!1));return(0,U.mX)(we)?t.createElement(R.A,{type:"unknown"}):(0,U.lv)(we)?t.createElement(R.A,{type:"non-existent"}):t.createElement("span",null,xe)}E(P,"DeprecatedHuddleName"),P.displayName="DeprecatedHuddleName";var L=e(3288846409),F=e(8181621268),x=e(8374895239),b=e(9101533895),k=e(5286203919);const B=new p.Ay("huddles");function W(Qe){let{unknownMemberIds:Be}=Qe;const we=(0,L.cw)(k.hc),xe=(0,A.d4)(ot=>(0,b.OL)(ot,we)),Se=(0,t.useMemo)(()=>we?Be:[],[we,Be]);let Ye;if(Se.length===1)Ye=B.rt("{name1} is not a member of {channel}.",{name1:t.createElement(P,{memberId:Se[0]}),channel:t.createElement(a.A,{channel:xe})});else if(Se.length===2)Ye=B.rt("{name1} and {name2} are not a member of {channel}.",{name1:t.createElement(P,{memberId:Se[0]}),name2:t.createElement(P,{memberId:Se[1]}),channel:t.createElement(a.A,{channel:xe})});else if(Se.length===3)Ye=B.rt("{name1}, {name2}, and {name3} are not a member of {channel}.",{name1:t.createElement(P,{memberId:Se[0]}),name2:t.createElement(P,{memberId:Se[1]}),name3:t.createElement(P,{memberId:Se[2]}),channel:t.createElement(a.A,{channel:xe})});else if(Se.length>3){const[ot,_t,pt,...vt]=Se,yt=vt.map(Tt=>t.createElement(P,{key:Tt,memberId:Tt}));Ye=B.rt("{name1}, {name2}, {name3} and {numOthers} more are not a member of {channel}.",{name1:t.createElement(P,{memberId:ot}),name2:t.createElement(P,{memberId:_t}),name3:t.createElement(P,{memberId:pt}),channel:t.createElement(a.A,{channel:xe}),numOthers:Se.length-3},Tt=>{let{text:ft}=Tt;return t.createElement(F.Ay,{tip:(0,x.A)(yt,{noEscape:!0})},t.createElement("span",null,ft))})}return t.createElement("small",null,Ye)}E(W,"HuddleInviteNotAMember"),W.displayName="HuddleInviteNotAMember";const K=W;var H=e(3109955471),z=e(8099711795),Q=e(5506656361),q=e(6007206761),$=e(8170643398),le=e(4562579337),te=e(2293211408),ce=e(7889060196),me=e(151122307),_e=e(8040098042),Ae=e(181849556),ye=e(5795074931);const oe=5,ee=new p.Ay("huddles");var V;(function(Qe){Qe.CHANNEL="channel",Qe.PEOPLE="people"})(V||(V={}));const w=E(Qe=>{let{isFreeTeam:Be,onSuggestedChannelSelected:we,onSuggestedUserSelected:xe,selectedChannelId:Se,selectedMemberIds:Ye}=Qe;const ot=(0,A.d4)(ye.WR),_t=(0,A.wz)(Ae.b5),pt=(0,A.wz)(Zt=>(0,Ae.Fl)(Zt,oe)),vt=(0,A.wz)(Zt=>{if(!_t)return[];if(Ye.length)return[];const qt=[];return _t.forEach(tt=>{if(tt.id===Se)return;const st=(0,b.OL)(Zt,tt.id);(0,q.F)(st)||qt.push(tt)}),qt}),yt=(0,t.useMemo)(()=>vt.map(Zt=>Zt.id),[vt]),Tt=(0,A.wz)(Zt=>{if(!pt)return[];if(Se)return[];const qt=[];return pt.forEach(tt=>{if(tt.id===ot||Ye.includes(tt.id))return;const st=(0,T.nv)(Zt,tt.id);(0,le.A)(st)||(0,$.oy)(st)||qt.push(tt)}),qt}),ft=(0,t.useMemo)(()=>Tt.map(Zt=>Zt.id),[Tt]),Ct=(0,t.useMemo)(()=>{const tt=ft.length*60,st=32,gt=yt.length*st;return Math.min(Math.max(tt,gt),240)},[yt,ft]),At=(0,t.useCallback)(Zt=>{if(!Zt.id)return;(0,_e.A)(Zt.id)?we(Zt.id):xe(Zt.id)},[we,xe]),kt=(0,t.useCallback)(Zt=>{const qt=vt[Zt];if(qt)return t.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},t.createElement(z.A,{channelId:qt.id}))},[vt]),Bt=(0,t.useCallback)(()=>t.createElement(me.A,{disableHeight:!0},Zt=>{let{width:qt}=Zt;return t.createElement(ce.A,{"aria-label":ee.t("Channel"),keys:yt,rowRenderer:kt,onItemClick:At,width:qt,height:Ct})}),[At,kt,yt,Ct]),St=(0,t.useCallback)(Zt=>{const qt=Tt[Zt];if(qt)return t.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},t.createElement(Q.A,{id:qt.id}))},[Tt]),Gt=(0,t.useCallback)(()=>t.createElement(me.A,{disableHeight:!0},Zt=>{let{width:qt}=Zt;return t.createElement(ce.A,{"aria-label":ee.t("People"),keys:ft,rowRenderer:St,onItemClick:At,width:qt,height:Ct})}),[At,St,ft,Ct]),[Et,wt]=(0,t.useState)(V.PEOPLE),Jt=(0,t.useCallback)(Zt=>{wt(Zt)},[]);(0,t.useEffect)(()=>{Et===V.PEOPLE&&Se?wt(V.CHANNEL):Et===V.CHANNEL&&Ye.length&&wt(V.PEOPLE)},[Et,Se,Ye]);const Lt=(0,t.useMemo)(()=>{const Zt=[];return ft.length&&Zt.push({title:ee.t("People"),id:V.PEOPLE,content:Gt()}),yt.length&&Zt.push({title:ee.t("Channels",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),id:V.CHANNEL,content:Bt()}),Zt},[yt,ft,Bt,Gt]);return Be?null:t.createElement("div",{className:"p-huddle_start_suggestion_tabs"},t.createElement(te.A,{fullHeight:!0,tabs:Lt,currentTabId:Et,onTabChange:Jt,tabMenuClassnames:"p-huddle_start_suggestion_tabs__tab_menu"}))},"HuddleStartSuggestionTabs");w.displayName="HuddleStartSuggestionTabs";const Y=t.memo(w);var G=e(9953252450),Z=e(952756744),se=e(7937864072),ae=e(1407713935),re=e(6470070112),pe=e(6839188756),de=e(6084388622),ie=e(980293773),he=e(8668318456),ve=e(7582939986),ge=e(9392104102),ke=e(7631186994),Ne=e(9548972574),We=e(666760496),Oe=e(8746998952),be=e(9712681361),Ke=e(716227588),Fe=e(6259241484),J=e(1794107122),ne=e(3730613858),je=e(7268021173),at=e(7169590072),nt=e(1670069836);function Ge(){return Ge=Object.assign||function(Qe){for(var Be=1;Be<arguments.length;Be++){var we=arguments[Be];for(var xe in we)Object.prototype.hasOwnProperty.call(we,xe)&&(Qe[xe]=we[xe])}return Qe},Ge.apply(this,arguments)}E(Ge,"_extends");var Pe;(function(Qe){Qe.COMPOSER="composer",Qe.PUBLIC_CHANNEL="public_channel",Qe.PRIVATE_CHANNEL="private_channel"})(Pe||(Pe={}));function Le(Qe){let{channel:Be}=Qe;return Be?Be&&(0,ae.Zp)(Be)?Pe.PRIVATE_CHANNEL:Pe.PUBLIC_CHANNEL:Pe.COMPOSER}E(Le,"getModalContext");const ze=new p.Ay("huddles");function Me(Qe){let{closeModal:Be,callId:we,channel:xe,channelSuggestion:Se,memberSuggestionId:Ye,selectedMemberIds:ot=ge.Ml}=Qe;const _t=(0,n.wA)(),pt=(0,se.A)(),vt=Le({channel:xe}),yt=vt===Pe.PRIVATE_CHANNEL&&!(0,ae.cb)(xe),Tt=vt===Pe.COMPOSER,[ft,Ct]=(0,t.useState)(ot),[At,kt]=(0,t.useState)(),[Bt,St]=(0,t.useState)(!1),[Gt,Et]=(0,t.useState)(!1),wt=(0,A.d4)(C.TM),[Jt,Lt]=(0,t.useState)(void 0),Zt=(0,A.d4)(ye.WR),qt=(0,A.d4)(nt.H7),tt=(0,pe.tc)(qt),st=(0,A.d4)(je.iH),gt=(0,A.d4)(yn=>(0,J.$)(yn,(xe==null?void 0:xe.id)||"")),Nt=(0,A.d4)(C.Si),Ht=(0,A.d4)(Ne.qr),Xt=(0,A.d4)(at.$J),Ie=(0,A.d4)(yn=>(0,Ke.Hp)(yn,Fe.xu.HUDDLE_INVITE_MODAL))===Fe.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER,Ue=(0,A.Z2)(yn=>(0,Ne.ft)(yn,xe==null?void 0:xe.id).filter(Kn=>Kn.id!==Zt).map(Kn=>Kn.id)),rt=(0,A.d4)(re.pl),zt=(0,A.Z2)(yn=>yt?ft.filter(Kn=>{const Cn=xe&&(0,ne.Sv)(yn,xe.id,Kn);return Cn&&Cn.isKnown&&!(Cn!=null&&Cn.isMember)}):[]);(0,t.useEffect)(()=>{Se&&kt({id:Se.id,isCurrentSuggestedChannel:!0})},[Se]),(0,t.useEffect)(()=>{Ye&&Ct([Ye])},[Ye]);const Wt=(0,t.useCallback)(yn=>Ct(yn),[]),Ft=(0,t.useCallback)(yn=>{if(yn===(At==null?void 0:At.id)&&(At!=null&&At.isCurrentSuggestedChannel)){kt({id:yn,isCurrentSuggestedChannel:!0});return}kt({id:yn,isCurrentSuggestedChannel:!1})},[At==null?void 0:At.id,At==null?void 0:At.isCurrentSuggestedChannel]),rn=(0,t.useCallback)(yn=>{Ct(ft.concat(yn))},[ft]),_n=(0,t.useCallback)(()=>{kt({id:xe==null?void 0:xe.id,isCurrentSuggestedChannel:!0})},[xe==null?void 0:xe.id]),An=(0,t.useCallback)(()=>{At!=null&&At.id&&(_t((0,Oe.A)({channelId:At.id,entryPoint:be.su.COMPOSER_HUDDLE_START})),Be())},[At,_t,Be]),un=(0,t.useCallback)(async()=>{St(!0),await _t((0,ke.r)({memberIds:ft})).then(yn=>{_t((0,Oe.A)({channelId:yn.id,entryPoint:be.su.COMPOSER_HUDDLE_START})),Be(),St(!1),Et(!1)}).catch(yn=>{pt.error(yn),St(!1);const{message:Kn}=yn;(Kn==null?void 0:Kn.indexOf(ve.O3.INVALID_USER_COMBINATION))!==-1&&Et(!0)})},[ft,_t,pt,Be]),Rn=(0,t.useCallback)(async()=>{if(!xe)return;St(!0);let yn=ft;(At==null?void 0:At.id)===xe.id&&(At!=null&&At.isCurrentSuggestedChannel)&&(yn=(0,c.A)([...ft,...gt])),await _t((0,We.A)({channelId:xe.id,userIds:yn})).then(()=>{St(!1),zt&&zt.length>0&&yt?_t((0,d.A)({members:zt})):Be()}).catch(Kn=>{pt.error(Kn),St(!1),wt&&Lt(Kn)})},[xe,gt,Be,_t,wt,yt,pt,At==null?void 0:At.id,At==null?void 0:At.isCurrentSuggestedChannel,ft,zt]),Un=(0,t.useMemo)(()=>vt===Pe.COMPOSER?At!=null&&At.id?An:un:Rn,[Rn,un,vt,At,An]),Wn={[Pe.COMPOSER]:{eventId:he.EventId.HUDDLES_COMPOSER_HEADER_CLICKED,uiStep:he.UiStep.HUDDLE_COMPOSER_INVITES_SENT,elementName:"huddle_composer_dialog",entryPoint:"composer"},[Pe.PUBLIC_CHANNEL]:{eventId:he.EventId.HUDDLES_PUBLIC_CHANNEL_INVITE,elementName:"huddle_public_channel_invite"},[Pe.PRIVATE_CHANNEL]:{eventId:he.EventId.HUDDLES_PRIVATE_CHANNEL_INVITE,elementName:"huddle_private_channel_invite"}},vn=E(()=>tt&&!Nt&&!Ht?t.createElement(O.A,null):st&&!Ie?t.createElement(G.A,{v2ClassName:s()({"p-huddle_invite_modal_banner":Xt})}):null,"maybeRenderBanner");vn.displayName="maybeRenderBanner";const Ln=Wn[vt],On=(0,t.useMemo)(()=>Tt?ze.t("Start a Huddle"):ft.length>1?ze.t("Send Invites"):ze.t("Send Invite"),[Tt,ft]);if(!rt)return null;const kn=ze.t("You can invite people from outside this private conversation, but they may have restricted access to messages."),Hn=E(yn=>t.createElement(m.A,{articleId:4402059015315,ariaLabel:ze.t("Learn more about Huddles"),forceOpenInBrowser:!0},yn),"renderLearnMoreLink");let Bn,Jn,ts,on;const $n=E(yn=>{const Kn=yn.map(Cn=>t.createElement(i.A,{key:Cn,isBold:!1,id:Cn}));return Kn&&(0,x.A)(Kn)},"listifiedOverflowMembers");if($n.displayName="listifiedOverflowMembers",tt&&Nt&&!Ht)Jn=ze.t("Invite someone to your huddle"),Bn=yt?ze.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. You can invite anyone until someone joins \u2014 they won\u2019t be added to {channelName}. <a>Learn more</a>",{channelName:t.createElement(a.A,{channel:xe}),"<a>":yn=>{let{text:Kn}=yn;return Hn(Kn)}}):ze.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. They\u2019ll receive a notification to join. <a>Learn more</a>",{"<a>":yn=>{let{text:Kn}=yn;return Hn(Kn)}});else if(Tt?(Jn=ze.t("Start a Huddle"),ts=Xt?ze.t("You can invite whomever you\u2019d like to the huddle, they\u2019ll receive a notification in Slack to join."):ze.t("Find a person or channel to huddle with")):(Jn=ze.t("Invite people to your huddle"),ts=yt?kn:ze.t("You can invite whomever you\u2019d like to the huddle, and they\u2019ll receive a notification to join.")),xe!=null&&xe.id&&Ue.length){const yn=ze.rt("{participants, plural, =0 {{firstParticipant} and <b>you</b> are} =1 {{firstParticipant}, {secondParticipant}, and <b>you</b> are} other {{firstParticipant}, {secondParticipant}, <a>and # others</a> are}} in this huddle.",{participants:Ue.length-1,firstParticipant:t.createElement(i.A,{isBold:!0,id:Ue[0]}),secondParticipant:t.createElement(i.A,{isBold:!0,id:Ue[1]}),"<a>":Kn=>{let{text:Cn}=Kn;return t.createElement(F.Ay,{zIndex:"above_fs",tip:$n(Ue.slice(2))},t.createElement("span",null,Cn))}});on=t.createElement("div",{className:"p-huddle_invite_channel_or_start__active_members_container"},t.createElement(_.i,{channelId:xe.id,className:"p-huddle_invite_channel_or_start__avatar_stack",avatarSize:r.RG.tiny,excludeIcon:!0,excludeMemberOverflowCount:!0,maxMembers:3}),t.createElement("div",null,yn))}const zn=wt&&Jt!==void 0,Zn="huddle-invite-description";return t.createElement(ie.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Be,contentLabel:Jn,describedby:Zn,shouldReturnFocusAfterClose:!0,dataQa:"huddle_invite_channel_modal"},t.createElement(ie.rQ,null,t.createElement(ie.Rc,{title:Jn,subtitle:ts})),t.createElement(ie.$m,null,t.createElement(ie.qf,null,on,Bn&&t.createElement("p",{id:Zn},Bn),t.createElement(S.A,{isFreeTeam:tt&&!Ht,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:Nt,channel:xe,otherMembersInHuddle:Ue,onSelectedMembersChange:Wt,onSelectedChannelChange:Ft,selectedMemberIds:ft,selectedChannel:At}),yt&&zt&&zt.length>0&&t.createElement(K,{unknownMemberIds:zt}),Gt&&t.createElement(g.Ay,{"data-qa":"huddle-invite-invalid-user-combo-alert",level:"error"},ze.t("All external people must already be in at least one channel together to send this invitation.")),zn&&t.createElement(M,{error:Jt})),vn(),t.createElement(Z.s,null),Ht&&tt&&!Ie&&t.createElement(h.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),we&&t.createElement(H.A,{activeHuddleCallId:we,channel:xe,isFreeTeam:tt&&!Ht,onSuggestedUserSelected:rn,otherMembersInHuddle:Ue,selectedMemberIds:ft,onChannelSelected:_n,channelSuggestionOptionSelected:At==null?void 0:At.isCurrentSuggestedChannel}),!we&&t.createElement(Y,{isFreeTeam:tt&&!Ht,onSuggestedChannelSelected:Ft,onSuggestedUserSelected:rn,selectedChannelId:At==null?void 0:At.id,selectedMemberIds:ft})),t.createElement(ie.jl,null,t.createElement(ie.ox,{className:"p-huddle_invite_channel_or_start_footer_actions"},t.createElement(f.A,{channelId:xe==null?void 0:xe.id}),t.createElement(ie.s_,{type:"outline",className:"p-huddle_invite_channel_or_start_footer_actions_close","aria-label":ze.t("Cancel")},ze.t("Cancel")),t.createElement(l.A,Ge({},Ln,{clogImpression:!0}),t.createElement(de.lV,{"data-qa":"send_invite_button",loading:Bt,onClick:Un,type:"primary",disabled:!ft.length&&!(At!=null&&At.id),"aria-label":On},On)))),Nt&&tt&&!Ht&&t.createElement(D.A,{selectedMemberIds:ft}))}E(Me,"HuddleInviteChannelOrStart"),Me.displayName="HuddleInviteChannelOrStart";const Ce=Me},6011052675:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(6122756707),o=e(6084388622),s=e(6471059816),c=e(5904726069);const r=new s.Ay("huddles"),a=E(l=>{let{channelId:m}=l;const _=(0,n.wA)(),h=(0,t.useCallback)(()=>{_((0,c.r)({channelId:m}))},[_,m]);return m?t.createElement(o.Ay,{onClick:h,type:"outline",className:"p-huddle_invite_link_button__copy_link"},r.t("Copy Huddle Link")):null},"HuddleInviteLinkButton");a.displayName="HuddleInviteLinkButton";const i=a},9236164662:(N,y,e)=>{"use strict";e.d(y,{A:()=>O});var t=e(3134334389),n=e(6122756707),o=e(7173172014),s=e(1267040415),c=e(4220141877),r=e(5641442783),a=e(3994181705),i=e(8739505998),l=e(8112788848),m=e(9432515904),_=e(8668318456),h=e(9392104102),d=e(6471059816),f=e(6323355797),v=e(9506008067),u=e(5881236351),g=e(5332875232),p=e(7268021173),A=e(1384076438),C=e(2607644860);const T=new d.Ay("trials_highlight_paid_features"),I={onClick:{enableClogAction:!0},elementName:"start_trial"},M={elementName:"upgrade_link",onClick:{enableClogAction:!0}},D=E(S=>{let{selectedMemberIds:R=h.Ml}=S;const U=(0,n.wA)(),P=f.ZO.PaidFeatureTrial,L=f.zG.Vhq,F=(0,v.d4)(K=>(0,p.hq)(K,P,L)),x=(0,v.d4)(K=>(0,p.bp)(K,P,L)),b=(0,v.d4)(g.Si),k=(0,t.useCallback)(()=>{U((0,u.Ov)(R))},[U,R]),B=(0,t.useCallback)(()=>{U((0,c.A)({uiComponentVariant:_.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,onSpeedbumpContinue:k}))},[U,k]);if((0,t.useEffect)(()=>{U((0,A.A)({campaignType:P,campaignSubType:L,reason:"huddle_invite_modal",context:C.y.huddleInviteModal}))},[U,P,L]),!b||x)return null;const W=F?T.rt("To use huddles with more people, <a>start a free trial.</a>",{"<a>":K=>{let{text:H}=K;return t.createElement(i.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",onClick:B,autoClogProps:I},H)}}):T.rt("To use huddles with more people, <a>see upgrade options.</a>",{"<a>":K=>{let{text:H}=K;return t.createElement(s.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",autoClogProps:M,useLink:!0},H)}});return t.createElement(o.A,{eventId:_.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:_.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_footer_banner"},t.createElement(r.A,{variant:a.G.HuddlesFreemiumDeprecated,promoType:P,promoSubtype:L,uiComponentVariant:_.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:l.m.AboveFullScreen,toolTipPosition:m.yX.Bottom}),t.createElement("span",{className:"margin_left_50"},W)))},"HuddleInviteModalFooterBanner");D.displayName="HuddleInviteModalFooterBanner";const O=D},7396657731:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(3134334389),n=e(7173172014),o=e(1743656885),s=e(5712872315),c=e(3328083357),r=e(8668318456),a=e(6471059816);const i=new a.Ay("trials_highlight_paid_features"),l=E(h=>{let{text:d}=h;return t.createElement(o.A,{articleId:4402059015315,ariaLabel:i.t("Learn more about Huddles")},d)},"AlertBannerHelpLink"),_=E(()=>t.createElement(n.A,{eventId:r.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:r.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(c.A,{theme:s.B.NONE,"data-qa":"huddle_invite_modal_free_banner"},i.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. <a>Learn more</a>",{"<a>":l})))),"HuddleInviteModalFreeBanner")},9645800439:(N,y,e)=>{"use strict";e.d(y,{A:()=>M});var t=e(3134334389),n=e(8099711795),o=e(5727180841),s=e(3227396439),c=e(97626932),r=e(1407713935),a=e(6471059816),i=e(8040098042),l=e(4327331459),m=e(1289024643),_=e(9506008067),h=e(3730613858);const d=new a.Ay("huddles");var f;(function(D){D.CHANNEL="channel",D.MEMBER="member"})(f||(f={}));function v(D){let{id:O,entity:S,channel:R,huddleId:U}=D,P;(0,i.A)(O)?P=f.CHANNEL:(0,l.A)(O)&&(P=f.MEMBER);const L=(0,_.d4)(K=>R&&(0,h.Sv)(K,R.id,O)),F=L&&L.isKnown&&(L==null?void 0:L.isMember),x=R&&(0,r.JM)(R),b=(0,_.d4)(K=>(0,m.Ck)(K,U,O)),k=!!b&&b==="joining_soon";let B=null;if(b?B=k?d.t("Joining soon"):d.t("Invited"):R&&x&&!F?B=d.t("Not in conversation"):R&&!x&&!F&&(B=d.t("Not in channel")),!P)return null;let W;return P===f.CHANNEL?W=t.createElement(n.A,{channelId:O,channel:S}):P===f.MEMBER&&(W=t.createElement(o.A,{id:O,member:S,showPresence:!0,secondaryContent:B})),t.createElement("div",{className:"display_flex"},W)}E(v,"HuddleInviteMultiSelectRenderOption"),v.displayName="HuddleInviteMultiSelectRenderOption";const u=(0,t.memo)(v);var g=e(3288846409),p=e(9392104102),A=e(5286203919);function C(){return C=Object.assign||function(D){for(var O=1;O<arguments.length;O++){var S=arguments[O];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(D[R]=S[R])}return D},C.apply(this,arguments)}E(C,"_extends");const T=new a.Ay("huddles"),I=E(D=>{let{isFreeTeam:O,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:S,channel:R,otherMembersInHuddle:U,onSelectedMembersChange:P,onSelectedChannelChange:L,selectedMemberIds:F=p.Ml,selectedChannel:x}=D;const b=(0,g.cw)(A.E9),k=(0,t.useMemo)(()=>L&&!R&&!O&&!(F!=null&&F.length),[R,O,L,F]),B=(0,t.useMemo)(()=>x!=null&&x.id&&x.isCurrentSuggestedChannel?!0:!(x!=null&&x.id),[x]),W=(0,t.useMemo)(()=>({entities:{...k&&{channels:{canPost:!0,includeArchived:!1}},...B&&{members:{includeSelf:!1,includeSlackbot:!1,includeSecurityBot:!1,includeBots:!1},userGroups:!1}},sort:{frecency:!0,preferChannelMembers:!0,preferChannelsUserBelongsTo:!0,currentChannel:R},allowEmptyQuery:!0,filter:le=>!U.includes(le.id)}),[k,B,R,U]),K=(0,t.useCallback)(le=>{L&&(0,i.A)(le.value)?L(le.value):P([le.value])},[L,P]),H=(0,t.useCallback)(le=>{const te=[];let ce;le.forEach(me=>{(0,i.A)(me.value)?(!ce||me.value!==(x==null?void 0:x.id))&&(ce=me.value):te.push(me.value)}),L==null||L(ce),P(te)},[L,P,x]),z=(0,t.useCallback)(le=>{let{value:te,entity:ce}=le;return t.createElement(u,{channel:R,id:te,entity:ce,huddleId:b})},[R,b]),Q=(0,t.useCallback)(le=>{let{value:te}=le;return(0,i.A)(te)?t.createElement(n.A,{channelId:te}):t.createElement(o.A,{id:te,showAvatar:!0})},[]),q=(0,t.useMemo)(()=>({className:"padding_top_50 padding_bottom_50",searcherOptions:W,renderOption:z,selectId:"invite_participants",size:"medium",width:"100%",expandOnFocus:O,focusOnMount:!0}),[W,z,O]),$=(0,t.useMemo)(()=>{const le=F.map(te=>({value:te}));return x!=null&&x.id&&le.push({value:x.id}),le},[x,F]);return O&&S?t.createElement(c.u,C({},q,{onOptionSelected:K,placeholderText:T.t("Find someone to invite\u2026"),renderSelectedOption:Q,selectedOption:$[0]})):t.createElement(s.h,C({},q,{onSelectedItemsChange:H,selectedOptions:$,placeholderText:T.t("Search by name")}))},"HuddleInviteModalSelect");I.displayName="HuddleInviteModalSelect";const M=I},605594140:(N,y,e)=>{"use strict";e.d(y,{A:()=>ae});var t=e(3134334389),n=e(7715417323),o=e(5911067953),s=e(6122756707),c=e(4075246222),r=e(506098956),a=e(7173172014),i=e(1743656885),l=e(1051015021),m=e(4983989341),_=e(6011052675),h=e(9236164662),d=e(7396657731),f=e(9645800439),v=e(438845125),u=e(3534324375),g=e(581167618),p=e(8739505998),A=e(8181621268),C=e(6471059816),T=e(8374895239),I=e(9506008067),M=e(8276911661);const D=new C.Ay("huddles");function O(re){let{members:pe,createNewMpim:de}=re;var ie,he,ve;const ge=(0,I.Z2)(We=>pe.map(Oe=>(0,u.sE)(We,(0,M.nv)(We,Oe.slackId))));if(!pe)return null;const ke=ge&&ge.slice(3),Ne=D.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:pe.length,name1:t.createElement(v.A,{slackId:(ie=pe[0])===null||ie===void 0?void 0:ie.slackId}),name2:t.createElement(v.A,{slackId:(he=pe[1])===null||he===void 0?void 0:he.slackId}),name3:t.createElement(v.A,{slackId:(ve=pe[2])===null||ve===void 0?void 0:ve.slackId}),numOthers:t.createElement(A.Ay,{zIndex:"above_fs",position:"top",tip:(0,T.A)(ke)},t.createElement("span",null,pe.length-3))},We=>{let{text:Oe,tag:be}=We;return be==="a"?t.createElement(p.A,{onClick:de},Oe):null});return t.createElement(g.Ay,{level:g.A_.info,type:g.QE.custom},Ne)}E(O,"HuddleInviteMpimAlert"),O.displayName="HuddleInviteMpimAlert";const S=O;var R=e(3109955471),U=e(9953252450),P=e(952756744),L=e(7937864072),F=e(3929724715),x=e(6470070112),b=e(6839188756),k=e(6084388622),B=e(980293773),W=e(8668318456),K=e(9392104102),H=e(5795074931),z=e(9101533895),Q=e(5332875232),q=e(9548972574),$=e(666760496),le=e(716227588),te=e(6259241484),ce=e(3730613858),me=e(7268021173),_e=e(7169590072),Ae=e(1670069836);const ye=new C.Ay("huddles"),oe={elementName:"learn_more",onClick:{enableClogAction:!0}};function ee(re){let{closeModal:pe,callId:de,channelId:ie,selectedMemberIds:he=K.Ml}=re;const ve=(0,s.wA)(),ge=(0,L.A)(),ke=(0,I.d4)(H.WR),Ne=(0,I.d4)(x.pl),We=(0,I.d4)(ft=>(0,z.OL)(ft,ie)),Oe=(0,I.d4)(q.qr),be=(0,I.d4)(Q.Si),Ke=(0,I.d4)(_e.$J),Fe=(0,I.Z2)(ft=>(0,q.ft)(ft,ie).filter(Ct=>Ct.id!==ke).map(Ct=>Ct.id)),ne=(0,I.d4)(ft=>(0,le.Hp)(ft,te.xu.HUDDLE_INVITE_MODAL))===te.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER,[je,at]=(0,t.useState)(he),[nt,Ge]=(0,t.useState)(!1),Pe=(0,I.Z2)(ft=>!ie||!(je!=null&&je.length)?[]:je.filter(At=>{const kt=(0,ce.Sv)(ft,ie,At);return kt&&kt.isKnown&&!(kt!=null&&kt.isMember)?At:!1})),Le=(0,I.d4)(Ae.H7),ze=(0,b.tc)(Le),Me=(0,I.d4)(me.iH),Ce=(0,t.useCallback)(ft=>{at(ft)},[]),Qe=(0,t.useCallback)(ft=>{at(je.concat(ft))},[je]),Be=(0,t.useMemo)(()=>{const ft=(0,F.Hd)(We);return Array.isArray(ft)?ft:[]},[We]),we=Be.filter(ft=>ft!==ke),xe=(0,t.useCallback)(async()=>{if(!ie)return;let ft=je.concat(Fe);return Be&&(ft=(0,c.A)(ft,Be)),ve((0,m.x)({channelId:ie,memberIds:ft})).then(()=>{pe()}).catch(Ct=>{ge.error(Ct),Ge(!1)})},[ie,je,Fe,Be,ve,pe,ge]),Se=(0,t.useCallback)(async()=>{if(!ie)return;Ge(!0);const ft=je.concat(Fe);return ve((0,$.A)({channelId:ie,userIds:ft})).then(()=>{pe()}).catch(Ct=>{ge.error(Ct),Ge(!1)})},[ie,pe,ve,ge,Fe,je]),Ye=E(()=>ze&&!be&&!Oe?t.createElement(d.A,null):Me&&!Oe&&!Ke?t.createElement(U.A,null):null,"maybeRenderBanner");Ye.displayName="maybeRenderBanner";let ot,_t,pt,vt;const yt=E(ft=>{const Ct=ft.map(At=>t.createElement(r.A,{key:At,isBold:!1,id:At}));return Ct&&(0,T.A)(Ct)},"listifiedOverflowMembers");yt.displayName="listifiedOverflowMembers",ze&&be&&!Oe?(ot=ye.t("Invite someone else to your huddle"),pt=ye.rt("{participants, plural, =0 {<b>{firstParticipant}</b> is} =1 {<b>{firstParticipant}</b> and <b>{secondParticipant}</b> were} other {<b>{firstParticipant}</b> <a>and # others</a> were}} already invited, but {participants, plural, =0 {hasn\u2019t} =1 {haven\u2019t} other {haven\u2019t}} joined. ",{participants:(we==null?void 0:we.length)-1,firstParticipant:t.createElement(r.A,{isBold:!1,id:we[0]}),secondParticipant:t.createElement(r.A,{isBold:!1,id:we[1]}),"<a>":ft=>{let{text:Ct}=ft;return t.createElement(A.Ay,{zIndex:"above_fs",tip:yt(we==null?void 0:we.slice(1))},t.createElement("span",null,Ct))},"<b>":ft=>{let{text:Ct}=ft;return t.createElement("b",null,Ct)}}),vt=ye.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. Invite anyone until someone joins. <a>Learn more</a>",{"<a>":ft=>{let{text:Ct}=ft;return t.createElement(i.A,{articleId:4402059015315,ariaLabel:ye.t("Learn more about Huddles"),forceOpenInBrowser:!0,autoClogProps:oe},Ct)},fallbackHash:"53e44c4bd8bcf67461de7b54ef1ec275b05f4829"})):(ot=ye.t("Invite people to your huddle"),_t=ye.t("You can invite people from outside this private conversation, but they may have restricted access to messages."));const Tt=(0,t.useMemo)(()=>je.length>1?ye.t("Send Invites"):ye.t("Send Invite"),[je]);return!Ne||!ie?null:t.createElement(B.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:pe,contentLabel:ot,shouldReturnFocusAfterClose:!0},t.createElement(B.rQ,null,t.createElement(B.Rc,{title:ot,subtitle:_t})),t.createElement(B.$m,null,t.createElement(B.qf,null,(pt||vt)&&t.createElement("p",null,pt,vt),t.createElement(f.A,{isFreeTeam:ze&&!Oe,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:be,channel:We,otherMembersInHuddle:Fe,onSelectedMembersChange:Ce,selectedMemberIds:je}),(Pe==null?void 0:Pe.length)>0&&t.createElement(S,{members:Pe.map(ft=>({slackId:ft})),createNewMpim:xe})),Ye(),Ke&&t.createElement(P.s,null),Oe&&ze&&!ne&&t.createElement(l.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),t.createElement(R.A,{activeHuddleCallId:de,channel:We,isFreeTeam:ze&&!Oe,onSuggestedUserSelected:Qe,otherMembersInHuddle:Fe,selectedMemberIds:je})),t.createElement(B.jl,null,t.createElement(_.A,{channelId:ie}),t.createElement(B.ox,null,t.createElement(B.s_,{type:"outline","aria-label":ye.t("Cancel")},ye.t("Cancel")),t.createElement(a.A,{clogImpression:!0,eventId:W.EventId.HUDDLES_MPIM_INVITE},t.createElement(k.lV,{loading:nt,onClick:Se,type:"primary",disabled:!je.length,"aria-label":Tt},Tt)))),be&&ze&&!Oe&&t.createElement(h.A,{selectedMemberIds:je}))}E(ee,"HuddleInviteMpim"),ee.displayName="HuddleInviteMpim";const V=ee;var w=e(3288846409),Y=e(1407713935),G=e(5363983309),Z=e(5286203919);function se(re){let{closeModal:pe=n.A,selectedMemberIds:de=K.Ml}=re;const ie=(0,I.d4)(x.pl),he=(0,w.cw)(Z.E9),ve=(0,w.cw)(Z.hc),ge=(0,I.d4)(ke=>(0,z.OL)(ke,ve));return ie?(0,Y.JM)(ge)?t.createElement(V,{callId:he,channelId:ve,closeModal:pe,selectedMemberIds:de}):t.createElement(o.A,{callId:he,channel:ge,closeModal:pe,selectedMemberIds:de}):null}E(se,"HuddleInviteOrStartModal"),se.displayName="HuddleInviteOrStartModal";const ae=(0,G.A)(se,{isStackable:!0})},3109955471:(N,y,e)=>{"use strict";e.d(y,{A:()=>z});var t=e(3134334389),n=e(7156798807),o=e(5506656361),s=e(9680914051),c=e(2828836153),r=e(7435117457),a=e(8683010724),i=e(6471059816);const l=new i.Ay("huddles");var m;(function(Q){Q[Q.Channel=0]="Channel",Q[Q.Here=1]="Here"})(m||(m={}));const _=E(Q=>{let{variation:q}=Q;const $=(0,t.useMemo)(()=>{const le=q===m.Channel?l.t("@channel",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}):l.t("@here",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),te=q===m.Channel?l.t("Invite every member in this channel",{fallbackHash:"356143f00ea36746c3a9c41765b940644ca651cf",fallbackHashNs:"broadcast_keywords"}):l.t("Invite every online member in this channel",{fallbackHash:"d6f32ea27e0fd9186b386de54a63fc72a17a2075",fallbackHashNs:"broadcast_keywords"});return t.createElement("div",{className:"p-huddle_invite_channel_list_entity"},t.createElement("div",{className:"p-huddle_invite_channel_list_entity__icon_container"},t.createElement(a.A,{name:"mentions",size:"24"})),t.createElement("div",{className:"p-huddle_invite_channel_list_entity_text_container"},t.createElement("span",{className:"c-base_entity__text p-huddle_invite_channel_list_entity__title"},le),t.createElement("span",{className:"c-base_entity__subtext"},te)))},[q]);return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(c.A,{size:r.ny.medium,padding:r.FK.normal,primaryContent:$}))},"HuddleInviteChannelListEntity");_.displayName="HuddleInviteChannelListEntity";const h=_;var d=e(3929724715),f=e(1407713935),v=e(8798294025),u=e(6470070112),g=e(8170643398),p=e(4562579337),A=e(863407566),C=e(2293211408),T=e(7889060196),I=e(151122307),M=e(9392104102),D=e(181849556),O=e(1289024643),S=e(9506008067),R=e(5795074931),U=e(9548972574),P=e(8276911661),L=e(8286248123),F=e(3730613858);const x=new i.Ay("huddles");var b;(function(Q){Q.SUGGESTIONS="suggestions",Q.INVITED="invited"})(b||(b={}));function k(Q,q,$,le,te,ce,me){return!(!Q||q||$||Q===le||te.includes(Q)||ce.includes(Q)||me.includes(Q))}E(k,"shouldSuggestMember");const B="channelEntityId",W="channelHereEntityId",K=5,H=E(Q=>{let{activeHuddleCallId:q,channel:$,isFreeTeam:le,onSuggestedUserSelected:te,onChannelSelected:ce,onChannelHereSelected:me,otherMembersInHuddle:_e,selectedMemberIds:Ae,channelSuggestionOptionSelected:ye=!1}=Q;const oe=(0,S.d4)(R.WR),ee=(0,S.d4)(Le=>(0,L.q8)(Le,$==null?void 0:$.id)),V=(0,S.d4)(u.df),w=(ee==null?void 0:ee.counts.member_count)||0,Y=(0,f.JM)($),G=(0,S.d4)(U.Sx),Z=(0,S.d4)(Le=>(0,O.k9)(Le,q)),se=(0,S.d4)(Le=>(0,O.I1)(Le,q)),re=G+1+Z+se,pe=(0,S.Z2)(Le=>(0,O.Kx)(Le,q)),de=(0,t.useMemo)(()=>pe?Object.keys(pe):[],[pe]),ie=de.length,he=25,ve=(0,S.Z2)(Le=>(0,A.A)(Le,($==null?void 0:$.id)||"",he,he,!0).map(Me=>Me.id));let ge=[];if((0,f.LI)($)){const Le=(0,v.e)($);Le&&ge.push(Le)}else if((0,f.yz)($)){const Le=(0,d.Ug)($);Le&&Le.length&&(ge=[...Le])}else ge=ve;const ke=(0,S.wz)(Le=>{if(ye||!ge||!ge.length)return M.Ml;const ze=[];return ge.forEach(Me=>{const Ce=(0,P.nv)(Le,Me);k(Me,(0,p.A)(Ce),(0,g.oy)(Ce),oe,_e,de,Ae)&&ze.push({id:Me,isMemberOfChannel:!0})}),ze}),Ne=(0,S.wz)(Le=>(0,D.Fl)(Le,K)),We=(0,S.wz)(Le=>{if(!Ne||!Ne.length)return M.Ml;const ze=[];return Ne.forEach(Me=>{const Ce=(0,P.nv)(Le,Me.id);if(!k(Me.id,(0,p.A)(Ce),(0,g.oy)(Ce),oe,_e,de,Ae)||ge.includes(Me.id))return;const Qe=$&&(0,F.Sv)(Le,$.id,Me.id),Be=Qe&&Qe.isKnown&&Qe.isMember;ze.push({id:Me.id,isMemberOfChannel:Be})}),ze}),Oe=(0,t.useMemo)(()=>!ce||(0,f.cb)($)?!1:w<=s.XG&&re+w<=V&&!ye,[w,ye,re,V,ce,$]),be=(0,t.useMemo)(()=>ke.length>=he?ke.slice(0,he):[...ke,...We].slice(0,he),[ke,We]),Ke=(0,t.useMemo)(()=>be.map(Le=>Le.id),[be]),Fe=(0,t.useMemo)(()=>(0,n.A)(be,"id"),[be]),J=(0,t.useMemo)(()=>Math.min(60*Math.max(ie,Ke.length),240),[Ke,ie]),ne=(0,t.useCallback)((Le,ze)=>{if(ze.key===B)return t.createElement(h,{variation:m.Channel});if(ze.key===W)return t.createElement(h,{variation:m.Here});const Me=Fe[ze.key];if(!Me)return;let Ce=null;return Me.isMemberOfChannel===!1&&(Y||(0,f.cb)($)?Ce=x.t("Not in conversation"):Ce=x.t("Not in channel")),t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(o.A,{id:Me.id,secondaryContent:Ce}))},[Y,Fe,$]),je=(0,t.useCallback)(Le=>{if(Le.id){if(Le.id===B){ce&&ce();return}if(Le.id===W){me&&me();return}te(Le.id)}},[me,ce,te]),at=(0,t.useCallback)(()=>{let Le=Ke;return Oe&&(Le=[B,...Ke]),t.createElement(I.A,{disableHeight:!0},ze=>{let{width:Me}=ze;return t.createElement(T.A,{"aria-label":x.t("Suggested"),keys:Le,rowRenderer:ne,onItemClick:je,width:Me,height:J})})},[Oe,ne,Ke,je,J]),nt=(0,t.useCallback)(Le=>{const ze=de[Le],Me=pe==null?void 0:pe[ze];if(!Me)return null;const Ce=Me==="joining_soon",Qe=t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__pending_status_container"},t.createElement(a.A,{name:Ce?"clock":"paper-plane",size:"20"}),t.createElement("span",null,Ce?x.t("Joining soon"):x.t("Invited")));return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__list_entity"},t.createElement(o.A,{id:ze,secondaryContent:Qe}))},[de,pe]),Ge=(0,t.useCallback)(()=>t.createElement(I.A,{disableHeight:!0},Le=>{let{width:ze}=Le;return t.createElement(T.A,{"aria-label":x.t("Invited"),keys:de,rowRenderer:nt,width:ze,height:J})}),[de,nt,J]),Pe=(0,t.useMemo)(()=>{const Le=[];return Ke.length&&Le.push({title:x.t("Suggested"),id:b.SUGGESTIONS,content:at()}),Le.push({title:x.t("Invited"),id:b.INVITED,titleCount:ie,content:Ge()}),Le},[Ke,ie,Ge,at]);return!q||le?null:t.createElement("div",{className:"p-huddle_invite_suggestion_tabs"},t.createElement(C.A,{fullHeight:!0,tabs:Pe,tabMenuClassnames:"p-huddle_invite_suggestion_tabs__tab_menu"}))},"HuddleInviteSuggestionTabs");H.displayName="HuddleInviteSuggestionTabs";const z=t.memo(H)},3015351052:(N,y,e)=>{"use strict";e.d(y,{s:()=>Ht,_:()=>Xt});var t=e(3134334389),n=e(3288567831),o=e(1973246490),s=e(2164739987),c=e(8920264989),r=e(6471059816),a=e(9506008067),i=e(9101533895);const l=new r.Ay("huddles");function m(j){let{channelId:Ie,isHost:Ue}=j;const rt=(0,a.d4)(An=>(0,i.OL)(An,Ie)),{memberCount:zt}=(0,o.W)({channelId:Ie}),Wt=zt>0,Ft=(0,s.f)(rt),rn=(0,a.d4)(An=>(0,c.SB)(An,rt,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}));return(0,t.useMemo)(()=>Ue?Ft&&!Wt?l.t("Ready to start {displayName}?",{displayName:(0,n.A)(rn)}):!Ft&&!Wt?l.t("Ready to start the huddle?",{displayName:rn}):Ft?l.t("Ready to join {displayName}?",{displayName:(0,n.A)(rn)}):l.t("Ready to join the huddle?",{displayName:(0,n.A)(rn)}):Ft?l.t("Ready to join {displayName}?",{displayName:(0,n.A)(rn)}):l.t("Ready to join the huddle?",{displayName:(0,n.A)(rn)}),[Ue,Ft,rn,Wt])}E(m,"useGetHuddleJoinPreviewTitle");var _=e(6122756707),h=e(3150724727),d=e(7173172014),f=e(6664301844),v=e(8736071954),u=e(7149946954),g=e(938698950),p=e(63202349),A=e(5075331445),C=e(3496486794),T=e(2457673737),I=e(3288846409),M=e(2850141087),D=e(462591818),O=e(7384121809),S=e(4250409994),R=e(5286203919);const U="medium",P=new p.k("HUDDLE-JOIN-PREVIEW"),L=E(j=>{let{videoRef:Ie,preferredCameraId:Ue,startOnMount:rt=!0,isVideoElementReady:zt=!0,handleCameraStreamError:Wt}=j;const Ft=(0,t.useRef)(null),rn=(0,t.useRef)(!0),[_n,An]=(0,t.useState)(void 0),[un,Rn]=(0,t.useState)(!1),[Un,Wn]=(0,t.useState)(void 0),vn=(0,I.cw)(R.aU),Ln=(0,I.cw)(R.d4),On=(0,C.A)();(0,M.A)(()=>{const $n=(0,f.zg)(),zn=new $n(P);An(zn);const Zn=(0,A.i)();return(0,O.dispatchForClientStore)((0,S.yW)({backgroundEffectBgKey:Zn.backgroundEffectBgKey,blurEffectIsEnabled:Zn.blurEffectIsEnabled})),()=>{_n==null||_n.stopVideoInput(),zn.destroy()}},[]);const kn=(0,t.useMemo)(()=>({backgroundEffectBgKey:vn,blurEffectIsEnabled:Ln}),[Ln,vn]),Hn=(0,t.useCallback)(()=>{Ie.current&&f.xc.disconnectVideoStreamFromVideoElement(Ie.current,!1),_n==null||_n.stopVideoInput(),Wn(void 0),Rn(!1)},[_n,Ie]);(0,t.useMemo)(async()=>{if((Ft==null?void 0:Ft.current)===void 0||(Ft==null?void 0:Ft.current)===null)return;const $n=Ft.current,zn=On.find(yn=>yn.key===kn.backgroundEffectBgKey),Zn={backgroundBlur:{isEnabled:kn.blurEffectIsEnabled,strength:U},backgroundReplacement:{isEnabled:kn.backgroundEffectBgKey!==void 0,backgroundImageURL:zn==null?void 0:zn.url,defaultColor:void 0}};try{await $n.setEffectConfig(Zn)}catch{}},[On,kn.backgroundEffectBgKey,kn.blurEffectIsEnabled]);const Bn=(0,t.useCallback)(async function(){let $n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const zn=Ie.current,Zn=u.Ay.canAccessMediaResource(D.mT.CAMERA);if(Zn.status===v.eJ.Denied){Wt==null||Wt();return}if(Zn.status!==v.eJ.Prompt&&(!zt||!zn||!Ue||un&&!$n))return;const yn=await navigator.mediaDevices.getUserMedia({video:{deviceId:Ue,width:T.hX,height:T.Qs,frameRate:T.LD},audio:!1});Rn(!0),Wn(Ue);const Kn=[];if(await f.Ws.isSupported()){const X=await f.Ws.create();X!==void 0&&Kn.push(X)}const Cn=On.find(X=>X.key===kn.backgroundEffectBgKey),os={backgroundBlur:{isEnabled:kn.blurEffectIsEnabled,strength:U},backgroundReplacement:{isEnabled:kn.backgroundEffectBgKey!==void 0,backgroundImageURL:Cn==null?void 0:Cn.url,defaultColor:void 0}};let _s;try{_s=await f.i3.create(P,os)}catch{return}Ft.current=_s;const ms=new f.Ze(P,yn,[_s]);if(_n===void 0)return;const Je=await _n.startVideoInput(ms);rn.current||Hn(),!(Ie.current===void 0||Ie.current===null)&&Je!==void 0&&zn!==null&&(zn.srcObject=Je,zn.autoplay=!0,zn.playsInline=!0)},[Ie,zt,Ue,un,kn,On,_n,Wt,Hn]),Jn=(0,t.useCallback)($n=>{(0,g.cT)($n,v.lW.Camera),(0,O.dispatchForClientStore)((0,S.WM)({setVideoEnabled:!0}))},[]);(0,t.useEffect)(()=>{Un!==Ue&&Ue!==void 0&&Un!==void 0&&zt&&(Hn(),Bn(!0))},[Ue,Bn,Hn,zt,Un]),(0,M.A)(()=>(rt&&Bn(),()=>{rn.current=!1,Hn()}),[]),(0,t.useEffect)(()=>{zt&&!un&&!rt&&Bn()},[zt,un,Bn,rt]);const ts=(0,t.useCallback)(()=>{const $n=Ie.current;$n&&((0,O.dispatchForClientStore)((0,S.yi)({videoElement:$n})),Hn())},[Hn,Ie]),on=(0,t.useCallback)(()=>{const $n=Ie.current;zt&&(!$n||!Ue||Bn())},[zt,Ue,Bn,Ie]);return{turnOnCamera:Jn,turnOffCameraPreview:ts,turnOnCameraPreview:on,previewCameraIsOn:un}},"useJoinPreviewCamera");var F=e(9289216704),x=e(5602423845),b=e(581167618),k=e(8739505998),B=e(8668318456),W=e(5332875232);const K=new r.Ay("huddles"),H=t.memo(j=>{let{cameraPermissionDenied:Ie,microphonePermissionDenied:Ue,microphoneNoDevices:rt,cameraNoDevices:zt}=j;const Wt=(0,x.A)(),Ft=(0,a.d4)(W.Rk);(0,t.useEffect)(()=>{(Ie||Ue||rt||zt)&&(Ie&&Wt.track(B.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:B.UiAction.IMPRESSION,elementType:B.ElementType.ALERT,ui_properties:{element_name:"camera_permission_denied_alert"}}}}),zt&&Wt.track(B.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:B.UiAction.IMPRESSION,elementType:B.ElementType.ALERT,ui_properties:{element_name:"camera_no_devices_alert"}}}}),Ue&&Wt.track(B.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:B.UiAction.IMPRESSION,elementType:B.ElementType.ALERT,ui_properties:{element_name:"microphone_permission_denied_alert"}}}}),rt&&Wt.track(B.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:B.UiAction.IMPRESSION,elementType:B.ElementType.ALERT,ui_properties:{element_name:"microphone_no_devices_alert"}}}}))},[Wt,Ie,Ue,rt,zt]);const rn=(0,t.useMemo)(()=>{if(!(Ue||rt))return null;const un=Ft?K.rt("Open your device\u2019s system preferences and grant microphone access to Slack. If you\u2019ve already done so, quit and reopen Slack."):"Open your device\u2019s system preferences and grant microphone access to Slack. If you\u2019ve already done so, quit and reopen Slack.";let Rn=null;return F.mt&&(Rn=t.createElement(k.A,{href:F.mt},Ft?K.t("Open system preferences"):"Open system preferences")),t.createElement(b.Ay,{type:b.QE.boxed,level:b.A_.error,icon:"info-circle",align:b.AO.left,heading:Ft?K.rt("Allow microphone access"):"Allow microphone access"},un,t.createElement("br",null),t.createElement("br",null),Rn)},[Ft,Ue,rt]),_n=(0,t.useMemo)(()=>{if(!(Ie||zt))return null;const un=Ft?K.rt("Open your device\u2019s system preferences and grant camera access to Slack. If you\u2019ve already done so, quit and reopen Slack."):"Open your device\u2019s system preferences and grant camera access to Slack. If you\u2019ve already done so, quit and reopen Slack.";let Rn=null;return F.Oi&&(Rn=t.createElement(k.A,{href:F.Oi},Ft?K.t("Open system preferences"):"Open system preferences"," ")),t.createElement(b.Ay,{type:b.QE.boxed,level:b.A_.warning,icon:"info-circle",align:b.AO.left,heading:Ft?K.rt("Slack doesn\u2019t have camera access"):"Slack doesn\u2019t have camera access"},un,t.createElement("br",null),t.createElement("br",null),Rn)},[Ie,Ft,zt]);return!(rn!==null||_n!==null)||!Ft?null:t.createElement("div",{className:"margin_bottom_100"},rn,t.createElement("br",null),_n)});var z=e(1473609332),Q=e(9195837907),q=e(1465889885),$=e(980293773),le=e(9003400431),te=e(5526670257),ce=e.n(te);const me=new r.Ay("huddles"),_e=E(()=>{const j=(0,_.wA)(),Ie=(0,t.useCallback)(rt=>{let{backgroundType:zt,backgroundKey:Wt}=rt;const Ft=(0,z.Bh)();Ft.video.effect=zt,Ft.video.effectBgKey=Wt,(0,z.i4)(Ft),(0,O.dispatchForClientStore)((0,S.yW)({backgroundEffectBgKey:Wt,blurEffectIsEnabled:zt===Q.t.Blur}))},[]),Ue=(0,t.useCallback)(()=>j((0,le.O)()),[j]);return t.createElement($.dW,{closeModal:Ue,showCloseButton:!0,shouldCloseOnOverlayClick:!0,className:ce().modal,overlayClassName:ce().overlay},t.createElement($.rQ,null,t.createElement($.Rc,{title:me.t("Video background")})),t.createElement($.$m,null,t.createElement($.qf,null,t.createElement(q.A,{onEffectSelected:Ie,isSmallLayout:!0}))))},"HuddleJoinPreviewBackgroundModal");_e.displayName="HuddleJoinPreviewBackgroundModal";var Ae=e(5946832122),ye=e(2312625946),oe=e(2375333597),ee=e(7059233720),V=e.n(ee);const w=new r.Ay("huddles"),Y=t.memo(()=>{const j=(0,_.wA)(),Ie=(0,t.useCallback)(()=>{j((0,oe.q)({element:t.createElement(_e,null),isStackable:!0}))},[j]),Ue=(0,t.useMemo)(()=>({name:"image"}),[]),rt=w.t("Video background");return t.createElement("div",{className:V().container},t.createElement(ye.Ay,{tip:rt},t.createElement(Ae.A,{className:V().button,onClick:Ie,"aria-label":rt,svgIconProps:Ue})))});var G=e(4844578989),Z=e.n(G),se=e(7396150282);function ae(j){let{microphoneDeviceId:Ie,handleMicrophoneStreamError:Ue}=j;const[rt,zt]=(0,t.useState)(!1),Wt=(0,t.useRef)(null),Ft=(0,t.useRef)(null),[rn,_n]=(0,t.useState)(void 0),An=(0,t.useCallback)(async function(){let vn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(rt&&!vn)return;const Ln=u.Ay.canAccessMediaResource(D.mT.MICROPHONE);if(Ln.status===v.eJ.Denied){Ue==null||Ue();return}if(!((!Ie||Wt.current)&&Ln.status!==v.eJ.Prompt))try{const On=await navigator.mediaDevices.getUserMedia({audio:{deviceId:Ie}});Wt.current=On,Ft.current=new se.x,Ft.current.setPreviewStream(On),zt(!0),_n(Ie)}catch{Ue==null||Ue()}},[Ue,rt,Ie]),un=(0,t.useCallback)(()=>{Ft.current&&(Ft.current.cleanup(),Ft.current=null),Wt.current&&(Wt.current.getTracks().forEach(vn=>vn.stop()),Wt.current=null),zt(!1)},[]),Rn=(0,t.useCallback)(vn=>{vn!==rn&&(un(),An({isMicSwitch:!0}),_n(vn))},[An,rn,un]);(0,M.A)(()=>(An(),()=>{un()}),[]),(0,t.useEffect)(()=>{Ie&&Ie!==rn&&rn!==void 0&&Rn(Ie)},[Ie,rn,Rn]);const Un=(0,t.useCallback)(()=>{An()},[An]),Wn=(0,t.useCallback)(()=>{un()},[un]);return{turnOn:Un,turnOff:Wn}}E(ae,"useGetHuddleJoinPreviewMicLevels");var re=e(8801078943),pe=e(1593595278),de=e(9948866681),ie=e(387328355),he=e(9365970888),ve=e(5597672932),ge=e(1535211300),ke=e.n(ge);const Ne=t.memo(j=>{let{handleMicrophonePermissionsError:Ie,microphonePermissionDenied:Ue,cameraPermissionDenied:rt}=j;const zt=(0,a.Z2)(he.oG),Wt=(0,a.d4)(un=>!!(0,ie.WQ)(un,"isMicrophoneEnabled")),Ft=(0,a.d4)(un=>(0,ve.xp)(un,"allow_huddles_video")),rn=(0,t.useCallback)(()=>{Ie==null||Ie()},[Ie]),_n=(0,t.useMemo)(()=>zt.microphone.filter(un=>!!un.id).map(un=>({label:un.label,value:un.id})),[zt.microphone]),An=_n==null?void 0:_n[0];return ae({microphoneDeviceId:An==null?void 0:An.value,handleMicrophoneStreamError:rn}),t.createElement("div",{className:ke().container},t.createElement(pe.A,{className:ke().device,audioMeterLayout:pe.Y.Inline,selectSize:"medium",isEnabled:Wt,microphonePermissionDenied:Ue,widthStyle:"default"}),t.createElement(de.A,{className:Z()(ke().device,ke().speaker),selectSize:"medium",showTestSpeaker:!0,microphonePermissionDenied:Ue,widthStyle:"default"}),Ft&&t.createElement(re.A,{className:ke().device,selectSize:"medium",cameraPermissionDenied:rt,widthStyle:"default"}))});var We=e(8419239240),Oe=e(9632269965),be=e.n(Oe);const Ke=t.memo(j=>{let{channelId:Ie}=j;const Ue=(0,We.I)({channelId:Ie});return t.createElement("div",{className:be().container},Ue)});var Fe=e(1638377365),J=e(7280065019),ne=e(4745917661),je=e(5011231008),at=e(6084388622),nt=e(8683010724),Ge=e(2688127376),Pe=e.n(Ge);const Le=new r.Ay("huddles"),ze=t.memo(j=>{let{turnOffCameraHandler:Ie,turnOnCameraHandler:Ue,cameraIsOn:rt,cameraPermissionDenied:zt,microphonePermissionDenied:Wt,microphoneNoDevices:Ft,cameraNoDevices:rn,scaleOffset:_n=1}=j;const{videoLabel:An,deviceLabel:un}=(0,Fe.z)(),Rn=(0,a.d4)(Ln=>(0,ve.xp)(Ln,"allow_huddles_video")),Un=(0,a.d4)(Ln=>!!(0,ie.WQ)(Ln,"isMicrophoneEnabled")&&!Wt),Wn=(0,t.useCallback)(()=>{if(rt){Ie==null||Ie();return}Ue==null||Ue()},[Ie,Ue,rt]),vn=(0,t.useMemo)(()=>zt||rn?Le.t("Camera permission denied",{fallbackHash:"3bca281bb714e2057db7a3b764b3502a1915a27a",fallbackHashNs:"huddles_audio_video_prefs"}):t.createElement(ne.A,{actionLabel:An,deviceLabel:un,audioOnlyModeEnabledWarning:!1}),[un,zt,An,rn]);return t.createElement("div",{className:Pe().container,style:{transform:`scale(${_n})`}},t.createElement(je.A,{className:Z()(Pe().toolbarButton,{[Pe().activeButton]:Un}),microphonePermissionDenied:Wt||Ft,displayShortcutTooltip:!1}),Rn&&t.createElement(ye.Ay,{tip:vn},t.createElement(at.Nm,{htmlType:"button",onClick:Wn,role:"switch","aria-label":Le.t("Video"),"aria-checked":rt,"data-qa":"huddle_camera_huddle_toolbar",className:Z()(Pe().toolbarButton,{[Pe().cameraDisabled]:zt||rn,[Pe().activeButton]:rt}),"aria-disabled":zt||rn},t.createElement(J.A,{isCameraEnabled:rt,className:"p-huddle_toolbar__video_button"}),(zt||rn)&&t.createElement("div",{className:Pe().warningBadgeContainer},t.createElement("div",{className:Pe().warningBadge},t.createElement(nt.A,{name:"warning-filled"}))))))});var Me=e(2843556239),Ce=e(4803841689),Qe=e(6308822),Be=e(5795074931),we=e(7434063642),xe=e(6251210828),Se=e(1049642794),Ye=e(2047021170),ot=e(9295473340),_t=e.n(ot);const pt=320,vt=600,yt=500,Tt=.6,ft=50,Ct=t.memo(j=>{let{channelId:Ie}=j;var Ue,rt;const zt=(0,_.wA)(),{windowRef:Wt}=(0,t.useContext)(Me._0),Ft=(0,t.useRef)(null),rn=(0,a.d4)(hn=>(0,xe.gW)(hn,{channelId:Ie})),_n=(0,a.d4)(hn=>(0,xe.zK)(hn,{channelId:Ie})),An=(0,a.d4)(hn=>(0,Ye.ty)(hn,"huddles_mute_by_default")),un=(0,Ce.A)(),Rn=(0,a.Z2)(he.oG),Un=(0,a.d4)(Be.WR),Wn=(0,a.d4)(hn=>!!(0,ie.WQ)(hn,"isMicrophoneEnabled")),vn=(0,t.useMemo)(()=>Rn.camera.filter(hn=>!!hn.id).map(hn=>({label:hn.label,value:hn.id})),[Rn.camera]),Ln=(0,t.useMemo)(()=>Rn.microphone.filter(hn=>!!hn.id).map(hn=>({label:hn.label,value:hn.id})),[Rn.microphone]),[On,kn]=(0,t.useState)({width:(Ue=Wt.deref())===null||Ue===void 0?void 0:Ue.innerWidth,height:(rt=Wt.deref())===null||rt===void 0?void 0:rt.innerHeight}),[Hn,Bn]=(0,t.useState)(0),[Jn,ts]=(0,t.useState)(1),[on,$n]=(0,t.useState)(!1),[zn,Zn]=(0,t.useState)(!1),[yn,Kn]=(0,t.useState)(!1),[Cn,os]=(0,t.useState)(vn!=null&&vn.length?vn[0]:void 0),[_s,ms]=(0,t.useState)(Ln!=null&&Ln.length?Ln[0]:void 0),[Je,X]=(0,t.useState)(!1),[ue,Ee]=(0,t.useState)(!1),[Te,He]=(0,t.useState)(!0),$e=vn.length===0,it=Ln.length===0,ht=(0,t.useCallback)(()=>{X(!0)},[]),Kt=(0,t.useCallback)(()=>{Ee(!0)},[]),{turnOffCameraPreview:It,previewCameraIsOn:Ut}=L({videoRef:Ft,preferredCameraId:Cn==null?void 0:Cn.value,isVideoElementReady:zn,startOnMount:!1,handleCameraStreamError:ht});(0,t.useEffect)(()=>()=>{It()},[It]),(0,t.useEffect)(()=>{!Ut&&!Te&&He(!0)},[Ut,Te]);const ln=(0,t.useCallback)(()=>{It(),yn&&(Zn(!1),Kn(!1))},[yn,It]),sn=(0,t.useCallback)(()=>{yn||(Zn(!1),Kn(!0))},[yn]),dn=(0,t.useCallback)(()=>{var hn,as;kn({width:(hn=Wt.deref())===null||hn===void 0?void 0:hn.innerWidth,height:(as=Wt.deref())===null||as===void 0?void 0:as.innerHeight})},[Wt]);(0,t.useEffect)(()=>{var hn;return(hn=Wt.deref())===null||hn===void 0||hn.addEventListener("resize",dn),E(function(){var rs;(rs=Wt.deref())===null||rs===void 0||rs.removeEventListener("resize",dn)},"cleanup")},[dn,Wt]);const gn=(0,t.useCallback)(hn=>{if((hn==null?void 0:hn.value)===(Cn==null?void 0:Cn.value))return;const as=yn;ln(),os(hn),as&&(Kn(!0),sn())},[Cn==null?void 0:Cn.value,yn,ln,sn]);(0,t.useEffect)(()=>{if(vn.length>0){const hn=vn[0];(hn==null?void 0:hn.value)!==(Cn==null?void 0:Cn.value)&&gn(hn)}},[vn,Cn,gn]),(0,t.useEffect)(()=>{if(Ln.length>0){const hn=Ln[0];(hn==null?void 0:hn.value)!==(_s==null?void 0:_s.value)&&ms(hn)}},[vn,Ln,Cn,_s==null?void 0:_s.value,gn]);const In=(0,t.useCallback)(hn=>{hn!=null&&hn.value&&os(hn)},[os]);(0,t.useEffect)(()=>{vn.length!==0&&on&&(In(vn[0]),$n(!1))},[vn,on,In]);const Vn=(0,t.useCallback)(hn=>{Ft.current!==hn&&(!hn&&zn&&Ft!==void 0&&Ut&&It(),!(!hn&&!zn)&&(Ft.current=hn,Zn(!0)))},[zn,It,Ut]),bn=(0,t.useCallback)(()=>{He(!1)},[]),xn=(0,t.useMemo)(()=>(Ut||yn)&&!Je?t.createElement(t.Fragment,null,Te&&t.createElement("div",{className:_t().loading},t.createElement(Qe.A,{color:"blue",size:"jumbo"})),t.createElement("video",{className:_t().videoPreview,ref:Vn,onCanPlay:bn}),t.createElement(Y,null)):t.createElement(h.Ay,{size:pt,userId:Un,isInteractive:!1,className:_t().videoAvatar}),[Ut,yn,Je,Un,Te,Vn,bn]);(0,M.A)(()=>{ln(),An&&(zt((0,we.fP)({channelId:Ie,cameraEnabled:Ut,microphoneEnabled:!1})),zt((0,Se.A)(!1)))},[]),(0,t.useEffect)(()=>{if(On.height===void 0)return;const hn=vt*un,as=yt*un;if(On.height>hn&&Jn!==1){ts(1),Bn(0);return}if(On.height<=hn&&On.height>=as){const rs=1-(hn-On.height)/100*(1-Tt);ts(rs);const ys=-((hn-On.height)/100)*ft;Bn(ys);return}On.height<as&&Jn!==Tt&&(ts(Tt),Bn(-ft))},[Jn,On.height,un]),(0,t.useEffect)(()=>{(Ut!==rn||_n!==Wn)&&zt((0,we.fP)({channelId:Ie,cameraEnabled:Ut,microphoneEnabled:Wn}))},[zt,Ut,Ie,Wn,rn,_n]);const Qn=1+(1-Jn);return t.createElement(d.A,{eventId:B.EventId.HUDDLES_JOIN_PREVIEW,elementType:B.ElementType.MODAL,uiComponentName:B.UiComponentName.HUDDLES_JOIN_PREVIEW_MODAL},t.createElement("div",null,t.createElement(H,{cameraPermissionDenied:Je,microphonePermissionDenied:ue,microphoneNoDevices:it,cameraNoDevices:$e}),t.createElement(Ke,{channelId:Ie}),t.createElement("div",{className:_t().videoAndDevicesContainer},t.createElement("div",{className:_t().videoContainer,style:{transform:`scale(${Jn}) translateY(${Hn}px)`}},t.createElement("div",{className:_t().videoInnerContainer},xn),t.createElement(ze,{turnOffCameraHandler:ln,turnOnCameraHandler:sn,cameraIsOn:Ut,microphonePermissionDenied:ue,cameraPermissionDenied:Je,scaleOffset:Qn,microphoneNoDevices:it,cameraNoDevices:$e})),t.createElement(Ne,{handleMicrophonePermissionsError:Kt,microphonePermissionDenied:ue,cameraPermissionDenied:Je}))))});var At=e(5203103513),kt=e(3989454579),Bt=e(7138682671),St=e(387484329);const Gt=new r.Ay("huddles"),Et=t.memo(()=>{const j=(0,_.wA)(),Ie=(0,a.d4)(W.Rk),Ue=!(0,a.d4)(zt=>(0,Ye.ty)(zt,At.aI)||!1),rt=(0,t.useCallback)(()=>{j((0,St.AZ)({pref:At.aI,value:Ue}))},[j,Ue]);return Ie?t.createElement("div",null,t.createElement(Bt.A,{text:Gt.t("Don\u2019t show this preview again"),type:"inline",cursor:"pointer"},t.createElement(kt.A,{name:"agc",checked:Ue,onChange:rt}))):null});var wt=e(3052395304),Jt=e(3929724715),Lt=e(1407713935),Zt=e(825587348),qt=e(5363983309),tt=e(2458754542),st=e.n(tt);const gt=new r.Ay("huddles"),Nt={eventId:B.EventId.HUDDLES_JOIN_PREVIEW,elementName:"join-button",onClick:{enableClogAction:!0},isPrimaryCTA:!0},Ht=t.memo(j=>{let{channelId:Ie,closeModal:Ue,handleJoin:rt}=j;const zt=(0,a.d4)(Be.WR),Wt=(0,a.d4)(ts=>(0,i.OL)(ts,Ie)),Ft=(0,Lt.cb)(Wt),rn=(0,a.d4)(ts=>(0,xe.Ln)(ts,{channelId:Ie})),_n=(0,a.d4)(W.Rk),{memberCount:An}=(0,o.W)({channelId:Ie}),un=Ft||rn,Rn=(0,wt.q)(Ie),{windowId:Un,windowRef:Wn}=(0,t.useContext)(Me._0),vn=Rn===Un;let Ln=!0;un&&(Ln=(0,Jt.Wb)(Wt)===zt);const On=m({isHost:Ln,channelId:Ie}),kn=(0,t.useCallback)(()=>{if(Ue==null||Ue(),vn){var ts;(ts=Wn.deref())===null||ts===void 0||ts.close()}},[Ue,Wn,vn]),Hn=(0,t.useCallback)(()=>{Ue==null||Ue()},[Ue]),Bn=(0,t.useCallback)(()=>{(0,O.dispatchForClientStore)((0,S._o)({channelId:Ie})),rt==null||rt(),Ue==null||Ue()},[Ue,rt,Ie]),Jn=(0,t.useMemo)(()=>An===0?gt.t("Start Huddle",{fallbackHash:"d9a37dbb2c259a1534d34ec9a94d2e9013f7b445"}):gt.t("Join Huddle",{fallbackHash:"2e0db25a478224617c1054b21c2931f1cdbc6141"}),[An]);return _n?t.createElement(Zt.A,{onClose:Hn,title:On,onSubmit:Bn,onCancel:kn,showCancelButton:!0,submitButtonText:Jn,className:st().modal,footerText:t.createElement(Et,null),overlayClassName:st().overlay,submitAutoClogProps:Nt},t.createElement(Ct,{channelId:Ie})):null}),Xt=(0,qt.A)(Ht)},4869203191:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>u,Gr:()=>v,Lv:()=>l,jc:()=>d,z2:()=>f});var t=e(938698950),n=e(5203103513),o=e(6471059816),s=e(2854284421),c=e(8664881451),r=e(2778217221),a=e(2047021170);const i=new o.Ay("huddles"),l="LOUNGE_MUSIC_PLAYER",m=[s.N3,s._4,s.j1,s._V,s.PM,s.tn,s.uu,s.jc];var _;(function(g){g.WaitingRoom="waiting",g.Subway="subway",g.Whistle="whistle",g.Jazz="jazz",g.Focus="focus",g.DiscoParty="disco",g.Zen="zen",g.Nature="nature"})(_||(_={}));const h=_.Jazz,d=E(g=>g?!!Object.values(_).includes(g):!1,"isValidSongKey"),f=E(g=>(0,a.ty)(g,n.Mz)||h,"getSongKeyFromUserPref"),v=E(()=>({[_.WaitingRoom]:{key:_.WaitingRoom,urlName:"waitingRoom",url:s.tn,displayName:i.t("Waiting Room")},[_.Subway]:{key:_.Subway,urlName:"subwayMusic",url:s.PM,displayName:i.t("Subway Music")},[_.Whistle]:{key:_.Whistle,urlName:"whistleTune",url:s.jc,displayName:i.t("Whistle Tune")},[_.Jazz]:{key:_.Jazz,urlName:"waitingMuzak",url:s.uu,displayName:i.t("Smooth Jazz")},[_.Focus]:{key:_.Focus,urlName:"focusBeats",url:s._4,displayName:i.t("Focus Beats")},[_.DiscoParty]:{key:_.DiscoParty,urlName:"discoParty",url:s.N3,displayName:i.t("Happy Bass")},[_.Zen]:{key:_.Zen,urlName:"momentOfZen",url:s.j1,displayName:i.t("Sound Bath")},[_.Nature]:{key:_.Nature,urlName:"natureMeditation",url:s._V,displayName:i.t("Nature Meditation")}}),"getSongsMetadata");let u=E(class Ea{static getInstance(){return Ea.instance||(Ea.instance=new Ea),Ea.instance}constructor(){var p=this;this.getCurrentTrackDisplayName=()=>{const A=m[this.activeTrackIndex],C=v(),T=Object.values(C).find(I=>I.url===A);return T==null?void 0:T.displayName},this.playMusic=async function(){let{songKey:A,registerOnEndedCallback:C,logger:T,fromFirstTrack:I,loopSong:M}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{registerOnEndedCallback:!1,fromFirstTrack:!0,loopSong:!1};I&&(p.activeTrackIndex=0),C&&m.forEach(U=>{(0,c.TQ)(U,{ended:p.playNextTrack})});let D=m[p.activeTrackIndex];const O=(0,c.Dd)(D);if(A){var S;O&&(0,c.ds)(D);const P=(S=v()[A])===null||S===void 0?void 0:S.url,L=P?m.findIndex(F=>F===P):-1;L>-1&&(D=P,p.activeTrackIndex=L)}const R=(0,t._o)();if(R&&O)try{await O.setSinkId(R),T==null||T.info(r.o7,`setSinkId success for lounge music on deviceID: ${R}`)}catch{T==null||T.info(r.o7,`setSinkId failed for lounge music on deviceID: ${R}`)}(0,c.ZH)(D,{loop:!!M,useSlackPreferredSink:!0})},this.stopMusic=A=>{let{clearOnEndedCallback:C,logger:T,logContext:I}=A;C&&m.forEach(M=>{(0,c.Rj)(M,"ended",this.playNextTrack)}),(0,c.ds)(m[this.activeTrackIndex],{logFailure:!1}),T.info(r.o7,`stopped lounge music [${I}]`)},this.incrementActiveTrackIndex=()=>{this.activeTrackIndex<m.length-1?this.activeTrackIndex+=1:this.activeTrackIndex=0},this.playNextTrack=()=>{(0,c.ds)(m[this.activeTrackIndex]),this.incrementActiveTrackIndex(),(0,c.ZH)(m[this.activeTrackIndex],{loop:!1,useSlackPreferredSink:!0})},this.activeTrackIndex=0}},"HuddleLoungeMusicManager")},8419239240:(N,y,e)=>{"use strict";e.d(y,{I:()=>c});var t=e(3134334389),n=e(1973246490),o=e(6471059816);const s=new o.Ay("huddles");function c(r){let{channelId:a}=r;const{firstMemberName:i,secondMemberName:l,memberCount:m}=(0,n.W)({channelId:a});return(0,t.useMemo)(()=>m===0?s.t("No one is in the huddle yet.",{fallbackHash:"84a5772a945fb7be09c48235d3fbb096591da4c6"}):m===1?s.rt("{firstMemberName} is currently in the huddle.",{firstMemberName:i}):m===2?s.rt("{firstMemberName} and {secondMemberName} are currently in the huddle.",{firstMemberName:i,secondMemberName:l}):s.rt("{firstMemberName}, {secondMemberName}, and {memberCount, plural, =0 {} =1 {1 other} other {# others}} are currently in the huddle.",{fallbackHash:"e851e92374eb17ce86e7497a3ce9a691b8515b61",firstMemberName:i,secondMemberName:l,memberCount:m-2}),[i,l,m])}E(c,"useGetCopyForMembersInHuddle")},1973246490:(N,y,e)=>{"use strict";e.d(y,{W:()=>s});var t=e(3534324375),n=e(9506008067),o=e(9548972574);function s(c){let{channelId:r}=c;const a=(0,n.d4)(_=>(0,o.ft)(_,r)),i=a?a.length:0,l=(0,n.d4)(_=>!a||a.length<1?null:(0,t.sE)(_,a[0])),m=(0,n.d4)(_=>!a||a.length<2?null:(0,t.sE)(_,a[1]));return{firstMemberName:l,secondMemberName:m,memberCount:i}}E(s,"useGetMembersInHuddle")},2164739987:(N,y,e)=>{"use strict";e.d(y,{f:()=>n});var t=e(3929724715);function n(o){const s=(0,t.cU)(o);return s!==""&&s!==void 0}E(n,"huddleChannelHasTopic")},5011231008:(N,y,e)=>{"use strict";e.d(y,{A:()=>D});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(7723800688),r=e(5169680368),a=e(5043394918),i=e(4745917661),l=e(6084388622),m=e(440635146),_=e(9194155027),h=e(8683010724),d=e(8181621268),f=e(8668318456),v=e(4094753332),u=e(6471059816),g=e(387328355),p=e(9506008067),A=e(6251210828),C=e(1049642794);const T=new u.Ay("huddles"),I=[m.tc.CmdOrCtrl,"Shift"],M=E(O=>{let{className:S,microphonePermissionDenied:R=!1,displayShortcutTooltip:U=!0}=O;const P=(0,n.wA)(),L=(0,p.d4)($=>!!(0,g.WQ)($,"isMicrophoneEnabled")&&!R),F=(0,c.Ay)(),x=(0,p.d4)($=>(0,A.U7)($,{key:c.Hi.CANVAS_OPEN})),{microphoneLabel:b,deviceLabel:k,ariaLabel:B}=(0,r.k)(),W=(0,t.useCallback)(()=>{R||P((0,C.A)(!L))},[P,L,R]),K=(0,t.useMemo)(()=>({elementName:c.Hi.CANVAS_TOOLBAR,eventId:L?f.EventId.HUDDLES_MUTE:f.EventId.HUDDLES_UNMUTE,onClick:{enableClogAction:!0},interactionId:x,...F}),[F,x,L]),H=(0,v.cX)()?"Meta":"Control",z=t.createElement(l.Nm,{className:s()("c-icon_button","c-icon_button--size_medium","p-huddle_toolbar__button",S,{"p-huddle_toolbar__button--toggled_on":L,"p-huddle_toolbar__mic--disabled":R}),htmlType:"button",onClick:W,autoClogProps:K,"aria-label":B,"aria-describedby":"microphone-info","aria-keyshortcuts":`Space+${H}+Shift`,"data-qa":"huddle_video_modal_footer",tabIndex:-1,"aria-disabled":R},t.createElement(a.A,{className:"p-huddle_toolbar__mic_volume_indicator",peerId:"self",isMicrophoneEnabled:L,allowMuteIconAnimation:!0}),R&&t.createElement("div",{className:"p-huddle_toolbar__mic_alert_container"},t.createElement("div",{className:"p-huddle_toolbar__mic_alert"},t.createElement(h.A,{name:"warning-filled"}))),t.createElement("div",{hidden:!0,id:"microphone-info"},k)),Q=(0,t.useMemo)(()=>{if(R)return T.t("Microphone permission denied",{fallbackHash:"fb28c69013a2f5cff9d5ad4f7c2ca97cb1d14d4a",fallbackHashNs:"huddles_audio_video_prefs"});const $=t.createElement(i.A,{actionLabel:b,deviceLabel:k});return U?t.createElement(_.A,{title:$,mainKey:"Space",modifiers:I}):$},[k,b,R,U]);return t.createElement(d.Ay,{tip:Q},z)},"HuddleToolbarMuteButton");M.displayName="HuddleToolbarMuteButton";const D=t.memo(M)},3674485380:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(8736071954),o=e(938698950),s=e(5536692738),c=e(6471059816),r=e(9506008067),a=e(9365970888);const i=new c.Ay("huddles"),l=390,m=278,_=E(d=>{let{deviceType:f,isBlocked:v,widthStyle:u,size:g}=d;const p=(0,t.useMemo)(()=>({[n.lW.Microphone]:i.t("Microphone devices"),[n.lW.Camera]:i.t("Camera devices"),[n.Q4]:i.t("Audio output devices")}),[]),C=(0,r.d4)(a.oG)[f],T=(0,t.useMemo)(()=>v?[{label:i.t("Permission not yet granted"),value:"no_access",type:f}]:C.map(S=>({label:v||!S.label?i.t("Permission not yet granted"):S.label,value:S.id,type:f})),[C,f,v]),I=(0,t.useCallback)(S=>{(0,o.cT)(S.value,f)},[f]);if(!p)return null;const M=T[0],D=p[f];let O;switch(u){case"inline":O=`${l}px`;break;case"default":O=`${m}px`;break;case"stretch":O="100%";break;default:throw new Error(`unhandled type ${u}`)}return t.createElement(s.Ay,{isDisabled:v,ariaLabel:D,selectId:f,options:T,selectedOption:M,width:O,onOptionSelected:I,className:"p-huddle_troubleshooting_panel__device-selector",size:g})},"DeviceSelector");_.displayName="DeviceSelector";const h=_},8801078943:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(8736071954),o=e(3674485380),s=e(6471059816),c=e(9506008067),r=e(2465464861);const a=new s.Ay("huddles"),i=E(m=>{let{className:_,selectSize:h="small",cameraPermissionDenied:d=!1,widthStyle:f="stretch"}=m;const{isCameraBlocked:v}=(0,c.Z2)(r.FP)||{};return t.createElement("div",{className:_},t.createElement("div",{className:"audio-section"},t.createElement("span",{className:"p-device-label"},a.t("Camera"))),t.createElement(o.A,{deviceType:n.lW.Camera,isBlocked:v||d,widthStyle:f,size:h}))},"Camera");i.displayName="Camera";const l=i},1593595278:(N,y,e)=>{"use strict";e.d(y,{A:()=>v,Y:()=>d});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(1337358413),c=e(8736071954),r=e(3674485380),a=e(6471059816),i=e(9506008067),l=e(2465464861),m=e(5671227444),_=e.n(m);const h=new a.Ay("huddles");var d;(function(u){u[u.Default=0]="Default",u[u.Inline=1]="Inline",u[u.Hidden=2]="Hidden"})(d||(d={}));const f=E(u=>{let{className:g,audioMeterLayout:p=d.Default,selectSize:A="small",isEnabled:C=!0,microphonePermissionDenied:T=!1,widthStyle:I="stretch"}=u;const{isMicrophoneBluetooth:M}=(0,i.Z2)(l.h)||{},{isMicrophoneBlocked:D}=(0,i.Z2)(l.FP)||{},O=p===d.Default||p===d.Inline;return t.createElement("div",{className:g},t.createElement("div",{className:o()("audio-section",{[_().inlineAudioMeterContainer]:p===d.Inline})},t.createElement("span",{className:"p-device-label"},h.t("Microphone")),O&&t.createElement(s.Ay,{initNumBubbles:9,containerClassName:o()("p-audio-levels-container",{[_().inlineAudioMeter]:p===d.Inline}),bubbleClassname:"p-audio-bubble",ariaLabel:h.t("Input Level"),isEnabled:C})),t.createElement(r.A,{deviceType:c.lW.Microphone,isBlocked:D||T,widthStyle:I,size:A}),M&&t.createElement("div",{className:"bluetooth-warning"},h.t("Bluetooth can degrade audio quality")))},"Microphone");f.displayName="Microphone";const v=f},9948866681:(N,y,e)=>{"use strict";e.d(y,{A:()=>d});var t=e(3134334389),n=e(8736071954),o=e(938698950),s=e(3674485380),c=e(8739505998),r=e(4094753332),a=e(6471059816),i=e(2854284421),l=e(9506008067),m=e(2465464861);const _=new a.Ay("huddles"),h=E(f=>{let{className:v,selectSize:u="small",showTestSpeaker:g=!1,microphonePermissionDenied:p=!1,widthStyle:A="stretch"}=f;const{isSpeakerBluetooth:C}=(0,l.Z2)(m.h)||{},T=(0,t.useRef)(null),I=(0,t.useCallback)(async()=>{if(T.current){const D=(0,o._o)();await T.current.setSinkId(D),T.current.play()}},[]);(0,t.useEffect)(()=>(T.current=new Audio(i.pW),()=>{T.current&&(T.current=null)}),[]);const M=p&&!(0,r.y3)();return t.createElement("div",{className:v},t.createElement("div",{className:"audio-section"},t.createElement("span",{className:"p-device-label"},_.t("Speakers")),g&&t.createElement(c.A,{onClick:I},_.t("Test Speaker",{fallbackHash:"d890e6d8efa58744e75a0a5e0017242b538d3aa2",fallbackHashNs:"huddles_audio_video_prefs"}))),t.createElement(s.A,{deviceType:n.Q4,widthStyle:A,size:u,isBlocked:M}),C&&t.createElement("div",{className:"bluetooth-warning"},_.t("Bluetooth can degrade audio quality")))},"Speaker");h.displayName="Speaker";const d=h},5152651193:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(3134334389),n=e(5918772940),o=e.n(n),s=e(4121690455),c=e.n(s),r=e(2440739180),a=e.n(r),i=e(1894681178);const l=E(_=>{let{headerInfo:h,isUnlinked:d=!1}=_;const f=(0,i.A)(h,56);return t.createElement("div",{className:"p-identity_transfer_modal__logo"},t.createElement("div",{className:"p-identity_transfer_modal__logo--left"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:o()})),t.createElement("div",{className:"p-identity_transfer_modal__logo__arrows"},t.createElement("img",{alt:"",src:d?a():c()})),t.createElement("div",{className:"p-identity_transfer_modal__logo--right"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:f})))},"IdentityTransferModalLogo");l.displayName="IdentityTransferModalLogo";const m=l},7008286275:(N,y,e)=>{"use strict";e.d(y,{A:()=>Ne});var t=e(3134334389),n=e(6122756707),o=e(9506008067),s=e(4844578989),c=e.n(s),r=e(7173172014),a=e(6439846314),i=e(2927826522),l=e(5257368278),m=e(4433296946);const _=(0,l.A)("Get SIWS interstital blocks",(We,Oe,be)=>{let{appId:Ke,url:Fe,channelId:J}=be;return We((0,a.apiCall)({args:{app_id:Ke,uri:Fe,channel_id:J},method:"links.getInterstitialFields",reason:"siws-get-interstital-fields"})).then(ne=>({...(0,i.t)(ne,1)})).catch(ne=>{var je;throw((je=ne.data)===null||je===void 0?void 0:je.error)==="invalid_client_cache"&&We((0,m._)()),ne})});_.meta={name:"createFetcher",key:"createFetchergetInterstitialFields",description:"Get SIWS interstital blocks"};const h=_;var d=e(97319433),f=e(7937864072),v=e(8369079536),u=e(9003400431),g=e(6304789565),p=e(387484329),A=e(337319621),C=e(2239896522),T=e(7763971809);const I=(0,g.Ay)("Set completed transfer pref of identity links prefs",(We,Oe,be)=>{let{appId:Ke,completedTransfer:Fe}=be;const J=(0,C.IC)(Oe());let ne="{}";try{ne=JSON.stringify({...J,[Ke]:{completed_transfer:Fe,date_completed_transfer:Number(Date.now())}})}catch(je){(0,A.Ay)({getState:Oe}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",je)}return We((0,p.AZ)({pref:T.V,value:ne}))});I.meta={name:"createThunk",key:"createThunksetCompletedTransfer",description:"Set completed transfer pref of identity links prefs"};var M=e(5973312896),D=e(980293773),O=e(8668318456),S=e(2768056446),R=e(4645337865),U=e(2683115972),P=e(3165300465),L=e(7138682671),F=e(6471059816),x=e(9907843289),b=e(441565466),k=e(5152651193);const B=new F.Ay("app-config"),W=E(We=>{let{url:Oe}=We;return Oe?t.createElement("div",{className:"p-identity_transfer_modal__redirect"},t.createElement("span",{className:"overflow_ellipsis"},B.t("Link to: "),Oe)):null},"IdentityTransferModalLink");W.displayName="IdentityTransferModalLink";const K=W;var H=e(2276214198),z=e(555314707);const Q=new F.Ay("app-config"),q=E(We=>{let{appId:Oe,domain:be,email:Ke,headerInfo:Fe,logger:J,setIdentityTransferStep:ne,setLinkClickedPrefs:je,url:at,hideLink:nt=!1,reverifyEmail:Ge=!1,autoClogProps:Pe}=We;const Le=(0,n.wA)(),ze=(0,v.A)(),Me=(0,b.A)(),[Ce,Qe]=(0,t.useState)(S.lS.Empty),[Be,we]=(0,t.useState)(!1),[xe,Se]=(0,t.useState)(!1),Ye=(0,t.useCallback)(async()=>{try{await Le((0,z.i)({reason:"identity-transfer-modal",confirmationType:"code",email:Ke,intent:"identity_links",locale:(0,x.Yp)()}))}catch(Ct){J.error("error in sending confirm email",Ct)}},[Le,Ke,J]);(0,t.useEffect)(()=>{ze.current&&Ye()},[ze,Ye]);const ot=(0,t.useCallback)(()=>{ne(Ge?"reverifyEmail":"permissions")},[Ge,ne]),_t=(0,t.useCallback)(()=>{Qe(S.lS.Empty),Se(!1)},[]),pt=(0,t.useCallback)(()=>{Ye()},[Ye]),vt=(0,t.useCallback)(async Ct=>{try{Qe(S.lS.Processing),we(!0),await Le((0,H.b)({reason:"identity-transfer-modal-email-verification",code:Ct,email:Ke,intent:"identity_links"})),await je(!0),ze.current&&(Qe(S.lS.Success),we(!1),Se(!1))}catch(At){if(ze.current){switch(At.name){case"expired":Qe(S.lS.Expired),Se(!1),Ye();break;case"failed":Qe(S.lS.Error),Se(!1);break;case"ratelimited":Qe(S.lS.Ratelimited),Se(!1);break;default:Qe(S.lS.Unknown),Se(!0);break}we(!1)}}},[Le,Ke,ze,Ye,je]),yt=(0,t.useCallback)(Ct=>{Ct.preventDefault()},[]),Tt=(0,t.useMemo)(()=>({eventId:O.EventId.IDL_EMAIL_VERIFICATION_BACK,idlAppId:Oe,idlDomain:be,idlEventId:O.EventId[O.EventId.IDL_EMAIL_VERIFICATION_BACK].toLowerCase(),onClick:{enableClogAction:!0},...Pe}),[Oe,Pe,be]),ft=Ce===S.lS.Expired||Ce===S.lS.Error||Ce===S.lS.Unknown;return t.createElement(t.Fragment,null,t.createElement(D.$m,null,t.createElement(k.A,{headerInfo:Fe}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},Q.t("Please verify your email address")),t.createElement(D.qf,null,t.createElement("p",null,Q.t("This is just a quick security check. A confirmation code has been sent to {email} \u2014 it expires in 15 minutes. Please keep this window open, while you check your email.",{email:Ke})),t.createElement("div",{className:"margin_bottom_50"},t.createElement("strong",null,Q.t("Enter the code below:"))),t.createElement("form",{onSubmit:yt},t.createElement("fieldset",{className:"no_margin no_padding no_border"},t.createElement("legend",{className:"offscreen"},Q.t("Enter one number or letter into each input. The focus will automatically move to the next input after each entry. When you complete the form, a new window will open at {domain}.",{domain:be,fallbackHash:"e87145104256693bd48398d7ff5b3414272bd92f",fallbackHashNs:"team_creation"})),t.createElement(R.A,{isCheckError:!1,isNumbersOnly:!1,onChange:_t,onFillCode:vt,isInvalid:ft,ariaDescribedBy:Me}))),t.createElement(S.UU,{status:Ce,id:Me}),xe&&t.createElement("div",{className:"p-identity_transfer_modal__resend_verification"},t.createElement(L.A,{htmlFor:"resend_verification_email",text:Q.t("Get a new verification code.")}),t.createElement(U.Ay,{id:"resend_verification_email",onClick:pt},Q.t("Send Verification",{fallbackHash:"1e426f0e8ba0178a706f197235672b3aa19fd1a1"}))))),t.createElement(D.jl,null,!nt&&t.createElement(K,{url:at}),t.createElement(D.ox,null,t.createElement(P.A,{"aria-label":Q.t("Back"),autoClogProps:Tt,"data-qa":"siws_email_verification_back",loading:Be,onClick:ot,type:"outline"},Q.t("Back")))))},"IdentityTransferModalEmailVerification");q.displayName="IdentityTransferModalEmailVerification";const $=q;var le=e(3150724727),te=e(1610251172),ce=e(6084388622);const me=new F.Ay("app-config"),_e=E(We=>{let{email:Oe,name:be,userId:Ke,workspaceDomain:Fe}=We;const J=(0,b.A)(),[ne,je]=(0,t.useState)(!1);return t.createElement("div",{className:"p-identity_transfer_modal__member_card"},t.createElement("div",{className:"p-identity_transfer_modal__member_card__info",id:J},t.createElement(le.Ay,{isInteractive:!1,"aria-label":"",className:"p-identity_transfer_modal__member_card__info__avatar",size:48,userId:Ke}),t.createElement("div",null,t.createElement("p",{className:"bold"},be),t.createElement("p",null,Oe),t.createElement(ce.Nm,{"data-qa":"expand_to_see_user_details","aria-controls":J,"aria-expanded":ne,"aria-label":ne?me.t("Fewer User Details",{fallbackHash:"9cf188d3a6779d63b36b10275b0228ae22ec97d6",fallbackHashNs:"file"}):me.t("More User Details",{fallbackHash:"9869e506c38f643f1fe985347c015deace6baa22",fallbackHashNs:"file"}),className:"p-identity_transfer_modal__member_card__expand",onClick:()=>je(!ne)},t.createElement(te.A,{type:ne?"chevron-large-up":"chevron-large-down"})),ne&&t.createElement(t.Fragment,null,t.createElement("p",null,me.t("Workspace ID: {workspaceDomain}",{workspaceDomain:Fe})),t.createElement("p",null,me.t("User ID: { userId }",{userId:Ke}))))))},"IdentityTransferModalMemberCard");_e.displayName="IdentityTransferModalMemberCard";const Ae=_e,ye=new F.Ay("app-config"),oe=E(We=>{let{icon:Oe,text:be}=We;return t.createElement("div",{className:"p-identity_transfer_modal__description_item"},t.createElement(te.A,{"aria-label":ye.t("{icon} icon",{icon:Oe}),className:"p-identity_transfer_modal__description_icon",type:Oe}),t.createElement("p",null,be))},"IdentityTransferModalDescriptionItem");oe.displayName="IdentityTransferModalDescriptionItem";const ee=oe;var V=e(8739505998),w=e(1275630749);const Y=new F.Ay("app-config"),G=E(We=>{let{appName:Oe,privacyPolicyUrl:be,tosUrl:Ke}=We;return t.createElement("div",{className:"p-identity_transfer_modal__legal"},Y.rt("Slack will securely share your name, email address, profile image, user ID, and team ID with {appName}. View Slack\u2019s <a3>privacy policy</a3>. By agreeing to allow Slack to share your identity, you are also agreeing to {appName}\u2019s <a2>privacy agreement</a2> and <a1>terms of service</a1>.",{appName:Oe,fallbackHash:"134b5a808f103f39a428de3a5b72088dc38327d4"},Fe=>{let{tag:J,text:ne}=Fe;switch(J){case"a1":return t.createElement(V.A,{href:Ke},ne);case"a2":return t.createElement(V.A,{href:be},ne);case"a3":return t.createElement(V.A,{href:(0,w.v)("/privacy-policy")},ne);default:return null}}))},"IdentityTransferModalLegal");G.displayName="IdentityTransferModalLegal";const Z=G,se=new F.Ay("app-config"),ae=E(We=>{let{appId:Oe,domain:be,isUnskippable:Ke=!1,hideLink:Fe=!1,headerInfo:J,isLoading:ne,legalInfo:je,setIdentityTransferStep:at,setLinkClickedPrefs:nt,url:Ge,userInfo:Pe,autoClogProps:Le}=We;const ze=(0,v.A)(),[Me,Ce]=(0,t.useState)(!0),[Qe,Be]=(0,t.useState)(!1),[we,xe]=(0,t.useState)(!0),[Se,Ye]=(0,t.useState)(!1);(0,t.useEffect)(()=>{Ce(ne),xe(ne)},[ne]);const ot=E(async Tt=>{Tt?(Be(!0),xe(!0)):(Ce(!0),Ye(!0)),await nt(Tt),ze.current&&(Tt?(Be(!1),xe(!1)):(Ce(!1),Ye(!1)))},"setLoadingAndLinkClickedPrefs"),_t=E(()=>{Pe.isEmailVerified?ot(!0):at("emailVerification")},"handleAcceptClicked"),pt=E(()=>{ot(!1)},"handleSkipClicked"),vt=E(()=>{ot(!1)},"handleCancelClicked"),{appName:yt}=J;return t.createElement(t.Fragment,null,t.createElement(D.$m,null,t.createElement(k.A,{headerInfo:J}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},Ke?se.t("Connect {appName} with Slack",{appName:yt}):se.t("Continue to {appName} with Slack",{appName:yt})),t.createElement(D.qf,{className:"p-identity_transfer_modal__member_section"},t.createElement(Ae,{email:Pe.email,name:Pe.name,userId:Pe.userId,workspaceDomain:Pe.workspaceDomain})),t.createElement(D.qf,null,t.createElement("div",{className:"p-identity_transfer_modal__info_box"},t.createElement("b",null,t.createElement("p",null,se.t("Your account details will be used to:",{fallbackHash:"aed3835c40e50f109d9a3e5c3643965d9b62d05d"}))),t.createElement(ee,{icon:"plug",text:se.t("Establish a verified connection between an existing {appName} account and Slack. You\u2019ll sign in automatically.",{appName:yt})}),t.createElement(ee,{icon:"user",text:se.t("Help you create a new {appName} account, if you don\u2019t already have one.",{appName:yt})}),t.createElement(ee,{icon:"sparkles",text:se.t("Unlock {appName} features in Slack, like configurable notifications, rich link previews, and quick actions.",{appName:yt})})),t.createElement(Z,{appName:yt,privacyPolicyUrl:je.privacyPolicyUrl,tosUrl:je.tosUrl}))),t.createElement(D.jl,null,!Fe&&t.createElement(K,{url:Ge}),t.createElement(D.ox,null,!Ke&&t.createElement(P.A,{autoClogProps:{eventId:O.EventId.IDL_INTERSTITIAL_SKIPPED,idlAppId:Oe,idlDomain:be,idlEventId:O.EventId[O.EventId.IDL_INTERSTITIAL_SKIPPED].toLowerCase(),onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip",disabled:we,loading:Se,onClick:pt,type:"outline","aria-label":se.t("Skip")},se.t("Skip")),Ke&&t.createElement(U.Ay,{type:"outline",onClick:vt,autoClogProps:{eventId:O.EventId.IDL_INTERSTITIAL_CLOSED,idlAppId:Oe,idlDomain:be,idlEventId:O.EventId[O.EventId.IDL_INTERSTITIAL_CLOSED].toLowerCase(),onClick:{enableClogAction:!0},...Le}},se.t("Cancel")),t.createElement(P.A,{autoClogProps:{eventId:O.EventId.IDL_INTERSTITIAL_ACCEPTED,idlAppId:Oe,idlDomain:be,idlEventId:O.EventId[O.EventId.IDL_INTERSTITIAL_ACCEPTED].toLowerCase(),onClick:{enableClogAction:!0},...Le},"data-qa":"siws_auth_modal_accept",disabled:Me,loading:Qe,onClick:_t,type:"primary","aria-label":se.t("Accept")},se.t("Accept")))))},"SiwsIdentityTransfer");ae.displayName="SiwsIdentityTransfer";const re=ae,pe=new F.Ay("app-config"),de=E(We=>{let{appId:Oe,domain:be,headerInfo:Ke,url:Fe,setIdentityTransferStep:J}=We;const ne=(0,n.wA)(),je=(0,o.d4)(Ge=>(0,C.LG)(Ge,Oe)),at=E(()=>{J("permissions")},"handleBackClicked"),nt=E(()=>{ne((0,M.J)({appId:Oe,dateOptedOut:Date.now(),numSkipped:je+1})),window.open(Fe,"_blank","noopener,noreferrer"),ne((0,u.O)())},"handleProceedClicked");return t.createElement(t.Fragment,null,t.createElement(D.$m,null,t.createElement(k.A,{headerInfo:Ke}),t.createElement("h1",{className:"p-identity_transfer_modal__title p-identity_transfer_modal__title--skip"},pe.t("You\u2019ve skipped a few times and we hear you")),t.createElement(D.qf,null,t.createElement("div",null,pe.rt("We won\u2019t show this connection prompt again to encourage you to link your Slack and {appName}. Click \u2018Proceed\u2019 to continue to: {link}.",{appName:Ke.appName,link:t.createElement(V.A,{href:Fe},Fe)})))),t.createElement(D.jl,null,t.createElement(D.ox,null,t.createElement(ce.Ay,{"aria-label":pe.t("Back"),autoClogProps:{idlAppId:Oe,idlDomain:be,eventId:O.EventId.IDL_USER_OPT_OUT_BACK,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_back",onClick:at,type:"outline"},pe.t("Back")),t.createElement(ce.Ay,{"aria-label":pe.t("Proceed"),autoClogProps:{idlAppId:Oe,idlDomain:be,eventId:O.EventId.IDL_USER_OPT_OUT_PROCEED,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_proceed",onClick:nt},pe.t("Proceed")))))},"IdentityTransferModalSkip");de.displayName="IdentityTransferModalSkip";const ie=de,he=new F.Ay("app-config"),ve=E(We=>{let{email:Oe,headerInfo:be,setIdentityTransferStep:Ke}=We;const Fe=(0,n.wA)(),J=E(()=>{Ke("emailVerification")},"handleVerifyClicked"),ne=(0,t.useCallback)(()=>{Fe((0,u.O)())},[Fe]);return t.createElement(t.Fragment,null,t.createElement(D.$m,null,t.createElement(k.A,{headerInfo:be}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},he.t("Verify your account to continue with {appName}",{appName:be==null?void 0:be.appName})),t.createElement(D.qf,null,t.createElement("div",{className:"p-identity_transfer_modal__info_box"},t.createElement("b",null,t.createElement("p",null,he.t("Verification Required"))),t.createElement("ul",null,t.createElement("li",null,he.t("You are trying to connect to {appName} on a device we don\u2019t recognize, or with a new email address.",{appName:be==null?void 0:be.appName})),t.createElement("li",null,he.rt("To keep your account secure, we\u2019ll send a confirmation code to {email} to verify your identity before proceeding to the link.",{email:t.createElement("b",null,t.createElement("span",null,Oe))}))),t.createElement("p",null,he.t("Once you\u2019ve confirmed your identity, we\u2019ll remember this device for next time."))))),t.createElement(D.jl,null,t.createElement(D.ox,null,t.createElement(U.Ay,{type:"outline",onClick:ne},he.t("Cancel")),t.createElement(U.Ay,{onClick:J},he.t("Verify")))))},"IdentityTransferReverificationModal");ve.displayName="IdentityTransferReverificationModal";const ge=ve,ke=E(We=>{let{appId:Oe,domain:be,clientMsgId:Ke,isUnfurl:Fe=!1,isUserPrefs:J=!1,url:ne,channelId:je,reverifyEmail:at=!1}=We;const nt=(0,n.wA)(),Ge=(0,f.A)(),Pe=(0,v.A)(),[Le,ze]=(0,t.useState)(null),[Me,Ce]=(0,t.useState)({appName:"",icons:{}}),[Qe,Be]=(0,t.useState)({tosUrl:"",privacyPolicyUrl:""}),[we,xe]=(0,t.useState)({email:"",isEmailVerified:!1,name:"",userId:"",workspaceDomain:"",workspaceId:""}),[Se,Ye]=(0,t.useState)(!0),[ot,_t]=(0,t.useState)(at?"reverifyEmail":"permissions"),pt=(0,o.d4)(At=>Fe?0:(0,C.LG)(At,Oe));(0,t.useEffect)(()=>{E(async()=>{try{const{header:kt,legal:Bt,user:St}=await nt(h({appId:Oe,url:ne,channelId:!J&&!Fe?je:void 0}));Pe.current&&(Ce(kt),Be(Bt),xe(St),Ye(!1))}catch(kt){!Fe&&!J&&window.open(ne,"_blank","noopener,noreferrer"),nt((0,u.O)()),Ge.error(`app-id - ${Oe}`,"error in getting interstitial blocks for link with given appid",kt)}},"getAuthModalData")()},[Oe,nt,Ge,Pe,ne,Fe,J,je]);const vt=(0,t.useCallback)(async At=>{try{At?(!J&&ne&&await nt((0,d.Ap)({appId:Oe,url:ne,clientMsgId:Ke,domain:be,shouldCloseWindowOnCompletion:Fe})),nt(I({appId:Oe,completedTransfer:!0})),nt((0,u.O)())):!Fe&&!J&&pt<2?(nt((0,M.J)({appId:Oe,dateLastSkipped:Date.now(),numSkipped:pt+1})),nt((0,u.O)()),window.open(ne,"_blank","noopener,noreferrer")):!Fe&&!J&&pt===2?_t("skip"):(nt((0,u.O)()),!Fe&&!J&&window.open(ne,"_blank","noopener,noreferrer"))}catch(kt){Ge.error(`app-id - ${Oe}`,"error in setting prefs with given appid",kt)}},[Oe,nt,be,Ke,Ge,pt,ne,Fe,J]),yt=(0,t.useCallback)(()=>{const At={permissions:O.EventId.IDL_INTERSTITIAL_CLOSED,emailVerification:O.EventId.IDL_EMAIL_VERIFICATION_CLOSED,skip:O.EventId.IDL_USER_OPT_OUT_CLOSED,reverifyEmail:O.EventId.IDL_EMAIL_VERIFICATION_CLOSED},kt=At==null?void 0:At[ot];if(Le==null||Le.track({eventId:kt,entryPoint:"USER_PREFS",idlAppId:Oe,idlDomain:be,idlEventId:O.EventId[kt].toLowerCase()}),Fe||J||at){nt((0,u.O)());return}ot==="skip"?(nt((0,M.J)({appId:Oe,dateOptedOut:Date.now(),numSkipped:pt+1})),window.open(ne,"_blank","noopener,noreferrer")):pt<2?(nt((0,M.J)({appId:Oe,dateLastSkipped:Date.now(),numSkipped:pt+1})),window.open(ne,"_blank","noopener,noreferrer")):pt===2&&_t("skip"),ot!=="skip"&&pt===2||nt((0,u.O)())},[Oe,Le,nt,be,ot,pt,ne,Fe,J,at]);let Tt;const ft={entryPoint:J?"USER_PREFS":void 0};switch(ot){case"reverifyEmail":Tt=t.createElement(ge,{email:we.email,headerInfo:Me,setIdentityTransferStep:_t});break;case"emailVerification":Tt=t.createElement($,{hideLink:J||Fe,appId:Oe,domain:be,email:we.email,headerInfo:Me,logger:Ge,setIdentityTransferStep:_t,setLinkClickedPrefs:vt,url:ne,reverifyEmail:at,autoClogProps:ft});break;case"skip":Tt=t.createElement(ie,{appId:Oe,domain:be,headerInfo:Me,setIdentityTransferStep:_t,url:ne});break;default:Tt=t.createElement(re,{isUnskippable:Fe||J,hideLink:Fe||J,appId:Oe,domain:be,headerInfo:Me,isLoading:Se,legalInfo:Qe,setIdentityTransferStep:_t,setLinkClickedPrefs:vt,userInfo:we,url:ne,autoClogProps:ft})}const Ct=c()("p-identity_transfer_modal",{"p-identity_transfer_modal--skip":ot==="skip"});return t.createElement(r.A,{trackClogRef:At=>{ze({track:At})}},t.createElement(D.dW,{className:Ct,closeModal:yt,shouldCloseOnOverlayClick:!1},Tt))},"IdentityTransferModal");ke.displayName="IdentityTransferModal";const Ne=ke},1650415028:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(3134334389),n=e(6122756707),o=e(9506008067),s=e(8170244779),c=e(8668318456),r=e(1469799399),a=e(8262898118),i=e(7173172014),l=e(2239896522);const m=E(h=>{let{children:d,url:f}=h;const v=(0,n.wA)(),u=(0,t.useContext)(s.A).channelId,g=(0,o.d4)(I=>(0,a.ND)(I,f)),p=(0,o.d4)(I=>(0,a.pF)(I,f)),A=(0,o.d4)(I=>(0,l.Xe)(I,g??"")!==null),C=(0,t.useCallback)(I=>{I.shiftKey||I.metaKey||I.ctrlKey||(I.preventDefault(),v((0,r.C)({url:f,channelId:u})))},[v,f,u]),T=(0,t.useMemo)(()=>({onClick:{enableClogAction:!A}}),[A]);return t.createElement(i.A,{eventId:c.EventId.IDL_CLICKED,idlAppId:g,idlDomain:p,idlEventId:c.EventId[c.EventId.IDL_CLICKED].toLowerCase()},typeof d=="function"?d(C,T):d)},"IdentityTransferTrigger");m.displayName="IdentityTransferTrigger";const _=m},5165209241:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(9391594207),o=e(4979382452),s=e(4636370173),c=e(2465132699),r=e(6308822),a=e(9003400431);function i(m){return t.createElement(o.A,{className:m.className,closeModal:m.closeModal},t.createElement(s.A,null,t.createElement(c.A,null,t.createElement("div",{className:"c-lazy_modal"},t.createElement(r.A,null)))))}E(i,"LoadingModal"),i.displayName="LoadingModal";const l=(0,n.N)(null,m=>({closeModal:()=>m((0,a.O)())}))(i)},2238535162:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7937864072),c=e(2647703359),r=e(8683010724),a=e(9506008067),i=e(3328068409);function l(_){let{iconClassName:h,file:d,isFilled:f=!0,isMicro:v=!1,size:u="20"}=_;const g=(0,s.A)(),p=(0,a.d4)(i.to);return d&&!(0,c.l7)(d)?(g.error(`[ListIcon] Expected List file, got ${(0,c.ti)(d)}`),null):t.createElement("div",{className:o()(h,"p-list_icon",`p-list_icon--${p}`,{"p-list_icon--micro":v})},t.createElement(r.A,{name:f?"lists-filled":"lists",size:v?"inherit":u}))}E(l,"ListIcon"),l.displayName="ListIcon";const m=t.memo(l)},2670882607:(N,y,e)=>{"use strict";e.d(y,{e:()=>a});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(9506008067),c=e(1545824888),r=e(2047021170);const a=t.memo(t.forwardRef((i,l)=>{let{getAnimationImport:m,className:_,minHeight:h,svgClassName:d,loadingClassName:f,errorClassName:v,description:u,loop:g=!1,autoplay:p=!1,renderLoading:A,renderError:C,preserveAspectRatio:T}=i;const I=(0,s.d4)(F=>(0,r.ty)(F,"a11y_animations")),[M,D]=(0,t.useState)(!0),[O,S]=(0,t.useState)(!1),R=(0,t.useRef)(null),U=(0,t.useRef)(null),P=(0,t.useRef)(null);P.current||(P.current=c.S.all([e.e("gantry-v2-async-lottie-web").then(e.t.bind(e,221124150,23)),m()]).then(F=>{let[x,b]=F;if(!R.current)throw new Error("Lottie animation missing container");return D(!1),U.current=x.loadAnimation({container:R.current,renderer:"svg",loop:g,autoplay:!!(I&&p),animationData:b,rendererSettings:{className:o()("p-lottie__svg",d),description:u,preserveAspectRatio:T}}),c.S.resolve(U.current)}).catch(F=>(S(!0),c.S.reject(F)))),(0,t.useEffect)(()=>()=>{P.current&&P.current.cancel(),U.current&&U.current.destroy()},[P,U]),(0,t.useImperativeHandle)(l,()=>P.current,[P]);const L=(0,t.useMemo)(()=>M&&A?A():O&&C?C():null,[A,C,M,O]);return t.createElement("div",{ref:R,style:h!==void 0?{minHeight:h}:void 0,className:o()("p-lottie",_,M&&f,O&&v)},L)}))},5460331959:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(7715417323),o=e(4978843660),s=e(166097325),c=e(6696292586),r=e(6650208157);const a=4;function i(m){let{children:_,fallbackWidth:h=void 0,onResize:d=n.A}=m;const[f,v]=(0,t.useState)({width:0,height:0}),[u,g]=(0,t.useState)(!1),p=(0,t.useRef)([]);function A(T){let{width:I}=T;if(p.current.unshift(I),p.current.length<a)return!1;p.current.length>a&&(p.current.length=a);const M=(0,o.A)(p.current,2);return M.slice(1).every(D=>(0,s.A)(D,M[0]))}E(A,"looksLikeResizeLoop");const C=(0,t.useCallback)(T=>{d(T),v(T.bounds),(0,c.A)(h)&&!u&&g(A(T.bounds))},[h,d,u]);return t.createElement(r.A,{bounds:!0,onResize:C},T=>{let{measureRef:I}=T;return _({...f,width:u&&h?h:f.width,measureRef:I})})}E(i,"Measure"),i.displayName="Measure";const l=i},9446966957:(N,y,e)=>{"use strict";e.d(y,{A:()=>a});var t=e(3134334389),n=e(3262078016),o=e(8646591923),s=e(7592430824),c=e(2843556239);const a=E(i=>{let{value:l,max:m,tick:_,jump:h,onChange:d,renderContainer:f,renderTrack:v,renderInner:u,onMouseDown:g,onMouseUp:p,"aria-label":A,"aria-valuetext":C,vertical:T,autoFocus:I}=i;const M=(0,t.useRef)(null),{embeddedUiData:D}=(0,t.useContext)(s.N),{windowRef:O}=(0,t.useContext)(c._0),S=(0,t.useCallback)(B=>{let{pageX:W,pageY:K}=B;const H=M.current;if(!H)return;const z=H.getBoundingClientRect(),Q=T?z.y:z.x,q=Math.max(0,(T?K:W)-Q),$=T?z.height:z.width,te=(T?1-Math.min(1,q/$):Math.min(1,q/$))*m;d(te)},[m,d,T]),R=(0,t.useCallback)(B=>{S(B)},[S]),U=(0,t.useCallback)(B=>{var W,K;(W=O.deref())===null||W===void 0||W.document.removeEventListener("mousemove",R),(K=O.deref())===null||K===void 0||K.document.removeEventListener("mouseup",U),p==null||p(B)},[R,p,O]),P=(0,t.useCallback)(B=>{var W,K;B.button!==0||B.ctrlKey||(S(B),B.preventDefault(),(W=O.deref())===null||W===void 0||W.document.addEventListener("mousemove",R),(K=O.deref())===null||K===void 0||K.document.addEventListener("mouseup",U),g==null||g(B))},[R,U,S,g,O]),L=(0,t.useCallback)(B=>{switch(B.which){case o.LE:case o.i7:d(l+(_??1));break;case o.UQ:case o.n6:d(l-(_??1));break;case o.w_:d(l+(h??m*.1));break;case o.dB:d(l-(h??m*.1));break;case o.yZ:d(0);break;case o.Kp:d(m);break;default:return}B.preventDefault()},[l,m,_,h,d]);(0,t.useEffect)(()=>{var B;return M==null||(B=M.current)===null||B===void 0||B.toggleAttribute(n.EmbeddedUIAttributes.NO_DRAG_ON_MOUSE_MOVE,!!D),()=>{var W,K;(W=O.deref())===null||W===void 0||W.document.removeEventListener("mousemove",R),(K=O.deref())===null||K===void 0||K.document.removeEventListener("mouseup",U)}},[D,R,U,O]),(0,t.useEffect)(()=>{I&&M.current&&M.current.focus()},[I]);const F=`${((m>0?l/m:0)*100).toFixed(2)}%`,x=u({style:T?{height:F}:{width:F}}),b=v({children:x,tabIndex:0,role:"slider","aria-label":A,"aria-valuemin":0,"aria-valuemax":m,"aria-valuenow":Math.floor(l),"aria-valuetext":C,onKeyDown:L,ref:M});return f({children:b,onMouseDown:P})},"CustomizableSlider")},3118200703:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(3134334389),n=e(7592430824),o=e(6105929840),s=e(2312625946),c=e(8668318456),r=e(6471059816);const a=new r.Ay("stories_av"),i={eventId:c.EventId.BK_USER_INTERACTION,interactionElement:c.InteractionElement.VIDEO,onClick:{enableClogAction:!0,interaction:c.Interaction.EXPAND}};function l(_){let{onClick:h,size:d,classPrefix:f}=_;const{embeddedUiData:v}=(0,t.useContext)(n.N),g=!!v?a.t("View full screen",{fallbackHash:"de8414755b5ff3c3e9f07661b8a127f5e5f57865",fallbackHashNs:"file"}):a.t("Expand",{fallbackHash:"5de840011e47d74fc17266744fc23d99a5f90716"});return t.createElement(s.Ay,{tip:g,position:"top"},t.createElement(o.A,{className:`${f}__controls_overlay_fullscreen`,onClick:h,"aria-label":g,backgroundStyle:"dark",size:d,autoClogProps:i,svgIconProps:{name:"expand-diagonal"}}))}E(l,"FullscreenButton"),l.displayName="FullscreenButton";const m=l},1942976385:(N,y,e)=>{"use strict";e.d(y,{A:()=>g});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(2664504268),r=e(7592430824),a=e(3207321841),i=e(5204962244),l=e(3391133100),m=e(2602118042),_=e(6471059816),h=e(9506008067),d=e(2047021170),f=e(387484329);const v=new _.Ay("stories_av"),u=E(p=>{let{onSpeedChange:A,isInlinePlayer:C,onMouseEnter:T,onMouseLeave:I,className:M}=p;const D=(0,n.wA)(),[O]=(0,t.useState)({}),S=(0,h.d4)(k=>(0,d.ty)(k,"media_playback_speed")),[R,U]=(0,t.useState)(S||1),{embeddedUiData:P}=(0,t.useContext)(r.N),L=(0,i.d)(()=>`playback-speed-${(0,l.r9)()}`);(0,t.useEffect)(()=>{S&&Object.keys(O).length===0&&S!==R&&U(S)},[O,S,R]);const F=(0,t.useCallback)(k=>{const B=k.value,W=R;U(B);const K=(0,c.A)();O[K]=!0,D((0,f.AZ)({pref:"media_playback_speed",value:B})).finally(()=>{delete O[K]}),A==null||A(B,W)},[D,O,R,A]),x=(0,t.useMemo)(()=>[{label:v.t("Playback speed"),options:a.Cv.map(k=>({label:v.t("{speed}x",{speed:k,fallbackHash:"399e68d4ef7e131fd1ddd396dfb6bcf815269ef4"}),value:k}))}],[]),b=(0,t.useMemo)(()=>{var k;if(!((k=x[0])===null||k===void 0)&&k.options){for(const B of x[0].options)if(B.value===R)return B}return null},[R,x]);return t.createElement(m.A,{options:x,className:s()("p-media_controls__control--playback-speed",M,{"p-video_controls_overlay__controls__speed":C}),size:"small",minOptionsListWidth:140,selectedOption:b,onOptionSelected:F,ariaLabel:v.t("Set playback speed: currently {mediaPlaybackSpeed}\xD7",{mediaPlaybackSpeed:R}),onMouseEnter:T,onMouseLeave:I,selectId:L,preventScroll:!!P})},"MediaPlaybackSpeedControl");u.displayName="MediaPlaybackSpeedControl";const g=u},8371678613:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(3134334389),n=e(1942976385),o=e(5602423845),s=e(2312625946),c=e(8668318456),r=e(6471059816),a=e(9506008067),i=e(2047021170);const l=new r.Ay("stories_av");function m(h){let{isInlinePlayer:d,videoRef:f,sharedClogProps:v={},className:u}=h;const g=(0,o.A)(),p=(0,a.d4)(C=>(0,i.ty)(C,"media_playback_speed"));(0,t.useEffect)(()=>{var C;f==null||(C=f.current)===null||C===void 0||C.setPlaybackRate(p)},[p,f]);const A=(0,t.useCallback)((C,T)=>{g.track(c.EventId.MEDIA_PLAYER,{...v,contexts:{...v.contexts,ui_context:{ui_step:d?"embedded":"fullscreen",action:"click",ui_properties:{element_type:"button",element_name:"playback_speed"}}},from:`${T??1}x`,to:`${C??1}x`})},[g,v,d]);return t.createElement(s.Ay,{tip:l.t("Playback speed"),position:"top",delay:s.n1},t.createElement(n.A,{onSpeedChange:A,isInlinePlayer:d,className:u}))}E(m,"PlaybackSpeedButton"),m.displayName="PlaybackSpeedButton";const _=m},3242899446:(N,y,e)=>{"use strict";e.d(y,{A:()=>M});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(9446966957),r=e(7323656146),a=e(6471059816);function i(){return i=Object.assign||function(D){for(var O=1;O<arguments.length;O++){var S=arguments[O];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(D[R]=S[R])}return D},i.apply(this,arguments)}E(i,"_extends");const l=new a.Ay("stories_av");var m;(function(D){D.Normal="normal",D.Popover="popover",D.Vertical="vertical"})(m||(m={}));const _=E(D=>{let{children:O,volume:S,onChange:R,onMouseDown:U,onMouseUp:P,mode:L=m.Normal,setIsVerticalVolumeActive:F}=D;const x=(0,t.useContext)(r.A),b=(0,t.useCallback)(q=>{R(Math.round(q)/100)},[R]),k=(0,t.useCallback)(()=>{F==null||F(!0)},[F]),B=(0,t.useCallback)(()=>{F==null||F(!1)},[F]),W=Math.floor(S*100),K=(0,t.useCallback)(q=>t.createElement("div",i({className:"p-media_volume_slider__slider"},q)),[]),H=(0,t.useCallback)(q=>t.createElement("div",i({className:"p-media_volume_slider__track"},q)),[]),z=(0,t.useCallback)(q=>t.createElement("div",i({className:"p-media_volume_slider__fill"},q)),[]),Q=t.createElement(c.A,{value:W,max:100,onChange:b,renderContainer:K,renderTrack:H,renderInner:z,onMouseDown:U,onMouseUp:P,"aria-label":l.t("Volume"),"aria-valuetext":`${W}%`,vertical:L===m.Vertical});return t.createElement("div",{className:s()("p-media_volume_slider",{"p-media_volume_slider--keyboard_focus":x,[`p-media_volume_slider--${L}`]:L}),onMouseEnter:L===m.Vertical?k:void 0,onMouseLeave:L===m.Vertical?B:void 0,onFocus:L===m.Vertical?k:void 0,onBlur:L===m.Vertical?B:void 0},t.createElement("div",{className:"p-media_volume_slider__children"},O),t.createElement("div",{className:"p-media_volume_slider__slider_container"},Q))},"MediaVolumeSlider");_.displayName="MediaVolumeSlider";const h=_;var d=e(2036354333),f=e(5946832122),v=e(1610251172),u=e(9194155027),g=e(2312625946),p=e(9506008067),A=e(2047021170),C=e(387484329);const T=new a.Ay("stories_av");function I(D){let{isInlinePlayer:O,useVerticalVolume:S,videoRef:R,className:U,backgroundStyle:P,setIsVerticalVolumeActive:L}=D;const F=(0,n.wA)(),x=(0,p.d4)(ye=>(0,A.ty)(ye,"media_muted"));var b;const k=(b=(0,p.d4)(ye=>(0,A.ty)(ye,"media_volume")))!==null&&b!==void 0?b:1,[B,W]=(0,t.useState)(k),K=(0,t.useRef)(!1);(0,t.useEffect)(()=>{var ye;R==null||(ye=R.current)===null||ye===void 0||ye.setMuted(x)},[x,R]),(0,t.useEffect)(()=>{var ye;R==null||(ye=R.current)===null||ye===void 0||ye.setVolume(B)},[R,B]);const H=(0,t.useCallback)(()=>{F((0,C.AZ)({pref:"media_muted",value:!x})),x&&W(k)},[F,x,k]),z=(0,t.useCallback)(function(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B;ye===0?x||F((0,C.AZ)({pref:"media_muted",value:!0})):(x&&F((0,C.AZ)({pref:"media_muted",value:!1})),!K.current&&ye!==k&&F((0,C.AZ)({pref:"media_volume",value:ye})))},[F,B,x,k]),Q=(0,t.useRef)(z);Q.current=z;const q=(0,t.useCallback)(ye=>{W(ye),Q.current(ye)},[]),$=(0,t.useCallback)(()=>{K.current=!0},[]),le=(0,t.useCallback)(()=>{K.current=!1,Q.current()},[]);(0,t.useEffect)(()=>{K.current||W(k)},[k]);const te=x?T.t("Unmute"):T.t("Mute"),ce=T.t("Mute");let me="volume-off-alt";x||(B>=.6?me="volume-up":B>=.3?me="volume-medium":me="volume-down");const _e=(0,t.useMemo)(()=>t.createElement(u.A,{title:te,mainKey:T.t("M")}),[te]);if(O){const ye=t.createElement(g.Ay,{tip:te,position:S?"bottom":"top",delay:g.n1,hideFromScreenReader:!0},t.createElement(d.A,{className:"p-video_controls_overlay__controls__button p-video_controls_overlay__controls__button--mute","aria-label":ce,"aria-pressed":x,onClick:H},t.createElement(v.A,{type:me,size:"inherit"})));return t.createElement(h,{volume:x?0:B,onChange:q,onMouseDown:$,onMouseUp:le,setIsVerticalVolumeActive:L,mode:S?m.Vertical:m.Popover},ye)}const Ae=t.createElement(g.Ay,{tip:_e,position:"top",delay:g.PK,hideFromScreenReader:!0},t.createElement(f.A,{onClick:H,"aria-label":ce,"aria-pressed":x,icon:me,size:"medium",className:U,backgroundStyle:P||"light"}));return t.createElement(h,{volume:x?0:B,onChange:q,onMouseDown:$,onMouseUp:le},Ae)}E(I,"ToggleMute"),I.displayName="ToggleMute";const M=I},4250078557:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(3134334389),n=e(1545824888),o=e(7937864072);const s="MEDIA-PLAYER";function c(_){const h=(0,o.A)(),[d,f]=(0,t.useState)(!0),[v,u]=(0,t.useState)(),[g,p]=(0,t.useState)();return(0,t.useEffect)(()=>{if(u(void 0),p(void 0),!_){f(!1);return}f(!0);let A;const C=new n.S((T,I,M)=>{const D=new XMLHttpRequest;let O=!1;D.addEventListener("load",()=>{h.info(s,"vtt loaded"),f(!1);const S=D.response;A=URL.createObjectURL(S),u(A),T(D.response),S.text().then(R=>{O||p(R)})}),D.addEventListener("error",()=>{h.warn(s,"error fetching vtt"),f(!1),I(new Error(`VTT load request failed with status ${D.status}`))}),M&&M(()=>{D.abort(),O=!0}),D.responseType="blob",D.withCredentials=!0,D.open("GET",_),D.send(),h.info(s,"fetching vtt")});return()=>{C.isPending()&&C.cancel(),A&&URL.revokeObjectURL(A)}},[h,_]),{vttLoading:d,vttSrc:v,vttText:g}}E(c,"useVtt");const r=c;var a=e(6471059816);const i=new a.Ay("stories_av");function l(_){let{vtt:h,enableMediaCaptions:d}=_;const{vttSrc:f}=r(h);return!h||!f?null:t.createElement("track",{label:i.t("Captions"),kind:"captions",src:f,default:d})}E(l,"TextTrack"),l.displayName="TextTrack";const m=l},4916948857:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3134334389),n=e(8800777280);function o(){const[c,r]=(0,t.useState)(!1),a=(0,t.useRef)(),i=(0,t.useRef)(!1),l=(0,t.useRef)(!1),m=(0,t.useCallback)(()=>{clearTimeout(a.current),a.current=setTimeout(()=>{i.current||r(!1)},1300)},[]),_=(0,t.useCallback)(()=>{r(!1),l.current=!1},[]),h=(0,t.useCallback)(()=>{r(!0),l.current=!0,m()},[m]),d=(0,t.useCallback)(()=>{l.current&&(r(!0),m())},[m]),f=(0,t.useCallback)(v=>{const u=(0,n.A)(v.target,g=>(g==null?void 0:g.dataset.preventFade)==="true");i.current=u},[]);return(0,t.useEffect)(()=>()=>clearTimeout(a.current),[]),{mouseIsOverElement:c,onMouseLeave:_,onMouseEnter:h,onMouseMove:d,onMouseOver:f}}E(o,"useDetectMouseOverElement");const s=o},9758574739:(N,y,e)=>{"use strict";e.d(y,{e:()=>A});var t=e(3134334389),n=e(6122756707),o=e(7173172014),s=e(581167618),c=e(2683115972),r=e(5791351025),a=e(5059707046),i=e(7685945408),l=e(4967176632),m=e(8739505998),_=e(8668318456),h=e(2432967967),d=e(3603672985),f=e(6259241484),v=e(3416652175),u=e.n(v);const g={elementName:"dispatch",onClick:{enableClogAction:!0}},p={notificationName:"",notificationData:""},A=E(C=>{let{initialValues:T=p,validate:I,onCloseModal:M,megaphoneSpaceName:D,notificationList:O,channelScopedId:S}=C;const[R,U]=(0,t.useState)(!1),[P,L]=(0,t.useState)(!1),F=(0,n.wA)(),x=(0,t.useCallback)((B,W)=>{let{setSubmitting:K}=W;U(!1),L(!1);const{notificationName:H,notificationData:z}=B;if(!H){K(!1),U(!0);return}let Q={};if(z.length)try{Q=JSON.parse(z)}catch{K(!1),L(!0);return}M==null||M(),F((0,d.G0)({spaceName:D,notificationName:H,notificationData:Q,channelId:S})),D===f.xu.LAUNCH_MODAL&&F((0,h.A)())},[M,F,D,S]),b=(0,t.useMemo)(()=>t.createElement("div",{className:u().notificationName},"Notification Name"),[]),k=(0,t.useCallback)((B,W)=>T.notificationName?T.notificationName===B:W===0,[T.notificationName]);return t.createElement(o.A,{eventId:_.EventId.ANALYTICS_EVENT,uiComponentName:_.UiComponentName.MEGAPHONE_DISPATCHER,megaphoneSpaceName:D,clogImpression:!0},t.createElement(l.A,{initialValues:T,validate:I,onSubmit:x},B=>{let{isSubmitting:W,values:K}=B;return t.createElement(t.Fragment,null,t.createElement("h2",null,"\u{1F4E3} Megaphone Dispatcher"),"Click the Dispatch button below to instantly render Megaphone Notifications on the UI.",t.createElement("div",{className:u().spaceNameContainer},"Space Name",t.createElement("div",{className:u().spaceName},D)),t.createElement(r.A,{legendText:b,isRequired:!0},t.createElement("div",{className:u().notificationList},Object.keys(O).sort().map((H,z)=>t.createElement(a.i,{key:H,labelText:H,id:`field-radio-${z}`,name:"notificationName",value:H,checked:K.notificationName===H,focusOnMount:k(H,z)})))),t.createElement(i.A,{labelText:"Notification Data",optional:!0,name:"notificationData",id:"notificationData",placeholder:'Ex: { "Field Name": "<String Value>", "Field Name": <Numeric Value> }',className:u().textArea}),t.createElement("div",{className:u().alert},t.createElement(s.Ay,{type:"boxed",level:"warning",icon:"warning",align:"left"},t.createElement("span",{className:u().alertText},t.createElement("b",null,"Some Megaphone notifications may not be dispatched due to various reasons, such as but not limited to:"),t.createElement("li",null," Missing notification data "),t.createElement("li",null,"The notification being part of an experiment "),"For questions or further assistance, reach out to us at"," ",t.createElement("b",null,t.createElement(m.A,{href:"https://app.slack.com/client/E12KS1G65/C0765PUTPDL",target:"_blank"},"#proj-megaphone-dispatcher")),"."))),R&&t.createElement("div",{className:u().formError},"Please select a notification."),P&&t.createElement("div",{className:u().formError},"There was an error parsing Notification Data, please try again."),t.createElement(c.Ay,{autoClogProps:g,disabled:W,htmlType:"submit"},"Dispatch"))}))},"DispatcherForm");A.displayName="DispatcherForm"},4445888975:(N,y,e)=>{"use strict";e.d(y,{R:()=>a,h:()=>i});var t=e(3134334389),n=e(6122756707),o=e(2878685908),s=e(9506008067),c=e(3603672985),r=e(716227588);const a=E(()=>{const l=!(0,o.KV)()||(0,o.b3)(),m=(0,n.wA)(),_=(0,s.d4)(r.y$);return(0,t.useEffect)(()=>{const h=E(d=>{l&&d.ctrlKey&&d.shiftKey&&d.key==="M"&&m((0,c.cv)(!_))},"handleKeydown");return window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)}},[l,m,_]),{shouldShowDispatcherViewer:_}},"useDispatcherToggleShortcut"),i=E(function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const[m,_]=(0,t.useState)(l),h=(0,t.useCallback)(d=>{_(d)},[]);return{isModalOpen:m,toggleModal:h}},"useModal")},5062503310:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});const t={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",border:0,padding:0,background:"transparent"},overlay:{backgroundColor:"rgba(208, 208, 208, 0.4)",zIndex:1e4}}},4902318931:(N,y,e)=>{"use strict";e.d(y,{$W:()=>x,sl:()=>k,Ay:()=>B});var t=e(3134334389),n=e(6122756707),o=e(7173172014),s=e(8851980998),c=e(4348392507),r=e(4445888975),a=e(9758574739),i=e(5062503310),l=e(6258289677),m=e(2312625946),_=e(397939223),h=e.n(_);const d=E(W=>{let{megaphoneSpaceName:K,notificationList:H,channelScopedId:z}=W;const{isModalOpen:Q,toggleModal:q}=(0,r.h)(!1);return t.createElement("div",{className:h().container},t.createElement(m.Ay,{tip:K,position:"top",zIndex:"menu_above_fs"},t.createElement("span",{className:h().dispatcherViewerIcon,role:"button",tabIndex:0,"aria-label":"Open Viewer Modal",onClick:()=>q(!0)})),t.createElement(l.A,{isOpen:Q,onRequestClose:()=>q(!1),style:i.A},t.createElement("div",{className:h().dispatcherViewerDetails},t.createElement(a.e,{megaphoneSpaceName:K,notificationList:H,onCloseModal:()=>q(!1),channelScopedId:z}))))},"DispatcherViewer");d.displayName="DispatcherViewer";const f=(0,c.A)(d),v=E(W=>{let{children:K,megaphoneSpaceName:H,notificationList:z,channelScopedId:Q}=W;const{shouldShowDispatcherViewer:q}=(0,r.R)();return t.createElement(t.Fragment,null,q&&t.createElement("div",{className:h().dispatcherViewer},t.createElement(f,{megaphoneSpaceName:H,notificationList:z,channelScopedId:Q})),K)},"DispatcherToggle");v.displayName="DispatcherToggle";const u=(0,c.A)(v);var g=e(4003148341),p=e(1963690015),A=e(9881565722),C=e(9506008067),T=e(4761125736),I=e(3603672985),M=e(716227588),D=e(1655938719),O=e(2938177083),S=e(7003004874),R=e(6259241484),U=e(7487228876),P=e(2567914105);const L={isInMegaphoneContainerContext:!0},F={isInMegaphoneContainerContext:!1},x=(0,t.createContext)(F),b=E(W=>{let{fetchDataOnMount:K,notifications:H,spaceName:z,children:Q,shouldAlwaysRenderChildren:q,shouldPassPropsToChildren:$,channelScopedId:le,componentClassName:te,...ce}=W;var me;const _e=(0,n.wA)(),Ae=(0,g.x)(),ye=(0,C.d4)(P.oY),oe=(0,C.d4)(M.up),ee=(0,C.d4)(he=>(0,T._Z)(he,"megaphone_coachmark_suppression")==="on"),V=(0,C.d4)(he=>(0,T._Z)(he,"megaphone_eligible_notifications")==="on"),{isInsideModal:w}=(0,A.k)(),Y=(0,C.d4)(he=>(0,M.Hp)(he,z,le)),G=(0,C.d4)(he=>(0,M.OL)(he,z,le)),Z=(0,t.useMemo)(()=>{if(!V)return;const{eligibleNotifications:he}=G;if(he!=null&&he.length)return he},[V,G]),se=(0,t.useCallback)(()=>{_e((0,S.A)({notificationName:Y,action:R.hw.IMPRESSION}))},[_e,Y]),ae=(0,t.useCallback)(()=>_e((0,O.Ay)({spaceName:z,action:R.hw.DISMISS})),[_e,z]),re=(0,t.useCallback)(()=>{_e((0,D.iR)({event:{type:R.jo.REQUEST_SPACES,spaces:[z]}}))},[_e,z]),pe=E(()=>q?$&&t.isValidElement(Q)?t.cloneElement(Q,{...ce}):t.createElement(u,{channelScopedId:le,megaphoneSpaceName:z,notificationList:H},Q):t.createElement(u,{channelScopedId:le,megaphoneSpaceName:z,notificationList:H},null),"maybeRenderChildren");pe.displayName="maybeRenderChildren",(0,t.useEffect)(()=>{z&&K&&re()},[K,z,re]);const de=H==null||(me=H[Y])===null||me===void 0?void 0:me.component,ie=ee&&de&&!w&&ye&&z===R.xu.IN_PRODUCT_COACHMARK;if(ie&&!oe){_e((0,I.co)(!0));const he=Ae.createMetricsTrace({label:"megaphone",samplingOptions:{sampleType:s.tS.SESSION,sampleRate:.1}}),ve=he.count({name:"megaphone_coachmark_suppress"});ve.addTags({notification:Y}),ve.close(),Ae.reportTrace(he)}return!z||!Y||ee&&z===R.xu.IN_PRODUCT_COACHMARK&&oe||ie?pe():de?t.createElement(o.A,{megaphoneSpaceName:z,megaphoneNotificationName:Y,megaphoneEligibleNotifications:Z},t.createElement(x.Provider,{value:L},t.createElement(u,{megaphoneSpaceName:z,notificationList:H,channelScopedId:le},null),t.createElement(t.Suspense,{fallback:null},t.createElement(de,{...G,recordNotificationEventImpression:se,dismissAndClearNotification:ae,notificationName:Y,className:te,channelScopedId:le,...ce},Q)))):(H||(0,U.h)({spaceName:z,notificationName:Y}),pe())},"MegaphoneContainer");b.displayName="MegaphoneContainer";const k=(0,p.Ay)(b),B=b},3656161791:(N,y,e)=>{"use strict";e.d(y,{C:()=>t});const t={showStrangerProfile:!1,hideRestriction:!0,maybeShowPresenceIndicator:!1,maybeShowTitle:!1,maybeShowVerifiedFooter:!0,maybeShowEmailField:{showLabel:!1,showValue:!0},showFullProfileLink:!1,showOrganizationField:{showLabel:!0,showValue:!0},showProfilePicture:!0,showMemberProfileFields:!1,showMemberProfileButtons:!1}},8170244779:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(3134334389);const n=t.createContext({});n.displayName="MessageContext";const o=n},6658490498:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(3534324375),n=e(8677230210);function o(s){let{userId:c,botId:r,username:a,botProfile:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{member:l,bot:m}=(0,n.Od)(s,{userId:c,botId:r,botProfile:i});return l?(0,t.sE)(s,l):r&&a?a:m?m.name||"":!r&&!m&&a?a:""}E(o,"getMessageSenderNameFromState")},8950789382:(N,y,e)=>{"use strict";e.d(y,{s:()=>u});var t=e(6304789565),n=e(352142497),o=e(82287009),s=e(8999545852),c=e(3193155968),r=e(9938554271),a=e(3110884894),i=e(6514066170),l=e(755982243),m=e(337319621),_=e(485355941),h=e(6695353875),d=e(9932860381),f=e(7176966205),v=e(9629572172);const u=(0,t.Ay)("Opens a view in a new child window",async(g,p,A,C)=>{let{viewId:T,params:I,clogParams:M}=A;if(!(0,_.M2)())return;const D=p(),{isMainWindow:O}=C(v.U);if((0,h.yZ)(D)&&O&&(0,d.Xy)(T)){g((0,f.$)({viewId:T,params:I}));return}let S=!1;if((0,i.A)(D,T)){let R,U={[c.mq.Primary]:{id:T,params:I,viewType:(0,r.A)(T)}};U=g((0,s.VO)({viewSet:U,windowId:c.N2}));const P=(0,l.w)(T),L=P;if(T==="thread"&&(I!=null&&I.threadId)){const F=(0,a.Sb)(I==null?void 0:I.threadId).channelId;S=!0,U={[c.mq.Primary]:{id:F||(I==null?void 0:I.entityId),params:void 0,viewType:n.D.Channel},[c.mq.Secondary]:{id:T,params:I,viewType:n.D.Thread}},R=c.mq.Secondary}T==="channel_canvas"&&(U={[c.mq.Primary]:{id:I==null?void 0:I.channelId,params:void 0,viewType:n.D.Channel},[c.mq.Secondary]:{id:"channel_canvas",params:I,viewType:n.D.ChannelCanvas}}),g((0,o.Bb)({viewSet:U,shouldNavigateInContext:P,shouldShowSearch:L,...R&&{containerOrigin:R},clogParams:M??{uiComponentName:origin,entryPoint:"cmd_click"},forceSingleColumnMode:S}))}else(0,m.Ay)({getState:p}).action("CHILD-WINDOWS","skipped opening a Conversation View because the ID is not supported:",T)});u.meta={name:"createThunk",key:"createThunkmaybeOpenInWindow",description:"Opens a view in a new child window"}},4088523593:(N,y,e)=>{"use strict";e.d(y,{n:()=>s});var t=e(6304789565),n=e(2973590371),o=e(4117634716);const s=(0,t.Ay)("Opens a view in a different surface or falls back to opening in a regular surface",async(c,r,a)=>{const{e:i,navProps:l,clogParams:m}=a;await c((0,n.d)({e:i,navProps:l,clogParams:m}))||c((0,o.o)(l))});s.meta={name:"createThunk",key:"createThunkmaybeOpenInSurfaceOrNavigate",description:"Opens a view in a different surface or falls back to opening in a regular surface"}},2973590371:(N,y,e)=>{"use strict";e.d(y,{d:()=>r});var t=e(8729431059),n=e(4052707080),o=e(8950789382),s=e(485355941),c=e(6304789565);const r=(0,c.Ay)("Opens a view in a different surface",(a,i,l)=>{const{e:m,navProps:_,clogParams:h}=l,d=i();return(0,n.t)(d,{e:m})?(a((0,t.p)(_)),!0):(0,s.Cz)(m)?(a((0,o.s)({viewId:_.id,params:_.params,...h&&{clogParams:{uiComponentName:h.uiComponentName,entryPoint:h.entryPoint}}})),!0):!1});r.meta={name:"createThunk",key:"createThunkmaybeOpenInSurface",description:"Opens a view in a different surface"}},7439773700:(N,y,e)=>{"use strict";e.d(y,{C_:()=>m,MH:()=>h,Zj:()=>f,ik:()=>v,kh:()=>r,tl:()=>l,tw:()=>_,vu:()=>d,xu:()=>u});var t=e(3564619745),n=e(7729538251),o=e(6471059816);const s=new o.Ay("prefs"),c=E(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,n.JK)();return t.nW[g]},"getLocaleSpecificDefaults"),r=E(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,n.JK)();return{default:!0,fontFamily:c(g),label:t.qH,value:"lato"}},"getDefaultFontOption"),a=E(()=>{const g=s.t("{font} (Default)",{font:"Lato"}),p=s.t("{font} (System)",{font:t.qL}),A=t.qL?{label:p,value:"system-font",fontFamily:t.fd}:void 0,C=[{...r(),label:g},t.xw,t.ew,t.Ig,t.k7,t.zZ,t.Z2,t.qS];return A?C.concat([A]):C},"getSupportedFontOptions"),i=E(()=>({default:!1,label:s.t("Custom Font",{fallbackHash:"081ae3fdc403609cf6e760849ebb14117b7a50cb",fallbackHashNs:"emoji"}),value:"custom-font"}),"getCustomFontDefault"),l=E(g=>{let{includeCustomFont:p}=g;const A=a();return p?A.concat([i()]):A},"getAllFontOptions"),m=E(g=>{let{customFont:p,locale:A}=g;const C=A||(0,n.JK)(),T=c(C);return{...i(),fontFamily:`${p} , ${T}`}},"getCustomFontOption"),_=E(g=>g.slice().sort((p,A)=>{var C,T;return((C=p==null?void 0:p.label)!==null&&C!==void 0?C:"")<((T=A==null?void 0:A.label)!==null&&T!==void 0?T:"")?-1:1}),"sortFonts"),h=E(g=>Object.values(t.xo).some(p=>p.includes(g.toLowerCase())),"isSupportedFont"),d=E(g=>g.default===!0,"isDefaultFont"),f=E(g=>Object.keys(t.xo).find(p=>t.xo[p].includes(g.toLowerCase())),"getSupportedFontValue"),v=E(g=>{let{fontValue:p,includeCustomFont:A}=g;var C;return(C=l({includeCustomFont:A}).find(T=>T.value===p))!==null&&C!==void 0?C:void 0},"getFontOptionForFontValue"),u=E(g=>!t.hb.includes(g),"isCustomTypefaceSupportedLocale")},4116177835:(N,y,e)=>{"use strict";e.d(y,{A:()=>z});var t=e(3134334389),n=e(3297051565),o=e.n(n),s=e(9391594207),c=e(3514831633),r=e(6122756707),a=e(2409900369),i=e(6471059816),l=e(6916052175),m=e(4980558152),_=e(1002129445),h=e(9236644324),d=e(8668318456),f=e(3170230049),v=e(9456841042),u=e(5644445851),g=e(9506008067),p=e(2891736215),A=e(6952523491),C=e(2762206868),T=e(5795074931),I=e(8677230210),M=e(613926746),D=e(8276911661),O;(function(Q){Q.GO_TO_APP="go_to_app",Q.VIEW_DIRECTORY="view_directory",Q.COPY_APP_NAME="copy_app_name",Q.COPY_APP_LINK="copy_app_link",Q.REMOVE_FROM_CHANNEL="remove_from_channel",Q.VIEW_PROFILE="view_profile"})(O||(O={}));const S=new i.Ay("menu"),R=E(Q=>{var q;const{memberId:$,serviceId:le,homeWorkspaceId:te,children:ce,appId:me,includeRemoveFromChannelAction:_e,channelId:Ae}=Q,ye=(0,g.d4)(A.J),oe=(0,g.d4)(J=>(0,I.AF)(J,le)),ee=(0,g.d4)(J=>(0,D.nv)(J,$)),V=(0,l.u)(ee),w=oe?oe.app_id:void 0,Y=(0,g.d4)(J=>ye?(0,C.sO)(J,{appId:me||w,memberId:$,serviceId:le}):(0,p.G2)(J,{appId:me||w,serviceId:le,homeWorkspaceId:te,memberId:$})),G=$||(Y==null||(q=Y.app_user)===null||q===void 0?void 0:q.id),Z=(0,r.wA)(),se=(0,_.fj)(Y),ae=(0,g.d4)(J=>(0,_.vu)(J,Y)),re=(0,g.d4)(J=>(0,_.FN)(J,Y)),pe=(0,g.d4)(J=>(0,_.i1)(J,Y)),de=ae&&re||pe,ie=(0,g.d4)(J=>(0,_.iV)(J,Y)),he=(0,g.d4)(T.TZ),ve=(0,g.d4)(f.e),ge=(0,t.useCallback)(J=>{ve.track(d.EventId.CONTEXT_MENU_ACTION,{label:J,is_iap1:!0})},[ve]),ke=(0,t.useCallback)(()=>{ge(O.VIEW_DIRECTORY)},[ge]),Ne=(0,t.useCallback)(()=>{ge(O.GO_TO_APP),(0,M.Z)({memberId:G})},[ge,G]),We=(0,t.useCallback)(()=>{ge(O.COPY_APP_NAME),(0,h.x3)(se)},[ge,se]),Oe=(0,t.useCallback)(()=>{ge(O.COPY_APP_LINK),(0,h.x3)(de)},[ge,de]),be=(0,t.useCallback)(()=>{ge(O.REMOVE_FROM_CHANNEL),Ae&&Z((0,u.A)({memberId:$,channelId:Ae}))},[Ae,ge,Z,$]),Ke=(0,t.useCallback)(()=>{ge(O.VIEW_PROFILE),Z((0,v.b)({memberId:$}))},[ge,Z,$]),Fe=(0,t.useCallback)(()=>{const J=[];return de&&!V&&(J.push({label:S.t("View in Slack Marketplace"),href:de,click:ke,dataQa:"bot_context_menu_app_directory"}),J.push({type:"separator"})),G&&ie&&!V&&(J.push({label:S.t("Go to app"),click:Ne}),J.push({type:"separator"})),V&&J.push({label:S.t("View profile"),click:Ke}),J.push({label:S.t("Copy name"),click:We}),de&&!V&&J.push({label:S.t("Copy link"),click:Oe}),_e&&Ae&&(J.push({type:"separator"}),J.push({label:S.t("Remove from channel"),click:be,danger:!0})),J},[de,V,G,ie,We,_e,Ae,ke,Ne,Ke,Oe,be]);return!he||!le?(0,a.A)(ce):t.createElement(m.A,{getTemplate:Fe,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0},ce)},"BotContextMenu");R.displayName="BotContextMenu";const U=R;var P=e(306565116),L=e(8847766420),F=e(3244118357),x=e(82287009);function b(){return b=Object.assign||function(Q){for(var q=1;q<arguments.length;q++){var $=arguments[q];for(var le in $)Object.prototype.hasOwnProperty.call($,le)&&(Q[le]=$[le])}return Q},b.apply(this,arguments)}E(b,"_extends");const k={children:o().oneOfType([o().element.isRequired,o().func.isRequired]).isRequired,menuProps:o().object,serviceId:o().string,memberId:o().string,homeWorkspaceId:o().string,memberIsHuman:o().bool,profileCardProps:o().object,appId:o().string,channelId:o().string},B={serviceId:void 0,memberId:void 0,homeWorkspaceId:void 0,menuProps:void 0,memberIsHuman:!1,profileCardProps:void 0,appId:void 0,channelId:void 0};let W=E(class extends t.Component{render(){const{serviceId:q,memberId:$,homeWorkspaceId:le,memberIsHuman:te,appId:ce,channelId:me}=this.props;return $&&te?t.createElement(P.A,{id:$},_e=>this.renderTrigger(_e)):q&&!te?t.createElement(U,{appId:ce,serviceId:q,memberId:$,homeWorkspaceId:le,channelId:me},_e=>this.renderTrigger(_e)):this.renderTrigger()}constructor(...q){var $;super(...q),$=this,this.renderProfileCard=le=>{const{serviceId:te,memberId:ce,homeWorkspaceId:me,memberIsHuman:_e,appId:Ae}=this.props;return(0,x.E9)({menuProps:le,serviceId:te,memberId:ce,homeWorkspaceId:me,memberIsHuman:_e,appId:Ae})},this.renderTrigger=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{children:te,serviceId:ce,memberId:me,homeWorkspaceId:_e,memberIsHuman:Ae,...ye}=$.props;return t.createElement(c.cQ,b({renderMenu:$.renderProfileCard,position:"right-bottom",allowanceY:24,offsetX:8},ye),oe=>(0,a.A)(te,oe,le))}}},"ProfileCardTrigger");W.displayName="ProfileCardTrigger",W.propTypes=k,W.defaultProps=B;const K=E((Q,q)=>{const{userId:$,botId:le,botProfile:te,serviceId:ce}=q,{member:me,bot:_e,memberIsHuman:Ae}=(0,I.Od)(Q,{userId:$,botId:le||ce,botProfile:te});let ye=null;if(!Ae||ce){const ee=(0,L.ZT)(Q);ye=(0,F.AW)({member:me,bot:_e,botProfile:te,currentTeamId:ee})}var oe;return{serviceId:_e&&_e.id||ce,memberId:me&&me.id,homeWorkspaceId:ye,memberIsHuman:Ae,appId:(oe=q.appId)!==null&&oe!==void 0?oe:_e==null?void 0:_e.app_id}},"mapStateToProps"),z=(0,s.N)(K)(W)},3405119017:(N,y,e)=>{"use strict";e.d(y,{An:()=>c,Bp:()=>f,Ez:()=>i,MT:()=>l,Mm:()=>m,NR:()=>a,S9:()=>o,VC:()=>u,Wg:()=>C,_o:()=>_,b5:()=>h,eq:()=>g,ie:()=>d,ne:()=>A,r:()=>p,wy:()=>T});var t=e(8668318456);const n="landing_page_trials_treatment",o=E(I=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"comparePlansLink",onClick:{enableClogAction:!0},stepVariant:I}),"getStpComparePlansAutoClogProp"),s={eventId:t.EventId.NEWXP_TEAM_CREATE,action:t.UiAction.CLICK,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,onClick:{enableClogAction:!0}},c={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"pro-forward-accordion"},r={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SIDEBAR_MENU_STRAIGHT_TO_PAID_UPGRADE_PRO_BUTTON,elementName:"sidebar_menu_straight_to_paid_upgrade_pro_button",onClick:{enableClogAction:!0}};function a(I){return{...r,stepVariant:I}}E(a,"getStraightToPaidSidebarMenuOfferButtonAutoClogProps");const i={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_PRIMARY_TIME_LIMIT,elementName:"straight_to_paid_workspace_menu_primary_time_limit",clogImpression:!0},l={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_SECONDARY_UPGRADE_CTA,elementName:"straight_to_paid_workspace_menu_secondary_upgrade_cta",clogImpression:!0},m={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_SECONDARY_UPGRADE_CTA,elementName:"straight_to_paid_workspace_menu_secondary_upgrade_button",onClick:{enableClogAction:!0}},_=E(I=>{let{isProVariant:M,stepVariant:D}=I;return{...s,elementName:`plans_lite_modal_start_${M?"pro":"free"}_button`,stepVariant:D}},"getModalButtonAutoClogProps"),h=E(I=>{let{isProVariant:M,stepVariant:D}=I;return{...s,elementName:M?"start_pro_button":"start_free_button",stepVariant:D}},"getStpCardsFreeOrProButtonAutoClogProps"),d=E(()=>({uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,stepVariant:"plans_lite_modal"}),"getStraightToPaidPlansLiteModalAutoclogProp"),f=E(()=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"plans_lite_modal_compare_plans_link",onClick:{enableClogAction:!0}}),"getSTPCheckoutLiteModalComparePlansAutoclogProp"),v={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"checkout_compare_plans_open_modal_link",onClick:{enableClogAction:!0}};function u(){return{contexts:{ui_context:{action:t.UiAction.COMPLETE,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"complete_checkout",element_type:t.ElementType.BUTTON}}}}}E(u,"getStraightToPaidCheckoutComplete");const g=E(I=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SIDEBAR_MENU_HEADER_STRAIGHT_TO_PAID_OFFER,elementName:"sidebar_menu_header_straight_to_paid_offer",stepVariant:I}),"getStpSidebarMenuOfferAutoClogProp");function p(I){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.SKIP,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"ineligible_for_straight_to_paid"},...I&&{entry_point:I}}}}}E(p,"getStraightToPaidSkippedClog");function A(I,M,D){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.IMPRESSION,step_variant:I,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"plans_step"},...M&&{entry_point:M},...D&&{ui_component_variant:D}}}}}E(A,"getProForwardImpressionClog");const C={eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.IMPRESSION,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_component_variant:`${n}_content`}}};function T(I){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.IMPRESSION,ui_properties:{element_name:"guided_trial_sidebar_peek_view_stp_cta"},step_variant:I}}}}E(T,"getStraightToPaidTrialsPeekCTAImpressionClog")},8142308213:(N,y,e)=>{"use strict";e.d(y,{C6:()=>l,Q5:()=>d,Q8:()=>h,eA:()=>f});var t=e(4518410378),n=e(4094753332),o=e(1318506593),s=e(8856751930),c=e(7883982244),r=e(3009309149),a=e(4761125736),i=e(4226799436);const l={ADMIN:"admin",WORKSPACES:"workspaces",WORKSPACE_SWITCHER:"workspace_switcher",TAB_RAIL:"tab_rail",OS_MENU:"os_menu",SIGNIN_HEADER:"signin_header",SIGNIN_CREATE_WORKSPACE_ALERT:"signin_create_workspace_alert",WORKSPACE_SIGNIN:"workspace_signin",PROMO_SUCCESS:"promo_success",PROMO_FAILED:"promo_failed",FAQS:"faqs",LANDING_CHANGE_EMAIL:"landing_change_email",LANDING_SYSTEM_ERROR:"landing_system_error",LANDING_DIFFERENT_EMAIL:"landing_different_email",LANDING_WORKSPACE_NOT_FOUND:"landing_workspace_not_found",SSB_LANDING:"ssb_landing",SHARED_INVITE_LANDING:"shared_invite_landing",NO_WORKSPACE:"no_workspace",FIND_WORKSPACE:"find_workspace",HEADER:"header",SLACK_CONNECT:"slack_connect",PRIVACY:"privacy_visibility"},m={"salesforce.com":"salesforce","google.com":"google"},_=E(v=>v?decodeURIComponent(v).trim():"","sanitizeParam"),h=(0,r.Ay)(v=>{var u;if(!((0,a._Z)(v,"add_team_creation_flow_segmentation")==="on"))return;const{entry_point:p,utm_source:A,source:C,lpt:T}=(0,o.qN)(t.J.location.href),I=(0,c.W)(),M=(0,i.JK)(v),D=(0,s.fo)(),O=_((u=t.J.document)===null||u===void 0?void 0:u.referrer),S=T==="1"?"landing_page_trials":"",R=_(C),U=_(p),P=_(A);var L;const F=(L=m[P])!==null&&L!==void 0?L:P;return I?"remote_promo":M||D||U||S||F||R||O||"unknown"});h.meta={name:"createSelector",key:"createSelectorgetEntrypointFromURL",description:v=>{var u;if(!((0,a._Z)(v,"add_team_creation_flow_segmentation")==="on"))return;const{entry_point:p,utm_source:A,source:C,lpt:T}=(0,o.qN)(t.J.location.href),I=(0,c.W)(),M=(0,i.JK)(v),D=(0,s.fo)(),O=_((u=t.J.document)===null||u===void 0?void 0:u.referrer),S=T==="1"?"landing_page_trials":"",R=_(C),U=_(p),P=_(A);var L;const F=(L=m[P])!==null&&L!==void 0?L:P;return I?"remote_promo":M||D||U||S||F||R||O||"unknown"}};const d=(0,r.Ay)(function(v,u){let{skipExperimentCheck:g=!1,getOnlyValue:p=!1,skipUrlCheck:A=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const C=!g&&(0,a._Z)(v,"add_team_creation_flow_segmentation")==="on";if(!g&&!C)return;const{entry_point:T}=(0,o.qN)(t.J.location.href);if(!A&&T)return;let I=u;return(0,n.y3)()&&(I=`${u}_ssb`),p?I:`entry_point=${I}`});d.meta={name:"createSelector",key:"createSelectorgetEntrypointString",description:function(v,u){let{skipExperimentCheck:g=!1,getOnlyValue:p=!1,skipUrlCheck:A=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const C=!g&&(0,a._Z)(v,"add_team_creation_flow_segmentation")==="on";if(!g&&!C)return;const{entry_point:T}=(0,o.qN)(t.J.location.href);if(!A&&T)return;let I=u;return(0,n.y3)()&&(I=`${u}_ssb`),p?I:`entry_point=${I}`}};const f=E(()=>t.J.location.search?`${t.J.location.search}&`:"?","getQueryString")},4173072539:(N,y,e)=>{"use strict";e.d(y,{A:()=>a});var t=e(3134334389),n=e(6690263587),o=e(6839188756),s=e(2312625946),c=e(7171435821);const r=E(i=>{let{invitingTeam:l}=i;const m=l.domain&&`${(0,o.k7)(l.id,l.domain)}.${(0,c.Xk)()}`,_=t.createElement(n.A,{id:l.id,team:l,shouldMaybeOpenOrgCard:!0,shouldMaybeShowVerified:!0,bold:!0,tabIndex:m?0:void 0});return m?t.createElement(s.Ay,{tip:m},t.createElement("span",null,_)):_},"InvitingTeamName");r.displayName="InvitingTeamName";const a=r},3694049677:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3134334389),n=e(2805783620),o=e(2312625946);const s=E(r=>{let{invitingUser:a,showEmailTooltip:i=!0}=r;var l;const m=a==null||(l=a.profile)===null||l===void 0?void 0:l.email,_=i&&m,h=t.createElement(n.A,{member:a,skipPrefCompliance:!0,tabIndex:_?0:void 0});return _?t.createElement(o.Ay,{tip:m},h):h},"InvitingUserName");s.displayName="InvitingUserName";const c=s},2408732225:(N,y,e)=>{"use strict";e.d(y,{n:()=>l});var t=e(3134334389),n=e(3150724727),o=e(5622140641),s=e(3656161791),c=e(6415587347);let r=null;const i=E(()=>(r===null&&(r=document&&document.documentElement&&document.documentElement.hasAttribute("data-primer")),r),"isPrimer");class l extends t.PureComponent{render(){var _,h;const{className:d,team:f,user:v,size:u,allowDefaultProfileImage:g,fallbackUserIcon:p,fallbackUserIcon2x:A,isInteractive:C,hideUserIcon:T}=this.props,I=!!(!((_=v.profile)===null||_===void 0)&&_.is_custom_image),M=!!p||!!A,D=!(!((h=f.icon)===null||h===void 0)&&h.image_default),{imageUrl:O,imageUrl2x:S}=this.getProfileImages();if((I||g||M)&&!T){const R=v.profile.real_name;return t.createElement(n.f1,{className:d,imageUrl:I||g?O:p,imageUrl2x:I||g?S:A,memberOrBotName:R,size:u,teamId:f.id,team:f,isInteractive:C&&!i()&&!!v.id,renderCustomBadge:this.renderTeamBadge,showCard:!0,userId:v.id,profileCardProps:{allowOutsideOfSonic:!0,maybeAllowInteract:!1,...s.C}})}return D?t.createElement(o.U,{teamName:f.name,icon:f.icon,size:u,className:d}):null}constructor(_){super(_),this.renderTeamBadge=()=>null,this.getProfileImages=()=>{var u;const{team:g,user:p,size:A}=this.props,C=(0,c.Ay)({size:A,teamOrEnterpriseId:g.id,memberId:p.id,avatarHash:(u=p.profile)===null||u===void 0?void 0:u.avatar_hash}),T=(C==null?void 0:C.imageUrl)||"",I=C!=null&&C.imageUrl2x?`${C.imageUrl2x} 2x`:"";return{imageUrl:T,imageUrl2x:I}};const{team:h,allowTeamInitials:d,shouldRenderTeamBadge:f,teamIconSize:v}=_;f&&(this.renderTeamBadge=(0,n.fp)({isExternal:!0,team:h,teamId:h.id,allowTeamInitials:d,teamIconSize:v}))}}E(l,"UserIcon"),l.defaultProps={shouldRenderTeamBadge:!1,allowTeamInitials:!1,allowDefaultProfileImage:!1,className:"p-shared_channel_invite_header__avatar",isInteractive:!0,hideUserIcon:!1},l.displayName="UserIcon"},7599421656:(N,y,e)=>{"use strict";e.d(y,{B:()=>o});var t=e(2384831516),n=e(4761125736);const o=(0,t.Mz)(s=>(0,n._Z)(s,"shortcuts_workspace_picker")==="on");o.meta={name:"createSelector",key:"createSelectorshouldShowShortcutsSpeedbump",description:s=>(0,n._Z)(s,"shortcuts_workspace_picker")==="on"}},7094978947:(N,y,e)=>{"use strict";e.d(y,{T:()=>r,o:()=>a});var t=e(3134334389),n=e(8683010724),o=e(9506008067),s=e(7026948475);function c(){return c=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(i[_]=m[_])}return i},c.apply(this,arguments)}E(c,"_extends");const r=E(function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,o.d4)(m=>(0,s.e)(m,i))},"useSlackAiIconProps"),a=E(i=>{let{type:l,variation:m,..._}=i;const h=r({type:l,variation:m});return t.createElement(n.A,c({},_,h))},"SlackAiIcon");a.displayName="SlackAiIcon"},6174202672:(N,y,e)=>{"use strict";e.d(y,{Ev:()=>a,NE:()=>m,XV:()=>s,bg:()=>l,e9:()=>r,i2:()=>o,jA:()=>c,vH:()=>_,x:()=>i});var t=e(7274827479),n=e(4761125736);const o=E(h=>(0,n._Z)(h,"slackbot_canvas_ai_fe")==="on"&&(0,t.OT)(h),"isSlackbotCanvasAiFeEnabled"),s=E(h=>(0,n._Z)(h,"slack_ai_action_items_admin_setting")==="on","isSlackAiActionItemsAdminDashboardEnabled"),c=E(h=>(0,n._Z)(h,"slack_ai_huddles_automatic_notes")==="on"&&(0,t.Vf)(h),"isSlackAiHuddlesAutomaticNotesEnabled"),r=E(h=>(0,n._Z)(h,"slack_ai_huddle_notes_reply_nudge")==="on"&&(0,t.Vf)(h),"isSlackAiHuddleNotesReplyNudgeEnabled"),a=E(h=>(0,n._Z)(h,"slack_ai_huddles_automatic_notes")==="on","isSlackAiHuddlesAutomaticNotesAdminDashboardEnabled"),i=E(h=>(0,n._Z)(h,"ai_message_analysis")==="on"&&(0,t.OT)(h),"isAiMessageAnalysisEnabled"),l=E(h=>(0,n._Z)(h,"ai_analyze_message_action")==="on"&&(0,t.OT)(h),"isAiAnalyzeMessageActionEnabled"),m=E(h=>(0,n._Z)(h,"native_ai_profile_summary")==="on"&&(0,t.OT)(h),"isAiProfileSummaryEnabled"),_=E(h=>(0,n._Z)(h,"ai_profile_summaries_i18n")==="on","isAiProfileSummariesI18nEnabled")},9874616273:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3134334389),n=e(9432515904);const o=E(c=>{let{width:r=20,height:a=20,className:i="",theme:l}=c;const m=l===n.Sx.Dark?"/img/slack_logo_white_text.svg":"/img/slack_logo.svg";return t.createElement("div",{role:"banner"},t.createElement("img",{className:i,src:m,alt:"Slack",width:r,height:a}))},"SlackLogo");o.displayName="SlackLogo";const s=o},5144644376:(N,y,e)=>{"use strict";e.d(y,{n:()=>o});var t=e(8180302442),n=e(5597672932);const o=E(s=>!(!(0,t.g)(s)||!(0,n.xp)(s,"allow_custom_solution_templates")),"isCustomSolutionsEnabledForUser")},7841516218:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(4711108074),n=e.n(t),o=e(8668318456),s=e(56548687),c=e(5477482530);function r(a,i,l){let m=0;const _=new(n()),h=(0,s.e)();return a.forEach(d=>{const f=d.globalIndex-m;if(f>0&&_.retain(f),l&&d.type==="emoji"){_.retain(d.length),m=d.globalIndex+d.length;return}if(_.delete(d.length),d.type==="emoji"){const v={slackemoji:{text:d.label}};_.insert(v,{...d.formats})}else{const v=(0,c.A)(d.id,d.label,i);d.id==="UNVERIFIED"?h.track(o.EventId.MSG_AUTO_POTENTIAL_MENTION_CREATED,{}):h.track(o.EventId.MSG_AUTO_MENTION_CREATED,{}),_.insert(d.label,{...d.formats,slackmention:v})}m=d.globalIndex+d.length}),_}E(r,"buildPotentialMentionsDelta")},9410394460:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(3890290905),n=e(337319621);function o(s){let{globalIndex:c,results:r,matchLength:a,formats:i}=s;const l=r[0];return(0,n.Wo)().info("AUTOSLUG",`Creating emoji (${l.id})`),{id:l.id,label:`:${(0,t.Y)({name:l.name||""})}:`,globalIndex:c,length:a,formats:i,type:"emoji"}}E(o,"createPotentialEmojiObject")},6102481218:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(8086952004),n=e(8289365785),o=e(3929724715),s=e(4590455802),c=e(337319621);function r(a){let{globalIndex:i,results:l,matchLength:m,formats:_}=a;const h=(0,t.A)(l,v=>!(0,o.lo)(v)),d=(0,n.A)(l);if(!h&&!d)return null;const f=h||d;return(0,c.Wo)().info("AUTOSLUG",`Creating channel mention (${f==null?void 0:f.id})`),{id:(f==null?void 0:f.id)||"",label:`#${(0,s.j)(f)}`,globalIndex:i,length:m,formats:_,type:"mention"}}E(r,"createPotentialMentionChannelObject")},7334334660:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(8840779375),n=e(362134992),o=e(235108050),s=e(3078252698),c=e(8086952004),r=e(7035389884),a=e(337319621),i=e(181849556),l=e(4291335534);function m(_){let{state:h,text:d,label:f,globalIndex:v,localIndex:u,results:g,matchLength:p,formats:A}=_,C,T;const I={id:"UNVERIFIED",label:f,globalIndex:v,length:f.length,formats:A,type:"mention"};if(g.length===1&&g[0].is_broadcast_keyword)return(0,a.Wo)().info("AUTOSLUG",`Creating broadcast keyword mention (${g[0].id})`),C=(0,r.KX)(g[0]),{id:g[0].id,label:C,globalIndex:v,length:p,formats:A,type:"mention"};let M=(0,t.A)(g,D=>(0,l.Pc)((0,r.KX)(D)));M=M.concat((0,t.A)(g,D=>(0,l.Pc)((0,r.KP)(D)))),M=(0,n.A)((0,o.A)(M)),M.sort((D,O)=>((0,s.A)(O)?O.length:0)-((0,s.A)(D)?D.length:0));for(let D=0;D<M.length&&(T=M[D]||"",!(f.length>T.length));D+=1){const O=(0,l.Og)(T,d,u);if(O||g.length<=1){const S=g.filter((0,r.jE)(T));if((0,l.fN)(T,f)&&S.length===1&&(O||!S[0].is_usergroup))return(0,a.Wo)().info("AUTOSLUG",`Inserting real mention, only a single matching result (${S[0].id}). ${g.length} total results`),C=(0,r.KX)(S[0]),{id:S[0].id,label:C,globalIndex:v,length:g.length===1&&!O?I.length:T.length,formats:A,type:"mention"};if((0,l.fN)(T,f)&&S.length>1){(0,a.Wo)().info("AUTOSLUG",`${S.length} matching results, trying to break tie using frecency`);const R=h?(0,i.Zh)(h,{query:f,list:S}):[];if(R&&R.length>1&&R[0].rawFrecencyScore-R[1].rawFrecencyScore>=30){const U=(0,c.A)(S,{id:R[0].id});return C=U?(0,r.KX)(U):"",(0,a.Wo)().info("AUTOSLUG",`Inserting real mention, tie was broken using frecency (${R[0].id}=${R[0].rawFrecencyScore};${R[1].id}=${R[1].rawFrecencyScore})`),{id:(U==null?void 0:U.id)||"",label:C,globalIndex:v,length:g.length===1&&!O?I.length:T.length,formats:A,type:"mention"}}}if(O)return(0,a.Wo)().info("AUTOSLUG",`Inserting maybe-mention mention, expanded mention to cover name (${g.length} total results)`),I.label=d.substr(u,T.length),I.length=T.length,I}}return(0,a.Wo)().info("AUTOSLUG",`Fallback: Inserting maybe-mention (${g.length} total results)`),I}E(m,"createPotentialMentionObject")},2453977996:(N,y,e)=>{"use strict";e.d(y,{A:()=>g});var t=e(3078252698),n=e(8509961938),o=e(512148710),s=e(8405695339),c=e(3726677001),r=e(3183335528),a=e(9017940688),i=e(308057085),l=e(4547907890);const m=o.Nb.concat(["@","#","`","$","%","^","&","+","=","|",'"',"/"]),_=m.filter(p=>p!==".").map(p=>`\\${p}`).join("|"),h=m.filter(p=>p!=="."&&p!=="_").map(p=>`\\${p}`).join("|"),d=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${_}|$)`,"g"),f=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20#\uFF03].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${h}|$)`,"g"),v=new RegExp(`[\\.|\\s|${_}]+$`),u=new RegExp(`(${(0,n.A)().source})`,"g");function g(p){let{useChannelTagging:A=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!p)return[];let C=0;const T=[],I=A?f:d;return(0,s.A)(p,(M,D)=>{if((0,a.A)(D)||!(0,l.A)(M)||(0,r.A)(M)||(0,i.Ay)(M)){C+=(0,c.A)(M);return}(0,t.A)(M.insert)&&M.insert.replace(I,(S,R,U)=>{let P=U,L=R;const F=S.indexOf("@");F>0&&(P+=F);const x=S.indexOf("\uFF20");if(x>0&&(P+=x),A){const B=S.indexOf("#");B>0&&(P+=B);const W=S.indexOf("\uFF03");W>0&&(P+=W)}const b=R.length;L=R.replace(v,"");const k=A?L.replace(/^[@\uFF20#\uFF03]/,""):L.replace(/^[@\uFF20]/,"");k.length&&T.push({type:A&&["#","\uFF03"].includes(R.charAt(0))?"channel":"member",text:(0,t.A)(M.insert)?M.insert:"",matchLength:b,label:L,labelWithoutPrefix:k,localIndex:P,globalIndex:P+C})}),(0,t.A)(M.insert)&&M.insert.replace(u,(S,R,U,P)=>{let L=P;const F=S.indexOf(":");F>0&&(L+=F);const x=R.length,b=R.replace(/:/g,"");if(!b.length)return;const k=/^:[0-9]+:$/.test(S),B=(0,t.A)(M.insert)?M.insert.substring(0,P):"",W=/(^|\s)[0-9]+$/.test(B);k&&W||T.push({type:"emoji",text:(0,t.A)(M.insert)?M.insert:"",matchLength:x,label:R,labelWithoutPrefix:b,localIndex:L,globalIndex:L+C})}),C+=(0,c.A)(M)}),T}E(g,"getPotentialMentionMatches")},4206015041:(N,y,e)=>{"use strict";e.d(y,{A:()=>P});var t=e(3078252698),n=e(6217320234),o=e(4711108074),s=e.n(o),c=e(6845144532),r=e(7582939986),a=e(8509961938),i=e(8792003313),l=e(2056853624),m=e(3982736577),_=e(6317044431),h=e(9936232041),d=e(9907843289),f=e(1632207548),v=e(8405695339),u=e(1089076149),g=e(3726677001),p=e(3183335528),A=e(9017940688),C=e(2827252833),T=e(308057085),I=e(4547907890),M=e(8581994840),D=e(6859521351),O=e(6533394955),S=e(3829348308);const R=new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"ig"),U=E(L=>R.test(L),"isUnicodeChar");function P(L){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{useWysiwyg:!1,usePlainTextMode:!1,inlineEmojiIsEnabled:!1,emojiNames:[],locale:void 0,replaceNativeEmoji:!1,teamId:void 0};const x=new(s());let b=0,k=0;if(!F.inlineEmojiIsEnabled)return x;let B=null;return(0,v.A)(L,(W,K)=>{const H=!(0,A.A)(K),z=(0,g.A)(W);if(!H||!(0,I.A)(W)||(0,T.Ay)(W)||(0,p.A)(W)){b+=z,B=W;return}const Q=W.attributes;let q=[];const $=F.useWysiwyg&&!F.usePlainTextMode,le=(0,c.F)().getLocaleForLastViewedTeam();let te="";(0,d.DU)(le)&&(0,t.A)(W.insert)?te=W.insert.replace(/\uFF1A/g,":"):te=(0,t.A)(W.insert)?W.insert:"";const ce=$?[]:(0,f.A)(te);te.replace((0,a.A)(),(_e,Ae,ye)=>{if(!$&&(0,M.A)(ye,ce)||!$&&(0,D.A)((0,u.A)(L,0,b+ye)))return;let oe=(0,l.A)(_e,{emojiNames:F.emojiNames,locale:F.locale||"",teamId:F.teamId||""});if(oe){const ee=/^:[0-9]+:$/.test(oe),V=te.substring(0,ye),w=/(^|\s)[0-9]+$/.test(V);ee&&w&&(oe="")}oe&&q.push({match:oe,index:ye,matchLength:_e.length,attributes:Q})});const me=F.teamId&&(0,O.$D)(F.teamId);if(F.replaceNativeEmoji){const _e=(0,_.A)(F.teamId);te.replace(_e,(Ae,ye,oe,ee)=>{if(ee>0){const G=te.charAt(ee-1);if(G===r._x||U(G)&&_.p.includes(Ae))return}const V=(0,m.A)(Ae)||"",w=(0,S.qJ)(me,V),Y=w?`:${w}:`:null;Y&&q.push({match:Y,index:ee,matchLength:Ae.length,nativeEmojiReplacement:!0,attributes:Q})})}if(q=(0,n.A)(q,"index"),q.length){let _e=0,Ae=0;q.forEach((ye,oe)=>{let ee=!1,V=ye.match,w=0,Y=ye.matchLength;oe===0?w=b+ye.index-k:w=ye.index-_e-Ae;const G=V.match(i.x);let Z=null,se=null;if(G&&(se=parseInt(G[2],10)||null,Z=parseInt(G[3],10)||null),!ye.nativeEmojiReplacement&&oe===0&&ye.index===0&&G&&B&&(0,C.Ay)(B)){const ae=(0,h.A)((0,C.Um)(B));(!Z&&(0,S.Fm)(me,{text:(ae==null?void 0:ae.name)||"",teamId:F.teamId||""})||Z&&se!==Z&&(0,S.pA)(me,{text:(ae==null?void 0:ae.name)||"",teamId:F.teamId||""}))&&(w-=1,Y+=1,V=`:${ae==null?void 0:ae.name}:${V}`,ee=!0)}_e=ye.index,Ae=ye.matchLength,k=b+_e+Ae,(ee||!Z)&&(w&&x.retain(w),x.delete(Y).insert({slackemoji:{text:V}},ye.attributes))})}b+=z,B=W}),x}E(P,"buildEmojiReplacementDelta")},6989432693:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(3134334389),n=e(6471059816),o=e(4031325387),s=e(8170643398),c=e(8921478798),r=e(9506008067),a=e(8276911661);const i=new n.Ay("channel_token"),l=E(_=>{let{userId:h,isFirst:d,isSelf:f}=_;var v;const u=(v=(0,r.d4)(p=>(0,a.nv)(p,h)))!==null&&v!==void 0?v:void 0;let g=(0,r.d4)(p=>(0,c.I)(p,h));return(0,s.t8)(u)?t.createElement(o.A,{type:"unknown",subtler:!0}):(0,s.QR)(u)?t.createElement(o.A,{type:"non-existent",subtler:!0}):(f&&(g=d?i.t("You"):i.t("you")),t.createElement(t.Fragment,null,g))},"TooltipMemberName");l.displayName="TooltipMemberName";const m=t.memo(l)},924300050:(N,y,e)=>{"use strict";e.d(y,{A:()=>Ke});var t=e(3134334389),n=e(2664504268),o=e(9674520607),s=e(5220162857),c=e(7949425452),r=e(5431290584),a=e(1388835426),i=e(2683115972),l=e(980293773),m=e(7626894131),_=e.n(m),h=e(29804293),d=e.n(h),f=e(7749140866),v=e.n(f),u=e(5913806097),g=e.n(u),p=e(6636363964),A=e.n(p),C=e(9916635837),T=e.n(C),I=e(5760619139),M=e.n(I),D=e(668694090),O=e.n(D),S=e(555040584),R=e.n(S),U=e(6820844347),P=e.n(U),L=e(1347747715),F=e.n(L),x=e(8187362417),b=e.n(x),k=e(2005200212),B=e.n(k),W=e(2563333228),K=e.n(W),H=e(6754250580),z=e.n(H),Q=e(1714394002),q=e.n(Q),$=e(6435768457),le=e.n($),te=e(7417918922),ce=e.n(te),me=e(6869712815),_e=e.n(me),Ae=e(8089589194),ye=e.n(Ae),oe=e(5748605292),ee=e.n(oe),V=e(4071181961),w=e.n(V),Y=e(8071475775),G=e.n(Y),Z=e(9733499682),se=e.n(Z),ae=e(6050136004),re=e.n(ae),pe=e(5006029593),de=e.n(pe),ie=e(9753292423),he=e.n(ie),ve=e(3289703835),ge=e.n(ve),ke=e(9598582073),Ne=e.n(ke);function We(){return We=Object.assign||function(Fe){for(var J=1;J<arguments.length;J++){var ne=arguments[J];for(var je in ne)Object.prototype.hasOwnProperty.call(ne,je)&&(Fe[je]=ne[je])}return Fe},We.apply(this,arguments)}E(We,"_extends");const Oe={elementName:"explore_pro_features_btn",onClick:{enableClogAction:!0}},be=E(Fe=>{let{featureList:J,modalTitle:ne,modalSubtitle:je,buttonText:at,onCTAClick:nt,customFooter:Ge,maxWidth:Pe,onRequestClose:Le,UNSAFE_parentSelector:ze,videoTitle:Me,experimentPnpGoGroupTreatment:Ce}=Fe;const Qe=E(()=>t.createElement(s.Ay,{listItems:J}),"renderFeatureList"),Be={closeModal:Le,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:Pe,UNSAFE_parentSelector:ze},{translation:we,enableMediaCaptions:xe}=(0,a.S)({"de-DE":Ce?_():z(),"en-GB":Ce?d():q(),"en-US":Ce?v():le(),"es-ES":Ce?g():ce(),"es-LA":Ce?A():_e(),"fr-FR":Ce?T():ye(),"it-IT":Ce?M():ee(),"ja-JP":Ce?O():w(),"ko-KR":Ce?R():G(),"pt-BR":Ce?b():se(),"zh-CN":Ce?B():he(),"zh-TW":Ce?K():ge()}),Se=(0,n.A)(),Ye=(0,n.A)(),ot=[Se,Ye].join(" "),_t=(0,t.useMemo)(()=>{let pt=de(),vt=re();return Ce&&(pt=P(),vt=F()),{video:pt,videoPoster:vt}},[Ce]);return t.createElement(l.dW,We({closeButtonTone:"dark",className:Ne().modalBackground,labelledby:ot},Be),t.createElement(l.$m,{className:Ne().modalBackground},t.createElement("div",{className:Ne().bodyContainer},t.createElement("div",{className:Ne().listContainer},t.createElement(c.J,{ariaHidden:!0,className:Ne().proBadge,size:r.vj.Large}),t.createElement("h1",{id:Se,className:Ne().title},ne),t.createElement("h2",{id:Ye,className:Ne().subtitle},je),Qe(),Ge||t.createElement(i.Ay,{size:"medium",onClick:nt,className:Ne().ctaButton,autoClogProps:Oe},at)),t.createElement("div",{className:Ne().videoContainer},t.createElement("div",{className:Ne().videoPlayer},t.createElement(o.A,{src:_t.video,vtt:we,enableMediaCaptions:xe,videoPoster:_t.videoPoster,enableControls:!0,autoPlay:!1,title:Me}))))))},"Modal");be.displayName="Modal";const Ke=be},5220162857:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>K,CQ:()=>b,L_:()=>k,XC:()=>S,wj:()=>U});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(9392104102),c=e(6471059816),r=e(7260399618),a=e.n(r),i=e(3555024406),l=e.n(i),m=e(6362113145),_=e.n(m),h=e(5612399517),d=e.n(h),f=e(9754713110),v=e.n(f),u=e(8644018899),g=e.n(u),p=e(8720577475),A=e.n(p),C=e(3801841745),T=e(7729538251),I=e(8683010724),M=e(6696573656),D=e.n(M);const O=new c.Ay("trial_expiration_modals"),S={history:v(),headphones:_(),canvas:l(),buildings:g(),bolt:a(),play:a(),tools:A(),lists:d(),"shared-channel":g()},R=E(()=>{switch((0,T.JK)()){case"de-DE":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-de-DE").then(e.t.bind(e,6800060962,23));case"en-GB":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-en-GB").then(e.t.bind(e,5190658834,23));case"fr-FR":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-fr-FR").then(e.t.bind(e,647591414,23));case"ja-JP":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-ja-JP").then(e.t.bind(e,9297924654,23));case"en-US":default:return e.e("gantry-v2-async-lottie-trial-modal-slack-connect").then(e.t.bind(e,6342268209,23))}},"getSlackConnectAnimation"),U={history:()=>{switch((0,T.JK)()){case"de-DE":return e.e("gantry-v2-async-lottie-trial-modal-messages-de-DE").then(e.t.bind(e,3828726715,23));case"en-GB":return e.e("gantry-v2-async-lottie-trial-modal-messages-en-GB").then(e.t.bind(e,4311997919,23));case"fr-FR":return e.e("gantry-v2-async-lottie-trial-modal-messages-fr-FR").then(e.t.bind(e,8274489555,23));case"ja-JP":return e.e("gantry-v2-async-lottie-trial-modal-messages-ja-JP").then(e.t.bind(e,1968927099,23));case"en-US":default:return e.e("gantry-v2-async-lottie-trial-modal-messages-en-US").then(e.t.bind(e,4244940908,23))}},headphones:()=>e.e("gantry-v2-async-lottie-trial-modal-huddles.json").then(e.t.bind(e,3020879619,23)),canvas:()=>e.e("gantry-v2-async-lottie-trial-modal-canvas.json").then(e.t.bind(e,5417726912,23)),buildings:R,play:()=>e.e("gantry-v2-async-lottie-trial-modal-apps.json").then(e.t.bind(e,9702269844,23)),bolt:()=>e.e("gantry-v2-async-lottie-trial-modal-apps.json").then(e.t.bind(e,9702269844,23)),tools:()=>e.e("gantry-v2-async-lottie-trial-modal-templates.json").then(e.t.bind(e,8131963541,23)),"shared-channel":R,lists:()=>e.e("gantry-v2-async-lottie-trial-modal-lists.json").then(e.t.bind(e,1734664547,23))},P={"en-GB":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-en-GB.json").then(e.t.bind(e,2450338219,23)),"fr-FR":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-fr-FR.json").then(e.t.bind(e,8873227255,23)),"ja-JP":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-ja-JP.json").then(e.t.bind(e,8007093194,23)),"de-DE":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-de-DE.json").then(e.t.bind(e,2760408041,23))},L={history:{"en-GB":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-en-GB.json").then(e.t.bind(e,9570554074,23)),"fr-FR":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-fr-FR.json").then(e.t.bind(e,7096086790,23)),"ja-JP":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-ja-JP.json").then(e.t.bind(e,3015913705,23)),"de-DE":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-de-DE.json").then(e.t.bind(e,3095723524,23))},buildings:P,"shared-channel":P},F=E(H=>H in L,"isLocalizedIconName"),x=E((H,z)=>z in H,"isLocale"),b=E((H,z)=>{if(!F(H))return;const Q=L[H];return x(Q,z)?Q[z]:void 0},"getIconToAnimationMapLocalized"),k=E(function(){let{experimentPnpGoGroupTreatment:H=!1,newCopyVariant:z=!1,trialAwarenessModalVariant:Q=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q={history:{iconName:"history",title:O.t("Unlimited message and file history"),text:O.t("Keep and find answers in your team\u2019s archive")},huddles:{iconName:"headphones",title:O.t("Group huddles"),text:O.t("Voice and video conversations with your team")},files:{iconName:"canvas",title:O.t("Canvases and lists"),text:O.t("Share and track work in Slack")},slackConnect:{iconName:"buildings",title:O.t("Slack Connect channels"),text:O.t("Work with people from other organizations")},workflows:{iconName:"bolt",title:O.t("More apps and unlimited workflows"),text:O.t("Connect tools to Slack and build no-code automations")}};return z&&(q={...q,history:{...q.history,title:O.t("Unlimited message history"),text:O.t("Search and view all of your team\u2019s public messages and files, which are stored indefinitely on a paid plan.")},huddles:{...q.huddles,text:O.t("Talk things out live with audio and video huddles. Share your screen, annotate and enable live captions.")},tools:{iconName:"tools",title:O.t("Premium productivity tools and templates"),text:O.t("Share, track and manage work with canvases, lists, workflows and more.")},slackConnect:{...q.slackConnect,title:O.t("Work with people at other organizations"),text:O.t("Make collaborating with outside partners and clients as fast and simple as working with in-house teams.")},workflows:{...q.workflows,iconName:"play",title:O.t("More connected apps"),text:O.t("Schedule meetings, file tickets, track tasks, and more, by bringing tools your team already uses into Slack.")}}),H&&(q={...q,files:{...q.files,iconName:"tools",title:O.t("Premium productivity tools and templates"),text:O.t("Track and share work with lists and unlimited canvases")},slackConnect:{...q.slackConnect,iconName:"shared-channel",title:O.t("Slack Connect channels"),text:O.t("Work with people from other organizations")},huddles:{...q.huddles,title:O.t("Group voice and video huddles"),text:O.t("Instantly connect with screen sharing and more")},workflows:{...q.workflows,title:O.t("Unlimited apps and workflows"),text:O.t("Access tools you use everyday and automate tasks")}},Q&&(q={...q,files:{...q.files,text:O.t("Share, track and manage work with canvases and lists")},slackConnect:{...q.slackConnect,title:O.t("Slack Connect")},huddles:{...q.huddles,title:O.t("Group huddles"),text:O.t("Talk it out on a video call with screen sharing")},workflows:{...q.workflows,title:O.t("Unlimited apps and workflows"),text:O.t("Access tools you use everyday and automate tasks")}})),[q.history,q.huddles,...q.tools?[q.tools]:s.Ml,...z?s.Ml:[q.files],q.slackConnect,q.workflows]},"getFeatureList"),B=E(H=>{let{iconClassName:z,iconName:Q,title:q,text:$}=H;return t.createElement(C.A,{alignItems:"flex-start"},t.createElement("div",{className:o()(D().icon,z)},t.createElement(I.A,{name:Q,size:"20","aria-describedby":Q,role:"img","data-qa":`icon-${Q}`})),t.createElement(C.A,{flexDirection:"column"},t.createElement("div",{className:D().title},q),t.createElement("div",{className:D().text},$)))},"FeaturesListItem");B.displayName="FeaturesListItem";const K=E(H=>{let{className:z,iconClassName:Q,listItems:q}=H;return t.createElement(C.A,{gap:12,flexDirection:"column",className:o()(D().featuresListContainer,z)},q.map($=>t.createElement(B,{key:$.title,iconClassName:Q,iconName:$.iconName,title:$.title,text:$.text})))},"FeaturesList")},6318661545:(N,y,e)=>{"use strict";e.d(y,{jY:()=>o,pm:()=>c,z6:()=>s});var t=e(8668318456);const n=t.EventId.UPGRDEXP_BENEFITS,o=E(()=>({eventId:n,uiComponentName:t.UiComponentName.PRO_TO_BIZ_PLUS_BOOST_MODAL}),"getProToBizPlusUpgradeModalAutoClogProps"),s=E(()=>({eventId:n,uiStep:t.UiStep.ADMIN_MENU,elementName:"pro_to_biz_plus_modal_compare_plans_link",onClick:{enableClogAction:!0}}),"getProToBizPlusUpgradeModalComparePlansAutoclogProp"),c=E(()=>({eventId:n,uiStep:t.UiStep.ADMIN_MENU,elementName:"pro_to_biz_plus_modal_inquire_with_sales_link",onClick:{enableClogAction:!0}}),"getProToBizPlusUpgradeModalInquireWithSalesAutoclogProp")},1267040415:(N,y,e)=>{"use strict";e.d(y,{A:()=>d});var t=e(3134334389),n=e(7173172014),o=e(6471059816),s=e(2683115972),c=e(8739505998),r=e(2312625946),a=e(8668318456),i=e(6323355797),l=e(9506008067);function m(){return m=Object.assign||function(f){for(var v=1;v<arguments.length;v++){var u=arguments[v];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[g]=u[g])}return f},m.apply(this,arguments)}E(m,"_extends");const _=new o.Ay("plan_change"),h=E(f=>{let{children:v,planLevel:u,entryPoint:g,feature:p,hash:A,action:C,useLink:T,refToForward:I,productId:M,productLevel:D,tooltipProps:O,...S}=f;const R=(0,l.d4)(L=>(0,i.m6)(L,{entryPoint:g,productId:M,productLevel:D,action:C,feature:p,hash:A,planLevel:u})),U=T?c.A:s.Ay,P=t.createElement(U,m({ref:I},S,{href:R}),v);return t.createElement(n.A,{eventId:a.EventId.UPGRDEXP_UPSELL_PROMPTS,clogImpression:!0},O?t.createElement(r.Ay,m({tip:_.t("Upgrade")},O),P):P)},"PlansPageCTABase");h.displayName="PlansPageCTABase";const d=t.forwardRef((f,v)=>t.createElement(h,m({},f,{refToForward:v})))},4177200783:(N,y,e)=>{"use strict";e.d(y,{A:()=>A});var t=e(3134334389),n=e(6122756707),o=e(7173172014),s=e(6471059816),c=e(1743656885),r=e(5712872315),a=e(8719380546),i=e(8668318456),l=e(9506008067),m=e(4761125736),_=e(9003400431);const h=new s.Ay("msg_input"),d={elementName:"learn_more",onClick:{enableClogAction:!0}},f=E(C=>{let{isScheduledMessage:T}=C;const I=(0,n.wA)(),M=(0,t.useCallback)(()=>{I((0,_.O)())},[I]);if(!(0,l.d4)(R=>(0,m._Z)(R,"upgrd_5684")==="on"))return null;const O=T?h.t("Message not scheduled"):h.t("Message not sent"),S=h.rt("Your team isn\u2019t able to send messages right now. Review any apps or webhooks that may be sending a high-volume of messages. <learnMoreLink>Learn more</learnMoreLink> about message limits.",{fallbackHash:"a15c5b3859af53dcefc79016b421009c7adc9bf6","<learnMoreLink>":R=>{let{text:U}=R;return t.createElement(c.A,{"data-qa":"Message-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:d,forceOpenInBrowser:!0},U)}});return t.createElement(o.A,{eventId:i.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:i.UiComponentName.MESSAGE_LIMIT_ERROR_MODAL},t.createElement(a.A,{"data-qa":"message-limit-error-modal",title:O,titleIcon:"warning",bodyContent:S,onRequestClose:M,theme:r.B.ERROR}))},"MessageLimitErrorModal");f.displayName="MessageLimitErrorModal";const v=f;var u=e(6304789565),g=e(2375333597);const p=(0,u.Ay)("Open modal when a message send fails due to team having hit the message limit",function(C,T){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C((0,g.q)({element:t.createElement(v,I)}))});p.meta={name:"createThunk",key:"createThunkopenMessageLimitErrorModal",description:"Open modal when a message send fails due to team having hit the message limit"};const A=p},8815446456:(N,y,e)=>{"use strict";e.d(y,{z:()=>c});var t=e(3134334389),n=e(6323355797),o=e(9506008067),s=e(3554387543);const c=E(()=>{const r=(0,o.d4)(s.sz),a=(0,o.d4)(s.yQ);return(0,t.useMemo)(()=>{const i={[n.F2.FREE]:{pro:!0,plus:!0,enterprise:!0},[n.F2.STD]:{pro:a,plus:!0,enterprise:!0},[n.F2.PLUS]:{pro:!1,plus:a,enterprise:!0},[n.F2.ENTERPRISE]:{pro:!1,plus:!1,enterprise:!1},[n.F2.COMPLIANCE]:{pro:!1,plus:!1,enterprise:!1}};return i[r]||i[n.F2.FREE]},[r,a])},"usePlanVisibility")},6518038516:(N,y,e)=>{"use strict";e.d(y,{A:()=>R});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6471059816),c=e(9022734571),r=e(7994296598),a=e(1318506593),i=e(6839188756),l=e(6084388622),m=e(8739505998),_=e(8683010724),h=e(6323355797),d=e(9391594207),f=e(3559164431),v=e(8368515877),u=e(2222994823),g=e(4761125736),p=e(3554387543),A=e(3192808693),C=e(7182156071),T=e(1670069836);function I(){return I=Object.assign||function(U){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(U[F]=L[F])}return U},I.apply(this,arguments)}E(I,"_extends");const M=new s.Ay("page_pricing");let D=E(class extends t.Component{getElementName(){const{isSmallFeaturesColumnButton:P,planLevel:L,activePlanLevel:F,isTeamOnTrial:x,isInvoiceCustomer:b,includeFreePlan:k}=this.props;let B;return L===h.i6.enterprise.name?B=`${L}_plan_contact_us`:b?B=`${L}_plan_contact_accounts`:!L&&k?B="free_plan_upgrade":P&&F===L&&!x?B=`${L}_get_slack_ai`:B=`${L}_plan_upgrade`,B}getHref(P){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const F=P+(0,c.iU)({...this.parsedUrlQueryParams,...L});return(0,i.Zl)(this.props.team,F)}async navigateToCheckoutFlow(P){const{isSlackAiToggleSelected:L,isTeamOnTrial:F,activePlanLevel:x,experimentPnpTwoGoGroupOn:b}=this.props;this.setState(()=>({isCTALoading:!0}));try{await this.props.fetchConfigurationData({productId:P})}catch(K){var k;(K==null||(k=K.data)===null||k===void 0?void 0:k.error)==="invalid_request"?(0,r.A)(`/account/request?entry_point=${this.props.entryPoint}`):(0,r.A)("/admin/billing");return}if(this.props.redirectUrl&&(0,u.I)(this.props.redirectUrl)){this.props.redirectUrl&&(0,r.A)(this.props.redirectUrl);return}const B=!F&&x==="",W=(0,h.Qn)({team:this.props.team,entryPoint:this.props.entryPoint,productId:P,addonTypes:!b&&B&&L?[h.wi.SlackAI]:void 0});(0,r.A)(W)}handleClick(){const{team:P,planLevel:L,activePlanLevel:F,isSmallFeaturesColumnButton:x,productId:b,slackAIAddonId:k,isTeamOnTrial:B,isSlackAiToggleSelected:W,experimentPnpTwoGoGroupOn:K,discountPromoType:H}=this.props;if(x&&F===L&&!B){const Q=W?[h.wi.SlackAI]:void 0;let q;K&&H===h.k2.PnpDiscount&&F===h.i6.plus.name?q=(0,h.Qn)({team:P,entryPoint:"plans_page",productId:b}):q=(0,h.Qn)({team:P,entryPoint:"plans_page",addon:K?void 0:k,addonTypes:K?void 0:Q}),(0,r.A)(q)}else b&&this.navigateToCheckoutFlow(b)}renderPlanCTA(){const{activePlanLevel:P,planLevel:L,productId:F,activeProductId:x,"data-qa":b,isInvoiceCustomer:k,clogStepId:B,useLink:W,buttonType:K,openInNewTab:H,entryPoint:z,isSmallFeaturesColumnButton:Q,isSalesforceFeaturesColumnButton:q,isTeamOnTrial:$,discountPromoType:le,discountPromoSubtype:te,discountPercent:ce,experimentPnpDiscountsGroupOn:me,experimentPnpTwoGoGroupOn:_e,experimentSfEmbedGrowthToggleGroupOn:Ae,className:ye}=this.props;let oe="outline",ee="",V;const w=H?"_blank":"_self";if(L===h.i6.enterprise.name)ee=M.t("Contact Sales"),V=this.getHref("/contact-sales",{from_plans:1,campaign:"7013y000002UvizAAC"}),oe="primary";else if(k)ee=M.t("Contact Accounts"),V=this.getHref("/help/requests/new");else{if(L===h.i6.free.name)return null;if(oe="primary",Q)!_e&&P===L&&!$?ee=M.t("Get Slack AI"):le===h.k2.PricingAndPackagingPromo?ee=(0,h.$K)({discountPromoSubtype:te,activePlanLevel:P,discountPercent:ce,planLevel:L,experimentPnpDiscountsGroupOn:me}):le===h.k2.PnpDiscount&&P==="plus"?ee=_e?M.t("Renew"):"":ee=M.t("Upgrade");else if(Ae&&q)if(W)ee=M.t("Buy Now"),V=this.getHref(`/${h.nc}`,{p:F,entry_point:z,product_level:L});else{const ae=(0,h._N)(h.i6[L].name);ee=M.t("Upgrade to {planName}",{planName:ae})}else{ee=M.t("Upgrade Now");const ae=x?2:1;V=this.getHref(`/${h.nc}`,{s:ae,entry_point:z})}}const Y={className:o()("p-upgrade_cta plan_page",ye),"data-qa":b,autoClogProps:{elementName:this.getElementName(),isPrimaryCTA:K==="primary",onClick:{enableClogAction:!0},clogStepId:B,productId:F}},G=K||oe,Z=V?{href:V,target:w}:{type:G};let se=t.createElement(l.z9,I({},Z,Y),ee);if(L!==h.i6.enterprise.name&&!k&&F&&!W)se=t.createElement(l.lV,I({onClick:this.handleClick,loading:this.state.isCTALoading},Y,{type:G,"aria-label":ee}),ee);else if(W){const ae=V?{href:V,target:w}:{};se=t.createElement(m.A,I({},ae,Y,{className:`p-upgrade_cta--link ${Y.className}`}),ee,t.createElement("span",{className:"margin_left_25"},t.createElement(_.A,{name:"arrow-right"})))}return se}render(){return this.renderPlanCTA()}constructor(P){super(P),this.state={isCTALoading:!1},this.handleClick=this.handleClick.bind(this),this.parsedUrlQueryParams=(0,a.qN)(window.location.href)||{}}},"UpgradeCta");D.defaultProps={"data-qa":"plans_page_upgrade_cta",clogStepId:"",entryPoint:"plans_page"},D.displayName="UpgradeCta";const O=E((U,P)=>{const L=(0,p.EV)(U),F=(0,T.H7)(U),x=(0,p.$f)(U);return{team:F,productId:(0,p.UO)(U,P.planLevel,L),slackAIAddonId:(0,p.Zg)(U,x,L),activeProductId:(0,p.xU)(U),activePlanLevel:x,isTeamOnTrial:(0,p.yQ)(U),isInvoiceCustomer:(0,p.Nd)(U),redirectUrl:(0,f.oy)(U),nextPlanLevel:(0,p.Jf)(U),isSlackAiToggleSelected:(0,p.qK)(U),discountPercent:(0,p.WG)(U),discountPromoType:(0,p.ZQ)(U),discountPromoSubtype:(0,p.$3)(U),experimentPnpDiscountsGroupOn:(0,g._Z)(U,"pnp_discounts")==="on",experimentPnpTwoGoGroupOn:(0,C.k)(U),experimentSfEmbedGrowthToggleGroupOn:(0,A.hB)(U)}},"mapStateToProps"),S=E(U=>({fetchConfigurationData:P=>U((0,v.l)(P))}),"mapDispatchToProps"),R=(0,d.N)(O,S)(D)},7895785073:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(677609895),n=e(6323355797),o=e(9506008067),s=e(3554387543),c=e(7268021173),r=e(3192808693),a=e(7182156071);const l=E(m=>{const _=(0,o.d4)(s.nc),h=(0,o.d4)(H=>(0,s.C8)(H,m,n.ck.monthly)),d=(0,o.d4)(H=>(0,s.C8)(H,m,n.ck.yearly)),f=(0,o.d4)(H=>(0,s.MO)(H,m,n.ck.yearly)),v=(0,o.d4)(H=>(0,s.MO)(H,m,n.ck.monthly)),u=(0,o.d4)(H=>(0,s.h$)(H,m,n.ck.monthly)),g=(0,o.d4)(H=>(0,s.h$)(H,m,n.ck.yearly)),p=(0,o.d4)(s.$f),A=(0,o.d4)(s.tl),C=(0,o.d4)(H=>(0,s.od)(H,m,n.ck.monthly)),T=(0,o.d4)(s.yQ),I=(0,o.d4)(s.kz),M=(0,o.d4)(s.Gp);let D=(0,o.d4)(s.qK);const O=(0,o.d4)(a.k);O&&(D=!1);const S=(0,o.d4)(c.tV),R=(0,o.d4)(c.wM),U=(0,o.d4)(r.yD),P=(0,o.d4)(t.X),L=(0,o.d4)(H=>(0,r.qc)(H,m)),F=(0,o.d4)(H=>(0,r.Rr)(H,m)),x=(0,o.d4)(H=>(0,r._k)(H,m));let b,k,B,W;const K=!!(h&&!d);return K?(b=v,k=f,B=h,W=d&&d/12):(b=f,k=v,B=d&&d/12,W=h),{currentPlan:p,currency:_,isTeamOnTrial:T,isBespokeTeam:A,slackAIUnitCost:C,isSlackAIProvisioned:I,isSlackAiSelected:D,isCurrentPlanComplimentary:M,discountedMonthlyCostPerMonth:h,discountedYearlyCostPerYear:d,baseMonthDiscountPercentage:u,baseYearlyDiscountPercentage:g,baseMonthlyCostPerMonth:v,baseYearlyCostPerMonth:f,experimentPnpTwoGoGroupOn:O,hasFutureSwitch:S,nextProductLevel:R,showTrialCountdown:F,highlightSales:U,highlightPlan:x,canUserUpgrade:P,isActive:L,isPrimaryPricingMonthly:K,primaryBaseCostPerMonth:b,secondaryBaseCostPerMonth:k,primaryDiscountCostPerMonth:B,secondaryDiscountCostPerMonth:W}},"useSmallFeaturesColumnSelector")},6852088830:(N,y,e)=>{"use strict";e.d(y,{B:()=>R});var t=e(3134334389),n=e(6122756707),o=e(2843556239),s=e(7287809332),c=e(7213730825),r=e(4819212603),a=e(7244235590),i=e(9026473207),l=e(7842233250),m=e(5655284373),_=e(5498730041),h=e(6471059816),d=e(4096483543),f=e(6323355797),v=e(9506008067),u=e(9003400431),g=e(2375333597),p=e(7268021173),A=e(3192808693),C=e(3193155968);function T(){return T=Object.assign||function(U){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(U[F]=L[F])}return U},T.apply(this,arguments)}E(T,"_extends");const I=new h.Ay("trial_banners"),M={elementName:"expore_trial",onClick:{enableClogAction:!0}},D={elementName:"compare_plans",onClick:{enableClogAction:!0}},O={elementName:"upgrade_cta",onClick:{enableClogAction:!0}},S=t.forwardRef((U,P)=>{let{...L}=U;return t.createElement(a.E,T({},L,{ref:P,entryPoint:"salesforce_plus_trial_awareness_banner",renderRequestDisabledPlansFallbackCta:!0}))});function R(U){let{midTrialTitle:P,trialEndTitle:L,body:F,entryPoint:x="salesforce_plus_trial_awareness_banner",showHourglassIcon:b=!1,canUserPurchase:k,hideBadge:B=!1}=U;const W=(0,n.wA)(),{hasPreviouslyRequestedPurchase:K,isAllowFeatureRequestEnabled:H,makeRequestToPurchaseRequest:z}=(0,l.JZ)(),Q=(0,v.d4)(A.lL),q=(0,v.d4)(p.zk)||0,$=(0,s.d)(q),le=Q?I.t("Explore your trial"):"",te=Q?I.t("Upgrade Now"):"",ce=Q?I.t("Compare Plans"):"",me=Q?I.t("Request Upgrade"):"",_e=!!F,Ae=(0,t.useMemo)(()=>(0,c.OV)(x,_e),[x,_e]),ye=(0,v.d4)(pe=>(0,f.m6)(pe,{action:"plans",entryPoint:x})),{windowId:oe}=(0,t.useContext)(o._0),ee=!oe||oe===C.N2,V=(0,d.A)(),w=(0,t.useMemo)(()=>({text:le,onClick:()=>{ee&&W((0,u.O)()),W((0,r.z7)({source:"salesforce_plus_trial_awareness_banner"}))},autoClogProps:M}),[W,le,ee]),Y=(0,t.useMemo)(()=>({text:te,href:ye,autoClogProps:O}),[ye,te]),G=(0,t.useMemo)(()=>({text:ce,href:ye,autoClogProps:D}),[ce,ye]),Z=(0,t.useMemo)(()=>(0,c.f9)(x,"open_request_to_purchase_modal_cta"),[x]),se=(0,t.useMemo)(()=>({text:me,autoClogProps:Z,onClick:()=>{W((0,g.q)({element:t.createElement(i.x,{makeRequestToPurchaseRequest:z,entryPoint:"salesforce_plus_trial_awareness_banner"})}))}}),[W,z,Z,me]);if(_e)return k?t.createElement(m.D,{autoClogProps:Ae,title:L,body:F,primaryCta:Y,hideBadge:B}):t.createElement(m.D,{autoClogProps:Ae,title:L,body:F,customPrimaryCta:S,customPrimaryCtaProps:Z,primaryCta:se,hideBadge:B});let ae=w;return $||(ae=k?Y:H&&!K?se:G),V||(ae=k?Y:G),x===s.P&&!ee&&(ae=void 0),t.createElement(_.N,{autoClogProps:Ae,title:$?P:L,primaryCta:ae,hideBadge:B,showHourglassIcon:b})}E(R,"SalesforcePlusTrialAwarenessBanner"),R.displayName="SalesforcePlusTrialAwarenessBanner"},7287809332:(N,y,e)=>{"use strict";e.d(y,{P:()=>n,d:()=>t});const t=E(o=>o>7,"isMidTrial"),n="huddles_invite_modal_salesforce_plus_trial_banner"},7213730825:(N,y,e)=>{"use strict";e.d(y,{Bi:()=>n,OV:()=>h,RW:()=>a,Vf:()=>l,W4:()=>m,eG:()=>c,f9:()=>_,rS:()=>o,tT:()=>i,uR:()=>s,wT:()=>r});var t=e(8668318456);const n=E(d=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_PAGE,clogImpression:!0,stepVariant:d}),"getPaidFeaturesPageImpressionClog"),o=E((d,f)=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_SUBPAGE,clogImpression:!0,stepVariant:d,uiComponentVariant:f}),"getPaidFeaturesSubpageImpressionClog"),s=E(d=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_PAGE,elementName:d,onClick:{enableClogAction:!0}}),"getPaidFeaturesPageCtaClickClog"),c=E(d=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_SUBPAGE,elementName:d,onClick:{enableClogAction:!0}}),"getPaidFeaturesSubpageFeatureCtaClickClog"),r={eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_PEEK_VIEW,clogImpression:!0},a=E(d=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_PEEK_VIEW,elementName:d,onClick:{enableClogAction:!0}}),"getSalesForcePlusMenuItemClickClog"),i={eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_GUIDE_SUNROOF,onClick:{enableClogAction:!0}},l=E(d=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_MODAL,stepVariant:d,clogImpression:!0}),"getSfEmbedRequestToPurchaseModalImpressionClog"),m=E(d=>{let{entryPoint:f,elementName:v}=d;return{eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_MODAL,entryPoint:f,elementName:v,onClick:{enableClogAction:!0}}},"getSfEmbedRequestToPurchaseModalClickClog"),_=E((d,f)=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_CTA,entryPoint:d,stepVariant:f,clogImpression:!0,onClick:{enableClogAction:!0}}),"getSfEmbedRequestToPurchaseCtaClickClog"),h=E((d,f)=>({uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_AWARENESS_BANNER,clogImpression:!0,stepVariant:d,uiComponentVariant:f?"large-banner":"small-banner"}),"getSalesforcePlusTrialAwarenessBannerClog")},4819212603:(N,y,e)=>{"use strict";e.d(y,{V$:()=>r,sB:()=>a,z7:()=>i});var t=e(4117634716),n=e(8822892075),o=e(7940058138),s=e(6304789565),c=e(3193155968),r;(function(l){l.CRITICAL_APPS="critical_apps",l.SLACK_AI="slack_ai",l.CUSTOMER_RELATIONSHIPS="customer_relationships",l.FULL_CONTEXT="full_context"})(r||(r={}));const a=[r.CRITICAL_APPS,r.SLACK_AI,r.CUSTOMER_RELATIONSHIPS,r.FULL_CONTEXT],i=(0,s.Ay)("Navigate to the paid features page or a specific tab in the page",async(l,m,_)=>{l((0,t.o)({...(0,n.ZF)(o.c.ExplorePaidFeatures),params:{targetTab:_==null?void 0:_.tab,source:_.source},options:{forceTab:c.k6.Home}}))});i.meta={name:"createThunk",key:"createThunknavigateToPaidFeaturesPage",description:"Navigate to the paid features page or a specific tab in the page"}},7244235590:(N,y,e)=>{"use strict";e.d(y,{E:()=>I});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(7213730825),r=e(9026473207),a=e(7842233250),i=e(6084388622),l=e(3165300465),m=e(8683010724),_=e(2312625946),h=e(6471059816),d=e(6323355797),f=e(9506008067),v=e(2375333597),u=e(3192808693),g=e(8941782998),p=e.n(g);function A(){return A=Object.assign||function(M){for(var D=1;D<arguments.length;D++){var O=arguments[D];for(var S in O)Object.prototype.hasOwnProperty.call(O,S)&&(M[S]=O[S])}return M},A.apply(this,arguments)}E(A,"_extends");const C=new h.Ay("pnp_salesforce_embed_growth"),T=E(M=>{let{uiStep:D,className:O,buttonSize:S="medium",requestOnClick:R,renderCustomRequestCta:U,renderCustomRequestedCta:P,renderCustomRequestDisabledCta:L,renderRequestDisabledPlansFallbackCta:F,requestButtonType:x,requestedButtonType:b,refToForward:k,entryPoint:B}=M;const W=(0,n.wA)(),[K,H]=(0,t.useState)(!1),z=(0,f.d4)(u.lL),{hasPreviouslyRequestedPurchase:Q,isAllowFeatureRequestEnabled:q,makeRequestToPurchaseRequest:$}=(0,a.JZ)(),le=(0,d.hZ)({entryPoint:"salesforce_embed_request_to_purchase_cta"}),te=(0,t.useMemo)(()=>!q&&F,[q,F]),ce=(0,t.useMemo)(()=>{let oe=R?"request_to_purchase_on_click_cta":"open_request_to_purchase_modal_cta";return te&&(oe="compare_plans_cta"),(0,c.f9)(B,oe)},[B,R,te]),me=(0,t.useCallback)(()=>{R?$({onBeforeRequest:()=>H(!0),onAfterRequest:()=>H(!1)}):W((0,v.q)({element:t.createElement(r.x,{uiStep:D,makeRequestToPurchaseRequest:$,entryPoint:B})}))},[W,D,R,$,B]),_e=(0,t.useCallback)(()=>t.createElement(l.A,{ref:k,className:s()(p().cta,O),onClick:me,loading:K,"aria-label":C.t("Request Upgrade"),type:x??"primary",size:S,autoClogProps:ce},t.createElement("div",{className:"display_flex align_items_center"},t.createElement("div",{className:"margin_right_25"},t.createElement(m.A,{name:"rocket",size:"20",role:"img"})),z?C.t("Request Upgrade"):"")),[k,O,me,K,x,S,z,ce]),Ae=(0,t.useCallback)(()=>{const oe=z?C.t("We\u2019ll send your request to people on your team with permission to purchase."):"";return U?t.createElement(t.Fragment,null,U({makeRequestToPurchaseRequest:$})):R?t.createElement(_.Ay,{tip:oe,delay:_.PK},t.createElement(_e,null)):t.createElement(_e,null)},[_e,$,U,z,R]),ye=(0,t.useCallback)(()=>P?t.createElement(t.Fragment,null,P()):t.createElement(l.A,{ref:k,className:O,onClick:me,"aria-label":z?C.t("Upgrade Requested"):"",loading:K,disabled:!0,type:b??"outline",size:S},t.createElement("div",{className:"display_flex align_items_center"},t.createElement("div",{className:"margin_right_25"},t.createElement(m.A,{name:"check-circle",size:"20",role:"img"})),z?C.t("Upgrade Requested"):"")),[k,O,me,P,z,K,b,S]);return!q&&L?t.createElement(t.Fragment,null,L()):te?t.createElement(i.Ay,{type:"primary",href:le,className:O,autoClogProps:ce},C.t("Compare Plans")):q?t.createElement(t.Fragment,null,Q?t.createElement(ye,null):t.createElement(Ae,null)):null},"SfEmbedRequestToPurchaseCtaBase");T.displayName="SfEmbedRequestToPurchaseCtaBase";const I=t.forwardRef((M,D)=>t.createElement(T,A({},M,{refToForward:D})))},9026473207:(N,y,e)=>{"use strict";e.d(y,{x:()=>T});var t=e(3134334389),n=e(6122756707),o=e(7173172014),s=e(6471059816),c=e(1471093810),r=e(7213730825),a=e(8668318456),i=e(6323355797),l=e(9506008067),m=e(9003400431),_=e(3192808693),h=e(9742272575),d=e.n(h),f=e(2152749084),v=e.n(f),u=e(7205929126),g=e.n(u),p=e(7396508928),A=e.n(p);const C=new s.Ay("pnp_salesforce_embed_growth"),T=E(I=>{let{uiStep:M,makeRequestToPurchaseRequest:D,entryPoint:O}=I;const S=(0,n.wA)(),R=(0,l.d4)(_.lL),U=(0,i.hZ)({entryPoint:"request_to_purchase_modal"}),P=(0,t.useCallback)(()=>{S((0,m.O)())},[S]),L=(0,t.useCallback)(async()=>{D({onAfterRequest:P})},[D,P]),F=R?C.t("Level up with Business+"):"",x=R?C.t("Request to upgrade so you can keep access to all the paid features your team uses. We\u2019ll send your request to people on your team with permission to purchase."):"",b=R?C.t("Request Upgrade"):"",k=R?C.t("Compare plans"):"",B=(0,t.useMemo)(()=>({text:b,onClick:L}),[b,L]),W=(0,t.useMemo)(()=>({text:k,url:U}),[k,U]),K=R?C.t("Premium Salesforce integration"):"",H=R?C.t("Advanced AI features and automation"):"",z=R?C.t("Work securely with external organizations"):"",Q=R?C.t("Unlimited message and file history"):"",q=(0,t.useMemo)(()=>[{key:"feature-one",imgSrc:d(),title:K,svgIconProps:{name:"sf-cloud"},theme:"lagoon",imgStyle:{container:{height:"260px"},img:{width:"80%"}}},{key:"feature-two",imgSrc:g(),title:H,svgIconProps:{name:"ai-sparkle"},theme:"sunflower",imgStyle:{container:{height:"260px"},img:{width:"120%"}}},{key:"feature-three",imgSrc:A(),title:z,svgIconProps:{name:"buildings"},theme:"cilantro",imgStyle:{container:{height:"260px"},img:{width:"80%"}}},{key:"feature-four",imgSrc:v(),title:Q,svgIconProps:{name:"history"},theme:"flamingo",imgStyle:{container:{height:"260px"},img:{width:"80%",position:"absolute",bottom:"0",right:"0"}}}],[K,H,z,Q]);return R?t.createElement(o.A,{eventId:a.EventId.NEWXP_JOIN_TEAM,uiComponentName:a.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_CTA,uiStep:M},t.createElement(c.m,{title:F,subtitle:x,carouselFeatures:q,carouselContainerHeight:424,primaryCTA:B,secondaryCTA:W,autoClogProps:(0,r.Vf)(O),primaryCTAAutoClogProps:(0,r.W4)({entryPoint:O,elementName:"request_to_purchase_cta"}),secondaryCTAAutoClogProps:(0,r.W4)({entryPoint:O,elementName:"compare_plans_cta"})})):null},"SfEmbedRequestToPurchaseModal");T.displayName="SfEmbedRequestToPurchaseModal"},7842233250:(N,y,e)=>{"use strict";e.d(y,{JZ:()=>A,SO:()=>T,Vl:()=>C});var t=e(3134334389),n=e(6122756707),o=e(8815446456),s=e(1495538422),c=e(3559837422),r=e(2755566931),a=e(6471059816),i=e(6323355797),l=e(9506008067),m=e(1960898919),_=e(4741050461),h=e(4282737224),d=e(5597672932),f=e(3554387543),v=e(3192808693),u=e(5060694341);const g=new a.Ay("pnp_salesforce_embed_growth"),p=E(()=>(0,l.d4)(M=>!!(0,d.xp)(M,"allow_feature_request")&&!(0,c.DM)(M)),"useGetIsAllowFeatureRequestEnabled"),A=E(()=>{const I=(0,n.wA)(),[M,D]=(0,t.useState)(!1),O=(0,l.d4)(U=>(0,m.ax)(U,"has_requested_business_plus_on_sf_embed_team")),S=p(),R=(0,t.useCallback)(async U=>{let{onBeforeRequest:P,onAfterRequest:L}=U;P&&P();try{await I((0,s.K)({reason:"requesting-a-purchase",featRequestCode:"pnp_sf_embed_growth_request_biz_plus"})),I((0,h.S)({pref:"has_requested_business_plus_on_sf_embed_team",value:!0}));const F={name:"paper-plane"};I((0,u.M)({element:t.createElement(r.Ay,{svgIconProps:F},t.createElement("span",null,g.t("Success! Your request has been sent")))}))}catch{const x={name:"warning"};I((0,u.M)({element:t.createElement(r.Ay,{svgIconProps:x},t.createElement("span",null,t.createElement("span",null,g.t("Something went wrong"))))}))}finally{L&&L()}},[I]);return(0,t.useEffect)(()=>{typeof O>"u"&&!M&&(I((0,_.X)()),D(!0))},[O,M,I]),{hasPreviouslyRequestedPurchase:O,isAllowFeatureRequestEnabled:S,makeRequestToPurchaseRequest:R}},"useSfEmbedRequestToPurchaseHooks");A.displayName="useSfEmbedRequestToPurchaseHooks";var C;(function(I){I[I.REQUEST=0]="REQUEST",I[I.DEFAULT=1]="DEFAULT",I[I.HIDDEN=2]="HIDDEN",I[I.SALESFORCE_EMBED=3]="SALESFORCE_EMBED"})(C||(C={}));const T=E(()=>{const I=(0,l.d4)(v.hB),M=(0,l.d4)(v.$X),D=(0,l.d4)(f.sz),O=(0,l.d4)(f.yQ),S=p(),R=(0,o.z)();if(M)return{[i.i6.free.name]:C.HIDDEN,[i.i6.standard.name]:S&&D===i.F2.STD&&O?C.REQUEST:C.HIDDEN,[i.i6.plus.name]:S&&(D===i.F2.PLUS&&O||D===i.F2.FREE)?C.REQUEST:C.HIDDEN,[i.i6.enterprise.name]:C.SALESFORCE_EMBED};if(I)return{[i.i6.free.name]:C.SALESFORCE_EMBED,[i.i6.standard.name]:C.SALESFORCE_EMBED,[i.i6.plus.name]:C.SALESFORCE_EMBED,[i.i6.enterprise.name]:C.SALESFORCE_EMBED};const U=E(x=>x?C.DEFAULT:C.HIDDEN,"getCtaVariantBasedOnVisibility"),{pro:P,plus:L,enterprise:F}=R;return{[i.i6.free.name]:C.HIDDEN,[i.i6.standard.name]:U(P),[i.i6.plus.name]:U(L),[i.i6.enterprise.name]:U(F)}},"useSfEmbedPlansPageRequestToPurchaseHooks")},8576613356:(N,y,e)=>{"use strict";e.d(y,{C:()=>I});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(73855031),c=e(6518038516),r=e(2670882607);const a=(0,t.memo)(M=>{let{onLoad:D}=M;return(0,t.useEffect)(()=>()=>{D()},[D]),null});var i=e(9506008067),l=e(2047021170),m=e(5577296129),_=e.n(m);const h=(0,t.memo)(M=>{let{alt:D,className:O,getAnimationImport:S,index:R,onLoad:U,src:P,autoplay:L=!0,loop:F=!0}=M;const x=(0,t.useCallback)(()=>U(R),[R,U]),b=(0,t.useCallback)(()=>t.createElement(a,{onLoad:x}),[x]);return(0,i.d4)(B=>(0,l.ty)(B,"a11y_animations"))&&S?t.createElement(r.e,{autoplay:L,className:o()(_().featureImage,O),description:D,getAnimationImport:S,loop:F,renderLoading:b}):t.createElement("img",{alt:D,className:o()(_().featureImage,O),key:P,onLoad:x,src:P,"aria-hidden":"true","data-qa":"feature_image_static"})});var d=e(5641442783),f=e(6308822),v=e(6044196829),u=e(980293773),g=e(8668318456),p=e(6323355797),A=e(8985946788),C=e.n(A);const T={subtitle:"accordion-feature-list-modal-subtitle",imageContainer:"accordion-feature-list-modal-image-container",textContent:"accordion-feature-list-modal-text-content"},I=E(M=>{let{accordionClassNames:D={},className:O="",customFooter:S,customHeaderIcon:R,autoClogProps:U,closeModal:P,entryPoint:L,featureListItems:F,featureImageClassName:x="",hideProBadge:b,imageContainerBackground:k="horchata",linkButtonText:B,linkButtonAutoClogProps:W,listContainerClassName:K="",onClickLink:H,subtitle:z,subtitleClassName:Q="",title:q,ariaLabel:$="",UNSAFE_parentSelector:le}=M;const[te,ce]=(0,t.useState)(0),me=(0,t.useCallback)(ee=>{ce(ee)},[]),_e=(0,t.useMemo)(()=>F.map((ee,V)=>({...ee,onExpand:()=>{var w;me(V),(w=ee.onExpand)===null||w===void 0||w.call(ee)}})),[F,me]),Ae=(0,t.useRef)(new Array(_e.length).fill(!0)),ye=(0,t.useCallback)(ee=>{Ae.current=[...Ae.current.slice(0,ee),!1,...Ae.current.slice(ee+1)]},[]),oe="accordion-feature-list-modal-description";return t.createElement(u.dW,{autoClogProps:U,centered:!0,className:o()(C().accordionFeatureListModal,O),closeModal:P,maxWidth:900,UNSAFE_parentSelector:le,contentLabel:$,describedby:oe},t.createElement("div",{className:o()(C().bodyContainer,{[C().horchataBg]:k==="horchata",[C().aubergineBg]:k==="aubergine"})},t.createElement("div",{className:o()(C().listContainer,K),"data-qa":T.textContent},t.createElement("div",{className:C().header},!b&&(R??t.createElement("div",{className:"display_flex full_width justify_content_center margin_bottom_50"},t.createElement(d.A,{uiComponentVariant:g.UiComponentVariant.SOLUTIONS_GALLERY_UPGRADE_MODAL,"aria-hidden":!0}))),t.createElement("h1",{id:oe,className:C().title},q),t.createElement("h2",{className:o()(C().subtitle,Q),"data-qa":T.subtitle},z)),t.createElement("div",{className:o()(C().accordionListContainer,D==null?void 0:D.listContainerClassName)},t.createElement(s.n,{accordionItems:_e,className:D==null?void 0:D.className,showImageCaret:!0,showItemBorder:!1,itemClassName:C().accordionItem,itemHeaderClassName:o()(C().accordionItemHeader,D==null?void 0:D.itemHeaderClassName),itemHeaderButtonClassName:o()(C().accordionItemHeaderButton,D==null?void 0:D.itemHeaderButtonClassName),itemDescriptionClassName:o()(C().accordionItemDescription,D==null?void 0:D.itemDescriptionClassName),expandedIconClassName:o()(C().accordionExpandedIcon,D==null?void 0:D.expandedIconClassName),collapsedIconClassName:o()(C().accordionCollapsedIcon,D==null?void 0:D.collapsedIconClassName),imageCaretClassName:o()({[C().horchataCaret]:k==="horchata",[C().aubergineCaret]:k==="aubergine"}),applyCustomAnimation:!0})),S??t.createElement("div",{className:C().footer},t.createElement(c.A,{"button-type":"primary",className:C().upgradeCta,entryPoint:L,openInNewTab:!0,planLevel:p.i6.standard.name}),B&&t.createElement(v.A,{className:"margin_top_100",onClick:H,autoClogProps:W},t.createElement("span",null,B)))),t.createElement("div",{className:o()(C().imageContainer),"data-qa":T.imageContainer},Ae.current[te]&&t.createElement(f.A,{className:C().spinner,size:"large"}),_e.map((ee,V)=>{let{getAnimationImport:w,getLocalizedAnimationImport:Y,imageAlt:G,imageSrc:Z}=ee;return t.createElement(h,{key:`${Z}-${te}`,getAnimationImport:Y??w,index:V,src:Z,alt:G,autoplay:te===V,loop:!1,className:o()(C().featureImage,{flex:te===V,align_items_center:te===V,display_none:te!==V},x),onLoad:ye})}))))},"AccordionFeatureListModal");I.displayName="AccordionFeatureListModal"},7241534324:(N,y,e)=>{"use strict";e.d(y,{AH:()=>T,DN:()=>r,DX:()=>S,F5:()=>_,Fq:()=>h,HM:()=>f,KH:()=>P,Kq:()=>I,Rk:()=>U,Sr:()=>i,TJ:()=>O,Xh:()=>c,j:()=>R,ko:()=>m,lD:()=>D,tC:()=>d,tt:()=>l,wV:()=>M});var t=e(8668318456);const n="autocharge_feature_trial";function o(L,F){const x=L??"",b=F?`-${F}`:"";return`${x}${b}`}E(o,"getCombinedPromoTypeStr");function s(L){return L?"discount":"regular"}E(s,"getDiscountStr");function c(L,F,x){return{clogImpression:!0,elementName:`${n}_modal`,stepVariant:o(F,x),elementType:t.ElementType.MODAL,eventId:t.EventId.NEWXP_TEAM_CREATE,uiComponentName:s(L)}}E(c,"getAutoChargeFeatureTrialModalAutoClogProps");function r(L){return{elementName:`${n}_try_slack_pro`,elementType:t.ElementType.LINK,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK,uiComponentName:s(L)}}E(r,"getTrySlackProLinkButtonAutoClogProps");const a={elementName:`${n}_view_all_paid_features`,elementType:t.ElementType.LINK,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},i={...a,isPrimaryCTA:!0},l={elementName:`${n}_upgrade_to_pro`,elementType:t.ElementType.LINK,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},m=a,_=n,h={contexts:{ui_context:{action:t.UiAction.CLICK,ui_properties:{element_name:`${n}_start_button`,element_type:t.ElementType.BUTTON},is_primary_cta:!0}}},d={contexts:{ui_context:{action:t.UiAction.CLICK,ui_properties:{element_name:`${n}_upgrade_button`,element_type:t.ElementType.BUTTON},is_primary_cta:!0}}},f=n,v="autocharge_feature_trial_admin_overview",u={uiComponentName:`${n}_cancel_pro_plan_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},g={uiComponentName:`${n}_change_plan_details_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},p={clogImpression:!0,uiComponentName:`${n}_cancel_confirmation_modal`,elementType:t.ElementType.MODAL,eventId:t.EventId.ADMIN_TEAM_BILLING},A={uiComponentName:`${n}_confirm_cancel_confirmation_modal_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},C={uiComponentName:`${n}_back_confirmation_modal_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},T={elementName:`${n}_payment_section_reveal`,elementType:t.ElementType.COMPONENT,action:t.UiAction.COMPLETE},I={elementName:`${n}_all_features_button`,elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},M={clogImpression:!0,uiComponentName:`${n}_comparison_modal`,elementType:t.ElementType.MODAL,eventId:t.EventId.BILLING_CHECKOUT_V2},D={elementName:`${n}_compare_plans_link`,onClick:{enableClogAction:!0}},O={elementName:`${n}_checkout_next_button`,elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},S={clogImpression:!0,uiComponentVariant:`${n}_review_step`,action:t.UiAction.IMPRESSION},R={elementName:"purchase_order",elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,action:t.UiAction.CLICK,onClick:{enableClogAction:!0},stepVariant:n},U={elementName:`${n}_checkout_back_billing_info_button`,elementType:t.ElementType.BUTTON,action:t.UiAction.CLICK,onClick:{enableClogAction:!0}};function P(L,F){return{action:t.UiAction.COMPLETE,element_name:`${n}_complete_checkout`,element_value:o(L,F)}}E(P,"getSubmitCompleteAutoChargeTrialStartProp")},5270990260:(N,y,e)=>{"use strict";e.d(y,{J:()=>b});var t=e(3134334389),n=e(6122756707),o=e(5562796568),s=e(9196706215),c=e(4094753332),r=e(6471059816),a=e(1030162945),i=e(5220162857),l=e(8576613356),m=e(7241534324),_=e(4117634716),h=e(8822892075),d=e(7729538251),f=e(7940058138),v=e(6839188756),u=e(677609895),g=e(6084388622),p=e(8739505998),A=e(9907843289),C=e(4452574402),T=e(6323355797),I=e(9506008067),M=e(4761125736),D=e(9003400431),O=e(3554387543),S=e(4005238080),R=e(7169590072),U=e(1670069836),P=e(3366751172),L=e.n(P);const F=new r.Ay("trials");function x(k,B,W,K){return k?B:K?F.rt("{price} per person/month after trial. ",{price:W}):""}E(x,"getFooterText");function b(k){let{onCloseModal:B,entryPoint:W,isEligibleForTrial:K,promoType:H,promoSubtype:z,trialEndDate:Q}=k;const q=(0,n.wA)(),$=(0,t.useCallback)(()=>q((0,D.O)()),[q]),le=(0,I.d4)(U.H7),te=(0,v.F1)(le),ce=(0,v.tc)(le),me=(0,I.d4)(R.$J),_e=(0,I.d4)(O.Pr),Ae=(0,I.d4)(je=>(0,M._Z)(je,"paid_feature_trial_auto_charge_translation",!1)==="on"),ye=(0,I.d4)(O.nc),oe=(0,I.d4)(je=>(0,O.MO)(je,T.i6.standard.name,T.ck.monthly)),ee=(0,I.d4)(je=>(0,O.UO)(je,T.i6.standard.name,T.ck.monthly)),V=(0,I.d4)(u.X),w=(0,I.d4)(je=>(0,O.iR)(je,T.i6.standard.name,T.ck.monthly)),Y=(0,I.d4)(je=>(0,O.h$)(je,T.i6.standard.name,T.ck.monthly)),G=(0,I.d4)(je=>(0,O.Tm)(je,T.i6.standard.name,T.ck.monthly)),Z=Boolean(w),se=(0,s.Ay)(Q).format("MMMM Do"),ae=oe?(0,C.ZV)(oe,(0,A.Yp)(),{style:"currency",currency:ye,currencyDisplay:"symbol"}):void 0,re=Ae?F.rt("Free {featureTrialLength} day trial, then a {discountPercent}% off for {discountDuration, plural, =1 {month} other {# months}}, then {monthlyPrice} per person/month. ",{featureTrialLength:T.ew.PAID_FEATURE_TRIAL,monthlyPrice:ae,discountPercent:Y,discountDuration:G}):"",pe=(0,T.tc)({team:le,promoType:H,promoSubtype:z,entryPoint:W}),de=(0,T.Qn)({team:le,productId:ee,excludeDomain:!0,entryPoint:H}),ie=(0,T.hZ)({planLevel:ce?void 0:T.i6.standard.id,entryPoint:H}),he=x(Z,re,ae,_e),ve=(0,t.useCallback)(()=>{window.open(pe,(0,c.y3)()?"_blank":"_self")},[pe]),ge=(0,t.useCallback)(()=>{q((0,_.o)((0,h.ZF)(f.c.PaidBenefits))),$()},[q,$]),ke=(0,t.useCallback)(()=>{const je=(0,d.JK)();return(0,i.L_)({experimentPnpGoGroupTreatment:me}).map(Ge=>({id:Ge.iconName,header:Ge.title,description:Ge.text,iconProps:{name:Ge.iconName},imageAlt:Ge.title,imageSrc:i.XC[Ge.iconName],getAnimationImport:i.wj[Ge.iconName],getLocalizedAnimationImport:(0,i.CQ)(Ge.iconName,je)}))},[me]),Ne=(0,m.Xh)(Z,H,z),We=(0,m.DN)(Z);(0,o.A)(()=>{q((0,R.E5)()),_e||q((0,S.A)())});const Oe=(0,t.useMemo)(()=>V?t.createElement(t.Fragment,null,t.createElement(g.z9,{autoClogProps:m.tt,href:de,type:"primary",className:L().cta},F.t("Upgrade to Pro")),t.createElement(p.A,{autoClogProps:m.ko,href:ie,className:L().link},F.t("View all paid features"))):t.createElement(g.z9,{autoClogProps:m.Sr,href:ie,className:L().cta},F.t("View all paid features")),[V,ie,de]),be=(0,t.useMemo)(()=>t.createElement("div",{className:L().footer},K&&V?t.createElement(t.Fragment,null,t.createElement(g.z9,{autoClogProps:We,onClick:ve,type:"primary",className:L().cta},F.rt("Try Slack Pro <span>Free for 30 days</span>",null,je=>{let{text:at}=je;return t.createElement("span",{className:L().light},at)})),t.createElement("p",{className:L().disclaimer},he,F.t("Cancel anytime."))):Oe),[Oe,K,V,he,ve,We]),Ke=(0,t.useMemo)(()=>t.createElement("div",{className:L().footer},t.createElement(g.z9,{onClick:ge,className:L().cta},F.t("View all Pro Benefits"))),[ge]),Fe=(0,t.useMemo)(()=>t.createElement("div",{className:"display_flex full_width justify_content_center margin_bottom_50"},t.createElement(a.Ay,{text:"tada",emojiSize:a.lw.LARGE})),[]);let J=F.rt("Explore the premium features of our most popular plan with a free {trialLength}-day trial.",{trialLength:T.ew.PAID_FEATURE_TRIAL});(!K||!V)&&(J=F.rt("Get access to the premium features of our most popular plan."));let ne=F.t("Do even more with Slack Pro");return ce||(ne=F.t("{teamName} now on Slack Pro",{teamName:te}),J=F.rt("Your team now has access to all the goodness of Slack\u2019s Pro plan for free until <strong>{trialEndDate}</strong>",{trialEndDate:se})),t.createElement(l.C,{autoClogProps:Ne,closeModal:B||$,customFooter:ce?be:Ke,entryPoint:W,featureListItems:ke(),subtitle:J,title:ne,customHeaderIcon:ce?void 0:Fe})}E(b,"AutoChargeTrialEntryModal"),b.displayName="AutoChargeTrialEntryModal"},7345807809:(N,y,e)=>{"use strict";e.d(y,{e:()=>m});var t=e(2279207117),n=e(7914553163),o=e(6839188756),s=e(5082930587),c=e(4096483543),r=e(6323355797),a=e(6533394955),i=e(4761125736),l=e(1670069836);function m(_,h,d,f){const v=(0,a.oK)(d);if(!v)return null;const u=(0,c.A)(),g=(0,i._Z)(v.getState(),"pnp_two_go")==="on";if(!_||_===n.MX.TrialFetching)return null;const p=(0,t.FK)(_,g),A=t.np[_];switch(_){case n.MX.TrialIneligible:return{text:p,onClick:()=>{(0,o.gC)((0,l.H7)(v.getState()),"/plans")},autoClogProps:A};case n.MX.TrialEligible:return{text:p,onClick:(0,t.w9)(v.dispatch,h,_),autoClogProps:A};case n.MX.TrialIneligibleUserCannotUpgrade:return{text:p,onClick:()=>{(0,o.gC)((0,l.H7)(v.getState()),"/plans")},autoClogProps:A};case n.MX.TrialTeam:return{text:p,onClick:()=>{if(u){(0,t.uY)(v.dispatch)();return}(0,o.gC)((0,l.H7)(v.getState()),"/help/articles/115003205446-Slack-plans-and-features")},autoClogProps:A};case n.MX.TrialExpiry:return{text:p,onClick:()=>{(0,o.gC)((0,l.H7)(v.getState()),(0,r.Qn)({team:(0,l.H7)(v.getState()),excludeDomain:!0,entryPoint:f}))},autoClogProps:A};default:(0,s.Kh)(_)}}E(m,"freemiumPrimaryCtaAttributes")},2279207117:(N,y,e)=>{"use strict";e.d(y,{FK:()=>A,aD:()=>p,np:()=>g,uY:()=>T,w9:()=>C});var t=e(5082930587),n=e(9392104102),o=e(7171435821),s=e(6471059816),c=e(509725077),r=e(7914553163),a=e(4117634716),i=e(8822892075),l=e(7940058138),m=e(6323355797);const _=new s.Ay("trials_highlight_paid_features"),h={elementName:"start_free_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},d={elementName:"learn_more_usage_limits",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},f={elementName:"compare_plans",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},v={isPrimaryCTA:!0,elementName:"upgrade_link",onClick:{enableClogAction:!0}},u={isPrimaryCTA:!0,elementName:"upgrade_now",onClick:{enableClogAction:!0}},g={[r.MX.TrialFetching]:n.t0,[r.MX.TrialIneligible]:v,[r.MX.TrialEligible]:h,[r.MX.TrialIneligibleUserCannotUpgrade]:f,[r.MX.TrialTeam]:d,[r.MX.TrialExpiry]:u};function p(I,M){switch(I){case r.MX.TrialTeam:return`https://${(0,o.Xk)()}/help/articles/115003205446-Slack-plans-and-features`;case r.MX.TrialIneligibleUserCannotUpgrade:return(0,m.hZ)({entryPoint:M});default:(0,t.Kh)(I)}}E(p,"getHref");function A(I){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(I){case void 0:case null:case r.MX.TrialFetching:return"";case r.MX.TrialIneligible:return M?_.t("Upgrade Now"):_.t("See Upgrade Options");case r.MX.TrialEligible:return _.t("Start Free Trial");case r.MX.TrialIneligibleUserCannotUpgrade:return _.t("Compare Plans");case r.MX.TrialTeam:return M?_.t("Compare Plans"):_.t("Learn More");case r.MX.TrialExpiry:return _.t("Upgrade Now");default:(0,t.Kh)(I)}}E(A,"getDefaultCopy");function C(I,M,D,O){return()=>{I((0,c.A)({uiComponentVariant:O,promoSubtype:M,freemiumVariant:D}))}}E(C,"getTrialEligibleHandler");function T(I){return()=>I((0,a.o)((0,i.ZF)(l.c.PaidBenefits)))}E(T,"getTrialTeamHandler")},6005700845:(N,y,e)=>{"use strict";e.d(y,{A:()=>d});var t=e(3134334389),n=e(6122756707),o=e(1267040415),s=e(2279207117),c=e(7914553163),r=e(6084388622),a=e(8739505998),i=e(5082930587),l=e(4096483543),m=e(9506008067),_=e(3810478625);const h=E(f=>{let{variant:v,children:u,promoSubtype:g,modalVariant:p,useLink:A=!1,ctaClassName:C,entryPoint:T}=f;const I=(0,n.wA)(),M=(0,m.d4)(_.g),D=(0,l.A)();if(!v||v===c.MX.TrialFetching)return null;const O=A?a.A:r.z9,S=(0,s.FK)(v,M),R=s.np[v];switch(v){case c.MX.TrialIneligible:return t.createElement(o.A,{useLink:A,autoClogProps:R,className:C},u??S);case c.MX.TrialEligible:return t.createElement(O,{onClick:(0,s.w9)(I,g,v,p),autoClogProps:R,className:C},u??S);case c.MX.TrialIneligibleUserCannotUpgrade:return t.createElement(O,{href:(0,s.aD)(v,T),autoClogProps:R,className:C},u??S);case c.MX.TrialTeam:return t.createElement(O,{href:D?void 0:(0,s.aD)(v,T),autoClogProps:R,onClick:D?(0,s.uY)(I):void 0,className:C},u??S);case c.MX.TrialExpiry:return t.createElement(o.A,{useLink:A,action:"checkout",autoClogProps:R},u??S);default:(0,i.Kh)(v)}},"FreemiumPrimaryCTA");h.displayName="FreemiumPrimaryCTA";const d=h},509725077:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(8300630630),n=e(6323355797),o=e(6304789565),s=e(962959561),c=e(7859253282),r=e(398781533);const a=(0,o.Ay)("Open freemium trial offer modal",async(l,m,_)=>{const h=n.ZO.PaidFeatureTrial,{promoSubtype:d}=_;return l((0,r.Q)({entryPoint:"open_trial_offer_modal",campaignType:h,campaignSubType:d,reason:"freemium_all_features_modal"})),await l((0,t.A)({campaignType:h,campaignSubType:d,reason:d})),(0,s.L9)(m())?l((0,c.r)({promoType:h,promoSubtype:d,entryPoint:"freemium_all_auto_charge_trial_entry_point"})):Promise.resolve()});a.meta={name:"createThunk",key:"createThunkopenFreemiumTrialOfferModal",description:"Open freemium trial offer modal"};const i=a},7914553163:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>v,MX:()=>_});var t=e(3134334389),n=e(6122756707),o=e(6839188756),s=e(677609895),c=e(6323355797),r=e(9506008067),a=e(8871937520),i=e(7268021173),l=e(1384076438),m=e(1670069836);const _={TrialFetching:"trial_fetching",TrialTeam:"trial_team",TrialExpiry:"trial_expiry",TrialEligible:"trial_eligible",TrialIneligible:"trial_ineligible",TrialIneligibleUserCannotUpgrade:"trial_ineligible_user_cannot_upgrade"},h=E(u=>u===_.TrialFetching||u===_.TrialEligible||u===_.TrialIneligible||u===_.TrialIneligibleUserCannotUpgrade,"isFreeVariant"),d=E(u=>u===_.TrialTeam||u===_.TrialExpiry,"isTrialVariant"),v=E(u=>{let{promoType:g=c.ZO.PaidFeatureTrial,promoSubtype:p,context:A,reason:C,isEligibleForTrial:T,trialEndDate:I,isEnabled:M=!0,isPurchaser:D}=u;const O=(0,n.wA)(),S=(0,r.d4)(B=>(0,o.tc)((0,m.H7)(B))),R=(0,r.d4)(i.iH),U=(0,r.d4)(s.X),P=D??U,L=(0,r.d4)(B=>(0,i.hq)(B,g,p)),[F,x]=(0,t.useState)(S);if((0,t.useEffect)(()=>{M&&S&&O((0,l.A)({campaignType:g,campaignSubType:p,context:A,reason:C})).then(()=>{x(!1)})},[O,S,g,p,A,C,L,M]),!M||!(S||R))return null;const b=T!=null;if(F&&!b)return _.TrialFetching;if(R){const W=(0,a.qe)(I);return I!==void 0&&W<=7?_.TrialExpiry:_.TrialTeam}const k=b&&F?T:L;return!k&&!P?_.TrialIneligibleUserCannotUpgrade:k?_.TrialEligible:_.TrialIneligible},"useFreemium")},4085119397:(N,y,e)=>{"use strict";e.d(y,{A:()=>be});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(5562796568),r=e(7173172014),a=e(6471059816),i=e(5000515034),l=e(3405119017),m=e(6318661545),_=e(1267040415),h=e(1743656885),d=e(924300050),f=e(5220162857),v=e(2934784510),u=e(4117634716),g=e(8822892075),p=e(7940058138),A=e(6839188756),C=e(6084388622),T=e(8668318456),I=e(9506008067),M=e(8871937520),D=e(9003400431),O=e(5512605238),S=e(7169590072),R=e(1670069836),U=e(4970458e3),P=e.n(U);const L=new a.Ay("trials"),F={elementName:"view_all_paid_benefits_primary_cta",onClick:{enableClogAction:!0}},x=E(Ke=>{let{trialExpirationDate:Fe,uiStep:J}=Ke;const ne=(0,n.wA)(),je=(0,t.useCallback)(()=>{ne((0,D.O)())},[ne]),at=(0,t.useCallback)(()=>{ne((0,D.O)()),ne((0,u.o)((0,g.ZF)(p.c.PaidBenefits)))},[ne]),nt=(0,I.d4)(Me=>(0,A.F1)((0,R.H7)(Me))),Ge=(0,I.d4)(O.F),Pe=(0,I.d4)(S.$J);(0,c.A)(()=>{ne((0,S.E5)())});const Le=(0,t.useMemo)(()=>({...F,uiStep:J}),[J]),ze=E(()=>t.createElement(C.Ay,{"aria-label":L.t("Paid benefits link"),autoClogProps:Le,className:P().primaryCta,onClick:at},L.rt("Explore All Pro Features")),"getCustomFooter");return t.createElement(r.A,{eventId:T.EventId.UPGRDEXP_TRIAL,uiComponentName:T.UiComponentName.TRIAL_START_SHOWCASE_ALL_FEATURES_MODAL,uiStep:J},t.createElement(d.A,{featureList:(0,f.L_)({experimentPnpGoGroupTreatment:Pe}),modalTitle:L.rt("{teamName} is on a free trial \u{1F389}",{teamName:nt}),modalSubtitle:L.rt("Explore all the premium features of our most popular plan, Slack Pro, through {trialExpirationDate}.",{trialExpirationDate:t.createElement("strong",null,(0,M.Pd)(Fe))}),customFooter:ze(),onRequestClose:je,maxWidth:832,videoTitle:L.t("Comparison of free vs. paid Slack Video for users on free teams")}),t.createElement(v.A,{shouldShow:Ge}))},"TrialStartAllFeaturesModal");x.displayName="TrialStartAllFeaturesModal";const b=x;var k=e(6304789565),B=e(2375333597);const W=(0,k.Ay)("Open global trial start all features modal",async(Ke,Fe,J)=>{let{trialExpirationDate:ne}=J;return Ke((0,B.q)({element:t.createElement(b,{trialExpirationDate:ne,uiStep:T.UiStep.GLOBAL_TRIAL_START_MODAL})}))});W.meta={name:"createThunk",key:"createThunkopenTrialStartAllFeaturesModal",description:"Open global trial start all features modal"};const K=W;var H=e(2551341535),z=e(3226207882),Q=e(5641442783),q=e(4963725897),$=e(8739505998),le=e(8683010724),te=e(9702400417),ce=e(9907843289),me=e(4452574402),_e=e(6323355797),Ae=e(6259241484),ye=e(3554387543),oe=e(3009309149),ee=e(4761125736);const V=(0,oe.Ay)(Ke=>(0,ee._Z)(Ke,"promote_plan_visibility_v2",!1)==="treatment");V.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsTreatment",description:Ke=>(0,ee._Z)(Ke,"promote_plan_visibility_v2",!1)==="treatment"};var w=e(9377084484),Y=e.n(w);const G=0,Z=new a.Ay("promote_plan_visibility");function se(Ke){let{canUserPurchase:Fe=!1,isTrialEligible:J=!1,hideLastRow:ne=!1}=Ke;const je=(0,n.wA)(),at=(0,I.d4)(V),nt=(0,I.d4)(S.$J);(0,c.A)(()=>{je((0,S.E5)())});const Ge=(0,I.d4)(Bt=>(0,ye.MO)(Bt,_e.i6.standard.name,_e.ck.monthly)),Pe=(0,I.d4)(Bt=>(0,ye.C8)(Bt,_e.i6.standard.name,_e.ck.monthly)),Le=(0,I.d4)(Bt=>(0,ye.MO)(Bt,_e.i6.plus.name,_e.ck.monthly)),ze=(0,I.d4)(Bt=>(0,ye.C8)(Bt,_e.i6.plus.name,_e.ck.monthly)),Me=(0,I.d4)(ye.nc),Ce=(0,I.d4)(ye.Pr),Qe=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":Z.t("Feature available"),className:"p-icon_container p-check_icon_container"},t.createElement(le.A,{name:"check-filled"})),[]),Be=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":Z.t("Feature unavailable"),className:"p-icon_container"},t.createElement(le.A,{name:"minus-filled"})),[]),we=(0,t.useMemo)(()=>[Ae.xu.CLIENT_HEADER_RIGHT,Ae.xu.SIDEBAR_FOOTER,Ae.xu.SIDEBAR_MENU_HEADER],[]),xe=(0,t.useMemo)(()=>t.createElement("div",{className:Y().missingText},t.createElement(i.A,{size:"large"}),t.createElement(i.A,{size:"large"})),[]),Se=(0,t.useMemo)(()=>{if(Ce){const Bt=(0,te.A)(Ge,Me),St=Pe?(0,te.A)(Pe,Me):null,Gt=t.createElement(t.Fragment,null,t.createElement("div",{className:Y().costLabel,"data-qa":"plans-cost-label"},Bt),t.createElement("div",{className:Y().costLabelSubtitle},Z.t("per person/month"))),Et=t.createElement(t.Fragment,null,t.createElement("div",{className:Y().costLabel,"data-qa":"plans-cost-label"},t.createElement("span",{className:Y().discountedPrice},St),t.createElement("span",{className:Y().typicalPriceWithStrikethrough},Bt)),t.createElement("div",{className:Y().costLabelSubtitle},Z.t("per person/month")));return Pe?Et:Gt}return xe},[Ce,Ge,Me,Pe,xe]),Ye=(0,t.useMemo)(()=>{if(Ce){const Bt=(0,te.A)(Le,Me),St=ze?(0,te.A)(ze,Me):null,Gt=t.createElement(t.Fragment,null,t.createElement("div",{className:Y().costLabel,"data-qa":"plans-cost-label"},Bt),t.createElement("div",{className:Y().costLabelSubtitle},nt?Z.t("per person/month"):"")),Et=t.createElement(t.Fragment,null,t.createElement("div",{className:Y().costLabel,"data-qa":"plans-cost-label"},t.createElement("span",{className:Y().discountedPrice},St),t.createElement("span",{className:Y().typicalPriceWithStrikethrough},Bt)),t.createElement("div",{className:Y().costLabelSubtitle},nt?Z.t("per person/month"):""));return ze?Et:Gt}return xe},[Ce,Le,Me,ze,nt,xe]),ot=(0,t.useMemo)(()=>{const Bt=E(()=>{if(Ce){const St=(0,me.ZV)(G,(0,ce.Yp)(),{style:"currency",currency:Me,currencyDisplay:"symbol",maximumFractionDigits:0});return t.createElement("span",{className:Y().costLabel},St)}return xe},"getFreePrice");return Bt.displayName="getFreePrice",t.createElement(t.Fragment,null,t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("div",{className:Y().planHeaderContainer},t.createElement("span",{className:s()(Y().planLabel,Y().freeLabel)},Z.t("Free")),t.createElement("div",{className:"p-cost_label_container"},Bt())))},[Ce,Me,xe]),_t=t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro"}),t.createElement("div",{className:Y().planHeaderContainer},t.createElement("span",{className:s()(Y().planLabel,Y().proLabel)},Z.t("Slack Pro"),t.createElement("div",{className:Y().trialProBadge},t.createElement(Q.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:T.UiComponentVariant.PLANS_AT_GLANCE}))),Se)),pt=t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:Y().planHeaderContainer},t.createElement("span",{className:s()(Y().planLabel,Y().bizPlusLabel)},nt?Z.t("Business+"):""),Ye)),vt=(0,t.useCallback)(()=>{const Bt=nt?(0,z.dQ)(nt):(0,z.QH)();return Bt.map((St,Gt)=>{const{key:Et,description:wt,freeDesc:Jt,descriptionToolTip:Lt,title:Zt,paidDesc:qt,descriptionClassName:tt,bizPlusDesc:st}=St;let gt;const Nt=ne&&Bt.length-1===Gt;Jt==="included"?gt=Qe:Jt==="-"?gt=Be:gt=Jt;let Ht=qt||Qe;Ht==="-"&&(Ht=Be);const Xt=st||Qe;return Zt?t.createElement("div",{key:Et,className:"p-grid_item p-first_column p-feature_heading"},Zt):t.createElement(H.A,{key:Et,description:wt,freeDesc:gt,paidDescription:Ht,descriptionToolTip:Lt,descriptionClassName:tt,isExperimentPromotePlanVisibilityGroupTreatment:at,bizPlusDescription:Xt,lastItem:Nt})})},[Qe,nt,at,Be,ne]),yt=(0,I.d4)(Bt=>(0,_e.m6)(Bt,{action:"checkout",productLevel:_e.i6.standard.id,entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),Tt=(0,I.d4)(Bt=>(0,_e.m6)(Bt,{action:"checkout",productLevel:_e.i6.plus.id,entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),ft=(0,t.useCallback)(Bt=>{let{trialExpirationDate:St}=Bt;je(K({trialExpirationDate:St}))},[je]),Ct=(0,t.useMemo)(()=>Fe||J?t.createElement(C.z9,{href:Tt,autoClogProps:z.m2,disabled:!Ce,type:"outline",className:Y().bizPlusUpgradeButton},nt?Z.t("Upgrade Now"):""):null,[Fe,J,nt,Ce,Tt]),At=(0,t.useMemo)(()=>{switch(!0){case(Fe&&!J||at&&Fe):return t.createElement(C.z9,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",href:yt,autoClogProps:z.m2,disabled:!Ce},t.createElement("span",{className:Y().upgradeRocketIcon},t.createElement(le.A,{name:"rocket"})),Z.t("Upgrade Now"));case(!at&&J):return t.createElement("div",{className:Y().trialEligibleCellContainer},t.createElement(q.A,{"data-qa":"plans-at-glance-trial-start-btn",reason:"plan_visibility_plans_at_glance_modal",className:Y().trialStartCta,megaphoneSpacesToRefresh:we,onRequestComplete:ft,promoType:_e.ZO.GlobalEntrypointTrial,autoClogProps:z.Go,disabled:!Ce},Z.t("Start Free Trial")),t.createElement($.A,{"data-qa":"plans-at-glance-trial-eligible-upgrade-now-link-btn",href:yt,className:Y().upgradeLink,autoClogProps:z.m2,disabled:!Ce},Z.t("Upgrade Now")));default:return Z.rt("Contact your team admin to upgrade. Learn more about <a>Slack plans and features</a>",{},Bt=>{let{text:St}=Bt;return t.createElement(h.A,{className:"bold",articleId:115003205446},St)})}},[Fe,yt,at,Ce,J,we,ft]),kt=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:"p-grid_item p-mid_column p-last_row "},t.createElement(C.Ay,{type:"outline",className:s()([Y().disabledCurrentPlanButton],{[Y().trialEligibleCurrentPlanBtn]:!at&&J}),disabled:!0},Z.t("Current Plan"))),t.createElement("div",{className:"p-grid_item p-last_column p-last_row p-bottom_right_ele"},t.createElement("div",{className:"full_width"},t.createElement("div",null,At))),nt?t.createElement("div",{className:"p-grid_item p-last_row p-bottom_right_ele"},t.createElement("div",{className:"full_width"},t.createElement("div",null,Ct))):null),[J,at,At,nt,Ct]);return t.createElement("div",{"data-qa":"plan_visibility_plans_at_glance_table",className:s()("p-plans_at_glance_table_container",{"p-plans_at_glance_table_container--with_biz_plus":nt})},t.createElement("div",{className:"p-grid_item p-first_column p-top_left_ele"}),t.createElement("div",{className:"p-grid_item p-free_heading"},ot),t.createElement("div",{className:s()("p-grid_item p-last_column p-pro_heading",{"p-top_right_ele":!nt})},_t),nt?t.createElement("div",{className:"p-grid_item p-top_right_ele p-biz_plus_heading"},pt):null,vt(),!ne&&kt())}E(se,"PlanVisibilityPlansTable");var ae=e(7241534324),re=e(1022447908),pe=e(980293773),de=e(3328068409),ie=e(4005238080),he=e(3474336343),ve=e(3547923876),ge=e(5512849639),ke=e.n(ge);function Ne(){return Ne=Object.assign||function(Ke){for(var Fe=1;Fe<arguments.length;Fe++){var J=arguments[Fe];for(var ne in J)Object.prototype.hasOwnProperty.call(J,ne)&&(Ke[ne]=J[ne])}return Ke},Ne.apply(this,arguments)}E(Ne,"_extends");const We=new a.Ay("guided_trials"),Oe=E(Ke=>{let{onComplete:Fe,canUserPurchase:J=!1,onFreeButtonClick:ne,onProButtonClick:je,from:at,isProFirst:nt=!1,trialEligible:Ge,maxWidth:Pe=1e3}=Ke;const Le=(0,n.wA)(),ze=(0,I.d4)(de.to),Me=at===z.FM.setup,Ce=at===z.Cx.trialCheckout,Qe=(0,I.d4)(V),Be=(0,I.d4)(he.BI),we=(0,I.d4)(S.$J);(0,c.A)(()=>{Le((0,S.E5)())});const Se=(0,I.d4)(ve.RN)&&at===z.$X.proUpgradeToBizPlus,Ye=(0,I.d4)(ye.Pr),ot=(0,I.d4)(Et=>(0,ye.h$)(Et,_e.i6.standard.name,_e.ck.monthly)),_t=(0,I.d4)(ye.Ik),pt=(0,I.d4)(Et=>(0,ye.ZQ)(Et)===_e.k2.Local);(0,t.useEffect)(()=>{Ye||Le((0,ie.A)())},[Ye,Le]);const vt=(0,t.useCallback)(()=>t.createElement(re.A,{from:at,canUserPurchase:J,onProButtonClick:je,onFreeButtonClick:ne,isProFirst:nt}),[at,J,je,ne,nt]),yt=(0,t.useCallback)(()=>t.createElement(se,{canUserPurchase:J,isTrialEligible:Ge,hideLastRow:Ce}),[J,Ge,Ce]),Tt=We.t("More analytics, data exports, control and access."),ft=(0,t.useCallback)(()=>Se?Tt:Ye?ot?Me||Be?Be?null:pt?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle"},We.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span>",{discountPercentage:ot},Et=>{let{text:wt,key:Jt}=Et;return t.createElement("span",{key:Jt,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},wt,"*")})):t.createElement("div",{className:"p-plans_at_glance_modal_subtitle"},We.rt("Pro plan includes <span>{discountPercentage}% off discount</span> on your first {discountDuration} months",{discountPercentage:ot,discountDuration:_t},Et=>{let{text:wt,key:Jt}=Et;return t.createElement("span",{key:Jt,className:"p-plans_at_glance_modal_subtitle--highlight"},wt)})):we?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle_ppv"},_t?We.rt("All plan prices include a <span>{discountPercentage}% off discount</span> on your first {discountDuration} months.",{discountPercentage:ot,discountDuration:_t},Et=>{let{text:wt,key:Jt}=Et;return t.createElement("span",{key:Jt,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},wt)}):We.rt("All plan prices include a <span>{discountPercentage}% off discount</span>.",{discountPercentage:ot},Et=>{let{text:wt,key:Jt}=Et;return t.createElement("span",{key:Jt,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},wt)})):Qe?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle_ppv"},_t?We.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span> on your first {discountDuration} months.",{discountPercentage:ot,discountDuration:_t},Et=>{let{text:wt,key:Jt}=Et;return t.createElement("span",{key:Jt,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},wt)}):We.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span>.",{discountPercentage:ot},Et=>{let{text:wt,key:Jt}=Et;return t.createElement("span",{key:Jt,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},wt)})):null:null:t.createElement(i.A,{className:"p-plans_at_glance_subtitle--loader",size:"large"}),[Ye,ot,Me,we,Qe,pt,_t,Be,Se,Tt]);let Ct=Me?(0,l.ie)():{};Me?Ct=(0,l.ie)():Ce?Ct=ae.wV:Se&&(Ct=(0,m.jY)());let At;Me?At=(0,l.Bp)():Qe?At={elementName:"compare_plans_link",onClick:{enableClogAction:!0}}:Ce?At=ae.lD:Se?At=(0,m.z6)():At={};const kt=We.t("Compare all plans and features"),Bt=(0,t.useCallback)(()=>{let Et="",wt=We.t("Compare all plans");return J&&!Qe?Et="guided_trials_plans_at_glance_compare_plans_cta":Qe&&(Et="plan_visibility_plans_at_glance_compare_plans_cta"),Me&&(Et="straight_to_paid_plans_modal_cta"),Ce&&(Et="auto_charge_feature_trial_modal_cta"),Se&&(Et="pro_to_biz_plus_upgrade_boost",wt=kt),t.createElement(_.A,{"data-qa":"plans-at-glance-compare-plans-btn",className:s()({"p-plans_at_glance_compare_plans_cta":J&&!Qe,"p-plans_at_glance_compare_plans_cta_ppv":Qe}),useLink:!0,entryPoint:Et,autoClogProps:At},wt,t.createElement("div",{className:"margin_left_25 p-plans_at_glance_new_window_icon_color"},t.createElement(le.A,{name:"new-window"})))},[J,At,Qe,Ce,Se,Me,kt]),St=We.t("Do more with Business+"),Gt=(0,t.useMemo)(()=>we?We.t("Choose the plan that\u2019s right for you"):Se?St:We.t("Compare Free and Slack Pro Plans"),[we,Se,St]);return t.createElement(r.A,Ne({uiComponentName:Qe?T.UiComponentName.PPV_PLANS_AT_GLANCE_MODAL:T.UiComponentName.GUIDED_TRIAL_PLANS_AT_GLANCE_MODAL},Ct,{clogImpression:!0}),t.createElement(pe.aF,{maxWidth:Pe,centered:!0,isOpen:!0,labelledby:"trials_plans_at_glance_modal",className:s()("p-plans_at_glance_modal",`p-plans_at_glance_modal--${ze}`,{"p-plans_at_glance_modal--pro_to_biz_plus_upgrade":Se}),onClose:Fe,closeButtonTone:Se?"dark":void 0},t.createElement(pe.rQ,null,t.createElement(pe.Rc,{"data-qa":"plans_at_glance_heading",title:Gt,subtitle:ft(),className:s()({"p-plans_at_glance_modal_title":!Qe,"p-plans_at_glance_modal_title_ppv":Qe}),titleTextClassName:s()({"p-plans_at_glance_modal_title--discount":Me,"p-plans_at_glance_modal_title_ppv--discount":Qe&&ot})},Se?t.createElement("img",{className:"p-plans_at_glance_modal_header_img",src:ke(),alt:""}):null)),t.createElement(pe.$m,{className:s()({"p-plans_at_glance_modal_content":!Qe,"p-plans_at_glance_modal_content_ppv":Qe||Ce})},t.createElement(pe.qf,{className:Qe?"p-plans_at_glance_modal_section_ppv":"p-plans_at_glance_modal_section"},Qe&&!Me||Ce?yt():vt()),t.createElement(pe.qf,{className:s()("p-plans_at_glance_compare_plans_section",{"p-plans_at_glance_modal_section_ppv":Qe,"p-plans_at_glance_modal_section":!Qe})},pt&&t.createElement("div",{className:"p-plans_at_glance_modal_offer_disclaimer"},"*Limited-time offer subject to change at Slack\u2019s discretion."),(J||Qe)&&Bt()))))},"PlansAtGlance");Oe.displayName="PlansAtGlance";const be=Oe},2551341535:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(8739505998),c=e(2312625946),r=e(9506008067),a=e(7169590072);function i(m){let{description:_,freeDesc:h,paidDescription:d,descriptionToolTip:f,descriptionClassName:v,isExperimentPromotePlanVisibilityGroupTreatment:u,isProFirst:g=!1,showBizPlus:p=!0,bizPlusDescription:A,isProToBizPlusUpgrade:C=!1,lastItem:T=!1}=m;const I=(0,r.d4)(a.$J),M=f?t.createElement(c.Ay,{tip:f,tipClassName:o()({"p-plans_at_glance_tooltip_ppv":u}),position:"top"},t.createElement(s.A,{className:o()("p-grid_item__description--tooltip",{"p-grid_item__description--tooltip-ppv":u})},t.createElement("span",{className:o()({[`${v}`]:!!v})},_))):_;if(I&&p)return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column"},M),t.createElement("div",{className:"p-grid_item p-mid_column"},h),t.createElement("div",{className:"p-grid_item p-last_column"},d),t.createElement("div",{className:"p-grid_item p-mid_column"},A));const D=E(()=>C?t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-mid_column",{"p-last_row":T})},d),t.createElement("div",{className:o()("p-grid_item p-last_column",{"p-last_row":T,"p-bottom-right-ele":T})},A)):g?t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-last_column",{"p-last_row":T})},d),t.createElement("div",{className:o()("p-grid_item p-mid_column",{"p-last_row":T,"p-bottom-right-ele":T})},h)):t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-mid_column",{"p-last_row":T})},h),t.createElement("div",{className:o()("p-grid_item p-last_column",{"p-last_row":T,"p-bottom-right-ele":T})},d)),"getRowItems");return D.displayName="getRowItems",t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-first_column",{"p-last_row":T,"p-bottom_left_row_ele":T})},M),D())}E(i,"RowItem"),i.displayName="RowItem";const l=i},1022447908:(N,y,e)=>{"use strict";e.d(y,{A:()=>F});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(5562796568),r=e(6471059816),a=e(5000515034),i=e(6318661545),l=e(1267040415),m=e(2551341535),_=e(3226207882),h=e(7949425452),d=e(5641442783),f=e(2978178368),v=e(6839188756),u=e(6084388622),g=e(8739505998),p=e(8683010724),A=e(8668318456),C=e(9702400417),T=e(9907843289),I=e(4452574402),M=e(6323355797),D=e(9506008067),O=e(3554387543),S=e(3474336343),R=e(3547923876),U=e(7169590072),P=e(1670069836);const L=new r.Ay("guided_trials");function F(x){let{from:b,canUserPurchase:k=!1,onProButtonClick:B,onFreeButtonClick:W,isProFirst:K=!1}=x;const[H,z]=(0,t.useState)(!1),Q=(0,n.wA)(),q=(0,D.d4)(U.$J),$=(0,D.d4)(S.BI);(0,c.A)(()=>{Q((0,U.E5)())});const le=b===_.FM.setup,te=(0,D.d4)(Ce=>(0,O.MO)(Ce,M.i6.standard.name,M.ck.monthly)),ce=(0,D.d4)(Ce=>(0,O.MO)(Ce,M.i6.plus.name,M.ck.monthly)),me=(0,D.d4)(Ce=>(0,O.MO)(Ce,M.i6.plus.name,M.ck.yearly)),_e=(0,D.d4)(O.nc),Ae=(0,D.d4)(O.Pr),ye=(0,D.d4)(Ce=>(0,O.C8)(Ce,M.i6.standard.name,M.ck.monthly)),oe=(0,D.d4)(Ce=>(0,O.C8)(Ce,M.i6.plus.name,M.ck.monthly)),ee=(0,D.d4)(Ce=>(0,O.C8)(Ce,M.i6.standard.name,M.ck.monthly)),V=(0,D.d4)(Ce=>(0,O.MO)(Ce,M.i6.standard.name,M.ck.monthly)),w=(0,D.d4)(Ce=>(0,O.MO)(Ce,M.i6.standard.name,M.ck.yearly)),G=(0,D.d4)(R.RN)&&b===_.$X.proUpgradeToBizPlus,Z=(0,D.d4)(O.EV),se=(0,D.d4)(P.H7),ae=b&&b===_.eX.proDowngradeToFree,re=b&&b===_.eX.bizPlusDowngradeToPro,pe=b&&b===_.eX.bizPlusDowngradeToFree,de=ae||re||pe,ie=(0,t.useMemo)(()=>t.createElement("div",{className:"p-check_icon_container"},G?t.createElement(p.A,{name:"check-circle-filled",size:"20"}):t.createElement(p.A,{name:"check-filled"})),[G]),he=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":q?L.t("Feature unavailable"):"",className:"p-icon_container"},t.createElement(p.A,{name:"minus-filled"})),[q]),ve=(0,t.useCallback)(()=>{if(ae){const Ce=(0,_.H0)().filter(we=>!we.isHidden),Qe=H?Ce:[],Be=[...(0,_.KJ)(ae)];return Be.splice(5,1),[...Be,...Qe]}return re?H?(0,_.NQ)():(0,_.Qv)():pe?H?(0,_.qD)():(0,_.Rq)():q?(0,_.dQ)(q):le?(0,_.VK)():G?(0,_.G)():(0,_.KJ)()},[q,le,ae,H,re,pe,G]),ge=(0,t.useCallback)(()=>ve().map(Qe=>{const{key:Be,description:we,freeDesc:xe,descriptionToolTip:Se,title:Ye,paidDesc:ot,descriptionClassName:_t,bizPlusDesc:pt}=Qe;let vt,yt=ot||ie;const Tt=pt||ie;return xe==="included"?vt=ie:q&&xe==="-"?vt=he:vt=xe,q&&yt==="-"&&(yt=he),Ye?t.createElement("div",{key:Be,className:"p-grid_item p-first_column p-feature_heading"},Ye):t.createElement(m.A,{key:Be,description:we,freeDesc:vt,paidDescription:yt,descriptionToolTip:Se,descriptionClassName:_t,isProFirst:K,bizPlusDescription:Tt,showBizPlus:!le&&!de,isProToBizPlusUpgrade:G})}),[ve,ie,q,K,le,he,de,G]),ke=L.t("Recommended"),Ne=(0,t.useMemo)(()=>t.createElement(t.Fragment,null,t.createElement("div",null)," ",t.createElement("div",null)," ",t.createElement("div",{className:"p-business_plus_recommended_label"},ke)),[ke]),We=L.t("per person/month"),Oe=(0,t.useMemo)(()=>{if(Ae){const Ce=oe??ce,Qe=(0,C.A)(me,_e)||"",Be=(0,C.A)(Ce,_e)||"";return G?t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},t.createElement("div",{className:"p-plans_at_glance_price_label"},Qe),t.createElement(f.d,{plan:M.i6.plus.name},t.createElement("div",{className:s()("p-grid_item__description--tooltip","p-plans_at_glance_per_person_label")},We))):t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},q?L.rt("<strong>{price}</strong> per person/month",{price:Be}):"")}return t.createElement(a.A,{size:"large"})},[q,Ae,ce,me,oe,_e,G,We]),be=(0,t.useMemo)(()=>{if(Ae){const Ce=ye??te,Qe=(0,C.A)(w,_e)||"",Be=(0,C.A)(Ce,_e)||"",we=t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},L.rt("<strong>{price}</strong> per person/month",{price:Be}));return G?t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},t.createElement("div",{className:"p-plans_at_glance_price_label"},Qe),t.createElement(f.d,{plan:M.i6.standard.name},t.createElement("div",{className:s()("p-grid_item__description--tooltip","p-plans_at_glance_per_person_label")},We))):$&&le?t.createElement("div",{className:"p-plans_at_glance_cost-label-container"},t.createElement("span",{className:"p-plans_at_glance_discount-label-lpt margin_top_25"},L.rt("Free 30-day trial, then {price} per person/month. Cancel anytime.",{price:(0,I.ZV)(V,(0,T.Yp)(),{style:"currency",currency:_e,currencyDisplay:"symbol"})||""}))):le||ee?t.createElement("div",{className:"p-plans_at_glance_cost-label-container"},t.createElement("span",{className:"p-plans_at_glance_original-label","data-qa":"plans-cost-full"},L.rt("<s>{price} per person/month</s>",{price:(0,I.ZV)(V,(0,T.Yp)(),{style:"currency",currency:_e,currencyDisplay:"symbol"})||""})),t.createElement("span",{className:"p-plans_at_glance_discount-label","data-qa":"plans-cost-discount"},ee&&L.rt("<strong>{price}</strong> per person/month",{price:(0,I.ZV)(ee,(0,T.Yp)(),{style:"currency",currency:_e,currencyDisplay:"symbol"})||""}))):we}return t.createElement(a.A,{size:"large"})},[Ae,ye,te,V,w,_e,le,ee,$,G,We]),Ke=L.t("Current"),Fe=L.t("Pro"),J=(0,t.useCallback)(()=>G?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-mid_column p-first_row"},t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},t.createElement("div",{className:"p-plans_at_glance_table_heading_with_badge_container"},Fe,t.createElement("div",{className:"p-plans_at_glance_table_current_plan_badge"},Ke)),t.createElement("div",{className:"p-cost_label_container"},be))),t.createElement("div",{className:"p-grid_item p-top_right_ele p-last_column p-first_row"},t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},L.t("Business+"),t.createElement("div",{className:"p-cost_label_container"},Oe)))):K?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-last_column"},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},L.t("Slack Pro")),t.createElement(d.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:A.UiComponentVariant.PLANS_AT_GLANCE}),ae&&t.createElement(h.J,{autoClogProps:_.t8}))),t.createElement("div",{className:"p-grid_item p-free_heading p-top_right_ele"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},L.t("Free")))):t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-free_heading"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},re?L.t("Slack Pro"):L.t("Free"))),t.createElement("div",{className:s()("p-grid_item p-last_column p-pro_heading",{"p-top_right_ele":!q&&!le})},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro "}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},re||pe?L.t("Business+"):L.t("Slack Pro")),t.createElement(d.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:A.UiComponentVariant.PLANS_AT_GLANCE}),ae&&t.createElement(h.J,{autoClogProps:_.t8})))),[q,pe,re,ae,Oe,be,K,G,le,Ke,Fe]),ne=(0,D.d4)(Ce=>(0,M.m6)(Ce,{action:"checkout",productLevel:M.i6.standard.id,entryPoint:"guided_trials_plans_at_glance_upgrade_cta"})),je=(0,D.d4)(Ce=>(0,M.m6)(Ce,{action:"checkout",productId:Z===M.ck.yearly?"plus_y":"plus_m",entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),at=L.t("Learn More"),nt=(0,t.useMemo)(()=>k?t.createElement(u.z9,{href:je,autoClogProps:_.m2,type:G?"primary":"outline",className:"p-plans_at_glance_upgrade_now_btn--biz_plus"},L.t("Upgrade Now")):G?t.createElement(u.z9,{className:"p-plans_at_glance_upgrade_now_btn--biz_plus",href:"plans/plus",target:"_blank",type:"primary",autoClogProps:_.j3},at):t.createElement(l.A,{entryPoint:"guided_trials_plans_at_glance_compare_plans_cta",autoClogProps:_.lp,type:"outline",className:"p-plans_at_glance_upgrade_now_btn--biz_plus"},L.t("See Upgrade Options")),[k,je,G,at]),Ge=(0,t.useMemo)(()=>t.createElement(u.Ay,{type:"outline",className:"full_width",onClick:W},L.t("Start with Free")),[W]),Pe=(0,t.useMemo)(()=>le?t.createElement(u.Ay,{onClick:B,type:"primary",className:"p-plans_at_glance__pro-button"},$?L.t("Try Slack Pro"):L.t("Start with Pro")):k?t.createElement(u.z9,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",href:ne,autoClogProps:_.m2},t.createElement("span",{className:"margin_right_50"},t.createElement(p.A,{name:"rocket"})),L.t("Upgrade Now")):t.createElement(l.A,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",entryPoint:"guided_trials_plans_at_glance_compare_plans_cta",autoClogProps:_.lp},L.t("See Upgrade Options")),[k,ne,le,B,$]),Le=(0,t.useCallback)(()=>{z(Ce=>!Ce)},[]),ze=L.rt("Inquire with Sales"),Me=(0,t.useCallback)(()=>{if(ae||re||pe){let Ce=L.t("See full comparison");return H&&(Ce=L.t("Collapse list")),t.createElement("div",{className:"p-grid_item p-last-row-expander"},t.createElement(u.jV,{autoClogProps:_.Dp,onClick:Le,"data-qa":"p-plans_table_extend_list_cta"},Ce))}return K&&le?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:"p-grid_item p-last_column p-last_row"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},be),t.createElement("div",{className:"margin_top_50"},Pe))),t.createElement("div",{className:"p-grid_item p-mid_column p-last_row p-bottom-right-ele p-free-btn"},Ge)):$&&le?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:s()("p-grid_item  p-mid_column p-last_row")},Ge),t.createElement("div",{className:"p-grid_item p-last_column p-last_row p-bottom-right-ele"},t.createElement("div",{className:"full_width"},t.createElement("div",null,Pe),t.createElement("div",{className:"p-cost_label_container"},be)))):G?t.createElement(t.Fragment,null,t.createElement("div",{className:s()("p-grid_item","p-first_colum","p-last_row","p-bottom_left_ele")}),t.createElement("div",{className:s()("p-grid_item  p-mid_column p-last_row")}),t.createElement("div",{className:"p-grid_item p-last_row p-bottom-right-ele p-last_column"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"margin_top_50"},nt),t.createElement(g.A,{className:"p-plans_at_glance_inquire_with_sales_label",href:(0,v.Zl)(se,"/contact-sales?campaign=7013y000002UvizAAC"),autoClogProps:(0,i.pm)()},t.createElement(p.A,{name:"message",size:"16"}),ze)))):t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:s()("p-grid_item  p-mid_column p-last_row",{"p-free-btn":le})},le&&t.createElement(t.Fragment,null,Ge)),t.createElement("div",{className:"p-grid_item p-last_column p-last_row p-bottom-right-ele"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},be),t.createElement("div",{className:"margin_top_50"},Pe))),!le&&q?t.createElement("div",{className:"p-grid_item p-last_row p-bottom-right-ele"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},Oe),t.createElement("div",{className:"margin_top_50"},nt))):null)},[ae,K,le,be,Ge,Pe,q,Oe,nt,H,Le,re,pe,G,se,$,ze]);return t.createElement("div",{"data-qa":"plans_at_glance_table",className:s()("p-plans_at_glance_table_container",{"p-plans_at_glance_table_downgrade_container":de,"p-plans_at_glance_table_container--with_biz_plus":q&&!le&&!de,"p-plans_at_glance_table_container--pro_to_biz_plus_upgrade":G}),key:"plans-at-glance-table"},G?Ne:null,t.createElement("div",{className:s()("p-grid_item  p-first_column p-top_left_ele",{"p-first_column_heading":ae||re||pe})},ae?L.t("Compare features across plans"):"",(re||pe)&&L.t("Compare impacted features"),G?"Plan Features":""),J(),!le&&q&&!de&&!G?t.createElement("div",{className:"p-grid_item p-top_right_ele p-free_heading"},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},q?L.t("Business+"):""))):null,ge(),Me())}E(F,"PlansTable")},7109376014:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(4085119397),o=e(6304789565),s=e(2375333597);const c=(0,o.Ay)("Opens the plans at glance modal",function(a,i){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{onComplete:m,canUserPurchase:_=!1,onProButtonClick:h,onFreeButtonClick:d,from:f,isProFirst:v=!1,trialEligible:u}=l;return a((0,s.q)({element:t.createElement(n.A,{onComplete:m,canUserPurchase:_,onProButtonClick:h,onFreeButtonClick:d,from:f,isProFirst:v,trialEligible:u}),isStackable:!1}))});c.meta={name:"createThunk",key:"createThunkopenPlansAtGlanceModal",description:"Opens the plans at glance modal"};const r=c},3226207882:(N,y,e)=>{"use strict";e.d(y,{$X:()=>r,Cx:()=>i,Dp:()=>u,FM:()=>a,G:()=>S,Go:()=>h,H0:()=>A,KJ:()=>g,NQ:()=>I,QH:()=>C,Qv:()=>M,Rq:()=>O,VK:()=>p,dQ:()=>T,eX:()=>c,j3:()=>f,lp:()=>d,m2:()=>_,qD:()=>D,t8:()=>v});var t=e(8668318456),n=e(6471059816),o=e(6323355797);const s=new n.Ay("guided_trials");var c;(function(R){R.proDowngradeToFree="proDowngradeToFree",R.bizPlusDowngradeToPro="bizPlusDowngradeToPro",R.bizPlusDowngradeToFree="bizPlusDowngradeToFree"})(c||(c={}));var r;(function(R){R.proUpgradeToBizPlus="proUpgradeToBizPlus"})(r||(r={}));var a;(function(R){R.setup="setup"})(a||(a={}));var i;(function(R){R.trialCheckout="trialCheckout"})(i||(i={}));var l;(function(R){R.MESSAGES_AND_HISTORY="messages_and_history",R.PRODUCTIVITY_AND_COLLABORATION="productivity_and_collaboration",R.CONNECT_WITH_EXTERNAL_PEOPLE="connect_with_external_people",R.HUDDLE_WITH_SCREEN_SHARE="huddles_with_screen_share",R.CANVASES_FEATURE="canvases_feature",R.AV_CLIPS="av_clips",R.APPS_AND_AUTOMATION="apps_and_automation",R.SIDE_BAR_ORGANIZATION="side_bar_organization",R.APPS="apps",R.WORKFLOWS="workflows",R.CUSTOMER_SUPPORT="customer_support",R.SLACK_AI="slack_ai",R.AUTOMATION_TOLLS_TITLE="automation_tolls",R.INTEGRATION_WITH_OTHER_APPS="integratins_with_other_apps",R.WORKFLOW_BUILDER="workflow_builder",R.CUSTOM_WORKFLOW_STEP="custom_workflow_step",R.DEPLOY_APPS_TO_SLACK="deploy_apps_to_slack",R.AUTOMATION_USAGE_TITLE="automation_usage",R.PUBLISH_WORKFLOWS="published_workflows",R.STANDARD_WORKFLOWS="standard_workflows",R.PREMIUM_WORKFLOWS="premium_workflows",R.SECURITY_TITLE="security",R.DATA_ENCRYPTION="data_encryption",R.TWO_FACTOR_AUTH="two_factor_auth",R.SSO="sso",R.COMPLIANCE_TITLE="compliance",R.CUSTOMER_RETENTION="customer_retention",R.ADMINSTRATION_TITLE="adminstration",R.WORKSPACES="workspaces",R.CHANNEL_PERMISSION="channel_permission",R.CUSTOM_USER_GROUP="custom_user_group",R.ADMIN_ANALYTICS_DASHBOARD="admin_analytics_dashboard",R.SUPPORT_TITLE="support",R.ACCESS_CUSTOMER_SUPPORT="access_customer_support",R.HUDDLES="huddles",R.LISTS="lists",R.SLACK_CONNECT="slack_connect",R.DATA_STORAGE_AND_RETENTION="data_storage_and_retention",R.MESSAGE_ACTIVITY_ANALYTICS="message_activity_analytics",R.ADMIN_ANALYTICS_API="adming_analytics_api",R.SCIM_MEMBER_MANAGEMENT="scim_member_management",R.DATA_EXPORT_MESSAGES="messaging_data_exports"})(l||(l={}));var m;(function(R){R.SEE_UPGRADE_OPTIONS="see_upgrade_options_cta",R.UPGRADE_NOW="upgrade_now_cta",R.COMPARE_ALL_PLANS="compare_all_plans",R.SEE_MORE_COLLAPSE="see_more_collapse",R.START_FREE_TRIAL="start_free_trial_cta",R.LEARN_MORE="learn_more"})(m||(m={}));const _={elementName:m.UPGRADE_NOW,onClick:{enableClogAction:!0}},h={elementName:m.START_FREE_TRIAL,onClick:{enableClogAction:!0}},d={elementName:m.SEE_UPGRADE_OPTIONS,onClick:{enableClogAction:!0}},f={elementName:m.LEARN_MORE,onClick:{enableClogAction:!0}},v={uiComponentVariant:t.UiComponentVariant.PLANS_AT_GLANCE},u={elementName:m.SEE_MORE_COLLAPSE,onClick:{enableClogAction:!0}},g=E(R=>[{key:`row_${l.MESSAGES_AND_HISTORY}`,description:s.t("Unlimited messages & file history"),freeDesc:s.t("Limited to past 90 days"),descriptionToolTip:R?s.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files."):""},{key:`row_${l.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:s.t("Work with external people in channels"),freeDesc:s.t("1:1 direct messages only"),descriptionToolTip:R?s.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts."):""},{key:`row_${l.HUDDLE_WITH_SCREEN_SHARE}`,description:s.t("Group audio and video huddles"),freeDesc:s.t("1:1 only"),descriptionToolTip:R?s.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch."):""},{key:`row_${l.CANVASES_FEATURE}`,description:s.t("Unlimited canvases to share knowledge"),freeDesc:s.t("Channel canvases only"),descriptionToolTip:R?s.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!"):""},{key:`row_${l.AV_CLIPS}`,description:s.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:R?s.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like."):""},{key:`row_${l.APPS_AND_AUTOMATION}`,description:s.t("Unlimited apps and automations"),freeDesc:s.t("Limited to 10")},{key:`row_${l.SIDE_BAR_ORGANIZATION}`,description:s.t("Custom sidebar organization"),freeDesc:"-",descriptionToolTip:R?s.t("Keep your projects, teams, and priorities straight, by organizing your channels and conversations into custom, collapsible sections in your sidebar."):""}],"getRowsData"),p=E(()=>[{key:`row_${l.MESSAGES_AND_HISTORY}`,description:s.t("Unlimited messages & file history"),freeDesc:s.t("Limited to past 90 days"),descriptionToolTip:s.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{key:`row_${l.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:s.t("Work with external people in channels"),freeDesc:s.t("1:1 direct messages only"),descriptionToolTip:s.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{key:`row_${l.HUDDLE_WITH_SCREEN_SHARE}`,description:s.t("Group audio and video conversations"),freeDesc:s.t("1:1 only"),descriptionToolTip:s.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2013 all at the flip of a switch.")},{key:`row_${l.CANVASES_FEATURE}`,description:s.t("Unlimited canvases to share knowledge"),freeDesc:s.t("Channel canvases only"),descriptionToolTip:s.t("Getting your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more.")},{key:`row_${l.AV_CLIPS}`,description:s.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:s.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like.")},{key:`row_${l.APPS}`,description:s.t("Unlimited apps"),freeDesc:s.t("Limited to 10"),descriptionToolTip:s.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{key:`row_${l.WORKFLOWS}`,description:s.t("Unlimited workflows"),freeDesc:"-",descriptionToolTip:s.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{key:`row_${l.SLACK_AI}`,description:s.t("Slack AI"),freeDesc:"-",descriptionToolTip:s.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",paidDesc:s.t("Add-on available")}],"getStpRowsData"),A=E(()=>[{title:s.t("Automation tools"),key:l.AUTOMATION_TOLLS_TITLE,freeDesc:"",description:""},{title:"",key:l.INTEGRATION_WITH_OTHER_APPS,description:s.t("Integrations with other apps"),freeDesc:"",descriptionToolTip:s.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:l.WORKFLOW_BUILDER,description:s.t("Workflow Builder"),freeDesc:"included",descriptionToolTip:s.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:l.CUSTOM_WORKFLOW_STEP,description:s.t("Custom workflow steps"),freeDesc:"-",descriptionToolTip:s.t("Custom workflow steps allow you to bring systems and business logic unique to your organization into a workflow. They are built by developers using Slack APIs.")},{title:"",key:l.DEPLOY_APPS_TO_SLACK,description:s.t("Deploy apps to Slack infrastructure"),freeDesc:"-",descriptionToolTip:s.t("Developers can deploy custom functions to Slack\u2019s secure, managed infrastructure at no additional cost.")},{title:s.t("Automation usage"),key:l.AUTOMATION_USAGE_TITLE,freeDesc:"",description:""},{title:"",key:l.PUBLISH_WORKFLOWS,description:s.t("Total published workflows or integrations with other apps"),freeDesc:s.t("10"),paidDesc:s.t("Unlimited"),descriptionToolTip:s.t("Published workflows are created in Workflow Builder and made available to use in your workspace. Published integrations are installed from the App Directory and made available to use in your workspace. ")},{title:"",key:`row_${l.WORKFLOWS}`,description:s.t("Workflows"),freeDesc:"-",paidDesc:s.t("No code"),descriptionToolTip:s.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:s.t("Security"),key:l.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:l.DATA_ENCRYPTION,description:s.t("Data encryption at rest and in transit"),freeDesc:"-",descriptionToolTip:s.t("By default, Slack encrypts data at rest and data in transit as part of our foundational security controls.")},{title:"",key:l.TWO_FACTOR_AUTH,description:s.t("Two-factor authentication"),freeDesc:"-",descriptionToolTip:s.t("If your password is compromised or stolen, you\u2019ll have peace of mind knowing that only you can sign in.")},{title:"",key:l.SSO,description:s.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:s.t("Using Google for OAuth makes it possible for your team to securely and easily sign in to Slack using their Google accounts \u2014 that\u2019s one less password to remember.")},{title:s.t("Compliances"),key:l.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_RETENTION,description:s.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:s.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:s.t("Administration"),key:l.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKSPACES,description:s.t("Workspaces"),freeDesc:s.t("1"),paidDesc:s.t("1"),descriptionToolTip:s.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:l.CHANNEL_PERMISSION,description:s.t("Manage channel posting permissions"),freeDesc:s.t("Limited to #general channel only"),paidDesc:s.t("Limited to #general channel only"),descriptionToolTip:s.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.CUSTOM_USER_GROUP,description:s.t("Custom User Groups"),freeDesc:"-",descriptionToolTip:s.t("Make it easier to send notifications and communicate with entire teams, departments, or groups.")},{title:"",key:l.ADMIN_ANALYTICS_DASHBOARD,description:s.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:s.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:s.t("Support"),key:l.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_SUPPORT,description:s.t("Access to customer support"),freeDesc:s.t("Standard support"),paidDesc:s.t("24/7 support"),descriptionToolTip:s.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getExtendedRowsData"),C=E(()=>[{key:`row_${l.MESSAGES_AND_HISTORY}`,description:s.t("Search all messages & file history"),freeDesc:s.t("Limited to past {messageLimit} days",{messageLimit:o.RF}),descriptionToolTip:s.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{key:`row_${l.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:s.t("Work with external people in channels"),freeDesc:s.t("1:1 direct messages only"),descriptionToolTip:s.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{key:`row_${l.HUDDLE_WITH_SCREEN_SHARE}`,description:s.t("Voice/video huddles with screen share"),freeDesc:s.t("1:1 only"),descriptionToolTip:s.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch.")},{key:`row_${l.CANVASES_FEATURE}`,description:s.t("Unlimited canvases to share knowledge"),freeDesc:s.t("Channel canvases only"),descriptionToolTip:s.t("Getting your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more.")},{key:`row_${l.AV_CLIPS}`,description:s.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:s.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like.")},{key:`row_${l.APPS}`,description:s.t("Unlimited apps"),freeDesc:s.t("Limited to 10"),descriptionToolTip:s.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{key:`row_${l.WORKFLOWS}`,description:s.t("Workflows"),freeDesc:"-",descriptionToolTip:s.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{key:`row_${l.SLACK_AI}`,description:s.t("Slack AI"),freeDesc:"-",descriptionToolTip:s.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",paidDesc:s.t("Add-on available")}],"getPlanVisibilityRowData"),T=E(R=>[{title:"",key:`row_${l.MESSAGES_AND_HISTORY}`,description:s.t("Message and file access"),freeDesc:s.t("Limited to {messageLimit} days",{messageLimit:o.RF}),descriptionToolTip:s.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{title:"",key:`row_${l.SLACK_CONNECT}`,description:s.t("Slack Connect"),freeDesc:s.t("1:1 only"),descriptionToolTip:s.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{title:"",key:`row_${l.HUDDLES}`,description:s.t("Huddles"),freeDesc:s.t("1:1 only"),descriptionToolTip:s.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2013 all at the flip of a switch.")},{title:"",key:`row_${l.CANVASES_FEATURE}`,description:R?s.t("Slack canvases"):"",freeDesc:R?s.t("Channels and DMs only"):"",descriptionToolTip:s.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!")},{title:"",key:`row_${l.LISTS}`,description:R?s.t("Slack lists"):"",freeDesc:"-",descriptionToolTip:R?s.t("Lists bring work management to where teams are already collaborating. You can visualize and organize tasks from your conversations so you can track cross-functional projects, requests, approvals, and more."):""},{title:"",key:`row_${l.APPS}`,description:s.t("Apps connected to Slack"),freeDesc:s.t("10"),descriptionToolTip:s.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:`row_${l.WORKFLOWS}`,description:s.t("Workflows"),freeDesc:"-",descriptionToolTip:s.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:`row_${l.DATA_STORAGE_AND_RETENTION}`,description:R?s.t("Data storage and retention"):"",freeDesc:s.t("Up to 1 year"),descriptionToolTip:s.t("Retain access to your entire message and file history. On the free version of Slack, your data will be deleted after one year.")},{title:"",key:l.SSO,description:R?s.t("SAML-based single sign-on (SSO)"):"",freeDesc:"-",descriptionToolTip:R?s.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta."):"",paidDesc:s.t("-")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:R?s.t("User provisioning (SCIM)"):"",freeDesc:"-",descriptionToolTip:R?s.t("Slack supports member provisioning with the System for Cross-domain Identity Management (SCIM) standard. To set up provisioning, you\u2019ll need to use a connector app alongside a supported identity provider."):"",paidDesc:s.t("-")},{title:"",key:l.DATA_EXPORT_MESSAGES,description:R?s.t("Data exports for all messages"):"",freeDesc:"-",descriptionToolTip:R?s.t("Workspace owners and admins can export data from all channels and conversations, including private channels and direct messages, as needed and permitted by law."):"",paidDesc:s.t("-")},{title:"",key:`row_${l.SLACK_AI}`,description:s.t("Slack AI"),freeDesc:"-",paidDesc:s.t("Add-on available"),descriptionToolTip:s.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",bizPlusDesc:s.t("Add-on available")}],"getPricingAndPackagingRowData"),I=E(()=>[{title:s.t("Security"),key:l.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:l.SSO,description:s.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:s.t("Using Google for OAuth makes it possible for your team to securely and easily sign in to Slack using their Google accounts \u2014 that\u2019s one less password to remember.")},{title:s.t("Compliances"),key:l.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_RETENTION,description:s.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:s.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:s.t("Administration"),key:l.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKSPACES,description:s.t("Workspaces"),freeDesc:s.t("1"),paidDesc:s.t("Unlimited"),descriptionToolTip:s.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:l.CHANNEL_PERMISSION,description:s.t("Manage channel posting permissions"),freeDesc:s.t("Limited to #general channel only"),paidDesc:s.t("Unlimited"),descriptionToolTip:s.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.ADMIN_ANALYTICS_API,description:s.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:s.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:l.ADMIN_ANALYTICS_DASHBOARD,description:s.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:s.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:s.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:s.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")},{title:s.t("Support"),key:l.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_SUPPORT,description:s.t("Access to customer support"),freeDesc:s.t("24/7 support"),paidDesc:s.t("24/7 support with four-hour first response time"),descriptionToolTip:s.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getBizPlusDowngradeToProAllRowsData"),M=E(()=>[{title:"",key:l.SSO,description:s.t("SAML single sign on (SSO)"),freeDesc:"-",descriptionToolTip:s.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:l.CHANNEL_PERMISSION,description:s.t("Unlimited channel posting permissions"),freeDesc:s.t("#general only"),descriptionToolTip:s.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:s.t("SCIM member management"),freeDesc:"-",descriptionToolTip:s.t("Slack supports member provisioning with this standard to allow Workpace Owners and Admins to manage members more efficiently.")},{title:"",key:l.ADMIN_ANALYTICS_API,description:s.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:s.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:s.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:s.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")}],"getBizPlusDowngradeToProRowsData"),D=E(()=>[{title:s.t("Productivity & collaboration"),key:l.PRODUCTIVITY_AND_COLLABORATION,freeDesc:"",description:""},{title:"",key:l.MESSAGES_AND_HISTORY,description:s.t("Search all messages & file history"),freeDesc:s.t("Limited to past {messageLimit} days",{messageLimit:o.RF}),descriptionToolTip:s.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{title:"",key:l.CONNECT_WITH_EXTERNAL_PEOPLE,description:s.t("Work with external people in channels"),freeDesc:s.t("1:1 direct messages only"),descriptionToolTip:s.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{title:"",key:l.CANVASES_FEATURE,description:s.t("Unlimited canvases to share knowledge"),freeDesc:s.t("Channel canvases only"),descriptionToolTip:s.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!")},{title:"",key:l.APPS_AND_AUTOMATION,description:s.t("Apps and automations"),freeDesc:s.t("Limited to 10"),descriptionToolTip:s.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2014 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:l.HUDDLE_WITH_SCREEN_SHARE,description:s.t("Slack huddles"),freeDesc:s.t("1:1 only"),descriptionToolTip:s.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch.")},{title:"",key:l.SIDE_BAR_ORGANIZATION,description:s.t("Custom sidebar organization"),freeDesc:"-",descriptionToolTip:s.t("Keep your projects, teams, and priorities straight, by organizing your channels and conversations into custom, collapsible sections in your sidebar.")},{title:s.t("Automation tools"),key:l.AUTOMATION_TOLLS_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKFLOW_BUILDER,description:s.t("Workflow Builder"),freeDesc:"-",descriptionToolTip:s.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:l.CUSTOM_WORKFLOW_STEP,description:s.t("Custom workflow steps"),freeDesc:"-",descriptionToolTip:s.t("Custom workflow steps allow you to bring systems and business logic unique to your organization into a workflow. They are built by developers using Slack APIs.")},{title:"",key:l.DEPLOY_APPS_TO_SLACK,description:s.t("Deploy apps to Slack infrastructure"),freeDesc:"-",descriptionToolTip:s.t("Developers can deploy custom functions to Slack\u2019s secure, managed infrastructure at no additional cost.")},{title:s.t("Automation usage"),key:l.AUTOMATION_USAGE_TITLE,freeDesc:"",description:""},{title:"",key:l.PUBLISH_WORKFLOWS,description:s.t("Total published workflows or integrations with other apps"),freeDesc:s.t("10"),paidDesc:s.t("Unlimited"),descriptionToolTip:s.t("Published workflows are created in Workflow Builder and made available to use in your workspace. Published integrations are installed from the App Directory and made available to use in your workspace. ")},{title:"",key:l.STANDARD_WORKFLOWS,description:s.t("Standard workflows"),freeDesc:"-"},{title:"",key:l.PREMIUM_WORKFLOWS,description:s.t("Premium workflows"),freeDesc:"-",paidDesc:s.t("2000 runs/month")},{title:s.t("Security"),key:l.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:l.SSO,description:s.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:s.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:s.t("Compliances"),key:l.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_RETENTION,description:s.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:s.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:s.t("Administration"),key:l.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKSPACES,description:s.t("Workspaces"),freeDesc:s.t("1"),paidDesc:s.t("Unlimited"),descriptionToolTip:s.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:l.CHANNEL_PERMISSION,description:s.t("Manage channel posting permissions"),freeDesc:s.t("Limited to #general channel only"),paidDesc:s.t("Unlimited"),descriptionToolTip:s.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.CUSTOM_USER_GROUP,description:s.t("Custom User Groups"),freeDesc:"-",descriptionToolTip:s.t("Make it easier to send notifications and communicate with entire teams, departments, or groups.")},{title:"",key:l.ADMIN_ANALYTICS_DASHBOARD,description:s.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:s.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:s.t("Support"),key:l.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_SUPPORT,description:s.t("Access to customer support"),freeDesc:s.t("Standard support"),paidDesc:s.t("24/7 support within 4 hours"),descriptionToolTip:s.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getBizPlusDowngradeToFreeAllRowsData"),O=E(()=>[{title:"",key:l.WORKFLOWS,description:s.t("Workflows"),freeDesc:"-",descriptionToolTip:s.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:l.APPS_AND_AUTOMATION,description:s.t("Unlimited apps connected to slack"),freeDesc:"-",descriptionToolTip:s.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:l.SSO,description:s.t("SAML single sign on (SSO)"),freeDesc:"-",descriptionToolTip:s.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:l.CHANNEL_PERMISSION,description:s.t("Unlimited channel posting permissions"),freeDesc:"-",descriptionToolTip:s.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:s.t("SCIM member management"),freeDesc:"-",descriptionToolTip:s.t("Slack supports member provisioning with this standard to allow Workpace Owners and Admins to manage members more efficiently.")},{title:"",key:l.ADMIN_ANALYTICS_API,description:s.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:s.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:s.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:s.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")}],"getBizPlusDowngradeToFreeRowsData"),S=E(()=>[{title:"",key:l.CONNECT_WITH_EXTERNAL_PEOPLE,description:s.t("Work with external people"),descriptionToolTip:s.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect.")},{title:"",key:l.HUDDLES,description:s.t("Huddles"),descriptionToolTip:s.t("Work together in real time with up to 50 people through audio and video meetings (including screen sharing) using Slack huddles.")},{title:"",key:l.CANVASES_FEATURE,description:s.t("Unlimited lists and canvases"),descriptionToolTip:s.t("Document key resources and track projects without ever leaving Slack.")},{title:"",key:l.WORKFLOWS,description:s.t("Apps and workflows"),descriptionToolTip:s.t("App integrations are installed apps you can access from within Slack (like Google Drive or Office 365). And workflows allows you to automate routine tasks and processes right in Slack, no code needed. They can even be connected to apps you use to get work done.")},{title:"",key:l.SSO,description:s.t("Single sign-on (SSO)"),paidDesc:s.t("Limited to Google"),descriptionToolTip:s.t("Set up single sign-on with Google OAuth or choose from one of up to 12 SAML-based SSO configurations, including OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:s.t("User management with SCIM"),descriptionToolTip:s.t("Slack supports member provisioning with the System for Cross-domain Identity Management (SCIM) standard. To set up provisioning, you\u2019ll need to use a connector app alongside a supported identity provider."),paidDesc:s.t("\u2014")},{title:"",key:l.DATA_EXPORT_MESSAGES,description:s.t("Data exports for all messages"),descriptionToolTip:s.t("Workspace owners and admins can export data from all channels and conversations, including private channels and direct messages, as needed and permitted by law."),paidDesc:s.t("\u2014")},{title:"",key:l.CHANNEL_PERMISSION,description:s.t("Advanced channel permissions"),descriptionToolTip:s.t("Adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction-free."),paidDesc:s.t("\u2014")},{title:"",key:l.ADMIN_ANALYTICS_API,description:s.t("Admin Analytics API"),descriptionToolTip:s.t("Retrieve analytics data for a given date, presented as a compressed JSON file."),paidDesc:s.t("\u2014")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:s.t("Message activity analytics"),descriptionToolTip:s.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization."),paidDesc:s.t("\u2014")}],"getBoostBusPlusRowData")},952756744:(N,y,e)=>{"use strict";e.d(y,{s:()=>c});var t=e(3134334389),n=e(4902318931),o=e(6259241484);const s={[o.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,8240993983)))}},c=E(()=>t.createElement(n.Ay,{spaceName:o.xu.HUDDLE_INVITE_MODAL,notifications:s}),"HuddleInviteModalTrialBannerV2MegaphoneWrapper");c.displayName="HuddleInviteModalTrialBannerV2MegaphoneWrapper"},8240993983:(N,y,e)=>{"use strict";e.r(y),e.d(y,{HuddleInviteModalTrialBannerV2:()=>A,default:()=>C});var t=e(3134334389),n=e(6122756707),o=e(5562796568),s=e(7173172014),c=e(6471059816),r=e(1267040415),a=e(5641442783),i=e(7433432223),l=e(6084388622),m=e(8112788848),_=e(8668318456),h=e(6323355797),d=e(9506008067),f=e(8871937520),v=e(7169590072);const u=new c.Ay("guided_trials"),g={elementName:"upgrade_now_cta",onClick:{enableClogAction:!0}},p={elementName:"see_upgrade_options_cta",onClick:{enableClogAction:!0}},A=E(T=>{let{trialEndDate:I,canUserPurchase:M}=T;const D=(0,n.wA)(),O=(0,d.d4)(v.$J),S=(0,d.d4)(U=>(0,h.m6)(U,{action:"checkout",productLevel:h.i6.standard.id,entryPoint:"guided_trials_peek_upgrade_cta"}));(0,o.A)(()=>{D((0,v.E5)())});const R=E(()=>M?t.createElement(l.z9,{autoClogProps:g,href:S,className:"p-huddle_invite_modal__cta_upgrade",size:"small","data-qa":"huddle-invite-modal-upgrade-cta"},O?u.t("Upgrade to Pro"):u.t("Upgrade Now")):t.createElement(r.A,{feature:h.c4.SLACK_HUDDLES,autoClogProps:p,size:"small",type:O?"primary":"outline"},O?u.t("Compare plans"):u.t("See Upgrade Options")),"getCTA");return R.displayName="getCTA",t.createElement(s.A,{eventId:_.EventId.UPGRDEXP_TRIAL,uiComponentName:_.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement(i.A,{className:"p-huddle_invite_modal_trial_banner_v2__container","data-qa":"huddle_invite_modal_trial_banner",primaryCTA:R(),withMargins:!0},t.createElement("div",null,O?u.rt("<strong>Huddles will soon be limited to two people</strong>"):u.rt("<strong>Group huddles aren\u2019t available for much longer</strong>"),t.createElement(a.A,{className:"p-huddle_invite_modal_trial_banner_v2__pro_tooltip",uiComponentVariant:_.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:m.m.MenuAboveFullScreen})),O?u.rt("Upgrade to continue using group huddles with your team."):u.rt("If you choose not to upgrade by {trialEndDate}, your team won\u2019t be able to huddle with more than one other person.",{trialEndDate:(0,f.Pd)(I),fallbackHash:"e680e704766e6c0c74ca66a78c581927a4b36bdf"})))},"HuddleInviteModalTrialBannerV2");A.displayName="HuddleInviteModalTrialBannerV2";const C=A},9953252450:(N,y,e)=>{"use strict";e.d(y,{A:()=>O,x:()=>M});var t=e(3134334389),n=e(6122756707),o=e(5562796568),s=e(7173172014),c=e(6471059816),r=e(6852088830),a=e(7287809332),i=e(2481088989),l=e(7433432223),m=e(3328083357),_=e(677609895),h=e(3559837422),d=e(8739505998),f=e(8668318456),v=e(6323355797),u=e(9506008067),g=e(8871937520),p=e(7268021173),A=e(3192808693),C=e(7169590072);const T=new c.Ay("trials_highlight_paid_features"),I={elementName:"view_all_pro_features",onClick:{enableClogAction:!0}},M=E(S=>{let{trialEndTs:R,experimentPnpGoGroupTreatment:U,viewAllProFeaturesLink:P,v2ClassName:L,isSalesforcePlusTrial:F,experimentPnpSfEmbedGrowthGroupOn:x,canUserPurchase:b,isGuest:k}=S;if(F&&!k){const B=x?T.rt("Huddles with more than two people is a paid feature, available with your free trial through <strong>{trialEndDate}</strong>.",{trialEndDate:(0,g.Pd)(R)}):"",W=x?T.rt("<strong>Huddles will soon be limited to two people</strong><br></br>Upgrade to continue using group huddles with your team."):"";return t.createElement(s.A,{eventId:f.EventId.UPGRDEXP_TRIAL,uiComponentName:f.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(r.B,{midTrialTitle:B,trialEndTitle:W,entryPoint:a.P,canUserPurchase:b})))}return U?t.createElement(s.A,{eventId:f.EventId.UPGRDEXP_TRIAL,uiComponentName:f.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:L},t.createElement(l.A,{className:"padding_left_125"},(0,i.A)(T.rt("Huddles with more than two people is a paid feature, available with your free trial through <strong>{trialExpirationDate}. <viewAllProFeaturesLink>View all Pro features</viewAllProFeaturesLink></strong>",{trialExpirationDate:(0,g.Pd)(R),"<viewAllProFeaturesLink>":P}),{position:i.D.LEFT_ALIGNED})))):t.createElement(s.A,{eventId:f.EventId.UPGRDEXP_TRIAL,uiComponentName:f.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(m.A,{iconType:"clock-o","data-qa":"huddle_invite_modal_trial_banner"},T.rt("<strong>Huddles with more than two people is a paid feature,</strong> available with your free trial through {trialExpirationDate}.",{trialExpirationDate:(0,g.Pd)(R)}))))},"HuddleInviteModalTrialBanner");M.displayName="HuddleInviteModalTrialBanner";const D=E(S=>{let{v2ClassName:R}=S;const U=(0,n.wA)();(0,o.A)(()=>{U((0,C.E5)())});const P=(0,u.d4)(C.$J),L=(0,u.d4)(p.Sk),F=(0,u.d4)(A.s_),x=(0,u.d4)(A.lL),b=(0,u.d4)(_.X),k=(0,u.d4)(h.DM),B=(0,t.useCallback)(W=>{let{text:K}=W;return t.createElement(d.A,{href:(0,v.hZ)({entryPoint:"huddle_invite_modal_trial_banner"}),autoClogProps:I},K)},[]);return t.createElement(M,{trialEndTs:L,experimentPnpGoGroupTreatment:P,viewAllProFeaturesLink:B,v2ClassName:R,isSalesforcePlusTrial:F,experimentPnpSfEmbedGrowthGroupOn:x,canUserPurchase:b,isGuest:k})},"ConnectedHuddleInviteModalTrialBanner");D.displayName="ConnectedHuddleInviteModalTrialBanner";const O=D},4220141877:(N,y,e)=>{"use strict";e.d(y,{A:()=>T});var t=e(3134334389),n=e(2670882607),o=e(1267040415),s=e(5791262841),c=e(266169032),r=e(6471059816),a=e(6323355797);const i=new r.Ay("huddles"),l=a.ew.PAID_FEATURE_TRIAL,m=E(I=>{let{startTrialContext:M=c.M.huddlesTrialEntryPointModal,uiComponentVariant:D,onSpeedbumpContinue:O,promoType:S,promoSubtype:R,isEligibleForTrial:U}=I;const P=E(W=>{let{text:K}=W;return t.createElement(o.A,{"data-qa":"huddles_trial_entry_point-plans_page_link",useLink:!0},K)},"renderPlansPageLink"),L=i.t("Try huddles with more people"),F=U?i.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:l,"<plansPageLink>":P}):i.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":P}),x=i.t("With more people, you can:"),b=(0,t.useCallback)(()=>[i.t("Host a team brainstorm from anywhere"),i.t("Get the group\u2019s feedback with a live screenshare"),i.t("Touch base on the go, without all the typing")],[]),k=(0,t.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-trial").then(e.t.bind(e,7378585700,23)),[]),B=(0,t.useMemo)(()=>t.createElement(n.e,{getAnimationImport:k,autoplay:!0,loop:!0}),[k]);return t.createElement(s.A,{modalTitle:L,modalSubtitle:F,modalLottieAnimation:B,modalBannerBackgroundColor:"#fdd37f",modalChecklistHeading:x,modalChecklistItems:b(),promoType:S,promoSubtype:R,startTrialContext:M,uiComponentVariant:D,onSpeedbumpContinue:O,isEligibleForTrial:U})},"HuddleTrialEntryPointModal");m.displayName="HuddleTrialEntryPointModal";const _=m;var h=e(8300630630),d=e(6304789565),f=e(2375333597),v=e(7268021173),u=e(962959561),g=e(7859253282),p=e(398781533);function A(){return A=Object.assign||function(I){for(var M=1;M<arguments.length;M++){var D=arguments[M];for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(I[O]=D[O])}return I},A.apply(this,arguments)}E(A,"_extends");const C=(0,d.Ay)("Open huddles trial entry point modal",async(I,M,D)=>{const O=a.ZO.PaidFeatureTrial,S=a.zG.Vhq;I((0,p.Q)({entryPoint:"open_huddle_trial_entry_point_modal",campaignType:O,campaignSubType:S,reason:"huddle_trial_entry_point_modal"})),await I((0,h.A)({campaignType:O,campaignSubType:S,reason:"huddle_trial_entry_point_modal"}));const R=(0,v.hq)(M(),O,S);return(0,u.L9)(M())?I((0,g.r)({promoType:O,promoSubtype:S,entryPoint:"slack_connect_auto_charge_trial_entry_point"})):I((0,f.q)({element:t.createElement(_,A({},D,{promoType:O,promoSubtype:S,isEligibleForTrial:R}))}))});C.meta={name:"createThunk",key:"createThunkopenHuddlesTrialEntryPointModal",description:"Open huddles trial entry point modal"};const T=C},8300630630:(N,y,e)=>{"use strict";e.d(y,{A:()=>a});var t=e(3134334389),n=e(5165209241),o=e(6304789565),s=e(2375333597),c=e(1384076438);const r=(0,o.Ay)("Display loading modal and fetch data for trial entry point modal",async(i,l,m)=>(i((0,s.q)({element:t.createElement(n.A,{className:"p-trial_entry_point_modal__loading_modal"})})),i((0,c.A)(m))));r.meta={name:"createThunk",key:"createThunkopenTrialLoadingModal",description:"Display loading modal and fetch data for trial entry point modal"};const a=r},6455962125:(N,y,e)=>{"use strict";e.d(y,{y:()=>i});var t=e(3134334389),n=e(5431290584),o=e(6471059816),s=e(9506008067),c=e(3192808693);const r=new o.Ay("trials"),a={name:"slack-logo",size:"inherit"},i=E(l=>{let{ariaHidden:m,className:_,autoClogProps:h,badgeTheme:d,size:f}=l;const v=(0,s.d4)(c.lL);return t.createElement(n.rg,{ariaHidden:m,ariaLabel:v?r.t("Paid feature"):"",badgeText:v?r.t("Paid"):"",badgeTheme:d,className:_,autoClogProps:h,size:f,"data-qa":"paid-badge",icon:a})},"PaidBadge");i.displayName="PaidBadge"},6148716148:(N,y,e)=>{"use strict";e.d(y,{a:()=>m});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(229412938),c=e(6455962125),r=e(7949425452),a=e(6323355797),i=e(9506008067),l=e(3192808693);const m=E(_=>{let{featurePlan:h,ariaHidden:d,className:f,autoClogProps:v,badgeTheme:u,size:g}=_;const p=(0,i.d4)(I=>(0,l.s_)(I,!0)),A=(0,i.d4)(l.Zg),C=p||A;let T=r.J;return C?T=c.y:h===a.F2.PLUS&&(T=s.y),t.createElement(T,{ariaHidden:d,badgeTheme:u,className:o()(f,{"p-with_pro_badge__paid-badge":C}),autoClogProps:v,size:g})},"PaidFeatureBadge");m.displayName="PaidFeatureBadge"},7949425452:(N,y,e)=>{"use strict";e.d(y,{J:()=>c});var t=e(3134334389),n=e(5431290584),o=e(6471059816);const s=new o.Ay("trials"),c=E(r=>{let{ariaHidden:a,className:i,autoClogProps:l,badgeTheme:m,size:_}=r;return t.createElement(n.rg,{ariaHidden:a,ariaLabel:s.t("Pro feature"),badgeText:s.t("PRO"),badgeTheme:m,className:i,autoClogProps:l,size:_,"data-qa":"pro-badge"})},"ProBadge");c.displayName="ProBadge"},5641442783:(N,y,e)=>{"use strict";e.d(y,{A:()=>u});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6148716148),c=e(5431290584),r=e(9371668729),a=e(6839188756),i=e(6471059816),l=e(6323355797),m=e(9506008067),_=e(7268021173),h=e(1670069836);function d(){return d=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var A=arguments[p];for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(g[C]=A[C])}return g},d.apply(this,arguments)}E(d,"_extends");const f=new i.Ay("trials"),v=E(g=>{let{badgeTheme:p=c.Vu.Purple,badgeSize:A=c.vj.Medium,className:C,hideTooltip:T,uiComponentVariant:I,...M}=g;const D=(0,m.d4)(U=>(0,a.tc)((0,h.H7)(U))),O=(0,m.d4)(U=>(0,_.tu)(U)===l.i6.standard.id),S=(0,t.useMemo)(()=>({uiComponentVariant:I}),[I]);if(!(D||O))return null;const R=f.t("PRO");return T?t.createElement(s.a,{autoClogProps:S,badgeTheme:p,className:C,featurePlan:"std",size:A}):t.createElement(r.A,d({ariaLabel:R,uiComponentVariant:I},M),t.createElement("span",{className:o()("p-trial_pro_badge",C),"data-qa":"trial_pro_badge"},t.createElement(s.a,{featurePlan:"std",autoClogProps:S,badgeTheme:p,size:A})))},"TrialProBadge");v.displayName="TrialProBadge";const u=v},5431290584:(N,y,e)=>{"use strict";e.d(y,{Vu:()=>l,rg:()=>h,vj:()=>m});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(9113979368),c=e(7173172014),r=e(8683010724),a=e(8668318456);function i(){return i=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(d[u]=v[u])}return d},i.apply(this,arguments)}E(i,"_extends");const l={Purple:"purple",White:"white"},m={Small:"small",Medium:"medium",Large:"large"},_={eventId:a.EventId.UPGRDEXP_TRIAL,uiComponentName:a.UiComponentName.TRIAL_PRO_BADGE,clogImpression:!0},h=E(d=>{let{ariaHidden:f=!1,ariaLabel:v,badgeText:u,className:g,autoClogProps:p,badgeTheme:A=l.Purple,size:C=m.Medium,icon:T}=d;const I=f?{"aria-hidden":!0}:{"aria-label":v,role:"img"},M=t.createElement("div",i({className:o()("p-pro_badge",`p-pro_badge--${A}`,`p-pro_badge--${C}`,g),"data-qa":"pro_badge"},I),T?t.createElement("div",{className:"p-pro_badge-with-icon"},t.createElement(r.A,{name:T.name})," ",u):t.createElement("span",null,u));return(0,s.A)(p)?M:t.createElement(c.A,i({},_,p),M)},"UpgradesBadge");h.displayName="UpgradesBadge"},3994181705:(N,y,e)=>{"use strict";e.d(y,{A:()=>d,G:()=>m});var t=e(3134334389),n=e(6122756707),o=e(6471059816),s=e(6323355797),c=e(9506008067),r=e(3810478625),a=e(7268021173),i=e(1384076438);const l=new o.Ay("trials");var m;(function(f){f.HuddlesFreemiumDeprecated="huddles_freemium"})(m||(m={}));const _=s.ew.PAID_FEATURE_TRIAL,d=E(f=>{let{isFreemium:v,tooltipText:u,promoType:g,promoSubtype:p,variant:A}=f;const C=(0,n.wA)(),T=(0,c.d4)(r.g),I=(0,c.d4)(a.iH);(0,t.useEffect)(()=>{g&&C((0,i.A)({campaignType:g,campaignSubType:p,reason:"trial_tooltip"}))},[C,g,p]);const M=(0,c.d4)(U=>g?(0,a.bp)(U,g,p):!1),D=(0,c.d4)(U=>g?(0,a.hq)(U,g,p):!1),O=E(()=>{if(I)switch(A){case m.HuddlesFreemiumDeprecated:return T?void 0:l.t("Huddles with more than two people are a paid feature, available with your free trial");default:return l.t("This is a paid feature, available with your free trial")}if(D)switch(A){case m.HuddlesFreemiumDeprecated:return T?void 0:l.t("Huddles with more than two people are a paid feature, available with a free, {trialLength}-day trial",{trialLength:_});default:return l.t("This is a paid feature, available with a free, {trialLength}-day trial",{trialLength:_})}switch(A){case m.HuddlesFreemiumDeprecated:return T?void 0:l.t("Huddles with more than two people are a paid feature, available with an upgrade");default:return l.t("This is a paid feature, available with an upgrade")}},"getTooltipText"),S=E(()=>I?l.t("This feature is unlimited with your free trial"):D?l.t("This feature is unlimited with a free trial, {trialLength}-day trial",{trialLength:_}):l.t("This feature is unlimited with an upgrade"),"getFreemiumTooltipText");if(M)return{};const R=v?S():O();return u?{tooltipTitle:u,tooltipBody:R}:{tooltipTitle:R}},"useTrialProBadgeTooltipText")},2481088989:(N,y,e)=>{"use strict";e.d(y,{A:()=>a,D:()=>c});var t=e(3134334389),n=e(6148716148),o=e(5641442783),s=e(5431290584);const c={RIGHT_ALIGNED:"right_aligned",LEFT_ALIGNED:"left_aligned"};function r(i){let{position:l=c.RIGHT_ALIGNED,isTrialVariant:m,uiComponentVariant:_,size:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{position:c.RIGHT_ALIGNED,isTrialVariant:!1,uiComponentVariant:void 0,size:s.vj.Medium};const d=t.createElement("span",{className:`p-with_pro_badge__text--${l}`},i);let f=t.createElement(n.a,{featurePlan:"std",className:"p-with_pro_badge__badge",size:h});m&&(f=t.createElement(o.A,{className:"p-with_pro_badge__badge",uiComponentVariant:_,badgeSize:h}));let v;return l===c.RIGHT_ALIGNED?v=t.createElement(t.Fragment,null,d,f):v=t.createElement(t.Fragment,null,f,d),t.createElement("div",{className:"p-with_pro_badge"},v)}E(r,"WithProBadge"),r.displayName="WithProBadge";const a=r},2978178368:(N,y,e)=>{"use strict";e.d(y,{d:()=>g});var t=e(3134334389),n=e(6122756707),o=e(7895785073),s=e(9702400417),c=e(6471059816);const r=new c.Ay("guided_trials"),a=E(p=>{let{primaryDiscountCostPerMonth:A,secondaryDiscountCostPerMonth:C,primaryBaseCostPerMonth:T,secondaryBaseCostPerMonth:I}=p;return A?{monthlyPrice:A,yearlyPrice:C||I}:{monthlyPrice:T,yearlyPrice:I}},"getPrices"),i=E(p=>{let{experimentPnpTwoGoGroupOn:A,currency:C,isPrimaryPricingMonthly:T,primaryDiscountCostPerMonth:I=0,secondaryDiscountCostPerMonth:M=0,primaryBaseCostPerMonth:D,secondaryBaseCostPerMonth:O}=p;const{monthlyPrice:S,yearlyPrice:R}=a({primaryDiscountCostPerMonth:I,secondaryDiscountCostPerMonth:M,primaryBaseCostPerMonth:D,secondaryBaseCostPerMonth:O}),U=T?"monthly":"yearly",P=T?"yearly":"monthly",L=A&&I?r.t(" (discount applied)"):"",F=(0,s.A)(S,C),x=(0,s.A)(R,C);return r.rt(`{monthlyPrice}\xA0per person/month when billed {primaryBillingType}{discountDisclaimer}. 
 {yearlyPrice} per person/month when billed {secondaryBillingType}`,{monthlyPrice:F,yearlyPrice:x,primaryBillingType:U,secondaryBillingType:P,discountDisclaimer:L,fallbackHash:"6cc919e7efe7051ee1f94af38170e3d9d2c92e7d"})},"getTooltipContent");var l=e(2312625946),m=e(9506008067),_=e(3554387543),h=e(4005238080),d=e(7182156071),f=e(4483113171),v=e.n(f);function u(){return u=Object.assign||function(p){for(var A=1;A<arguments.length;A++){var C=arguments[A];for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(p[T]=C[T])}return p},u.apply(this,arguments)}E(u,"_extends");const g=E(p=>{let{children:A,plan:C,...T}=p;const I=(0,n.wA)(),M=(0,m.d4)(d.k),D=(0,m.d4)(_.Pr),{currency:O,isPrimaryPricingMonthly:S,primaryBaseCostPerMonth:R,secondaryBaseCostPerMonth:U,primaryDiscountCostPerMonth:P,secondaryDiscountCostPerMonth:L}=(0,o.A)(C),F=i({currency:O,isPrimaryPricingMonthly:S,primaryDiscountCostPerMonth:P,secondaryDiscountCostPerMonth:L,primaryBaseCostPerMonth:R,secondaryBaseCostPerMonth:U,experimentPnpTwoGoGroupOn:M});return(0,t.useEffect)(()=>{D||I((0,h.A)())},[I,D]),D?t.createElement(l.Ay,u({tip:F},T),t.createElement("span",{className:v().tooltipText},A)):A},"PricingBreakdownTooltip");g.displayName="PricingBreakdownTooltip"},5655284373:(N,y,e)=>{"use strict";e.d(y,{D:()=>u});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7173172014),c=e(2481088989),r=e(2878488941),a=e(8739505998),i=e(8683010724),l=e(8668318456),m=e(2283801392),_=e.n(m),h=e(8312761259),d=e.n(h);function f(){return f=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var A=arguments[p];for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(g[C]=A[C])}return g},f.apply(this,arguments)}E(f,"_extends");const v=t.forwardRef((g,p)=>{let{children:A,iconProps:C,...T}=g;return t.createElement(a.A,f({},T,{ref:p}),C&&t.createElement("span",{className:"margin_right_25"},t.createElement(i.A,{name:C.name,size:C.size||"16",inline:!0})),A)}),u=E(g=>{let{className:p,autoClogProps:A,title:C,body:T,primaryCta:I,customPrimaryCta:M,customPrimaryCtaProps:D,secondaryCta:O,hideBadge:S=!1}=g;const R=E(()=>t.createElement("p",{className:d().bodyText},T),"getBodyText");return R.displayName="getBodyText",t.createElement(s.A,f({eventId:l.EventId.UPGRDEXP_TRIAL,clogImpression:!0,enableClogImpressionOffScreen:!0},A),t.createElement(r.A,{type:r.V.fixed,bannerContainerClass:o()(d().banner,p),headingText:S?C:(0,c.A)(C,{position:c.D.RIGHT_ALIGNED}),bodyText:R(),imgSrc:_(),closeOnSecondaryCTAClick:!1,closeOnPrimaryCTAClick:!1,primaryCTAText:I==null?void 0:I.text,primaryCTAHref:I==null?void 0:I.href,onPrimaryCTAClick:I==null?void 0:I.onClick,primaryCTAClogProps:I==null?void 0:I.autoClogProps,customPrimaryCTA:M,customPrimaryCTAProps:D,secondaryCTAText:O==null?void 0:O.text,secondaryCTAClogProps:O==null?void 0:O.autoClogProps,customSecondaryCTA:v,customSecondaryCTAProps:O,"data-qa":"trial-awareness-banner-lg"}))},"LargeTrialAwarenessBanner");u.displayName="LargeTrialAwarenessBanner"},5498730041:(N,y,e)=>{"use strict";e.d(y,{N:()=>f});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7173172014),c=e(2481088989),r=e(3801841745),a=e(2645587768),i=e(8739505998),l=e(8683010724),m=e(8668318456),_=e(8312761259),h=e.n(_);function d(){return d=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var g=arguments[u];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(v[p]=g[p])}return v},d.apply(this,arguments)}E(d,"_extends");const f=E(v=>{let{className:u,autoClogProps:g,title:p,showHourglassIcon:A,primaryCta:C,hideBadge:T=!1}=v;const I=(0,t.useMemo)(()=>t.createElement(t.Fragment,null,t.createElement("span",{className:h().titleText},p),C&&t.createElement("span",{className:h().linkWrapper},t.createElement(i.A,d({className:h().link,autoClogProps:C.autoClogProps,onClick:C.onClick},C.href?{href:C.href}:{renderAsSpan:!0}),C.text))),[p,C]);return t.createElement(s.A,d({eventId:m.EventId.UPGRDEXP_TRIAL,clogImpression:!0,enableClogImpressionOffScreen:!0},g),t.createElement(a.Ay,{type:"neutral",showCloseButton:!1,isFixedPosition:!1,className:o()(h().banner,u),"data-qa":"trial-awareness-banner-sm"},t.createElement(r.A,null,!T&&!A&&(0,c.A)(I,{position:c.D.LEFT_ALIGNED}),A&&t.createElement(t.Fragment,null,t.createElement("span",{className:h().icon},t.createElement(l.A,{name:"hourglass",size:"20"})),t.createElement("div",null,I)),T&&!A&&I)))},"SmallTrialAwarenessBanner");f.displayName="SmallTrialAwarenessBanner"},5791262841:(N,y,e)=>{"use strict";e.d(y,{A:()=>P});var t=e(3134334389),n=e(6122756707),o=e(7173172014),s=e(9392104102),c=e(6471059816),r=e(1267040415),a=e(2934784510),i=e(4963725897),l=e(267465465),m=e(280819219),_=e(8719380546),h=e(8683010724);const f=E(L=>{let{checklistItems:F,checklistHeading:x}=L;return t.createElement("div",{className:"p-modal_content_checklist__checklist"},t.createElement("div",{className:"p-modal_content_checklist__heading"},x),F.map(b=>t.createElement("div",{key:b,className:"p-modal_content_checklist__checklist_item"},t.createElement("div",{className:"p-modal_content_checklist__checklist_check"},t.createElement(h.A,{name:"check-filled",size:"16"})),t.createElement("div",null,b))))},"ModalContentChecklist");var v=e(4117634716),u=e(8822892075),g=e(7940058138),p=e(980293773),A=e(8668318456),C=e(9506008067),T=e(6259241484),I=e(8871937520),M=e(9003400431),D=e(5512605238);const O=new c.Ay("trials"),S={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},R={elementName:"upgrade_link",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},U=E(L=>{let{modalClassName:F,modalCloseButtonTheme:x,modalSubtitle:b,modalTitle:k,modalType:B=l.H.VERTICAL_BANNER,modalVideoClassName:W,modalVideoFileName:K,modalLottieAnimation:H,modalVideoPosterExtension:z="",modalBannerBackgroundColor:Q="",modalChecklistHeading:q="",modalChecklistItems:$=s.Ml,promoType:le,promoSubtype:te,imgSrc:ce,isEligibleForTrial:me,startTrialContext:_e,uiPage:Ae,uiComponentVariant:ye,uiStep:oe,onSpeedbumpContinue:ee,onSpeedbumpContinueLabel:V,onTrialStart:w,skipSpeedbump:Y,"data-qa":G,omitSecondaryCTA:Z=!1}=L;const se=(0,n.wA)(),ae=(0,C.d4)(D.F),[re,pe]=(0,t.useState)(!1),de=(0,t.useRef)(""),ie=(0,t.useCallback)(()=>{se((0,M.O)())},[se]),he=(0,t.useCallback)(async function(){let{trialExpirationDate:je}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};je&&(de.current=je,w==null||w(),Y?ie():pe(!0))},[ie,w,Y]),ve=(0,t.useCallback)(()=>{ie(),se((0,v.o)((0,u.ZF)(g.c.PaidBenefits)))},[se,ie]),ge=(0,t.useCallback)(()=>{ie(),ee==null||ee()},[ie,ee]),ke=t.createElement(f,{checklistHeading:q,checklistItems:$}),Ne=(0,t.useMemo)(()=>[T.xu.SIDEBAR_MENU_HEADER],[]),We=t.createElement(i.A,{"data-qa":"trial_entry_point_modal_start_trial_button",autoClogProps:S,reason:"start_trial_from_trial_entry_point_modal",context:_e,promoType:le,promoSubtype:te,onRequestComplete:he,megaphoneSpacesToRefresh:Ne},O.t("Start Free Trial")),Oe=t.createElement(r.A,{"data-qa":"trial_entry_point_modal_plans_page_button",type:"primary",autoClogProps:R,onClick:ie},O.t("See Upgrade Options")),be=me?We:Oe,Ke=l.H.HORIZONTAL_BANNER?"800px":"586px",Fe=E(()=>{if(!de.current)return null;const je=t.createElement("div",{className:"display_flex"},t.createElement(m.A,{className:"p-trial_entry_point_modal__speedbump_icon",type:"sparkles-filled"}),O.t("Ta-da! Your team\u2019s on a free trial")),at=t.createElement("div",{className:"p-trial_entry_point_modal__speedbump_description"},O.rt("You\u2019re on the most popular premium plan, Slack Pro \u2014 with features designed to help teams work better, together \u2014 through {trialExpirationDate}, absolutely free.",{trialExpirationDate:(0,I.Pd)(de.current)})),Ge=E(()=>V||(ee?O.t("Continue"):O.t("Find Out More")),"getContinueButtonLabel")();let Pe=O.t("Dismiss"),Le=ve,ze=ie,Me="speedbump_learn_more",Ce="speedbump_dismiss";return ee&&(Pe=O.t("Learn More"),Le=ge,ze=ve,Me="speedbump_continue",Ce="speedbump_learn_more"),t.createElement(p.ty,{className:"p-trial_entry_point_modal__speedbump","data-qa":"trial_entry_point_modal_speedbump",heading:je,description:at,continueButtonLabel:Ge,cancelButtonLabel:Pe,onCancel:Z?void 0:ze,onContinue:Le,continueButtonType:"primary",autoFocusContinueButton:!0,autoClogProps:{continueButton:{elementName:Me,onClick:{enableClogAction:!0}},cancelButton:{elementName:Ce,onClick:{enableClogAction:!0}}}})},"renderSpeedbump");Fe.displayName="renderSpeedbump";const J=t.createElement("div",{className:"p-trial_entry_point_modal__footer_text","data-qa":"trial_entry_point_modal_footer_text"},O.t("No credit card required.")),ne=t.createElement("div",{className:"p-trial_entry_point_modal__footer"},be,me&&J,me&&t.createElement(a.A,{shouldShow:ae}),re&&Fe());return t.createElement(o.A,{eventId:A.EventId.UPGRDEXP_TRIAL,clogImpression:!0,uiComponentName:A.UiComponentName.TRIAL_ENTRY_POINT_MODAL,uiComponentVariant:ye,uiStep:oe,uiPage:Ae},t.createElement(_.A,{bannerBackgroundColor:Q,"data-qa":G,imgSrc:ce,title:k,subtitle:b,bodyContent:ke,footerContent:ne,onRequestClose:ie,maxWidth:Ke,className:F,closeButtonTheme:x,type:B,videoFilename:K,videoPosterExtension:z,videoClassName:W,lottieAnimation:H}))},"TrialEntryPointModal");U.displayName="TrialEntryPointModal";const P=U},2934784510:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(6122756707),o=e(2670882607),s=e(9506008067),c=e(2047021170),r=e(1939990292);const i=t.memo(l=>{let{shouldShow:m=!1}=l;const _=(0,n.wA)(),[h,d]=(0,t.useState)(),[f,v]=(0,t.useState)(!1),u=(0,t.useCallback)(A=>{A&&A.then(C=>d(C))},[d]),g=(0,s.d4)(A=>!(0,c.ty)(A,"a11y_animations")),p=(0,t.useCallback)(()=>e.e("trial-celebration-confetti.json").then(e.t.bind(e,4831955131,23)),[]);return!m||g||f?null:(h&&h._cbs&&h.addEventListener("complete",()=>{_((0,r.DJ)(!1)),v(!0)}),t.createElement(o.e,{autoplay:!0,className:"p-trial_start_confetti",getAnimationImport:p,ref:u}))})},4963725897:(N,y,e)=>{"use strict";e.d(y,{A:()=>L});var t=e(3134334389),n=e(6122756707),o=e(7715417323),s=e(7173172014),c=e(7241534324),r=e(4585652590),a=e(6084388622),i=e(8739505998),l=e(5733135148),m=e(8668318456),_=e(6471059816),h=e(9506008067),d=e(1655938719),f=e(1939990292),v=e(962959561),u=e(398781533),g=e(677609895),p=e(56548687),A=e(6323355797),C=e(6304789565),T=e(1384076438),I=e(1670069836);const M=(0,C.Ay)("Open trial checkout or plans page if user can purchase",async(F,x,b)=>{let{campaignType:k,campaignSubType:B,entryPoint:W}=b;const K=x(),H=(0,I.H7)(K),z=(0,A.tc)({team:H,promoType:k,promoSubtype:B,entryPoint:W}),Q=(0,A.hZ)({entryPoint:k,team:H}),q=(0,p.e)({state:K}),{isEligible:$}=await F((0,T.A)({campaignType:k,campaignSubType:B,reason:"auto_charge_trial_start_cta"}));$&&(0,v.L9)(x())&&(0,g.X)(x())?(q.track(m.EventId.NEWXP_TEAM_CREATE,c.Fq),window.open(z,"_blank")):(q.track(m.EventId.NEWXP_TEAM_CREATE,c.tC),window.open(Q,"_blank"))});M.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeOpenTrialCheckout",description:"Open trial checkout or plans page if user can purchase"};var D=e(9360742940);function O(){return O=Object.assign||function(F){for(var x=1;x<arguments.length;x++){var b=arguments[x];for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&(F[k]=b[k])}return F},O.apply(this,arguments)}E(O,"_extends");const S=new _.Ay("trials"),R={name:"warning"},U=E(F=>{let{children:x,reason:b,context:k,megaphoneSpacesToRefresh:B,promoType:W,promoSubtype:K,onClick:H,onRequestComplete:z=o.A,onRequestError:Q=o.A,useLink:q,type:$,refToForward:le,...te}=F;const ce=(0,n.wA)(),me=(0,h.d4)(D.Ii),_e=(0,v.aJ)({campaignType:W,campaignSubType:K}),[Ae,ye]=(0,t.useState)(!1),[oe,ee]=(0,t.useState)(!1),V=(0,t.useCallback)(()=>{ye(!0),ee(!1),Q()},[Q]),w=(0,t.useCallback)(()=>{oe||(ee(!0),ye(!1),ce((0,r.a)({reason:b,campaignType:W,campaignSubType:K,context:k})).then(Z=>{let{trial_expiration_date:se}=Z;ce((0,f.DJ)(!0)),z({trialExpirationDate:se}),ce((0,d.yJ)({additionalSpaces:B,megaphoneReason:"trial_start_request_complete"})),se||V()}).catch(V))},[oe,ce,b,W,K,k,V,z,B]),Y=(0,t.useCallback)(()=>{const Z="trial_start_cta";ce((0,u.Q)({entryPoint:Z,campaignType:W,campaignSubType:K,reason:"auto_charge_trial_check"})),me&&_e?ce(M({campaignType:W,campaignSubType:K,entryPoint:Z})):w(),H==null||H()},[H,w,ce,W,K,me,_e]),G=q?t.createElement(i.A,O({ref:le},te,{onClick:Y}),x):t.createElement(a.lV,O({ref:le},te,{type:$,onClick:Y,loading:oe,"aria-label":void 0}),x);return t.createElement(s.A,{eventId:m.EventId.UPGRDEXP_TRIAL_START,clogImpression:!0,stepVariant:me&&_e?c.F5:void 0},G,Ae&&t.createElement(l.Ay,{svgIconProps:R,svgIconClassName:"align_self_start",shouldAutoFade:!1},S.t("Something went wrong. Try again later.",{fallbackHash:"248cbe7878bb83237a17ae6abe635e6251a6517a",fallbackHashNs:"channel_modal"})))},"TrialStartCTABase");U.displayName="TrialStartCTABase";const L=t.forwardRef((F,x)=>t.createElement(U,O({},F,{refToForward:x})))},1388835426:(N,y,e)=>{"use strict";e.d(y,{S:()=>n});var t=e(9907843289);const n=E(o=>{switch((0,t.Yp)()){case"de-DE":return{translation:o["de-DE"],enableMediaCaptions:!0};case"en-GB":return{translation:o["en-GB"],enableMediaCaptions:!1};case"en-US":return{translation:o["en-US"],enableMediaCaptions:!1};case"es-ES":return{translation:o["es-ES"],enableMediaCaptions:!0};case"es-LA":return{translation:o["es-LA"],enableMediaCaptions:!0};case"fr-FR":return{translation:o["fr-FR"],enableMediaCaptions:!0};case"it-IT":return{translation:o["it-IT"],enableMediaCaptions:!0};case"ja-JP":return{translation:o["ja-JP"],enableMediaCaptions:!0};case"ko-KR":return{translation:o["ko-KR"],enableMediaCaptions:!0};case"pt-BR":return{translation:o["pt-BR"],enableMediaCaptions:!0};case"zh-CN":return{translation:o["zh-CN"],enableMediaCaptions:!0};case"zh-TW":return{translation:o["zh-TW"],enableMediaCaptions:!0};default:return{translation:o["en-US"],enableMediaCaptions:!0}}},"useVideoTranslation")},5712872315:(N,y,e)=>{"use strict";e.d(y,{B:()=>n,D:()=>t});var t;(function(o){o.SMALL="small",o.MEDIUM="medium",o.LARGE="large"})(t||(t={}));var n;(function(o){o.NONE="none",o.PURPLE="purple",o.LIGHT_PURPLE="light_purple",o.BLUE="blue",o.ERROR="error",o.HORCHATA="horchata",o.SUNFLOWER="sunflower",o.GRADIENT="gradient",o.RADIAL_GRADIENT="radial_gradient"})(n||(n={}))},3328083357:(N,y,e)=>{"use strict";e.d(y,{A:()=>d});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6471059816),c=e(5712872315),r=e(280819219),a=e(581167618),i=e(6105929840),l=e(8668318456);const m=new s.Ay("upgrades_kit"),_={action:l.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:l.ElementType.X},h=E(f=>{let{className:v,iconType:u,customIcon:g,image:p,heading:A,children:C,onDismiss:T,useRoundedCorners:I=!0,showBorder:M=!0,size:D=c.D.MEDIUM,theme:O=c.B.PURPLE,"data-qa":S="",primaryCTA:R,secondaryCTA:U}=f;const P=E(()=>{let k;const B="p-upgrades_alert_banner__icon";return g?k=t.createElement("div",{className:B},g):p?k=t.createElement("div",{className:o()(B,"p-upgrades_alert_banner__icon--image")},p):u&&(k=t.createElement(r.A,{className:B,size:D,theme:O,type:u})),k},"renderIcon");P.displayName="renderIcon";const L=E(()=>t.createElement(i.A,{className:"p-upgrades_alert_banner__close_icon","data-qa":"alert_banner_close_button",icon:"times",size:"small","aria-label":m.t("Dismiss"),onClick:T,autoClogProps:_}),"renderCloseIcon");L.displayName="renderCloseIcon";const F=E(()=>!R&&!U?null:t.createElement("div",{className:"p-upgrades_alert_banner__button_container"},R,U),"renderButtons");F.displayName="renderButtons";const x=P(),b=o()("p-upgrades_alert_banner",`p-upgrades_alert_banner--${D}`,`p-upgrades_alert_banner--${O}`,v,{"p-upgrades_alert_banner--with_close_icon":!!T,"p-upgrades_alert_banner--rounded_corners":I,"p-upgrades_alert_banner--no_border":!M,"p-upgrades_alert_banner--with_image":!!p});return t.createElement("div",{className:"full_width"},t.createElement(a.Ay,{className:b,"data-qa":S,customIcon:x,heading:A,type:x?a.QE.boxed:a.QE.custom},t.createElement("div",{className:"p-upgrades_alert_banner__body"},C),F(),T&&L()))},"AlertBanner");h.displayName="AlertBanner";const d=h},7433432223:(N,y,e)=>{"use strict";e.d(y,{A:()=>A});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6471059816),c=e(5712872315),r=e(6755588906),a=e(581167618),i=e(6084388622),l=e(6308822),m=e(6105929840),_=e(8683010724),h=e(8668318456);function d(){return d=Object.assign||function(C){for(var T=1;T<arguments.length;T++){var I=arguments[T];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(C[M]=I[M])}return C},d.apply(this,arguments)}E(d,"_extends");const f=new s.Ay("upgrades_kit"),v=425,u={action:h.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:h.ElementType.X},g=E(C=>{let{className:T,image:I,heading:M,isLoading:D,children:O,onDismiss:S,useRoundedCorners:R=!0,showBorder:U=!0,size:P=c.D.MEDIUM,theme:L=c.B.HORCHATA,primaryCTA:F,secondaryCTA:x,withMargins:b,iconProps:k,"data-qa":B,columnWidth:W=0}=C;const K=E(()=>t.createElement(m.A,{className:"p-upgrades_alert_banner_v2__close_icon",icon:"times",size:"small","aria-label":f.t("Dismiss"),onClick:S,autoClogProps:u}),"renderCloseIcon"),H=E(()=>{const $=t.createElement("div",null,t.createElement("div",{className:"p-upgrades_alert_banner_v2__heading"},M),t.createElement("div",{className:"p-upgrades_alert_banner_v2__body"},O));if(k){const le={inline:!0,size:"20",...k};return t.createElement("div",{className:"display_flex"},t.createElement("span",{className:`margin_right_50 p-upgrades_alert_banner_v2__icon--${L}`},t.createElement(_.A,d({},le))),t.createElement("div",{className:"display_flex flex_direction_column"},$))}return $},"renderContent");H.displayName="renderContent";const z=E(()=>!F&&!x?null:t.createElement("div",{className:"p-upgrades_alert_banner_v2__button_container"},D?t.createElement(i.lV,{loading:!0,"aria-label":void 0}):t.createElement(t.Fragment,null,F,x)),"renderButtons");z.displayName="renderButtons";const Q=W<v,q=o()("p-upgrades_alert_banner_v2",`p-upgrades_alert_banner_v2--${P}`,`p-upgrades_alert_banner_v2--${L}`,T,{"p-upgrades_alert_banner_v2--with_close_icon":!!S,"p-upgrades_alert_banner_v2--rounded_corners":R,"p-upgrades_alert_banner_v2--no_border":!U,"p-upgrades_alert_banner_v2--with_image":!!I,"p-upgrades_alert_banner_v2--with_margins":b,"p-upgrades_alert_banner_v2--narrow":Q});return t.createElement("div",{className:"full_width"},t.createElement(a.Ay,{className:q,type:a.QE.inline,"data-qa":B},t.createElement("div",{className:"p-upgrades_alert_banner_v2__content"},D?t.createElement(l.A,{color:"white",inline:!0}):H(),z(),S&&K())))},"AlertBanner");g.displayName="AlertBanner";const A=(0,r.tu)(g)},267465465:(N,y,e)=>{"use strict";e.d(y,{H:()=>t});var t;(function(n){n.MULTI_PANE="multi_pane",n.SINGLE_PANE="single_pane",n.VERTICAL_BANNER="vertical_banner",n.HORIZONTAL_BANNER="horizontal_banner"})(t||(t={}))},280819219:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(5712872315);const r=t.memo(_=>{let{animationDelay:h,size:d="large"}=_;const f=48,v=f-(d==="large"?48:36),u=f*2,g="#1D9BD1",p="#F2C744",A="#007A5A",C="#E01E5A",T={animationDelay:`${h||0}s`},I=E((S,R)=>t.createElement("path",{d:"M2 10.3L6 10.39C8.2 10.4 10 8.6 10 6.3C10 4 8.2 2.1 6 2C3.79 2 2 3.85 2 6.15L2 10.3Z",fill:R,className:S,style:T}),"renderDrop"),M=E((S,R)=>t.createElement("circle",{r:"4",fill:R,className:S,style:T}),"renderCircle"),D=E((S,R)=>t.createElement("path",{d:"M6.47 1.27C6.3 0.83 5.69 0.83 5.53 1.27L4.46 4.16C4.4 4.3 4.3 4.41 4.16 4.46L1.27 5.53C0.83 5.69 0.831 6.3 1.27 6.47L4.16 7.5C4.3 7.59 4.41 7.7 4.46 7.84L5.53 10.73C5.69 11.17 6.31 11.17 6.47 10.73L7.54 7.84C7.59 7.7 7.7 7.59 7.84 7.54L10.73 6.47C11.17 6.31 11.17 5.69 10.73 5.53L7.84 4.46C7.7 4.41 7.59 4.3 7.54 4.16L6.47 1.27Z",fill:R,className:S,style:T}),"renderStar"),O=E((S,R)=>t.createElement("path",{d:"M1 5.5C1 4.12 2.12 3 3.5 3H8.5C9.88 3 11 4.12 11 5.5V5.5C11 6.88 9.88 8 8.5 8H3.5C2.12 8 1 6.88 1 5.5V5.5Z",fill:R,className:S,style:T}),"renderSprinkle");return t.createElement("svg",{className:o()("position_absolute",`p-upgrades_icon_celebration_animation--${d}`),style:{top:`-${f/2+v/2}px`,left:`-${f/2+v/2}px`},width:u,height:u,viewBox:`0 0 ${u} ${u}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("p-upgrades_icon_celebration_animation__drop_top_right",g),M("p-upgrades_icon_celebration_animation__circle_top_right",p),M("p-upgrades_icon_celebration_animation__circle_right",A),D("p-upgrades_icon_celebration_animation__star_bottom_right",p),M("p-upgrades_icon_celebration_animation__circle_bottom_right",p),O("p-upgrades_icon_celebration_animation__sprinkle_bottom_left",C),I("p-upgrades_icon_celebration_animation__drop_left",p),M("p-upgrades_icon_celebration_animation__circle_top_left",g),D("p-upgrades_icon_celebration_animation__star_top_left",A),O("p-upgrades_icon_celebration_animation__sprinkle_top_left",C))});var a=e(1610251172);function i(){return i=Object.assign||function(_){for(var h=1;h<arguments.length;h++){var d=arguments[h];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(_[f]=d[f])}return _},i.apply(this,arguments)}E(i,"_extends");const l=E(_=>{let{className:h,animationProps:d,hasBorder:f,type:v,size:u=s.D.MEDIUM,theme:g=s.B.PURPLE,showAnimation:p}=_;const A=o()(`p-upgrades_icon--${u}`,`p-upgrades_icon--${g}`,h),C=t.createElement(a.A,{className:A,size:"inherit",type:v});if(!f)return C;const T=o()("p-upgrades_icon_container",`p-upgrades_icon_container--${u}`,`p-upgrades_icon_container--${g}`,{"p-upgrades_icon_container--with_animation":p});return t.createElement("div",{className:T},C,p&&t.createElement(r,i({size:u},d)))},"UpgradesIcon");l.displayName="UpgradesIcon";const m=l},2878488941:(N,y,e)=>{"use strict";e.d(y,{A:()=>O,V:()=>T});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(4426213732),r=e(6471059816),a=e(2664504268),i=e(5460331959),l=e(5712872315),m=e(3328083357),_=e(280819219),h=e(6084388622),d=e(6105929840),f=e(8739505998),v=e(8668318456),u=e(9391594207),g=e(8873215801);function p(){return p=Object.assign||function(S){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var P in U)Object.prototype.hasOwnProperty.call(U,P)&&(S[P]=U[P])}return S},p.apply(this,arguments)}E(p,"_extends");const A=new r.Ay("notification_banner"),C={elementType:v.ElementType.X,elementName:"close",action:v.UiAction.CLOSE,onClick:{enableClogAction:!0}};var T;(function(S){S.default="default",S.alert="alert",S.fixed="fixed",S.noMarginFixed="no-margin-fixed"})(T||(T={}));const I=700;let M=E(class extends t.PureComponent{focus(){var R,U,P;const L=((R=this.primaryCTAButtonRef)===null||R===void 0?void 0:R.current)||((U=this.secondaryCTARef)===null||U===void 0?void 0:U.current)||((P=this.closeButtonRef)===null||P===void 0?void 0:P.current);L==null||L.focus()}onKeyDown(R){R.key==="Escape"&&(R.stopPropagation(),this.closeBanner())}closeBanner(){const{onCloseBanner:R,notificationPrefs:U}=this.props;U&&this.props.closeBanner(U),R&&R()}handlePrimaryCTA(){const{onPrimaryCTAClick:R,closeOnPrimaryCTAClick:U}=this.props;U&&this.closeBanner(),R&&R()}handleSecondaryCTA(){const{onSecondaryCTAClick:R,closeOnSecondaryCTAClick:U}=this.props;U&&this.closeBanner(),R&&R()}handleCloseIcon(){const{onCloseIcon:R}=this.props;this.closeBanner(),R&&R()}renderBody(){const{bodyText:R,theme:U}=this.props;return t.createElement("div",{className:`p-message_pane_banner__body--${U}`,"data-qa":"message_pane_banner_body",id:this.bodyId},R)}renderSecondaryCTA(){const{secondaryCTAHref:R,secondaryCTAText:U,secondaryCTAClogProps:P,secondaryCTAUseLink:L,customSecondaryCTA:F,customSecondaryCTAProps:x}=this.props,b={onClick:this.handleSecondaryCTA,href:R,autoClogProps:{onClick:{enableClogAction:!0},...P},"data-qa":"message_pane_banner_secondaryCTA",ref:this.secondaryCTARef,...F?x:{}},k=F||h.Ay;return L?t.createElement(f.A,p({className:"p-message_pane_banner__link"},b),U):t.createElement(k,p({className:"p-message_pane_banner__button",size:"medium",type:"outline"},b),U)}renderCloseIcon(){return(this.props.type===T.fixed||this.props.type===T.noMarginFixed)&&!this.props.forceCloseButton?null:t.createElement(d.A,{icon:"times",onClick:this.handleCloseIcon,"aria-label":A.t("Close"),className:"p-message_pane_banner__close_icon","data-qa":"message_pane_banner_close_icon",autoClogProps:C,ref:this.closeButtonRef})}renderPrimaryCTAButton(){const{primaryCTAText:R,primaryCTAHref:U,primaryCTAClogProps:P,customPrimaryCTA:L,customPrimaryCTAProps:F}=this.props,x={className:"p-message_pane_banner__button",onClick:this.handlePrimaryCTA,href:U,size:"medium","data-qa":"message_pane_banner_primaryCTA_button",autoClogProps:{isPrimaryCTA:!0,onClick:{enableClogAction:!0},...P},ref:this.primaryCTAButtonRef,...L?F:{}},b=L||h.Ay;return t.createElement(b,p({},x),R)}renderCTAButtons(){const{primaryCTAText:R,secondaryCTAText:U,theme:P}=this.props;return!R&&!U?null:t.createElement("div",{className:o()("p-message_pane_banner__buttons",`p-message_pane_banner__buttons--${P}`)},R&&this.renderPrimaryCTAButton(),U&&this.renderSecondaryCTA())}renderIcon(){const{icon:R,iconType:U,theme:P}=this.props;return U?t.createElement("div",{className:"p-message_pane_banner__banner_icon"},t.createElement(_.A,{hasBorder:!0,type:U,theme:P})):R?t.createElement("div",{className:"p-message_pane_banner__banner_icon"},R):null}renderHeading(){const{headingText:R,theme:U}=this.props;return R?t.createElement("h1",{className:o()("p-message_pane_banner__heading",`p-message_pane_banner__heading--${U}`),"data-qa":"message_pane_banner_heading_text",id:this.headerId},R):null}renderBanner(){const{type:R,bannerContainerClass:U,iconType:P,theme:L,imgSrc:F,imgAlt:x}=this.props,b=o()("p-message_pane_banner",`p-message_pane_banner--${R}`,`p-message_pane_banner--${L}`,U,{"p-message_pane_banner--ephemeral":R!==T.alert});return R===T.alert?t.createElement("div",{className:b},t.createElement(m.A,{size:l.D.SMALL,heading:this.renderHeading(),iconType:P,useRoundedCorners:!1,"data-qa":"message_pane_banner"},this.renderBody())):t.createElement(i.A,null,k=>{let{measureRef:B,width:W}=k;return t.createElement("div",{ref:B,className:o()(b,{"p-message_pane_banner--hide_image":W<I}),"data-qa":"message_pane_banner",role:"dialog","aria-labelledby":this.headerId,"aria-describedby":this.bodyId,onKeyDown:this.onKeyDown},this.renderIcon(),F?t.createElement("div",{className:"p-message_pane_banner__content_with_image"},t.createElement("div",{className:o()("p-message_pane_banner__content_with_image_text",`p-message_pane_banner__content_with_image_text--${R}`)},this.renderHeading(),this.renderBody(),this.renderCTAButtons()),t.createElement("div",{className:"p-message_pane_banner__image_container"},this.renderCloseIcon(),t.createElement("img",{className:"p-message_pane_banner__image",src:F,alt:x}))):t.createElement("div",null,this.renderHeading(),this.renderBody(),this.renderCTAButtons(),this.renderCloseIcon()))})}render(){const R=o()("p-message_pane_banner__container",`p-message_pane_banner__container--${this.props.type}`);return t.createElement("div",{className:R},this.renderBanner())}constructor(R){super(R),this.primaryCTAButtonRef=t.createRef(),this.secondaryCTARef=t.createRef(),this.closeButtonRef=t.createRef(),(0,c.v)(this,["focus","handlePrimaryCTA","handleSecondaryCTA","handleCloseIcon","onKeyDown"]),this.headerId=(0,a.A)(),this.bodyId=(0,a.A)()}},"MessagePaneBanner");M.defaultProps={type:T.default,onPrimaryCTAClick:s.A,closeOnPrimaryCTAClick:!0,onSecondaryCTAClick:s.A,closeOnSecondaryCTAClick:!0,secondaryCTAUseLink:!1,onCloseIcon:s.A,onCloseBanner:s.A,theme:l.B.PURPLE,imgAlt:""},M.displayName="MessagePaneBanner";const D=E(S=>({closeBanner:R=>S((0,g.A)(R))}),"mapDispatchToProps"),O=(0,u.N)(null,D)(M)},5207331754:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(980293773);const r=E(a=>{let{children:i,className:l}=a;return t.createElement(s.qf,{className:o()("p-upgrades_modal__content_section",l)},i)},"ModalBody")},9240394198:(N,y,e)=>{"use strict";e.d(y,{N:()=>A,A:()=>T});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(267465465),c=e(6148716148),r=e(5207331754),a=e(6000244203),i=e(3357053101),l=e(1935364562),m=e(3801841745),_=e(581167618),h=e(980293773);const f=E(I=>{let{banner:M,bodyContent:D,footerContent:O,showProBadge:S=!0,subtitle:R,title:U,error:P}=I;return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-upgrades_modal_with_banner_horizontal__left_panel"},t.createElement(m.A,{flexDirection:"column",gap:20},P&&t.createElement(_.Ay,{icon:"warning",level:"error",className:"p-upgrades_modal_with_banner_horizontal__error_alert"},P),t.createElement(i.A,{headerClassName:"p-upgrades_modal_with_banner_horizontal__header",titleClassName:"padding_top_0",title:U},S&&t.createElement(c.a,{featurePlan:"std",className:"p-upgrades_modal_with_banner_horizontal__pro_badge"}))),t.createElement(h.$m,null,R&&t.createElement(l.A,{className:"p-upgrades_modal_with_banner_horizontal__subtitle",subtitle:R}),t.createElement(r.A,{className:"p-upgrades_modal_with_banner_horizontal__body"},D)),t.createElement(a.A,{className:"p-upgrades_modal_with_banner_horizontal__footer"},O)),M)},"ModalContentHorizontalBanner"),v=E(I=>{let{banner:M,bodyContent:D,footerContent:O,showProBadge:S=!0,subtitle:R,title:U}=I;const P=t.createElement(t.Fragment,null,U,S&&t.createElement(c.a,{featurePlan:"std",className:"p-upgrades_modal_with_banner_vertical__pro_badge"}));return t.createElement(t.Fragment,null,t.createElement(i.A,{titleClassName:"p-upgrades_modal_with_banner_vertical__title",title:P},M),t.createElement(h.$m,null,R&&t.createElement(l.A,{className:"p-upgrades_modal_with_banner_vertical__subtitle",subtitle:R}),t.createElement(r.A,{className:"p-upgrades_modal_with_banner_vertical__body"},D)),t.createElement(a.A,null,O))},"ModalContentVerticalBanner");v.displayName="ModalContentVerticalBanner";const u=v;var g=e(7729538251);function p(){return p=Object.assign||function(I){for(var M=1;M<arguments.length;M++){var D=arguments[M];for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(I[O]=D[O])}return I},p.apply(this,arguments)}E(p,"_extends");var A;(function(I){I.LIGHT="light",I.DARK="dark",I.GOLD="gold",I.GRAY="gray",I.DARK_GRAY="dark_gray"})(A||(A={}));const C=E(I=>{let{bannerBackgroundColor:M,bodyContent:D,centered:O,className:S,closeButtonTheme:R=A.DARK,closeModal:U,dataQa:P,footerContent:L,hero:F,imgSrc:x,imgSrcSet:b,maxWidth:k,shouldCloseOnOverlayClick:B,showProBadge:W=!0,subtitle:K,title:H,error:z,type:Q,videoFilename:q,videoPosterExtension:$="png",videoClassName:le,lottieAnimation:te,...ce}=I;const me=(0,g.JK)(),_e=`${q}${me==="en-US"?"":`.${me}`}`,Ae=`p-upgrades_modal_with_banner__banner--${Q}`,ye=E(()=>F?t.createElement("div",{className:Ae},F):b?t.createElement("img",{className:Ae,alt:"",srcSet:b}):x?t.createElement("img",{className:Ae,alt:"",src:x}):q?t.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,className:o()(Ae,le),poster:`${_e}.${$}`},t.createElement("source",{type:"video/mp4",src:`${_e}.mp4`}),t.createElement("source",{type:"video/webm",src:`${_e}.webm`})):te?t.createElement("div",{className:"p-upgrades_modal__lottie_container"},te):null,"getModalBanner");ye.displayName="getModalBanner";const oe=t.createElement("div",{style:{backgroundColor:M},className:`p-upgrades_modal_with_banner__banner_container--${Q}`},ye());return t.createElement(h.dW,p({className:o()("p-upgrades_modal_with_banner",`p-upgrades_modal_with_banner__base_modal--${Q}`,`p-upgrades_modal_with_banner--close_button_${R}`,"p-upgrades_modal_with_banner--close_button",S),centered:O,closeModal:U,dataQa:P,maxWidth:k,shouldCloseOnOverlayClick:B},ce),Q===s.H.VERTICAL_BANNER?t.createElement(u,{banner:oe,bodyContent:D,footerContent:L,showProBadge:W,subtitle:K,title:H}):t.createElement(f,{banner:oe,bodyContent:D,footerContent:L,showProBadge:W,subtitle:K,title:H,error:z}))},"ModalContentWithBanner");C.displayName="ModalContentWithBanner";const T=C},6000244203:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(980293773);const r=E(a=>{let{children:i,className:l}=a;return t.createElement(s.jl,{className:"p-upgrades_modal__footer"},t.createElement(s.ox,{className:o()("p-upgrades_modal__footer_actions",l)},i))},"ModalFooter")},3357053101:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(980293773);const r=E(a=>{let{headerClassName:i,titleClassName:l,children:m,title:_}=a;return t.createElement(s.rQ,{className:o()("p-upgrades_modal__header",i)},m,t.createElement(s.Rc,{className:o()("p-upgrades_modal__title",l),title:_}))},"ModalHeader")},1935364562:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3134334389),n=e(4844578989),o=e.n(n);const c=E(r=>{let{className:a,subtitle:i}=r;return t.createElement("div",{className:o()("p-upgrades_modal__subtitle",a)},i)},"ModalSubtitle")},8719380546:(N,y,e)=>{"use strict";e.d(y,{A:()=>p});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(267465465),c=e(5712872315),r=e(280819219),a=e(5207331754),i=e(6000244203),l=e(3357053101),m=e(1935364562),_=e(980293773);const d=E(A=>{let{subtitle:C,bodyContent:T,footerContent:I,title:M,titleImage:D,titleVideo:O,titleVideoClassName:S,titleIcon:R,showTitleIconAnimation:U,headerClassName:P,footerActionsClassName:L,theme:F}=A;return t.createElement(t.Fragment,null,t.createElement(l.A,{headerClassName:o()(P,{"p-upgrades_modal__header--with_animation":U}),title:M},D,O&&t.createElement("div",{className:o()(S)},O),R&&t.createElement("div",{className:"p-upgrades_modal__icon"},t.createElement(r.A,{hasBorder:!0,size:c.D.LARGE,type:R,showAnimation:!!U,theme:F}))),C&&t.createElement(m.A,{subtitle:C}),T&&t.createElement(_.$m,null,t.createElement(a.A,null,T)),t.createElement(i.A,{className:L},I))},"ModalContent");var f=e(9240394198),v=e(4376397139);function u(){return u=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var T=arguments[C];for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(A[I]=T[I])}return A},u.apply(this,arguments)}E(u,"_extends");const g=E(A=>{const{className:C,maxWidth:T,onRequestClose:I,type:M,"data-qa":D,UNSAFE_parentSelector:O}=A,R={className:o()("p-upgrades_modal__container",C),closeModal:I,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:T,dataQa:D,UNSAFE_parentSelector:O};return M===s.H.MULTI_PANE?t.createElement(v.A,u({},A,R)):M===s.H.VERTICAL_BANNER||M===s.H.HORIZONTAL_BANNER?t.createElement(f.A,u({},A,R)):t.createElement(_.dW,u({},R),t.createElement(d,u({},A)))},"Modal");g.displayName="Modal";const p=g},9371668729:(N,y,e)=>{"use strict";e.d(y,{A:()=>f});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7173172014),c=e(6148716148),r=e(5431290584),a=e(3994181705),i=e(2312625946),l=e(8668318456),m=e(9506008067),_=e(7268021173);function h(){return h=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var g=arguments[u];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(v[p]=g[p])}return v},h.apply(this,arguments)}E(h,"_extends");const d=E(v=>{let{ariaLabel:u,tooltipText:g,children:p,onClick:A,isFreemium:C,promoType:T,promoSubtype:I,showProBadge:M,tooltipClassName:D,uiComponentVariant:O,variant:S,toolTipZIndex:R,toolTipPosition:U,...P}=v;const{tooltipTitle:L,tooltipBody:F}=(0,a.A)({isFreemium:C,tooltipText:g,promoType:T,promoSubtype:I,variant:S}),x=(0,m.d4)(B=>(0,_.bp)(B,T,I)),b=F?`${L} - ${F}`:L;if(x)return p;const k=t.createElement(s.A,{clogImpression:!0,eventId:l.EventId.UPGRDEXP_TRIAL,uiComponentName:l.UiComponentName.TRIAL_FEATURE_TOOLTIP,uiComponentVariant:O},t.createElement("div",{className:"p-trial_feature_tooltip"},t.createElement("span",{className:"p-trial_feature_tooltip__title"},M&&t.createElement(c.a,{featurePlan:"std",badgeTheme:r.Vu.White,className:"p-trial_feature_tooltip__pro_badge"}),t.createElement("div",{className:"p-trial_feature_tooltip__title_text"},L)),t.createElement("div",{className:"p-trial_feature_tooltip__body"},F)));return t.createElement(i.Ay,h({tipClassName:o()("p-trial_feature_tooltip__container",D),tip:k,onClick:A,zIndex:R,position:U,"aria-label":u?`${u}: ${b}`:`${b}`},P),p)},"TrialFeatureTooltip");d.displayName="TrialFeatureTooltip";const f=d},3801841745:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(3134334389);const n=E(s=>{let{children:c,className:r,flexGrow:a,flexDirection:i="row",alignItems:l="normal",alignSelf:m="auto",justifyContent:_,gap:h=0}=s;return t.createElement("div",{className:r,style:{display:"flex",flexGrow:a,flexDirection:i,alignItems:l,alignSelf:m,justifyContent:_,gap:`${h}px`}},c)},"Stack");n.displayName="Stack";const o=n},7749101058:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>n,em:()=>t.em,r4:()=>t.r4});var t=e(4158195343);const n=t.Ay},4158195343:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>c,em:()=>r,r4:()=>o});var t=e(3134334389);function n(){return n=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(a[m]=l[m])}return a},n.apply(this,arguments)}E(n,"_extends");const o=(0,t.createContext)(void 0),c=E(a=>{let{id:i,children:l}=a;return t.createElement(o.Provider,{value:i},l)},"View");function r(a){const i=t.forwardRef((l,m)=>t.createElement(o.Consumer,null,_=>t.createElement(a,n({},l,{ref:m,viewContext:_}))));return i.displayName=`withView(${a.displayName})`,i}E(r,"withView"),r.displayName="withView"},4874502712:(N,y,e)=>{"use strict";e.d(y,{y:()=>o});var t=e(2384831516),n=e(4761125736);const o=(0,t.Mz)(s=>(0,n._Z)(s,"improved_workflows_to_channel",!1)==="on");o.meta={name:"createSelector",key:"createSelectorisImprovedWorkflowsToChannelEnabled",description:s=>(0,n._Z)(s,"improved_workflows_to_channel",!1)==="on"}},6755588906:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>s,j4:()=>r,tu:()=>c});var t=e(3134334389);function n(){return n=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(a[m]=l[m])}return a},n.apply(this,arguments)}E(n,"_extends");const o=t.createContext(void 0);o.displayName="ColumnLayoutContext";const s=o;function c(a){return i=>t.createElement(o.Consumer,null,l=>{var m;return t.createElement(a,n({},i,{columnLayout:l==null?void 0:l.layout,columnIdentifier:l==null?void 0:l.columnIdentifier,columnWidth:l==null||(m=l.layout)===null||m===void 0?void 0:m.width,isMainCollapsed:l==null?void 0:l.isMainCollapsed,shouldShowSidebarToggleButton:l==null?void 0:l.shouldShowSidebarToggleButton}))})}E(c,"withColumnLayout"),c.displayName="withColumnLayout";function r(){return(0,t.useContext)(o)}E(r,"useColumnLayoutContext")},6066192332:(N,y,e)=>{"use strict";e.d(y,{D:()=>p});var t=e(3134334389),n=e(2428912116),o=e(3255440563),s=e(2843556239),c=e(9323322135),r=e(7937864072),a=e(9506008067),i=e(7067820909),l=e(4761125736);const m="IMG-ANIM-MGR",_=E(A=>{A.src=A.src},"resetImageAnimation"),h=E(A=>{Array.from(A.querySelectorAll("img[src]")).forEach(_)},"resetAllImageAnimations"),d=E((A,C)=>{const T=(0,r.A)(),I=(0,a.d4)(D=>{var O;const S=(0,i.u_)(D,C);var R;return(R=S==null||(O=S.frame)===null||O===void 0?void 0:O.isFocused)!==null&&R!==void 0?R:!0}),M=(0,a.d4)(D=>(0,l._Z)(D,"desktop_toggle_image_animation_policy")==="on");(0,t.useEffect)(()=>{if(C&&!(typeof I>"u")&&M&&c.K6K.isAvailable()){const D=I?"animate":"noAnimation";T.info(m,"Applying image animation policy on focus change",{windowToken:C,imageAnimationPolicy:D}),(0,c.K6K)(C,D).then(()=>{var O;const S=(O=A.deref())===null||O===void 0?void 0:O.document;S&&h(S)})}},[I,A,C,T,M])},"useImageAnimationManager");var f=e(4588514760),v=e(8107496483),u=e(4094753332),g=e(3193155968);const p=E(A=>{let{children:C,windowRef:T,shouldNavigateInContextContainerRules:I}=A;const M=(0,r.A)({label:"window-context"}),D=(0,t.useMemo)(()=>{var S;const R=T.deref();if(!R)return M.warn("Window ref no longer exists"),s.Jh;const U=R===window.self,P=!U;var L;const F=U?g.N2:(L=(0,f.f5)(R))!==null&&L!==void 0?L:v.OA,x=U?(0,c.Xgz)():(S=R)===null||S===void 0?void 0:S.browserWindowId;return typeof x!="number"&&(0,u.y3)()&&M.error(new Error("Window is missing windowToken")),P&&!F&&M.error(new Error("Child window is missing windowId")),{windowRef:T,windowId:F,windowToken:x}},[M,T]),O=(0,t.useMemo)(()=>({shouldNavigateInContextContainerRules:I}),[I]);return d(D.windowRef,D.windowToken),t.createElement(s._0.Provider,{value:D},t.createElement(o.C.Provider,{value:D},t.createElement(n.v.Provider,{value:O},C)))},"WindowContextProvider");p.displayName="WindowContextProvider"},4387298515:(N,y,e)=>{"use strict";e.d(y,{$m:()=>o,AH:()=>v,Ac:()=>c,D0:()=>_,Mh:()=>d,VR:()=>l,th:()=>a});var t=e(6045824189);const n=(0,t.Nh)(["callsScreenshare","createBorderWindow"]),o=E(async(u,g)=>{n.isAvailable()&&n(u,g)},"createBorderWindow"),s=(0,t.Nh)(["callsScreenshare","showBorder"]),c=E(async()=>{s.isAvailable()&&s()},"showBorder"),r=(0,t.Nh)(["callsScreenshare","hideBorder"]),a=E(async()=>{r.isAvailable()&&r()},"hideBorder"),i=(0,t.Nh)(["callsScreenshare","setWindowOrScreenId"]),l=E(async u=>{i.isAvailable()&&i(u)},"setWindowOrScreenId"),m=(0,t.Nh)(["callsScreenshare","setWindowBorderWidth"]),_=E(async u=>{m.isAvailable()&&m(u)},"setWindowBorderWidth"),h=(0,t.Nh)(["callsScreenshare","setWindowBorderColor"]),d=E(async(u,g,p,A)=>{h.isAvailable()&&h(u,g,p,A)},"setWindowBorderColor"),f=(0,t.Nh)(["callsScreenshare","getWindowPositionAndDimensions"]),v=E(async()=>{if(f.isAvailable())return f()},"getWindowPositionAndDimensions")},9289216704:(N,y,e)=>{"use strict";e.d(y,{Oi:()=>o,XC:()=>n,aH:()=>c,mt:()=>s});var t=e(4094753332);const n=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture":(0,t.uF)()?"ms-settings:privacy":null,o=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera":(0,t.uF)()?"ms-settings:privacy-webcam":null,s=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone":(0,t.uF)()?"ms-settings:privacy-microphone":null,c=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.Sound.prefPane":(0,t.uF)()?"ms-settings:sound":null},1583163054:(N,y,e)=>{"use strict";e.d(y,{Ce:()=>_,Pe:()=>l,fI:()=>h,zS:()=>c});var t=e(4094753332),n=e(6471059816),o=e(9323322135);const s=new n.Ay("prefs"),c=(0,o.g9M)()&&o.MD7.isAvailable()?(0,o.MD7)():"nightly",r={PROD:"prod",BETA:"beta",DOGFOOD:c},a=[r.PROD,r.BETA],i=[r.PROD,r.BETA,r.DOGFOOD];function l(d){return(d?i:a).map(v=>({value:v,label:m(v)}))}E(l,"getReleaseChannelOptions");function m(d){switch(d){case r.PROD:return s.t("Production");case r.BETA:return s.t("Beta");case r.DOGFOOD:return s.t("Dogfood",{fallbackHash:"c9e429b1798d0142b8b31e82c1f9da5d8e0c9420"});default:return s.t("Unknown")}}E(m,"getReleaseChannelDisplayName");function _(){return(0,o.g9M)()&&!(0,o.Z9F)()&&!(0,t.j9)()}E(_,"canSeeReleaseChannel");function h(){return _()&&["MSI","SlackSonic","SlackPilot"].every(d=>!navigator.userAgent.includes(d))}E(h,"canModifyReleaseChannel")},4923013394:(N,y,e)=>{"use strict";e.d(y,{Jd:()=>m,X6:()=>_,bO:()=>r,c6:()=>i,fD:()=>v,lJ:()=>f,ve:()=>a,zb:()=>l});var t=e(3398586081),n=e(4094753332),o=e(9323322135),s=e(3259512346);const c="sunroof_init",r="fullscreen-ui",a=(0,t.A)(()=>!1),i=(0,t.A)(()=>(0,s.s)("25.1.1")),l=(0,t.A)(()=>(0,o.Z9F)()?(0,n.dY)("38.0.0"):!0),m=(0,t.A)(()=>{if(!(0,n.y3)())return!1;const{titleBarStyle:u}=(0,o.oQe)("environment")||{},{debugFeatures:g}=(0,o.oQe)("settings")||{};return u==="custom-extension"||(g==null?void 0:g.includes("window-chrome"))}),_=(0,t.A)(()=>(0,n.WB)()&&(0,n.dY)("4.33.90")),h=E(()=>{if(!_())return!1;const{useHwAcceleration:u,windowVibrancy:g}=(0,o.oQe)("settings")||{};return u&&g},"shouldEnableWindowSunroof"),d=(0,t.A)(()=>!(0,n.dY)("4.35.97")),f=E(()=>h()?(0,n.cX)()?{transparent:d(),vibrancy:r,backgroundColor:null}:{}:{},"maybeGetSunroofWindowOptions");function v(u){const{windowVibrancy:g}=(0,o.oQe)("settings")||{};if(typeof g>"u")return;if(g&&(!u.experimentDesktopIa4SunroofEnabled||!h())){(0,o.cGU)({name:"windowVibrancy",value:!1});try{localStorage.removeItem(c)}catch{}return}const p=!!localStorage.getItem(c);if(u.experimentDesktopIa4SunroofEnabled&&!p&&!g&&_()){(0,o.cGU)({name:"windowVibrancy",value:!0});try{localStorage.setItem(c,"1")}catch{}}}E(v,"maybeToggleSunroof")},4979734995:(N,y,e)=>{"use strict";e.d(y,{d:()=>r,j:()=>c});var t=e(1545824888),n=e(2878685908),o=e(337319621),s=e(4096483543);function c(a,i,l){const m="noversion",_=Date.now()/1e3,h=`/api/${a}?_x_id=${m}-${_}`,d=new XMLHttpRequest;d.onreadystatechange=()=>{if(d.readyState===4){d.onreadystatechange=null;let g;if(d.status===200||d.status===429)try{g=JSON.parse(d.responseText)}catch{(0,o.Wo)().warn("API","Unable to do anything with api response")}g=g||{ok:!1},l?l(g.ok,g,i):(0,n.Cu)()&&((0,o.Wo)().warn("API","No callback provided. Printing response"),(0,o.Wo)().warn("API",g.ok,g,i))}};const f=!0;d.open("POST",h,f);const v=new FormData;let u=!1;i?Object.keys(i).forEach(g=>{g[0]!=="_"&&(v.append(g,i[g]),u=!0)}):(0,n.Cu)()&&(0,o.Wo)().warn("API","No args provided. Bold, very bold."),u?d.send(v):d.send()}E(c,"callSlackApiUnauthed");const r=E((a,i)=>new t.S(l=>{c(a,i,(m,_)=>{l(_)})}),"callSlackApiUnauthedAsync");(0,s.A)()||(window.callSlackAPIUnauthed=(a,i,l)=>{(0,o.Wo)().warn("API","Don't use me directly! Please import callSlackApiUnauthed from api-unauthed.ts"),c(a,i,l)})},4540171876:(N,y,e)=>{"use strict";e.d(y,{Db:()=>l,O3:()=>m,OB:()=>_,TE:()=>d,xB:()=>h});var t=e(2101927269),n=e(1545824888),o=e(6439846314),s=e(8935621861),c=e(462591818),r=e(337319621),a=e(4525554634),i=e(2384831516);const l=(0,i.C6)("Get call info from callId",(f,v,u)=>{let{callIds:g,reason:p}=u;const A=(0,r.Ay)({getState:v});return g.length>3&&A.warn(`fetchCallByIds being called for unexpectedly many calls at once: ${g.length}`),n.S.map(g,C=>f((0,o.apiCall)({method:"screenhero.rooms.info",args:{room:C},reason:p||"huddles-call-info"})).then(T=>{let{room:I}=T;return(0,a.Q)(I)}).catch(T=>(A.error(T,`Error while fetching call: ${C}`),null))).then(t.A)});l.meta={name:"createFetcher",key:"createFetcherfetchCallsByIds",description:"Get call info from callId"};const m=(0,i.C6)("Join a calls / huddle room",(f,v,u)=>{let{channelId:g,roomId:p,threadTs:A,shouldFetchRegion:C,teamId:T,traceId:I,parentSpanId:M,reason:D,isMultiDevice:O=!1}=u;return(C?s.A.getInstance().getNearestChimeMediaRegion(T):n.S.resolve("")).then(S=>f((0,o.apiCall)({method:"rooms.join",args:{...p&&{id:p},...g&&{channel_id:g},...A&&{thread_ts:A},regions:S,multidevice:O},traceId:I,parentSpanId:M,reason:D||"calls-api/joinRoom"})).then(R=>{var U;return{server:(0,c.YY)(R.call),roomId:R.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:p,channelId:(U=R.huddle)===null||U===void 0?void 0:U.channels[0],...R.canvas&&R.canvas.root_thread_ts&&{rootThreadTs:R.canvas.root_thread_ts},...R.canvas&&R.canvas.canvas_file_id&&{canvasFileId:R.canvas.canvas_file_id}}}))});m.meta={name:"createFetcher",key:"createFetcherjoinRoom",description:"Join a calls / huddle room"};const _=(0,i.C6)("Notify member to join huddle",(f,v,u)=>{let{reason:g,channelId:p,userId:A}=u;return f((0,o.apiCall)({method:"rooms.notifyMember",args:{channel_id:p,user_id:A},reason:g}))});_.meta={name:"createFetcher",key:"createFetchernotifyMember",description:"Notify member to join huddle"};const h=(0,i.C6)("Set a huddle topic / rename the call",(f,v,u)=>{let{roomId:g,name:p}=u;return f((0,o.apiCall)({method:"screenhero.rooms.rename",reason:"huddles-topic",args:{room:g,room_name:p}}))});h.meta={name:"createFetcher",key:"createFetcherrenameCall",description:"Set a huddle topic / rename the call"};const d=(0,i.C6)("Get a link to a huddle",(f,v,u)=>{let{reason:g,channelId:p}=u;return f((0,o.apiCall)({method:"rooms.getLink",reason:g,args:{channel_id:p}}))});d.meta={name:"createFetcher",key:"createFetchergetLink",description:"Get a link to a huddle"}},7509608227:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(1545824888),n=e(1874577777),o=e(6439846314),s=e(6932877194),c=e(2028988448),r=e(5257368278);let a=!1;const i=(0,r.A)("Sends a message",function(_,h){let{message:d,traceId:f,parentSpanId:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!d)return;const u={...d},g=h();return d.blocks&&typeof d.blocks=="object"&&(u.blocks=JSON.stringify(d.blocks)),d.unfurl&&typeof d.unfurl=="object"&&(u.unfurl=JSON.stringify(d.unfurl)),a?new t.K((p,A)=>{setTimeout(()=>{A(new Error("chat-postmessage-api forceFail in effect"))},2e3)}):(0,n.A)(g)?_((0,s.apiCallPersisted)({method:"chat.postMessage",args:u,reason:"webapp_message_send_offline",EXPEDITED:!0,traceId:f,parentSpanId:v})):_((0,o.apiCall)({method:"chat.postMessage",args:u,reason:"webapp_message_send",EXPEDITED:!0,traceId:f,parentSpanId:v}))});i.meta={name:"createFetcher",key:"createFetcherchatPostMessage",description:"Sends a message"};const l=i,m=E(_=>{a=!!_},"setForceMessageFailure");(0,c.ul)("setForceMessageFailure",m)},4746302747:(N,y,e)=>{"use strict";e.d(y,{O:()=>m});var t=e(8840779375),n=e(6439846314),o=e(6642124196),s=e(2927826522),c=e(337319621),r=e(5257368278),a=e(212572833),i=e(5795074931),l=e(3683482182);const m=(0,r.A)("Calls client.counts endpoint",function(_,h){let{reason:d="client-counts-api/fetchClientCounts"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f={thread_counts_by_channel:!0,org_wide_aware:!0,include_file_channels:!0},v=(0,a.t)(h()),u=(0,l.Cc)(h());return u&&(v?f.counts_last_fetched=u:f.dry_run_last_fetched=u),_((0,n.apiCall)({method:"client.counts",args:f,reason:d})).then(g=>{if(!g||!g.ok)return{};try{const R=["U0620EL8G","WFKHTCZ29","WKLQEGRRB"],U=(0,i.WR)(h());if(R.indexOf(U)>-1){const P=(0,t.A)(g.ims,F=>({id:F.id})),L=(0,t.A)(g.mpims,F=>({id:F.id}));(0,c.Ay)({getState:h}).error("guest_to_guest_visibility",{type:"client_counts_api_results",im_list:P,mpim_list:L})}}catch(R){(0,c.Ay)({getState:h}).error("guest_to_guest_visibility",{type:"client_counts_api_results",error:R})}const{channels:p=[],ims:A=[],mpims:C=[],threads:T={},file_channels:I={has_unreads:!1,mention_count:0,quip:void 0},channel_badges:M={},alerts:D=null,counts_last_fetched:O=null}=g,S={channels:p,ims:A.map(R=>({...R,is_im:!0})),mpims:C.map(R=>({...R,is_mpim:!0})),threads:T,alerts:D,fileChannels:I,channelBadges:M,countsLastFetched:O};return g.saved&&(S.saved=(0,s.A)(g.saved)),(0,o.isTodosEnabled)(h())&&g.todos&&(S.todos=(0,s.A)(g.todos)),S})});m.meta={name:"createFetcher",key:"createFetcherfetchClientCounts",description:"Calls client.counts endpoint"}},9256397769:(N,y,e)=>{"use strict";e.d(y,{c:()=>I});var t=e(9113979368),n=e(1545824888),o=e(6870671137),s=e(6439846314),c=e(9268451279),r=e(5969942984),a=e(7982171047),i=e(3600241593),l=e(1189736859),m=e(2830750181),_=e(3862871806),h=e(5257368278),d=e(4960345891),f=e(6789682833),v=e(5780637120),u=e(358675944),g=e(4686051014),p=e(1234667274),A=e(5975971606),C=e(6811525189),T=e(6934022494);const I=(0,h.A)("Creates a draft",function(M,D){let{draft:O,reason:S,origClientDraftId:R,acknowledgedUnfurls:U}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var P;if((0,t.A)(O))return n.S.reject(new Error("No draft provided"));const L=(0,c.ue)(O),F=R??L,x=(0,c._l)(O),b=M((0,d.A)({msgOps:x}))||o.B,k=(0,c.l7)(O),B=(0,r.A)(O),W=D();let K=M((0,p.a)({draftId:F,ops:x}));const H=(0,T.BH)(W),z=(0,T.bc)(W,{draftId:L}),Q=(0,l.e)(W),q=(0,_.ck)(W,{draftId:L}),$=(((P=(0,g.Ki)(W,F,[u.Xq]))===null||P===void 0?void 0:P.length)||0)>0;K||(K=$?JSON.stringify([]):void 0);const le=(0,a.Cq)(W)?M((0,v.G)({draftId:L})):void 0;let te=le?(0,i.A)(le):[];if(H&&z){const me=(0,f.y)(W,{draftId:L,status:C.t.DRAFT});te=te.concat(me)}if(Q&&q&&L){const me=(0,_.sz)(W,{draftId:L,status:m.o.DRAFT});me.length&&(te=te.concat([{blocks:me}]))}const ce=M((0,A.f)({draftId:L}));return M((0,s.apiCall)({method:"drafts.create",args:{blocks:JSON.stringify(b),client_msg_id:(0,c.EF)(O),attachments:te,destinations:JSON.stringify(k),file_ids:JSON.stringify(B),unfurl:U||K,is_from_composer:(0,c.sC)(O),date_scheduled:(0,c.V)(O),file_permissions:ce},reason:S}))});I.meta={name:"createFetcher",key:"createFetchercreateDraftApi",description:"Creates a draft"}},8466415572:(N,y,e)=>{"use strict";e.d(y,{J:()=>I});var t=e(9113979368),n=e(1545824888),o=e(6870671137),s=e(6439846314),c=e(9268451279),r=e(5969942984),a=e(7982171047),i=e(3600241593),l=e(1189736859),m=e(2830750181),_=e(3862871806),h=e(5257368278),d=e(4960345891),f=e(6789682833),v=e(5780637120),u=e(358675944),g=e(4686051014),p=e(1234667274),A=e(5975971606),C=e(6811525189),T=e(6934022494);const I=(0,h.A)("Updates a draft",function(M,D){let{draft:O,reason:S,syncDateScheduled:R,origClientDraftId:U,acknowledgedUnfurls:P}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var L;if((0,t.A)(O))return n.S.reject(new Error("No draft provided"));const F=O,x=(0,c.ue)(F),b=D(),k=(0,T.BH)(b),B=(0,T.bc)(b,{draftId:x}),W=(0,l.e)(b),K=(0,_.ck)(b,{draftId:x}),H=(0,c.iS)(F);if(!H)return n.S.reject(new Error("Draft does not have a server generated ID"));const z=(0,c._l)(F),Q=M((0,d.A)({msgOps:z}))||o.B,q=(0,c.l7)(F),$=(0,r.A)(F),le=U??x;let te=M((0,p.a)({draftId:le,ops:z}));const ce=(((L=(0,g.Ki)(b,le,[u.Xq]))===null||L===void 0?void 0:L.length)||0)>0;te||(te=ce?JSON.stringify([]):void 0);const me=(0,a.Cq)(b)?M((0,v.G)({draftId:x})):void 0;let _e=me?(0,i.A)(me):[];if(k&&B){const ye=(0,f.y)(b,{draftId:x,status:C.t.DRAFT});_e=_e.concat(ye)}if(W&&K&&x){const ye=(0,_.sz)(b,{draftId:x,status:m.o.DRAFT});ye.length&&(_e=_e.concat([{blocks:ye}]))}const Ae=M((0,A.f)({draftId:x}));return M((0,s.apiCall)({method:"drafts.update",args:{blocks:JSON.stringify(Q),client_last_updated_ts:(0,c.sp)(F).toString(),attachments:_e,destinations:JSON.stringify(q),draft_id:H,file_ids:JSON.stringify($),unfurl:P||te,date_scheduled:R?(0,c.V)(F):void 0,is_from_composer:(0,c.sC)(F),file_permissions:Ae},reason:S}))});I.meta={name:"createFetcher",key:"createFetcherupdateDraftApi",description:"Updates a draft"}},6870671137:(N,y,e)=>{"use strict";e.d(y,{B:()=>t});const t=[{type:"rich_text",elements:[]}]},1194535350:(N,y,e)=>{"use strict";e.d(y,{KO:()=>r,_J:()=>a,zx:()=>i});var t=e(3297051565),n=e.n(t),o=e(6439846314),s=e(5257368278),c=e(4318855015);const r=(0,s.A)("Fetch all available and installed emoji collections from the API",function(l,m){let{reason:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l((0,o.apiCall)({method:"emoji.collections.list",reason:_,args:{installed_only:"0"}}))});r.meta={name:"createFetcher",key:"createFetcherfetchEmojiCollections",description:"Fetch all available and installed emoji collections from the API"},r.propTypes={reason:n().string.isRequired};const a=(0,s.A)("Add an emoji collection",(l,m,_)=>{let{collectionId:h,reason:d}=_;return l((0,o.apiCall)({method:"emoji.addCollection",args:{collection_id:h},reason:d})).catch(f=>{if(f.name!=="already_installed")throw f})});a.meta={name:"createFetcher",key:"createFetcheraddEmojiCollection",description:"Add an emoji collection"},a.propTypes={collectionId:n().string.isRequired,reason:n().string.isRequired};const i=(0,s.A)("Remove an emoji collection",(l,m,_)=>{let{collectionId:h,reason:d}=_;return l((0,c.$x)({collectionId:h})),l((0,o.apiCall)({method:"emoji.removeCollection",reason:d,args:{collection_id:h}}))});i.meta={name:"createFetcher",key:"createFetcherremoveEmojiCollection",description:"Remove an emoji collection"},i.propTypes={collectionId:n().string.isRequired,reason:n().string.isRequired}},490494914:(N,y,e)=>{"use strict";e.d(y,{Cl:()=>a,Is:()=>i,af:()=>r});var t=e(2121833688),n=e(2149300053),o=e(5257368278),s=e(8847766420),c=e(6892115804);const r=(0,o.A)("Queries Flannel for a list of external connected orgs/teams",(l,m,_)=>{let{count:h,filter:d,marker:f}=_;return(0,n.P)((0,s.JY)(m()),{method:n.J8.EXTERNAL_TEAMS_LIST,args:{count:h,filter:d,marker:f}})});r.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsList",description:"Queries Flannel for a list of external connected orgs/teams"};const a=(0,o.A)("Queries Flannel for channel counts of external connected orgs/teams",(l,m,_)=>{let{teamIds:h,count:d,marker:f}=_;return(0,n.P)((0,s.JY)(m()),{method:n.J8.EXTERNAL_TEAMS_COUNTS,args:{team_ids:h,count:d,marker:f}}).then(v=>v)});a.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsCounts",description:"Queries Flannel for channel counts of external connected orgs/teams"};const i=(0,o.A)("Fetches and upserts external teams that match a query",(l,m,_)=>{const h=(0,s.JY)(m());return(0,t.Cj)(h,_).then(d=>{let{objects:f,next_marker:v}=d;return l((0,c.OU)({teams:f})),{externalTeams:f,nextMarker:v}})});i.meta={name:"createFetcher",key:"createFetcherfetchAndUpsertExternalTeamsWithQuery",description:"Fetches and upserts external teams that match a query"}},165535451:(N,y,e)=>{"use strict";e.d(y,{iV:()=>g,ib:()=>C,oP:()=>h,oQ:()=>A,uV:()=>p});var t=e(6439846314),n=e(28129577),o=e(2927826522),s=e(3246555800),c=e(337319621),r=e(6323355797),a=e(5257368278),i=e(3559164431),l=e(3554387543);const m=E(I=>{let{taxName:M,isVat:D,effectiveTaxPercentage:O=0,salesTaxAmt:S,taxPercentage:R}=I,U=r.Zt.sales_tax;M?U=r.Zt[M.toString().toLowerCase()]||r.Zt.sales_tax:D&&(U=r.Zt.vat);const P=O>0?O:null;return{value:S||0,type:U,percentage:P||R||0}},"formatTaxData"),_=E(I=>{const M=I.tax;return m({taxName:M==null?void 0:M.tax_name,isVat:M==null?void 0:M.is_vat,effectiveTaxPercentage:M==null?void 0:M.effective_tax_percentage,salesTaxAmt:M==null?void 0:M.sales_tax_amt,taxPercentage:M==null?void 0:M.tax_percentage})},"getTaxData"),h=E(I=>m(I),"getAddonTaxData"),d=E(I=>{var M;const D=I.term==="12m"?r.ck.yearly:r.ck.monthly,O=I.term==="12m"?r.OY.yearly:r.OY.monthly,S=(M=I.available_addons)===null||M===void 0?void 0:M.map(R=>({id:R.addon_id,addonType:R.addon_type,upfrontUnitCostPerM:R.upfront_unit_cost_per_m,upfrontUnitCostPerTerm:R.upfront_unit_cost_per_term}));return{id:I.product_id,term:D,currency:I.currency,level:I.level,lengthOfTermInMonths:O,costPerMonth:I.cost_per_m,costPerTerm:I.cost_per_term,isInvoice:I.is_inv||!1,maxInvoiceSeats:I.max_invoice_seats,minInvoiceSeats:I.min_invoice_seats,availableAddons:S}},"getPlanDataInstance"),f=E(I=>Object.keys(I).reduce((M,D)=>{const O=I[D];return M.availablePlans[D]={[r.i6.standard.id]:{[r.uq.CREDIT_CARD]:{[r.ck.monthly]:{default:d(O.std_m)},[r.ck.yearly]:{default:d(O.std_y)}},[r.uq.INVOICE]:{[r.ck.yearly]:{default:d(O.inv_std_y)}}},[r.i6.plus.id]:{[r.uq.CREDIT_CARD]:{[r.ck.monthly]:{default:d(O.plus_m)},[r.ck.yearly]:{default:d(O.plus_y)}},[r.uq.INVOICE]:{[r.ck.yearly]:{default:d(O.inv_plus_y)}}},[r.i6.compliance.id]:{[r.uq.CREDIT_CARD]:{[r.ck.yearly]:{default:d(O.compliance_y)}},[r.uq.INVOICE]:{[r.ck.yearly]:{default:d(O.inv_compliance_y)}}}},M},{availablePlans:{}}),"parsePlanAPIResponse"),v=E(I=>{var M,D,O,S,R,U;const P=_(I),L={currentCredits:I.credits.total_credits,creditsRemaining:I.credits.credits_remaining,creditsApplied:I.credits.credits_applied,proratedRefundCredits:I.prorated_refund,totalCreditsRemaining:I.credits.total_credits_remaining||0,totalCreditsApplied:I.credits.total_credits_applied||0},F=I.discount?(0,o.A)(I.discount):void 0,x={purchase:!((M=I.addons)===null||M===void 0)&&M.purchase&&Object.keys((D=I.addons)===null||D===void 0?void 0:D.purchase).length>0?Object.entries((O=I.addons)===null||O===void 0?void 0:O.purchase).reduce((k,B)=>{let[W,K]=B;return[...k,{id:W,addonType:K.addon_type,baseUpfrontUnitCost:K.base_upfront_unit_cost,term:K.term,baseProratedSubtotal:K.base_prorated_subtotal,numUsers:K.num_users}]},[]):[],refund:!((S=I.addons)===null||S===void 0)&&S.refund&&Object.keys((R=I.addons)===null||R===void 0?void 0:R.refund).length>0?Object.entries((U=I.addons)===null||U===void 0?void 0:U.refund).reduce((k,B)=>{let[W,K]=B;return[...k,{id:W,addonType:K.addon_type,term:K.term,amount:K.amount,numUsers:K.num_users}]},[]):[]};return{activePlanCost:{id:I.product_id,subtotal:I.subtotal,undiscountedSubtotal:I.undiscounted_subtotal,billableActiveUsers:I.billable_active_users,discount:F,tax:P,credits:L,totalRecurring:I.total_recurring,totalDueToday:I.total_due_today,quotedTermEnd:I.quoted_term_end,quotedTermStart:I.quoted_term_start,paidSeats:I.paid_seats,outstandingInvoiceAmount:I.outstanding_invoice_amount||0,addons:x}}},"mapCostToPropsFromAPI"),u=E(I=>{const M=f(I.plans).availablePlans;if(I.additional_addon_info){const D={isSlackAiLanguageUnsupported:I.additional_addon_info.is_slack_ai_language_unsupported};return{availablePlans:M,additionalAddonInfo:D}}return{availablePlans:M}},"parseRetailPlansAPIResponse"),g=(0,a.A)("Fetch Available Plans",(I,M,D)=>I((0,t.apiCall)({reason:"payments-plans-fetch-available-plans",method:"retail.plans",args:D})).then(O=>u(O)));g.meta={name:"createFetcher",key:"createFetcherfetchAvailablePlans",description:"Fetch Available Plans"};const p=(0,a.A)("Fetch Available Plans",(I,M,D)=>{let{productId:O,country:S,region:R,postalCode:U,street:P,isBusinessPurchase:L,isInvoice:F,numInvoiceSeats:x,isFinalReview:b,isFutureProductSwitch:k,vatId:B,regionalId:W,countryMap:K}=D;const H=M(),z=(0,s.KV)(K,S,R),Q=(0,i.lK)(H),q=(0,i.IK)(H),$=(0,l.L)(H);let le;if(q!=null&&q.length){const ce=[];q.forEach(me=>{const _e=$.find(Ae=>Ae.addonType===me);_e!=null&&_e.id&&ce.push(_e.id)});try{le=ce.length?JSON.stringify(ce):void 0}catch(me){(0,c.Wo)().error(`Error with JSON.stringify in fetchCost, ${me}`)}}const te={state:R,product_id:O,addon_ids:le,is_final_review:b,checkout_step:Q,is_future_switch:k,...b?{}:{country:S,street1:P,zip:U,is_business:z?!1:L,is_vat_registered:z?L:!1,vat_id:B||"",regional_tax_id:W},...F?{requested_invoice_seats:x}:{}};return I((0,t.apiCall)({reason:"payments-plans-fetch-cost-data",method:"retail.cost",args:te})).then(ce=>{const me=ce.plan_cost;if(!me)throw new Error("retail.cost: plan_cost is undefined");return v(me)})});p.meta={name:"createFetcher",key:"createFetcherfetchCost",description:"Fetch Available Plans"};const A=(0,a.A)("Fetch Cost Data for Addons Flow",(I,M,D)=>{let O;try{O=JSON.stringify([D.addonId])}catch(S){(0,c.Wo)().error(`Error with JSON.stringify in fetchCost, ${S}`)}return I((0,t.apiCall)({reason:"payments-plans-fetch-cost-for-addons",method:"retail.cost",args:{addon_ids:O}})).then(S=>E(U=>{var P;const L=U==null?void 0:U.addon_costs;if(!L)return null;const F=((P=L.addons)===null||P===void 0?void 0:P[D.addonId])||null;return F?{currency:L.currency,freeUsageLimit:F.free_usage_limit,upfrontUnitCost:F.base_upfront_unit_cost,usageUnitCost:F.base_usage_unit_cost,addonType:F.addon_type,term:F.term,recurringUpfrontSubtotal:F.recurring_upfront_subtotal,dueToday:(0,n.XK)(L.due_today),recurringCosts:(0,n.XK)(L.recurring_costs),discount:F.discount}:null},"formatApiResponse")(S))});A.meta={name:"createFetcher",key:"createFetcherfetchCostForAddons",description:"Fetch Cost Data for Addons Flow"};const C=(0,a.A)("Fetch Plans Page Boot Data",I=>I((0,t.apiCall)({reason:"payments-plans-fetch-plans-page-boot-data",method:"retail.getAvailablePlans",args:{}})));C.meta={name:"createFetcher",key:"createFetcherfetchPlansPageBootData",description:"Fetch Plans Page Boot Data"};const T={mapCostToPropsFromAPI:v,getTaxData:_,getAddonTaxData:h}},4811981249:(N,y,e)=>{"use strict";e.d(y,{Rs:()=>m,eS:()=>l,xs:()=>i});var t=e(8703681551),n=e(8571983633),o=e(303912245),s=e(4253639646),c=e(6992519982),r=e(5257368278);const a={"pins.list":{}},i=(0,r.A)("Get pinned items for channel",(h,d,f)=>{let{channelId:v,reason:u}=f;const g=a["pins.list"];return g[v]||(g[v]=h((0,s.u)({channel:v,reason:u})),g[v].finally(()=>delete g[v])),g[v]});i.meta={name:"createFetcher",key:"createFetcherpinsList",description:"Get pinned items for channel"};const l=(0,r.A)("Pin Message to channel",(h,d,f)=>{let{ts:v,fileId:u,fileCommentId:g,channelId:p,reason:A}=f;return h((0,o.T)({...(0,t.A)({timestamp:v,file:u,file_comment:g},n.A),channel:p,reason:A}))});l.meta={name:"createFetcher",key:"createFetcherpinsAdd",description:"Pin Message to channel"};const m=(0,r.A)("Unpin Message from channel",(h,d,f)=>{let{ts:v,fileId:u,fileCommentId:g,channelId:p,reason:A}=f;return h((0,c.w)({...(0,t.A)({channel:p,timestamp:v,file:u,file_comment:g},n.A),channel:p,reason:A}))});m.meta={name:"createFetcher",key:"createFetcherpinsRemove",description:"Unpin Message from channel"};const _={resetActiveCalls:()=>{Object.keys(a).forEach(h=>{a[h]={}})}}},3924280006:(N,y,e)=>{"use strict";e.d(y,{lp:()=>os,SI:()=>Hs,DC:()=>Ws,Yb:()=>Ys,aw:()=>ps,g2:()=>hn,U7:()=>Kt,eR:()=>$e,sr:()=>it,Do:()=>gn,EM:()=>sn,AC:()=>ms,FF:()=>Qn,A$:()=>xn,mi:()=>Je,mK:()=>bn,bE:()=>It,AQ:()=>ln,Cs:()=>Us,J6:()=>X,LR:()=>Ee,cD:()=>Vn,jl:()=>Is,QH:()=>ht,DF:()=>In,UC:()=>Te,fx:()=>He,lS:()=>as,A1:()=>Ut,H9:()=>dn,ZD:()=>Rs,$P:()=>Xn,G2:()=>hs,S:()=>Ls});var t=e(8571983633),n=e(7715417323),o=e(7174777686),s=e(2141441167),c=e(897091071),r=e(1703559452),a=e(9113979368),i=e(9746734072),l=e(5503876160),m=e(4103274853),_=e(1566461842),h=e(2156087151),d=e(1545824888),f=e(2664504268),v=e(6916052175),u=e(5513050121),g=e(7599421656),p=e(6644049054),A=e(8956161330),C=e(4078437571),T=e(1190344069),I=e(1340402138),M=e(4446301238),D=e(6554371307),O=e(8017028002),S=e(490494914),R=e(5984521287),U=e(8419094353),P=e(9552526132),L=e(8352634987),F=e(2028988448),x=e(5613323535),b=e(3848977043),k=e(3683888369),B=e(6839188756),W=e(1507833885),K=e(4094753332),H=e(6471059816),z=e(1670069836);const Q=new H.Ay("modals");function q(et){return[{id:"downloads",name:Q.t("Downloads"),icon:"download",isEnabled:()=>(0,K.y3)()},{id:"invite_to_workspace",name:Q.t("Invite people to {workspaceName}",{workspaceName:(0,B.F1)((0,z.H7)(et))}),icon:"add-user",isEnabled:()=>(0,b.Lz)(et)},{id:"create_a_channel",name:Q.t("Create a Channel"),icon:"plus",isEnabled:()=>(0,W.MM)(et)},{id:"create_a_canvas",name:Q.t("Create a canvas",{fallbackHash:"6ac4a1edc6d12317e9fc711b1fd00c073b191bdd",fallbackHashNs:"classic_nav"}),icon:"plus",isEnabled:()=>(0,k.l)(et)}]}E(q,"getAllModals");function $(et){return q(et).filter(xt=>xt.isEnabled())}E($,"getAllEnabledModals");var le=e(7940058138),te=e(7520119303),ce=e(8414867410),me=e(3929724715),_e=e(1407713935),Ae=e(5274604535),ye=e(2298581483),oe=e(7969244833),ee=e(6007206761),V=e(6495946979),w=e(4001737397),Y=e(1197508738),G=e(2647703359),Z=e(5455782105),se=e(8170643398),ae=e(4562579337),re=e(5096647761),pe=e(3792998666),de=e(3479134063),ie=e(5765052177),he=e(6536982570),ve=e(9889493721),ge=e(6120301420),ke=e(9001455011),Ne=e(340763958),We=e(3212336858),Oe=e(2801540778),be=e(2546018671),Ke=e(4827886670),Fe=e(9931116838),J=e(3559837422),ne=e(3307632080),je=e(5772992709),at=e(411655882),nt=e(2229186),Ge=e(8668318456),Pe=e(9392104102),Le=e(82287009),ze=e(7578434623),Me=e(5770715593),Ce=e(352142497),Qe=e(4761125736);const Be=new H.Ay("ia4"),we={[Ce.D.BrowseCanvases]:()=>Be.t("All canvases"),[Ce.D.BrowseChannels]:()=>Be.t("All channels"),[Ce.D.BrowsePeople]:()=>Be.t("All people"),[Ce.D.BrowseFiles]:()=>Be.t("All files"),[Ce.D.ExternalWorkspaceAllowedOrgPane]:()=>Be.t("Organization"),[Ce.D.RecentFiles]:()=>Be.t("Recently Viewed Files"),[Ce.D.FilesSharedWithYou]:()=>Be.t("Files shared with you"),[Ce.D.FilesCreatedByYou]:()=>Be.t("Files created by you"),[Ce.D.RecentCanvases]:()=>Be.t("Recently Viewed Canvases"),[Ce.D.CanvasesSharedWithYou]:()=>Be.t("Canvases shared with you"),[Ce.D.CanvasesCreatedByYou]:()=>Be.t("Canvases created by you"),[Ce.D.DeletedCanvases]:void 0,[Ce.D.DmsList]:void 0,[Ce.D.LaterList]:void 0,[Ce.D.Channel]:void 0,[Ce.D.AppSpace]:void 0,[Ce.D.BrowseApps]:void 0,[Ce.D.ExternalOrganizations]:()=>Be.t("External organizations"),[Ce.D.ExternalOrganization]:()=>Be.t("External organization"),[Ce.D.ExternalPeople]:()=>Be.t("External people"),[Ce.D.SlackConnectChannels]:()=>Be.t("Slack Connect channels"),[Ce.D.SlackConnectInvitations]:()=>Be.t("Slack Connect invitations"),[Ce.D.BrowseExternalWorkspace]:void 0,[Ce.D.PostEvent]:void 0,[Ce.D.BrowseShortcuts]:void 0,[Ce.D.BrowseWorkflowsManagedByYou]:void 0,[Ce.D.BrowseYourWorkflowTemplates]:void 0,[Ce.D.BrowseWorkflowTemplates]:void 0,[Ce.D.BrowseUserGroups]:void 0,[Ce.D.OrgDirectory]:void 0,[Ce.D.RecentPlatform]:()=>Be.t("Recently used workflows"),[Ce.D.SlackConnect]:void 0,[Ce.D.Page]:void 0,[Ce.D.Threads]:void 0,[Ce.D.Thread]:void 0,[Ce.D.Profile]:void 0,[Ce.D.FileDetails]:void 0,[Ce.D.Help]:void 0,[Ce.D.UserGroup]:void 0,[Ce.D.KeyboardShortcuts]:void 0,[Ce.D.WhatsNew]:void 0,[Ce.D.Feedback]:void 0,[Ce.D.List]:void 0,[Ce.D.ListRecord]:void 0,[Ce.D.ListRecordDetails]:void 0,[Ce.D.ListRecordThread]:void 0,[Ce.D.ListRecordHistory]:void 0,[Ce.D.ListHistory]:void 0,[Ce.D.ComposeList]:void 0,[Ce.D.Compose]:void 0,[Ce.D.QuipCommentThread]:void 0,[Ce.D.QuipCommentStream]:void 0,[Ce.D.QuipActivityHistory]:void 0,[Ce.D.QuipAutomationsOverview]:void 0,[Ce.D.Quip]:void 0,[Ce.D.Canvas]:void 0,[Ce.D.ChannelCanvas]:void 0,[Ce.D.CanvasBrowser]:void 0,[Ce.D.HuddlePageCanvas]:void 0,[Ce.D.PaidBenefits]:void 0,[Ce.D.Setup]:void 0,[Ce.D.SearchEmpty]:void 0,[Ce.D.ActivityEmpty]:void 0,[Ce.D.AboutWorkspace]:void 0,[Ce.D.Unknown]:void 0,[Ce.D.MorePeopleSidebar]:void 0,[Ce.D.MoreCanvasesSidebar]:void 0,[Ce.D.MoreSolutionsSidebar]:void 0,[Ce.D.AppPopout]:void 0,[Ce.D.MorePlatformSidebar]:void 0,[Ce.D.Search]:void 0,[Ce.D.ChannelList]:void 0,[Ce.D.BrowseLists]:void 0,[Ce.D.DeletedLists]:void 0,[Ce.D.Tasks]:void 0,[Ce.D.AssignedTasks]:void 0,[Ce.D.Reminders]:void 0,[Ce.D.Saved]:void 0,[Ce.D.BrowseList]:void 0,[Ce.D.ActivityList]:void 0,[Ce.D.MoreFilesSidebar]:void 0,[Ce.D.MoreListsSidebar]:void 0,[Ce.D.UnifiedFilesSidebar]:void 0,[Ce.D.MoreChannelsSidebar]:void 0,[Ce.D.MoreHuddlesSidebar]:void 0,[Ce.D.MoreExternalConnectionsSidebar]:void 0,[Ce.D.HelpBrowser]:void 0,[Ce.D.Huddle]:void 0,[Ce.D.BrowseHuddles]:void 0,[Ce.D.KeyboardShortcutsBrowser]:void 0,[Ce.D.WhatsNewBrowser]:void 0,[Ce.D.FeedbackBrowser]:void 0,[Ce.D.ExternalWorkspaceSidebar]:void 0,[Ce.D.ExternalWorkspacePeopleBrowser]:void 0,[Ce.D.ExternalWorkspaceChannelBrowser]:void 0,[Ce.D.AiSummaryDetails]:void 0,[Ce.D.DailyDigest]:void 0,[Ce.D.SearchSummary]:void 0,[Ce.D.AssistantList]:void 0,[Ce.D.BrowseUnifiedFiles]:()=>Be.t("All docs"),[Ce.D.BrowseUnifiedFilesCanvases]:()=>Be.t("Canvases"),[Ce.D.BrowseUnifiedFilesLists]:()=>Be.t("Lists"),[Ce.D.DeletedUnifiedFiles]:void 0,[Ce.D.Today]:void 0,[Ce.D.Record]:void 0,[Ce.D.MyTaskApproval]:void 0,[Ce.D.TableauDetails]:void 0,[Ce.D.WorkObject]:void 0,[Ce.D.RecordChannelCreate]:void 0,[Ce.D.RecordChannelRelatedList]:void 0,[Ce.D.RecordRelatedConversationsChannelsList]:void 0,[Ce.D.RecordRelatedConversationsThreadsList]:void 0,[Ce.D.SalesAdministration]:void 0,[Ce.D.SalesBulkGrid]:void 0,[Ce.D.SalesHome]:void 0,[Ce.D.SalesListViewBrowser]:void 0,[Ce.D.SalesLogActivity]:void 0,[Ce.D.SalesCreateRecord]:void 0,[Ce.D.SalesNotifications]:void 0,[Ce.D.SalesSidebar]:void 0,[Ce.D.SalesAutoSlackLaunchpad]:void 0,[Ce.D.AssistantThread]:void 0,[Ce.D.AssistantHome]:void 0,[Ce.D.Solutions]:void 0,[Ce.D.Admin]:void 0,[Ce.D.ActivityChannelUnreadsList]:void 0,[Ce.D.TodayV2]:()=>Be.t("Today"),[Ce.D.Agents]:void 0,[Ce.D.AgentConversation]:void 0,[Ce.D.AgentHomeConversation]:void 0,[Ce.D.MoreAgentsSidebar]:void 0,[Ce.D.Sidekicks]:void 0,[Ce.D.SidekickConversation]:void 0,[Ce.D.MoreSidekicksSidebar]:void 0,[Ce.D.SolutionsFiltered]:void 0,[Ce.D.BrowseYourSolutions]:void 0,[Ce.D.BrowseYourCompanySolutions]:void 0,[Ce.D.ChannelFiles]:void 0,[Ce.D.SlackKitPlayground]:void 0,[Ce.D.AiApp]:void 0,[Ce.D.MultiTurnSearch]:void 0,[Ce.D.MultiTurnSearchSidebar]:void 0,[Ce.D.AboutAiApp]:void 0,[Ce.D.BookmarksFolder]:void 0,[Ce.D.ActionItems]:void 0,[Ce.D.Inbox]:void 0,[Ce.D.ActivityInbox]:void 0,[Ce.D.HuddleTranscriptDetails]:void 0,[Ce.D.WorkflowDetails]:()=>Be.t("Workflow details"),[Ce.D.AppDetails]:et=>(0,Qe._Z)(et,"app_flexpane")?Be.t("App Details"):"App Details",[Ce.D.WorkflowEditor]:()=>Be.t("Workflow Editor"),[Ce.D.WorkflowTemplateEditor]:void 0,[Ce.D.WorkflowBeingCreated]:void 0,[Ce.D.BBMMain]:et=>(0,B.IE)(et),[Ce.D.BBMWorkspaceSwitcher]:void 0,[Ce.D.SearchInChannel]:void 0,[Ce.D.BBMMore]:void 0,[Ce.D.AboutUserGroup]:void 0,[Ce.D.MeetingDetails]:void 0,[Ce.D.AiMessageAnalysis]:void 0,[Ce.D.BrowseUnifiedFilesGoogleDrive]:void 0,[Ce.D.BrowseUnifiedFilesOnedrive]:void 0,[Ce.D.BrowseUnifiedFilesExternalResults]:void 0,[Ce.D.ConversationCreate]:void 0,[Ce.D.SlackbotAi]:void 0,[Ce.D.UnifiedDirectory]:void 0},Se=E((et,xt)=>{if(xt in we){var bt;return(bt=we[xt])===null||bt===void 0?void 0:bt.call(we,et)}return""},"getDisplayNameForViewType");var Ye=e(4240442510),ot=e(6910192640),_t=e(505908973),pt=e(4096483543),vt=e(5600190572),yt=e(4256321479),Tt=e(8195161e3),ft=e(1948374838),Ct=e(1917953477),At=e(181849556),kt=e(8935440161),Bt=e(1072784641),St=e(6897117289),Gt=e(7646553093),Et=e(4342685672),wt=e(6304789565),Jt=e(8847766420),Lt=e(7260478587),Zt=e(4119164726),qt=e(6533394955),tt=e(2284446909),st=e(6451390137),gt=e(2854654447),Nt=e(5795074931),Ht=e(9107158149),Xt=e(7688940281),j=e(207659888),Ie=e(2235302340),Ue=e(9101533895),rt=e(6728717861),zt=e(3829348308),Wt=e(937317117),Ft=e(761034736),rn=e(8840779375),_n=e(9268023148),An=e(6494470131),un=e(5380461521),Rn=e(5209876365),Un=e(337319621);const Wn=(0,wt.Ay)("Fetch triggers with query",async(et,xt,bt)=>{let{query:dt,currentChannelId:mt,includeAutomatedTriggers:Pt=!1,strictExposureRules:Rt=!0,reason:Vt}=bt;const nn=xt(),En=(0,Jt.ZT)(nn),qe=(0,ft.X)(nn),Xe=Pt?["shortcut","event","webhook","scheduled","service"]:["shortcut"];if(!qe.containsPrefixOf(dt))try{const Mt=(await et((0,An.v)({query:dt,currentChannelId:mt,strictExposureRules:Rt,triggerTypes:Xe,reason:Vt??"hermes_triggers_store:fetch_and_upsert_triggers"}))).triggers,$t=5;return Mt.length<$t&&(qe.addAsPrefix(dt),qe.clearRequestInFlight()),En&&(0,un.X)().markObjectsAsFresh(En,(0,rn.A)(Mt,"id")),et((0,Rn.z4)({triggers:Mt})),Mt}catch(lt){return(0,Un.Wo)().error(lt,"There was an issue fetching triggers with query"),[]}return[]});Wn.meta={name:"createThunk",key:"createThunkfetchAndUpsertTriggersWithQuery",description:"Fetch triggers with query"};const vn=500,Ln=(0,_n.A)((et,xt)=>{let{query:bt,includeAutomatedTriggers:dt,strictExposureRules:mt,reason:Pt}=xt;return et(Wn({query:bt,includeAutomatedTriggers:dt,strictExposureRules:mt,reason:Pt}))},vn,{leading:!0,trailing:!0}),On=(0,wt.Ay)("debounced fetch and upsert triggers with query",(et,xt,bt)=>{let{query:dt,includeAutomatedTriggers:mt,strictExposureRules:Pt,reason:Rt}=bt;return Ln(et,{query:dt,includeAutomatedTriggers:mt,strictExposureRules:Pt,reason:Rt})});On.meta={name:"createThunk",key:"createThunkdebouncedFetchAndUpsertTriggersWithQuery",description:"debounced fetch and upsert triggers with query"};const kn=null,Hn={DEBOUNCE_MS:vn};var Bn=e(8227942655),Jn=e(970158643),ts=e(8276911661),on=e(5688490863),$n=e(8149648525),zn=e(2047021170),Zn=e(4135820365),yn=e(6892115804),Kn=e(1835177371),Cn=e(6508028729);const os={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeIms:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1,onlyVisibleIms:!1,includeExternallyShared:!0,includeOnlyExternallyShared:!0,allowedInternalTeams:void 0,shouldAllowedInternalTeamsMatchAny:void 0,onlyExternallyShared:!1,onlyFromTeamId:void 0,includeRecordChannels:!0},members:{includeSelf:!1,includeSlackbot:!0,includeSecurityBot:!0,includeBots:!0,includeWorkflows:!1,includeAgents:!0,includeExternal:!0,includeAllExternal:!1,onlyLocalTeam:!1,includeGuests:!0,includeProfileOnlyUsers:!1,onlyExternalFromTeams:void 0,onlyFromExternalTeamId:void 0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1},channelSections:{includeTypes:{[j.VZ.Standard]:!0,[j.VZ.Stars]:!0}}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0,preferMpimsWithActiveMembers:!0,model:Et.KV},fuzzyLimit:3,beyondWordBoundaryFuzzyLimit:6,fuzzyJumpLimit:20,matchBeyondWordBoundaries:!1,fuzzyCJK:!0,returnMetadata:!1};function _s(et){let{query:xt,options:bt}=et;var dt,mt,Pt;const Rt=(Pt=bt==null?void 0:bt.entities)!==null&&Pt!==void 0?Pt:{},Vt=Rt==null?void 0:Rt.members;let nn=!1;return Vt&&Vt!==!0&&(nn=!!(Vt!=null&&Vt.matchEmailField)),{source:(bt==null?void 0:bt.searchViewContext)||(bt==null||(dt=bt.sort)===null||dt===void 0?void 0:dt.source),tiered:bt==null?void 0:bt.tiered,is_searcher_sessions:!1,entities:Object.keys(Rt).filter(En=>!!Rt[En]).sort().toString(),query_length:xt.length,is_member_email_search:(bt==null||(mt=bt.sort)===null||mt===void 0?void 0:mt.source)==="use-team-and-people-search"&&nn}}E(_s,"getTraceTags");function ms(et,xt){var bt,dt;const{excludeElmChannels:mt,includePublic:Pt,includePrivate:Rt,includeFromAnotherTeam:Vt,allowedInternalTeams:nn,shouldAllowedInternalTeamsMatchAny:En}=(dt=(bt=xt.entities)===null||bt===void 0?void 0:bt.channels)!==null&&dt!==void 0?dt:{};let qe=[];return Pt&&(qe=[...qe,...(0,Ue.Wr)(et,{includeFromAnotherTeam:!!Vt})]),Rt&&(qe=[...qe,...(0,Ue.sE)(et,{includeFromAnotherTeam:!!Vt})]),mt&&(qe=qe.filter(Xe=>!(0,ne.A)(et,Xe))),nn&&(qe=qe.filter(Xe=>{if((0,w.O)(Xe))return!!En;const lt=(0,ye.R)(et,Xe),Mt=En?lt==null?void 0:lt.some($t=>nn.includes($t)):lt==null?void 0:lt.every($t=>nn.includes($t));return(lt==null?void 0:lt.length)&&Mt})),qe}E(ms,"getLocalChannels");function Je(et,xt){var bt;const dt=(0,Jt.ZT)(et),mt=xt==null||(bt=xt.entities)===null||bt===void 0?void 0:bt.teams;var Pt;const Rt=Object.values((Pt=Cn._===null||Cn._===void 0?void 0:(0,Cn._)())!==null&&Pt!==void 0?Pt:{}).filter(Xe=>Xe.id!==dt);if(mt!=null&&mt.onlyNavigable){const Xe=(0,Zn._)(et);return Xe.length?[...Rt,...Xe]:Rt}var Vt;const nn=(Vt=(0,z.iK)(et))!==null&&Vt!==void 0?Vt:{},En=Rt.map(Xe=>Xe.id),qe=Object.values(nn).filter(Xe=>!En.includes(Xe.id));return[...Rt,...qe].filter(Ut(et,mt))}E(Je,"getLocalTeams");const X=(0,wt.Ay)("Get channels from flannel by query",(et,xt,bt)=>{let{query:dt,options:mt}=bt;var Pt,Rt,Vt,nn;const{includeFromAnotherTeam:En,includeExternallyShared:qe,includeOnlyExternallyShared:Xe,onlyExternallyShared:lt,onlyFromTeamId:Mt,onlyFromExternalWorkspaceId:$t,allowedInternalTeams:en,shouldAllowedInternalTeamsMatchAny:tn,includeRecordChannels:Qt}=(nn=(Pt=mt.entities)===null||Pt===void 0?void 0:Pt.channels)!==null&&nn!==void 0?nn:{},jt=((Rt=mt.entities)===null||Rt===void 0||(Vt=Rt.channels)===null||Vt===void 0?void 0:Vt.remoteLimit)||mt.limit,cn=xt(),Pn=[],Tn=" AND ",qn={query:dt,count:jt||os.limit||24,fuzz:(0,Qe._Z)(cn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Qe._Z)(cn,"searcher_flannel_cjk")==="cjk"};return En&&Pn.push("xws"),!(0,t.A)(qe)&&!qe&&Pn.push("NOT shared"),!(0,t.A)(Xe)&&!Xe&&Pn.push("NOT external"),!(0,t.A)(lt)&&lt&&Pn.push("shared"),Pn.length&&(qn.filter=Pn.join(Tn)),Mt&&(qn.external_team=Mt),$t&&(qn.external_team=$t),en&&(qn.allowed_internal_teams=en),tn&&(qn.should_allowed_internal_teams_match_any=tn),Qt&&(qn.include_record_channels=!0),mt!=null&&mt.topChannels&&(qn.top_channels=mt.topChannels),mt!=null&&mt.defaultWorkspace&&(qn.default_workspace=mt.defaultWorkspace),et((0,M.hq)({query:qn})).timeout(2e3).catch(n.A)});X.meta={name:"createThunk",key:"createThunkgetRemoteChannels",description:"Get channels from flannel by query"};const ue=(0,wt.Ay)("Get mpims from flannel by query",(et,xt,bt)=>{let{query:dt,options:mt}=bt;var Pt,Rt,Vt,nn;const{useDisplayName:En}=(nn=(Pt=mt.entities)===null||Pt===void 0?void 0:Pt.mpims)!==null&&nn!==void 0?nn:{},qe=((Rt=mt.entities)===null||Rt===void 0||(Vt=Rt.mpims)===null||Vt===void 0?void 0:Vt.remoteLimit)||mt.limit,Xe=xt(),lt={query:dt.replace(/,\s/g,","),count:qe||os.limit||24,fuzz:(0,Qe._Z)(Xe,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Qe._Z)(Xe,"searcher_flannel_cjk")==="cjk"};return En&&(lt.use_display_name=!0),et((0,M.XU)({query:lt})).timeout(2e3).catch(n.A)});ue.meta={name:"createThunk",key:"createThunkgetRemoteMpims",description:"Get mpims from flannel by query"};const Ee=(0,wt.Ay)("Get emoji from flannel by query",(et,xt,bt)=>{let{query:dt,options:mt}=bt;var Pt,Rt;const Vt=((Pt=mt.entities)===null||Pt===void 0||(Rt=Pt.emoji)===null||Rt===void 0?void 0:Rt.remoteLimit)||mt.limit;return d.S.resolve(et((0,O.l8)({query:{query:dt,count:Vt}}))).timeout(2e3).catch(n.A)});Ee.meta={name:"createThunk",key:"createThunkgetRemoteEmoji",description:"Get emoji from flannel by query"};const Te=(0,wt.Ay)("Get user groups from the search.team endpoint by query",(et,xt,bt)=>{let{query:dt,options:mt}=bt;var Pt,Rt,Vt,nn,En,qe;const Xe=((Pt=mt.entities)===null||Pt===void 0||(Rt=Pt.userGroups)===null||Rt===void 0?void 0:Rt.remoteLimit)||mt.limit;return d.S.resolve(et((0,U.cn)({query:{query:dt,count:Xe,org_wide:(Vt=mt.entities)===null||Vt===void 0||(nn=Vt.userGroups)===null||nn===void 0?void 0:nn.includeFromAnotherTeam,channel:(En=mt.entities)===null||En===void 0||(qe=En.userGroups)===null||qe===void 0?void 0:qe.channel}}))).timeout(2e3).catch(n.A)});Te.meta={name:"createThunk",key:"createThunkgetRemoteUserGroups",description:"Get user groups from the search.team endpoint by query"};const He=(0,wt.Ay)("Get remote triggers with query",(et,xt,bt)=>{let{query:dt,includeAutomatedTriggers:mt,reason:Pt}=bt;return et(On({query:dt,includeAutomatedTriggers:mt,reason:Pt}))});He.meta={name:"createThunk",key:"createThunkgetRemoteWorkflowTriggers",description:"Get remote triggers with query"};const $e=(0,wt.Ay)("Get bulk user groups from the userGroups.searchBulk endpoint by query",(et,xt,bt)=>{let{queries:dt,options:mt}=bt;var Pt,Rt,Vt,nn,En,qe;const Xe=((Pt=mt.entities)===null||Pt===void 0||(Rt=Pt.userGroups)===null||Rt===void 0?void 0:Rt.remoteLimit)||mt.limit;return d.S.resolve(et((0,U.MZ)({query:{queries:dt,count:Xe,org_wide:(Vt=mt.entities)===null||Vt===void 0||(nn=Vt.userGroups)===null||nn===void 0?void 0:nn.includeFromAnotherTeam,channel:(En=mt.entities)===null||En===void 0||(qe=En.userGroups)===null||qe===void 0?void 0:qe.channel}}))).timeout(2e3).catch(n.A)});$e.meta={name:"createThunk",key:"createThunkgetBulkRemoteUserGroups",description:"Get bulk user groups from the userGroups.searchBulk endpoint by query"};function it(et,xt){const{includeArchived:bt,includeRequired:dt,onlyIfMember:mt,canPost:Pt,includeExternallyShared:Rt,includeOnlyExternallyShared:Vt,onlyExternallyShared:nn,onlyFromTeamId:En,onlyFromExternalWorkspaceId:qe}=xt??{};return Xe=>{let lt=!0;if(bt||(lt=lt&&!(0,ee.F)(Xe)),!(0,t.A)(dt)&&!dt&&(lt=lt&&!(0,_e.gx)(Xe)),nn&&(lt=lt&&(0,Ne.ju)(Xe)),(!Rt||!Vt)&&(lt=lt&&!(0,Ne.ju)(Xe)),mt&&(lt=lt&&(0,V.bl)(Xe)),Pt&&(lt=lt&&(0,Ke.E)(et,Xe.id)),En){var Mt;lt=lt&&(((Mt=(0,Ae.A)(et,Xe))===null||Mt===void 0?void 0:Mt.includes(En))||!1)}return qe&&(lt=lt&&(0,me.ne)(et,Xe)===qe),lt}}E(it,"getChannelFilterFunction");const ht=(0,wt.Ay)("Get members from flannel by query",(et,xt,bt)=>{let{query:dt,options:mt}=bt;var Pt,Rt,Vt;const{includeDeleted:nn,matchEmailField:En,onlyExternal:qe,includeExternal:Xe,includeAllExternal:lt,includeBots:Mt,onlyFromExternalTeamId:$t,onlyFromExternalWorkspaceId:en}=(Vt=mt.entities.members)!==null&&Vt!==void 0?Vt:{},tn=((Pt=mt.entities)===null||Pt===void 0||(Rt=Pt.members)===null||Rt===void 0?void 0:Rt.remoteLimit)||mt.limit,Qt=xt(),jt=(0,Jt.jV)(Qt),cn=[],Pn=(0,B.r7)((0,z.H7)(Qt))||!!jt,Tn=Pn?["NOT org"]:["NOT team"],qn=Pn?["org"]:["team"],vs=!nn,Cs=" AND ",cs={query:dt,count:tn||os.limit||24,fuzz:(0,Qe._Z)(Qt,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"||mt.fuzzyLimit===0?0:1,uax29_tokenizer:(0,Qe._Z)(Qt,"searcher_flannel_cjk")==="cjk"};return vs&&cn.push("NOT deactivated"),(qe||$t)&&cn.push(...Tn),($t||en)&&(cs.external_team=$t||en),Mt||cn.push("NOT bots"),Xe||cn.push(...qn),Xe&&lt&&(cs.include_all_external=!0),En&&(cs.search_email=!0),cn.length&&(cs.filter=cn.join(Cs)),(0,Qe._Z)(Qt,"searcher_member_workspace_ranking")==="treatment"&&(cs.enable_workspace_ranking=!0),mt!=null&&mt.topUsers&&(cs.top_users=mt.topUsers),mt!=null&&mt.currentChannel&&(cs.current_channel=mt.currentChannel),mt!=null&&mt.currentThreadUsers&&(cs.current_thread_users=mt.currentThreadUsers),d.S.resolve(et((0,R.Wr)({query:cs}))).timeout(2e3).catch(n.A)});ht.meta={name:"createThunk",key:"createThunkgetRemoteMembers",description:"Get members from flannel by query"};const Kt=(0,wt.Ay)("Get members from flannel by query",(et,xt,bt)=>{let{queries:dt,options:mt}=bt;var Pt,Rt,Vt,nn;const{includeDeleted:En,matchEmailField:qe}=(nn=(Pt=mt.entities)===null||Pt===void 0?void 0:Pt.members)!==null&&nn!==void 0?nn:{},Xe=((Rt=mt.entities)===null||Rt===void 0||(Vt=Rt.members)===null||Vt===void 0?void 0:Vt.remoteLimit)||mt.limit||24,lt=xt(),Mt=[],$t=!En,en=" AND ",tn={queries:dt,count:Xe,fuzz:(0,Qe._Z)(lt,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Qe._Z)(lt,"searcher_flannel_cjk")==="cjk"};return $t&&Mt.push("NOT deactivated"),qe&&(tn.match_email=!0),Mt.length&&(tn.filter=Mt.join(en)),d.S.resolve(et((0,R.W9)({query:tn}))).timeout(2e3).catch(n.A)});Kt.meta={name:"createThunk",key:"createThunkgetBulkRemoteMembers",description:"Get members from flannel by query"};function It(et,xt){const{includeSelf:bt,includeSlackbot:dt,includeSecurityBot:mt,includeBots:Pt,includeWorkflows:Rt,includeDeleted:Vt,includeExternal:nn,includeGuests:En,includeProfileOnlyUsers:qe,includeAgents:Xe,onlyLocalTeam:lt,onlyExternal:Mt,onlyExternalFromTeams:$t,onlyFromExternalTeamId:en,onlyAgents:tn}=xt??{};return Qt=>{let jt=!0;if(Mt&&(jt=jt&&(0,re.g)(Qt)&&!(0,ae.A)(Qt)),bt||(jt=jt&&!(0,se.fy)(Qt)),dt||(jt=jt&&!(0,de.U)(Qt)),mt||(jt=jt&&!(0,ie.C)(Qt)),Xe&&(0,Nt.TZ)(et)){const Pn=(0,tt.rs)(et);Pn&&Pn.length&&(0,v.u)(Qt)&&(jt=jt&&Pn.includes(Qt.id))}if(Xe||(jt=jt&&!(0,v.u)(Qt)),$t)return(0,o.A)($t,(0,he.dQ)(Qt));if(tn){if((0,Nt.TZ)(et)){const Pn=(0,tt.rs)(et);if(Pn&&Pn.length)return Pn.includes(Qt.id)}return(0,v.u)(Qt)}if(en)return bt&&(0,se.fy)(Qt)?!0:(0,re.g)(Qt)&&(0,he.dQ)(Qt)===en;if(Pt||(jt=jt&&!(0,ae.A)(Qt)&&!(0,de.U)(Qt)&&!(0,ie.C)(Qt)),Rt||(jt=jt&&!(0,se.v3)(Qt)),Vt||(jt=jt&&!(0,se.oy)(Qt)),nn||(jt=jt&&!(0,re.g)(Qt)),En||(jt=jt&&!(0,pe.P)(Qt)),qe||(jt=jt&&!(0,se.hh)(Qt)),qe&&(0,se.hh)(Qt)&&(jt=jt&&!(0,se.oy)(Qt)),lt){const cn=(0,Jt.ZT)(et);(0,se.hh)(Qt)&&qe||(jt=jt&&(0,he.nO)(Qt,cn))}return jt}}E(It,"getMemberFilterFunction");function Ut(et,xt){var bt;const{includeCurrentTeam:dt,includeExternal:mt,onlyExternal:Pt,onlyCurrentOrg:Rt,onlyAvailableToCurrentOrg:Vt,onlyMemberOnCurrentOrg:nn}=xt??{},En=(0,Jt.Kc)(et),qe=(0,Nt.WR)(et),Xe=(0,ts.nv)(et,qe),lt=(Xe==null||(bt=Xe.enterprise_user)===null||bt===void 0?void 0:bt.teams)||[];return Mt=>!(!dt&&Mt.id===(0,Jt.ZT)(et)||Pt&&!(0,Oe.z)(et,Mt)||!mt&&!Pt&&!Vt&&(0,Oe.z)(et,Mt)||Rt===!0&&Mt.id!==En&&(0,B.Ss)(Mt)!==En||Vt===!0&&Mt.id!==En&&(0,B.Ss)(Mt)!==En&&!(0,Oe.z)(et,Mt)||nn===!0&&!lt.includes(Mt.id))}E(Ut,"getTeamFilterFunction");function ln(et,xt){const{onlyVisibleMpims:bt,onlyExternallyShared:dt,includeExternallyShared:mt,onlyFromTeamId:Pt}=xt??{};return Rt=>{let Vt=!0;if(bt&&(Vt=Vt&&(0,me.w6)(et,Rt)),dt&&(Vt=Vt&&(0,Ne.ju)(Rt)),mt===!1&&(Vt=Vt&&!(0,Ne.ju)(Rt)),Pt){var nn;Vt=Vt&&(((nn=(0,Ae.A)(et,Rt))===null||nn===void 0?void 0:nn.includes(Pt))||!1)}return Vt}}E(ln,"getMpimFilterFunction");function sn(et,xt){const{onlyExternallyShared:bt,includeExternallyShared:dt,onlyFromTeamId:mt,onlyVisibleIms:Pt}=xt??{};return Rt=>{let Vt=!0;if(Pt&&(Vt=Vt&&(0,me.PE)(et,Rt)),bt&&(Vt=Vt&&(0,Ne.ju)(Rt)),dt||(Vt=Vt&&!(0,Ne.ju)(Rt)),mt){var nn;Vt=Vt&&(((nn=(0,Ae.A)(et,Rt))===null||nn===void 0?void 0:nn.includes(mt))||!1)}return Vt}}E(sn,"getImFilterFunction");function dn(et,xt){const{includeDeleted:bt,includeFromAnotherTeam:dt,onlyFromExternalWorkspaceId:mt}=xt??{};return Pt=>{let Rt=!0;return dt||(Rt=Rt&&!(0,Kn.dk)(et,Pt.id)),bt||(Rt=Rt&&(0,be.V1)(Pt)),mt&&(Rt=Rt&&(0,be.$Q)(Pt)===mt),Rt}}E(dn,"getUserGroupFilterFunction");function gn(et,xt){const{onlyCanvases:bt=!1,onlyLists:dt=!1,onlyWriteable:mt=!1,onlyChannelCanvases:Pt=!1,onlyTemplateCanvases:Rt=!1,onlySlackNative:Vt=!1,includeChannelCanvases:nn=!1,excludeTemplateCanvases:En=!1,excludeCannedCanvasTemplates:qe=!1}=xt??{},Xe=(0,ge.hq)(et),lt=(0,Jt.Kc)(et),Mt=(0,z._J)(et,lt),$t=Mt&&!(0,B.qR)(Mt);return en=>{let tn=!0;const Qt=(0,G.wL)(en)&&!$t||Xe&&nn&&(0,G.aD)(en),jt=(0,G.l7)(en);return bt&&(tn=tn&&Qt,(0,G.dE)(en)&&En||(0,G.ny)(en)&&qe)?!1:(Xe&&(Pt||$t)&&(tn=tn&&!(0,G.wL)(en)&&(0,G.aD)(en)),Rt&&(tn=tn&&(0,G.dE)(en)),dt&&(tn=tn&&jt),mt&&(tn=tn&&(0,G.mW)(en)),Vt&&(tn=jt||Qt),tn)}}E(gn,"getFileFilterFunction");const In=(0,wt.Ay)("Get teams via API by query",(et,xt,bt)=>{let{query:dt,options:mt}=bt;var Pt,Rt;const{onlyExternal:Vt,includeExternal:nn,remoteLimit:En}=(Rt=(Pt=mt.entities)===null||Pt===void 0?void 0:Pt.teams)!==null&&Rt!==void 0?Rt:{},qe=xt();if((0,J.DM)(qe))return d.S.resolve();if(Vt||nn)return d.S.resolve(et((0,S.Is)(dt))).timeout(2e3).catch(n.A);const Xe=En||mt.limit||24;return et((0,yn.vB)({query:dt,count:Xe})).timeout(2e3).catch(n.A)});In.meta={name:"createThunk",key:"createThunkgetRemoteTeams",description:"Get teams via API by query"};const Vn=(0,wt.Ay)("Get files via API by query",(et,xt,bt)=>{let{query:dt,options:mt}=bt;var Pt,Rt,Vt;const{onlyCanvases:nn,onlyChannelCanvases:En,onlyTemplateCanvases:qe,onlyLists:Xe,excludeTemplateCanvases:lt,bypassCache:Mt}=(Vt=(Pt=mt.entities)===null||Pt===void 0?void 0:Pt.files)!==null&&Vt!==void 0?Vt:{};let $t=dt;qe?$t=`type:canvas_template ${dt}`:nn||En?$t=`${lt?"type:quip -type:canvas_template":"type:quip"} ${dt}`:Xe&&($t=`type:list ${dt}`);var en;return et((0,D.yF)({query:$t,includeShares:!0,bypassCache:Mt,reason:(en=mt.searchViewContext)!==null&&en!==void 0?en:(Rt=mt.sort)===null||Rt===void 0?void 0:Rt.source})).timeout(2e3).catch(n.A)});Vn.meta={name:"createThunk",key:"createThunkgetRemoteFiles",description:"Get files via API by query"};function bn(et){const xt=(0,ce.A4)(),bt={},dt=[];u.cw.forEach(Pt=>{const Rt=(0,Ye.A)(et,{tab:Pt});(0,ot.A)(et,Pt)&&Rt&&!(Rt in bt)&&(dt.push({id:Pt,name:Rt,is_view:!0,is_tab_view:!0}),bt[Rt]=Rt)}),u.g5.forEach(Pt=>{const Rt=Se(et,Pt);(0,_t.A)(et,Pt)&&Rt&&!(Rt in bt)&&(dt.push({id:Pt,name:Rt,is_view:!0,is_mva_view:!0}),bt[Rt]=Rt)}),xt.forEach(Pt=>{if(!(0,ce.cH)(et,Pt)&&!(Pt.id==="Pslack-connect"&&!(0,p.A)(et))&&Pt.id!=="Pactivity"&&!(Pt.id===le.c.Apps&&!(0,ke.t)(et))&&!(Pt.id===le.c.Shortcuts&&!(0,ve.Bf)(et))&&!(Pt.id===le.c.BrowseWorkflowTemplates&&!(0,ve.fh)(et))&&!(Pt.id===le.c.BrowseWorkflowsManagedByYou&&!(0,ve.EH)(et))&&!(Pt.id===le.c.BrowseYourWorkflowTemplates&&!(0,ve.M7)(et))&&((0,ce.l1)(et,Pt)||Pt.id==="Punreads"&&(0,zn.ty)(et,"enable_unread_view"))){const Rt=(0,te.yb)(et,Pt);Rt&&!(Rt in bt)&&(dt.push({...Pt,name:Rt,is_view:!0,is_page_view:!0}),bt[Rt]=Rt)}});const mt=(0,vt.lI)("Vall_threads");return mt&&(0,zn.ty)(et,"enable_threads_view")&&!(0,I.R)(et)&&dt.push(mt),dt}E(bn,"getLocalViews");function xn(et){return $(et)}E(xn,"getLocalModals");function Qn(et){return(0,je.xf)(et)?[{id:et,score:0,item:{id:et,value:et,isEmail:!0}}]:[]}E(Qn,"getLocalEmails");function hn(et,xt){const bt=!xt;let dt=Pe.Ml;if(xt){const mt=(0,Ue.OL)(et,xt);dt=mt&&(0,oe.f)(et,mt)||Pe.Ml}return(0,st.PL)(et).flatMap(mt=>{if(mt.teams&&(dt.length||bt)&&!mt.isWorkspaceAgnostic){const Pt=bt?mt.teams:mt.teams.filter(Rt=>dt.includes(Rt));if(Pt.length>1)return Pt.map(Rt=>{const Vt=(0,z._J)(et,Rt),nn=(0,B.F1)(Vt);return{...mt,name:`${mt.name} ${nn}`,applicableTeamId:Rt}})}return[mt]})}E(hn,"getAppActionsWithEntriesPerApplicableTeam");function as(et,xt,bt){const dt=(0,Ue.OL)(et,xt),mt=dt?(0,oe.f)(et,dt)||[]:[];return(0,Le.A_)(et,xt,!!bt,!0).flatMap(Pt=>{if(Pt.teams&&mt.length&&Pt.appName!=="Slack"&&!Pt.isWorkspaceAgnostic){const Rt=Pt.teams.filter(Vt=>mt.includes(Vt));if(Rt.length>1)return Rt.map(Vt=>({...Pt,id:(0,We.Bs)(Pt),isSlashCommand:!0,applicableTeamId:Vt}))}return[{...Pt,id:(0,We.Bs)(Pt),isSlashCommand:!0}]})}E(as,"getSlashCommandsListWithEntriesPerApplicableTeam");function rs(et,xt){let bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";Rs(xt);const dt={},{members:mt,channels:Pt,mpims:Rt,teams:Vt,userGroups:nn,appActions:En,views:qe,broadcastKeywords:Xe,emoji:lt,files:Mt,topEngagedFiles:$t,lists:en,channelSections:tn,emails:Qt,modals:jt,shortcuts:cn,workflowTriggers:Pn,helpArticles:Tn,salesListViews:qn,canvasAiSuggestions:vs}=xt.entities;if(Pt&&(Pt.includePublic||Pt.includePrivate)&&(dt.channels=ms(et,xt)),(Pt&&Pt.includeMpims||Rt)&&(dt.mpims=(0,Ue.FS)(et)),Pt&&Pt.includeIms&&(dt.ims=(0,Ue._B)(et)),mt&&(dt.members=mt.onlyFromExternalWorkspaceId?Pe.Ml:(0,ts.I_)(et).filter(Gn=>(0,Ht.zP)(et,Gn.id))),Vt&&(dt.teams=Je(et,xt)),nn&&(dt.userGroups=(0,Kn.jJ)(et)),En&&(dt.appActions=(0,g.B)(et)?(0,st.PL)(et):hn(et,En.channel)),Mt&&(dt.files=(0,Wt.Gn)(et)),$t){const Gn=(0,Jt.ZT)(et);if(Gn){const Es=(0,yt.E)({teamId:Gn}).getStaleWhileRevalidate([]);dt.topEngagedFiles=Es}}if(en&&(dt.lists=(0,Jn.C0)(et)),qe&&(dt.views=bn(et)),jt&&(dt.modals=xn(et)),Xe){var Cs;if(Xe.includeAll)dt.broadcastKeywords=(0,at.A)();else if(!(Xe==null||(Cs=Xe.currentChannel)===null||Cs===void 0)&&Cs.id){var cs;dt.broadcastKeywords=(0,nt.A)(et,Xe==null||(cs=Xe.currentChannel)===null||cs===void 0?void 0:cs.id)}else dt.broadcastKeywords=[]}if(lt&&(dt.emoji=(0,zt.Gt)(et)),tn&&(dt.channelSections=(0,s.A)((0,Ie.jV)(et))),(cn!=null&&cn.slashCommands||cn!=null&&cn.fakeGlobalActions)&&!(cn!=null&&cn.isAnnounceOnly)&&(dt.slashCommands=(0,Le.A_)(et,cn.channel,!!cn.threadTs,!0).map(Gn=>({...Gn,id:(0,We.Bs)(Gn),isSlashCommand:!0}))),cn!=null&&cn.slackGlobalActions&&(dt.slackGlobalActions=(0,Le.Yk)(et,cn.channel,cn.threadTs)),cn!=null&&cn.quipShortcutCommands&&(dt.quipShortcutCommands=(0,Zt.Aw)(et,!!bt)),cn!=null&&cn.channelActions&&(dt.channelActions=(0,Xt.fo)(et,cn.channel)),cn!=null&&cn.fakeGlobalActions&&(dt.fakeGlobalActions=(0,Le.JL)(et,cn.channel,cn.threadTs)),cn!=null&&cn.callActions&&(dt.callActions=(0,Le.Uw)(et,cn.channel,cn.threadTs,cn.isAnnounceOnly)),Pn){let Gn=(0,Le.NJ)(et);Pn.includeAutomated||(Gn=Gn.filter(Es=>Es.type===P.M.Shortcut)),Pn.includeSalesHome||(Gn=Gn.filter(Es=>!(0,Bn.U)(Es))),dt.workflowTriggers=Gn}Qt&&(dt.emails=Qn(bt));const Sn=(0,Me.dL)(et);if(Tn&&Sn&&(dt.helpArticles=(0,Ft.Fb)(et,"searcher/fetch_all_articles")),qn){const{objectType:Gn,salesforceOrgId:Es}=qn,bs=(0,on.Up)(et),Os=Gn?(0,on.Zs)(et,Es,Gn):(0,c.A)(Object.values((0,on.m3)(et,Es)));dt.salesListViews=Os.map(Fn=>bs[Fn])}return vs&&(dt.canvasAiSuggestions=(0,Lt.rW)(et,xt)),Ls(),dt}E(rs,"fetchLocal");const ys=(0,wt.Ay)("Search for local entities within Slack based on options",(et,xt,bt)=>{let{query:dt,options:mt,autoTraceId:Pt,parentSpanId:Rt}=bt;var Vt;const nn=xt(),En=(Vt=x.LI.get({label:x.gC.Searcher,id:Pt}))===null||Vt===void 0?void 0:Vt.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Rt}}),qe=[],Xe=[],{channels:lt,mpims:Mt,files:$t,members:en,teams:tn,userGroups:Qt,appActions:jt,emoji:cn,helpArticles:Pn,workflowTriggers:Tn,salesListViews:qn}=mt.entities;if(en){const Sn=et(ht({query:dt,options:mt}));en.runaway?Xe.push(Sn):qe.push(Sn)}if(lt){const Sn=et(X({query:dt,options:mt}));lt.runaway?Xe.push(Sn):qe.push(Sn)}if(Mt){const Sn=et(ue({query:dt,options:mt}));Mt.runaway?Xe.push(Sn):qe.push(Sn)}if(cn){const Sn=et(Ee({query:dt,options:mt}));cn.runaway?Xe.push(Sn):qe.push(Sn)}if($t&&((0,h.A)(dt)||dt.length>3)){const Sn=(0,Tt.G)(xt());if(!Sn.contains(dt)&&!Sn.isRequestInFlight()){Sn.add(dt),Sn.setRequestInFlight();const Gn=et(Vn({query:dt,options:mt}));$t.runaway?Xe.push(Gn):qe.push(Gn)}}if(Qt){const Sn=et(Te({query:dt,options:mt}));Qt.runaway?Xe.push(Sn):qe.push(Sn)}if(tn&&((0,Z.k)(nn)||tn.onlyExternal||tn.includeExternal)&&!tn.onlyLocal){const Sn=et(In({query:dt,options:mt}));tn.runaway?Xe.push(Sn):qe.push(Sn)}if(Tn){const Sn=(0,ft.X)(nn);if(!Sn.contains(dt)&&!Sn.isRequestInFlight()){var vs;Sn.add(dt),Sn.setRequestInFlight();var Cs;const Gn=et(He({query:dt,includeAutomatedTriggers:Tn.includeAutomated,reason:(Cs=mt.searchViewContext)!==null&&Cs!==void 0?Cs:(vs=mt.sort)===null||vs===void 0?void 0:vs.source}));Gn&&(Tn.runaway?Xe.push(Gn):qe.push(Gn))}}if((0,Fe.e)(nn)&&jt){const Sn=d.S.resolve(et((0,gt.G)())).timeout(2e3).catch(n.A);jt.runaway?Xe.push(Sn):qe.push(Sn)}const cs=(0,Me.dL)(nn);if(Pn&&cs&&(0,Ft.Fb)(nn,"searcher/fetch_all_articles"),(0,C.u)(dt)&&qn){const{objectType:Sn,salesforceOrgId:Gn}=qn;qe.push(et((0,$n.b)({query:dt,objectType:Sn,salesforceOrgId:Gn})))}return d.S.all(qe).then(Sn=>{const Gn=xt(),Es=rs(Gn,mt,dt);if(Es.remoteIds=Is(Sn),en&&en.onlyFromExternalWorkspaceId){var bs,Os;Es.members=(Os=(bs=Sn.find(Bs=>!!Bs.members))===null||bs===void 0?void 0:bs.members)!==null&&Os!==void 0?Os:Pe.Ml}const Fn=(0,r.A)((0,s.A)(Es),"length");return Xe.length&&!Fn?d.S.all(Xe).then(()=>rs(xt(),mt)):(En==null||En.close(),Es)})});ys.meta={name:"createThunk",key:"createThunkfetchRemote",description:"Search for local entities within Slack based on options"};function Is(et){const xt={};return et.forEach(bt=>{bt&&(bt.appActions&&(xt.appActions=new Set(bt.appActions.map(dt=>dt.id))),bt.channels&&(xt.channels=new Set(bt.channels.map(dt=>dt.id))),bt.emoji&&(xt.emoji=new Set(bt.emoji.map(dt=>dt.name))),bt.files&&(xt.files=new Set(bt.files.map(dt=>dt.id))),bt.members&&(xt.members=new Set(bt.members.map(dt=>dt.id))),bt.userGroups&&(xt.userGroups=new Set(bt.userGroups.map(dt=>dt.id))),bt.teams&&(xt.teams=new Set(bt.teams.map(dt=>dt.id))))}),xt}E(Is,"getRemoteIds");const Xn=(0,wt.Ay)("Search for entities within Slack by query",(et,xt,bt)=>{let{query:dt="",options:mt=os}=bt;var Pt;if(!dt.length&&!mt.allowEmptyQuery)return d.S.resolve([]);const Rt=xt(),Vt=(0,ze.Cy)({state:Rt}),nn=(0,f.A)();Vt.mark(`modern-searcher-search-mark-${nn}`);const En=(0,Ct.O)(dt,{shouldTrimEmoji:!1,shouldTrimDocument:!1});var qe;x.LI.start({label:x.gC.Searcher,id:nn,options:{teamId:(qe=(0,Jt.ZT)(Rt))!==null&&qe!==void 0?qe:null,tags:_s({query:En,options:mt})}});const Xe=(Pt=x.LI.get({label:x.gC.Searcher,id:nn}))===null||Pt===void 0?void 0:Pt.createChildSpan({name:"searcher:search"}),lt=ps(mt,os,dt);if((0,a.A)(lt))return d.S.resolve([]);if((0,Y.x)(Rt)!==rt.M9.ONLINE||!(mt!=null&&mt.allowEmptyQueryRemoteSearch)&&!En.length&&(0,pt.A)()&&(0,Qe._Z)(Rt,"searcher_local_empty_string")==="treatment")return d.S.resolve(hs(Rt,{query:En,options:lt,autoTraceId:nn,parentSpanId:Xe==null?void 0:Xe.getId()}));const Mt=d.S.delay(0).then(()=>et(ys({query:En,options:lt,autoTraceId:nn,parentSpanId:Xe==null?void 0:Xe.getId()}))).then($t=>{const en=xt();return Fs(en,{query:En,data:$t,options:lt,autoTraceId:nn,parentSpanId:Xe==null?void 0:Xe.getId()})});if(lt.tiered){const $t=hs(Rt,{query:En,options:lt,autoTraceId:nn,parentSpanId:Xe==null?void 0:Xe.getId()}),en=Mt.finally(()=>{Xe==null||Xe.close(),x.LI.stop({label:x.gC.Searcher,id:nn})}),tn=Object.assign($t,{promise:en});return d.S.resolve(tn).finally(()=>{Vt.measureAndClear(`modern-searcher-search-mark-${nn}`,"modern-searcher-search-tiered")})}return Mt.finally(()=>{Vt.measureAndClear(`modern-searcher-search-mark-${nn}`,"modern-searcher-search"),Xe==null||Xe.close(),x.LI.stop({label:x.gC.Searcher,id:nn})})});Xn.meta={name:"createThunk",key:"createThunksearch",description:"Search for entities within Slack by query"};function hs(et,xt){let{query:bt="",options:dt,autoTraceId:mt,parentSpanId:Pt}=xt;var Rt;let Vt=mt;if(!Vt){Vt=(0,f.A)();var nn;x.LI.start({label:x.gC.Searcher,id:Vt,options:{teamId:(nn=(0,Jt.ZT)(et))!==null&&nn!==void 0?nn:null,tags:_s({query:bt,options:dt})}})}const En=(Rt=x.LI.get({label:x.gC.Searcher,id:Vt}))===null||Rt===void 0?void 0:Rt.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Pt}});if(!bt.length&&!dt.allowEmptyQuery)return[];const qe=ps(dt,os,bt);if((0,a.A)(qe))return[];const Xe=(0,Ct.O)(bt,{shouldTrimEmoji:!1}),lt=rs(et,qe),Mt=Fs(et,{query:Xe,data:lt,options:qe,autoTraceId:Vt,parentSpanId:En==null?void 0:En.getId()});return En==null||En.close(),Mt}E(hs,"searchLocal");const Ms=15,Ws=E(et=>{let{clogger:xt,data:bt}=et;const{source:dt,query:mt,results:Pt,selectedItemId:Rt,displayedItemIds:Vt,openMethod:nn}=bt,En=Vt?Vt.length:Pt.length,qe=Vt&&Rt?Vt.indexOf(Rt):Pt.findIndex(Pn=>Pn.item.id===Rt);if(qe<0)return;const Xe=Pt.find(Pn=>Pn.item.id===Rt);if(!Xe)return;const lt=Xe.type||"other",Mt=(0,Ct.O)(mt),$t=Xe.source||"local";let en;Xe.type==="mpim"?en=Xe.scoreDetailsByMember:Xe.type==="member"&&Rt?en={[Rt]:{is_exact_match:Xe.isExactMatch,exact_match_details:Xe.exactMatchDetails,score_details:Xe.scoreDetails}}:Xe.type==="emoji"&&Rt&&(en={[Rt]:{is_exact_match:Xe.isExactMatch}});let tn=[];Pt.some(Pn=>Pn.featureVector)&&(Vt?tn=Vt.map(Pn=>{const Tn=Pt.find(qn=>qn.item.id===Pn);return Tn&&Tn.featureVector.serialize()||""}):tn=Pt.map(Pn=>{var Tn,qn;return Pn==null||(Tn=Pn.featureVector)===null||Tn===void 0||(qn=Tn.serialize)===null||qn===void 0?void 0:qn.call(Tn)}));let jt;(0,i.A)(mt)?jt=mt.reduce((Pn,Tn)=>Pn+Us((0,Ct.O)(Tn)),0):jt=Us(Mt);const cn={source:dt,query_length:Mt.length?Mt.length:0,query_terms_length:jt,results_length:En,selected_position:qe,selected_type:lt,selected_source:$t,selected_match_details:en,feature_vector_list:tn.slice(0,Ms),open_method:nn};xt.track(Ge.EventId.SEARCHER_ACCEPT,cn)},"clogSearcherAccept"),Ys=E(et=>{let{clogger:xt,data:bt}=et;const{source:dt,query:mt,results:Pt,displayedItemIds:Rt}=bt,Vt=Rt!==void 0?Rt.length:Pt.length,nn=(0,Ct.O)(mt);let En;(0,i.A)(mt)?En=mt.reduce((Xe,lt)=>Xe+Us((0,Ct.O)(lt)),0):En=Us(nn);const qe={source:dt,query_length:nn.length?nn.length:0,query_terms_length:En,results_length:Vt};xt.track(Ge.EventId.SEARCHER_REJECT,qe)},"clogSearcherReject");function Us(et){return et?et.split(kt.u).filter(xt=>xt.length).length:0}E(Us,"getQueryTermsLength");function Fs(et,xt){let{query:bt,data:dt,options:mt,autoTraceId:Pt,parentSpanId:Rt}=xt;var Vt,nn,En,qe,Xe;const lt=(Vt=x.LI.get({label:x.gC.Searcher,id:Pt}))===null||Vt===void 0?void 0:Vt.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Rt}});Rs(mt);const Mt=(0,Qe._Z)(et,"searcher_avoid_exact_member_match")==="treatment",$t=(0,Qe._Z)(et,"nerf_email_fuzzy_match")==="treatment",en=(0,Qe._Z)(et,"searcher_emoji_cache_regex_work")==="treatment",tn=(0,Qe._Z)(et,"ml_fuzzy_match_beyond_word_boundaries")==="treatment",Qt=(0,Qe._Z)(et,"searcher_cache_fuzzy_match_n_grams")==="treatment",jt={},cn=E((Ps,Ts)=>{const Ss=new Map;return[...Ps,...Ts].forEach(ia=>{Ss.set(ia.id,ia)}),Array.from(Ss.values())},"mergeAndDeduplicate"),Pn={...mt,sort:{...mt.sort,avoidExactMatchForMembers:Mt},fuzzyEmailSearchForwardOnly:$t,optimizeEmojiRegexWork:en,optimizeFuzzyMatchingNGramsWork:Qt};tn&&(Pn.beyondWordBoundaryFuzzyLimit=6,Pn.matchBeyondWordBoundaries=!0);const Tn=new Bt.A({query:bt,options:Pn}),qn=(0,ze.Cy)({state:et});qn.mark("modern-searcher-matching-mark");const vs=(nn=x.LI.get({label:x.gC.Searcher,id:Pt}))===null||nn===void 0?void 0:nn.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:lt==null?void 0:lt.getId()}});dt.channels&&(jt.channels=Tn.filterChannels(et,dt.channels,it(et,mt.entities.channels))),dt.members&&(jt.members=Tn.filterMembers(et,dt.members,It(et,mt.entities.members))),dt.emails&&dt.members&&!(!(jt==null||(En=jt.members)===null||En===void 0)&&En.length)&&(jt.emails=dt.emails),dt.mpims&&(jt.mpims=Tn.filterMpims(et,dt.mpims,ln(et,mt.entities.channels))),dt.ims&&(jt.ims=Tn.filterIms(et,dt.ims,sn(et,mt.entities.channels))),dt.userGroups&&(jt.userGroups=Tn.filterUserGroups(et,dt.userGroups,dn(et,mt.entities.userGroups))),dt.teams&&(jt.teams=Tn.filterTeams(et,dt.teams,Ut(et,mt.entities.teams))),dt.views&&(jt.views=Tn.filterViews(et,dt.views)),dt.modals&&(jt.modals=Tn.filterModals(et,dt.modals)),dt.appActions&&(jt.appActions=Tn.filterAppActions(et,dt.appActions)),dt.slashCommands&&(jt.slashCommands=Tn.filterShortcuts(et,dt.slashCommands,!0)),dt.slackGlobalActions&&(jt.slackGlobalActions=Tn.filterShortcuts(et,dt.slackGlobalActions)),dt.quipShortcutCommands&&(jt.quipShortcutCommands=Tn.filterShortcuts(et,dt.quipShortcutCommands)),dt.canvasAiSuggestions&&(jt.canvasAiSuggestions=Tn.filterShortcuts(et,dt.canvasAiSuggestions)),dt.channelActions&&(jt.channelActions=Tn.filterShortcuts(et,dt.channelActions)),dt.fakeGlobalActions&&(jt.fakeGlobalActions=Tn.filterShortcuts(et,dt.fakeGlobalActions)),dt.callActions&&(jt.callActions=Tn.filterShortcuts(et,dt.callActions)),dt.workflowTriggers&&(jt.workflowTriggers=Tn.filterWorkflowTriggers(et,dt.workflowTriggers)),dt.appActions&&(!(mt==null||(qe=mt.entities)===null||qe===void 0||(Xe=qe.shortcuts)===null||Xe===void 0)&&Xe.apps)&&(jt.apps=Tn.filterApps(et,dt.appActions,dt.fakeGlobalActions,dt.slashCommands)),dt.broadcastKeywords&&(jt.broadcastKeywords=Tn.filterBroadcastKeywords(et,dt.broadcastKeywords)),dt.emoji&&(jt.emoji=Tn.filterEmoji(et,dt.emoji)),dt.channelSections&&(jt.channelSections=Tn.filterChannelSections(et,dt.channelSections,Ps=>{var Ts,Ss;return!!(!((Ts=mt.entities.channelSections)===null||Ts===void 0||(Ss=Ts.includeTypes)===null||Ss===void 0)&&Ss[Ps.type])})),dt.files&&(jt.files=Tn.filterFiles(et,dt.files,gn(et,mt.entities.files))),dt.topEngagedFiles&&(jt.topEngagedFiles=Tn.filterFiles(et,dt.topEngagedFiles,gn(et,mt.entities.topEngagedFiles))),dt.lists&&(jt.lists=Tn.filterLists(et,dt.lists));const Cs=(0,Me.dL)(et);dt.helpArticles&&Cs&&(jt.helpArticles=Tn.filterHelpArticles(et,dt.helpArticles)),dt.salesListViews&&((0,A.hx)(et)||(0,T.ZK)(et))&&(jt.salesListViews=Tn.filterSalesListViews(et,dt.salesListViews)),qn.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),vs==null||vs.close();const cs=Hs(jt,dt.remoteIds||{});let Sn;Sn=cs.topEngagedFiles,delete cs.topEngagedFiles;const Gn=500,Es=3;var bs;const Os=Math.min(((bs=mt==null?void 0:mt.limit)!==null&&bs!==void 0?bs:1)*Es,Gn);let Fn=(0,c.A)(Object.values(cs));if(mt.sort&&!mt.sort.bypassSorting){var Bs;let Ps=!1;Fn.length<Os&&(Ps=!0);const Ts=new St.A({query:bt,options:{modelOnly:Ps,...mt.sort,optimizeFuzzyMatchingNGramsWork:Qt}}),Ss=(Bs=x.LI.get({label:x.gC.Searcher,id:Pt}))===null||Bs===void 0?void 0:Bs.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:lt==null?void 0:lt.getId()}});Fn=Ts.sort(et,cs),Ss==null||Ss.close(),Sn&&(Sn=(0,At.jW)(et,{query:bt,list:Sn,bonusPoints:Ts.getFrecencyBonusPointsFunction(et)}))}if(Sn&&(Fn=cn(Fn,Sn)),mt.sort&&mt.sort.frecency&&!mt.sort.bypassSorting){var ta;const Ps=(ta=x.LI.get({label:x.gC.Searcher,id:Pt}))===null||ta===void 0?void 0:ta.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:lt==null?void 0:lt.getId()}});Fn=new Gt.A({query:bt,options:{...mt.sort},teamId:(0,Jt.ZT)(et),enterpriseId:(0,Z.k)(et)&&(0,Jt.jV)(et)?(0,Jt.jV)(et):void 0}).sort(et,Fn.slice(0,Os)),Ps==null||Ps.close()}return mt.limit&&(Fn=(0,l.A)(Fn,mt.limit)),mt.returnMetadata||(Fn=Fn.map(Ps=>Ps.item)),Ls(),Fn||[]}E(Fs,"processFetchedEntities");function Hs(et,xt){return(0,m.A)(et,(bt,dt)=>{const mt=Yn(dt),Pt=xt[dt];let Rt=!1;return dt==="topEngagedFiles"&&(Rt=!0),bt.map(Vt=>{const nn=Pt&&Pt.has(Vt.item.id)?"remote":"local";return{...Vt,type:mt,source:nn,isTopEngagedFile:Rt}})})}E(Hs,"addResultMetadata");function Yn(et){switch(et){case"channels":return"channel";case"members":return"member";case"mpims":return"mpim";case"ims":return"ims";case"userGroups":return"userGroup";case"teams":return"team";case"views":return"view";case"modals":return"modal";case"appActions":return"appAction";case"apps":return"app";case"broadcastKeywords":return"broadcastKeyword";case"emoji":return"emoji";case"files":return"file";case"topEngagedFiles":return"file";case"slashCommands":return"slashCommand";case"quipShortcutCommands":return"quipShortcutCommand";case"slackGlobalActions":return"globalAction";case"channelActions":return"channelAction";case"fakeGlobalActions":return"appAction";case"callActions":return"channelAction";case"workflowTriggers":return"workflowTrigger";case"helpArticles":return"helpArticles";case"salesListViews":return"salesListViews";case"canvasAiSuggestions":return"canvasAiSuggestions";default:return"other"}}E(Yn,"getTypeFromGroup");function ps(et,xt,bt){const{members:dt,channels:mt,userGroups:Pt,broadcastKeywords:Rt,emoji:Vt}=et.entities,{members:nn,channels:En,userGroups:qe}=xt.entities;let Xe={},lt="";bt!=null&&bt.length&&(lt=Array.isArray(bt)?"@":bt.charAt(0)),(lt==="@"||lt==="\uFF20")&&(dt||Pt||Rt)?(dt&&(Xe.members=ls(dt,nn)),Pt&&(Xe.userGroups=ls(Pt,qe)),Rt&&(Xe.broadcastKeywords=ls(Rt,{}))):(lt==="#"||lt==="\uFF03")&&mt?Xe.channels=ls(mt,En):lt===":"&&Vt?Xe.emoji=ls(Vt,{}):Xe=Object.keys(et.entities).reduce((Os,Fn)=>{const Bs=et.entities[Fn];return Bs&&(Os[Fn]=ls(Bs,xt.entities[Fn])),Os},{});var Mt;const $t=ls((Mt=et==null?void 0:et.sort)!==null&&Mt!==void 0?Mt:{},xt.sort);var en;const tn=(en=et.limit)!==null&&en!==void 0?en:xt.limit;var Qt;const jt=(Qt=et.fuzzyLimit)!==null&&Qt!==void 0?Qt:xt.fuzzyLimit;var cn;const Pn=(cn=et.beyondWordBoundaryFuzzyLimit)!==null&&cn!==void 0?cn:xt.beyondWordBoundaryFuzzyLimit;var Tn;const qn=(Tn=et.fuzzyJumpLimit)!==null&&Tn!==void 0?Tn:xt.fuzzyJumpLimit;var vs;const Cs=(vs=et.matchBeyondWordBoundaries)!==null&&vs!==void 0?vs:xt.matchBeyondWordBoundaries,cs=et.fuzzyCJK||xt.fuzzyCJK,Sn=et.tiered,Gn=et.filter,Es=et.allowEmptyQuery,bs=et.returnMetadata||xt.returnMetadata;return $t&&($t.model=$t.model||(0,Et.In)()),{entities:Xe,sort:$t,limit:tn,tiered:Sn,filter:Gn,allowEmptyQuery:Es,fuzzyLimit:jt,beyondWordBoundaryFuzzyLimit:Pn,fuzzyJumpLimit:qn,matchBeyondWordBoundaries:Cs,fuzzyCJK:cs,returnMetadata:bs,searchViewContext:et.searchViewContext,topChannels:et.topChannels,topUsers:et.topUsers,currentChannel:et.currentChannel,currentThreadUsers:et.currentThreadUsers,defaultWorkspace:et.defaultWorkspace}}E(ps,"getAllOptions");function ls(et,xt){if(!xt||et===!1)return et;const bt=et===!0?{}:et,dt=xt===!0?{}:xt;return(0,_.A)(bt,dt)}E(ls,"mergeOptions");function Rs(et){const{members:xt,channels:bt,teams:dt,userGroups:mt,appActions:Pt,files:Rt}=et.entities;(xt||bt||dt||mt||Pt||Rt)&&L.Ay.pauseRefetchIndefinitely()}E(Rs,"pauseConditionalFetching");function Ls(){L.Ay.unpauseRefetchImmediately()}E(Ls,"unpauseConditionalFetching"),(0,F.ul)("searcher",{search:(et,xt)=>(0,qt.Qw)(et,Xn({options:xt})),searchLocal:(et,xt)=>{const bt=(0,qt.$D)(et);return hs(bt,{options:xt})}})},9406470849:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3134334389),n=e(344860614);function o(){return o=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])}return r},o.apply(this,arguments)}E(o,"_extends");const s=E(r=>{const a=r,i=t.forwardRef((l,m)=>{const _=(0,n.Zp)(),h=(0,n.wQ)(),d=(0,n.zy)(),f=(0,n.g)();return t.createElement(a,o({ref:m},l,{navigate:_,navigationType:h,location:d,params:f}))});return i.displayName=`withRouter(${a.displayName})`,i},"withRouter");s.displayName="withRouter";const c=s},1771500940:(N,y,e)=>{"use strict";e.d(y,{b:()=>t});function t(n){return{...n,options:{...n.options,forceRenderInSplitView:!0}}}E(t,"inSplitView")},5602423845:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(6122756707),n=e(56548687);function o(){const{getState:s}=(0,t.Pj)();return(0,n.e)({getState:s})}E(o,"useClogger")},6473800831:(N,y,e)=>{"use strict";e.d(y,{M:()=>o});var t=e(3134334389),n=e(6165267850);function o(s,c){let{element:r=document,isEnabled:a=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=(0,t.useRef)(c);i.current=c,(0,t.useEffect)(()=>{if(!a)return;const l=(0,n.h)(r);if(!l)return;const m=E(_=>{var h;(h=i.current)===null||h===void 0||h.call(i,_)},"handlerWrapper");return l.addEventListener(s,m),()=>{l.removeEventListener(s,m)}},[r,s,a])}E(o,"useEventListener")},1149563359:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3134334389),n=e(8420440042),o=e(8847766420),s=e(9506008067);function c(r,a){const{addFocusTransitionListener:i,removeFocusTransitionListener:l}=(0,n.Gx)(),m=(0,s.d4)(o.JY),_=(0,t.useCallback)(h=>{var d;const f=h==null||(d=h.options)===null||d===void 0?void 0:d.teamId;return f&&f!==m?!1:a(h)},[m,a]);(0,t.useEffect)(()=>(i(r,_),()=>{l(r,_)}),[i,_,l,r])}E(c,"useFocusTransitionListener")},8369079536:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(3134334389);function n(){const o=(0,t.useRef)(!1);return(0,t.useEffect)(()=>(o.current=!0,()=>{o.current=!1})),o}E(n,"useMounted")},5204962244:(N,y,e)=>{"use strict";e.d(y,{d:()=>n});var t=e(3134334389);function n(o){const s=(0,t.useRef)();return s.current===void 0&&(s.current=o()),s.current}E(n,"useRefCreator")},3107743571:(N,y,e)=>{"use strict";e.d(y,{Z:()=>n});var t=e(3134334389);const n=E(function(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=(0,t.useRef)(),a=(0,t.useCallback)(()=>{const i=r.current;i&&(window.clearTimeout(i),r.current=void 0)},[]);return(0,t.useEffect)(()=>(a(),r.current=window.setTimeout(o,s),a),[o,a,s,...c]),a},"useTimeout")},4003148341:(N,y,e)=>{"use strict";e.d(y,{x:()=>o});var t=e(6122756707),n=e(3855029223);function o(){const{getState:s}=(0,t.Pj)();return(0,n.E)({getState:s})}E(o,"useTracer")},5519459863:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(6122756707),n=e(9506008067),o=e(2047021170),s=e(387484329);function c(r){const a=(0,t.wA)();return[(0,n.d4)(i=>(0,o.ty)(i,r)),i=>a((0,s.AZ)({pref:r,value:i}))]}E(c,"useUserPref")},4803841689:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3134334389),n=e(9323322135),o=e(4094753332);function s(){const c=(0,o.y3)()&&n.pRi.isAvailable(),r=c?(0,n.pRi)():1,[a,i]=(0,t.useState)(r);return(0,t.useEffect)(()=>{if(!c)return;function l(){const m=(0,n.pRi)();m!==a&&i(m)}return E(l,"onWindowResize"),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[c,a]),a}E(s,"useZoomFactor")},3320454392:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n){const o=E(()=>{window.Cypress||n()},"unloadHandler");window.addEventListener("beforeunload",o)}E(t,"addUnloadHandler")},9853754481:(N,y,e)=>{"use strict";e.d(y,{Ep:()=>c,n2:()=>a,Ay:()=>l});var t=e(6313685253);const n=window.AudioContext||window.webkitAudioContext,o=window.AnalyserNode;var s=e(7299481592);const c=6;function r(m){let _=1;for(;_*2<m;)_*=2;return _}E(r,"getPowerof2LessThan");function a(m){let h=.01;for(const f of m)h=Math.max(h,(f-128)/128);const d=(Math.log(.01)-Math.log(h))/Math.log(.01);return Math.min(Math.max(d,0),1)}E(a,"computeStrength");function i(m){return(0,t.A)(m,(_,h)=>{const d=h.getSettings().sampleRate;return d!==void 0&&_!==void 0?Math.max(_,d):d},void 0)}E(i,"getMaxTrackSampleRate");let l=E(class{getLevel(){var _;return(_=this.analyserNode)===null||_===void 0||_.getByteTimeDomainData(this.data),a(this.data)/c}stop(){var _;if(this.analyserNode){var h;(h=this.audioNode)===null||h===void 0||h.disconnect(this.analyserNode)}delete this.audioNode,this.audioNode=void 0,delete this.analyserNode,this.analyserNode=void 0,(_=this.audioCtx)===null||_===void 0||_.close(),delete this.audioCtx,this.audioCtx=void 0}constructor(_,h){(0,s.M)(h>=0,"Level poll interval must be positive"),this.audioCtx=new n;const d=_.getAudioTracks();(0,s.M)(!!d.length,"Need audio tracks to run analyser");const v=(i(d)||48e3)*h/1e3,u=Math.max(32,Math.min(32768,r(v)));this.data=new Uint8Array(u),this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=u,this.audioNode=this.audioCtx.createMediaStreamSource(_),this.audioNode.connect(this.analyserNode)}},"AudioAnalyser")},1829947126:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(6267571562);class n{createPublisher(c){return this.publishers[c]=new t.G,this.publishers[c]}createAllPublisher(){return this.allPublisher=new t.G,this.allPublisher}publish(c,r){const a=this.publishers[c];a&&a.publish(r)}publishAll(c,r){var a;const i={peerId:c,value:r};(a=this.allPublisher)===null||a===void 0||a.publish(i)}subscribe(c,r){(this.publishers[c]||this.createPublisher(c)).subscribe(r)}subscribeAll(c){this.createAllPublisher().subscribe(c)}unsubscribe(c,r){const a=this.publishers[c];a&&a.unsubscribe(r)}constructor(){this.publishers={}}}E(n,"PeerPubSub");const o=new n},7396150282:(N,y,e)=>{"use strict";e.d(y,{x:()=>c});var t=e(9853754481),n=e(1829947126),o=e(9009528296);const s=100;class c{setPreviewStream(a){if(!a){this.previewAudioAnalyser=void 0;return}this.previewAudioAnalyser=new t.Ay(a,s)}cleanup(){var a,i;this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=0),(a=this.previewAudioAnalyser)===null||a===void 0||a.stop(),this.previewAudioAnalyser=void 0,(i=this.selfAudioAnalyser)===null||i===void 0||i.stop(),this.selfAudioAnalyser=void 0}constructor(){this.intervalHandle=window.setInterval(()=>{this.selfAudioAnalyser&&n.A.publish("self",this.selfAudioAnalyser.getLevel()),this.previewAudioAnalyser&&o.A.publish(this.previewAudioAnalyser.getLevel())},s)}}E(c,"PreviewAudioLevelMonitor")},9009528296:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(6267571562);const n=new t.G},5046160032:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(7084070851);const n=window.navigator&&typeof window.navigator.sendBeacon=="function";function o(s){let{apiUrl:c,method:r,token:a,args:i={},versionTs:l="",versionUid:m=""}=s,_=!1;const h=(0,t.D)();let d=`${c}${r}?_x_id=${m.substring(0,8)}-${Date.now()/1e3}`;h!==null&&(d+=`&fp=${h}`);const f=new FormData;if(f.append("token",a),Object.keys(i).forEach(v=>f.append(v,i[v])),n)_=navigator.sendBeacon(d,f);else{const v=new XMLHttpRequest;v.addEventListener("load",()=>{const{readyState:u,status:g,DONE:p}=v;u===p&&g===200&&(_=!0)}),v.open("POST",d,!0),v.setRequestHeader("X-Slack-Version-Ts",l),v.send(f)}return _}E(o,"beaconApiCall")},274973508:(N,y,e)=>{"use strict";e.d(y,{O:()=>t});class t{get(o){if(!this.cache.has(o))return;const s=this.cache.get(o);return this.cache.delete(o),this.cache.set(o,s),s}set(o,s){if(this.cache.has(o))this.cache.delete(o);else if(this.cache.size>=this.maxSize){const c=this.cache.keys().next().value;this.cache.delete(c)}this.cache.set(o,s)}has(o){return this.cache.has(o)}delete(o){this.cache.has(o)&&this.cache.delete(o)}size(){return this.cache.size}clear(){this.cache.clear()}constructor(o=20){this.cache=new Map,this.maxSize=o}}E(t,"LRUCacheMapOnly")},8935621861:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(1545824888),n=e(2801744021),o=e(6273911963);async function s(h){const d=new o.A({url:h?"https://nearest-us-gov-media-region.l.chime.aws/":"https://nearest-media-region.l.chime.aws"});try{const f=await new n.Ay().q(d);return JSON.parse(f).region}catch{return""}}E(s,"fetchNearestChimeMediaRegion");var c=e(3320454392),r=e(337319621);let a=E(class ea{writeRegions(d,f){const v=f?ea.GOV_REGION_STORAGE_KEY:ea.REGION_STORAGE_KEY,u={regions:d,timestamp:Date.now(),version:ea.VERSION};try{localStorage.setItem(v,JSON.stringify(u))}catch(g){(0,r.Wo)({label:"REGION-PROVIDER"}).error("Could not write chime media regions to localStorage: ",g.message)}}readRegions(d){const f=d?ea.GOV_REGION_STORAGE_KEY:ea.REGION_STORAGE_KEY,v=localStorage.getItem(f);if(!v)return null;let u=null;try{u=JSON.parse(v)}catch(g){return(0,r.Wo)({label:"REGION-PROVIDER"}).error("Could not parse chime media regions from localStorage: ",g.message),null}return u.version!==ea.VERSION||this.ttl&&Date.now()-u.timestamp>this.ttl?null:u}constructor(d){this.ttl=d}},"ChimeRegionStorage");a.REGION_STORAGE_KEY="ChimeRegionStorage-chimeRegionCache",a.GOV_REGION_STORAGE_KEY="ChimeRegionStorageGov-chimeRegionCache",a.VERSION=1;var i=e(3390261877),l=e(7668372645),m=e(7311246228);let _=E(class xs{static getInstance(){return xs.instance||(xs.instance=new xs),xs.instance}async getNearestChimeMediaRegion(d){return(d?(0,m.H)(d):!1)?this.getNearestChimeGovMediaRegion():this.getNearestChimeCommercialMediaRegion()}async getNearestChimeCommercialMediaRegion(){if(!this.commercialRegions){const d=this.storage.readRegions(!1);d&&(this.commercialRegions=d.regions)}return this.commercialRegions?this.commercialRegions:this.remoteGetNearestChimeMediaRegion(!1)}async getNearestChimeGovMediaRegion(){if(!this.govRegions){const d=this.storage.readRegions(!0);d&&(this.govRegions=d.regions)}return this.govRegions?this.govRegions:this.remoteGetNearestChimeMediaRegion(!0)}async remoteGetNearestChimeMediaRegion(d){const f=await t.S.resolve(s(d));return d?this.govRegions=f:this.commercialRegions=f,this.storage.writeRegions(f,d),f}init(){if(this.initialized)return 0;this.initialized=!0;const d=(0,l.z$)();let f=xs.INITIAL_LOAD_DELAY;const v=this.storage.readRegions(d);v&&(d?this.govRegions=v.regions:this.commercialRegions=v.regions,f=Math.max(xs.INITIAL_LOAD_DELAY,xs.REFRESH_INTERVAL-(Date.now()-v.timestamp)));const u=setTimeout(async()=>{await this.remoteGetNearestChimeMediaRegion(d);const g=new i.A(xs.REFRESH_INTERVAL);g.start(async()=>{await this.remoteGetNearestChimeMediaRegion(d)}),(0,c.A)(()=>{g.stop()})},f);return(0,c.A)(()=>{clearTimeout(u)}),f}getRawRegions(){return this.commercialRegions}clear(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1}constructor(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1,this.storage=new a(xs.REFRESH_INTERVAL)}},"ChimeRegionProvider");_.REFRESH_INTERVAL=3*24*60*60*1e3,_.INITIAL_LOAD_DELAY=5*1e3},3390261877:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});let t=E(class{start(o){this.stop(),this.timer=setInterval(o,this.intervalMs)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}constructor(o){this.intervalMs=o,this.timer=null}},"IntervalScheduler")},6728003438:(N,y,e)=>{"use strict";e.d(y,{F4:()=>S,GC:()=>F,lP:()=>L,no:()=>D});var t=e(9113979368),n=e(2028988448),o=e(8851980998),s=e(8872992289),c=e(8162259364),r=e(337319621),a=e(2250002584),i=e(3855029223),l=e(8847766420),m=e(6533394955),_=e(8802876335);const h="RTM-EVENT-METRICS",d=4;let f=!1,v;const u=50;function g(){return f?!0:(0,c.A)()?(v===void 0&&(v=(0,s.A)(u),v&&(0,r.Wo)({label:h}).info("Metrics collection enabled for the current interval.")),v):!1}E(g,"shouldSampleForInterval");let p={},A={},C={},T={},I={},M={};function D(W){let{teamOrEnterpriseId:K,rtmEventType:H,rtmEventSubtype:z,duration:Q,msgs:q,fromEvtLog:$}=W;var le;if(!g())return;const te=(0,l.Kc)((le=(0,m.jp)(K))===null||le===void 0?void 0:le.getState());if(!te)return;const ce=H==="message"?`message/${z}`:H;$&&O({bucket:I,teamOrEnterpriseId:te,eventType:ce,value:q.length}),O({bucket:A,teamOrEnterpriseId:te,eventType:ce,value:1}),O({bucket:C,teamOrEnterpriseId:te,eventType:ce,value:q.length}),O({bucket:T,teamOrEnterpriseId:te,eventType:ce,value:Q})}E(D,"incrementMetrics");function O(W){let{bucket:K,teamOrEnterpriseId:H,eventType:z,value:Q}=W;var q;const $=(q=K[H])!==null&&q!==void 0?q:{};var le;const te=(le=$[z])!==null&&le!==void 0?le:0;$[z]=te+Q,K[H]=$}E(O,"incrementBucket");function S(W,K){if((0,t.A)(C)&&(0,t.A)(p)){x();return}const H=Object.keys({...C,...p}),z=setInterval(()=>{const Q=(0,r.Wo)({label:h}),q=H.pop();if(!q){Q.info("Completed metrics aggregation",{traceId:W.getTraceId()}),clearInterval(z);return}Q.info(`Sending metric report for id: ${q}`),P({teamOrEnterpriseId:q,clientMetricsTrace:W,performanceTracingTags:K}),U({teamOrEnterpriseId:q,clientMetricsTrace:W,performanceTracingTags:K}),b(q)},1e3)}E(S,"reportRtmMetrics");function R(W,K){const H=(0,m.$D)(W);return{...K,metric_version:d,slow_connection_count:(0,_.d4)(H)}}E(R,"getMetricsTraceMetatags");function U(W){let{teamOrEnterpriseId:K,clientMetricsTrace:H,performanceTracingTags:z}=W;const Q=p[K];if(!Q)return;const q=(0,i.E)({teamOrEnterpriseId:K}),$=q.createMetricsTrace({label:"rtm_incoming",tags:R(K,z),traceId:H.getTraceId(),parentSpanId:H.getRootSpanId()});var le;const te=(le=M[K])!==null&&le!==void 0?le:{};let ce=0,me=0;Object.entries(Q).forEach(_e=>{let[Ae,ye=0]=_e;var oe;const ee=(oe=te[Ae])!==null&&oe!==void 0?oe:0;ce+=ye,me+=ee,$.store({name:"rtm_incoming:event_count",value:ye}).addTags({event_type:Ae,eventlog_count:ee,socket_count:ye-ee})}),$.store({name:"rtm_incoming:total_event_count",value:ce}),$.store({name:"rtm_incoming:total_event_count:socket",value:ce-me}),$.store({name:"rtm_incoming:total_event_count:eventlog",value:me}),(0,r.Wo)({label:h}).info(`${K} total incoming event count: ${ce}`),q.reportTrace($)}E(U,"maybeReportRawEventCount");function P(W){let{teamOrEnterpriseId:K,clientMetricsTrace:H,performanceTracingTags:z}=W;const Q=C[K];if(!Q)return;const q=(0,i.E)({teamOrEnterpriseId:K}),$=q.createMetricsTrace({label:"rtm_dispatch",tags:R(K,z),traceId:H.getTraceId(),parentSpanId:H.getRootSpanId()});var le;const te=(le=A[K])!==null&&le!==void 0?le:{};var ce;const me=(ce=T[K])!==null&&ce!==void 0?ce:{};var _e;const Ae=(_e=I[K])!==null&&_e!==void 0?_e:{};let ye=0,oe=0;Object.entries(Q).forEach(ee=>{let[V,w]=ee;const Y=te[V],G=me[V];if(Y===void 0||G===void 0)return;var Z;const se=(Z=Ae[V])!==null&&Z!==void 0?Z:0;ye+=w,oe+=se,$.store({name:"rtm_dispatch:duration",value:G}).addTags({event_type:V,total_events:w,total_batches:Y,per_event_duration:G/w,eventlog_count:se,socket_count:w-se})}),$.store({name:"rtm_dispatch:total_event_count",value:ye}),$.store({name:"rtm_dispatch:total_event_count:socket",value:ye-oe}),$.store({name:"rtm_dispatch:total_event_count:eventlog",value:oe}),(0,r.Wo)({label:h}).info(`${K} total dispatch event count: ${ye}`),q.reportTrace($)}E(P,"maybeReportEventMetrics");function L(W){let{teamId:K,msgs:H}=W;if(!g())return;const z=(0,m.$D)(K);var Q;const q=(Q=(0,l.Kc)(z))!==null&&Q!==void 0?Q:K,$=H.reduce((le,te)=>(!te||!te.type||(le[te.type]?le[te.type]+=1:le[te.type]=1),le),{});Object.entries($).forEach(le=>{let[te,ce]=le;O({bucket:p,teamOrEnterpriseId:q,eventType:te,value:ce}),O({bucket:M,teamOrEnterpriseId:q,eventType:te,value:ce})})}E(L,"countRawEventsVolumeFromEventLog");function F(W){let{teamId:K,msg:H}=W;if(!g()||!H||!H.type)return;const z=(0,m.$D)(K);var Q;const q=(Q=(0,l.Kc)(z))!==null&&Q!==void 0?Q:K;O({bucket:p,teamOrEnterpriseId:q,eventType:H.type,value:1})}E(F,"countRawEventVolume");function x(){v=void 0,p={},C={},A={},T={},I={},M={},(0,r.Wo)({label:h}).info("Metrics collection sampling has been reset.")}E(x,"resetAllCollections");function b(W){v=void 0,delete p[W],delete C[W],delete A[W],delete T[W],delete I[W],delete M[W],(0,r.Wo)({label:h}).info(`Metrics collection sampling has been reset for id: ${W}`)}E(b,"resetCollections");const k=E(()=>({rawEventCountBuckets:p,eventCountBuckets:C,batchCountBuckets:A,durationBuckets:T,eventLogEventCountBuckets:I,eventLogRawEventCountBuckets:M}),"debugGetBuckets");(0,n.ul)("rtmEventMetrics",{debugGetBuckets:k,debugToggleSampling:()=>{f=!f,x(),(0,r.Wo)({label:h}).info(`Interval sampling: ${f?"ON":"OFF"}`)},debugReportMetrics:()=>{const W=(0,a.F)(),K=W.createMetricsTrace({samplingOptions:{sampleType:o.tS.ALWAYS}});S(K,{}),W.reportTrace(K)}}),Object.defineProperty({resetAllCollections:x,debugGetBuckets:k,reportRtmMetrics:S,intervalSampleCache:v},"intervalSampleCache",{get:()=>v,set:W=>{v=W}})},3945243579:(N,y,e)=>{"use strict";e.d(y,{A:()=>a});var t=e(5950652755),n=e(337319621);let o=!1;const s=E(l=>{var m;if(!l)return;let _="";const h=l.srcElement||l.target,d=n.Wo&&(0,n.Wo)();if(h&&h.nodeName){if(h.nodeName==="SCRIPT"){const u=h.src;_=`[${l.type||"error"}] from script at ${u} (failed to load?)`}else if(h.nodeName==="IMG"){const u=h.src||h.currentSrc||"unknown";d.warn(`<img> fired error with url = ${u}`);return}}if(l.message==="ResizeObserver loop limit exceeded"||l.message==="ResizeObserver loop completed with undelivered notifications"){d.warn("ResizeObserver observation target modified in handler");return}if(l.message==="can't access dead object"||l.message==="rambox is not defined")return;if(l.error&&l.error.stack&&(_+=` ${l.error.stack}`),l.filename){const u=l.filename,g=l.lineno,p=l.colno;_+=` from ${u}`,g&&(_+=` @ line ${g}, col ${p}`)}let f;if(l.error&&l.error.stack?f=_:f=`${l.message||""} ${_}`,f&&f.replace&&(f=f.replace(/\s+/g," ").trim()),!f||!f.length)if(h){const u=h.nodeName||"unknown";if(u==="VIDEO")return;f=`error event from node of ${u}, no message provided?`}else f="error event fired, no relevant message or node found";f=`\u{1F41E} ${f}`;const v=((m=l.error)===null||m===void 0?void 0:m.subtype)||"js_runtime_error";c({error:l.error||l,msg:f,subtype:v})},"globalErrorHandler");function c(l){const{error:m,msg:_,subtype:h}=l,d={subtype:h};(0,n.Wo)().error(m,_,d)}E(c,"logError");const a=E(l=>{const m=l||window;if(o)return;m.bootGlobalErrorHandler&&(m.removeEventListener("error",m.bootGlobalErrorHandler,!0),m.removeEventListener("unhandledrejection",m.bootGlobalUnhandledRejectionHandler),delete m.bootGlobalErrorHandler,delete m.bootGlobalUnhandledRejectionHandler);const _=!0,h=(0,t.A)(s,1e4);m.addEventListener("error",h,_),m.addEventListener("unhandledrejection",d=>{var f;const v=d==null||(f=d.detail)===null||f===void 0?void 0:f.reason;v&&v instanceof Error&&(v.constructor!==Error||v.subtype)&&s({error:v,filename:"promise_rejection"})}),o=!0},"registerGlobalErrorHandler"),i={globalErrorHandler:s};Object.defineProperty(i,"logError",{get:()=>c,set:l=>{c=l}}),Object.defineProperty(i,"hasRegisteredGlobalErrorHandler",{get:()=>o,set:l=>{o=l}})},3794236791:(N,y,e)=>{"use strict";e.d(y,{AZ:()=>R,OF:()=>T,ZI:()=>P,xv:()=>U});var t=e(3398586081),n=e(5154341017),o=e(6890312250),s=e(2240330919),c=e(5238395322),r=e(2028988448),a=e(8851980998),i=e(8872992289),l=e(337319621),m=e(7578434623),_=e(2250002584),h=e(4096483543),d=e(2791814261);const f=7;let v;const u=[],g=[];let p,A;(0,r.zv)("rtmMetrics",()=>({enqueuedEventCounts:{allTeams:u.concat(p),backgroundTeams:g.concat(A)}}));const C=(0,t.A)(()=>(0,i.A)(1)||(0,d.c)());function T(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!(0,h.A)()||!C())return;const F=Math.floor(Date.now()/1e3);if(v!==F){let x=0;if(v){const b=F-v;b>60?(p=void 0,A=void 0,u.length=0,g.length=0):b>1&&(x=F-v)}if(v=F,p!==void 0){u.push(p),g.push(A);for(let k=0;k<x;k++)u.push(0),g.push(0);const b=15*60;if(u.length>=b){const k=(0,m.rh)(),B=(0,n.A)((0,o.A)(u),1),W=(0,s.A)(u)||0,K=(0,c.A)(u);(0,l.Wo)({label:"RTM-ENQUEUE-STATS"}).info(`Enqueue times (all teams): ${K} total, ${W} per second at peak, ${B} per second average`);const z={is_count:!0,allow_zero:!0};k.store(`rtm_nq_at${f}_avg`,B,z),k.store(`rtm_nq_at${f}_max`,W,z),k.store(`rtm_nq_at${f}_total`,K,z),u.length=0,g.length=0}}p=0,A=0}p=(p||0)+L}E(T,"maybeMeasureEnqueueVelocity");let I=0,M=0,D=Date.now(),O=Date.now();const S=5*60*1e3;function R(L){const F=Date.now();I=Math.max(I,L.length),D+S<F&&((0,m.rh)().count("rtm_queue_length_max",I),I=0,D=F)}E(R,"maybeMeasureMaxQueueLength");function U(L){const x=L[0]._enqueuedAt,b=Date.now(),k=x&&b-x;if(M=k?Math.max(M,k):M,O+S<b){const B=(0,_.F)(),W=B.createMetricsTrace({label:"rtm_queue"});W.store({name:"rtm_queue_delay_max",value:M}),B.reportTrace(W),M=0,O=b}}E(U,"maybeMeasureMaxQueueDelay");function P(L,F){const x=(0,_.F)(),b=x.createMetricsTrace({label:"rtm_state_modified",samplingOptions:{sampleType:a.tS.CALL,sampleRate:.01}}),k=F?`${L}/${F}`:L;b.count({name:`rtm_state_modified:${k}`}),x.reportTrace(b)}E(P,"countRTMStateModified")},2044530601:(N,y,e)=>{"use strict";e.d(y,{dj:()=>me,d1:()=>_e,uH:()=>ce,bo:()=>ye,sw:()=>ge,mt:()=>ve,yH:()=>ie});var t=e(3398586081),n=e(7715417323),o=e(1545824888),s=e(1509951422),c=e(1658558415),r=e(5470425448),a=e(5071086688),i=e(8352634987),l=e(2028988448),m=e(6728003438),_=e(3078252698),h=e(8571983633),d=e(4446301238),f=e(3929724715),v=e(1407713935),u=e(7334104107),g=e(8040098042),p=e(8847766420),A=e(6533394955),C=e(9101533895),T=e(7042557635);function I(Oe,be,Ke){return!Oe.text||!(u.$2.test(Oe.text)||u.Oh.test(Oe.text)||u.K0.test(Oe.text)||u.y7.test(Oe.text))||!(0,C.hh)(Ke(),Oe.channel)?o.K.resolve():be((0,T.L)({channelId:Oe.channel})).catch(n.A)}E(I,"maybeEnsureMemberCount");let M=E(async(Oe,be)=>{const Ke=be(),Fe=E(function(){for(var at=arguments.length,nt=new Array(at),Ge=0;Ge<at;Ge++)nt[Ge]=arguments[Ge];return(0,A.Qw)((0,p.ZT)(Ke),...nt)},"dispatch"),J=Oe.subtype?`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${Oe.type} and subtype: ${Oe.subtype}`:`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${Oe.type}`,je=(0,_.A)(Oe.channel)&&(0,g.A)(Oe.channel)&&!(0,C.hh)(Ke,Oe.channel)?Fe((0,d.pX)({ids:[Oe.channel],reason:J,callSource:d.aI.EnsureModelObsArePresent})):o.K.resolve();await o.K.all([je,I(Oe,Fe,be)]).catch(n.A)},"ensureModelObsInMessageArePresent");async function D(Oe,be){if(Oe.subtype)return;const Ke=!1,Fe=(0,C.OL)(be(),Oe.channel,Ke);if(!Fe||!(0,v.JM)(Fe))return;const J=(0,h.A)((0,f._V)(be(),Fe));(0,f.nT)(Fe)&&!J||await(0,A.Qw)((0,p.ZT)(be()),(0,d.jP)({channel:Fe.id,reason:(0,f.nT)(Fe)&&J?"preprocess-rtm-message/open-channel-no-last-read":"preprocess-rtm-message/ensureModelObsInMessageAreOpen"}))}E(D,"ensureModelObsInMessageAreOpen");async function O(Oe,be){if(Oe.type==="message")try{await M(Oe,be),await D(Oe,be)}catch{}}E(O,"preprocessRtmMessage"),Object.defineProperty({maybeEnsureMemberCount:I,ensureModelObsInMessageAreOpen:D},"ensureModelObsInMessageArePresent",{get:()=>M,set:Oe=>{M=Oe}});var R=e(3794236791),U=e(7578217447),P=e(337319621),L=e(2681892953),F=e(1369898444),x=e(6304789565),b=e(5795074931),k=e(4761125736);const B="RTM",W=16;let K={},H={},z={};function Q(Oe){var be;return(be=H[Oe])!==null&&be!==void 0?be:K[Oe]}E(Q,"getHandler");function q(Oe){return Oe.__isShared}E(q,"isSharedHandler");function $(Oe){return Oe.teamOrEnterpriseId}E($,"getTeamOrEnterpriseId");function le(Oe){let{messages:be,teamOrEnterpriseId:Ke}=Oe;if(be.msgs.length===0)return;const Fe=Q(be.rtmEventType);if(Fe)return{handler:Fe,messages:be,teamOrEnterpriseId:Ke}}E(le,"getRoutedHandler");function te(Oe,be){if(z[Oe]){const Fe=isJasmine()||isJest()?`addRtmErrorHandler: duplicate call to add a handler for ${Oe}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, 'handlers', {});\` to work around it.`:`addRtmErrorHandler: a handler is already registered for ${Oe}`;throw new Error(Fe)}z[Oe]=be}E(te,"addRtmErrorHandler");function ce(Oe,be){Ae({functionName:"addSharedRtmHandler",handlersName:"sharedHandlers",rtmEventType:Oe});const Ke=Object.assign(be,{__isShared:!0});H[Oe]=Ke}E(ce,"addSharedRtmHandler");function me(Oe,be){Ae({functionName:"addBatchRtmHandler",handlersName:"handlers",rtmEventType:Oe}),K[Oe]=be}E(me,"addBatchRtmHandler");function _e(Oe,be){me(Oe,(Ke,Fe,J)=>{for(const ne of Ke)be(ne,Fe,J)})}E(_e,"addRtmHandler");function Ae(Oe){let{functionName:be,handlersName:Ke,rtmEventType:Fe}=Oe;if(!K[Fe]&&!H[Fe])return;const ne=(0,s.A)()||(0,c.A)()?`${be}: duplicate call to add a handler for ${Fe}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, '${Ke}', {});\` to work around it.`:`${be}: a handler is already registered for ${Fe}`;throw new Error(ne)}E(Ae,"throwIfHandlerRegistered");function ye(Oe){return!!K[Oe]}E(ye,"doesHandlerExist");function oe(){return K}E(oe,"debugGetHandlers");const ee=(0,t.A)(Oe=>{var be;if(!(0,F.M)())return!1;const Ke=(be=(0,A.oK)(Oe))===null||be===void 0?void 0:be.getState();return Ke&&(0,k._Z)(Ke,"profile_rtm")==="on"});let V=null,w={},Y=null;function G(){w={},V=new Profiler({maxBufferSize:1e4,sampleInterval:0}),V.addEventListener("samplebufferfull",E(function(){const be=this.sampleInterval,Ke=w;this.stop().then(Fe=>{const J=performance.timeOrigin;for(const[ne,je]of Object.entries(Ke)){if(!je.length)continue;const at=new Date(J+je[0].start),nt=new Date(J+je[je.length-1].end);(0,L.lM)("rtm",ne,(0,F.W)(Fe,je),{from:at,until:nt,sample_interval:be})}}),G()},"samplebufferfull"))}E(G,"startProfiling");let Z=!1;function se(Oe){try{if(Z||!ee(Oe))return;V||G(),Y=performance.now()}catch(be){Z=!0,(0,P.Ay)({label:B,teamOrEnterpriseId:Oe}).warn("Unable to begin profiled section",be)}}E(se,"beginProfiledSection");function ae(Oe){!V||Y===null||(Oe in w||(w[Oe]=[]),w[Oe].push({start:Y,end:performance.now()}),Y=null)}E(ae,"endProfiledSection");function re(Oe){const{rtmEventType:be,rtmEventSubtype:Ke,msgs:Fe,fromEvtLog:J}=Oe.messages,ne=$(Oe),je=(0,P.Ay)({label:B,teamOrEnterpriseId:ne});se(ne);const at=performance.now();try{i.Ay.pauseRefetchIndefinitely();const Pe=Oe.handler,Le=(0,A.oK)(Oe.teamOrEnterpriseId),ze=Le==null?void 0:Le.getState();q(Pe)?Pe(Fe,Oe.teamOrEnterpriseId):Pe(Fe,Le.dispatch,Le.getState);const Me=Le==null?void 0:Le.getState();ze!==Me&&(0,R.ZI)(be,Ke)}catch(Pe){throw je.error(`Error processing ${be}: ${Pe.message}`),Pe}finally{i.Ay.unpauseRefetchImmediately()}const nt=performance.now();ae(ne);const Ge=nt-at;try{(0,m.no)({teamOrEnterpriseId:ne,rtmEventType:be,rtmEventSubtype:Ke,duration:Ge,msgs:Fe,fromEvtLog:J}),a.A.publish({type:r.lx.RtmMetrics,update:Ge})}catch{}if(Ge>W){let Pe=`Processed ${Fe.length} ${be}`;Ke&&(Pe+=`:${Ke}`),Pe+=" event(s)";const Le=[];Fe.forEach(ze=>{var Me;const Ce=(Me=ze)===null||Me===void 0?void 0:Me.channel;Ce&&Le.push(Ce)}),Le.length&&(Pe+=` in channel(s) ${Le.join(",")}`),Pe+=` over ${Ge.toFixed(2)}ms`,je.info(Pe)}}E(re,"dispatchMessages");const pe=50;async function de(Oe){let{msgs:be,getState:Ke}=Oe;const Fe={},J=3e4,ne=o.S.delay(J,Fe),je=o.S.map(be,nt=>O(nt,Ke).catch(n.A),{concurrency:1});await o.S.race([je,ne])===Fe&&(0,P.Ay)({getState:Ke}).warn("Preprocessing messages took too long; continue to process queue")}E(de,"preprocessRtmMessagesWithTimeout");async function ie(Oe){let{messages:be,teamOrEnterpriseId:Ke,elapsed:Fe}=Oe;const J=le({messages:be,teamOrEnterpriseId:Ke});return!J||ke(Ke)?Fe:he({routedHandler:J,elapsed:Fe})}E(ie,"routeMessages");async function he(Oe){let{routedHandler:be,elapsed:Ke}=Oe;const Fe=performance.now(),J=(0,A.oK)(be.teamOrEnterpriseId);await de({msgs:be.messages.msgs,getState:J.getState});const ne=performance.now();re(be);let je=Ke;return ne-Fe>pe&&(je=0),je+=performance.now()-ne,je}E(he,"dispatchMessagesWithPreprocessing");const ve=(0,x.Ay)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",(Oe,be,Ke)=>{const Fe=(0,p.ZT)(be()),J=le({messages:{rtmEventType:Ke.type,rtmEventSubtype:Ke.subtype,msgs:[Ke],fromEvtLog:(0,U.Wu)(Ke)},teamOrEnterpriseId:Fe});J&&re(J)});ve.meta={name:"createThunk",key:"createThunkhandleMessageImmediatelyWithoutPreprocessing",description:"Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)"};const ge=(0,x.Ay)("Calls the relevant handler for the given message",(Oe,be,Ke)=>{if(!z[Ke]){if(Ke&&Ke.includes&&Ke.includes("started_with_org_token")){var Fe;(0,P.Ay)({getState:be}).error(new Error(`Unexpected start error: ${Ke}`),JSON.stringify({error:Ke,pathname:window==null||(Fe=window.location)===null||Fe===void 0?void 0:Fe.pathname}),{subtype:"gs_start_error"})}else(0,P.Ay)({getState:be}).error(new Error(`Unexpected start error: ${Ke}`),JSON.stringify({error:Ke}),{subtype:"gs_start_error"});return}z[Ke](Ke,Oe,be)});ge.meta={name:"createThunk",key:"createThunkhandleErrorMessage",description:"Calls the relevant handler for the given message"};function ke(Oe){const be=(0,A.$D)(Oe);return(0,b.wx)(be)&&!(0,b.$U)(be)}E(ke,"shouldIgnoreRtmStream");const Ne=(0,x.Ay)("Fake an RTM event for testing only",(Oe,be,Ke)=>{const Fe=(0,p.ZT)(be()),J=le({messages:{rtmEventType:Ke[0].type,rtmEventSubtype:Ke[0].subtype,msgs:Ke,fromEvtLog:(0,U.Wu)(Ke[0])},teamOrEnterpriseId:Fe});J&&re(J)});Ne.meta={name:"createThunk",key:"createThunkhandleMessagesForTest",description:"Fake an RTM event for testing only"};const We={shouldIgnoreRtmStream:ke,errorHandlers:z,handlers:K,sharedHandlers:H};Object.defineProperty(We,"errorHandlers",{get:()=>z,set:Oe=>{z=Oe}}),Object.defineProperty(We,"handlers",{get:()=>K,set:Oe=>{K=Oe}}),Object.defineProperty(We,"sharedHandlers",{get:()=>H,set:Oe=>{H=Oe}}),(0,l.ul)("rtm",{handlers:K,errorHandlers:z,interceptHandler:(Oe,be)=>{const Ke=K[Oe];K[Oe]=function(){for(var Fe=arguments.length,J=new Array(Fe),ne=0;ne<Fe;ne++)J[ne]=arguments[ne];be(Ke,...J)}}})},5387083734:(N,y,e)=>{"use strict";e.d(y,{IE:()=>f});var t=e(862210999),n=e(4518410378),o=e(337319621),s=e(4473827453),c=e.n(s),r;(function(v){v.Background="background",v.UserVisible="user-visible",v.UserBlocking="user-blocking"})(r||(r={}));const a=(0,o.Wo)({label:"SCHEDULER"}),i="scheduler"in n.J&&(0,t.A)(n.J.scheduler.postTask),l=50;let m=0,_=null;const h=E((v,u)=>{let{label:g,priority:p,delay:A}=u;if(!i)return v();m+=1;const C=performance.now();return n.J.scheduler.postTask(()=>{const T=performance.now(),I=T-C,M=_?T-_:0;_=T,I-A>l&&a.debug(`${g} task (${p}) executed with delay of ${Math.round(I)}ms and a configured delay of ${A}ms - time since last task: ${M}ms - Task queue length: ${m}`);const O=v();return m-=1,O},{priority:p,delay:A})},"runWithPriority"),d=E(()=>{if(i)return m},"getTaskQueueLength"),f=E((v,u,g)=>h(u,{label:v,priority:r.Background,delay:(g==null?void 0:g.delay)||0}),"runWithBackgroundPriority")},6143061638:(N,y,e)=>{"use strict";e.d(y,{ig:()=>_});var t=e(2763437247),n=e(6533394955),o=e(6209625934),s=e(4761125736);function c(f,v){const u=Object.values((0,n.jm)());for(const g of u){if(!g)continue;const p=g.getState(),A=(0,s.KK)(p,f);A&&A.log_exposures&&v===A.group&&(0,o.K)(f,A,p)}}E(c,"logExposuresForSession");var r=e(7002741921),a=e(337319621),i=e(9272190578);function l(f,v){if((0,t.SC)(f),v)try{v()}catch(u){(0,a.Wo)().error(`caught error from cleanupCallback: ${u}`)}}E(l,"rollbackToggle");function m(f){let{toggleName:v,toggleGroup:u}=f;return(0,r._)(v,u,!1)}E(m,"defaultToggleGroupMatcher");function _(f,v){var u;const g=(u=v==null?void 0:v.customToggleGroupMatcher)!==null&&u!==void 0?u:m,p=(0,t.M_)(f),A=h(f,p,g);if(v.nonMemoized&&A!==t.dw.NoGroup&&c(f,A),p===null&&A!==t.dw.NoGroup){(0,t.jc)(f,A);return}A===t.dw.NoGroup&&(0,t.GI)(p)?(l(f,v==null?void 0:v.cleanupCallback),v.forceReloadOnRollback&&(0,t.zt)(p)&&(0,i.As)({reason:`Rolling back ${f} toggle`,reasonKey:`rollback_${f}_toggle`})):A!==p?(0,t.jc)(f,A):A===p&&c(f,p)}E(_,"setToggleGroupForNextSession");function h(f,v,u){const g=u({toggleName:f,toggleGroup:t.dw.Treatment}),p=u({toggleName:f,toggleGroup:t.dw.Control}),A=u({toggleName:f,toggleGroup:t.dw.On}),C=u({toggleName:f,toggleGroup:t.dw.Off});return g&&p?v===t.dw.Treatment?t.dw.Treatment:v===t.dw.Control?t.dw.Control:Math.random()<.5?t.dw.Treatment:t.dw.Control:A&&C?v===t.dw.On?t.dw.On:v===t.dw.Off?t.dw.Off:Math.random()<.5?t.dw.On:t.dw.Off:g?t.dw.Treatment:p?t.dw.Control:A?t.dw.On:C?t.dw.Off:t.dw.NoGroup}E(h,"getCurrentToggleGroup");const d={getCurrentToggleGroup:h}},6140401014:(N,y,e)=>{"use strict";e.d(y,{E6:()=>C,cV:()=>I});var t=e(9746734072),n=e(1649982175),o=e(8289365785),s=e(5082930587),c=e(6946629059),r=e(337319621);let a=E(class{label(){return this._data.label}isUnknown(){return!1}isText(){return!1}isRichText(){return!1}isTimestamp(){return!1}isDate(){return!1}isImage(){return!1}isUser(){return!1}isSlackUser(){return!1}isChannel(){return!1}isTag(){return!1}isLong(){return!1}input(){return this._data.input}static makeField(D){try{switch(D.field_type){case"date":return new f(D);case"user":return new m(D);case"slack_user":return new _(D);case"text":return new l(D);case"rich_text":return new d(D);case"image":return new v(D);case"timestamp":return new g(D);case"tag":return new u(D);case"channel":return new h(D);default:try{(0,s.Kh)(D.field_type)}catch{(0,r.Wo)().warn(`unrecognized work object field type: ${D.field_type}`)}return new i(D)}}catch(O){(0,r.Wo)().error(new Error(`invalid field: ${O}`));return}}data(){return this._data}constructor(D){this._data=D}},"BaseField"),i=E(class extends a{isUnknown(){return!0}value(){return this._value}constructor(D){if(D.rich_text===void 0)throw new Error("missing rich_text property");super(D),this._value=D.rich_text}},"UnknownField"),l=E(class extends a{isText(){return!0}value(){return this._value}isLong(){return this._isLong}constructor(D){if(D.text===void 0)throw new Error("missing text property");super(D),this._value=D.text,this._isLong=!!(D!=null&&D.long)}},"TextField"),m=E(class extends a{isUser(){return!0}value(){return this._value}constructor(D){if(D.user===void 0)throw new Error("missing user property");super(D),this._value=D.user}},"UserField"),_=E(class extends a{isSlackUser(){return!0}value(){return this._value}constructor(D){if(D.slack_user===void 0)throw new Error("missing slack_user property");super(D),this._value=D.slack_user}},"SlackUserField"),h=E(class extends a{isChannel(){return!0}value(){return this._value}constructor(D){if(D.channel===void 0)throw new Error("missing channel property");super(D),this._value=D.channel}},"ChannelField"),d=E(class extends a{isRichText(){return!0}value(){return this._value}isLong(){return this._isLong}constructor(D){if(D.rich_text===void 0)throw new Error("missing rich_text property");super(D),this._value=D.rich_text,this._isLong=!!(D!=null&&D.long)}},"RichTextField"),f=E(class extends a{isDate(){return!0}value(){return this._value}constructor(D){if(D.date===void 0)throw new Error("missing date property");if(D.date.length<1)throw new Error("empty date array");super(D),this._value=D.date[0]}},"DateField"),v=E(class extends a{isImage(){return!0}value(){return this._value}constructor(D){if(D.image===void 0)throw new Error("missing image property");if(D.image.length!==1)throw new Error("image array does not contain exactly one element");super(D),this._value=D.image[0]}},"ImageField"),u=E(class extends a{isTag(){return!0}value(){return this._value}constructor(D){if(D.tag===void 0)throw new Error("missing tag property");if(D.tag.length<1)throw new Error("empty tags array");super(D),this._value=D.tag}},"TagField"),g=E(class extends a{isTimestamp(){return!0}value(){return this._value}constructor(D){if(D.timestamp===void 0)throw new Error("missing timestamp property");if(D.timestamp.length<1)throw new Error("empty timestamp array");super(D),this._value=D.timestamp[0]}},"TimestampField"),p=E(class{key(){return this._key}title(){return this.layout.title.text}subtitle(){var D;return(D=this.layout.subtitle)===null||D===void 0?void 0:D.text}fields(){return this._fields}hasImage(){return this._fields.some(D=>D.isImage())}hasDate(){return this._fields.some(D=>D.isDate())}hasFields(){return!!this._fields.length}headerTitle(){var D;return(D=this.layout.header_title)===null||D===void 0?void 0:D.text}entityId(){return this._entityId}constructor(D,O){this._key=O;const S=D.layouts[this._key];if(!S)throw new Error("invalid layout");this.layout=S;const R=S.fields;var U;this._fields=(U=R==null?void 0:R.elements.map(P=>a.makeField(P)).filter(c.b))!==null&&U!==void 0?U:[],this._entityId=D.entity_id}},"Layout");class A extends p{hoverSubtitle(){var D;return(D=this.layout.hover_subtitle)===null||D===void 0?void 0:D.text}productIcon(){return this.layout.product_icon}constructor(D){super(D,"compact")}}E(A,"CompactLayout");class C extends p{hoverSubtitle(){var D;return(D=this.layout.hover_subtitle)===null||D===void 0?void 0:D.text}productIcon(){return this.layout.product_icon}actions(){return this.layout.actions}constructor(D){super(D,"expanded")}}E(C,"ExpandedLayout");class T extends p{headerTitle(){var D;return(D=this.layout.header_title)===null||D===void 0?void 0:D.text}headerSubtitle(){var D;return(D=this.layout.header_subtitle)===null||D===void 0?void 0:D.text}subtitleUrl(){var D;return(D=this.layout.subtitle)===null||D===void 0?void 0:D.url}subtitleImage(){var D;return(D=this.layout.subtitle)===null||D===void 0?void 0:D.image}isEditable(){var D;return(D=this.layout.editable)!==null&&D!==void 0?D:!1}actions(){return this.layout.actions}constructor(D){super(D,"full")}}E(T,"FullLayout");class I{static create(D){try{return new I(D)}catch(O){(0,r.Wo)().error(new Error(O));return}}compact(){try{return new A(this.data)}catch{return}}expanded(){try{return new C(this.data)}catch{return}}full(){try{return new T(this.data)}catch{return}}appId(){return this.data.app_id}entityId(){return this.data.entity_id}externalUrl(){return this.data.external_url}authProviderKey(){return this.data.auth_provider_key}lookupFunction(){return this.data.lookup_function}displayType(){return this.data.display_type}entityTypeForClogging(){return this.data.work_object_entity_type}type(){return this.data.work_object_type}appName(){return this.data.app_name}ts(){return this.data.ts}unfurlLayout(){return this.expanded()||this.compact()}hasLayout(){return Object.keys(this.data.layouts).length>0}static isDeprecatedArrayFormat(D){var O,S,R,U,P,L;return[(O=D.layouts)===null||O===void 0||(S=O.compact)===null||S===void 0?void 0:S.fields,(R=D.layouts)===null||R===void 0||(U=R.expanded)===null||U===void 0?void 0:U.fields,(P=D.layouts)===null||P===void 0||(L=P.full)===null||L===void 0?void 0:L.fields].some(x=>this.fieldsContainsDeprecatedValues(x))}static fieldsContainsDeprecatedValues(D){return D?D.elements.some(S=>(0,t.A)(S.rich_text)||["long_text","short_text"].includes(S.field_type)):!1}static transformDeprecatedArrayFormat(D){const O=D.layouts;if(!O)return;const S=O.compact,R=O.expanded,U=O.full;return{...D,layouts:{...S?{compact:this.transformDeprecatedLayout(S)}:{},...R?{expanded:this.transformDeprecatedLayout(R)}:{},...U?{full:this.transformDeprecatedLayout(U)}:{}}}}static transformDeprecatedLayout(D){return{...(0,n.A)(D,"fields"),...I.transformDeprecatedArrayFields(D.fields)}}static transformDeprecatedArrayFields(D){if(!D)return{};const O=D.elements;return{fields:{...D,elements:O.map(S=>{const R=(0,o.A)(S.rich_text);return{...(0,n.A)(S,["rich_text"]),field_type:this.transformDeprecatedArrayFieldType(S),...R?{rich_text:R}:{}}})}}}static transformDeprecatedArrayFieldType(D){switch(D.field_type){case"long_text":return"rich_text";case"short_text":return D.rich_text?"rich_text":"text";case"timestamp":case"date":case"image":case"user":return D.field_type;default:(0,s.Kh)(D.field_type)}}isFullSizePreviewEnabled(){var D,O;return(O=(D=this.data.full_size_preview)===null||D===void 0?void 0:D.is_supported)!==null&&O!==void 0?O:!1}fullSizePreview(){var D;return(D=this.data)===null||D===void 0?void 0:D.full_size_preview}constructor(D){const O=I.isDeprecatedArrayFormat(D)?I.transformDeprecatedArrayFormat(D):D;if(!O)throw new Error("invalid work object");const S=O.layouts;if(!S)throw new Error("invalid work object");this.data={...O,layouts:S}}}E(I,"WorkObjectModel")},2180140255:(N,y,e)=>{"use strict";e.d(y,{A:()=>p});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(2230482111),c=e(6471059816),r=e(1275630749),a=e(3202757386),i=e(5057176955),l=e(1318506593),m=e(9874616273),_=e(6084388622),h=e(1610251172),d=e(5249175977);function f(){return f=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var T=arguments[C];for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(A[I]=T[I])}return A},f.apply(this,arguments)}E(f,"_extends");const v=new c.Ay("find_team");function u(A,C){if((0,a.A)())return(0,l.M6)(location.href,"locale",C);const T=location.href.replace(`${location.protocol}//${location.hostname}`,"").replace(/^\/intl\/[^/]+\//,"/");return A==="en-us"?T:`/intl/${A}${T}`}E(u,"getUrlForLocale");let g=E(class extends t.Component{render(){const{hideRegionPicker:C,showLogo:T,govSlackTheme:I,joinerRedesignTreatment:M}=this.props,D=o()("p-refreshed_page__footer_link p-refreshed_page__footer_link--main",{"p-refreshed_page__footer_link--gov_slack":I}),O=o()("full_width",{"p-refreshed_page__full_width_footer":M}),S=t.createElement("footer",{className:"p-refreshed_page__footer"},t.createElement(_.jV,{href:(0,r.v)("/legal"),className:D,autoClogProps:{elementName:"get_started_footer_link_legal",onClick:{enableClogAction:!0}}},v.rt("Privacy & Terms")),t.createElement(_.jV,{href:(0,r.v)("/help/requests/new"),className:D,autoClogProps:{elementName:"get_started_footer_link_contact",onClick:{enableClogAction:!0}}},v.rt("Contact Us")),!C&&t.createElement(d.Wv,{allowanceX:0,overlayClassName:"p-refreshed_page__footer_overlay",position:"top",renderPopover:this.renderPopover},t.createElement("div",null,t.createElement(_.jV,{onClick:this.onClickChangeRegion,href:"#",className:D,autoClogProps:{elementName:"get_started_footer_link_change_region",onClick:{enableClogAction:!0}}},t.createElement(h.A,{type:"globe",size:"inherit",className:"margin_right_25"}),v.rt("Change region"),t.createElement(h.A,{type:"chevron-medium-down",size:"inherit"})))));return t.createElement("div",{className:O},t.createElement("div",{className:o()("p-refreshed_page__footer_container",{"p-refreshed_page__footer_container--gov_slack":I})},t.createElement(t.Fragment,null,T&&t.createElement(m.A,{width:80,height:20,className:"p-app_slack_logo"}),S)))}constructor(C){super(C),this.onClickChangeRegion=T=>{T.preventDefault()},this.onClickLocale=T=>{let{locale:I,geocode:M}=T;return()=>{const D=(0,i.LL)((0,s.v8)("c")||"")||{};D.geocode=M;const O=(0,i.Zf)(D,{space:""});(0,s.n0)("i18n_locale",I,365*10,"slack.com"),O&&(0,s.n0)("c",O,365*10,"slack.com")}},this.renderPopover=T=>t.createElement(d.AM,f({offsetX:-9,offsetY:-5,modalBodyOpenClassName:"p-refreshed_page__footer_modal--open",ariaLabel:v.t("Change region"),ariaRole:"dialog",shouldAnchorAtInitialPosition:!0,reactRootSelector:"[data-reactroot]"},T),t.createElement("div",{className:"p-refreshed_page__footer_locales"},t.createElement("div",{className:"bold margin_bottom_50"},v.rt("Change region")),t.createElement("div",{className:"margin_bottom_100"},v.rt("Selecting a different region will change the language and content of Slack.com.")),t.createElement("div",{className:"display_flex"},[{title:v.t("Americas"),locales:[{locale:"es-LA",geocode:"es-la",name:"Latinoam\xE9rica (Espa\xF1ol)"},{locale:"pt-BR",geocode:"pt-br",name:"Brasil (Portugu\xEAs)"},{locale:"en-US",geocode:"en-us",name:"United States (English)"}]},{title:v.t("Europe"),locales:[{locale:"de-DE",geocode:"de-de",name:"Deutschland (Deutsch)"},{locale:"es-ES",geocode:"es-es",name:"Espa\xF1a (Espa\xF1ol)"},{locale:"fr-FR",geocode:"fr-fr",name:"France (Fran\xE7ais)"},{locale:"it-IT",geocode:"it-it",name:"Italia (italiano)"},{locale:"en-GB",geocode:"en-gb",name:"United Kingdom (English)"}]},{title:v.t("Asia Pacific"),locales:[{locale:"zh-CN",geocode:"zh-cn",name:"\u7B80\u4F53\u4E2D\u6587"},{locale:"zh-TW",geocode:"zh-tw",name:"\u7E41\u9AD4\u4E2D\u6587"},{locale:"en-IN",geocode:"en-in",name:"India (English)"},{locale:"ja-JP",geocode:"ja-jp",name:"\u65E5\u672C (\u65E5\u672C\u8A9E)"},{locale:"ko-KR",geocode:"ko-kr",name:"\uD55C\uAD6D\uC5B4"}]}].map(I=>{let{title:M,locales:D}=I;return t.createElement("div",{className:"margin_right_50 display_flex flex_direction_column",key:M},t.createElement("div",{className:"bold margin_bottom_50"},M),D.map(O=>{let{locale:S,geocode:R,name:U}=O;return t.createElement(_.jV,{key:S,href:u(R,S),target:"_self",className:"p-refreshed_page__footer_link margin_bottom_50",autoClogProps:{elementName:"get_started_footer_link_change_region_locale",elementValue:S,onClick:{enableClogAction:!0}},onClick:this.onClickLocale({locale:S,geocode:R})},U)}))})))),this.popoverTriggerRef=t.createRef(),this.state={}}},"RefreshedFooter");g.displayName="RefreshedFooter";const p=g},2308565927:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3134334389),n=e(4844578989),o=e.n(n);const s=E(r=>{let{children:a,heading:i,subHeading:l,titleImage:m,headingClassName:_,subHeadingClassName:h,dataQa:d,showFullWidthContent:f,className:v,isSharedWorkspaceInvite:u}=r;return t.createElement("div",{className:o()("p-refreshed_page",{"p-refreshed_page--workspace":u,full_width:f},v),"data-qa":d},m&&m,i&&t.createElement("h1",{className:o()("p-refreshed_page__heading",_,{margin_bottom_200:!l,full_width:f,"p-refreshed_page__heading--workspace":u})},i),l&&t.createElement("div",{className:o()("p-refreshed_page__sub_heading",h,{full_width:f})},l),a)},"RefreshedPageContent");s.displayName="RefreshedPageContent";const c=s},9539184071:(N,y,e)=>{"use strict";e.d(y,{A:()=>W});var t=e(3134334389),n=e(2180140255),o=e(4844578989),s=e.n(o),c=e(8142308213),r=e(4518410378),a=e(6176558010),i=e(6084388622),l=e(8739505998),m=e(8683010724),_=e(9432515904),h=e(6471059816),d=e(6764196364),f=e(9506008067),v=e(9994038664),u=e.n(v),g=e(2301861866),p=e.n(g),A=e(2527471159),C=e.n(A),T=e(7972463975),I=e.n(T);const M=new h.Ay("refreshed_header"),D={elementName:"header_slack_logo",onClick:{enableClogAction:!0}},O={elementName:"header_signin",onClick:{enableClogAction:!0}},S={elementName:"header_create_account",onClick:{enableClogAction:!0}},R={elementName:"header_create_workspace",onClick:{enableClogAction:!0}},U=C()&&I()?`${C()}, ${I()} 2x`:void 0,P=E(K=>{let{showSignInLink:H=!1,showCreateAccountLink:z=!1,showCreateWorkspaceLink:Q=!1,showHorchataBackground:q=!1,confirmedEmailPill:$,hideLogo:le=!1,isSSBBrowserSignin:te=!1,showSfLogo:ce=!1,isWarningBannerDisplayed:me=!1,govSlackTheme:_e=!1,isLandingPage:Ae=!1,clientTheme:ye,joinerRedesignTreatment:oe=!1,isDevProgSignin:ee=!1,isMobileWebViewSignup:V=!0,experimentMobileWebSignupGroupTreatment:w=!1,mobileHeaderTitle:Y=""}=K;const G=(0,f.d4)(re=>(0,c.Q5)(re,c.C6.SIGNIN_HEADER)),Z=(0,c.eA)(),se=G?`${te?"/ssb":""}/get-started${Z}${G}#${a.EU.CreateNew}`:`${te?"/ssb":""}/get-started${r.J.location.search}#${a.EU.CreateNew}`,ae=(0,t.useCallback)(()=>{r.J.history.back()},[]);return t.createElement("header",{className:s()("p-refreshed_page__header",{"p-refreshed_page__header--should_wrap":!!$,"p-refreshed_page__header--is_horchata_landing_bg":q,"p-refreshed_page__header--no_logo":!!le,"p-refreshed_page__header--sf_slack_logo":ce,"p-refreshed_page__header--display_warning_banner":me,"p-refreshed_page__header--gov_slack":_e,"p-refreshed_page__header--landing":Ae,"p-refreshed_page__full_background":oe,"p-refreshed_page__header--mobile":V})},t.createElement("div",{className:"left-col"},V&&t.createElement(i.Nm,{onClick:ae},t.createElement(m.A,{name:"caret-left",inline:!0,size:"20"}))),t.createElement("div",{className:"center-col"},!V&&t.createElement(t.Fragment,null,ce&&le&&t.createElement("img",{srcSet:U??void 0,src:C(),alt:""}),!le&&t.createElement(l.A,{href:(0,d.A)(),autoClogProps:D,target:"_self"},t.createElement("img",{alt:"Slack",src:_e||ye===_.Sx.Dark?u():p(),height:"26",title:"Slack"})),$),V&&t.createElement("div",{className:"p-refreshed_page__header--mobile-title"},Y,!Y&&w?M.t("Sign Up"):"")),t.createElement("div",{className:"right-col"},H&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},M.t("Already have an account?"),t.createElement("br",null),t.createElement(l.A,{href:"/signin",className:"bold",autoClogProps:O,target:"_self"},M.t("Sign in instead"))),z&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},M.t("Don\u2019t have an account yet?"),t.createElement("br",null),t.createElement(l.A,{href:`/signup${r.J.location.search}`,className:"bold",autoClogProps:S,target:"_self"},M.t("Create an account"))),Q&&!ee&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},M.t("New to Slack?"),t.createElement("br",null),t.createElement(l.A,{href:se,className:"bold",autoClogProps:R,target:"_self"},M.t("Create an account"))),ee&&t.createElement("div",{className:"p-refreshed_page__header_sidelink","data-qa":"dev-prog-create-account"},M.t("New to Slack\u2019s Developer Program?"),t.createElement("br",null),t.createElement(l.A,{href:"/developer-program/join",className:"bold",autoClogProps:R,target:"_self"},M.t("Create an account")))))},"RefreshedHeader");P.displayName="RefreshedHeader";const L=P;var F=e(7216810781),x=e(8178126019);const b=E(K=>{let{inviteDetails:H,children:z}=K;return!H||!(0,x.YB)(H)?z:t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__container"},t.createElement(F.z,{invite:H,bottomMargin:!0}),t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__contents"},z))},"ExternalWorkspaceInviteBrandingWrapper");b.displayName="ExternalWorkspaceInviteBrandingWrapper";const k=b,B=E(K=>{let{children:H,showHorchataBackground:z,showSignInLink:Q,showCreateAccountLink:q,showCreateWorkspaceLink:$,hideRegionPicker:le,clientTheme:te,hideFooter:ce=!1,confirmedEmailPill:me,hideHeader:_e=!1,isSSBBrowserSignin:Ae=!1,showSfLogo:ye=!1,isWarningBannerDisplayed:oe=!1,govSlackTheme:ee=!1,isLandingPage:V=!1,joinerRedesignTreatment:w=!1,inviteDetails:Y,isDevProgSignin:G=!1,isMobileWebViewSignup:Z=!1,experimentMobileWebSignupGroupTreatment:se=!1,mobileHeaderTitle:ae=""}=K;return t.createElement(k,{inviteDetails:Y},t.createElement(t.Fragment,null,!_e&&t.createElement(L,{showSignInLink:Q,showCreateAccountLink:q,showCreateWorkspaceLink:$,showHorchataBackground:z,confirmedEmailPill:me,isSSBBrowserSignin:Ae,showSfLogo:ye,hideLogo:ye,isWarningBannerDisplayed:oe,govSlackTheme:ee,isLandingPage:V,clientTheme:te,joinerRedesignTreatment:w,isDevProgSignin:G,isMobileWebViewSignup:Z,experimentMobileWebSignupGroupTreatment:se,mobileHeaderTitle:ae}),ee?t.createElement("div",{className:"p-refreshed_page_layout__children--gov_slack"},H):H,!ce&&t.createElement(n.A,{hideRegionPicker:le,govSlackTheme:ee,joinerRedesignTreatment:w})))},"RefreshedPageLayout");B.displayName="RefreshedPageLayout";const W=B},6176558010:(N,y,e)=>{"use strict";e.d(y,{EU:()=>n});var t=e(8668318456),n;(function(i){i.Start="/",i.Find="/find",i.Create="/create",i.CreateNew="/createnew",i.Confirm="/confirm",i.Check="/check",i.FindAgain="/find_again",i.Email="/email",i.Error="/error",i.ConfirmationCode="/confirmemail",i.DomainClaimed="/domain",i.Landing="/landing",i.ConfirmTrust="/confirmtrust",i.IgnoreInvite="/ignoreinvite",i.SignIn="/signin",i.Workspaces="/workspaces",i.SharedInviteLoggedOut="/sharedinvite",i.SharedInviteLanding="/sharedinvitelanding",i.SelectWorkspaces="/select",i.AppleSignIn="/apple",i.AddName="/addname"})(n||(n={}));var o;(function(i){i.SharedChannelInviteAlreadyAccepted="invite_used",i.SharedChannelInviteInvlidLink="invalid_link",i.DirectMessageInviteInactive="inactive_invite",i.Generic="generic"})(o||(o={}));const s={[n.Start]:t.UiStep.START_WITH_A_WORKSPACE,[n.Create]:t.UiStep.CREATE_NEW_WORKSPACE,[n.CreateNew]:t.UiStep.CREATE_NEW_WORKSPACE,[n.Find]:t.UiStep.FIND_YOUR_WORKSPACE,[n.Check]:t.UiStep.CHECK_YOUR_EMAIL,[n.FindAgain]:t.UiStep.FIND_YOUR_WORKSPACE,[n.Email]:t.UiStep.ENTER_EMAIL,[n.Confirm]:t.UiStep.ENTER_EMAIL,[n.Error]:t.UiStep.GET_STARTED_ERROR,[n.ConfirmationCode]:t.UiStep.GET_STARTED_CONFIRM_CODE,[n.DomainClaimed]:t.UiStep.GET_STARTED_DOMAIN_CLAIMED,[n.Landing]:t.UiStep.GET_STARTED_CREATOR_LANDING,[n.SignIn]:t.UiStep.GET_STARTED_SIGN_IN,[n.Workspaces]:t.UiStep.GET_STARTED_WORKSPACES,[n.SharedInviteLoggedOut]:t.UiStep.SHARED_INVITE_LOGGED_OUT,[n.SharedInviteLanding]:t.UiStep.SHARED_INVITE_LANDING,[n.SelectWorkspaces]:t.UiStep.GET_STARTED_SELECT_WORKSPACES,[n.AppleSignIn]:t.UiStep.GET_STARTED_APPLE_SIGN_IN,[n.ConfirmTrust]:t.UiStep.GET_STARTED_CONFIRM_TRUST,[n.IgnoreInvite]:t.UiStep.GET_STARTED_IGNORE_INVITE,[n.AddName]:t.UiStep.GET_STARTED_ADD_NAME};var c;(function(i){i.Invited="invited",i.Joined="joined",i.Whitelisted="whitelisted"})(c||(c={}));var r;(function(i){i.Email="email",i.GoogleIdToken="google_id_token",i.Apple="apple_id_token"})(r||(r={}));const a={newUser:"new_user",existingUser:"existing_user"}},2768056446:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>f,UU:()=>h,lS:()=>l});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(9406470849),c=e(1610251172),r=e(8739505998),a=e(6471059816);const i=new a.Ay("team_creation");var l;(function(v){v.Unchecked="unchecked",v.Empty="empty-status",v.Processing="processing",v.Ratelimited="ratelimited",v.Expired="expired",v.RequestNewCode="request-new-code",v.Error="error",v.Blocked="ratelimited-blocked",v.GoogleTokenExpired="google-token-expired",v.Unknown="unknown",v.Success="success",v.CaptchaFailed="captcha-failed"})(l||(l={}));const _={RequestNewCode:"code_check_status_request_new_code_link"};class h extends t.Component{getStatusMessage(){const{status:u,onRequestNewCode:g}=this.props;let p=t.createElement(t.Fragment,null,t.createElement("i",{"aria-hidden":"true",className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},"\xA0"));switch(u){case l.Unchecked:p=t.createElement("span",{className:"small_desc"},i.t("Keep this window open while checking for your code. Remember to try your spam folder!"));break;case l.Processing:p=t.createElement(t.Fragment,null,t.createElement(c.A,{type:"spinner",animation:"spin",inline:!0,className:"margin_right_25"}),t.createElement("span",{className:"c-alert__message"},i.t("Checking your code\u2026",{fallbackHash:"41a08e01909771ac149f5a8735eedeec3421261c"})));break;case l.Ratelimited:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,i.t("Whoa, you\u2019re going too fast!")),t.createElement("br",null),i.t("Slow down a bit. You might have better luck if you try again in a minute.")));break;case l.Error:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},i.t("That code wasn't valid. Give it another go!")));break;case l.Expired:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},i.t("That code\u2019s no longer valid. Check your email for a new code and try again.")));break;case l.Blocked:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,i.t("Temporarily blocked")),t.createElement("br",null),i.t("You\u2019ve hit our limit on verification attempts, and you\u2019ll need to try again later.")));break;case l.GoogleTokenExpired:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},i.rt("A good amount of time has passed, please <a>enter your email again</a> to continue.",null,A=>{let{text:C}=A;return t.createElement(r.A,{href:`/get-started${window.location.search}#create`},C)})));break;case l.RequestNewCode:g&&(p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},i.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{},A=>{let{text:C}=A;return t.createElement(r.A,{"data-qa":_.RequestNewCode,onClick:g},C)}))));break;case l.Unknown:p=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},i.t("Oops! Looks like something went wrong.")));break;case l.Success:p=t.createElement("span",{className:"small_desc"},i.t("Success!"));break;default:break}return p}render(){const{status:u,isCentered:g,id:p,className:A}=this.props;if(!u)return null;const C=o()("c-alert confirmation_code_state_message",A,{"c-alert--boxed":u!==l.Unchecked,"c-alert--level_default":u===l.Processing,"c-alert--level_warning":u===l.Ratelimited||u===l.Expired||u===l.RequestNewCode,"c-alert--level_error":u===l.Error||u===l.Blocked||u===l.Unknown||u===l.CaptchaFailed,"invisible c-alert--level_default":u===l.Empty,"c-alert--align_center":g},u);return t.createElement("div",{className:"confirmation_code_checker","data-state":u,"data-qa":u,id:p},t.createElement("p",{role:"alert",className:C},this.getStatusMessage()))}}E(h,"CodeCheckStatus"),h.displayName="CodeCheckStatus";let d=E(class extends h{getStatusMessage(){const{status:u}=this.props;return u===l.RequestNewCode?t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},i.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{},g=>{let{text:p}=g;return t.createElement(r.A,{href:"#",onClick:this.handleNavigateBackToEmailEntry},p)}))):u===l.CaptchaFailed?t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},i.rt("Code confirmation timed out, can you <link>please enter your email again</link>",{"<link>":g=>{let{text:p}=g;return t.createElement(r.A,{href:"#",onClick:this.handleNavigateBackToEmailEntry},p)}}))):super.getStatusMessage()}constructor(...u){super(...u),this.handleNavigateBackToEmailEntry=g=>{g.preventDefault();const{navigate:p}=this.props;p(-1)}}},"CodeCheckStatusWithRouter");const f=(0,s.A)(d)},4645337865:(N,y,e)=>{"use strict";e.d(y,{A:()=>d});var t=e(3134334389),n=e(9867500491),o=e(4844578989),s=e.n(o),c=e(8646591923),r=e(3700949338),a=e(219228829);function i(){return i=Object.assign||function(f){for(var v=1;v<arguments.length;v++){var u=arguments[v];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[g]=u[g])}return f},i.apply(this,arguments)}E(i,"_extends");let l=E(class extends t.Component{render(){const{isDisabled:v,isInvalid:u=!1,ariaDescribedBy:g,className:p}=this.props;return t.createElement("div",{className:s()("split_input_item",p,{focused:this.props.hasFocus})},t.createElement("input",{ref:this.props.refToForward,type:"text",value:this.props.value,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":g,disabled:v,"aria-disabled":v,"aria-invalid":u}))}constructor(...v){super(...v),this.onKeyDown=u=>{switch(u.keyCode){case c.G_:{u.currentTarget.value||this.props.moveLeft();return}case c.UQ:return u.preventDefault(),this.props.moveLeft();case c.LE:return u.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=u=>{const{isNumbersOnly:g}=this.props;(g?!(0,r.A)(u.which):!(0,r.$)(u.which))&&u.charCode&&!(0,a.A)(u)&&u.preventDefault()},this.onChange=u=>{const g=u.target.value,{isNumbersOnly:p}=this.props;((p?/^[0-9]$/:/^[a-zA-Z0-9]$/).test(g)||g==="")&&this.props.onChange(g.toUpperCase())},this.onPaste=u=>{u.preventDefault();const{isNumbersOnly:g}=this.props,p=window.clipboardData||u.clipboardData,A=p.getData("text")||p.getData("text/plain"),C=g?/\D/g:/[^a-zA-Z0-9]/g,T=A.replace(C,"");this.props.onPaste(T)}}},"CodeInput");l.displayName="CodeInput";const m=t.forwardRef((f,v)=>t.createElement(l,i({},f,{refToForward:v})));var _=e(6471059816);const h=new _.Ay("team_creation");let d=E(class extends t.Component{focusInput(v){const u=this.inputRefs[v];u&&u.current&&u.current.focus()}moveLeft(v){v<=0||this.focusInput(v-1)}moveRight(v){v>=this.state.values.length-1||this.focusInput(v+1)}isComplete(v){return!v.some(u=>!u)}clear(){this.setState(v=>({values:v.values.map(()=>"")})),this.focusInput(0)}onChange(v,u){const g=this.state.values.slice();g[v]=u,this.setState(()=>({values:g}),()=>{u&&!this.isComplete(this.state.values)&&this.moveRight(v)})}componentDidUpdate(v,u){if(!this.isComplete(u.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&u.values.join("")!==this.state.values.join("")){const g=this.state.values.join("");this.props.onFillCode(g)}else u.values.join(",")!==this.state.values.join(",")&&this.props.onChange();v.isDisabled!==this.props.isDisabled&&this.focusInput(0)}componentDidMount(){this.focusInput(0)}renderInputs(v,u){const{isDisabled:g,isNumbersOnly:p=!0,isInvalid:A=!1,ariaDescribedBy:C,govSlackTheme:T=!1}=this.props;return this.state.values.slice(v,u).map((I,M)=>{const D=M+v;return t.createElement(m,{isNumbersOnly:p,key:D,ref:this.inputRefs[D],moveLeft:()=>this.moveLeft(D),moveRight:()=>this.moveRight(D),onChange:O=>this.onChange(D,O),onPaste:this.onPaste,onFocus:()=>this.setState(()=>({focusedInputIndex:D})),onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===D,value:this.state.values[D],ariaLabel:h.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:D+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:C,isInvalid:A,isDisabled:g,className:T?"split_input_item--gov_slack":""})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50 split_input_item--container","data-qa":"confirmation_code_input","data-state":this.props.isCheckError?"error":""},t.createElement("div",{className:"display_flex"},this.renderInputs(0,3)),t.createElement("div",{className:"confirmation_code_span_cell margin_50"},"\u2014"),t.createElement("div",{className:"display_flex"},this.renderInputs(3,6)))}constructor(v){super(v),this.onPaste=u=>{const g=this.state.focusedInputIndex;if(g===-1)return;const p=this.state.values.length-g,A=u.substring(0,p).split(""),C=this.state.values.slice();A.forEach((T,I)=>{const M=I+g;C[M]=T}),this.setState(()=>({values:C}),()=>{this.focusInput(Math.min(this.state.values.length-1,g+A.length))})},this.state={values:(0,n.A)(6,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"SplitInput");d.defaultProps={isNumbersOnly:!0}},3700949338:(N,y,e)=>{"use strict";e.d(y,{$:()=>n,A:()=>t});function t(o){return o>=48&&o<=57}E(t,"isNumericKey");function n(o){const s=String.fromCharCode(o);return!!/[a-zA-Z0-9]/.test(s)}E(n,"isAlphaNumericKey")},7520119303:(N,y,e)=>{"use strict";e.d(y,{K_:()=>C,XR:()=>p,yb:()=>A});var t=e(7909758472),n=e(8666996079),o=e(5858219536),s=e(7940058138),c=e(6271402872),r=e(337319621),a=e(6471059816),i=e(5332875232),l=e(7268021173),m=e(3192808693),_=e(7182156071);const h=new a.Ay("client"),d=E(T=>(0,i.iT)(T)?h.t("Calendar"):h.t("Huddles"),"huddlePageLabel"),f=E(T=>{const I=(0,_.k)(T),M=(0,l.iH)(T);return I?M?h.t("Get started"):h.t("Explore AI features"):h.t("Paid Plan Benefits")},"paidBenefitsPageLabel"),v=E(T=>(0,m.lL)(T)?h.t("Explore paid features"):"","explorePaidFeaturesLabel"),u={[s.c.Composer]:()=>h.t("New message"),[s.c.Drafts]:()=>h.t("Drafts & sent"),[s.c.EmailInbox]:T=>(0,n.w3)(T)?h.t("Emails"):"",[s.c.ScheduledMessages]:()=>h.t("Scheduled"),[s.c.Sent]:()=>h.t("Sent"),Pthread:()=>h.t("Thread"),[s.c.Empty]:()=>{},[s.c.Unreads]:()=>h.t("Unreads"),[s.c.Apps]:()=>h.t("Apps"),[s.c.Shortcuts]:()=>h.t("Workflows"),[s.c.BrowseWorkflowsManagedByYou]:()=>h.t("Workflows managed by you"),[s.c.BrowseYourWorkflowTemplates]:()=>h.t("Your workflow templates"),[s.c.BrowseWorkflowTemplates]:()=>h.t("Templates"),[s.c.WorkflowEditor]:T=>(0,c.Lh)(T)?h.t("Workflow Editor"):"",[s.c.WorkflowBeingCreated]:T=>(0,c.Lh)(T)?h.t("Workflow Creation"):"",[s.c.Activity]:()=>h.t("Activity"),[s.c.Saved]:()=>h.t("Saved items"),[s.c.PaidBenefits]:T=>f(T),[s.c.BrowseChannels]:()=>h.t("All channels"),[s.c.SetupTeamName]:()=>h.t("Setup Team Name"),[s.c.SetupProfile]:()=>h.t("Profile"),[s.c.SetupChannels]:()=>h.t("Setup Channels"),[s.c.SetupInvites]:()=>h.t("Setup Invites"),[s.c.SetupCalendarContactImport]:()=>"Setup Contact Import",[s.c.SetupTada]:()=>"Setup Tada",[s.c.SetupWelcome]:()=>h.t("Setup Welcome"),[s.c.SetupPeople]:()=>h.t("Setup People"),[s.c.SetupStraightToPaidPlans]:()=>h.t("Setup Plans"),[s.c.JoinerLaunchpad]:()=>h.t("Get started"),[s.c.SalesAutoSlackLaunchpad]:()=>h.t("Get started"),[s.c.ResurrectedUserWelcome]:()=>h.t("Welcome back"),[s.c.TenuredTeamSolutions]:()=>h.t("Tips for how you work"),"Pbrowse-channels-prototype":()=>h.t("All channels"),[s.c.BrowseFiles]:()=>h.t("All files"),[s.c.Calendar]:T=>(0,t.A)(T)?h.t("Calendar"):"",[s.c.BrowsePeople]:()=>h.t("All people"),[s.c.BrowseExternalContacts]:()=>h.t("External people"),[s.c.BrowseUserGroups]:()=>h.t("User groups"),[s.c.BrowseExternalWorkspaces]:()=>h.t("Spaces"),[s.c.Search]:()=>h.t("Search Results"),[s.c.SlackConnect]:()=>h.t("Slack Connect"),[s.c.SlackConnectInvitation]:()=>h.t("Slack Connect Invitation"),[s.c.OfflineOutbox]:()=>"Offline outbox",[s.c.Huddles]:T=>d(T),[s.c.BrowseHuddles]:T=>d(T),[s.c.Today]:()=>"Today",[s.c.TodayV2]:()=>h.t("Today"),[s.c.Later]:()=>h.t("Later"),[s.c.BrowseOrgChart]:()=>h.t("Org chart"),"Pasync-modals":()=>"Modals",[s.c.BrowseCanvases]:()=>h.t("Canvases"),[s.c.BrowseLists]:()=>"Lists",[s.c.Todos]:()=>h.t("To-dos"),[s.c.Recents]:()=>h.t("Recently viewed"),[s.c.DailyDigest]:()=>h.t("Recap"),[s.c.ActionItems]:()=>h.t("Action items"),[s.c.Inbox]:()=>h.t("Activity"),[s.c.BrowseUnifiedFiles]:()=>h.t("Docs"),[s.c.BrowseUnifiedFilesCanvases]:()=>h.t("Canvases"),[s.c.BrowseUnifiedFilesLists]:()=>h.t("Lists"),[s.c.BrowseUnifiedFilesExternalResults]:()=>h.t("All files"),[s.c.ExplorePaidFeatures]:T=>v(T),[s.c.BrowseUnifiedFilesGoogleDrive]:T=>(0,o.c)(T)?h.t("Google Drive"):"",[s.c.BrowseUnifiedFilesOnedrive]:T=>(0,o.c)(T)?h.t("OneDrive & SharePoint"):""},g={};function p(T){return!T||!u[T]?((0,r.Wo)().error(`getLabelFunctionForPage called with invalid pageId: ${T}`),null):u[T]}E(p,"getLabelFunctionForPage");const A=E((T,I)=>p(I.id)(T),"getPageLabel");function C(T){if(T)return g[T]}E(C,"getAriaLabelFunctionForPage")},4066669727:(N,y,e)=>{"use strict";e.d(y,{KH:()=>R,MC:()=>F,PL:()=>L,SV:()=>U,a$:()=>D,gO:()=>O});var t=e(6066600258),n=e(9240258658),o=e(2044530601),s=e(2141099977),c=e(337319621),r=e(4949104520),a=e(6304789565),i=e(6533394955),l=e(8778137680),m=e(7592559649),_=e(1345902898),h=e(5795074931),d=e(5332875232),f=e(8802876335);const v="AWARENESS-MANAGER",u="AWARENESS-MANAGER-CHIME",g=`[${v}] unknown awareness subtype`,p=3e4,A=250,C=5e3,T=15,I=(0,a.Ay)("Query for awareness state from other users who are subscribed to the topic",async(b,k,B)=>{const W=k();if(!(0,f.ON)(W))return;const K=(0,h.WR)(W),H={channel:B,type:"awareness",subtype:_.Pz.QUERY,user:K};try{b((0,s.tN)(H))}catch(z){(0,c.Ay)({getState:k}).warn("Failed to send awareness query: ",z)}});I.meta={name:"createThunk",key:"createThunkmaybeSendAwarenessQuery",description:"Query for awareness state from other users who are subscribed to the topic"};const M=(0,a.Ay)("Send awareness state to other users who are subscribed to the topic",async(b,k,B)=>{const W=k();if(!(0,f.ON)(W))return;const K=(0,h.WR)(W),H=(0,m.fL)(W,B,K),z={channel:B,type:"awareness",subtype:_.Pz.BROADCAST,user:K,awareness_state:H};try{b((0,s.tN)(z))}catch(Q){(0,c.Ay)({getState:k}).warn("Failed to send awareness query: ",Q)}});M.meta={name:"createThunk",key:"createThunkmaybeSendCurrentAwarenessState",description:"Send awareness state to other users who are subscribed to the topic"};const D=(0,a.Ay)("Temporarily subscribe to a topic for updates",(b,k,B)=>{const W=k();if((0,f.ON)(W))try{b((0,s.tN)({channel_id:B,type:"temp_channel_sub"}))}catch(K){(0,c.Ay)({getState:k}).warn("Failed to subscribe to awareness topic: ",K)}});D.meta={name:"createThunk",key:"createThunksubscribeToAwarenessTopic",description:"Temporarily subscribe to a topic for updates"};const O=(0,a.Ay)("Temporarily unsubscribe from topic updates",(b,k,B)=>{const W=k();if((0,f.ON)(W))try{b((0,s.tN)({channel_id:B,type:"temp_channel_unsub"}))}catch(K){(0,c.Ay)({getState:k}).warn("Failed to unsubscribe from awareness topic: ",K)}});O.meta={name:"createThunk",key:"createThunkunsubscribeFromAwarenessTopic",description:"Temporarily unsubscribe from topic updates"};const S=(0,a.Ay)("Alert other users who are subscribed to the topic that a subscriber has left",async(b,k,B)=>{const W=k();if(!(0,f.ON)(W))return;const K=(0,h.WR)(W),H={channel:B,type:"awareness",subtype:_.Pz.CLOSE,user:K};try{b((0,s.tN)(H))}catch(z){(0,c.Ay)({getState:k}).warn("Failed to send awareness query: ",z)}});S.meta={name:"createThunk",key:"createThunkmaybeSendCloseState",description:"Alert other users who are subscribed to the topic that a subscriber has left"};class R{maybeSendCurrentAwarenessState(k){const B=(0,i.oK)(this.teamId);return B?(B.dispatch(M(k)),!0):!1}maybeSendAwarenessQuery(k){const B=(0,i.oK)(this.teamId);return B?(B.dispatch(I(k)),!0):!1}maybeSendAwarenessCloseState(k){const B=(0,i.oK)(this.teamId);return B?(B.dispatch(S(k)),!0):!1}constructor({teamId:k}){this.onShutdownDataChannelSubscriber=()=>{},this.teamId=k}}E(R,"RtmBroadcaster");class U{onDisconnectDataChannel(){var k;(k=this.audioVideoFacade)===null||k===void 0||k.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),this.connected=!1}onConnectDatachannel(k){this.audioVideoFacade=k,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),this.connected=!0,(0,c.Wo)().warn(u,`broadcaster connected ${this.peerId}`),this.maybeSendAwarenessQuery(this.topicId)}onInitializeDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(k){}maybeSendCurrentAwarenessState(k){var B;if(!this.connected)return(0,c.Wo)().info(u,`${this.connected} ${k} Can't send yet, not connected`),!1;const W=(0,i.oK)(this.teamId);if(!W)return(0,c.Wo)().warn(u,`${this.connected} ${k} Can't find teamstore for ${this.teamId}, not sending awareness state`),!1;const K=W.getState(),H=(0,h.WR)(K);W.dispatch((0,l.c6)({topicId:k,userId:H}));const z=(0,d.pL)(K),q=(0,m.fL)(K,k,H,z?"self":void 0).map(le=>new n.Y.AwarenessPayload({fieldName:le.field_name,fieldValue:le.field_value,...this.isHuddlesAwarenessTimestampEnabled&&!!le.field_timestamp_ms&&{fieldTimestampMs:le.field_timestamp_ms}})),$=new n.Y.AwarenessBroadcast({channel:k,user:(0,h.WR)(W.getState()),awarenessState:q});return(B=this.audioVideoFacade)===null||B===void 0||B.realtimeSendDataMessage(this.dataChannelTopic,n.Y.encode(new n.Y({awarenessBroadcast:$})).finish()),!0}maybeSendAwarenessQuery(k){var B;if(!this.connected)return(0,c.Wo)().info(u,`${this.connected} ${k} Can't send yet, not connected`),!1;(0,c.Wo)().warn(u,`${this.connected} ${k} Sending awareness query`);const W=(0,i.oK)(this.teamId);if(!W)return(0,c.Wo)().warn(u,`${this.connected} ${k} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const K=new n.Y.AwarenessQuery({channel:k,user:(0,h.WR)(W.getState())});return(B=this.audioVideoFacade)===null||B===void 0||B.realtimeSendDataMessage(this.dataChannelTopic,n.Y.encode(new n.Y({awarenessQuery:K})).finish()),!0}maybeSendAwarenessCloseState(k){var B;if(!this.connected)return(0,c.Wo)().info(u,`${this.connected} ${k} Can't send yet, not connected`),!1;(0,c.Wo)().warn(u,`${this.connected} ${k} Sending awareness query`);const W=(0,i.oK)(this.teamId);if(!W)return(0,c.Wo)().warn(u,`${this.connected} ${k} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const K=new n.Y.AwarenessClose({channel:k,user:(0,h.WR)(W.getState())});return(B=this.audioVideoFacade)===null||B===void 0||B.realtimeSendDataMessage(this.dataChannelTopic,n.Y.encode(new n.Y({awarenessClose:K})).finish()),!0}constructor({teamId:k,peerId:B,topicId:W,isHuddlesAwarenessTimestampEnabled:K}){this.dataChannelTopic="awareness-sync-channel",this.isHuddlesAwarenessTimestampEnabled=!1,this.onShutdownDataChannelSubscriber=()=>{this.maybeSendAwarenessCloseState(this.topicId),this.connected=!1},this.teamId=k,this.peerId=B,this.connected=!1,this.topicId=W,this.isHuddlesAwarenessTimestampEnabled=!!K}}E(U,"ChimeChannelBroadcaster");class P{maybeTTL(){[...new Set(this.topicToTeamMap.values())].forEach(B=>{(0,c.Wo)().debug(v,`Running TTL for ${B}`);const W=(0,i.oK)(B);W&&W.dispatch((0,l._y)())}),this.watchedTopics.size===0&&((0,c.Wo)().info(v,"Stopping the TTL timer, nothing to watch"),clearInterval(this.periodicTTLId),this.periodicTTLId=null)}broadcastChanges(){if(Date.now()-this.lastDirtyBroadcastTime<500)return;const k=(0,r.A)(T,-.25,.25);this.dirtyTopics.forEach(B=>{(0,t.A)(()=>{const W=this.dataChannels.get(B);W&&W.maybeSendCurrentAwarenessState(B)&&this.dirtyTopics.delete(B)},k)}),this.lastDirtyBroadcastTime=Date.now(),this.watchedTopics.size===0&&((0,c.Wo)().info(v,"Stopping the dirty broadcast timer, nothing to watch"),clearInterval(this.dirtyBroadcastTimeoutId),this.dirtyBroadcastTimeoutId=null)}broadcastPerodicallyToWatchedTopics(){this.watchedTopics.forEach(k=>{const B=this.dataChannels.get(k);B&&B.maybeSendCurrentAwarenessState(k)&&this.dirtyTopics.delete(k)}),this.watchedTopics.size===0&&((0,c.Wo)().info(v,"Stopping the periodic broadcast timer, nothing to watch"),clearInterval(this.perodicBroadcastTimeoutId),this.perodicBroadcastTimeoutId=null)}query(){Date.now()-this.lastQueryTime<15e3||(this.watchedTopics.forEach(k=>{if(this.topicToTeamMap.get(k)){const W=this.dataChannels.get(k);W&&W.maybeSendAwarenessQuery(k)&&this.dirtyTopics.delete(k)}}),this.broadcastChanges(),this.lastQueryTime=Date.now())}markTopicChanged(k){if(!this.watchedTopics.has(k)){(0,c.Wo)().info(v,`Ignoring topic change for unwatched topic ${k}`);return}this.dirtyTopics.add(k),this.dirtyBroadcastTimeoutId||((0,c.Wo)().info(v,"Starting the dirty broadcast timer"),this.dirtyBroadcastTimeoutId=setInterval(this.broadcastChanges.bind(this),A)),this.perodicBroadcastTimeoutId||((0,c.Wo)().info(v,"Starting the periodic broadcast timer"),this.perodicBroadcastTimeoutId=setInterval(this.broadcastPerodicallyToWatchedTopics.bind(this),p)),this.periodicTTLId||((0,c.Wo)().info(v,"Starting the TTL timer"),this.periodicTTLId=setInterval(this.maybeTTL.bind(this),C))}removeTopicId(k){this.dirtyTopics.delete(k),this.watchedTopics.delete(k)}watch(k,B,W){this.watchedTopics.add(B),this.topicToTeamMap.set(B,k),this.dataChannels.set(B,W),this.markTopicChanged(B),this.query()}unwatch(k){this.broadcastChanges(),this.removeTopicId(k)}unwatchAll(){if(this.watchedTopics.size){const k=[...this.watchedTopics].join(" ");(0,c.Wo)().warn(v,`Clearing unexpected remaining topics: ${k}`),this.broadcastChanges(),this.watchedTopics.clear()}this.dataChannels.clear()}constructor(){this.dirtyTopics=new Set,this.watchedTopics=new Set,this.topicToTeamMap=new Map,this.dataChannels=new Map,this.lastDirtyBroadcastTime=0,this.lastQueryTime=0}}E(P,"AwarenessManager");const L=new P;class F{onConnectDatachannel(k){this.audioVideoFacade=k,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback.bind(this)),(0,c.Wo)().warn(u,"listener connected")}onDisconnectDataChannel(){}onInitializeDataChannelSubscriber(){}onShutdownDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(k){let B;try{B=n.Y.decode(k.data)}catch(W){(0,c.Wo)().debug(u,`Peer Message failed during decode, ignoring peer message.
				| Error: ${W}
				| Data Sender Attendee ID: ${k.senderAttendeeId}
				| Data Sender External Attendee ID: ${k.senderExternalUserId}
				| Topic: ${k.topic}`);return}if(B.awarenessQuery&&B.awarenessQuery.channel)L.markTopicChanged(B.awarenessQuery.channel);else if(B.awarenessBroadcast){const W=(0,i.oK)(this.teamId),K=(0,d.pL)(W.getState()),H=B.awarenessBroadcast.user,z=B.awarenessBroadcast.channel,Q=B.awarenessBroadcast.awarenessState;if(H&&z&&Q){const q=Q.map(le=>{var te,ce;return{field_name:(te=le.fieldName)!==null&&te!==void 0?te:"unknown_field",field_value:(ce=le.fieldValue)!==null&&ce!==void 0?ce:"unknown_value",...!!le.fieldTimestampMs&&{field_timestamp_ms:le.fieldTimestampMs}}}),$={user:H,channel:z,awarenessEntries:q,...K&&{uniqueId:k.senderAttendeeId}};W&&W.dispatch((0,l.zZ)($))}}else if(B.awarenessClose){const W=(0,i.oK)(this.teamId),K=(0,d.pL)(W.getState()),H=B.awarenessClose.user,z=B.awarenessClose.channel;H&&z&&W&&W.dispatch((0,l.DQ)({topicId:z,userId:H,...K&&{uniqueId:k.senderAttendeeId}}))}}constructor({teamId:k}){this.dataChannelTopic="awareness-sync-channel",this.teamId=k}}E(F,"ChimeChannelListener");const x=E((b,k,B)=>{const W=B(),K=(0,h.WR)(W),H=b.awareness_state;switch(b.subtype){case"query":K!==b.user&&L.markTopicChanged(b.channel);break;case"broadcast":if(H&&K!==b.user){const z={user:b.user,channel:b.channel,awarenessEntries:H};k((0,l.zZ)(z))}break;case"close":K!==b.user&&k((0,l.DQ)({topicId:b.channel,userId:b.user}));break;default:throw new Error(g)}},"onAwarenessEvent");(0,o.d1)("awareness",x)},9781145568:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(1407713935),n=e(395285811),o=e(8668318456),s=e(56548687),c=e(6304789565),r=e(9101533895),a=e(7053828403);const i=(0,c.Ay)("Clogs a message sent or resent",function(m,_){let{channelId:h,msgTs:d,resent:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v=_(),u=h?(0,r.OL)(v,h):null;let g={message_timestamp:d,channel_id:h,channel_type:h?h.charAt(0):null,channel_privacy_type:u?(0,t.K5)(u):null,is_file_channel:u?(0,n.jT)(u):null};const p=(0,a.ZR)(v);p!==null&&(g={...g,channel_session_id:p});const A=(0,s.e)({state:v}),C=f?o.EventId.MSG_RESENT:o.EventId.MSG_SENT;A.track(C,g)});i.meta={name:"createThunk",key:"createThunkclogMessageSent",description:"Clogs a message sent or resent"};const l=i},4960345891:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3297051565),n=e.n(t),o=e(4711108074),s=e.n(o),c=e(6943610832),r=e(5143598415),a=e(6304789565);const i=(0,a.Ay)("Converts message ops array to rich text blocks prepared to be sent as a message",function(m,_){let{msgOps:h,channelId:d,inThread:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v=_();if(!h||!h.length)return;const{processedDelta:u}=(0,c.A)(v,{channelId:d,inThread:f,delta:new(s())(h)})||{},g=(0,r.A)({delta:u,state:v});return g&&g.blocks});i.meta={name:"createThunk",key:"createThunkconverMsgOpsToRichTextMessage",description:"Converts message ops array to rich text blocks prepared to be sent as a message"},i.propTypes={msgOps:n().array,channelId:n().string,inThread:n().bool};const l=i},5904726069:(N,y,e)=>{"use strict";e.d(y,{r:()=>_});var t=e(3134334389),n=e(3255440563),o=e(4540171876),s=e(4275787242),c=e(9236644324),r=e(6471059816),a=e(6304789565),i=e(5332875232),l=e(5060694341);const m=new r.Ay("huddles"),_=(0,a.Ay)("Copies Huddle link by Channel Id",(h,d,f,v)=>{let{channelId:u,suppressToast:g}=f;const{windowRef:p}=v(n.C),A=(0,i.Eo)(d());if(u&&(h((0,o.TE)({reason:"copy",channelId:u})).then(C=>{(0,c.x3)(C.link,p.deref())}),A&&!g)){const C={name:"check"};h((0,l.M)({element:t.createElement(s.A,{svgIconProps:C,duration:3e3},m.rt("Huddle link copied"))}))}});_.meta={name:"createThunk",key:"createThunkcopyHuddleLinkByChannelId",description:"Copies Huddle link by Channel Id"}},3128675849:(N,y,e)=>{"use strict";e.d(y,{Q:()=>me});var t=e(362134992),n=e(7530630315),o=e(1545824888),s=e(337319621),c=e(6304789565),r=e(9113979368),a=e(8840779375),i=e(3106223098),l=e(4446301238),m=e(3929724715),_=e(1407713935),h=e(6007206761),d=e(395285811),f=e(6495946979),v=e(7486305635),u=e(4660031767),g=e(212572833),p=e(4191588167),A=e(7438375976),C=e(8455301571),T=e(4588548461),I=e(7910147864),M=e(6613382951),D=e(4425457544),O=e(9101533895),S=e(9746734072),R=e(2101927269),U=e(5467378328),P=e(9530687876);const L=(0,c.Ay)(P.rd.BULK_UPDATE_CHANNELS,function(Ae,ye){let{channels:oe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ee=ye();if(!oe||!oe.length||!(0,S.A)(oe))return;const V=(0,R.A)(oe,"id"),w=[],Y=!1;V.length&&(V.forEach(G=>{if(G.id){const Z=(0,O.OL)(ee,G.id,Y);w.push({...Z,...G,id:G.id})}}),Ae((0,U.U)({channels:w,reason:P.rd.BULK_UPDATE_CHANNELS})))});L.meta={name:"createThunk",key:"createThunkbulkUpdateChannels",description:P.rd.BULK_UPDATE_CHANNELS};var F=e(4368281601),x=e(8802876335),b=e(157328471),k=e(8571983633),B=e(4013618389),W=e(3683482182);const K=(0,c.Ay)("Update the unread counts in response to client.counts",(Ae,ye,oe)=>{if(!oe)return;const ee=ye(),V={},w={},Y={},G=(0,i.Gn)(ee);oe.forEach(Z=>{const{id:se,unread_cnt:ae,unread_highlight_cnt:re}=Z,pe=G&&!(0,k.A)(Z==null?void 0:Z.vip_count)?Z==null?void 0:Z.vip_count:void 0;V[se]={unreadCnt:ae||0,unreadHighlightCnt:re||0,unreadVIPMentionCnt:G?pe||0:void 0};const de=(0,O.OL)(ee,se);if(!ae&&!re||!(0,B.F)(ee,de))return;(0,v.d$)(ee,de)&&(Y[se]=!0);const ie=(0,B.v)(ee,de)?ae:re,he=(0,C.tp)(ee,se),ve=(0,x.UJ)(ee);he!=null&&he.reachedEnd&&ve?w[se]=(0,W.Lh)(ee,se):w[se]={unreadCnt:ae,unreadHighlightCnt:ie||re,unreadVIPMentionCnt:G?pe:void 0}}),Ae((0,b.SO)({initialUnreads:V,countsPerChannel:w,channelsToSuppress:Y}))});K.meta={name:"createThunk",key:"createThunkinitializeUnreadCountsFromChannels",description:"Update the unread counts in response to client.counts"};const H="COUNTS",z=(0,c.Ay)("Apply counts to channel objects and update stores",async function(Ae,ye){let{counts:oe=[]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=ye();const V=[],w=[],Y={},G=[],Z=(0,x.UJ)(ee),se=(0,x.yf)(ee),ae=(0,i.Gn)(ee),re=(0,g.t)(ee),pe=oe.map(ge=>({channelId:ge.id,ts:ge.last_read})),de=oe.filter(ge=>{let{latest:ke}=ge;return ke!==void 0});let ie=oe;re?ie=de:ie.length!==de.length&&(0,s.Ay)({state:ee}).error(H,`Unexpectedly received ${ie.length-de.length} channels with undefined latest values`),(0,s.Ay)({state:ee}).info(H,`Applying counts to channels. wasLastConnectFast: ${se} isConnected: ${Z} applying: ${ie.length} out of total: ${oe.length}`);const he=ie.filter(ge=>{let{has_unreads:ke,mention_count:Ne}=ge;return ke||Ne}).filter(function(){let{id:ge}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(0,O.hh)(ee,ge)}).map(function(){let{id:ge}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ge});he.length&&(await Ae((0,l.pX)({ids:he,reason:"apply-counts-to-channels/ensure-channels",callSource:l.aI.ApplyCounts})),ee=ye());const ve=(0,C.jg)(ee);ie.forEach(ge=>{const ke=(0,O.OL)(ee,ge.id,!1);if(!ke||(0,_.QR)(ke)){if(!ge.has_unreads&&!ge.mention_count)return;(0,s.Ay)({state:ee}).warn(H,{id:ge.id,has_unreads:ge.has_unreads,nonExistent:(0,_.QR)(ke)},"applyCountsToChannels_missing_channel");return}if((0,h.F)(ke)||(0,_.rW)(ke)&&!(0,f.bl)(ke))return;if((0,d.jT)(ke)){var Ne;Ae((0,F.k)({channelId:ke.id,mentionCount:(Ne=ge.mention_count)!==null&&Ne!==void 0?Ne:0,shouldSuppress:(0,v.d$)(ee,ke)}));return}const We={},be=ge.has_unreads?1:0;let Ke=0,Fe=0,J=0,ne=!1;(0,_.LI)(ke)||(0,_.LI)(ge)||(0,_.yz)(ke)||(0,_.yz)(ge)?Ke=ge.mention_count||be:(ne=!0,Ke=be,Fe=ge.mention_count||0,J=(ge==null?void 0:ge.vip_count)||0),!Ke&&Fe&&((0,s.Ay)({state:ee}).warn(H,`Ignoring positive mention_count_display because has_unreads == false for ${ke.id}`,{subtype:"ignoring_positive_mention_count_display"}),Fe=0),Y[ke.id]={unreadCnt:Ke,unreadHighlightCnt:Fe,unreadVIPMentionCnt:ae?J:void 0},Ke!==(0,m.$M)(ke)&&(We.unread_cnt=Ke),ae&&J!==(0,m.OJ)(ke)&&(We.vip_count=J),ne&&Fe!==(0,m.BP)(ke)&&(We.unread_highlight_cnt=Fe),ge.updated&&ge.history_invalid&&(w.push({channelId:ke.id,historyInvalidTs:ge.history_invalid,updatedTs:ge.updated}),ve!=null&&ve[ke.id]&&Ae((0,p.A)({channelId:ke.id,newHistoryInvalidTs:ge.history_invalid,newUpdatedTs:ge.updated}))),(0,r.A)(We)||(We.id=ke.id,V.push(We))}),(0,r.A)(V)||Ae(L({channels:V})),(0,r.A)(w)||Ae((0,D.Lv)(w)),Ae((0,M.M)(ie)),Ae((0,A.f)(pe)),(0,I.Tw)(ee)||Ae((0,T.T)(pe)),Ae((0,b.iz)(Y)),Ae(K((0,a.A)(Y,(ge,ke)=>{let{unreadCnt:Ne,unreadHighlightCnt:We,unreadVIPMentionCnt:Oe}=ge;return{id:ke,unread_cnt:Ne,unread_highlight_cnt:We,vip_count:ae?Oe:void 0}}))),G.forEach(ge=>{Ae((0,u.T)({channelId:ge}));const ke=(0,O.OL)(ye(),ge,!1);if(ke){const Ne={unreadCnt:(0,m.$M)(ke),unreadHighlightCnt:(0,m.BP)(ke),unreadVIPMentionCnt:(0,m.OJ)(ke)};(0,s.Ay)({state:ee}).info(H,`Recounted ${ge}; initial: ${JSON.stringify(Y[ge])}; after: ${JSON.stringify(Ne)}`)}})});z.meta={name:"createThunk",key:"createThunkapplyCountsToChannels",description:"Apply counts to channel objects and update stores"};var Q=e(5795074931),q=e(9665027958),$=e(1725276404),le=e(1827030018),te=e(9132245692);const ce="COUNTS",me=(0,c.Ay)("Apply counts to channels and threads",function(Ae,ye){let{channels:oe,ims:ee,mpims:V,threads:w,alerts:Y,saved:G,fileChannels:Z,channelBadges:se,countsLastFetched:ae,todos:re}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const pe=ye();if(!(0,Q.TZ)(pe))return o.S.resolve();Ae((0,b.iz)({})),Ae((0,te.y)(Y||{})),Ae((0,b.t)(ae||void 0));const de=_e(Z),ie=(0,t.A)((0,n.A)(oe||[],ee||[],V||[],de||[]));return Ae(z({counts:ie})).then(()=>{const he=(0,s.Ay)({getState:ye});w&&(he.info(ce,`Threads has_unreads:${w.has_unreads} mention_count:${w.mention_count}`),Ae((0,le._)({threadsHasUnreads:!!w.has_unreads,threadsUnreadCountByChannel:w.unread_count_by_channel,threadsMentionCountByChannel:w.mention_count_by_channel||{}}))),G&&Ae((0,q.yO)(G)),re&&Ae((0,$.yO)(re)),se&&Ae((0,b.$m)(se)),he.info(ce,"Completed counts processing")})});me.meta={name:"createThunk",key:"createThunkapplyCountsToChannelsAndThreads",description:"Apply counts to channels and threads"};function _e(Ae){if(!Ae||!Ae.quip)return[];const ye=Ae.quip.mention_count_by_channel;return Object.keys(ye).map(V=>({id:V,mention_count:ye[V],has_unreads:!0}))}E(_e,"transformFileChannels")},212572833:(N,y,e)=>{"use strict";e.d(y,{t:()=>n});var t=e(4761125736);function n(o){return(0,t._Z)(o,"client_counts_omit_unchanged_fe")==="on"}E(n,"isOmitUnchangedClientCountsEnabled")},7547876038:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3297051565),n=e.n(t),o=e(1545824888),s=e(6439846314),c=e(5257368278);const r=(0,c.A)("API call for slack-action:// URL",(d,f,v)=>{let{botId:u,payload:g}=v;return d((0,s.apiCall)({method:"chat.action",args:{bot:u,payload:decodeURIComponent(g)}}))});r.meta={name:"createFetcher",key:"createFetcherpostChatAction",description:"API call for slack-action:// URL"},r.propTypes={botId:n().string.isRequired,payload:n().string.isRequired};const a=r;var i=e(7582939986),l=e(8707546752),m=e(6304789565);const _=(0,m.Ay)("Execute slack-action:// URL",(d,f,v)=>{if((0,l.A)(v)){const u=v.replace(i.Rw,"").split("/"),g=u.shift(),p=u.join("/");return d(a({botId:g,payload:p}))}return o.K.reject(new Error("Not a Slack action URL"))});_.meta={name:"createThunk",key:"createThunkdoSlackAction",description:"Execute slack-action:// URL"},_.propTypes=n().string.isRequired;const h=_},9456841042:(N,y,e)=>{"use strict";e.d(y,{b:()=>_});var t=e(4427921758),n=e(5026370001),o=e(4117634716),s=e(8822892075),c=e(6304789565),r=e(5795074931),a=e(3255440563),i=e(3052395304),l=e(7434063642);const m=(0,c.Ay)("Opens member profile in the huddle window flexpane if the window is open",(h,d,f,v)=>{let{memberId:u}=f;const{windowRef:g,windowId:p}=v(a.C);return(0,i.u)(p)&&!!g.deref()?(h((0,l.Zx)({userId:u})),!0):!1});m.meta={name:"createThunk",key:"createThunkopenProfileInHuddleWindow",description:"Opens member profile in the huddle window flexpane if the window is open"};const _=(0,c.Ay)("Show the member profile",async function(h,d){let{memberId:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3?arguments[3]:void 0;const u=d(),{channelId:g}=v(t.j),p=await h((0,n.I)()),A=f||(0,r.WR)(u);if(!h(m({memberId:A})))return h(p&&g?(0,o.o)((0,s.sL)((0,s.Fo)({memberId:A}),g,p.id)):(0,o.o)((0,s.Fo)({memberId:A})))});_.meta={name:"createThunk",key:"createThunkshowMemberProfile",description:"Show the member profile"}},6652001255:(N,y,e)=>{"use strict";e.d(y,{q:()=>s});var t=e(4117634716),n=e(8822892075),o=e(6304789565);const s=(0,o.Ay)("Opens the user group details flexpane",(c,r,a)=>{let{groupId:i}=a;c((0,t.o)((0,n.cu)(i)))});s.meta={name:"createThunk",key:"createThunkshowUserGroupDetails",description:"Opens the user group details flexpane"}},4191588167:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(337319621),n=e(6304789565),o=e(8847766420),s=e(9536404279),c=e(4350638406),r=e(8455301571),a=e(4425457544);const i=(0,n.Ay)("Possibly purge or invalidate channel history .",(m,_,h)=>{let{channelId:d,newHistoryInvalidTs:f,newUpdatedTs:v}=h;const u=_(),{historyInvalidTs:g,updatedTs:p}=(0,a.Dk)(u,d);f!=="0000000000.000000"&&(!g||f>g)?((0,t.Ay)({state:u}).info("COUNTS",`purging cached history for channel ${d} since counts history_invalid ${f} > cached historyInvalidTs ${g}`),m((0,s.bz)({channelId:d,includeThreads:!0}))):v!=="0000000000.000000"&&(!p||v>p)&&((0,t.Ay)({state:u}).info("COUNTS",`invalidating history for channel ${d} since counts updated ${v} > cached updatedTs ${p}`),(0,c.D1)((0,o.ZT)(u),d,(0,r.m3)(u,d)))});i.meta={name:"createThunk",key:"createThunkmaybePurgeChannelHistoryAfterMutations",description:"Possibly purge or invalidate channel history ."};const l=i},9609912577:(N,y,e)=>{"use strict";e.d(y,{A:()=>d});var t=e(3134334389),n=e(9364044512),o=e(6839188756),s=e(8668318456),c=e(56548687),r=e(7679173189),a=e(6304789565),i=e(8847766420),l=e(5795074931),m=e(2375333597),_=e(1670069836);const h=(0,a.Ay)("Opens the apps browser modal",function(f,v){let{initialTab:u,emojiNameSuggestion:g,elementName:p,emojiUrl:A,megaphoneEventOnClose:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=v(),I=(0,i.JY)(T);let M;I&&(0,r.JV)(I)?M=(0,_.H2)(T):(0,l.u8)(T)&&(M=(0,o.mf)((0,_.H7)(T))),(0,c.e)({getState:v}).track(s.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:p}}}}),f((0,m.q)({element:t.createElement(n.A,{showEmojiPacks:!A,orgName:M,initialTab:u,emojiNameSuggestion:g,emojiUrl:A,megaphoneEventOnClose:C}),isStackable:!0}))});h.meta={name:"createThunk",key:"createThunkopenAddCustomEmojiModal",description:"Opens the apps browser modal"};const d=h},9640814771:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that opens the Auto Charge Trial Entry Modal");n.meta={name:"createAction",key:"createActionopenAutoChargeTrialEntryModalCircular",description:"Triggers a side-effect that opens the Auto Charge Trial Entry Modal"};const o=n},5367630355:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that opens the compare plans modal in client");n.meta={name:"createAction",key:"createActionopenComparePlansModalCircular",description:"Triggers a side-effect that opens the compare plans modal in client"};const o=n},9490897575:(N,y,e)=>{"use strict";e.d(y,{U:()=>D});var t=e(8950789382),n=e(9524650809),o=e(352142497),s=e(5219786273),c=e(6304789565),r=e(2446098127),a=e(9602395280),i=e(1100145935),l=e(7765212398),m=e(5522343655),_=e(3193155968);const h=(0,c.Ay)("Opens the conversation create modal",async function(O,S){let{draftId:R,shouldOpenInTile:U=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const P=S();let L=R;const F=L?(0,l.YI)(P,L):void 0;if(!(0,s.W)(L)||!F)try{L=await O((0,m.A)({client_draft_id:L??(0,n.A)(o.D.ConversationCreate)})),O((0,i.OA)({draftId:L,metadata:{selectedPrivate:!0}}))}catch{return}if(U){const x={[_.mq.Primary]:{id:L,viewType:o.D.ConversationCreate,params:{draftId:L}}};O((0,a.A)({viewSet:x,shouldShowSearch:!1}));return}O((0,r.m)({draftId:L}))});h.meta={name:"createThunk",key:"createThunkopenConversationCreateFlow",description:"Opens the conversation create modal"};var d=e(4117634716),f=e(8822892075),v=e(6766028902),u=e(8668318456),g=e(56548687),p=e(337319621),A=e(7097705154),C=e(9879145827),T=e(5192633986),I=e(7429662208),M=e(8471026781);const D=(0,c.Ay)("Opens the composer page",async(O,S,R)=>{let{draftId:U,fromKeyboardShortcut:P,origin:L,shouldOpenInTile:F=!1}=R;var x,b;const k=S(),B=(0,p.Ay)({state:k,label:"COMPOSER"});if((0,A.H)(k)&&!U){O(h({shouldOpenInTile:F}));return}const W=(0,I.e6)(k);if(((x=(0,I.F8)(k,{tab:W,container:_.mq.Primary}))===null||x===void 0?void 0:x.id)==="Pcomposer"&&!U){const q=(0,M.A)(k),$=(0,l.YI)(k,q);if($&&(0,v.A)(k,$)){B.info(`Composer page is already open with an empty draft ${q}`);return}}let z;if(U)z=U;else try{z=await O((0,m.A)()),B.info(`Creating a new composer draft ${z}`),P&&(0,g.e)({state:k}).track(u.EventId.COMPOSE_FLOW,{draft_type:"composer",contexts:{ui_context:{action:u.UiAction.KEYDOWN,step:u.UiStep.COMPOSE_FLOW_CREATE}}})}catch{return}const Q=(0,T.$)(k);if(L?O((0,C.j)(L)):Q&&O((0,C.j)(null)),B.info(`Opening the composer page to the following draft ${z}`),F){O((0,t.s)({viewId:"Pcomposer",params:{draftId:z}}));return}(b=O((0,d.o)((0,f.D0)(z))))===null||b===void 0||b.catch(q=>{B.error("Could not open composer page",q)})});D.meta={name:"createThunk",key:"createThunkopenComposerPage",description:"Opens the composer page"}},2446098127:(N,y,e)=>{"use strict";e.d(y,{m:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that opens the conversation creation modal in client");n.meta={name:"createAction",key:"createActionopenConversationCreateModalCircular",description:"Triggers a side-effect that opens the conversation creation modal in client"}},9602395280:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(8822892075),n=e(3110884894),o=e(82287009),s=e(485355941),c=e(6304789565),r=e(3193155968);const a=(0,c.Ay)("Opens a channel in a new window",async(l,m,_)=>{let{viewSet:h,shouldNavigateInContext:d,shouldShowSearch:f,containerOrigin:v,initialColumnMode:u,clogParams:g,childWindowDimensions:p}=_;const A=m(),C=h[r.mq.Primary];if(C&&(0,s.n3)(A)){var T;if((C.id==="thread"||C.id==="comment_thread")&&(!((T=C.params)===null||T===void 0)&&T.threadId)){const{channelId:I}=(0,n.Sb)(C.params.threadId),M=C.params.entityId,D=C.id==="comment_thread"?M:I;l((0,o.Bb)({viewSet:{[r.mq.Primary]:(0,t.pr)(D??C.params.entityId),[r.mq.Secondary]:{id:C.id,params:C.params,viewType:C.viewType}},shouldNavigateInContext:d,containerOrigin:v,initialColumnMode:u,clogParams:g}))}else l((0,o.Bb)({viewSet:h,shouldNavigateInContext:d,shouldShowSearch:f,clogParams:g,childWindowDimensions:p}))}});a.meta={name:"createThunk",key:"createThunkopenInDetachedWindow",description:"Opens a channel in a new window"};const i=a},9786721596:(N,y,e)=>{"use strict";e.d(y,{U:()=>C});var t=e(6916052175),n=e(5624319675),o=e(4427921758),s=e(5026370001),c=e(4117634716),r=e(8822892075),a=e(3244118357),i=e(6304789565),l=e(8847766420),m=e(9604647993),_=e(195568024),h=e(2891736215),d=e(6952523491),f=e(2762206868),v=e(8677230210),u=e(613926746),g=e(4761125736),p=e(8276911661);const A=(0,i.Ay)("Shows message pane for bots",async function(T,I){let{memberId:M,serviceId:D,botProfile:O}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var S;const{member:R,bot:U,memberIsHuman:P}=(0,v.Od)(I(),{userId:M,botId:D,botProfile:O}),L=(0,n.mr)(I()),F=(0,d.J)(I()),x=(0,l.ZT)(I())||"",b=!P||D?(0,a.AW)({member:R||void 0,bot:U,botProfile:O,currentTeamId:x}):void 0,k=F?(0,f.sO)(I(),{appId:U==null?void 0:U.app_id,memberId:M,serviceId:D}):(0,h.G2)(I(),{serviceId:D,homeWorkspaceId:b,memberId:M,appId:U==null?void 0:U.app_id});var B;const W=(0,p.nv)(I(),M||((B=k==null||(S=k.app_user)===null||S===void 0?void 0:S.id)!==null&&B!==void 0?B:void 0)),K=(0,t.u)(W);if(L&&K){const{id:z}=await T((0,u.Z)({memberId:W.id,shouldNavigateToChannel:!1}));return T((0,_.T)({channelId:z,isSplitView:!1}))}var H;return T((0,u.Z)({memberId:(H=W==null?void 0:W.id)!==null&&H!==void 0?H:void 0}))});A.meta={name:"createThunk",key:"createThunkopenMessagesForBot",description:"Shows message pane for bots"};const C=(0,i.Ay)("Shows the flexpane profile for humans or messages for bots",async(T,I,M,D)=>{let{memberId:O,serviceId:S,botProfile:R,triggerId:U}=M;const{channelId:P}=D(o.j),L=await T((0,s.I)()),F=I(),x=(0,g._Z)(F,"workflow_sender_opens_details")==="on",b=(0,g._Z)(F,"app_flexpane")==="on";return O&&(0,v.wC)(I(),O)?T(L?(0,c.o)((0,r.sL)((0,r.Fo)({memberId:O}),P,L.id)):(0,c.o)((0,r.Fo)({memberId:O}))):T(b&&O&&S&&!U?(0,c.o)((0,r.tp)({appId:R==null?void 0:R.app_id,serviceId:S})):x&&U?(0,m.u)({shortcutInfo:{triggerId:U},hermesLinkTriggerUIContext:{location:"flexpane",channelId:P}}):A({memberId:O,serviceId:S,botProfile:R}))});C.meta={name:"createThunk",key:"createThunkopenProfile",description:"Shows the flexpane profile for humans or messages for bots"}},5644445851:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that opens the remove member dialog");n.meta={name:"createAction",key:"createActionopenRemoveMemberDialogCircular",description:"Triggers a side-effect that opens the remove member dialog"};const o=n},2327059915:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that opens the ShareContactModal in client (noop)");n.meta={name:"createAction",key:"createActionopenShareContactModalCircular",description:"Triggers a side-effect that opens the ShareContactModal in client (noop)"};const o=n},4841770661:(N,y,e)=>{"use strict";e.d(y,{A:()=>u});var t=e(3134334389),n=e(6471059816),o=e(6084388622),s=e(3989454579),c=e(7138682671),r=e(8739505998),a=e(980293773);const i=new n.Ay("message"),l=E(g=>{let{url:p,text:A,onClose:C,updateSuppressLinkWarning:T}=g;const[I,M]=(0,t.useState)(!1),D=A.length>25?`${A.substr(0,25)}\u2026`:A,O=p.length>50?`${p.substr(0,50)}\u2026`:p,S=i.t("Double-check this link"),R=i.rt("The link <label></label> is taking you to another site: <url></url>. Are you sure you want to continue?",null,b=>{let{tag:k}=b;return k==="label"?t.createElement(r.A,{href:p,onClick:C},D):t.createElement(r.A,{href:p,onClick:C},O)}),U=i.t("Continue"),P=i.t("Don\u2019t show this again"),L=(0,t.useCallback)(b=>{M(b.target.checked)},[]),F=(0,t.useCallback)(()=>{I&&T(),C()},[C,I,T]),x=i.t("Cancel");return t.createElement(a.dW,{closeModal:C,isOpen:!0,centered:!0},t.createElement(a.rQ,null,t.createElement(a.Rc,{title:S})),t.createElement(a.$m,null,t.createElement(a.qf,null,t.createElement("p",{className:"break_word"},R),t.createElement("p",null,t.createElement(c.A,{text:P,type:"inline",cursor:"pointer",className:"normal"},t.createElement(s.A,{id:"suppress_link_warning",name:"suppress_link_warning",value:I.toString(),checked:!!I,onChange:L}))))),t.createElement(a.jl,null,t.createElement(a.ox,null,t.createElement(a.s_,{type:"outline","aria-label":x},x),t.createElement(o.Ay,{type:"danger",href:p,onClick:F},U))))},"SuspiciousLinkWarning");l.displayName="SuspiciousLinkWarning";const m=l;var _=e(6304789565),h=e(9003400431),d=e(2375333597),f=e(387484329);const v=(0,_.Ay)("Display a warning when clicking a suspicious link",(g,p,A)=>{let{text:C,url:T}=A;const I=t.createElement(m,{text:C,url:T,onClose:()=>{g((0,h.O)())},updateSuppressLinkWarning:()=>{g((0,f.AZ)({pref:"suppress_link_warning",value:!0}))}});g((0,d.q)({element:I}))});v.meta={name:"createThunk",key:"createThunkopenSuspiciousLinkDialog",description:"Display a warning when clicking a suspicious link"};const u=v},9604647993:(N,y,e)=>{"use strict";e.d(y,{u:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that opens the workflow details modal in client (noop)");n.meta={name:"createAction",key:"createActionopenWorkflowDetailsModalCircular",description:"Triggers a side-effect that opens the workflow details modal in client (noop)"}},8918640447:(N,y,e)=>{"use strict";e.d(y,{ET:()=>f,Fd:()=>u,Wb:()=>g,xz:()=>v});var t=e(5950652755),n=e(2028988448),o=e(7582939986),s=e(440999534),c=e(2141099977),r=e(337319621),a=e(6304789565),i=e(8847766420),l=e(8802876335);const m="PRESENCE-MANAGER",_={},h=E((A,C)=>{const T=(0,i.ZT)(C());if(!T)return;const I=Object.keys(_[T]),M=(0,r.Ay)({getState:C,label:m});M.debug(`Sending a 'presence_sub' event with the following ids: ${I}`),A((0,c.tN)({type:"presence_sub",ids:I})).catch(D=>{D.message!==s.qk&&M.error(new Error("Errored while sending 'presence_sub'"),{err:D,memberIds:I})})},"sendMessageEvent"),d=(0,t.A)(h,100,{leading:!1}),f=(0,a.Ay)('Send a "presence_sub" event with the list of members',(A,C)=>{if(!(0,l.ON)(C())){(0,r.Ay)({getState:C,label:m}).debug("The presence subscription changed while the WebSocket disconnected");return}d(A,C)});f.meta={name:"createThunk",key:"createThunksendPresenceSubEvent",description:'Send a "presence_sub" event with the list of members'};const v=(0,a.Ay)("Adds the member to the presence subscription or increments the associated count",(A,C,T)=>{if(!T||T===o.Q$)return;const I=(0,i.ZT)(C());if(I){if(_[I]||(_[I]={}),_[I][T]){(0,r.Ay)({getState:C,label:m}).debug(`Increasing the count for ${T} by 1`),_[I][T]+=1;return}(0,r.Ay)({getState:C}).debug(m,`Adding ${T} to the presence subscription`),_[I][T]=1,A(f())}});v.meta={name:"createThunk",key:"createThunkaddMemberToPresenceSubscription",description:"Adds the member to the presence subscription or increments the associated count"};const u=(0,a.Ay)("Removes the member from the presence subscription or decrements the associated count",(A,C,T)=>{var I;if(!T)return;const M=(0,i.ZT)(C());if(!M||!(!((I=_[M])===null||I===void 0)&&I[T]))return;const D=(0,r.Ay)({getState:C,label:m});if(_[M][T]>1){D.debug(`Decreasing count for "${T}" by 1`),_[M][T]-=1;return}D.debug(`Unsubscribing from "${T}"`),delete _[M][T],A(f())});u.meta={name:"createThunk",key:"createThunkremoveMemberFromPresenceSubscription",description:"Removes the member from the presence subscription or decrements the associated count"};const g=E(A=>_[A],"getPresenceSubscriptionByTeamId"),p={presenceSubscription:_,sendMessageEvent:h};(0,n.ul)("presenceManager",{getPresenceSubscriptionByTeamId:g})},5583430912:(N,y,e)=>{"use strict";e.d(y,{Ap:()=>s,Pv:()=>n,Ui:()=>o});var t=e(7223729463);const n=new t.a;function o(){return n.entries().filter(c=>c.value&&!c.value.isRejected()&&!c.value.isCancelled()).length}E(o,"getActiveCollabClientCount");const s=E(c=>{const r=n.get(c);return r!=null&&r.isFulfilled()?r.value():void 0},"getInitializedClient")},7260478587:(N,y,e)=>{"use strict";e.d(y,{AP:()=>d,Ai:()=>R,Eg:()=>T,Ex:()=>a,F$:()=>U,H6:()=>M,M:()=>O,QV:()=>C,SQ:()=>S,Uz:()=>k,cy:()=>l,ed:()=>D,hM:()=>i,jv:()=>h,nK:()=>A,rW:()=>b,sV:()=>f,uF:()=>u});var t=e(3385422400),n=e(7330763135),o=e(7729538251),s=e(6471059816),c=e(1670069836);const r=new s.Ay("slack_docs");var a;(function(B){B.FAQ="/faq",B.WEEKLY_RECAP="/weekly_recap",B.OVERVIEW="/overview",B.AGENDA="/agenda",B.BRAINSTORM="/brainstorm",B.TABLE="/table",B.OUTLINE="/outline",B.CANVAS_SUMMARY="/canvas_summary",B.CANVAS_ACTION_ITEMS="/canvas_action_items",B.CREATE="/create"})(a||(a={}));var i;(function(B){B.CREATE="create",B.REFINE="refine"})(i||(i={}));var l;(function(B){B.CREATION="creation",B.CREATION_FROM_EMPTY_DOC="creation_from_empty_doc",B.REFINEMENT="refinement"})(l||(l={}));const m=new Map([[a.AGENDA,i.CREATE],[a.BRAINSTORM,i.CREATE],[a.WEEKLY_RECAP,i.CREATE],[a.FAQ,i.CREATE],[a.OUTLINE,i.CREATE],[a.OVERVIEW,i.CREATE],[a.TABLE,i.CREATE],[a.CANVAS_ACTION_ITEMS,i.CREATE],[a.CANVAS_SUMMARY,i.CREATE]]),_=new Map([[i.CREATE,l.CREATION],[i.REFINE,l.REFINEMENT]]),h={name:"ai-sparkle",size:"20"},d=new Map([[a.AGENDA,{name:"calendar",size:"20"}],[a.BRAINSTORM,{name:"emoji-objects",size:"20"}],[a.CANVAS_ACTION_ITEMS,{name:"ai-check",size:"20"}],[a.CANVAS_SUMMARY,{name:"ai-summary",size:"20"}],[a.WEEKLY_RECAP,{name:"ai-summary",size:"20"}],[a.CREATE,{name:"sparkles",size:"20"}],[a.FAQ,{name:"book",size:"20"}],[a.OUTLINE,{name:"bulleted-list",size:"20"}],[a.OVERVIEW,{name:"ai-summary",size:"20"}],[a.TABLE,{name:"table",size:"20"}]]),f=E(B=>{switch(B){case a.AGENDA:return r.t("Draft a meeting agenda",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.BRAINSTORM:return r.t("Brainstorm ideas",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.CREATE:return r.t("Write with AI",{fallbackHash:"5a98372d1f7b397565f7cb33560b8abe99f7acdc"});case a.FAQ:return r.t("Create FAQs",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.OUTLINE:return r.t("Draft an outline",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.OVERVIEW:return r.t("Write a project overview",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.TABLE:return r.t("Create a table",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.WEEKLY_RECAP:return r.t("Recap my past week in Slack",{fallbackHash:"61aa9040844ff3e13a5ed3e6a14583f96ba4cada",fallbackHashNs:"assistant"});case a.CANVAS_ACTION_ITEMS:return r.t("Add action items");case a.CANVAS_SUMMARY:return r.t("Add a summary");default:return""}},"getSuggestionName"),v=new Set([a.CANVAS_ACTION_ITEMS,a.CANVAS_SUMMARY,a.WEEKLY_RECAP]),u=E(B=>v.has(B),"isAutoSubmitSuggestion"),g=new Set([a.AGENDA,a.BRAINSTORM,a.FAQ,a.OUTLINE,a.OVERVIEW,a.TABLE]),p=E(B=>g.has(B),"isGuidedSuggestion"),A=E(B=>u(B)||p(B)?B:f(B),"getSuggestionInsertionText"),C=E(B=>{switch(B){case a.AGENDA:return r.t("Draft a meeting agenda for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.BRAINSTORM:return r.t("Brainstorm",{fallbackHash:"4e95058a32f7f441e0c9ae52530d203ad26c7079",fallbackHashNs:"ui_generator_static"});case a.CANVAS_ACTION_ITEMS:return r.t("Add action items",{fallbackHash:"612b0b1d623ffd57874b9942f55a2baab60651d0"});case a.CANVAS_SUMMARY:return r.t("Add a summary",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.FAQ:return r.t("Write FAQs about",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.OUTLINE:return r.t("Draft an outline for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.OVERVIEW:return r.t("Write an overview for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.TABLE:return r.t("Create a table");default:return f(B)}},"getSuggestionSubmissionText"),T=E(B=>{const W=new Map(Object.values(a).map(H=>[C(H).toLowerCase(),H]));var K;return(K=W.get(B.toLowerCase()))!==null&&K!==void 0?K:null},"getSuggestionIdForSubmissionText"),I=E((B,W,K,H)=>!!(W&&W===(0,n.zd)({actionId:B},K??!1,H??!1)),"isCanvasAiAction"),M=E((B,W,K)=>I(n.N2.REWRITE,B,W,K),"isCanvasAiRewriteAction"),D=E((B,W,K)=>I(n.N2.SUMMARIZE,B,W,K),"isCanvasAiSummarizeAction"),O=E((B,W,K)=>I(n.N2.ADD_ACTION_ITEMS,B,W,K),"isCanvasAiAddActionItemsAction"),S=E(function(B){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!!(B&&!M(B,W)&&!D(B,W)&&!O(B,W))},"isCanvasAiRefineAction"),R=E(B=>{const W=new Map(Object.values(a).map(H=>[A(H).toLowerCase(),H]));var K;return(K=W.get(B.toLowerCase()))!==null&&K!==void 0?K:null},"getSuggestionIdForInsertedText"),U=E(B=>{switch(B){case i.CREATE:return r.t("Suggestions",{fallbackHash:"564d3571acd1b3f669f762d196b6156b7aa88834",fallbackHashNs:"workflow_builder"});case i.REFINE:return r.t("Suggestions",{fallbackHash:"267e6e2f6a25dafaf92b9844b78c67ce0af55aa9",fallbackHashNs:"workflow_builder"});default:return""}},"getCategoryLabel"),P=E(B=>{const W=f(B),K=m.get(B);return{id:B,category:K,name:W,canonicalName:`/${B}`,aliases:[K]}},"getSuggestionObjectForId"),L=new Set([a.CANVAS_ACTION_ITEMS,a.CANVAS_SUMMARY]),F=E(B=>L.has(B),"isContentRequiredSuggestion"),x=E(B=>{const W=B===l.CREATION_FROM_EMPTY_DOC,K=W?l.CREATION:B;let H=Object.values(a).filter(z=>{const Q=m.get(z);return Q&&_.get(Q)===K});return W&&(H=H.filter(z=>!F(z))),H.map(z=>P(z))},"getSuggestions"),b=(0,t.Mz)([c.H7,()=>(0,o.JK)(),(B,W)=>{let{searchViewContext:K}=W;return K}],(B,W,K)=>{if(K!=null&&K.includes(l.REFINEMENT)){var H;return(H=x(l.REFINEMENT))===null||H===void 0?void 0:H.map(q=>({...q,type:"client"}))}if(K!=null&&K.includes(l.CREATION_FROM_EMPTY_DOC)){var z;return(z=x(l.CREATION_FROM_EMPTY_DOC))===null||z===void 0?void 0:z.map(q=>({...q,type:"client"}))}if(K!=null&&K.includes(l.CREATION)){var Q;return(Q=x(l.CREATION))===null||Q===void 0?void 0:Q.map(q=>({...q,type:"client"}))}return[]}),k=E(B=>m.get(B)===i.CREATE,"isSuggestionCreation")},4119164726:(N,y,e)=>{"use strict";e.d(y,{Aw:()=>C,Zj:()=>u,vK:()=>g});var t=e(3262078016),n=e(3385422400),o=e(4843305308),s=e(8079225585),c=e(9084547259),r=e(7731278967),a=e(8956161330),i=e(7729538251),l=e(6642124196),m=e(6839188756),_=e(6471059816),h=e(4761125736),d=e(6346221893),f=e(1670069836);const v=new _.Ay("quip_shortcut_handlers");var u;(function(T){T[T.BASICS=0]="BASICS",T[T.MEDIA=1]="MEDIA",T[T.SLACK=2]="SLACK",T[T.LAYOUT=3]="LAYOUT",T[T.AI=4]="AI"})(u||(u={}));const g=E(T=>({[u.BASICS]:v.t("Basics"),[u.MEDIA]:v.t("Media"),[u.SLACK]:v.t("Slack"),[u.LAYOUT]:v.t("Layout"),...T?{[u.AI]:v.t("AI")}:{}}),"getCategoryDetailsV2"),p=E(T=>{let{currentTeam:I,experimentCanvasCalloutsGroupOn:M,experimentCanvasAiContentCreationGroupOn:D,teamHasListsAccess:O,experimentCanvasLiveDataMentionsGroupOn:S,connectedSalesforceOrgs:R}=T;const U=(0,m.qR)(I),P=!!R.length&&S,L=g(D),F=L[u.AI],x=L[u.BASICS],b=L[u.MEDIA],k=L[u.SLACK],B=L[u.LAYOUT],W=E((K,H,z,Q)=>({id:K,name:H,canonicalName:z,hideOnEmptyQuery:Q,autocomplete:!0,icon:(0,o.P)(r.r.DATE_MENTION).name,category:u.BASICS}),"dateShortcut");return[...D?[{id:t.SlackShortcutCommandType.AI_ASSISTANT,name:v.t("Write with AI",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2"}),canonicalName:"/ai",autocomplete:!0,icon:"sparkles",category:u.AI,aliases:[F,v.t("assistant"),v.t("ask")]},{id:t.SlackShortcutCommandType.AI_ASSISTANT_CANVAS_SUMMARY,name:v.t("Add a summary",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"}),canonicalName:"/aicanvassummary",autocomplete:!0,icon:"ai-summary",category:u.AI,aliases:[F,v.t("assistant"),v.t("ask"),v.t("canvassummary")]},{id:t.SlackShortcutCommandType.AI_ASSISTANT_CANVAS_ACTION_ITEMS,name:v.t("Add action items",{fallbackHash:"612b0b1d623ffd57874b9942f55a2baab60651d0"}),canonicalName:"/aicanvasactionitems",autocomplete:!0,icon:"ai-check",category:u.AI,aliases:[F,v.t("assistant"),v.t("ask"),v.t("canvasactionitems")]}]:[],...P?[{id:t.SlackShortcutCommandType.SALESFORCE_DATA_MENTION,name:(0,s.O)(r.r.SALESFORCE_DATA_MENTION,{experimentCanvasLiveDataMentionsGroupOn:S}),canonicalName:"/livedatamention",autocomplete:!0,icon:(0,o.P)(r.r.SALESFORCE_DATA_MENTION).name,category:u.BASICS,aliases:["livedatamention",x]}]:[],{id:t.SlackShortcutCommandType.CANVAS,name:(0,s.O)(r.r.CANVAS),canonicalName:"/canvas",autocomplete:!0,icon:(0,o.P)(r.r.CANVAS).name,category:u.BASICS,aliases:["canvas",x]},{id:t.SlackShortcutCommandType.CHECKLIST,name:(0,s.O)(r.r.CHECK_LIST),canonicalName:"/checklist",autocomplete:!0,icon:(0,o.P)(r.r.CHECK_LIST).name,category:u.BASICS,aliases:["checklist",x]},{id:t.SlackShortcutCommandType.H1,name:(0,s.O)(r.r.H1),canonicalName:"/largeheading",autocomplete:!0,icon:(0,o.P)(r.r.H1).name,category:u.BASICS,aliases:["h1","heading",x]},{id:t.SlackShortcutCommandType.H2,name:(0,s.O)(r.r.H2),canonicalName:"/mediumheading",autocomplete:!0,icon:(0,o.P)(r.r.H2).name,category:u.BASICS,aliases:["h2","heading",x]},{id:t.SlackShortcutCommandType.H3,name:(0,s.O)(r.r.H3),canonicalName:"/smallheading",autocomplete:!0,icon:(0,o.P)(r.r.H3).name,category:u.BASICS,aliases:["h3","heading",x]},{id:t.SlackShortcutCommandType.PLAIN,name:(0,s.O)(r.r.PARAGRAPH),canonicalName:"/paragraph",autocomplete:!0,icon:(0,o.P)(r.r.PARAGRAPH).name,category:u.BASICS,aliases:["plain",v.t("plain"),x]},{id:t.SlackShortcutCommandType.TABLE,name:(0,s.O)(r.r.TABLE),canonicalName:"/table",autocomplete:!0,icon:(0,o.P)(r.r.TABLE).name,category:u.BASICS,aliases:["table",v.t("grid"),v.t("spreadsheet"),x]},{id:t.SlackShortcutCommandType.DIVIDER,name:(0,s.O)(r.r.DIVIDER),canonicalName:"/divider",autocomplete:!0,icon:(0,o.P)(r.r.DIVIDER).name,category:u.BASICS,aliases:["divider",v.t("horizontal line"),x]},{id:t.SlackShortcutCommandType.BULLET_LIST,name:(0,s.O)(r.r.BULLET_LIST),canonicalName:"/bulletedlist",autocomplete:!0,icon:(0,o.P)(r.r.BULLET_LIST).name,category:u.BASICS,aliases:["list",x]},{id:t.SlackShortcutCommandType.ORDERED_LIST,name:(0,s.O)(r.r.ORDERED_LIST),canonicalName:"/orderedlist",autocomplete:!0,icon:(0,o.P)(r.r.ORDERED_LIST).name,category:u.BASICS,aliases:["list",x]},{id:t.SlackShortcutCommandType.BLOCKQUOTE,name:(0,s.O)(r.r.BLOCKQUOTE),canonicalName:"/blockquote",autocomplete:!0,icon:(0,o.P)(r.r.BLOCKQUOTE).name,category:u.BASICS,aliases:["blockquote",x]},...M?[{id:t.SlackShortcutCommandType.CALLOUT,name:(0,s.O)(r.r.CALLOUT),canonicalName:"/callout",autocomplete:!0,icon:(0,o.P)(r.r.CALLOUT).name,category:u.BASICS,aliases:["callout"]}]:[],{id:t.SlackShortcutCommandType.CODE,name:(0,s.O)(c.L.CODE),canonicalName:"/code",autocomplete:!0,icon:(0,o.P)(c.L.CODE).name,category:u.BASICS,aliases:["code",x]},{...W(t.SlackShortcutCommandType.DATE_GENERIC,(0,s.O)(r.r.DATE_MENTION),"/date"),aliases:["date",x]},{...W(t.SlackShortcutCommandType.DATE_TODAY,v.t("Today"),"/today",!0),aliases:["today"]},{...W(t.SlackShortcutCommandType.DATE_TOMORROW,v.t("Tomorrow"),"/tomorrow",!0),aliases:["tomorrow"]},{...W(t.SlackShortcutCommandType.DATE_YESTERDAY,v.t("Yesterday"),"/yesterday",!0),aliases:["yesterday"]},{...W(t.SlackShortcutCommandType.DATE_GENERIC,v.t("Reminder",{fallbackHash:"b87a1929f78bee9f6f3a2ac9e30465cd226ab5ec",fallbackHashNs:"slack_docs"}),"/reminder"),aliases:["reminder",x]},{id:t.SlackShortcutCommandType.VIDEO,name:(0,s.O)(r.r.VIDEO_CLIP),canonicalName:"/videoclip",autocomplete:!0,icon:(0,o.P)(r.r.VIDEO_CLIP).name,category:u.MEDIA,aliases:["video",b]},{id:t.SlackShortcutCommandType.AUDIO,name:(0,s.O)(r.r.AUDIO_CLIP),canonicalName:"/audioclip",autocomplete:!0,icon:(0,o.P)(r.r.AUDIO_CLIP).name,category:u.MEDIA,aliases:["audio",b]},{id:t.SlackShortcutCommandType.IMAGE,name:(0,s.O)(r.r.IMAGE),canonicalName:"/image",autocomplete:!0,icon:(0,o.P)(r.r.IMAGE).name,category:u.MEDIA,aliases:["image",b]},{id:t.SlackShortcutCommandType.FILE,name:(0,s.O)(r.r.FILE),canonicalName:"/file",autocomplete:!0,icon:"file",category:u.MEDIA,aliases:["file",b]},...U?[{id:t.SlackShortcutCommandType.WORKFLOW,name:(0,s.O)(r.r.WORKFLOW),canonicalName:"/workflow",autocomplete:!0,icon:(0,o.P)(r.r.WORKFLOW).name,category:u.SLACK,aliases:["workflow",k]}]:[],...O?[{id:t.SlackShortcutCommandType.LIST,name:(0,s.O)(r.r.LIST),canonicalName:"/list",autocomplete:!0,icon:(0,o.P)(r.r.LIST).name,category:u.SLACK,aliases:["list",k]}]:[],{id:t.SlackShortcutCommandType.PROFILE,name:v.t("Profile"),canonicalName:"/profile",autocomplete:!0,icon:"user",category:u.SLACK,aliases:["user",k,v.t("user"),v.t("mention")]},{id:t.SlackShortcutCommandType.CHANNEL,name:v.t("Channel"),canonicalName:"/channel",autocomplete:!0,icon:"channel-add",category:u.SLACK,aliases:["channel",k]},{id:t.SlackShortcutCommandType.TWO_COLUMNS,name:(0,s.O)(r.r.LAYOUT_2_COLUMNS),canonicalName:"/twocolumns",autocomplete:!0,icon:(0,o.P)(r.r.LAYOUT_2_COLUMNS).name,category:u.LAYOUT,aliases:["layout",B]},{id:t.SlackShortcutCommandType.THREE_COLUMNS,name:(0,s.O)(r.r.LAYOUT_3_COLUMNS),canonicalName:"/threecolumns",autocomplete:!0,icon:(0,o.P)(r.r.LAYOUT_3_COLUMNS).name,category:u.LAYOUT,aliases:["layout",B]},{id:t.SlackShortcutCommandType.CODEBLOCK,name:(0,s.O)(r.r.CODE_BLOCK),canonicalName:"/codeblock",autocomplete:!0,icon:(0,o.P)(r.r.CODE_BLOCK).name,category:u.LAYOUT,aliases:["code",B]}]},"getCommandsV2");function A(T){return{...T,type:"client"}}E(A,"formatShortcut");const C=(0,n.Mz)([f.H7,T=>(0,h._Z)(T,"canvas_callouts")==="on",T=>(0,h._Z)(T,"canvas_ai_inline_creation")==="on",T=>(0,l.teamHasFullListsAccess)(T),a.rF,d.mO,()=>(0,i.JK)(),(T,I)=>I],(T,I,M,D,O,S,R,U)=>p({currentTeam:T,experimentCanvasCalloutsGroupOn:I,experimentCanvasAiContentCreationGroupOn:M,teamHasListsAccess:D,experimentCanvasLiveDataMentionsGroupOn:O,connectedSalesforceOrgs:S}).map(A).filter(L=>U||!L.hideOnEmptyQuery))},7102510068:(N,y,e)=>{"use strict";e.d(y,{A:()=>o,h:()=>n});var t=e(3262078016);const n=[{regExp:/https:\/\/(.+?)(\.dev[0-9]*?|\.staging)?\.slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}\/p([0-9]+)(?:\?thread_ts=[0-9]+\.[0-9]+&cid=(?:C|G|D)[A-Z0-9]{8,})?/,urlType:t.CollabUrlType.SLACK_MESSAGE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+\.(jpe?g|png|gif)$/,urlType:t.CollabUrlType.SLACK_IMAGE_FILE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+/,urlType:t.CollabUrlType.SLACK_FILE},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/(?:docs|canvas)\/([^/]+?)(?:\/(F[A-Z0-9]{8,}).*?)?(?:\?focus_section_id=[^=#\s&]+)(?:&([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT_SECTION},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/docs\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/team\/(U|W)[A-Z0-9]{8,}/,urlType:t.CollabUrlType.SLACK_USER},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}$/,urlType:t.CollabUrlType.SLACK_CHANNEL},{regExp:/https:\/\/((dev|qa|staging|staging-master)([0-9]+?)?\.)?(slack|slack-gov|slack-gov-dev)\.com\/shortcuts\/Ft[A-Za-z0-9_-]+?\/([A-Za-z0-9_-]{32})/,urlType:t.CollabUrlType.SLACK_WORKFLOW},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/lists\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_LIST}];let o=E(class{constructor(){this.supportedUrlParsers=n}},"QuipUrlParsersProvider")},9121476043:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3110884894),n=e(6304789565),o=e(3164289453),s=e(9536404279),c=e(10127715),r=e(7606781622);const a=(0,n.Ay)("Remove a message and its timestamp",function(l,m){let{channelId:_,ts:h,threadTs:d,broadcastDelete:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!_||!h))if(f)l((0,c.E$)({channelId:_,ts:h}));else{l((0,s.Np)({channelId:_,timestamp:h}));const v=!1,u=(0,r.Ld)(m(),_,h,v),g=u&&u.thread_ts||d;if(g){const p=(0,t.Iu)(_,g)||"";l((0,s.Np)({channelId:p,timestamp:h}))}l((0,c.QN)({message:{channel:_,ts:h}})),l((0,o.A)({channelId:_,item:u}))}});a.meta={name:"createThunk",key:"createThunkremoveMessageAndTimestamp",description:"Remove a message and its timestamp"};const i=a},3164289453:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3297051565),n=e.n(t),o=e(2140362605);const s=(0,o.Ay)("(noop) Remove a pinned item via side-effect");s.meta={name:"createAction",key:"createActionremovePinnedItemCircular",description:"(noop) Remove a pinned item via side-effect"},s.propTypes=n().shape({item:n().object.isRequired,channelId:n().string.isRequired}).isRequired;const c=s},8391820676:(N,y,e)=>{"use strict";e.d(y,{A:()=>U});var t=e(6696292586),n=e(8086952004),o=e(12126472),s=e(3398586081),c=e(5950652755),r=e(1545824888),a=e(3080060173),i=e(1407713935),l=e(3110884894),m=e(337319621),_=e(6304789565),h=e(8847766420),d=e(6533394955),f=e(3087402890),v=e(5795074931),u=e(9536404279),g=e(9101533895),p=e(10127715),A=e(1581380967),C=e(8802876335),T=e(6704899486),I=e(1116859610);const M=1e3,D=E((L,F,x)=>{if(F==="Vall_threads")return(0,d.Qw)(L,(0,f.r8)()),r.K.resolve();const b=!1,k=(0,g.OL)((0,d.$D)(L),F,b);if(!k)return r.K.resolve();if(x)return O(L,F,x);const B=(0,i.mz)(k);return(0,d.Qw)(L,(0,a.Ay)({channelId:F,type:B,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:W,hasMore:K,isLimited:H,pinCount:z,deleted:Q}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const q=(0,d.$D)(L);(0,C.UJ)(q)&&!(0,T.N)(q,F)&&!(0,T.N)(q,(0,v.WR)(q))||((0,d.Qw)(L,(0,u.Jt)({channelId:F})),(0,d.Qw)(L,(0,I.A)({msgs:W,channelId:F,isLimited:H,pinCount:z,hasMore:{hasMoreStart:K,hasMoreEnd:!1},oldest:null,latest:null,deleted:Q})),(0,t.A)(z)&&(0,d.Qw)(L,(0,A.K)({channelId:F,count:z})))}).catch(W=>{(0,m.Ay)({state:(0,d.$D)(L)}).error(`Failed to fetch offline history for ${F}: ${W}`)})},"fetchOfflineHistory");function O(L,F,x){const b=(0,l.Iu)(F,x);return(0,d.Qw)(L,(0,a.$b)({channelId:F,threadTs:x,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:k,deleted:B,hasMore:W}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const K=(0,d.$D)(L);if((0,C.UJ)(K)&&!(0,T.N)(K,F)&&!(0,T.N)(K,(0,v.WR)(K)))return;let H=k;const z=(0,n.A)(k,{ts:x});W&&(H=(0,o.A)(k,{ts:x})),(0,d.Qw)(L,(0,u.Jt)({channelId:b})),(0,d.Qw)(L,(0,I.A)({msgs:H,channelId:b,hasMore:{hasMoreStart:W,hasMoreEnd:!1},oldest:null,latest:null,deleted:B})),z&&(0,d.Qw)(L,(0,p.Kc)([z]))})}E(O,"fetchOfflineHistoryForThread");const S=(()=>{const L=(0,s.A)(()=>(0,c.A)(D,M),function(){for(var F=arguments.length,x=new Array(F),b=0;b<F;b++)x[b]=arguments[b];return JSON.stringify(x)});return function(){for(var F=arguments.length,x=new Array(F),b=0;b<F;b++)x[b]=arguments[b];return L(...x)(...x)}})(),R=(0,_.Ay)("Request offline history",function(L,F){let{channelId:x,threadTs:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return S((0,h.ZT)(F()),x,b)});R.meta={name:"createThunk",key:"createThunkrequestOfflineHistory",description:"Request offline history"},R.propTypes={};const U=R,P={fetchOfflineHistory:D,fetchOfflineHistoryForThread:O}},5487781258:(N,y,e)=>{"use strict";e.d(y,{NU:()=>ee,e8:()=>V,Ay:()=>pe,IY:()=>se});var t=e(2003990933),n=e(7174777686),o=e(3571452446),s=e(1649982175),c=e(8872992289),r=e(2664504268),a=e(4177200783),i=e(4744405580),l=e(7715417323),m=e(1545824888),_=e(7509608227),h=e(337319621),d=e(3855029223),f=e(2872463257),v=e(6533394955);const u={},g="cse-message-send",p="cse-message-send";let A=E(class{_send(){var ie;const{message:he,trace:ve,parentSpanId:ge}=this._activeRequest||{};(0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Sending message with clientMsgId ${he==null?void 0:he.client_msg_id}`);const ke=E(()=>{var Ne;return(Ne=this._store)===null||Ne===void 0?void 0:Ne.dispatch((0,_.A)({message:he,traceId:ve==null?void 0:ve.getTraceId(),parentSpanId:ge}))},"postMessageP");return(ie=this._maybeTraceMessageSend(ke))===null||ie===void 0?void 0:ie.then(this._activeRequest?this._activeRequest.resolve:l.A).catch(this._activeRequest?this._activeRequest.reject:l.A).finally(()=>this.resolve(he))}_next(){if(this._activeRequest||!this._queue.length)return!1;this._activeRequest=this._queue.shift();const{messageEnqueueSpan:ie}=this._activeRequest||{};return ie==null||ie.addTags({count:this._queue.length}),ie==null||ie.close(),this._send(),(0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Shifting queue, now has ${this._queue.length} messages`),!0}_maybeTraceMessageSend(ie){var he;if(!this.shouldTraceMessageSend())return ie();const ve=(he=this._tracer)===null||he===void 0?void 0:he.createTrace({traceName:g,tags:{event_type:"/api/chat.postMessage"},samplingOptions:{sampleType:f.nl.ALWAYS}}),ge=E(()=>{var Ne;ve&&((Ne=this._tracer)===null||Ne===void 0||Ne.clearTrace(ve))},"onResolve"),ke=E((Ne,We)=>{var Oe;const be={state:f.$m.ERROR};We.status&&(be.status=We.status),We.message&&(be.message=We.message),We.data&&We.data.error&&(be.reason=We.data.error),Ne==null||Ne.addTags(be),Ne==null||Ne.close(),ve&&((Oe=this._tracer)===null||Oe===void 0||Oe.reportTrace(ve))},"onError");return ve==null?void 0:ve.traceFn({name:p,onError:ke,onResolve:ge},ie)}enqueue(ie){let{trace:he,parentSpanId:ve}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new m.S((ge,ke)=>{const Ne=he==null?void 0:he.startSpan("message_send_attempt:enqueue",{parentSpanId:ve});this._queue.push({message:ie,messageEnqueueSpan:Ne,trace:he,parentSpanId:ve,resolve:ge,reject:ke}),(0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Enqueueing message with clientMsgId ${ie.client_msg_id}, queue has ${this._queue.length} messages`),this._next()})}resolve(ie){return!ie||!this._activeRequest||!this._activeRequest.message||ie.client_msg_id!==this._activeRequest.message.client_msg_id?!1:((0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Resolving active request with clientMsgId ${ie.client_msg_id}`),this._activeRequest=null,this._next())}shouldTraceMessageSend(){return this._tracer}constructor(ie){if(!ie)throw new Error("MessageQueue requires a teamId.");if(this._teamId=ie,this._activeRequest=null,this._queue=[],this._store=(0,v.oK)(ie),!this._store)throw new Error(`MessageQueue requires a store; No store matching ${ie} found.`);const he=this._store.getState();this._tracer=(0,d.E)({state:he})}},"MessageQueue");function C(de){return u[de]||(u[de]=new A(de)),u[de]}E(C,"getInstance");const T={MESSAGE_SEND_TRACE_LABEL:g,MESSAGE_SEND_SPAN_LABEL:p};var I=e(3110884894),M=e(7578434623),D=e(662226046),O=e(6304789565),S=e(8847766420),R=e(9781145568),U=e(9121476043),P=e(8391820676),L=e(5795074931),F=e(9536404279),x=e(9101533895),b=e(3430841143),k=e(4761125736),B=e(6483201417),W=e(5345057011),K=e(5774398667),H=e(10127715),z=e(1275899799),Q=e(8802876335),q=e(6704899486);const $=6,le=7,te=8,ce="restricted_action_read_only_channel",me="restricted_action_thread_only_channel",_e="restricted_action_non_threadable_channel",Ae="ekm_access_denied",ye="dlp_user_warning",oe="message_limit_exceeded";var ee;(function(de){de.BLOCK_FILES_LINK_TYPE="slack_connect_file_link_sharing_blocked",de.BLOCK_CANVAS_CONTAIN_FILES_TYPE="slack_connect_canvas_contain_file_sharing_blocked",de.BLOCK_CANVAS_CONTAIN_EMBEDDED_FILES_TYPE="slack_connect_canvas_contain_embedded_files_blocked",de.BLOCK_LIST_CONTAIN_FILES_TYPE="slack_connect_list_contain_file_sharing_blocked"})(ee||(ee={}));var V;(function(de){de.SLACK_CONNECT_CANVAS_SHARING_BLOCKED="slack_connect_canvas_sharing_blocked",de.SLACK_CONNECT_FILE_UPLOAD_SHARING_BLOCKED="slack_connect_file_upload_sharing_blocked",de.SLACK_CONNECT_TEAM_BLOCKED="slack_connect_team_blocked"})(V||(V={}));function w(de,ie){de((0,H.Kc)([ie]));const he={channelId:ie.channel,timestamps:[ie.ts],oldest:ie.ts,hasMore:!1,append:!0};if(de((0,F.VG)(he)),ie.thread_ts){const ve=(0,I.Iu)(ie.channel,ie.thread_ts);de((0,F.VG)({...he,channelId:ve}))}}E(w,"addMsgToEnd");const Y={};function G(de,ie,he){Y[de]||(Y[de]={}),Y[de][ie]=he}E(G,"addResolutionTimer");function Z(de,ie){!Y[de]||!Y[de][ie]||(clearTimeout(Y[de][ie]),delete Y[de][ie])}E(Z,"cancelResolutionTimer");function se(de,ie,he,ve){const ge=(0,S.ZT)(de())||"",ke=(0,K.I)(de(),ve.client_msg_id);if(ke){(0,h.Ay)({getState:de}).action("MESSAGE",`Resolved a message with clientMsgId ${ve.client_msg_id} in ${he.channel} with ts ${ve.ts}`),ie((0,W.s)(ke.clientMsgId)),Z(ge,ke.clientMsgId),ie((0,U.A)({channelId:ke.channelId,ts:ke.ts}));const Ne=!1;(0,x.OL)(de(),he.channel,Ne)&&ie((0,R.A)({channelId:he.channel,msgTs:he.ts,resent:!1}))}C(ge).resolve(ve)}E(se,"resolveMessage");const ae="cse-message-send:send",re=(0,O.Ay)("Send a message",(de,ie,he)=>{let{messageSendTrace:ve,notificationTracePassthroughData:ge,skipDLPUserWarning:ke,...Ne}=he;const We=(0,d.E)({getState:ie});let Oe,be;ve&&(Oe=ve.startSpan("message_send_attempt:send"),be=ve.startSpan("message_send_attempt:placeholder",{parentSpanId:Oe==null?void 0:Oe.getId()}));const Ke=We.createMetricsTrace({label:"cse-message-send"});Ke.count({name:ae,label:"pending"}),We.reportTrace(Ke);const Fe=(0,c.A)(1),{channel:J,reply_broadcast:ne,thread_ts:je,client_msg_id:at,xArgs:nt}=Ne,Ge=(0,h.Ay)({getState:ie}),Pe=(0,S.ZT)(ie())||"",Le=je?{_hidden_reply:!0,_was_reply_broadcast:ne}:null,ze=at||(0,r.A)();ge&&(0,D.qe)(ie(),{notificationTracePassthroughData:ge,clientMsgId:ze});const Me=(0,k._Z)(ie(),"fe_message_rendering_perf_m1")==="on",Ce=Ne.blocks,Qe=(0,k._Z)(ie(),"camel_case_block")==="on",Be={...Ne,...Le,user:(0,L.WR)(ie()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:ze,blocksProcessed:(0,z.R)({blocks:Ce,experimentFeMessageRenderingPerfM1GroupOn:Me,experimentCamelCaseBlockGroupOn:Qe})};Ge.action("MESSAGE",`Sent a message to ${J} via HTTP, clientMsgId: ${ze}`);const we={...Ne,...nt,include_channel_perm_error:!0,client_msg_id:ze,skip_dlp_user_warning:ke};Fe&&G(Pe,ze,window.setTimeout(()=>{if((0,K.I)(ie(),Be.client_msg_id)){const Se=ie();(0,Q.UJ)(Se)&&(0,M.Cy)({state:Se}).count("msg_send_placeholder_not_resolved_connected_60s")}},1e3*60));const xe=C((0,S.ZT)(ie())||"").enqueue(we,{trace:ve,parentSpanId:Oe==null?void 0:Oe.getId()});return w(de,Be),de((0,W.T)({clientMsgId:Be.client_msg_id,channelId:Be.channel,ts:Be.ts})),je||de((0,B.A)({ts:null})),be==null||be.close(),xe.tap(()=>{const Se=ie();(!(0,Q.UJ)(Se)||(0,q.N)(Se,J)||(0,q.N)(Se,(0,L.WR)(Se)))&&(de((0,P.A)({channelId:J,threadTs:je})),ne&&de((0,P.A)({channelId:J}))),Ke.count({name:ae,label:"success"}),We.reportTrace(Ke),ve&&(ve.addTags({success:!0}),Oe==null||Oe.close(),We.reportTrace(ve))}).catch(Se=>{const Ye=(0,t.A)(Se,"data.error"),ot=(0,t.A)(Se,"data.dlp_custom_message");Ke.count({name:ae,label:"failure"}).setTag("error",Ye||(Se==null?void 0:Se.message)),We.reportTrace(Ke);const _t=Ye===Ae,pt=Ye===ye,vt=Ye===oe,yt=Object.values(V).includes(Ye)?Ye:void 0,Tt=Object.values(ee).includes(Ye)?Ye:void 0;if(!Ye&&!(0,K.I)(ie(),Be.client_msg_id)){Ge.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket");return}let ft=!0;const Ct=!0,At=[$,le,te,ce,me,_e];if((0,n.A)(At,Ye)){const wt="posting_permission_send_message_error";de((0,i._)({channel:J,reason:wt})).then(Jt=>{!Jt||!Jt.channel||de((0,b.F)({channel:Jt.channel,reason:wt}))}),ft=!1}_t&&(ft=!1),Tt&&(ft=!1),vt&&(ft=!1,de((0,a.A)())),yt&&(ft=!1);const kt="Message failed to send",Bt=(0,o.A)(Se,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);Bt.client_msg_id=ze,Bt.channel=J,Bt.thread_ts=je;const St=Se&&Se.status===429?"message_send_ratelimit":"message_send_fail";Ge.error(Bt instanceof Error?Bt:new Error(kt),`${kt}: ${Ye} | ${JSON.stringify(Bt)}`,{subtype:St});const Gt=Ye?(0,s.A)(Bt,["response"]):Se;Ge.error("MESSAGE",kt,Ye,Gt);const Et={...Be,showResend:ft,showCancel:Ct,isEKMError:_t,isDLPUserWarningError:pt,canvasSharingError:yt,blockFileLinkSharingError:Tt,dlpCustomMessage:ot};(0,K.I)(ie(),Be.client_msg_id)?de((0,H.Kc)([Et])):w(de,Et),!ft&&Fe&&Z(Pe,Be.client_msg_id),ve&&(ft?(ve.addTags({success:!1}),Oe==null||Oe.close(),We.reportTrace(ve)):We.clearTrace(ve))})});re.meta={name:"createThunk",key:"createThunksendMessage",description:"Send a message"};const pe=re},6789682833:(N,y,e)=>{"use strict";e.d(y,{y:()=>a});var t=e(7582939986),n=e(6471059816),o=e(2664504268),s=e(6811525189),c=e(6934022494);const r=new n.Ay("emoji_picker"),a=E((i,l)=>{let{draftId:m,status:_=s.t.SENDING}=l;if(!m)return[];const h=(0,c.BH)(i),d=(0,c.pW)(i,{draftId:m,status:_});return Array.isArray(d)?d.map(f=>{let{fallback:v,image_url:u,image_width:g,image_height:p,image_bytes:A}=f;return{blocks:[{type:t.WP.image,block_id:(0,o.A)(),image_url:u,alt_text:v,image_width:g,image_height:p,image_bytes:A,is_animated:!0,fallback:v,title:{type:"plain_text",text:h?r.t("GIF"):"GIF",emoji:!0}}]}}):[]},"getImageBlockFromGifUnfurls")},5363983309:(N,y,e)=>{"use strict";e.d(y,{A:()=>d});var t=e(3134334389),n=e(3255440563),o=e(4518410378),s=e(6304789565),c=e(8847766420),r=e(9338147070),a=e(6533394955),i=e(2567914105),l=e(2375333597),m=e(8726613433);function _(){return _=Object.assign||function(f){for(var v=1;v<arguments.length;v++){var u=arguments[v];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[g]=u[g])}return f},_.apply(this,arguments)}E(_,"_extends");const d=E((f,v)=>(0,s.Ay)(`XWS open ${f.displayName} modal`,(u,g,p,A)=>{const{modalName:C,allowMultiple:T=!0,isStackable:I=!1,renderInChildWindow:M=!1}=v||{};let D,O=M;const S=A(n.C);if((S==null?void 0:S.windowRef.deref())!==o.J&&(S!=null&&S.windowId)&&(O=!0,D=S.windowId),!T&&C&&(0,i.wc)(g(),D).find(k=>{let{name:B}=k;return B===C}))return;const R=(0,c.ZT)(g()),U=(0,m.vB)(g()),P=(0,a.oK)(R);let L,F=t.createElement(f,_({},p,{closeModal:()=>L==null?void 0:L()}));O||(F=t.createElement(r.Kq,{store:P},F));let x;return O?x=u((0,l.q)({element:F,name:C||void 0,isStackable:I})):x=(0,a.Qw)(U,(0,l.q)({element:F,name:C||void 0,isStackable:I})),L=x==null?void 0:x.close,x}),"createXWSModalThunk")},7206394193:(N,y,e)=>{"use strict";e.d(y,{A:()=>a});var t=e(8571983633),n=e(9686962598),o=e(3812058736),s=e(1527536225),c=e(5219503691);const r=(0,s.Ay)("Logs helpful messages to the console if you do something incorrect",(i,l,m)=>{if((0,t.A)(m)||(0,n.A)(m))return c.Qs&&(0,o.z3)("It looks like you dispatched null or undefined, instead of an action or a thunk. Check the stack trace of this error to see where this mistake is occurring."),null;if(m.isThunkCreator||m.isActionCreator){if(c.Qs){const _=m.isThunkCreator?"thunk":"action",h=m.meta?m.meta.name:`${_}Creator`;(0,o.z3)(`
	It looks like you dispatched a ${_} creator instead of the ${_} itself!
	This is a common mistake, and the solution is to call dispatch(${h}(payload)) instead of just dispatch(${h}), note the extra parens at the end.
				`)}return null}return(0,c.ZR)(m),l(m)});r.meta={name:"createMiddleware",key:"createMiddlewarehelpfulMessagingMiddleware",description:"Logs helpful messages to the console if you do something incorrect"};const a=r},773865333:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(862210999),n=e(2028988448),o=e(2878685908),s=e(337319621),c=e(1527536225);let r=[];const a=(0,s.Wo)(),i=(0,c.Ay)("Allows devs to get console logging or trigger breakpoints when state they care about changes",(h,d,f)=>{const v=[],u=h.getState();r.forEach(A=>{v.push(A(u,f))});const g=d(f),p=h.getState();return r.forEach((A,C)=>{const T=A(p,f);if(v[C]!==T){const I=["Redux Watcher:",`Value has changed! 
Action: `,f,`
Before: `,v[C],`
After:  `,T];if(v[C]!==void 0&&T!==void 0){const M=v[C]===void 0?{}:v[C],D=T===void 0?{}:T;I.push(`
Diff: `,Object.keys({...M,...D}).filter(O=>M[O]!==D[O]).map(O=>({key:O,before:M[O],after:D[O]})))}if(a.warn(...I),(0,o.Cu)()||(0,o.b3)())debugger}}),g});i.meta={name:"createMiddleware",key:"createMiddlewarereduxWatcherMiddleware",description:"Allows devs to get console logging or trigger breakpoints when state they care about changes"};const l=i;function m(h){if(!(0,t.A)(h)){a.error("watcherFn passed in to addWatcher must be a function");return}r.push(h)}E(m,"addWatcher");function _(){r=[]}E(_,"clearAllWatchers"),(0,n.ul)("reduxWatcher",{addWatcher:m,clearAllWatchers:_})},7156104699:(N,y,e)=>{"use strict";e.d(y,{N:()=>h,A:()=>_});var t=e(1545824888),n=e(337319621),o=e(6152845331),s=e(1527536225),c=e(3009309149);const r=(0,c.Ay)(d=>{var f;return d==null||(f=d.clientSideEffects)===null||f===void 0?void 0:f.clientSideEffectsMap});r.meta={name:"createSelector",key:"createSelectorgetClientSideEffectsMap",description:d=>{var f;return d==null||(f=d.clientSideEffects)===null||f===void 0?void 0:f.clientSideEffectsMap}};const a=(0,c.Ay)(d=>{var f;return d==null||(f=d.sideEffects)===null||f===void 0?void 0:f.sideEffectsMap});a.meta={name:"createSelector",key:"createSelectorgetSideEffectsMap",description:d=>{var f;return d==null||(f=d.sideEffects)===null||f===void 0?void 0:f.sideEffectsMap}};function i(){return(0,s.Ay)("Handle client side effects",(d,f,v)=>{var u;if(!((u=v.__test)===null||u===void 0)&&u.disableSideEffects)return f(v);const g=d.getState(),p=r(g);return m({store:d,action:v,sideEffectsMap:p}),f(v)})}E(i,"createClientSideEffectsMiddleware");function l(){return(0,s.Ay)("Handle side effects",(d,f,v)=>{var u;if(!((u=v.__test)===null||u===void 0)&&u.disableSideEffects)return f(v);const g=d.getState(),p=a(g);return m({store:d,action:v,sideEffectsMap:p}),f(v)})}E(l,"createSideEffectsMiddleware");function m(d){let{store:f,action:v,sideEffectsMap:u}=d;const g=u&&u[v.type],p=E(A=>((0,o.S$)(v,A),f.dispatch(A)),"wrappedDispatch");g!=null&&g.length&&t.S.resolve().then(()=>{g.forEach(A=>{if(!A)return;const{thunk:C}=A;try{p(C(v))}catch(T){(0,n.Ay)({getState:f.getState}).error("SIDE-EFFECTS",`Error in side effect for '${v.type}'`,T,{subtype:"side_effect_error"})}})})}E(m,"runSideEffects");const _=l(),h=i()},582577127:(N,y,e)=>{"use strict";e.d(y,{g:()=>n});var t=e(3371371503);function n(o){const r={sideEffectsMap:{},clientSideEffectsMap:{}};return!o||!o.length?r:o.reduce((a,i)=>{const{actions:l,scope:m}=i;let _;switch(m){case t.RE.client:_=a.clientSideEffectsMap;break;default:case t.RE.workspace:_=a.sideEffectsMap;break}return l.forEach(h=>{var d;const f=h==null||(d=h.getType)===null||d===void 0?void 0:d.call(h);f&&(_[f]=_[f]||[],_[f].push(i))}),a},r)}E(n,"generateSideEffectsMaps")},2732935554:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(9139930183),n=e(1004520977);const o={hasKeyboardFocus:!1},c=(0,t.Ay)({},o,{storeKey:"accessibilityPersistent",persistenceEnabled:!0,persistImmediately:!0}).on(n.w,function(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r.hasKeyboardFocus===a?r:{...r,hasKeyboardFocus:a}})},5105455463:(N,y,e)=>{"use strict";e.d(y,{As:()=>c,N9:()=>n,V_:()=>o,WB:()=>m,X8:()=>s,bb:()=>i,c7:()=>_,dH:()=>a,lf:()=>l,og:()=>t,rf:()=>r});const t="(prefers-contrast: more)",n="useAriaApplicationForListViews",o="composerUpArrowShortcutBehavior",s="messageTextLineSpacing",c="messageSpacing",r="messageTextWordSpacing",a="conversationIncomingMessageSound",i="conversationSentMessageSound",l="conversationIncomingMessageAnnouncement",m="peeksEnabledOnMouseEnter",_=!0},3034787354:(N,y,e)=>{"use strict";e.d(y,{A:()=>M});var t=e(9323322135),n=e(8646192222),o=e(9139930183),s=e(25586007),c=e(5105455463),r=e(8439865561),a=e(9733150292);let i=!1;(0,n.Nu)()?i=window.matchMedia(c.og).matches:(0,n.hk)()&&(i=(0,t.oQe)("settings","shouldUseHighContrastColors"));let l=!1;try{l=!!(0,a.W6)(c.N9)}catch{}let m;try{m=(0,a.W6)(c.V_)}catch{}let _;try{_=(0,a.W6)(c.X8)||1}catch{}let h;try{h=(0,a.W6)(c.As)||1}catch{}let d;try{d=(0,a.W6)(c.rf)||"0"}catch{}let f;try{var v;f=(v=(0,a.W6)(c.dH))!==null&&v!==void 0?v:""}catch{f=""}let u;try{var g;u=(g=(0,a.W6)(c.bb))!==null&&g!==void 0?g:""}catch{u=""}let p;try{p=(0,a.W6)(c.lf)}catch{p=void 0}let A;try{var C;A=(C=(0,a.W6)(c.WB))!==null&&C!==void 0?C:c.c7}catch{A=c.c7}const T={screenReaderEnabled:!1,shouldUseHighContrastColors:i,useARIAApplicationForListViews:l,composerUpArrowShortcutBehavior:m,messageTextLineSpacing:_,messageSpacing:h,messageTextWordSpacing:d,conversationIncomingMessageSound:f,conversationSentMessageSound:u,conversationIncomingMessageAnnouncement:p,peeksEnabledOnMouseEnter:A},M=(0,o.Ay)({},T,{storeKey:"accessibility",persistenceEnabled:!1}).on(r.rl,(D,O)=>O!=null&&O.message?{...D,announcerAPIAnnouncement:O}:D).on(r.Jq,(D,O)=>typeof O!="boolean"||O===D.screenReaderEnabled?D:{...D,screenReaderEnabled:O}).on(r.N,function(D){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof O!="boolean"||O===D.shouldUseHighContrastColors?D:{...D,shouldUseHighContrastColors:O}}).on(r.KQ,function(D){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...D,useARIAApplicationForListViews:O}}).on(r.Tv,function(D){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.v.LIST;return{...D,composerUpArrowShortcutBehavior:O}}).on(r.C_,function(D){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...D,messageTextLineSpacing:O}}).on(r.XE,function(D){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...D,messageSpacing:O}}).on(r.Mq,function(D){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return{...D,messageTextWordSpacing:O}}).on(r.Sr,(D,O)=>({...D,conversationIncomingMessageSound:O})).on(r.mw,(D,O)=>({...D,conversationSentMessageSound:O})).on(r.Ap,(D,O)=>({...D,conversationIncomingMessageAnnouncement:O})).on(r.V_,(D,O)=>({...D,peeksEnabledOnMouseEnter:O}))},2633701976:(N,y,e)=>{"use strict";e.d(y,{p:()=>r});var t=e(6304789565),n=e(4134037340),o=e(5105455463),s=e(8439865561),c=e(9733150292);const r=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(a,i,l)=>{if((0,n.A)(i()))try{(0,c.q9)(o.lf,l)}catch{}a((0,s.Ap)(l))});r.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageAnnouncement",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"}},2517531287:(N,y,e)=>{"use strict";e.d(y,{R:()=>r,r:()=>a});var t=e(6304789565),n=e(4134037340),o=e(5105455463),s=e(8439865561),c=e(9733150292);const r=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(i,l,m)=>{if((0,n.A)(l()))try{(0,c.q9)(o.dH,m)}catch{}i((0,s.Sr)(m))});r.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageSound",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"};const a=(0,t.Ay)("Set the pref for the sound that plays when a message is sent to the focused conversation",(i,l,m)=>{if((0,n.A)(l()))try{(0,c.q9)(o.bb,m)}catch{}i((0,s.mw)(m))});a.meta={name:"createThunk",key:"createThunksetPersistentConversationSentMessageSound",description:"Set the pref for the sound that plays when a message is sent to the focused conversation"}},25586007:(N,y,e)=>{"use strict";e.d(y,{v:()=>t});var t;(function(n){n[n.LIST=1]="LIST",n[n.LIST_IF_EMPTY=2]="LIST_IF_EMPTY",n[n.EDIT=3]="EDIT"})(t||(t={}))},330343856:(N,y,e)=>{"use strict";e.d(y,{D_:()=>c,H9:()=>s,WZ:()=>r,ZU:()=>o,h_:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Sets the active view mode for the agent home DM view");n.meta={name:"createAction",key:"createActionsetAgentHomeViewMode",description:"Sets the active view mode for the agent home DM view"};const o=(0,t.Ay)("Sets the active thread ts for the agent home DM view");o.meta={name:"createAction",key:"createActionsetAgentHomeActiveThread",description:"Sets the active thread ts for the agent home DM view"};const s=(0,t.Ay)("Sets the state for the split view window");s.meta={name:"createAction",key:"createActionsetAgentSplitViewChannelId",description:"Sets the state for the split view window"};const c=(0,t.Ay)("Indicates if we are loading or not for the active view mode, only applies for active conversation");c.meta={name:"createAction",key:"createActionsetAgentHomeViewModeLoading",description:"Indicates if we are loading or not for the active view mode, only applies for active conversation"};const r=(0,t.Ay)("Sets metadata to send along with the next message sent by the user");r.meta={name:"createAction",key:"createActionsetAgentHomeMessageContextByChannelId",description:"Sets metadata to send along with the next message sent by the user"}},195568024:(N,y,e)=>{"use strict";e.d(y,{T:()=>d});var t=e(6304789565),n=e(6224506772),o=e(3255440563),s=e(7772733070),c=e(4117634716),r=e(8822892075),a=e(330343856),i=e(9237921682),l=e(9629572172),m=e(352142497),_=e(3193155968),h=e(1771500940);const d=(0,t.Ay)("Based on which toggles are active, navigates to the proper agent home",async(f,v,u,g)=>{let{channelId:p,threadTs:A,isSplitView:C}=u;const T=v(),I=g(o.C),{getPrimaryView:M}=g(l.U),D=M(T),O=(0,n.oO)(T),S=(0,n.eF)(T),R=C?_.N2:I.windowId;O&&S?(A?(f((0,a.h_)({channelId:p,viewMode:i.x.ACTIVE_CONVERSATION,isSplitView:C,windowId:R})),f((0,a.ZU)({channelId:p,threadTs:A,isSplitView:C,windowId:R}))):(f((0,a.h_)({channelId:p,viewMode:i.x.NEW_CONVERSATION,isSplitView:C,windowId:R})),f((0,a.ZU)({channelId:p,threadTs:void 0,isSplitView:C,windowId:R}))),C?(f((0,a.H9)({channelId:p})),f((0,c.o)((0,h.b)((0,r.EA)({channelId:p,threadTs:A},!0))))):f((0,c.o)((0,r.JZ)({channelId:p,tabId:s.K.Messages,forceTab:(D==null?void 0:D.viewType)===m.D.Agents?_.k6.Agents:void 0})))):f((0,c.o)((0,r.EA)({channelId:p,threadTs:A})))});d.meta={name:"createThunk",key:"createThunknavigateToAgentHome",description:"Based on which toggles are active, navigates to the proper agent home"}},7026948475:(N,y,e)=>{"use strict";e.d(y,{e:()=>s});var t=e(3009309149);const n={summary:{name:"ai-summary"},"summary-off":{name:"ai-summary-off"},workflow:{name:"ai-workflow"},sparkles:{name:"ai-sparkle"},translate:{name:"ai-translate"}},o={summary:{name:"ai-summary-filled"},"summary-off":{name:"ai-summary-off-filled"},workflow:{name:"ai-workflow-filled"},sparkles:{name:"ai-sparkle-filled"},translate:{name:"ai-translate"}},s=(0,t.Ay)(function(c){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=r.type||"sparkles";return r.variation==="filled"?o[a]:n[a]});s.meta={name:"createSelector",key:"createSelectorgetSlackAiIconProps",description:function(c){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=r.type||"sparkles";return r.variation==="filled"?o[a]:n[a]}}},3914828984:(N,y,e)=>{"use strict";e.d(y,{D:()=>n,ER:()=>_,KS:()=>m,Nw:()=>h,Qt:()=>s,a:()=>r,bV:()=>o,c6:()=>l,fA:()=>i,gB:()=>c,u2:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Upsert ai topic");n.meta={name:"createAction",key:"createActionupsertAiTopic",description:"Upsert ai topic"};const o=(0,t.Ay)("Set whether fetching ai activity topics is enabled");o.meta={name:"createAction",key:"createActionsetIsFetchingAiTopics",description:"Set whether fetching ai activity topics is enabled"};const s=(0,t.Ay)("Set whether ai activity suggested topics are being fetched");s.meta={name:"createAction",key:"createActionsetIsFetchingAiSuggestedTopics",description:"Set whether ai activity suggested topics are being fetched"};const c=(0,t.Ay)("Set AI suggested topics");c.meta={name:"createAction",key:"createActionsetAiSuggestedTopics",description:"Set AI suggested topics"};const r=(0,t.Ay)("Upsert ai topics and activity items");r.meta={name:"createAction",key:"createActionupsertAiTopicsAndActivityItems",description:"Upsert ai topics and activity items"};const a=(0,t.Ay)("Upsert activity item");a.meta={name:"createAction",key:"createActionupsertActivityItem",description:"Upsert activity item"};const i=(0,t.Ay)("Remove activity item");i.meta={name:"createAction",key:"createActionremoveActivityItem",description:"Remove activity item"};const l=(0,t.Ay)("Set whether unreads mode is enabled");l.meta={name:"createAction",key:"createActionsetIsUnreadsMode",description:"Set whether unreads mode is enabled"};const m=(0,t.Ay)("Set user followed topics");m.meta={name:"createAction",key:"createActionsetUserTopics",description:"Set user followed topics"};const _=(0,t.Ay)("Set whether user topics are being fetched");_.meta={name:"createAction",key:"createActionsetIsFetchingUserTopics",description:"Set whether user topics are being fetched"};const h=(0,t.Ay)("Set whether a specific user topic is being updated");h.meta={name:"createAction",key:"createActionsetIsUpdatingUserTopic",description:"Set whether a specific user topic is being updated"}},3634026875:(N,y,e)=>{"use strict";e.d(y,{U:()=>o,h:()=>n});var t=e(4761125736);const n=E(s=>(0,t._Z)(s,"slack_ai_topic_summary_translations")==="on","isSlackAiTopicSummaryTranslationsEnabled"),o=E(s=>(0,t._Z)(s,"slack_ai_followed_topics")==="on","isSlackAiFollowedTopicsEnabled")},4340134233:(N,y,e)=>{"use strict";e.d(y,{G2:()=>s,IL:()=>i,MZ:()=>l,Pj:()=>o,SK:()=>m,Z2:()=>a,cv:()=>c,jF:()=>n,y9:()=>r});var t=e(3009309149);const n=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.aiTopics);n.meta={name:"createSelector",key:"createSelectorgetAiTopics",description:h=>h&&h.aiTopics&&h.aiTopics.aiTopics};const o=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.isFetchingAiTopics);o.meta={name:"createSelector",key:"createSelectorgetIsFetchingAiTopics",description:h=>h&&h.aiTopics&&h.aiTopics.isFetchingAiTopics};const s=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.suggestedTopics);s.meta={name:"createSelector",key:"createSelectorgetAiSuggestedTopics",description:h=>h&&h.aiTopics&&h.aiTopics.suggestedTopics};const c=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.isFetchingAiSuggestedTopics);c.meta={name:"createSelector",key:"createSelectorgetIsFetchingAiSuggestedTopics",description:h=>h&&h.aiTopics&&h.aiTopics.isFetchingAiSuggestedTopics};const r=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.activityItems);r.meta={name:"createSelector",key:"createSelectorgetActivityItems",description:h=>h&&h.aiTopics&&h.aiTopics.activityItems};const a=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.aiTopics.filter(d=>d.isUnread).length);a.meta={name:"createSelector",key:"createSelectorgetAiTopicsUnreadCount",description:h=>h&&h.aiTopics&&h.aiTopics.aiTopics.filter(d=>d.isUnread).length};const i=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.isUnreadsMode);i.meta={name:"createSelector",key:"createSelectorgetIsUnreadsModeActive",description:h=>h&&h.aiTopics&&h.aiTopics.isUnreadsMode};const l=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.userTopics);l.meta={name:"createSelector",key:"createSelectorgetUserTopics",description:h=>h&&h.aiTopics&&h.aiTopics.userTopics};const m=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.isFetchingUserTopics);m.meta={name:"createSelector",key:"createSelectorgetIsFetchingUserTopics",description:h=>h&&h.aiTopics&&h.aiTopics.isFetchingUserTopics};const _=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.updatingTopics);_.meta={name:"createSelector",key:"createSelectorgetUpdatingTopics",description:h=>h&&h.aiTopics&&h.aiTopics.updatingTopics}},1935129173:(N,y,e)=>{"use strict";e.d(y,{i:()=>r});var t=e(3634026875),n=e(919344463),o=e(3914828984),s=e(4340134233),c=e(6304789565);const r=(0,c.Ay)("maybeFetchAiActivityTopicGroups",async(a,i)=>{if(!(!(0,t.U)(i())||(0,s.Pj)(i())))try{a((0,o.bV)(!0));const _=await a((0,n.P)({reason:"fetch-ai-activity-topics",mode:"unreads_first_v1",limit:50,types:["thread_v2","message_reaction","internal_channel_invite","list_record_edited","bot_dm_bundle","at_user","at_user_group","at_channel","at_everyone","keyword","list_record_assigned","list_user_mentioned","list_todo_notification","external_channel_invite","shared_workspace_invite","external_dm_invite","dm"]}));_.ok,a((0,o.a)(_.items))}catch{}finally{a((0,o.bV)(!1))}});r.meta={name:"createThunk",key:"createThunkfetchAndProcessAiActivityTopics",description:"maybeFetchAiActivityTopicGroups"}},3087402890:(N,y,e)=>{"use strict";e.d(y,{FX:()=>r,X5:()=>c,ZY:()=>d,cD:()=>l,cQ:()=>m,cw:()=>i,dj:()=>_,fe:()=>s,hc:()=>f,lB:()=>h,qK:()=>n,r8:()=>a,s2:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Set the thread root keys");n.meta={name:"createAction",key:"createActionsetThreads",description:"Set the thread root keys"};const o=(0,t.Ay)("Append more thread root keys");o.meta={name:"createAction",key:"createActionappendThreads",description:"Append more thread root keys"};const s=(0,t.Ay)("Insert a thread at the beginning");s.meta={name:"createAction",key:"createActionprependThread",description:"Insert a thread at the beginning"};const c=(0,t.Ay)("Increments totalUnreadReplies");c.meta={name:"createAction",key:"createActionincrementTotalUnreadReplies",description:"Increments totalUnreadReplies"};const r=(0,t.Ay)("Sets totalNewThreads to 0");r.meta={name:"createAction",key:"createActionclearTotalNewThreads",description:"Sets totalNewThreads to 0"};const a=(0,t.Ay)("Increments allThreadsRefreshCounter");a.meta={name:"createAction",key:"createActionincrementAllThreadsRefreshCounter",description:"Increments allThreadsRefreshCounter"};const i=(0,t.Ay)("Set the thread key that should be focused");i.meta={name:"createAction",key:"createActionsetFocusRequestedThreadKey",description:"Set the thread key that should be focused"};const l=(0,t.Ay)("Set the thread timestamp that should be focused");l.meta={name:"createAction",key:"createActionsetFocusRequestedReplyTs",description:"Set the thread timestamp that should be focused"};const m=(0,t.Ay)("Add a thread key to an array of threads that were manually marked unread");m.meta={name:"createAction",key:"createActionappendThreadToManuallyMarkedUnread",description:"Add a thread key to an array of threads that were manually marked unread"};const _=(0,t.Ay)("set object of threads that have been manually marked as unread");_.meta={name:"createAction",key:"createActionsetManuallyMarkedThreads",description:"set object of threads that have been manually marked as unread"};const h=(0,t.Ay)("Remove a thread key from an array of threads that were manually marked unread");h.meta={name:"createAction",key:"createActionremoveThreadFromManuallyMarkedUnread",description:"Remove a thread key from an array of threads that were manually marked unread"};const d=(0,t.Ay)("Sets manuallyMarkedUnread to empty");d.meta={name:"createAction",key:"createActionclearThreadsFromManuallyMarkedUnread",description:"Sets manuallyMarkedUnread to empty"};const f=(0,t.Ay)("Sets selected tab in threads view");f.meta={name:"createAction",key:"createActionsetSelectedTab",description:"Sets selected tab in threads view"}},6082887833:(N,y,e)=>{"use strict";e.d(y,{S:()=>n});var t=e(3009309149);const n=(0,t.Ay)((o,s)=>o.ambientMessages[s]);n.meta={name:"createSelector",key:"createSelectorgetAmbientMessage",description:(o,s)=>o.ambientMessages[s]}},1290436125:(N,y,e)=>{"use strict";e.d(y,{AE:()=>P,p$:()=>$,L6:()=>oe,yN:()=>z,xV:()=>Q,T9:()=>x,RQ:()=>b,rS:()=>ee,QQ:()=>W,Db:()=>_e,qc:()=>B,h1:()=>k,lE:()=>U,S_:()=>q,gc:()=>L,Es:()=>F,xo:()=>H,pl:()=>te,ad:()=>K});var t=e(3009309149),n=e(5404505308),o=e(2107335472),s=e(1802079588),c=e(235108050),r=e(9113979368),a=e(9087248458),i=e(8628145494),l=e(766806),m=e(5597672932),_=e(8847766420),h=e(7876109014),d=e(6946629059),f=e(4178531214),v=e(337319621),u=e(1658558415);const g=["ra","regular","admin","owner","org_admin","org_owner"],p=E(V=>g.find(w=>V.includes(w)),"getMostPermissiveStringPrefValue"),A=E(V=>V.includes(!0),"getMostPermissiveBoolean"),C=E(V=>{const w=V.reduce((Z,se)=>((0,h.v)(se,"type")&&Z.type.push(...se.type),(0,h.v)(se,"user")&&Z.user.push(...se.user),(0,h.v)(se,"subteam")&&Z.subteam.push(...se.subteam),Z),{type:[],user:[],subteam:[]}),Y=w.type.length>0?p(w.type):void 0,G={...Y&&{type:Y},...w.user.length>0&&{user:(0,c.A)(w.user)},...w.subteam.length>0&&{subteam:(0,c.A)(w.subteam)}};return(0,r.A)(G)?void 0:G},"getMostPermissiveTeamPrefForTeamPrefsWithFields"),T=E((V,w)=>{if(!w||!(0,f.ss)(V)){const Y=(0,_.ZT)(V);return Y?[Y]:[]}return w},"getTeamIdsToMapPrefsTo"),I=E((V,w,Y)=>{const G=T(V,Y);if((0,_.VO)(V).length>0){var Z;const ae=(Z=(0,_.NB)(V))!==null&&Z!==void 0?Z:[];if(!((0,a.A)(ae,G).length>0)){const pe=(0,l.wc)(V,w);if(!(0,i.A)(pe))return pe;const de=(0,l.SI)(V,w);if(!(0,i.A)(de))return de}}const se=G.map(ae=>(0,m.xp)(V,w,ae)).filter(d.b);return se.length!==G.length&&((0,u.A)()||(0,v.Ay)({state:V}).warn(`Team ID's, ${G.join(", ")}, are currently not valid team ID's to retrieve team prefs.`)),typeof se[0]=="boolean"?A(se):typeof se[0]=="string"?p(se):C(se)},"getMostPermissiveTeamPrefForTeamIds");var M=e(3152334950),D=e(7717529491),O=e(6790819894),S=e(9392104102),R=e(2197556995);const U=(0,t.Ay)(V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.searchInput});U.meta={name:"createSelector",key:"createSelectorgetSearchInput",description:V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.searchInput}};const P=(0,t.Ay)(V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.announcerSearchInput});P.meta={name:"createSelector",key:"createSelectorgetAnnouncerSearchInput",description:V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.announcerSearchInput}};const L=(0,t.Ay)(V=>{var w;if((0,R.Y)(V)){var Y;return(V==null||(Y=V.appsIndex)===null||Y===void 0?void 0:Y.targetTeamId)||(0,_.ZD)(V)}return(V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.targetTeamId)||(0,_.E$)(V)});L.meta={name:"createSelector",key:"createSelectorgetTargetTeamId",description:V=>{var w;if((0,R.Y)(V)){var Y;return(V==null||(Y=V.appsIndex)===null||Y===void 0?void 0:Y.targetTeamId)||(0,_.ZD)(V)}return(V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.targetTeamId)||(0,_.E$)(V)}};const F=E((V,w)=>{const Y=L(V),G=(0,M.A)(V)&&Y;return I(V,w,G?[Y]:void 0)},"getTeamPrefForTargetTeam"),x=E(V=>{const w=L(V),Y=(0,M.A)(V);return(0,D.k)(V,Y?w:void 0)},"getIsCurrentUserAppminForTargetTeam"),b=(0,t.Ay)(V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.isLoading});b.meta={name:"createSelector",key:"createSelectorgetIsLoading",description:V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.isLoading}};const k=(0,t.Ay)(V=>{var w,Y;return!(V==null||(w=V.appsIndex)===null||w===void 0)&&w.results.length?V==null||(Y=V.appsIndex)===null||Y===void 0?void 0:Y.results:(0,S.B4)()});k.meta={name:"createSelector",key:"createSelectorgetResults",description:V=>{var w,Y;return!(V==null||(w=V.appsIndex)===null||w===void 0)&&w.results.length?V==null||(Y=V.appsIndex)===null||Y===void 0?void 0:Y.results:(0,S.B4)()}};const B=(0,t.Ay)(V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.nextCursor});B.meta={name:"createSelector",key:"createSelectorgetNextCursor",description:V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.nextCursor}};const W=(0,t.Ay)(V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.isShowingDefaultAppCategories});W.meta={name:"createSelector",key:"createSelectorgetIsShowingDefaultAppCategories",description:V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.isShowingDefaultAppCategories}};const K=(0,t.Ay)(V=>!k(V).length&&!!P(V));K.meta={name:"createSelector",key:"createSelectorhasNoResults",description:V=>!k(V).length&&!!P(V)};const H=(0,t.Ay)(V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.totalInstalledAppCount});H.meta={name:"createSelector",key:"createSelectorgetTotalInstalledAppCount",description:V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.totalInstalledAppCount}};const z=(0,t.Ay)(V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.displayedInstalledAppCount});z.meta={name:"createSelector",key:"createSelectorgetDisplayedInstalledAppCount",description:V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.displayedInstalledAppCount}};const Q=(0,O.F)(k,V=>V.filter(w=>w.type===o.di.APP&&w.categoryId===o.wz.DEFAULT)),q=(0,t.Ay)(V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.selectedFilter});q.meta={name:"createSelector",key:"createSelectorgetSelectedFilter",description:V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.selectedFilter}};const $=(0,t.Ay)(V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.currentPage});$.meta={name:"createSelector",key:"createSelectorgetCurrentPage",description:V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.currentPage}};const le=(0,t.Ay)(V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.totalPaginationAppCount});le.meta={name:"createSelector",key:"createSelectorgetTotalPaginationAppCount",description:V=>{var w;return V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.totalPaginationAppCount}};const te=(0,t.Ay)(V=>{var w;const Y=V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.totalPaginationAppCount;return Y?Math.ceil(Y/o.xd):1});te.meta={name:"createSelector",key:"createSelectorgetTotalPageCount",description:V=>{var w;const Y=V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.totalPaginationAppCount;return Y?Math.ceil(Y/o.xd):1}};const ce=(0,t.Ay)(V=>{var w;const Y=V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.currentPage;return Y?(Y-1)*o.xd+1:0});ce.meta={name:"createSelector",key:"createSelectorgetPageStartAppNum",description:V=>{var w;const Y=V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.currentPage;return Y?(Y-1)*o.xd+1:0}};const me=(0,t.Ay)(V=>{var w;const Y=V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.currentPage;return Y?Y*o.xd:0});me.meta={name:"createSelector",key:"createSelectorgetPageEndAppNum",description:V=>{var w;const Y=V==null||(w=V.appsIndex)===null||w===void 0?void 0:w.currentPage;return Y?Y*o.xd:0}};const _e=(0,t.Ay)(V=>{const w=k(V);return(0,n.A)(w,G=>(G==null?void 0:G.type)===o.di.CATEGORY)});_e.meta={name:"createSelector",key:"createSelectorgetLastCategoryIndex",description:V=>{const w=k(V);return(0,n.A)(w,G=>(G==null?void 0:G.type)===o.di.CATEGORY)}};const Ae=(0,t.Ay)(V=>(0,s.s9)({currentPage:$(V),lastCategoryIndex:_e(V)}));Ae.meta={name:"createSelector",key:"createSelectorgetPageStartAppIndexIncl",description:V=>(0,s.s9)({currentPage:$(V),lastCategoryIndex:_e(V)})};const ye=(0,t.Ay)(V=>(0,s.$W)({currentPage:$(V),lastCategoryIndex:_e(V)}));ye.meta={name:"createSelector",key:"createSelectorgetPageEndAppIndexExcl",description:V=>(0,s.$W)({currentPage:$(V),lastCategoryIndex:_e(V)})};const oe=(0,t.Ay)(V=>{const w=_e(V);if(w<0)return[];const Y=k(V),G=Ae(V),Z=ye(V);return $(V)===1?Y.slice(G,Z):[Y[w],...Y.slice(G,Z)]});oe.meta={name:"createSelector",key:"createSelectorgetCurrentPageResults",description:V=>{const w=_e(V);if(w<0)return[];const Y=k(V),G=Ae(V),Z=ye(V);return $(V)===1?Y.slice(G,Z):[Y[w],...Y.slice(G,Z)]}};const ee=(0,t.Ay)(V=>{const w=te(V),Y=W(V),G=b(V);return Y&&w>1&&!G});ee.meta={name:"createSelector",key:"createSelectorgetIsPaginationVisible",description:V=>{const w=te(V),Y=W(V),G=b(V);return Y&&w>1&&!G}}},2107335472:(N,y,e)=>{"use strict";e.d(y,{G2:()=>s,di:()=>c,md:()=>t,wW:()=>o,wz:()=>r,xd:()=>n});const t=50,n=48,o=5,s=0;var c;(function(a){a.LOADING="loading",a.CATEGORY="category",a.APP="app",a.FILTER_EMPTY_STATE="filter-empty-state",a.FILTER_ZERO_APPS_STATE="filter-zero-apps-state"})(c||(c={}));var r;(function(a){a.DEFAULT="Ai01",a.APP_DIRECTORY="Ai02",a.CURATED_APP_SUGGESTIONS="Ai03",a.UNINSTALLED_WHITELISTED="Ai04",a.USER_RELEVANT="Ai05",a.UNINSTALLED_APP_DIRECTORY_FILTERED_CATEGORY="Ai06",a.APPROVED_APP_DIRECTORY_APP="Ai07"})(r||(r={}))},1802079588:(N,y,e)=>{"use strict";e.d(y,{$W:()=>s,LD:()=>c,s9:()=>o});var t=e(4761125736),n=e(2107335472);function o(r){let{currentPage:a,lastCategoryIndex:i}=r;return a===1?0:i>-1?i+(a-1)*n.xd+1:-1}E(o,"calcPageStartAppIndexIncl");function s(r){let{currentPage:a,lastCategoryIndex:i}=r;return i>-1?i+a*n.xd+1:-1}E(s,"calcPageEndAppIndexExcl");function c(r){return(0,t._Z)(r,"app_launcher_pagination")==="on"}E(c,"experimentAppLauncherPaginationGroupOn")},8778137680:(N,y,e)=>{"use strict";e.d(y,{DQ:()=>c,Lm:()=>a,RZ:()=>l,S:()=>d,X$:()=>s,_y:()=>m,c6:()=>_,fv:()=>r,rk:()=>o,yT:()=>h,z7:()=>i,zZ:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set Awareness State for another user");n.meta={name:"createAction",key:"createActionsetAwarenessStateForOtherUser",description:"Set Awareness State for another user"};const o=(0,t.Ay)("Set Awareness State for me");o.meta={name:"createAction",key:"createActionsetMyAwarenessState",description:"Set Awareness State for me"};const s=(0,t.Ay)("Remove Awareness State for me");s.meta={name:"createAction",key:"createActionremoveMyAwarenessState",description:"Remove Awareness State for me"};const c=(0,t.Ay)("Clear the full awareness state for a user");c.meta={name:"createAction",key:"createActionclearUserAwarenessState",description:"Clear the full awareness state for a user"};const r=(0,t.Ay)("Set my screenshare view");r.meta={name:"createAction",key:"createActionsetMyScreenshareView",description:"Set my screenshare view"};const a=(0,t.Ay)("Remove my screenshare view");a.meta={name:"createAction",key:"createActionremoveMyScreenshareView",description:"Remove my screenshare view"};const i=(0,t.Ay)("Set my sticky reaction");i.meta={name:"createAction",key:"createActionsetMyStickyReaction",description:"Set my sticky reaction"};const l=(0,t.Ay)("Remove my sticky reaction");l.meta={name:"createAction",key:"createActionremoveMyStickyReaction",description:"Remove my sticky reaction"};const m=(0,t.Ay)("Clear any stale awareness entries");m.meta={name:"createAction",key:"createActionttlAwarenessEntries",description:"Clear any stale awareness entries"};const _=(0,t.Ay)("Sets updatedTimestamp for my awareness entries to current time");_.meta={name:"createAction",key:"createActionrenewMyUpdatedTimestamps",description:"Sets updatedTimestamp for my awareness entries to current time"};const h=(0,t.Ay)("Set my active song");h.meta={name:"createAction",key:"createActionsetMyActiveSong",description:"Set my active song"};const d=(0,t.Ay)("Remove my active song");d.meta={name:"createAction",key:"createActionremoveMyActiveSong",description:"Remove my active song"}},7592559649:(N,y,e)=>{"use strict";e.d(y,{$G:()=>A,Ae:()=>T,Fb:()=>p,M3:()=>u,fL:()=>g,gV:()=>C,sW:()=>v,xP:()=>f});var t=e(3009309149),n=e(3385422400),o=e(6418055367),s=e(166097325),c=e(9113979368),r=e(9392104102),a=e(1345902898),i=e(6324645806);const l=(0,n.Ad)(o.UI,s.A),m=E(M=>{var D;return(M==null||(D=M.awareness)===null||D===void 0?void 0:D.awarenessEntries)||r.Ml},"selectAwarenessEntries"),_=(0,n.Mz)([m,(M,D)=>D,(M,D,O)=>O,(M,D,O,S)=>S],(M,D,O,S)=>{if(D===void 0)return r.t0;const R=M.filter(P=>{const L=P.channel===D,F=P.fieldName===O,x=S?P.uniqueId===S:!0,b=!(0,i.h)(P);return L&&F&&x&&b}).map(P=>[P.user,P.fieldValue]),U=Object.fromEntries(R);return(0,c.A)(U)?r.t0:U}),h=(0,n.Mz)([m,(M,D)=>D,(M,D,O)=>O],(M,D,O)=>{if(D===void 0)return r.t0;const S=M.filter(U=>{const P=U.channel===D,L=U.fieldName===O,F=!(0,i.h)(U);return P&&L&&F}).map(U=>[U.uniqueId,[U.user,U.fieldValue]]),R=Object.fromEntries(S);return(0,c.A)(R)?r.t0:R}),d=(0,n.Mz)([m,(M,D)=>D,(M,D,O)=>O],(M,D,O)=>{if(D===void 0)return r.t0;var S,R;const U=M.filter(L=>{const F=L.channel===D,x=L.fieldName===O,b=!(0,i.h)(L);return F&&x&&b}).sort((L,F)=>((S=L.fieldTimestampMs)!==null&&S!==void 0?S:Number.MAX_SAFE_INTEGER)-((R=F.fieldTimestampMs)!==null&&R!==void 0?R:Number.MAX_SAFE_INTEGER)).map(L=>[L.user,L.fieldValue]);return Object.fromEntries(U)}),f=(0,t.Ay)((M,D)=>{const O=d(M,D,a.p4.STICKYEMOJI);return(0,c.A)(O)?r.t0:O});f.meta={name:"createSelector",key:"createSelectorgetStickyEmojisForTopicByUser",description:(M,D)=>{const O=d(M,D,a.p4.STICKYEMOJI);return(0,c.A)(O)?r.t0:O}};const v=(0,t.Ay)((M,D)=>_(M,D,a.p4.CONTENTVIEW));v.meta={name:"createSelector",key:"createSelectorgetContentViewsForTopicByUser",description:(M,D)=>_(M,D,a.p4.CONTENTVIEW)};const u=(0,t.Ay)((M,D)=>h(M,D,a.p4.CONTENTVIEW));u.meta={name:"createSelector",key:"createSelectorgetContentViewsKeyedByPeerId",description:(M,D)=>h(M,D,a.p4.CONTENTVIEW)};const g=(0,t.Ay)((M,D,O,S)=>{var R;return(M==null||(R=M.awareness)===null||R===void 0?void 0:R.awarenessEntries).filter(L=>{const F=L.channel===D,x=L.user===O,b=!S||(0,i.I)(L.fieldName)?!0:L.uniqueId===S,k=!(0,i.h)(L);return F&&x&&b&&k}).map(L=>({field_name:L.fieldName,field_value:L.fieldValue,...!!L.fieldTimestampMs&&{field_timestamp_ms:L.fieldTimestampMs}}))});g.meta={name:"createSelector",key:"createSelectorgetAwarenessForMe",description:(M,D,O,S)=>{var R;return(M==null||(R=M.awareness)===null||R===void 0?void 0:R.awarenessEntries).filter(L=>{const F=L.channel===D,x=L.user===O,b=!S||(0,i.I)(L.fieldName)?!0:L.uniqueId===S,k=!(0,i.h)(L);return F&&x&&b&&k}).map(L=>({field_name:L.fieldName,field_value:L.fieldValue,...!!L.fieldTimestampMs&&{field_timestamp_ms:L.fieldTimestampMs}}))}};const p=(0,t.Ay)((M,D,O,S)=>{const R=g(M,D,O,S);for(const U of R)if(U.field_name===a.p4.STICKYEMOJI)return U;return null});p.meta={name:"createSelector",key:"createSelectorgetAwarenessStickyEmoji",description:(M,D,O,S)=>{const R=g(M,D,O,S);for(const U of R)if(U.field_name===a.p4.STICKYEMOJI)return U;return null}};const A=(0,t.Ay)((M,D)=>{let{callId:O,userId:S,uniqueId:R}=D;return O?_(M,O,a.p4.STICKYEMOJI,R)[S]:void 0});A.meta={name:"createSelector",key:"createSelectorgetStickyReactionsByUserId",description:(M,D)=>{let{callId:O,userId:S,uniqueId:R}=D;return O?_(M,O,a.p4.STICKYEMOJI,R)[S]:void 0}};const C=(0,t.Ay)((M,D)=>{let{callId:O,userId:S}=D;if(!O)return;const R=_(M,O,a.p4.HUDDLE_ACTIVE_SONG);if((0,c.A)(R))return;if(S)return R[S];const U=Object.values(R);if(U.length!==0)return U[0]});C.meta={name:"createSelector",key:"createSelectorgetRequestedSong",description:(M,D)=>{let{callId:O,userId:S}=D;if(!O)return;const R=_(M,O,a.p4.HUDDLE_ACTIVE_SONG);if((0,c.A)(R))return;if(S)return R[S];const U=Object.values(R);if(U.length!==0)return U[0]}};const T=l([m,(M,D,O,S,R)=>`${D},${O},${S},${R}`],(M,D)=>{const[O,S,R,U]=D.split(","),P=M.filter(L=>{const F=L.channel===O,x=L.user!==S,b=L.fieldName===a.p4.ACTIVE_CELL&&L.fieldValue&&L.fieldValue.rowId===R&&L.fieldValue.colId===U,k=!(0,i.h)(L);return F&&x&&b&&k}).map(L=>[[`${L.fieldValue.rowId},${L.fieldValue.colId}`],L.user]);return P.length?Object.fromEntries(P):r.t0}),I=(0,n.Mz)([m,(M,D)=>D],(M,D)=>D===void 0?r.Ml:M.filter(S=>{const R=S.channel===D,U=S.fieldName===a.p4.ACTIVE_CELL;return R&&U}).map(S=>S.user))},1345902898:(N,y,e)=>{"use strict";e.d(y,{Pz:()=>t,mO:()=>o,p4:()=>n});var t;(function(s){s.BROADCAST="broadcast",s.QUERY="query",s.CLOSE="close"})(t||(t={}));var n;(function(s){s.CONTENTVIEW="contentView",s.STICKYEMOJI="stickyEmoji",s.ACTIVE_CELL="activeCell",s.HUDDLE_ACTIVE_SONG="huddleActiveSong"})(n||(n={}));const o=60*1e3},6324645806:(N,y,e)=>{"use strict";e.d(y,{I:()=>o,h:()=>n});var t=e(1345902898);const n=E(s=>{const c=Date.now();var r;return c-((r=s.updatedTimestamp)!==null&&r!==void 0?r:c)>=t.mO},"isAwarenessEntryExpired"),o=E(s=>s?[t.p4.HUDDLE_ACTIVE_SONG].includes(s):!1,"skipUniquenessCheck")},5107871484:(N,y,e)=>{"use strict";e.d(y,{Ol:()=>s,Yf:()=>o,w6:()=>c,x8:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set what zoom value was set in the client when in BBM");n.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client when in BBM"};const o=(0,t.Ay)("Set if hover actions should persist in the client when in BBM");o.meta={name:"createAction",key:"createActionsetPersistentActionsInternal",description:"Set if hover actions should persist in the client when in BBM"};const s=(0,t.Ay)("Set if customer has seen onboarding");s.meta={name:"createAction",key:"createActionsetOnboardedInternal",description:"Set if customer has seen onboarding"};const c=(0,t.Ay)("Set if client should display breadcrumbs when in BBM");c.meta={name:"createAction",key:"createActionsetBreadcrumbsInternal",description:"Set if client should display breadcrumbs when in BBM"}},7980588110:(N,y,e)=>{"use strict";e.d(y,{D5:()=>r,DP:()=>o,FC:()=>s,UY:()=>t,Yb:()=>c,iS:()=>n});const t="slack-zoom-bbm-setting",n="slack-persistent-actions-bbm-setting",o="slack-onboarded-setting",s="slack-breadcrumbs-bbm-setting",c=!0,r=!0},9651400563:(N,y,e)=>{"use strict";e.d(y,{Z:()=>f});var t=e(9139930183),n=e(5107871484),o=e(7980588110),s=e(9733150292);let c;try{var r;c=(r=(0,s.W6)(o.UY))!==null&&r!==void 0?r:void 0}catch{}let a;try{var i;a=(i=(0,s.W6)(o.iS))!==null&&i!==void 0?i:o.Yb}catch{}let l;try{var m;l=(m=(0,s.W6)(o.DP))!==null&&m!==void 0?m:!1}catch{}let _;try{var h;_=(h=(0,s.W6)(o.FC))!==null&&h!==void 0?h:o.D5}catch{}const d={zoom:c,persistentActions:a,onboarded:l,breadcrumbs:_},f=(0,t.Ay)({},d,{storeKey:"bbmSettings",persistenceEnabled:!1}).on(n.x8,(v,u)=>({...v,zoom:u})).on(n.Yf,(v,u)=>({...v,persistentActions:u})).on(n.w6,(v,u)=>({...v,breadcrumbs:u})).on(n.Ol,v=>({...v,onboarded:!0}))},3029055053:(N,y,e)=>{"use strict";e.d(y,{IX:()=>n,N6:()=>o,Tr:()=>s,lz:()=>c});var t=e(3009309149);const n=(0,t.Ay)(r=>r.bbmSettings.zoom);n.meta={name:"createSelector",key:"createSelectorgetZoom",description:r=>r.bbmSettings.zoom};const o=(0,t.Ay)(r=>r.bbmSettings.persistentActions);o.meta={name:"createSelector",key:"createSelectorgetPersistentActions",description:r=>r.bbmSettings.persistentActions};const s=(0,t.Ay)(r=>r.bbmSettings.onboarded);s.meta={name:"createSelector",key:"createSelectorisOnboarded",description:r=>r.bbmSettings.onboarded};const c=(0,t.Ay)(r=>r.bbmSettings.breadcrumbs);c.meta={name:"createSelector",key:"createSelectorgetBreadcrumbs",description:r=>r.bbmSettings.breadcrumbs}},6452473925:(N,y,e)=>{"use strict";e.d(y,{Q:()=>a});var t=e(6304789565),n=e(4134037340),o=e(337319621),s=e(5107871484),c=e(7980588110),r=e(9733150292);const a=(0,t.Ay)("Set zoom value for client when in BBM",(i,l,m)=>{const{error:_}=(0,o.Wo)();(0,n.A)(l())||_(new Error("you must call setZoom for a client store"));try{(0,r.q9)(c.UY,m)}catch(h){_(new Error(`failed to store zoom in local storage: ${h}`))}i((0,s.x8)(m))});a.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client when in BBM"}},3749529250:(N,y,e)=>{"use strict";e.d(y,{K:()=>o,z:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Enable big button mode");n.meta={name:"createAction",key:"createActionenableBBM",description:"Enable big button mode"};const o=(0,t.Ay)("Disable big button mode");o.meta={name:"createAction",key:"createActiondisableBBM",description:"Disable big button mode"}},4614661813:(N,y,e)=>{"use strict";e.d(y,{Y:()=>s});var t=e(9139930183),n=e(3749529250);const o={enabled:!1},s=(0,t.Ay)({},o,{storeKey:"bbm",persistenceEnabled:!0,persistImmediately:!0}).on(n.z,c=>({...c,enabled:!0})).on(n.K,c=>({...c,enabled:!1}))},9536404279:(N,y,e)=>{"use strict";e.d(y,{CD:()=>i,DZ:()=>c,Jt:()=>r,Np:()=>o,VG:()=>n,bz:()=>s,fp:()=>a,hX:()=>l});var t=e(2140362605);const n=(0,t.Ay)("Add timestamps to channel history");n.meta={name:"createAction",key:"createActionaddTimestamps",description:"Add timestamps to channel history"};const o=(0,t.Ay)("Remove timestamps from channel history");o.meta={name:"createAction",key:"createActionremoveTimestamp",description:"Remove timestamps from channel history"};const s=(0,t.Ay)("Remove all history for a channel");s.meta={name:"createAction",key:"createActionremoveAllTimestamps",description:"Remove all history for a channel"};const c=(0,t.Ay)("Remove all history for multiple channels");c.meta={name:"createAction",key:"createActionbulkRemoveAllTimestamps",description:"Remove all history for multiple channels"};const r=(0,t.Ay)("Was disconnected; reset reachedEnd to false");r.meta={name:"createAction",key:"createActionresetReachedEnd",description:"Was disconnected; reset reachedEnd to false"};const a=(0,t.Ay)("Drop messages from before a given timestamp");a.meta={name:"createAction",key:"createActiontruncateChannelHistoryPriorToTimestamp",description:"Drop messages from before a given timestamp"};const i=(0,t.Ay)("Drop old messages if there are too many");i.meta={name:"createAction",key:"createActiontruncateChannelHistory",description:"Drop old messages if there are too many"};const l=(0,t.Ay)("Remove all history for every channel");l.meta={name:"createAction",key:"createActionclearChannelHistory",description:"Remove all history for every channel"}},4350638406:(N,y,e)=>{"use strict";e.d(y,{Hw:()=>me,e3:()=>oe,mY:()=>le,D1:()=>te,Zc:()=>ye,ez:()=>$});var t=e(3398586081),n=e(7715417323),o=e(6533394955),s=e(8352634987);function c(ee,V){return`${ee}:${V}`}E(c,"serialize_serialize");function r(ee){const[V,w]=ee.split(":");return{channelId:V,ts:w}}E(r,"deserialize");var a=e(2028988448),i=e(2208015175),l=e(1703559452),m=e(9816084745),_=e(8289365785),h=e(8786006583),d=e(1545824888),f=e(6304789565),v=e(337319621),u=e(7334104107),g=e(6457401668),p=e(4919145213),A=e(9986847041),C=e(4365697073),T=e(3110884894),I=e(7606781622),M=e(8040098042),D=e(3080060173),O=e(12126472),S=e(1116859610);const R="HISTORY-CFM";function U(ee,V){return E(function w(Y){let{channelId:G,oldest:Z,latest:se,cursor:ae="",msgsInRange:re=[],deletedInRange:pe=[]}=Y;const de={channelId:G,oldest:Z,latest:se,cursor:ae,inclusive:!0,includePinCount:!1,reason:"channel-history-store.CFM.fetch"};return ee((0,D.Ay)(de)).then(ie=>{let{msgs:he=[],deleted:ve=[],isLimited:ge,hasMore:ke,responseMetadata:Ne={}}=ie;return re.push(...he),pe.push(...ve),ke&&!ge&&Ne.next_cursor?w({channelId:G,oldest:Z,latest:se,cursor:Ne.next_cursor,msgsInRange:re,deletedInRange:pe}):(ee((0,S.A)({msgs:re,channelId:G,isLimited:ge,latest:se,oldest:Z,deletedInRange:pe})),d.S.resolve())})},"fetchHistoryRangeHelper")(V)}E(U,"fetchHistoryRange");function P(ee,V){return E(function w(Y){let{channelId:G,threadTs:Z,oldest:se,latest:ae,cursor:re="",msgsInRange:pe=[],deletedInRange:de=[]}=Y;const ie={channelId:G,threadTs:Z,oldest:se,latest:ae,cursor:re,inclusive:!0,reason:"channel-history-store.CFM.fetch"};return ee((0,D.$b)(ie)).then(he=>{let{msgs:ve=[],deleted:ge=[],hasMore:ke,responseMetadata:Ne={}}=he;if(pe.push(...re?(0,O.A)(ve,{ts:Z}):ve),de.push(...ge),ke&&Ne.next_cursor)return w({channelId:G,threadTs:Z,oldest:se,latest:ae,cursor:Ne.next_cursor,msgsInRange:pe,deletedInRange:de});const Oe=se===Z||ae===Z?pe:(0,O.A)(pe,{ts:Z});return ee((0,S.A)({msgs:Oe,channelId:(0,T.Iu)(G,Z),latest:ae,oldest:se,deletedInRange:de})),d.S.resolve()})},"fetchRepliesRangeHelper")(V)}E(P,"fetchRepliesRange");const L=(0,f.Ay)("Fetches a range of messages",(ee,V,w)=>{let{channelId:Y,oldest:G,latest:Z}=w;if((0,v.Ay)({getState:V,label:R}).info(`Re-fetching ${Y} ${G} - ${Z}`),(0,M.A)(Y))return U(ee,{channelId:Y,oldest:G,latest:Z});const{channelId:se,threadTs:ae}=(0,T.Sb)(Y);return P(ee,{channelId:se||"",threadTs:ae||"",oldest:G,latest:Z})});L.meta={name:"createThunk",key:"createThunkfetchRange",description:"Fetches a range of messages"};var F=e(8455301571);function x(ee){const V={};return ee.forEach(w=>{const{channelId:Y,ts:G}=r(w);V[Y]=V[Y]||[],V[Y].push(G)}),V}E(x,"groupTimestampsByChannel");function b(ee){let V,w;return(0,i.A)(ee,(Y,G)=>{V===void 0&&(V=G),w===void 0&&(w=G),G<V&&(V=G),G>w&&(w=G)}),{minTs:V,maxTs:w}}E(b,"getMinAndMaxTs");function k(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,l.A)(V,(w,Y)=>ee[Y])}E(k,"hasIntersection");function B(ee,V){return(0,m.A)(V,(w,Y)=>ee[Y])}E(B,"isSuperset");function W(ee){let{ranges:V={},tsMaps:w=[]}=ee;const Y={...V};let G=w[0];return w.forEach(Z=>{G!==Z&&(k(G,Z)?B(G,Z)?delete Y[Z.rangeId]:B(Z,G)?(delete Y[G.rangeId],G=Z):(0,i.A)(Z,(se,ae)=>delete G[ae]):G=Z)}),Object.values(Y)}E(W,"dedupe");function K(ee,V){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const Y=(0,v.Ay)({state:ee,label:R}),G={},Z=[];return w.sort().forEach(se=>{const re=(0,I.Ld)(ee,V,se,!1);if(!re){Y.warn(`No message for ${se} in ${V}`);return}if((0,u.aw)(re)||(0,p.A)(re))return;const pe=[];(!(0,C.n)(re)||(0,u.jX)(re)||(0,g.SM)(re))&&pe.push(V),((0,u.jX)(re)||(0,C.n)(re))&&pe.push((0,T.Iu)(V,(0,A.L)(re))),pe.forEach(de=>{if(!de)return;const ie=(0,F.tp)(ee,de,se);if(!ie||ie===F.Vl)return;const{start:he,end:ve,timestamps:ge}=ie,ke=`${he}-${ve}`;if(!G[ke]){const We={};Object.defineProperty(We,"rangeId",{enumerable:!1,value:ke}),G[ke]={id:de,firstTs:(0,_.A)(ge),lastTs:(0,h.A)(ge),start:he||"",end:ve||"",tsMap:We},Z.push(We)}const Ne=G[ke];Ne.tsMap[se]=!0})}),{ranges:G,tsMaps:Z}}E(K,"segment");function H(ee,V){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return(W(K(ee,V,w))||[]).map(G=>{let{id:Z,firstTs:se,lastTs:ae,start:re,end:pe,tsMap:de}=G;const{minTs:ie,maxTs:he}=b(de);return{id:Z,oldest:ie===se?re:ie,latest:he===ae?pe:he}})}E(H,"rangify");const z=(0,f.Ay)("Fetches chunks of channel history for the given message IDs",(ee,V,w)=>{let{ids:Y}=w;const G=x(Y),Z={};return(0,i.A)(G,(se,ae)=>{const re=H(V(),ae,se);Z[ae]=d.S.map(re,pe=>{let{oldest:de,latest:ie,id:he}=pe;return ee(L({channelId:he,oldest:de,latest:ie}))})}),d.S.all(Object.values(Z))});z.meta={name:"createThunk",key:"createThunkrefetchChannelHistory",description:"Fetches chunks of channel history for the given message IDs"};const Q=z,q=(0,t.A)(()=>new s.Ay({storeKey:"channelHistory",fetch:(ee,V)=>(0,o.Qw)(ee,Q({ids:V})),metricsName:"channel-history",isEnabled:()=>!0,markStaleAfterSlowReconnect:()=>!1})),$=E((ee,V,w)=>q().maybeRefetch(ee,c(V,w)),"maybeRefetch"),le=E((ee,V,w)=>q().markObjectsAsFresh(ee,w.map(Y=>c(V,Y))),"markObjectsAsFresh"),te=E((ee,V,w)=>q().markObjectsAsStale(ee,w.map(Y=>c(V,Y))),"markObjectsAsStale"),ce=E((ee,V,w)=>q().isObjectFresh(ee,serialize(V,w)),"isObjectFresh"),me=E(ee=>q().getFreshObjects(ee).map(r),"getFreshObjects");(0,a.zv)("conditionalFetchManagerChannelHistory",q);const _e="reachedEnd",Ae=(0,t.A)(()=>new s.Ay({storeKey:"channelHistory",fetch:n.A,metricsName:"channel-history-reached-end",isEnabled:()=>!0})),ye=E(ee=>Ae().markObjectsAsFresh(ee,[_e]),"markReachedEndAsFresh"),oe=E(ee=>Ae().isObjectFresh(ee,[_e]),"isReachedEndFresh")},4588548461:(N,y,e)=>{"use strict";e.d(y,{J:()=>n,T:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Set the date joined for a channel");n.meta={name:"createAction",key:"createActionsetChannelDateJoined",description:"Set the date joined for a channel"};const o=(0,t.Ay)("Bulk set inital last read values for channels when first loaded");o.meta={name:"createAction",key:"createActionbulkSetChannelInitLastReads",description:"Bulk set inital last read values for channels when first loaded"}},7910147864:(N,y,e)=>{"use strict";e.d(y,{Kh:()=>s,Rd:()=>o,Tw:()=>n});var t=e(3009309149);const n=(0,t.Ay)(c=>{var r;return(r=c.channelJoin)===null||r===void 0?void 0:r.initLastReadsLoaded});n.meta={name:"createSelector",key:"createSelectorgetInitLastReadsLoaded",description:c=>{var r;return(r=c.channelJoin)===null||r===void 0?void 0:r.initLastReadsLoaded}};const o=(0,t.Ay)((c,r)=>{var a,i,l;return((a=c.channelJoin)===null||a===void 0||(i=a.channelData)===null||i===void 0||(l=i[r])===null||l===void 0?void 0:l.dateJoined)||0});o.meta={name:"createSelector",key:"createSelectorgetDateJoinedByChannelId",description:(c,r)=>{var a,i,l;return((a=c.channelJoin)===null||a===void 0||(i=a.channelData)===null||i===void 0||(l=i[r])===null||l===void 0?void 0:l.dateJoined)||0}};const s=(0,t.Ay)((c,r)=>{var a,i,l;return(a=c.channelJoin)===null||a===void 0||(i=a.channelData)===null||i===void 0||(l=i[r])===null||l===void 0?void 0:l.initLastRead});s.meta={name:"createSelector",key:"createSelectorgetInitLastReadByChannelId",description:(c,r)=>{var a,i,l;return(a=c.channelJoin)===null||a===void 0||(i=a.channelData)===null||i===void 0||(l=i[r])===null||l===void 0?void 0:l.initLastRead}}},7097022175:(N,y,e)=>{"use strict";e.d(y,{Y:()=>o,r:()=>n});var t=e(7933637612);const{addObjects:n,removeObjects:o}=t.o1},7933637612:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>r,Tp:()=>c,o1:()=>s});var t=e(9808233350);const n={storeKey:"channelLoading",persistenceEnabled:!1},{reducer:o,actions:s,selectors:c}=(0,t.A)(n,{idKey:"channelId",transform:a=>{const{channelId:i,...l}=a;return{id:i,object:l}}}),r=o},8298125694:(N,y,e)=>{"use strict";e.d(y,{Ah:()=>s,Qr:()=>c,c:()=>r});var t=e(3009309149),n=e(7933637612);const{getObjectById:o}=n.Tp,s=E((i,l)=>o(i,l),"innerGetChannelLoadingDataById"),c=(0,t.Ay)((i,l)=>{var m;return!!(!((m=s(i,l))===null||m===void 0)&&m.loading)});c.meta={name:"createSelector",key:"createSelectorisChannelLoading",description:(i,l)=>{var m;return!!(!((m=s(i,l))===null||m===void 0)&&m.loading)}};const r=(0,t.Ay)((i,l)=>{const m=s(i,l);return!!(m!=null&&m.loading&&(m!=null&&m.loadingOlder))});r.meta={name:"createSelector",key:"createSelectorisChannelLoadingOlder",description:(i,l)=>{const m=s(i,l);return!!(m!=null&&m.loading&&(m!=null&&m.loadingOlder))}};const a={innerGetChannelLoadingDataById:s}},3528815215:(N,y,e)=>{"use strict";e.d(y,{f:()=>o});var t=e(6304789565),n=e(7097022175);const o=(0,t.Ay)("Finished loading history for a channel",(s,c,r)=>{const{channelId:a}=r||{};s((0,n.Y)({ids:[a]}))});o.meta={name:"createThunk",key:"createThunkdoneLoading",description:"Finished loading history for a channel"}},1284885799:(N,y,e)=>{"use strict";e.d(y,{v:()=>s});var t=e(6304789565),n=e(8298125694),o=e(7097022175);const s=(0,t.Ay)("Started loading history for a channel",(c,r,a)=>{const{channelId:i,loadingOlder:l,request:m}=a||{},_=(0,n.Ah)(r(),i);_&&_.loading&&_.request&&_.request.cancel(),c((0,o.r)({objects:[{channelId:i,loading:!0,loadingOlder:l,request:m}]}))});s.meta={name:"createThunk",key:"createThunkstartLoading",description:"Started loading history for a channel"}},4425457544:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>m,Dk:()=>l,Lv:()=>i,UJ:()=>a});var t=e(9392104102),n=e(6304789565),o=e(9808233350);const{actions:s,reducer:c,selectors:r}=(0,o.A)({persistenceEnabled:!0,storeKey:"channelMutationTimestamps"},{idKey:"channelId",transform:_=>{const{channelId:h,...d}=_;return{id:h,object:d}},update:(_,h)=>({...h,..._})}),a=(0,n.Ay)("Add or update a channel mutation timestamp",(_,h,d)=>{_(s.addObjects({objects:[d]}))});a.meta={name:"createThunk",key:"createThunkaddOrUpdateChannelMutationTimestamp",description:"Add or update a channel mutation timestamp"};const i=(0,n.Ay)("Bulk add or update a channel mutation timestamps",(_,h,d)=>{_(s.addObjects({objects:d}))});i.meta={name:"createThunk",key:"createThunkbulkAddOrUpdateChannelMutationTimestamps",description:"Bulk add or update a channel mutation timestamps"};const l=E((_,h)=>{var d;return(d=r.getObjectById(_,h))!==null&&d!==void 0?d:t.t0},"getChannelMutationTimestamp"),m=c},3273285825:(N,y,e)=>{"use strict";e.d(y,{Z:()=>n,j:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Update the last channel switch trigger");n.meta={name:"createAction",key:"createActionupdateChannelLastTrigger",description:"Update the last channel switch trigger"};const o=(0,t.Ay)("Update the last channel focus time");o.meta={name:"createAction",key:"createActionupdateChannelLastFocus",description:"Update the last channel focus time"}},1711848812:(N,y,e)=>{"use strict";e.d(y,{E:()=>l});var t=e(6790819894),n=e(9101533895),o=e(1407713935),s=e(4459831283),c=e(6795500641),r=e(4587082424),a=e(4371795352),i=e(6224506772);const l=(0,t.F)(n.DM,c.Oe,s.NP,c.vT,c.ZO,a.g,i.oO,r.mK,(m,_,h,d,f)=>{const v=m.filter(u=>!(0,o.cb)(u));return h&&d&&!f?v.filter(g=>_==null?void 0:_.includes(g.id)):v})},8233490363:(N,y,e)=>{"use strict";e.d(y,{v:()=>l});var t=e(3009309149),n=e(1670069836),o=e(8847766420),s=e(6839188756),c=e(918457931),r=e(3929724715),a=e(2298581483),i=e(766806);const l=(0,t.Ay)((m,_)=>{let{channel:h,xwsAlpha:d=!1}=_;if(d&&(0,c.M)(h)){const v=(0,a.R)(m,h),u=(0,o.kN)(m),g=(0,i.wc)(m,"always_show_workspace_name"),p=g==null?void 0:g.filter(C=>u==null?void 0:u.includes(C)),A=v==null?void 0:v.map(C=>(0,n._J)(m,C)).filter(C=>p!=null&&p.length?!!(p!=null&&p.includes((0,s.ZT)(C)))&&!(0,s.t8)(C):!0).sort((C,T)=>{const I=(0,s.F1)(C),M=(0,s.F1)(T);return I.localeCompare(M)});if(A!=null&&A[0])return A[0]}const f=!(0,c.M)(h)&&(0,r.ne)(m,h);return(f?(0,n._J)(m,f):void 0)||(0,n.H7)(m)});l.meta={name:"createSelector",key:"createSelectorgetTeamForChannelInUnifiedGrid",description:(m,_)=>{let{channel:h,xwsAlpha:d=!1}=_;if(d&&(0,c.M)(h)){const v=(0,a.R)(m,h),u=(0,o.kN)(m),g=(0,i.wc)(m,"always_show_workspace_name"),p=g==null?void 0:g.filter(C=>u==null?void 0:u.includes(C)),A=v==null?void 0:v.map(C=>(0,n._J)(m,C)).filter(C=>p!=null&&p.length?!!(p!=null&&p.includes((0,s.ZT)(C)))&&!(0,s.t8)(C):!0).sort((C,T)=>{const I=(0,s.F1)(C),M=(0,s.F1)(T);return I.localeCompare(M)});if(A!=null&&A[0])return A[0]}const f=!(0,c.M)(h)&&(0,r.ne)(m,h);return(f?(0,n._J)(m,f):void 0)||(0,n.H7)(m)}}},8146089001:(N,y,e)=>{"use strict";e.d(y,{a:()=>s});var t=e(3009309149),n=e(6839188756),o=e(8233490363);const s=(0,t.Ay)((c,r)=>{let{channel:a,xwsAlpha:i=!1}=r;const l=(0,o.v)(c,{channel:a,xwsAlpha:i});return(0,n.F1)(l)});s.meta={name:"createSelector",key:"createSelectorgetTeamNameForChannelInUnifiedGrid",description:(c,r)=>{let{channel:a,xwsAlpha:i=!1}=r;const l=(0,o.v)(c,{channel:a,xwsAlpha:i});return(0,n.F1)(l)}}},9606603587:(N,y,e)=>{"use strict";e.d(y,{B:()=>s});var t=e(6304789565),n=e(3430841143),o=e(9530687876);const s=(0,t.Ay)(o.rd.ADD_CHANNEL,function(c,r){let{channel:a}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!a||!a.id||c((0,n.F)({channel:a,reason:o.rd.ADD_CHANNEL}))});s.meta={name:"createThunk",key:"createThunkaddChannel",description:o.rd.ADD_CHANNEL}},1761027239:(N,y,e)=>{"use strict";e.d(y,{t:()=>i});var t=e(1545824888),n=e(6304789565),o=e(4446301238),s=e(3430841143),c=e(9530687876),r=e(4117634716),a=e(8822892075);const i=(0,n.Ay)("Archives a private channel, creates and upserts a new one with the same name, then adds users",(l,m,_)=>{let{channelId:h,users:d,subteams:f,inviteAll:v,force:u,propagateInviteResult:g}=_;return l((0,o.wb)({channelId:h,reason:c.rd.CHILD_CHANNEL_CREATED})).then(function(){let{channel:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return l((0,s.F)({channel:p,reason:c.rd.CHILD_CHANNEL_CREATED})),l((0,r.o)((0,a.pr)(p.id))),g?v||d||f?l((0,o.Cw)({channelId:p.id,users:d,subteams:f,inviteAll:v,force:u})).then(A=>({channel:p,inviteResult:A})):t.S.resolve({channel:p,inviteResult:{ok:!0}}):(l((0,o.Cw)({channelId:p.id,users:d,subteams:f})),t.S.resolve({channel:p}))})});i.meta={name:"createThunk",key:"createThunkcreateChildChannelAndAddMembers",description:"Archives a private channel, creates and upserts a new one with the same name, then adds users"}},613926746:(N,y,e)=>{"use strict";e.d(y,{Z:()=>o});var t=e(6304789565),n=e(7631186994);const o=(0,t.Ay)("Create or open an IM",function(s,c){let{memberId:r,shouldNavigateToChannel:a=!0,reason:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=r?[r]:[];return s((0,n.r)({memberIds:l,shouldNavigateToChannel:a,reason:i}))});o.meta={name:"createThunk",key:"createThunkstartImByMemberId",description:"Create or open an IM"}},7631186994:(N,y,e)=>{"use strict";e.d(y,{r:()=>h});var t=e(1545824888),n=e(9113979368),o=e(235108050),s=e(6304789565),c=e(5795074931),r=e(3929724715),a=e(4446301238),i=e(8822892075),l=e(9101533895),m=e(3430841143),_=e(4117634716);const h=(0,s.Ay)("Create or open an MPIM",function(d,f){let{memberIds:v,shouldNavigateToChannel:u=!0,isQuiet:g=!1,reason:p="startMpimByMemberIds"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,n.A)(v))return t.S.resolve();const A=f(),C=E(M=>(d((0,_.o)((0,i.pr)(M.id))),t.S.resolve(M)),"navigateToChannel");let T,I;if(v.length===1)I=v,T=(0,l.Pu)(A,v[0]);else{const M=(0,c.WR)(A);I=(0,o.A)([M,...v]),T=(0,l.FB)(A,I)}return(0,r.nT)(T)?u?C(T):t.S.resolve(T):d((0,a.jP)({isQuiet:g,memberIds:I,reason:p})).then(M=>!M||!M.channel?t.S.reject(new Error("missing-channel")):(d((0,m.F)({channel:M.channel})),u?C(M.channel):t.S.resolve(M.channel)))});h.meta={name:"createThunk",key:"createThunkstartMpimByMemberIds",description:"Create or open an MPIM"}},4711657482:(N,y,e)=>{"use strict";e.d(y,{CS:()=>m,HM:()=>s,IX:()=>d,JC:()=>g,JT:()=>I,Kv:()=>L,MC:()=>C,MD:()=>le,Ov:()=>A,PV:()=>Q,RS:()=>D,Ri:()=>B,VM:()=>T,Xr:()=>f,Xu:()=>a,Y5:()=>q,Ye:()=>p,Yr:()=>n,Yy:()=>M,Z8:()=>z,_Q:()=>o,ai:()=>F,e0:()=>R,f:()=>K,fc:()=>S,fl:()=>v,ho:()=>b,i9:()=>i,kB:()=>h,ke:()=>u,l3:()=>W,mP:()=>P,mt:()=>$,qC:()=>O,r5:()=>H,r6:()=>_,rl:()=>k,uN:()=>l,vp:()=>c,yK:()=>U,yQ:()=>r,yg:()=>x});var t=e(2140362605);const n=(0,t.Ay)("Checkout Address Form Data Loaded");n.meta={name:"createAction",key:"createActioncheckoutAddressFormDataLoaded",description:"Checkout Address Form Data Loaded"};const o=(0,t.Ay)("Checkout Credit Card Form Loaded");o.meta={name:"createAction",key:"createActionupdateCheckoutCreditCardFormLoaded",description:"Checkout Credit Card Form Loaded"};const s=(0,t.Ay)("Checkout States and Countries Data Loaded");s.meta={name:"createAction",key:"createActioncheckoutStatesAndCountriesDataLoaded",description:"Checkout States and Countries Data Loaded"};const c=(0,t.Ay)("Checkout Company Address Data Loaded");c.meta={name:"createAction",key:"createActioncheckoutCompanyAddressDataLoaded",description:"Checkout Company Address Data Loaded"};const r=(0,t.Ay)("Checkout Action for setting isFetchingCurrencyAfterCountryChange");r.meta={name:"createAction",key:"createActionsetIsFetchingCurrencyAfterCountryChange",description:"Checkout Action for setting isFetchingCurrencyAfterCountryChange"};const a=(0,t.Ay)("Update Company Address Field");a.meta={name:"createAction",key:"createActionupdateCompanyAddressField",description:"Update Company Address Field"};const i=(0,t.Ay)("Update is country from auto detect");i.meta={name:"createAction",key:"createActionupdateIsCountryFromAutoDetect",description:"Update is country from auto detect"};const l=(0,t.Ay)("Company Address Validated");l.meta={name:"createAction",key:"createActioncompanyAddressValidated",description:"Company Address Validated"};const m=(0,t.Ay)("Company Address Form Field Validated");m.meta={name:"createAction",key:"createActioncompanyAddressFormFieldValidated",description:"Company Address Form Field Validated"};const _=(0,t.Ay)("Clear Company Address Form Field Validation Errors");_.meta={name:"createAction",key:"createActionclearCompanyAddressFormFieldValidationErrors",description:"Clear Company Address Form Field Validation Errors"};const h=(0,t.Ay)("Upgrade Response Received");h.meta={name:"createAction",key:"createActiononUpgradeResponseReceived",description:"Upgrade Response Received"};const d=(0,t.Ay)("Purchase Attempt Response Received");d.meta={name:"createAction",key:"createActiononPurchaseAttemptResponseReceived",description:"Purchase Attempt Response Received"};const f=(0,t.Ay)("Addon Purchase Attempt Response Received");f.meta={name:"createAction",key:"createActiononAddonPurchaseResponseReceived",description:"Addon Purchase Attempt Response Received"};const v=(0,t.Ay)("Purchase Attempt Confirmation Response Received");v.meta={name:"createAction",key:"createActiononPurchaseAttemptConfirmationResponseReceived",description:"Purchase Attempt Confirmation Response Received"};const u=(0,t.Ay)("Update Stripe API Key");u.meta={name:"createAction",key:"createActionupdateStripeApiKey",description:"Update Stripe API Key"};const g=(0,t.Ay)("Update Invoice Data Field");g.meta={name:"createAction",key:"createActionupdateInvoiceDataField",description:"Update Invoice Data Field"};const p=(0,t.Ay)("Invoice Data Validated");p.meta={name:"createAction",key:"createActioninvoiceDataValidated",description:"Invoice Data Validated"};const A=(0,t.Ay)("Invoice Form Field Validated");A.meta={name:"createAction",key:"createActioninvoiceDataFieldValidated",description:"Invoice Form Field Validated"};const C=(0,t.Ay)("Clear Any Existing Payment Status or Errors");C.meta={name:"createAction",key:"createActionclearPaymentStatus",description:"Clear Any Existing Payment Status or Errors"};const T=(0,t.Ay)("Self User Data Loaded");T.meta={name:"createAction",key:"createActionselfUserDataLoaded",description:"Self User Data Loaded"};const I=(0,t.Ay)("Update Is Processing Payment");I.meta={name:"createAction",key:"createActionupdateIsProcessingPayment",description:"Update Is Processing Payment"};const M=(0,t.Ay)("Update Payment Method Selected");M.meta={name:"createAction",key:"createActionupdatePaymentMethodSelected",description:"Update Payment Method Selected"};const D=(0,t.Ay)("Update Show App Disconnect Dialog");D.meta={name:"createAction",key:"createActionupdateIsAppDisconnectedDialogShown",description:"Update Show App Disconnect Dialog"};const O=(0,t.Ay)("Update Active Checkout Step");O.meta={name:"createAction",key:"createActionupdateActiveCheckoutStep",description:"Update Active Checkout Step"};const S=(0,t.Ay)("Update Active Checkout Step");S.meta={name:"createAction",key:"createActionupdateActiveSteppedCheckoutStep",description:"Update Active Checkout Step"};const R=(0,t.Ay)("Update Active Country");R.meta={name:"createAction",key:"createActionupdateActiveCountry",description:"Update Active Country"};const U=(0,t.Ay)("Checkout configuration data loaded");U.meta={name:"createAction",key:"createActioncheckoutConfigurationDataLoaded",description:"Checkout configuration data loaded"};const P=(0,t.Ay)("Update Checkout Flow API Error Indicator");P.meta={name:"createAction",key:"createActionupdateIsCheckoutFlowAPIError",description:"Update Checkout Flow API Error Indicator"};const L=(0,t.Ay)("Update checkout store values with configuration data");L.meta={name:"createAction",key:"createActionupdateCheckoutWithConfigData",description:"Update checkout store values with configuration data"};const F=(0,t.Ay)("Redeem partner promo code failed");F.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeFailed",description:"Redeem partner promo code failed"};const x=(0,t.Ay)("Redeem partner promo code success");x.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeSuccess",description:"Redeem partner promo code success"};const b=(0,t.Ay)("Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret");b.meta={name:"createAction",key:"createActionsetIsLoadingStripeCustomerAndPaymentMethods",description:"Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret"};const k=(0,t.Ay)("Sets Active Payment Method Id");k.meta={name:"createAction",key:"createActionsetActivePaymentMethodId",description:"Sets Active Payment Method Id"};const B=(0,t.Ay)("Sets Active Stripe Customer Id");B.meta={name:"createAction",key:"createActionsetActiveStripeCustomerId",description:"Sets Active Stripe Customer Id"};const W=(0,t.Ay)("Sets Active Stripe Customer Payment Method Types for UPE");W.meta={name:"createAction",key:"createActionsetPaymentMethodTypes",description:"Sets Active Stripe Customer Payment Method Types for UPE"};const K=(0,t.Ay)("Sets Payment Methods");K.meta={name:"createAction",key:"createActionsetPaymentMethods",description:"Sets Payment Methods"};const H=(0,t.Ay)("Sets the PaymentElementError, i.e. the error message");H.meta={name:"createAction",key:"createActionsetPaymentElementError",description:"Sets the PaymentElementError, i.e. the error message"};const z=(0,t.Ay)("Stripe UPE credit card form is complete");z.meta={name:"createAction",key:"createActionsetIsStripeUpeComplete",description:"Stripe UPE credit card form is complete"};const Q=(0,t.Ay)("Stripe UPE credit card form has interactiono");Q.meta={name:"createAction",key:"createActionsetHasUPEInteraction",description:"Stripe UPE credit card form has interactiono"};const q=(0,t.Ay)("Is address form collapsed and not editable");q.meta={name:"createAction",key:"createActionsetIsAddressFormCollapsed",description:"Is address form collapsed and not editable"};const $=(0,t.Ay)("Select or deselect an addon by type");$.meta={name:"createAction",key:"createActiontoggleSelectedAddon",description:"Select or deselect an addon by type"};const le=(0,t.Ay)("Select or deselect an addon by type");le.meta={name:"createAction",key:"createActionsetAddonsForPurchase",description:"Select or deselect an addon by type"}},6460545324:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>a,bE:()=>r,eM:()=>s,gW:()=>c,x:()=>n,xj:()=>o});const t={form:"form",review:"review",success:"success",addons:"addons",addon_success:"addon_success",trial_review:"trial_review",trial_success:"trial_success"},n={overview:"overview",address:"address",payment:"payment",review:"review"},o=200,s={educational:"educational",local:{brazil:"local_discount_real",india:"local_discount_rupee"},nonprofit:"nonprofit",tenured_teams:"tenured_teams_discount",wfh_bundle:"wfhbundle",atlassian_2020:"atlassian_2020",smart_discount:"smart_discount",paid_acquisition_self_serve:"paid_acquisition_self_serve",price_increase_churn_prevention:"price_increase_churn_prevention",sfdc_customer_coupon_2022:"sfdc_customer_coupon_2022",slack_grb_campaign_coupon_2022:"slack_grb_campaign_coupon_2022",straight_to_paid:"straight_to_paid",self_serve_affiliates:"self_serve_affiliates",pricing_and_packaging_promo:"pricing_and_packaging_promo",new_year_promo:"new_year_promo",data_deletion_discount:"evergreen_data_deletion_discount",downgrade_discount_discount_50_pct_3_months:"downgrade_discount_discount_50_pct_3_months",downgrade_discount_discount_15_pct_12_months:"downgrade_discount_discount_15_pct_12_months",pnp_discount:"pnp_discount"},c="partner_growth",r={TEAM_INELIGIBLE:"team_ineligible",CODE_ALREADY_REDEEMED:"code_already_redeemed"},a=t},3559164431:(N,y,e)=>{"use strict";e.d(y,{$3:()=>g,BD:()=>de,Bj:()=>me,Bo:()=>l,Cb:()=>ve,D5:()=>q,E$:()=>u,EX:()=>Z,Ex:()=>k,GG:()=>ke,Hg:()=>ge,IK:()=>be,J5:()=>h,Ju:()=>Ne,M:()=>D,MA:()=>I,Oe:()=>V,S_:()=>a,U$:()=>d,VE:()=>L,VV:()=>_,Vs:()=>P,WP:()=>Q,Wq:()=>i,X:()=>le,YW:()=>f,Yv:()=>r,Zl:()=>p,Zn:()=>W,bB:()=>A,bW:()=>ae,bm:()=>he,c9:()=>oe,cR:()=>$,ch:()=>Y,d2:()=>H,fD:()=>Fe,fx:()=>ie,gr:()=>M,h0:()=>te,hy:()=>Oe,iD:()=>G,k7:()=>v,kr:()=>_e,lK:()=>ee,oi:()=>x,oy:()=>b,p:()=>ye,qR:()=>Ae,qn:()=>S,r2:()=>We,r8:()=>B,rn:()=>K,t5:()=>F,tG:()=>m,vO:()=>se,wz:()=>C,y4:()=>Ke,zj:()=>O});var t=e(3009309149),n=e(5597672932),o=e(9113979368),s=e(6323355797),c=e(9392104102);const r=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.companyAddress||!J.checkoutFlow.companyAddress.validationErrors?!1:Object.values(J.checkoutFlow.companyAddress.validationErrors).some(ne=>ne));r.meta={name:"createSelector",key:"createSelectorhasAddressFormErrors",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.companyAddress||!J.checkoutFlow.companyAddress.validationErrors?!1:Object.values(J.checkoutFlow.companyAddress.validationErrors).some(ne=>ne)};const a=(0,t.Ay)(J=>{var ne;return(J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.activeStripeCustomerId)||null});a.meta={name:"createSelector",key:"createSelectorgetActiveCustomerId",description:J=>{var ne;return(J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.activeStripeCustomerId)||null}};const i=(0,t.Ay)(J=>{var ne;return(J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.isFetchingCurrencyAfterCountryChange)||!1});i.meta={name:"createSelector",key:"createSelectorgetIsFetchingCurrencyAfterCountryChange",description:J=>{var ne;return(J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.isFetchingCurrencyAfterCountryChange)||!1}};const l=(0,t.Ay)(J=>{var ne,je;return!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.activeStripeCustomerId)||!(!(J==null||(je=J.checkoutFlow)===null||je===void 0)&&je.activePaymentMethodIdMap)?null:J.checkoutFlow.activePaymentMethodIdMap[J.checkoutFlow.activeStripeCustomerId]});l.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodId",description:J=>{var ne,je;return!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.activeStripeCustomerId)||!(!(J==null||(je=J.checkoutFlow)===null||je===void 0)&&je.activePaymentMethodIdMap)?null:J.checkoutFlow.activePaymentMethodIdMap[J.checkoutFlow.activeStripeCustomerId]}};const m=(0,t.Ay)(J=>{var ne;return!J||!J.checkoutFlow?null:(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.activePaymentMethodIdMap});m.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodIdMap",description:J=>{var ne;return!J||!J.checkoutFlow?null:(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.activePaymentMethodIdMap}};const _=(0,t.Ay)(J=>{var ne;return!J||!J.checkoutFlow?null:(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.paymentMethodTypes});_.meta={name:"createSelector",key:"createSelectorgetPaymentMethodTypes",description:J=>{var ne;return!J||!J.checkoutFlow?null:(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.paymentMethodTypes}};const h=(0,t.Ay)(J=>!J||!J.checkoutFlow?null:J.checkoutFlow.paymentMethods);h.meta={name:"createSelector",key:"createSelectorgetPaymentMethods",description:J=>!J||!J.checkoutFlow?null:J.checkoutFlow.paymentMethods};const d=(0,t.Ay)(J=>{const ne=l(J);if(!ne||(0,o.A)(ne))return null;const je=h(J);return!ne||!Array.isArray(je)?null:je.find(at=>at.id===ne)});d.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethod",description:J=>{const ne=l(J);if(!ne||(0,o.A)(ne))return null;const je=h(J);return!ne||!Array.isArray(je)?null:je.find(at=>at.id===ne)}};const f=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.companyAddress?null:J.checkoutFlow.companyAddress);f.meta={name:"createSelector",key:"createSelectorgetCompanyAddress",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.companyAddress?null:J.checkoutFlow.companyAddress};const v=(0,t.Ay)(J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isAddressFormCollapsed)});v.meta={name:"createSelector",key:"createSelectorgetIsAddressFormCollapsed",description:J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isAddressFormCollapsed)}};const u=(0,t.Ay)(J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isPaymentMethodSectionDisplayed)});u.meta={name:"createSelector",key:"createSelectorgetIsPaymentMethodSectionDisplayed",description:J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isPaymentMethodSectionDisplayed)}};const g=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:J.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods);g.meta={name:"createSelector",key:"createSelectorgetIsLoadingStripeCustomerAndPaymentMethods",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:J.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods};const p=(0,t.Ay)(J=>{var ne,je;return!(J==null||(ne=J.checkoutFlow)===null||ne===void 0||(je=ne.config)===null||je===void 0)&&je.countryMap?J.checkoutFlow.config.countryMap:null});p.meta={name:"createSelector",key:"createSelectorgetCountryMap",description:J=>{var ne,je;return!(J==null||(ne=J.checkoutFlow)===null||ne===void 0||(je=ne.config)===null||je===void 0)&&je.countryMap?J.checkoutFlow.config.countryMap:null}};const A=(0,t.Ay)(J=>{var ne;return J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.paymentElementError});A.meta={name:"createSelector",key:"createSelectorgetPaymentElementError",description:J=>{var ne;return J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.paymentElementError}};const C=(0,t.Ay)(J=>{const ne=f(J);return ne?ne.country:null});C.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountry",description:J=>{const ne=f(J);return ne?ne.country:null}};const T=(0,t.Ay)(J=>{const ne=f(J);return!ne||!ne.validationErrors||!ne.validationErrors.country?null:ne.validationErrors.country.errorText});T.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountryError",description:J=>{const ne=f(J);return!ne||!ne.validationErrors||!ne.validationErrors.country?null:ne.validationErrors.country.errorText}};const I=(0,t.Ay)(J=>{var ne,je,at;return(ne=f(J))===null||ne===void 0||(je=ne.validationErrors)===null||je===void 0||(at=je.vatId)===null||at===void 0?void 0:at.errorText});I.meta={name:"createSelector",key:"createSelectorgetCompanyAddressVatIdError",description:J=>{var ne,je,at;return(ne=f(J))===null||ne===void 0||(je=ne.validationErrors)===null||je===void 0||(at=je.vatId)===null||at===void 0?void 0:at.errorText}};const M=(0,t.Ay)(J=>{const ne=f(J);return ne?ne.postalCode:null});M.meta={name:"createSelector",key:"createSelectorgetCompanyAddressPostalCode",description:J=>{const ne=f(J);return ne?ne.postalCode:null}};const D=(0,t.Ay)(J=>{const ne=f(J);return ne?ne.region:null});D.meta={name:"createSelector",key:"createSelectorgetCompanyAddressRegion",description:J=>{const ne=f(J);return ne?ne.region:null}};const O=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.config?null:J.checkoutFlow.config);O.meta={name:"createSelector",key:"createSelectorgetConfig",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.config?null:J.checkoutFlow.config};const S=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration?null:J.checkoutFlow.checkoutConfiguration);S.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfig",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration?null:J.checkoutFlow.checkoutConfiguration};const R=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.currentTerm?null:J.checkoutFlow.checkoutConfiguration.currentTerm===s.ck.yearly);R.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigTermIsYearly",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.currentTerm?null:J.checkoutFlow.checkoutConfiguration.currentTerm===s.ck.yearly};const U=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:J.checkoutFlow.checkoutConfiguration.currentPlanLevel);U.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigPlanLevel",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:J.checkoutFlow.checkoutConfiguration.currentPlanLevel};const P=(0,t.Ay)(J=>{var ne,je;return(je=J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.isCheckoutConfigurationDataLoaded)!==null&&je!==void 0?je:!1});P.meta={name:"createSelector",key:"createSelectorisCheckoutPreConfigLoaded",description:J=>{var ne,je;return(je=J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.isCheckoutConfigurationDataLoaded)!==null&&je!==void 0?je:!1}};const L=(0,t.Ay)(J=>{var ne,je;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0||(je=ne.checkoutConfiguration)===null||je===void 0)&&je.isFutureSwitch)});L.meta={name:"createSelector",key:"createSelectorselectIsFutureProductSwitch",description:J=>{var ne,je;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0||(je=ne.checkoutConfiguration)===null||je===void 0)&&je.isFutureSwitch)}};const F=(0,t.Ay)(J=>{var ne,je;return(J==null||(ne=J.checkoutFlow)===null||ne===void 0||(je=ne.checkoutConfiguration)===null||je===void 0?void 0:je.availableTerms)||null});F.meta={name:"createSelector",key:"createSelectorselectAvailableTerms",description:J=>{var ne,je;return(J==null||(ne=J.checkoutFlow)===null||ne===void 0||(je=ne.checkoutConfiguration)===null||je===void 0?void 0:je.availableTerms)||null}};const x=(0,t.Ay)(J=>{var ne,je;return(J==null||(ne=J.checkoutFlow)===null||ne===void 0||(je=ne.checkoutConfiguration)===null||je===void 0?void 0:je.upeSelectedAvailableTerms)||null});x.meta={name:"createSelector",key:"createSelectorgetUpeSelectedAvailableTerms",description:J=>{var ne,je;return(J==null||(ne=J.checkoutFlow)===null||ne===void 0||(je=ne.checkoutConfiguration)===null||je===void 0?void 0:je.upeSelectedAvailableTerms)||null}};const b=(0,t.Ay)(J=>{var ne,je;return J==null||(ne=J.checkoutFlow)===null||ne===void 0||(je=ne.checkoutConfiguration)===null||je===void 0?void 0:je.redirectUrl});b.meta={name:"createSelector",key:"createSelectorselectRedirectUrl",description:J=>{var ne,je;return J==null||(ne=J.checkoutFlow)===null||ne===void 0||(je=ne.checkoutConfiguration)===null||je===void 0?void 0:je.redirectUrl}};const k=(0,t.Ay)(J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isCheckoutAddressFormDataLoaded)});k.meta={name:"createSelector",key:"createSelectorisCheckoutAddressFormDataLoaded",description:J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isCheckoutAddressFormDataLoaded)}};const B=(0,t.Ay)(J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isCountryFromAutoDetect)});B.meta={name:"createSelector",key:"createSelectorgetIsCountryFromAutoDetect",description:J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isCountryFromAutoDetect)}};const W=(0,t.Ay)(J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isCheckoutCreditCardFormLoaded)});W.meta={name:"createSelector",key:"createSelectorgetIsCheckoutCreditCardFormLoaded",description:J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isCheckoutCreditCardFormLoaded)}};const K=(0,t.Ay)(J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isStripeUpeComplete)});K.meta={name:"createSelector",key:"createSelectorgetIsStripeUpeComplete",description:J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.isStripeUpeComplete)}};const H=(0,t.Ay)(J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.hasUPEInteraction)});H.meta={name:"createSelector",key:"createSelectorgetHasUPEInteraction",description:J=>{var ne;return!!(!(J==null||(ne=J.checkoutFlow)===null||ne===void 0)&&ne.hasUPEInteraction)}};const z=(0,t.Ay)(J=>!J||!J.checkoutFlow?null:J.checkoutFlow.paymentStatus);z.meta={name:"createSelector",key:"createSelectorgetPaymentStatus",description:J=>!J||!J.checkoutFlow?null:J.checkoutFlow.paymentStatus};const Q=(0,t.Ay)(J=>{const ne=z(J);return ne?ne.ok===!0&&!ne.error&&!ne.isActionRequiredOnPurchaseAttempt:!1});Q.meta={name:"createSelector",key:"createSelectordidUpgradeSucceed",description:J=>{const ne=z(J);return ne?ne.ok===!0&&!ne.error&&!ne.isActionRequiredOnPurchaseAttempt:!1}};const q=(0,t.Ay)(J=>{const ne=z(J);return ne?ne.error&&ne.msg?ne.msg:ne.error:""});q.meta={name:"createSelector",key:"createSelectorgetUpgradeError",description:J=>{const ne=z(J);return ne?ne.error&&ne.msg?ne.msg:ne.error:""}};const $=(0,t.Ay)(J=>{const ne=z(J);return!!(ne!=null&&ne.isProcessingPayment)});$.meta={name:"createSelector",key:"createSelectorselectIsProcessingPayment",description:J=>{const ne=z(J);return!!(ne!=null&&ne.isProcessingPayment)}};const le=(0,t.Ay)(J=>{const ne=O(J);return ne?ne.stripeApiKey:null});le.meta={name:"createSelector",key:"createSelectorselectStripeApiKey",description:J=>{const ne=O(J);return ne?ne.stripeApiKey:null}};const te=(0,t.Ay)(J=>{const ne=O(J);return ne?ne.sourcesPayable:null});te.meta={name:"createSelector",key:"createSelectorselectSourcesPayable",description:J=>{const ne=O(J);return ne?ne.sourcesPayable:null}};const ce=(0,t.Ay)((J,ne)=>{if(ne===null)return{};const je=te(J);if(!je)return{};const at=Object.values(je).find(nt=>nt.id===ne);return at||{}});ce.meta={name:"createSelector",key:"createSelectorselectSourcePayableById",description:(J,ne)=>{if(ne===null)return{};const je=te(J);if(!je)return{};const at=Object.values(je).find(nt=>nt.id===ne);return at||{}}};const me=(0,t.Ay)(J=>{const ne=O(J);return!ne||!ne.user?!1:ne.user.is_owner});me.meta={name:"createSelector",key:"createSelectorselectIsSelfUserOwner",description:J=>{const ne=O(J);return!ne||!ne.user?!1:ne.user.is_owner}};const _e=(0,t.Ay)(J=>{const ne=O(J);return!ne||!ne.user||!J||!J.checkoutFlow});_e.meta={name:"createSelector",key:"createSelectorgetIsInvoiceFormLoading",description:J=>{const ne=O(J);return!ne||!ne.user||!J||!J.checkoutFlow}};const Ae=(0,t.Ay)(J=>!J||!J.checkoutFlow?null:J.checkoutFlow.invoiceData);Ae.meta={name:"createSelector",key:"createSelectorgetInvoiceData",description:J=>!J||!J.checkoutFlow?null:J.checkoutFlow.invoiceData};const ye=(0,t.Ay)(J=>!J||!J.checkoutFlow?null:J.checkoutFlow.paymentMethodSelected);ye.meta={name:"createSelector",key:"createSelectorselectPaymentMethodSelected",description:J=>!J||!J.checkoutFlow?null:J.checkoutFlow.paymentMethodSelected};const oe=(0,t.Ay)(J=>!J||!J.checkoutFlow?null:J.checkoutFlow.isAppDisconnectedDialogShown);oe.meta={name:"createSelector",key:"createSelectorselectIsAppDisconnectedDialogShown",description:J=>!J||!J.checkoutFlow?null:J.checkoutFlow.isAppDisconnectedDialogShown};const ee=(0,t.Ay)(J=>!J||!J.checkoutFlow?null:J.checkoutFlow.activeCheckoutStep);ee.meta={name:"createSelector",key:"createSelectorselectActiveCheckoutStep",description:J=>!J||!J.checkoutFlow?null:J.checkoutFlow.activeCheckoutStep};const V=(0,t.Ay)(J=>{var ne;return(J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.activeSteppedCheckoutStep)||null});V.meta={name:"createSelector",key:"createSelectorselectActiveSteppedCheckoutStep",description:J=>{var ne;return(J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.activeSteppedCheckoutStep)||null}};const w=(0,t.Ay)(J=>{var ne;return J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.promoCodeRedeem});w.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeem",description:J=>{var ne;return J==null||(ne=J.checkoutFlow)===null||ne===void 0?void 0:ne.promoCodeRedeem}};const Y=(0,t.Ay)(J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.failed)||!1});Y.meta={name:"createSelector",key:"createSelectorselectDidPromoCodeRedeemFail",description:J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.failed)||!1}};const G=(0,t.Ay)(J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.errorName)||""});G.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemErrorName",description:J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.errorName)||""}};const Z=(0,t.Ay)(J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.discountName)||""});Z.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountName",description:J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.discountName)||""}};const se=(0,t.Ay)(J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.discountPercentage)||0});se.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountPercentage",description:J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.discountPercentage)||0}};const ae=(0,t.Ay)(J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.discountDuration)||0});ae.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountDuration",description:J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.discountDuration)||0}};const re=(0,t.Ay)(J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.attempted)||!1});re.meta={name:"createSelector",key:"createSelectorselectDidAttemptPromoCodeRedeem",description:J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.attempted)||!1}};const pe=(0,t.Ay)(J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.code)||null});pe.meta={name:"createSelector",key:"createSelectorselectPromoCode",description:J=>{var ne;return((ne=w(J))===null||ne===void 0?void 0:ne.code)||null}};const de=(0,t.Ay)(J=>!J||!J.checkoutFlow?null:J.checkoutFlow.isCheckoutFlowAPIError);de.meta={name:"createSelector",key:"createSelectorselectIsCheckoutFlowAPIError",description:J=>!J||!J.checkoutFlow?null:J.checkoutFlow.isCheckoutFlowAPIError};const ie=(0,t.Ay)(J=>{const ne=z(J);return!!(ne!=null&&ne.isActionRequiredOnPurchaseAttempt)});ie.meta={name:"createSelector",key:"createSelectorselectIsActionRequiredOnPurchaseAttempt",description:J=>{const ne=z(J);return!!(ne!=null&&ne.isActionRequiredOnPurchaseAttempt)}};const he=(0,t.Ay)(J=>{const ne=z(J);return ne&&ne.intentSecret||""});he.meta={name:"createSelector",key:"createSelectorselectIntentSecret",description:J=>{const ne=z(J);return ne&&ne.intentSecret||""}};const ve=(0,t.Ay)(J=>{const ne=z(J);return ne&&ne.billingItemId||""});ve.meta={name:"createSelector",key:"createSelectorselectBillingItemId",description:J=>{const ne=z(J);return ne&&ne.billingItemId||""}};const ge=(0,t.Ay)(J=>(0,n.xp)(J,"self_serve_select"));ge.meta={name:"createSelector",key:"createSelectorselectCanViewEnterpriseSelect",description:J=>(0,n.xp)(J,"self_serve_select")};const ke=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.addons?null:J.checkoutFlow.checkoutConfiguration.addons[0].id);ke.meta={name:"createSelector",key:"createSelectorselectAddonId",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.addons?null:J.checkoutFlow.checkoutConfiguration.addons[0].id};const Ne=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration?!1:J.checkoutFlow.checkoutConfiguration.isPayingByInvoice);Ne.meta={name:"createSelector",key:"createSelectorselectIsPayingByInvoice",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration?!1:J.checkoutFlow.checkoutConfiguration.isPayingByInvoice};const We=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.addons?null:J.checkoutFlow.checkoutConfiguration.addons.map(ne=>ne.id));We.meta={name:"createSelector",key:"createSelectorselectArrayOfAddonIds",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.addons?null:J.checkoutFlow.checkoutConfiguration.addons.map(ne=>ne.id)};const Oe=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.addons?null:J.checkoutFlow.checkoutConfiguration.addons[0].type);Oe.meta={name:"createSelector",key:"createSelectorselectAddonType",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.addons?null:J.checkoutFlow.checkoutConfiguration.addons[0].type};const be=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.selectedAddonTypes?c.Ml:J.checkoutFlow.selectedAddonTypes);be.meta={name:"createSelector",key:"createSelectorselectAddonsForPurchase",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.selectedAddonTypes?c.Ml:J.checkoutFlow.selectedAddonTypes};const Ke=(0,t.Ay)(J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:J.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate);Ke.meta={name:"createSelector",key:"createSelectorselectAddonBillingDate",description:J=>!J||!J.checkoutFlow||!J.checkoutFlow.checkoutConfiguration||!J.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:J.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate};const Fe=(0,t.Ay)(J=>{var ne;return!J||!J.checkoutFlow?null:(ne=J.checkoutFlow.checkoutConfiguration)===null||ne===void 0?void 0:ne.isEligibleForDataDeletion});Fe.meta={name:"createSelector",key:"createSelectorselectIsEligibleForDataDeletion",description:J=>{var ne;return!J||!J.checkoutFlow?null:(ne=J.checkoutFlow.checkoutConfiguration)===null||ne===void 0?void 0:ne.isEligibleForDataDeletion}}},8368515877:(N,y,e)=>{"use strict";e.d(y,{l:()=>g});var t=e(6304789565),n=e(3048437087),o=e(1649982175),s=e(9113979368),c=e(2927826522),r=e(1545824888),a=e(165535451),i=e(7520484642);const l=(0,t.Ay)("fetches all available pricing plans for the team.",(p,A,C)=>new r.S(T=>{p((0,a.iV)(C)).then(I=>{p((0,i.wt)(I)),T()})}));l.meta={name:"createThunk",key:"createThunkfetchPlansData",description:"fetches all available pricing plans for the team."};const m=l;var _=e(6460545324),h=e(4711657482),d=e(6323355797);const f=E(p=>{var A,C;const T=((A=p.product)===null||A===void 0?void 0:A.level)===p.current_product.level,I=((C=p.product)===null||C===void 0?void 0:C.term)===p.current_product.term,M=p.selected_payment_method===d.uq.CREDIT_CARD;return T&&I&&M?[d.uq.CREDIT_CARD]:p.allowed_payment_methods},"filterAllowedPaymentMethods"),v=E(p=>{var A,C;const T=((A=p.product)===null||A===void 0?void 0:A.level)===p.current_product.level,I=((C=p.product)===null||C===void 0?void 0:C.term)===p.current_product.term;return p.selected_payment_method===d.uq.INVOICE&&T?I?[d.ck.monthly]:[d.ck.yearly]:p.available_terms},"getUpeSelectedAvailableTerms"),u=(0,t.Ay)("Load configuration data for checkout",async(p,A,C)=>{let{checkoutConfigData:T}=C,I=(0,o.A)(T,["clientRequestId","requestId","args","method","ok"]);const M=!(0,s.A)(I);if(M){var D,O,S,R,U;I=Object.assign(I,{planLevel:(D=I.product)===null||D===void 0?void 0:D.level,term:(O=I.product)===null||O===void 0?void 0:O.term,isTrial:(S=I.product)===null||S===void 0?void 0:S.is_trial,isPayingByInvoice:I.current_product.is_invoice,currency:(R=I.product)===null||R===void 0?void 0:R.currency,productId:(U=I.product)===null||U===void 0?void 0:U.id,currentPlanLevel:I.current_product.level,currentTerm:I.current_product.term,currentIsTrial:I.current_product.is_trial,currentCurrency:I.current_product.currency,currentProductId:I.current_product.id,allowedPaymentMethods:f(I),upeSelectedAvailableTerms:v(I),isEligibleForDataDeletion:I.is_eligible_for_data_deletion}),delete I.product,delete I.current_product}I=(0,c.A)(I),p((0,h.yK)(I)),M&&(p((0,h.Kv)(I)),await p(m({checkout_step:_.Ay.form})))});u.meta={name:"createThunk",key:"createThunkloadCheckoutConfigurationData",description:"Load configuration data for checkout"};const g=(0,t.Ay)("Fetch configuration data for checkout",async(p,A,C)=>{let{productId:T=null}=C;const I="fetchConfigurationData",M=await p((0,n.n)(T?{productId:T,reason:I}:{reason:I}));await p(u({checkoutConfigData:M}))});g.meta={name:"createThunk",key:"createThunkfetchConfigurationData",description:"Fetch configuration data for checkout"}},2222994823:(N,y,e)=>{"use strict";e.d(y,{I:()=>r});var t=e(2774532222),n=e(6323355797),o=e(4252064756),s=e(7732872146);const c=E(i=>{const l=(0,s.Ay)(i),m=l&&l.pathname;return(0,o.D)(l)&&(0,t.A)(m,(0,n.hZ)())},"isPlansAppUrl"),r=E(i=>i&&!c(i),"shouldCheckoutRedirect"),a={isPlansAppUrl:c}},4653418008:(N,y,e)=>{"use strict";e.d(y,{LA:()=>s,Th:()=>c,kl:()=>o,yg:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set the current theme field in redux (do not use this)");n.meta={name:"createAction",key:"createActionsetClientThemeInternal",description:"Set the current theme field in redux (do not use this)"};const o=(0,t.Ay)("Set the OS system sync field in redux (do not use this)");o.meta={name:"createAction",key:"createActionsetSystemSyncInternal",description:"Set the OS system sync field in redux (do not use this)"};const s=(0,t.Ay)("Set the OS system theme field in redux (do not use this)");s.meta={name:"createAction",key:"createActionsetSystemTheme",description:"Set the OS system theme field in redux (do not use this)"};const c=(0,t.Ay)("Set the client typeface");c.meta={name:"createAction",key:"createActionsetClientTypeface",description:"Set the client typeface"}},5922222922:(N,y,e)=>{"use strict";e.d(y,{C3:()=>o,k4:()=>t,u7:()=>n});const t="slack-client-theme",n="slack-client-theme-os-sync",o="client-typeface"},5923036663:(N,y,e)=>{"use strict";e.d(y,{A:()=>T});var t=e(1703559452),n=e(337319621),o=e(4096483543),s=e(8489773543),c=e(9323322135),r=e(9139930183),a=e(6533394955),i=e(7384121809),l=e(5922222922),m=e(4653418008),_=e(3328068409),h=e(767804497),d=e(7439773700),f=e(9012396182),v=e(9733150292);let u="light",g=!1,p="light",A;try{A=(0,v.W6)(l.C3)||void 0}catch{}try{s.w2&&(0,o.A)()&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(I=>{const M=I.matches?"dark":"light";p=M,g&&(u=p);const D=(0,i.en)();if(D){const O=D.getState(),S=(0,f.getBootedWorkspaces)(O),R=(0,t.A)(S.map(U=>(0,s.Ay)((0,a.$D)(U))));D.dispatch((0,m.LA)(M)),R&&(0,_.FW)(O)&&D.dispatch((0,h.P)(M))}})}catch(I){(0,n.Wo)().warn("CLIENT-THEME-STORE","window.matchMedia hook failed; system theme will not be updated.",I)}try{const I=window.localStorage.getItem(l.k4),M=window.localStorage.getItem(l.u7);u=I||"light",s.w2&&(M?g=M==="true":g=!I,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(p="dark"),g&&(u=p)),(0,c.g9M)()&&((0,c.cGU)({name:"userTheme",value:u}),(0,c.cGU)({name:"systemThemeSyncEnabled",value:g}))}catch(I){(0,n.Wo)().warn("CLIENT-THEME-STORE","localStorage read failed; client theme will not be persisted.",I)}const T=(0,r.Ay)({},{clientTheme:u,systemSync:g,systemTheme:p,clientTypeface:A},{storeKey:"clientTheme",persistenceEnabled:!1}).on(m.yg,function(I){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...I,clientTheme:M}}).on(m.kl,function(I){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...I,systemSync:M}}).on(m.LA,function(I){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...I,systemTheme:M}}).on(m.Th,function(I){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,d.kh)();return{...I,clientTypeface:M}})},767804497:(N,y,e)=>{"use strict";e.d(y,{P:()=>r});var t=e(337319621),n=e(9323322135),o=e(6304789565),s=e(5922222922),c=e(4653418008);const r=(0,o.Ay)("Set the current theme for the device",function(a,i){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"light";try{window.localStorage.setItem(s.k4,l)}catch{(0,t.Wo)().warn("CLIENT-THEME-STORE","localStorage write failed; client theme will not be persisted.")}a((0,c.yg)(l)),(0,n.cGU)({name:"userTheme",value:l})});r.meta={name:"createThunk",key:"createThunksetClientTheme",description:"Set the current theme for the device"}},9879145827:(N,y,e)=>{"use strict";e.d(y,{V:()=>o,j:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Sets the origin view the Composer page was opened from");n.meta={name:"createAction",key:"createActionsetComposerOrigin",description:"Sets the origin view the Composer page was opened from"};const o=(0,t.Ay)("Sets a value indicating whether email classification is supported in the composer");o.meta={name:"createAction",key:"createActionsetComposerEmailClassificationSupported",description:"Sets a value indicating whether email classification is supported in the composer"}},5192633986:(N,y,e)=>{"use strict";e.d(y,{$:()=>n});var t=e(3009309149);const n=(0,t.Ay)(s=>{var c;return s==null||(c=s.composerPage)===null||c===void 0?void 0:c.composerOrigin});n.meta={name:"createSelector",key:"createSelectorgetComposerOrigin",description:s=>{var c;return s==null||(c=s.composerPage)===null||c===void 0?void 0:c.composerOrigin}};const o=(0,t.Ay)(s=>(s==null?void 0:s.composerPage.composerEmailClassificationSupported)||!1);o.meta={name:"createSelector",key:"createSelectorgetComposerEmailClassificationSupported",description:s=>(s==null?void 0:s.composerPage.composerEmailClassificationSupported)||!1}},5670953896:(N,y,e)=>{"use strict";e.d(y,{$_:()=>v,Ci:()=>c,Dn:()=>s,F8:()=>m,MJ:()=>d,N2:()=>i,RX:()=>a,Xc:()=>f,ij:()=>o,pq:()=>_,qE:()=>r,rj:()=>h,sR:()=>n,vN:()=>l});var t=e(2140362605);const n=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound connect invites");n.meta={name:"createAction",key:"createActionresetConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound connect invites"};const o=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound pending connect invites");o.meta={name:"createAction",key:"createActionresetPendingConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound pending connect invites"};const s=(0,t.Ay)("Upserts a Slack Connect Invite");s.meta={name:"createAction",key:"createActionupsertConnectInvite",description:"Upserts a Slack Connect Invite"};const c=(0,t.Ay)("Upserts a pending Slack Connect Invite");c.meta={name:"createAction",key:"createActionupsertPendingConnectInvite",description:"Upserts a pending Slack Connect Invite"};const r=(0,t.Ay)("Removes a Slack Connect Invite");r.meta={name:"createAction",key:"createActionremoveConnectInvite",description:"Removes a Slack Connect Invite"};const a=(0,t.Ay)("Removes a pending Slack Connect Invite");a.meta={name:"createAction",key:"createActionremovePendingConnectInvite",description:"Removes a pending Slack Connect Invite"};const i=(0,t.Ay)("Sets freshness flag for Slack Connect invites");i.meta={name:"createAction",key:"createActionsetAreInvitesFresh",description:"Sets freshness flag for Slack Connect invites"};const l=(0,t.Ay)("Sets whether logged-in member's email has been verified for Slack Connect visibility purposes");l.meta={name:"createAction",key:"createActionsetIsEmailVerified",description:"Sets whether logged-in member's email has been verified for Slack Connect visibility purposes"};const m=(0,t.Ay)("Sets whether logged-in member's email verification has failed");m.meta={name:"createAction",key:"createActionsetIsUserVerificationFetchError",description:"Sets whether logged-in member's email verification has failed"};const _=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect channel invite");_.meta={name:"createAction",key:"createActionupsertChannelConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect channel invite"};const h=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect DM invite");h.meta={name:"createAction",key:"createActionupsertDmConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect DM invite"};const d=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect space invite");d.meta={name:"createAction",key:"createActionupsertSpaceConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect space invite"};const f=(0,t.Ay)("Upserts whether an acceptance attempt has failed for a specific Slack Connect invite");f.meta={name:"createAction",key:"createActionupsertHasConnectInviteAcceptanceFailed",description:"Upserts whether an acceptance attempt has failed for a specific Slack Connect invite"};const v=(0,t.Ay)("Sets whether we are currently switching workspaces");v.meta={name:"createAction",key:"createActionsetIsSwitchingWorkspaces",description:"Sets whether we are currently switching workspaces"}},1496122061:(N,y,e)=>{"use strict";e.d(y,{d:()=>i});var t=e(1605540670),n=e(3243667193),o=e(320199792),s=e(2368561198),c=e(6304789565),r=e(5670953896),a=e(5914498199);const i=(0,c.Ay)("Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites",async(l,m,_)=>{let{reason:h}=_,d;const f=[n.k.Channel,n.k.Im];(0,s.i)(m())&&f.push(n.k.Workspace);const u=await l((0,t.O)({reason:h,inviteTypes:f,onlyPendingInvites:!0}));if(u!=null&&u.connect_invites){d=u.connect_invites;const g=d.filter(o.Ef),p=d.filter(o.I4);l((0,a.R)({connectInvites:d})),l((0,r.ij)({pendingInboundConnectInvites:g,pendingOutboundConnectInvites:p}))}return d||[]});i.meta={name:"createThunk",key:"createThunkfetchAndResetAllPendingConnectInvites",description:"Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites"}},6111266013:(N,y,e)=>{"use strict";e.d(y,{p:()=>i});var t=e(1605540670),n=e(3622175906),o=e(3243667193),s=e(2368561198),c=e(6304789565),r=e(5670953896),a=e(5914498199);const i=(0,c.Ay)("Fetch and upsert the result of connectInvites.list for inbound/outbound invites",async(l,m,_)=>{let{reason:h,direction:d,includeInviteRequests:f}=_,v;const u=[o.k.Channel,o.k.Im];(0,s.i)(m())&&u.push(o.k.Workspace);const p=await l((0,t.O)({reason:h,direction:d,inviteTypes:u,includeInviteRequests:f}));if(p!=null&&p.connect_invites){v=p.connect_invites,l((0,a.R)({connectInvites:v}));const A={inboundConnectInvites:d===n.D.Incoming?v:void 0,outboundConnectInvites:d===n.D.Outgoing?v:void 0};l((0,r.sR)(A))}return v||[]});i.meta={name:"createThunk",key:"createThunkfetchAndResetConnectInvites",description:"Fetch and upsert the result of connectInvites.list for inbound/outbound invites"}},5914498199:(N,y,e)=>{"use strict";e.d(y,{R:()=>s});var t=e(320199792),n=e(6304789565),o=e(7679955939);const s=(0,n.Ay)("Upsert any non-local members referenced in the specified connect invites",async(c,r,a)=>{let{connectInvites:i}=a;const l=[];i.forEach(m=>{const _=(0,t.$N)(m);if((0,t.I4)(m)&&_&&_.forEach(h=>{l.push((0,t.mZ)(h))}),(0,t.Ef)(m)){l.push((0,t.y1)(m));const h=(0,t.kR)(m);h&&l.push(h)}}),c((0,o.Ay)({members:l}))});s.meta={name:"createThunk",key:"createThunkupsertMembersFromConnectInvites",description:"Upsert any non-local members referenced in the specified connect invites"}},6591744424:(N,y,e)=>{"use strict";e.d(y,{A8:()=>v,IC:()=>l,If:()=>f,S_:()=>h,Uf:()=>d,Z3:()=>A,cf:()=>i,nT:()=>C,tD:()=>m,zm:()=>u});var t=e(3009309149),n=e(3385422400),o=e(2047021170),s=e(8262898118),c=e(28129577),r=e(337319621);const a=(0,t.Ay)(T=>{var I;return T==null||(I=T.siwsDomains)===null||I===void 0?void 0:I.domainsCollection});a.meta={name:"createSelector",key:"createSelectorgetDomains",description:T=>{var I;return T==null||(I=T.siwsDomains)===null||I===void 0?void 0:I.domainsCollection}};const i=(0,t.Ay)(T=>{var I;return T==null||(I=T.connectedApps)===null||I===void 0?void 0:I.loading});i.meta={name:"createSelector",key:"createSelectorselectLoadingState",description:T=>{var I;return T==null||(I=T.connectedApps)===null||I===void 0?void 0:I.loading}};const l=E(T=>{const I=(0,o.ty)(T,"identity_links_prefs");if(I)try{return JSON.parse(I)}catch{return(0,r.Ay)({state:T}).warn("Unable to parse identity_links_prefs JSON string"),{}}return{}},"selectIdentityLinksPrefs"),m=(0,n.Mz)(l,Object.keys),_=(0,t.Ay)(T=>{var I;return T==null||(I=T.connectedApps)===null||I===void 0?void 0:I.apps});_.meta={name:"createSelector",key:"createSelectorselectAppProfileInfo",description:T=>{var I;return T==null||(I=T.connectedApps)===null||I===void 0?void 0:I.apps}};const h=(0,n.Mz)(m,_,(T,I)=>T.filter(M=>!I[M])),d=(0,n.Mz)(l,_,s.pf,function(T,I){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(T).map(S=>I[S]?{...I[S].profile||{},...(0,c.XK)(T[S])||{},domain:M[S]||{}}:null).filter(S=>Boolean(S))}),f=(0,n.Mz)(d,T=>T.filter(I=>I==null?void 0:I.completedTransfer).sort((I,M)=>M.dateCompletedTransfer-I.dateCompletedTransfer)),v=(0,n.Mz)(d,T=>T.filter(I=>I==null?void 0:I.dateDisconnected).sort((I,M)=>M.dateDisconnected-I.dateDisconnected)),u=(0,n.Mz)(d,T=>T.filter(I=>(I==null?void 0:I.numSkipped)&&!(I!=null&&I.completedTransfer)).sort((I,M)=>M.dateLastSkipped-I.dateLastSkipped)),g=E(T=>{const I=(0,o.ty)(T,"identity_links_global_prefs");if(I)try{return(0,c.XK)(JSON.parse(I))}catch{return(0,r.Ay)({state:T}).warn("Unable to parse identity_links_global_prefs JSON string"),{}}return{}},"selectIdentityLinksGlobalPrefs"),p=(0,n.Mz)(g,T=>T==null?void 0:T.dateDisabled),A=(0,n.Mz)(p,T=>!T),C=(0,t.Ay)(T=>{var I;return T==null||(I=T.connectedApps)===null||I===void 0?void 0:I.error});C.meta={name:"createSelector",key:"createSelectorselectError",description:T=>{var I;return T==null||(I=T.connectedApps)===null||I===void 0?void 0:I.error}}},6168781067:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(9139930183),n=e(2456103428);const o={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now(),lastSocketConnection:0},c=(0,t.Ay)({},o,{storeKey:"connectivity",persistenceEnabled:!1}).on(n.pm,(r,a)=>({...r,serviceOnline:!!a})).on(n.Uj,r=>r===o?{...r,lastSocketActivity:Date.now()}:(r.lastSocketActivity=Date.now(),r)).on(n.p9,(r,a)=>({...r,clientOnline:!!a,lastClientConnection:Date.now()})).on(n.hM,r=>({...r,lastSocketConnection:Date.now()}))},1314103953:(N,y,e)=>{"use strict";e.d(y,{b:()=>o,k:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set a value that represents whether we are currently in the boot phase");n.meta={name:"createAction",key:"createActionsetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"};const o=(0,t.Ay)("Set a value that represents whether we are currently performing a warm boot");o.meta={name:"createAction",key:"createActionsetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"}},9469211187:(N,y,e)=>{"use strict";e.d(y,{d:()=>o,f:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Remove prefs for a given channel");n.meta={name:"createAction",key:"createActionremovePrefsForConversation",description:"Remove prefs for a given channel"};const o=(0,t.Ay)("Set channel prefs associated with a given channel");o.meta={name:"createAction",key:"createActionsetConversationsListPrefs",description:"Set channel prefs associated with a given channel"}},7914670207:(N,y,e)=>{"use strict";e.d(y,{Dq:()=>h,YO:()=>d,im:()=>v});var t=e(3398586081),n=e(1545824888),o=e(6639221719),s=e(8352634987),c=e(2028988448),r=e(6304789565),a=e(6533394955),i=e(9469211187),l=e(8081461848);const m=(0,r.Ay)("Fetch and upsert channel list prefs",async(g,p,A)=>{let{channelId:C,teamId:T}=A;const I=await g((0,o.U)({channel:C,reason:"client_redux_store"})),{prefs:M}=I;g((0,i.d)({channelId:C,prefs:M})),f(T,C)});m.meta={name:"createThunk",key:"createThunkfetchAndUpsertConversationsListPrefs",description:"Fetch and upsert channel list prefs"};const _=(0,t.A)(()=>new s.Ay({storeKey:l.U,fetch:(g,p)=>n.S.map(p,A=>(0,a.Qw)(g,m({channelId:A,teamId:g}))),isEnabled:()=>!0,metricsName:l.U})),h=E((g,p)=>_().markObjectsAsStale(g,[p]),"markConversationsListPrefsAsStale"),d=E((g,p)=>_().markObjectsAsStale(g,p),"markConversationsListPrefsAsStaleForMultipleChannels"),f=E((g,p)=>_().markObjectsAsFresh(g,[p]),"markConversationsListPrefsAsFresh"),v=E((g,p)=>_().maybeRefetch(g,p),"maybeRefetchConversationsListPrefs"),u={fetchAndUpsertConversationsListPrefs:m};(0,c.zv)("conditionalFetchManagerConversationsListPrefs",_)},8081461848:(N,y,e)=>{"use strict";e.d(y,{A:()=>r,U:()=>o});var t=e(9139930183),n=e(9469211187);const o="conversationsListPrefs",s={},r=(0,t.Ay)({},s,{storeKey:o,persistenceEnabled:!0}).on(n.f,(a,i)=>{let{channelId:l}=i;if(!l||!a[l])return a;const m={...a};return delete m[l],m}).on(n.d,(a,i)=>{let{channelId:l,prefs:m}=i;return l?{...a,[l]:m}:a})},2527994834:(N,y,e)=>{"use strict";e.d(y,{Q:()=>r});var t=e(3385422400),n=e(8040098042),o=e(8847766420),s=e(7914670207);const c=E((a,i)=>{var l;const m=(0,o.ZT)(a);if(!m||!(0,n.A)(i))return null;(0,s.im)(m,i);var _;return(_=a==null||(l=a.conversationsListPrefs)===null||l===void 0?void 0:l[i])!==null&&_!==void 0?_:null},"getConversationsListPrefsByChannelId"),r=(0,t.Mz)((a,i,l)=>c(a,l),(a,i)=>i,(a,i)=>a==null?void 0:a[i])},330221449:(N,y,e)=>{"use strict";e.d(y,{Ot:()=>o,S9:()=>c,X8:()=>n,d$:()=>a,d1:()=>i,en:()=>r,gx:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Adds the new set of custom emoji to the existing store");n.meta={name:"createAction",key:"createActionaddCustomEmoji",description:"Adds the new set of custom emoji to the existing store"};const o=(0,t.Ay)("Resets the array of custom emoji in the store");o.meta={name:"createAction",key:"createActionsetNewCustomEmojiData",description:"Resets the array of custom emoji in the store"};const s=(0,t.Ay)("Removes the specified custom emoji from the store");s.meta={name:"createAction",key:"createActionremoveCustomEmoji",description:"Removes the specified custom emoji from the store"};const c=(0,t.Ay)("Renames a disabled custom emoji");c.meta={name:"createAction",key:"createActionrenameCustomEmoji",description:"Renames a disabled custom emoji"};const r=(0,t.Ay)("Set the loading status for the API request when a new page is loading");r.meta={name:"createAction",key:"createActionsetIsLoadingNewPage",description:"Set the loading status for the API request when a new page is loading"};const a=(0,t.Ay)("Set the loading status for the API request when a user searches for emojis");a.meta={name:"createAction",key:"createActionsetIsLoadingNewSearchQuery",description:"Set the loading status for the API request when a user searches for emojis"};const i=(0,t.Ay)("Set the current sort category and direction for the table");i.meta={name:"createAction",key:"createActionsetSort",description:"Set the current sort category and direction for the table"}},1484767411:(N,y,e)=>{"use strict";e.d(y,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Record that a message was deleted");n.meta={name:"createAction",key:"createActionrecordMessageDeleted",description:"Record that a message was deleted"}},6739248722:(N,y,e)=>{"use strict";e.d(y,{k:()=>n});var t=e(3009309149);const n=(0,t.Ay)((o,s)=>{let{channelId:c,ts:r}=s;return o&&o.deletedMessages&&o.deletedMessages[c]&&!!o.deletedMessages[c][r]});n.meta={name:"createSelector",key:"createSelectorwasMessageDeleted",description:(o,s)=>{let{channelId:c,ts:r}=s;return o&&o.deletedMessages&&o.deletedMessages[c]&&!!o.deletedMessages[c][r]}}},1378315125:(N,y,e)=>{"use strict";e.d(y,{$3:()=>i,Bt:()=>r,Ez:()=>o,LS:()=>m,Mk:()=>s,NN:()=>h,XF:()=>c,Y$:()=>d,Yv:()=>n,_F:()=>l,jC:()=>_,n9:()=>f,oR:()=>u,um:()=>v,yz:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Sets the highlight property of a download");n.meta={name:"createAction",key:"createActioninternalSetDownloadHighlight",description:"Sets the highlight property of a download"};const o=(0,t.Ay)("An update of the desktop state from the desktop app");o.meta={name:"createAction",key:"createActionupdateFromDesktop",description:"An update of the desktop state from the desktop app"};const s=(0,t.Ay)("An update of the window frame state");s.meta={name:"createAction",key:"createActionupdateWindowFrameState",description:"An update of the window frame state"};const c=(0,t.Ay)("Starts a download on the desktop app");c.meta={name:"createAction",key:"createActionstartDesktopDownload",description:"Starts a download on the desktop app"};const r=(0,t.Ay)("Pauses a download on the desktop app");r.meta={name:"createAction",key:"createActionpauseDesktopDownload",description:"Pauses a download on the desktop app"};const a=(0,t.Ay)("Resumes a download on the desktop app");a.meta={name:"createAction",key:"createActionresumeDesktopDownload",description:"Resumes a download on the desktop app"};const i=(0,t.Ay)("Cancels a download on the desktop app");i.meta={name:"createAction",key:"createActioncancelDesktopDownload",description:"Cancels a download on the desktop app"};const l=(0,t.Ay)("Clears all stopped downloads for the active team");l.meta={name:"createAction",key:"createActionclearTeamDesktopDownloads",description:"Clears all stopped downloads for the active team"};const m=(0,t.Ay)("Removes a download on the desktop app");m.meta={name:"createAction",key:"createActionremoveDesktopDownload",description:"Removes a download on the desktop app"};const _=(0,t.Ay)("Retries a download on the desktop app");_.meta={name:"createAction",key:"createActionretryDesktopDownload",description:"Retries a download on the desktop app"};const h=(0,t.Ay)("Opens a file downloaded by the desktop app");h.meta={name:"createAction",key:"createActionopenDesktopDownload",description:"Opens a file downloaded by the desktop app"};const d=(0,t.Ay)("Shows the folder that contains the downloaded file");d.meta={name:"createAction",key:"createActionshowDesktopDownload",description:"Shows the folder that contains the downloaded file"};const f=(0,t.Ay)("Toggles the performance monitor");f.meta={name:"createAction",key:"createActiontogglePerformanceMonitor",description:"Toggles the performance monitor"};const v=(0,t.Ay)("Sets the currently active team in the SSB");v.meta={name:"createAction",key:"createActionsetActiveTeam",description:"Sets the currently active team in the SSB"};const u=(0,t.Ay)("Update canvas system text settings in the SSB");u.meta={name:"createAction",key:"createActionsetCanvasSystemTextSettings",description:"Update canvas system text settings in the SSB"}},7902571278:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(9139930183),n=e(4103274853),o=e(3571452446),s=e(2003990933),c=e(7715417323),r=e(9323322135),a=e(1378315125);const i=E((d,f)=>(0,n.A)(d,(v,u)=>(0,n.A)(v,(g,p)=>f(u,p,g))),"mapDownloads"),l=E(d=>({...{app:{},environment:{},settings:{},...(0,o.A)(d,["app","settings","environment"]),windows:(0,n.A)((d==null?void 0:d.windows)||{},v=>({frame:(0,o.A)(v.frame,["isFullScreen","isFocused","isVisible","hasVibrancy","isCurrentlyAudible"])})),downloads:i((d==null?void 0:d.downloads)||{},(v,u,g)=>({...g,highlight:!1})),debug:{isPerformanceMonitorEnabled:!1}},activeTeamId:(0,s.A)(window,"desktop.reduxHelper.state.selectedTeamId")}),"initializeState"),m=(0,r.g9M)()?l((0,s.A)(window,"desktop.redux.getState",c.A)()):null,h=(0,t.Ay)({},m,{storeKey:"desktop",persistenceEnabled:!1}).on(a.Ez,(d,f)=>{const v=f.downloads?i(f.downloads,(u,g,p)=>({...p,highlight:(0,s.A)(d.downloads,[u,g,"highlight"],!1)})):d.downloads;return{...d,...f,downloads:v}}).on(a.Mk,(d,f)=>{let{windowId:v,property:u,value:g}=f;var p,A,C;return{...d,windows:{...d.windows,[v]:{...((p=d.windows)===null||p===void 0?void 0:p[v])||{},frame:{...((A=d.windows)===null||A===void 0||(C=A[v])===null||C===void 0?void 0:C.frame)||{},[u]:g}}}}}).on(a.Yv,(d,f)=>{let{fileId:v,teamId:u,highlight:g}=f;return(0,s.A)(d.downloads,[u,v])?{...d,downloads:{...d.downloads,[u]:{...d.downloads[u],[v]:{...d.downloads[u][v],highlight:g}}}}:d}).on(a.n9,d=>({...d,debug:{...d.debug,isPerformanceMonitorEnabled:!d.debug.isPerformanceMonitorEnabled}})).on(a.um,(d,f)=>f?{...d,activeTeamId:f}:d)},7600673124:(N,y,e)=>{"use strict";e.d(y,{y:()=>n});var t=e(5818203962);const n=E((o,s)=>(0,t.I$)(o,s),"getIsMemberDisconnectedById")},1844213939:(N,y,e)=>{"use strict";e.d(y,{z:()=>r});var t=e(8170643398),n=e(5765052177),o=e(2384831516),s=e(1809170903),c=e(8276911661);const r=(0,o.Mz)((a,i)=>{if(!i)return!1;const l=(0,c.nv)(a,i);return!l||(0,t.zU)(l)||(0,n.C)(l)?!1:!!(0,s.Vd)(a,i)});r.meta={name:"createSelector",key:"createSelectorshouldShowDndByMemberId",description:(a,i)=>{if(!i)return!1;const l=(0,c.nv)(a,i);return!l||(0,t.zU)(l)||(0,n.C)(l)?!1:!!(0,s.Vd)(a,i)}}},5005457582:(N,y,e)=>{"use strict";e.d(y,{D8:()=>c,QR:()=>r,cg:()=>i,y0:()=>m,Di:()=>_,Rg:()=>l});var t=e(3458206977),n=e(3009309149),o=e(7982171047),s=e(9392104102);const c={CANT_UNFURL:"cant_unfurl",COMPLETE:"complete",ERROR:"error",FETCHING:"fetching",REMOVED:"removed"},r=(0,n.Ay)((h,d)=>{var f;return h==null||(f=h.draftContactUnfurls)===null||f===void 0?void 0:f[d]});r.meta={name:"createSelector",key:"createSelectorgetAllContactUnfurlEntriesForDraft",description:(h,d)=>{var f;return h==null||(f=h.draftContactUnfurls)===null||f===void 0?void 0:f[d]}};const a=(0,n.Ay)(function(h){let{draftId:d,contactUserId:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!d||!f)return null;const v=r(h,d);return v?v[f]:null});a.meta={name:"createSelector",key:"createSelectorgetContactUnfurlEntryForDraft",description:function(h){let{draftId:d,contactUserId:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!d||!f)return null;const v=r(h,d);return v?v[f]:null}};const i=(0,n.Ay)((h,d)=>{const f=r(h,d);return f?Object.keys(f):[]});i.meta={name:"createSelector",key:"createSelectorgetAllContactUnfurlIdsForDraft",description:(h,d)=>{const f=r(h,d);return f?Object.keys(f):[]}};const l=(0,n.Ay)((h,d)=>{let f=[];if(!d)return f;const v=r(h,d);return v&&(f=(0,t.A)(v,(u,g,p)=>{g&&g.status===c.REMOVED&&u.push(p)},[])),f});l.meta={name:"createSelector",key:"createSelectorgetRemovedContactUnfurlIdsForDraft",description:(h,d)=>{let f=[];if(!d)return f;const v=r(h,d);return v&&(f=(0,t.A)(v,(u,g,p)=>{g&&g.status===c.REMOVED&&u.push(p)},[])),f}};const m=(0,n.Ay)((h,d)=>{let f=[];if(!d)return f;const v=r(h,d);return v&&(f=(0,t.A)(v,(u,g,p)=>{g&&g.status===c.COMPLETE&&u.push(p)},[])),f});m.meta={name:"createSelector",key:"createSelectorgetCompleteContactUnfurlIdsForDraft",description:(h,d)=>{let f=[];if(!d)return f;const v=r(h,d);return v&&(f=(0,t.A)(v,(u,g,p)=>{g&&g.status===c.COMPLETE&&u.push(p)},[])),f}};const _=(0,n.Ay)((h,d)=>{if(!(0,o.Cq)(h)||!d)return s.Ml;const f=r(h,d);if(!f)return s.Ml;const v=(0,t.A)(f,(u,g)=>{g&&g.status===c.COMPLETE&&u.push(g.data)},[]);return v.length?v:s.Ml});_.meta={name:"createSelector",key:"createSelectorgetCompleteContactUnfurlsForDraft",description:(h,d)=>{if(!(0,o.Cq)(h)||!d)return s.Ml;const f=r(h,d);if(!f)return s.Ml;const v=(0,t.A)(f,(u,g)=>{g&&g.status===c.COMPLETE&&u.push(g.data)},[]);return v.length?v:s.Ml}}},5780637120:(N,y,e)=>{"use strict";e.d(y,{G:()=>s});var t=e(7982171047),n=e(6304789565),o=e(5005457582);const s=(0,n.Ay)("Gets contacts to unfurl and formats them as message attachments",function(c,r){let{draftId:a}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=r();if(!(0,t.Cq)(i))return[];if(!a)return[];const l=(0,o.y0)(i,a);if(!(l!=null&&l.length))return[];const m=l.map(_=>({contact_user_id:_}));return m!=null&&m.length?m:[]});s.meta={name:"createThunk",key:"createThunkgetContactUnfurlsForMessageSend",description:"Gets contacts to unfurl and formats them as message attachments"}},358675944:(N,y,e)=>{"use strict";e.d(y,{GD:()=>r,Wz:()=>s,Xq:()=>i,dz:()=>o,ff:()=>a,ht:()=>n,r1:()=>l,v$:()=>t,yR:()=>c});const t="fetching",n="preview_pending",o="user_auth_required",s="complete",c="stale",r="no_attachment",a="error",i="removed",l=5},4686051014:(N,y,e)=>{"use strict";e.d(y,{E_:()=>O,uh:()=>D,EP:()=>T,at:()=>F,nz:()=>S,PC:()=>I,Ki:()=>U,Zv:()=>R,y3:()=>P,CN:()=>x});var t=e(3009309149),n=e(9392104102),o=e(358675944),s=e(4761125736),c=e(717227853),r=e(3458206977),a=e(9113979368),i=e(2047021170),l=e(9935649141),m=e(4711108074),_=e.n(m),h=e(3078252698),d=e(2774532222),f=e(235108050),v=e(1963643401),u=e(308057085);const p=E(b=>{if(!b||!b.length)return[];const k=[];return b.forEach(B=>{var W;if(!(0,u.Ay)(B))return;const K=B.insert,H=(W=B.attributes)===null||W===void 0?void 0:W.link;if(!(0,h.A)(K)||!(0,h.A)(H))return;const z=(0,v.A)(K),Q=(0,v.A)(H);(0,d.A)(Q??void 0,"http://")&&Q.slice(7)===z||(0,d.A)(Q??void 0,"https://")&&Q.slice(8)===z||!((0,d.A)(Q??void 0,"http://")||(0,d.A)(Q??void 0,"https://")||(0,d.A)(Q??void 0,"spotify:"))||k.push(H)}),(0,f.A)(k)},"getUrlsInOpsToUnfurl");var A=e(7765212398),C=e(9268451279);const T=(0,t.Ay)((b,k)=>{var B;return b==null||(B=b.draftUnfurls)===null||B===void 0?void 0:B[k]});T.meta={name:"createSelector",key:"createSelectorgetAllUnfurlEntriesForDraft",description:(b,k)=>{var B;return b==null||(B=b.draftUnfurls)===null||B===void 0?void 0:B[k]}};const I=(0,t.Ay)(function(b){let{draftId:k,url:B}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!k||!B)return;const W=T(b,k);if(W)return W[B]});I.meta={name:"createSelector",key:"createSelectorgetUnfurlEntryForDraft",description:function(b){let{draftId:k,url:B}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!k||!B)return;const W=T(b,k);if(W)return W[B]}};const M=(0,t.Ay)((b,k)=>{const B=T(b,k);if(B)return Object.keys(B)});M.meta={name:"createSelector",key:"createSelectorgetAllUnfurlUrlsForDraft",description:(b,k)=>{const B=T(b,k);if(B)return Object.keys(B)}};const D=(0,t.Ay)((b,k)=>{const B=T(b,k);if(!B)return;const W=[];return Object.entries(B).forEach(K=>{let[H,z]=K;z.status!==o.yR&&W.push(H)}),W});D.meta={name:"createSelector",key:"createSelectorgetAllNonStaleUnfurlUrlsForDraft",description:(b,k)=>{const B=T(b,k);if(!B)return;const W=[];return Object.entries(B).forEach(K=>{let[H,z]=K;z.status!==o.yR&&W.push(H)}),W}};const O=(0,t.Ay)((b,k)=>{const B=T(b,k);if(!B)return;const W=[];return Object.entries(B).forEach(K=>{let[H,z]=K;z.status!==o.yR&&(0,c.a)(z.data)&&W.push(H)}),W});O.meta={name:"createSelector",key:"createSelectorgetAllNonStaleRemoteFileUnfurlUrlsForDraft",description:(b,k)=>{const B=T(b,k);if(!B)return;const W=[];return Object.entries(B).forEach(K=>{let[H,z]=K;z.status!==o.yR&&(0,c.a)(z.data)&&W.push(H)}),W}};const S=(0,t.Ay)((b,k)=>{if(!k)return;const B=T(b,k);if(B)return(0,r.A)(B,(W,K,H)=>{K&&K.status===o.Xq&&W.push(H)},[])});S.meta={name:"createSelector",key:"createSelectorgetRemovedUnfurlUrlsForDraft",description:(b,k)=>{if(!k)return;const B=T(b,k);if(B)return(0,r.A)(B,(W,K,H)=>{K&&K.status===o.Xq&&W.push(H)},[])}};const R=(0,t.Ay)((b,k)=>{let{ops:B}=k;if(!B||(0,a.A)(B))return n.Ml;const W=(0,i.ty)(b,"plain_text_mode");let K=B;if(W){const H=(0,l.Ay)(new(_())(B.slice()))||{};K=H&&H.ops}return p(K)});R.meta={name:"createSelector",key:"createSelectorgetUrlsInOpsToUnfurl",description:(b,k)=>{let{ops:B}=k;if(!B||(0,a.A)(B))return n.Ml;const W=(0,i.ty)(b,"plain_text_mode");let K=B;if(W){const H=(0,l.Ay)(new(_())(B.slice()))||{};K=H&&H.ops}return p(K)}};const U=(0,t.Ay)((b,k,B)=>{if(!k)return;const W=(0,A.YI)(b,k);var K;const H=(K=(0,C._l)(W))!==null&&K!==void 0?K:[],z=R(b,{ops:H});if(!z||(0,a.A)(z))return;const Q=z.map(q=>I(b,{draftId:k,url:q})).filter(q=>q&&B.includes(q.status)).map(q=>q==null?void 0:q.data);if(!(!Q||(0,a.A)(Q)))return Q});U.meta={name:"createSelector",key:"createSelectorgetUnfurlsInDraftOpsWithStatuses",description:(b,k,B)=>{if(!k)return;const W=(0,A.YI)(b,k);var K;const H=(K=(0,C._l)(W))!==null&&K!==void 0?K:[],z=R(b,{ops:H});if(!z||(0,a.A)(z))return;const Q=z.map(q=>I(b,{draftId:k,url:q})).filter(q=>q&&B.includes(q.status)).map(q=>q==null?void 0:q.data);if(!(!Q||(0,a.A)(Q)))return Q}};const P=(0,t.Ay)((b,k)=>U(b,k,[o.dz]));P.meta={name:"createSelector",key:"createSelectorgetUserAuthRequiredUnfurlsInDraftOps",description:(b,k)=>U(b,k,[o.dz])};const L=(0,t.Ay)((b,k)=>U(b,k,[o.Wz]));L.meta={name:"createSelector",key:"createSelectorgetCompleteUnfurlsInDraftOps",description:(b,k)=>U(b,k,[o.Wz])};const F=(0,t.Ay)((b,k)=>{const B=[o.Wz];return(0,s._Z)(b,"magic_unfurls")==="treatment"&&B.push(o.yR),(0,s._Z)(b,"composer_auth")==="treatment"&&B.push(o.dz),U(b,k,B)});F.meta={name:"createSelector",key:"createSelectorgetDisplayableUnfurlsInDraftOps",description:(b,k)=>{const B=[o.Wz];return(0,s._Z)(b,"magic_unfurls")==="treatment"&&B.push(o.yR),(0,s._Z)(b,"composer_auth")==="treatment"&&B.push(o.dz),U(b,k,B)}};const x=(0,t.Ay)((b,k)=>{const B=(0,A.YI)(b,k),W=(0,C._l)(B)||[],K=R(b,{ops:W});return(K==null?void 0:K.length)>o.r1});x.meta={name:"createSelector",key:"createSelectorhasReachedUnfurlLimit",description:(b,k)=>{const B=(0,A.YI)(b,k),W=(0,C._l)(B)||[],K=R(b,{ops:W});return(K==null?void 0:K.length)>o.r1}}},1234667274:(N,y,e)=>{"use strict";e.d(y,{a:()=>o});var t=e(6304789565),n=e(5347038960);const o=(0,t.Ay)("Creates JSON string of URLs used to submit unfurl data to draft syncing endpoints",(s,c,r)=>{let{draftId:a,ops:i}=r;const l=s((0,n.f)({draftId:a,ops:i}));if(!l)return;let m;try{l.length&&(m=JSON.stringify(l))}catch{m=void 0}return m});o.meta={name:"createThunk",key:"createThunkgetCompleteUnfurlsInDraftOpsForDraftSync",description:"Creates JSON string of URLs used to submit unfurl data to draft syncing endpoints"}},5347038960:(N,y,e)=>{"use strict";e.d(y,{f:()=>r});var t=e(6304789565),n=e(4686051014),o=e(9113979368),s=e(5980399196),c=e(8840779375);const r=(0,t.Ay)("Gets URLs to unfurl from ops for message sending APIs",function(a,i){let{draftId:l,ops:m}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const _=i();if(!l||!m)return;const h=(0,n.Zv)(_,{ops:m});if(!h||(0,o.A)(h))return[];const d=(0,n.nz)(_,l),f=(0,s.A)(h,d??[]);return(0,c.A)(f,u=>({url:u}))});r.meta={name:"createThunk",key:"createThunkgetDraftUnfurlsForMessageSend",description:"Gets URLs to unfurl from ops for message sending APIs"}},5522343655:(N,y,e)=>{"use strict";e.d(y,{A:()=>f});var t=e(1545824888),n=e(3134334389),o=e(2664504268),s=e(337319621),c=e(1212709343),r=e(6304789565),a=e(1944827014),i=e(5060694341),l=e(6471059816),m=e(5733135148);const _=new l.Ay("drafts");function h(){return n.createElement(m.Ay,null,_.t("You\u2019ve reached the maximum number of drafts allowed"))}E(h,"DraftLimitToast"),h.displayName="DraftLimitToast";const d=(0,r.Ay)("Create a new composer draft",function(v,u){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=u();if((0,c.A)(p))return v((0,i.M)({element:n.createElement(h)})),(0,s.Ay)({state:p,label:"DRAFTS"}).info("Failed to create composer draft (max_num_drafts)"),t.S.reject(new Error("max_num_drafts"));const A=g.client_draft_id||(0,o.A)(),C={client_draft_id:A,is_from_composer:!0,...g};return v((0,a.i)({draft:C,reason:"createComposerDraft",sync:!1})),t.S.resolve(A)});d.meta={name:"createThunk",key:"createThunkcreateComposerDraft",description:"Create a new composer draft"};const f=d},9273427308:(N,y,e)=>{"use strict";e.d(y,{m:()=>f});var t=e(9113979368),n=e(6304789565),o=e(1545824888),s=e(337319621),c=e(6532287396),r=e(2567328269),a=e(9268451279),i=e(9256397769),l=e(6728717861),m=e(1161020392),_=e(1100145935),h=e(7765212398);const d=(0,n.Ay)("Creates a synced draft",function(u,g){let{draftId:p,reason:A,handleExistingAttachedDraft:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!p)return o.S.reject(new Error("Cannot sync draft creation due to a missing draft id"));const{error:T,info:I}=(0,s.Ay)({getState:g,label:"DRAFTS"}),M=(0,h.YI)(g(),p);return M?(0,l.sc)(g())?(I(`Syncing a new draft - ${p}`),(0,r.VE)(p),u((0,i.c)({draft:M,reason:A})).then(D=>{if(I(`New draft synced - ${p}`),!(D!=null&&D.draft)){T(`No draft received from the drafts.create response ${p}`);return}const O=(0,h.YI)(g(),p);if((0,t.A)(O)){I(`Draft no longer exists locally, skipping post API updates - ${p}`);return}const S=parseFloat(D.draft.last_updated_ts);u((0,_.nz)({client_draft_id:p,id:D.draft.id,last_updated_ts:S}))}).catch(D=>{(D==null?void 0:D.name)==="attached_draft_exists"&&C?C(p,M):T(`The drafts.create call failed - ${p}`,D)}).finally(()=>{(0,r.jb)(p)})):(I(`Deferring create draft API while offline (id: ${p})`),u((0,m.iZ)({draftClientId:p})),o.S.resolve()):(I(`No need to sync changes for a draft that no longer exists locally - ${p}`),o.S.resolve())});d.meta={name:"createThunk",key:"createThunksyncDraftCreate",description:"Creates a synced draft"};const f=(0,n.Ay)("Creates a draft locally and via API",function(u,g){let{draft:p,reason:A,syncImmediately:C=!1,handleExistingAttachedDraft:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,t.A)(p))return;const{error:I}=(0,s.Ay)({getState:g,label:"DRAFTS"}),M=(0,a.ue)(p);if(!M){I("Draft does not have an ID - an ID is required to create a draft");return}const D=E(()=>{const O={draftId:M,reason:A};T&&(O.handleExistingAttachedDraft=T),u(d(O))},"sync");C?D():(0,c.I8)({draftId:M,sync:D})});f.meta={name:"createThunk",key:"createThunkcreateDraft",description:"Creates a draft locally and via API"};const v={syncDraftCreate:d}},1944827014:(N,y,e)=>{"use strict";e.d(y,{i:()=>T});var t=e(9113979368),n=e(6304789565),o=e(337319621),s=e(1100145935),c=e(7765212398),r=e(9273427308),a=e(4550534021),i=e(8086952004),l=e(166097325),m=e(2664504268),_=e(6874418585),h=e(4804521718),d=e(1938854790),f=e(9268451279),v=e(5969942984);const u=(0,n.Ay)("Recover from attached_draft_exists error",(I,M,D)=>{let{draft:O,draftId:S,syncImmediately:R,reason:U}=D;if((0,t.A)(O))return;const{error:P,info:L}=(0,o.Ay)({getState:M,label:"DRAFTS"});L(`The drafts.create call failed with attached_draft_exists - ${S} - attempting to recover by moving existing draft`),I((0,h.U)({reason:"attached_draft_exists:recovery",limit:100,isActive:!0})).then(F=>{const x=(F==null?void 0:F.drafts)||[],b=(0,i.A)(x,k=>{const B=(0,f.GP)(k);return B?(0,l.A)(B,(0,f.GP)(O)):!1});if(b){I((0,_.$)({draftId:(0,f.iS)(b),clientLastUpdatedTs:Date.now().toString(),reason:"attached_draft_exists:recovery"})).then(()=>{I((0,r.m)({draft:O,reason:U,syncImmediately:R}))});const{threadTs:k}=(0,f.GP)(b)||{};k||I((0,d.a)({blocks:JSON.stringify((0,f.lq)(b)),clientMsgId:(0,m.A)(),destinations:(0,f.l7)(b),fileIds:JSON.stringify((0,v.A)(b)||[]),isFromComposer:!0,attachments:JSON.stringify((0,f.aY)(b)),reason:"attached_draft_exists:recovery"}))}else P(`The drafts.create call failed due to attached_draft_exists and the existing draft could not be found - ${S}`)})});u.meta={name:"createThunk",key:"createThunkhandleExistingAttachedDraft",description:"Recover from attached_draft_exists error"};const g=u;var p=e(6934022494),A=e(3862871806),C=e(1189736859);const T=(0,n.Ay)("Stores and syncs draft changes",(I,M,D)=>{let{draft:O,reason:S,sync:R=!0,syncImmediately:U=!1,skipEqualityCheck:P=!1}=D;const L=M(),F=(0,f.ue)(O),x=(0,p.BH)(L)&&(0,p.bc)(L,{draftId:F}),b=(0,C.e)(L)&&(0,A.ck)(L,{draftId:F});if((0,t.A)(O)&&!x&&!b)return;const{error:k,info:B}=(0,o.Ay)({getState:M,label:"DRAFTS"});if(!F){k("Draft does not have an id - an id is required to create or update a draft");return}let W=(0,c.YI)(M(),F);if(!W&&(0,f.sC)(O)){const H=(0,f.EF)(O);H&&(W=(0,c.V4)(M(),H))}const K={...W,...O};if(!(!P&&(0,f.CV)(K,W))&&(B(`Storing draft changes locally - ${F}`),I((0,s.nz)({...K,last_updated:Date.now(),skipEqualityCheck:P})),R)){const H=(0,c.YI)(M(),F),z=(0,f.iS)(H);I(z?(0,a.j)({draft:H,reason:S,syncImmediately:U}):(0,r.m)({draft:H,reason:S,syncImmediately:U,handleExistingAttachedDraft:(Q,q)=>I(g({draftId:Q,draft:q,syncImmediately:U,reason:S}))}))}});T.meta={name:"createThunk",key:"createThunksetDraft",description:"Stores and syncs draft changes"}},4550534021:(N,y,e)=>{"use strict";e.d(y,{j:()=>f});var t=e(9113979368),n=e(6304789565),o=e(1545824888),s=e(337319621),c=e(1100145935),r=e(7765212398),a=e(6532287396),i=e(2567328269),l=e(9268451279),m=e(6728717861),_=e(1161020392),h=e(8466415572);const d=(0,n.Ay)("Syncs draft updates",function(u,g){let{draftId:p,reason:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!p)return o.S.reject(void 0);const{error:C,info:T}=(0,s.Ay)({getState:g,label:"DRAFTS"}),I=(0,r.YI)(g(),p);if(!I||(0,t.A)(I))return T(`No need to sync changes for a draft that no longer exists locally - ${p}`),o.S.resolve();if(!(0,m.sc)(g()))return T(`Deferring update draft API while offline (id: ${p})`),u((0,_.NJ)({draftClientId:p})),o.S.resolve();const M=(0,l.iS)(I),D=`client id: ${p} || server id: ${M}`;return T(`Syncing draft updates - ${D}`),(0,i.VE)(M),u((0,h.J)({draft:I,reason:A})).then(O=>{if(T(`Draft updates synced \u2705 - ${D}`),!O.draft){C(`No draft received from the drafts.update response - ${D}`);return}const S=(0,r.YI)(g(),p);if((0,t.A)(S)){T(`Draft no longer exists locally, skipping post API updates - ${D}`);return}u((0,c.nz)({client_draft_id:p,last_updated_ts:parseFloat(O.draft.last_updated_ts)}))}).catch(O=>{C(`Draft updates failed to sync - ${D}`,O)}).finally(()=>{(0,i.jb)(M)})});d.meta={name:"createThunk",key:"createThunksyncDraftUpdates",description:"Syncs draft updates"};const f=(0,n.Ay)("Updates a draft locally and via API",function(u,g){let{draft:p,reason:A,syncImmediately:C=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,t.A)(p))return;const{error:T}=(0,s.Ay)({getState:g,label:"DRAFTS"}),I=(0,l.ue)(p);if(!I){T("Draft does not have an ID - an ID is required to update a draft");return}const M=E(()=>u(d({draftId:I,reason:A})),"sync");C?M():(0,a.I8)({draftId:I,sync:M})});f.meta={name:"createThunk",key:"createThunkupdateDraft",description:"Updates a draft locally and via API"};const v={syncDraftUpdates:d}},2567328269:(N,y,e)=>{"use strict";e.d(y,{VE:()=>a,eh:()=>r,jb:()=>i});var t=e(7174777686),n=e(8403493408),o=e(337319621);const s="DRAFTS",c=[],r=E(m=>(0,t.A)(c,m),"shouldIgnoreDraftUpdateEvent");function a(m){if(!m||(0,t.A)(c,m))return;const{debug:_}=(0,o.Wo)({label:s});_(`Adding an id to the draft update event manager: ${m}`),c.push(m)}E(a,"addServerIdToUpdateEventManager");function i(m){if(!m||!(0,t.A)(c,m))return;const{debug:_}=(0,o.Wo)({label:s});_(`Removing an id from the draft update event manager: ${m}`),(0,n.A)(c,m)}E(i,"removeServerIdFromUpdateEventManager");const l={getTrackedIds:()=>c}},4318855015:(N,y,e)=>{"use strict";e.d(y,{$x:()=>c,H9:()=>n,at:()=>a,j_:()=>l,jy:()=>i,o2:()=>s,qw:()=>o,su:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Mark emoji collections as fetch (or not fetched");n.meta={name:"createAction",key:"createActionsetEmojiCollectionsFetched",description:"Mark emoji collections as fetch (or not fetched"};const o=(0,t.Ay)("Set and replace emoji collections");o.meta={name:"createAction",key:"createActionsetEmojiCollections",description:"Set and replace emoji collections"};const s=(0,t.Ay)("Signals that an emoji collection has been installed");s.meta={name:"createAction",key:"createActioninstallEmojiCollection",description:"Signals that an emoji collection has been installed"};const c=(0,t.Ay)("Signals that an emoji collection has been uninstalled");c.meta={name:"createAction",key:"createActionuninstallEmojiCollection",description:"Signals that an emoji collection has been uninstalled"};const r=(0,t.Ay)("Signals that badges should be added post-install");r.meta={name:"createAction",key:"createActionbadgeEmojiCollection",description:"Signals that badges should be added post-install"};const a=(0,t.Ay)("Signals that the message input badge should be removed");a.meta={name:"createAction",key:"createActionremoveEmojiCollectionInputBadge",description:"Signals that the message input badge should be removed"};const i=(0,t.Ay)("Signals that the message tab badge should be removed from the emoji picker");i.meta={name:"createAction",key:"createActionremoveEmojiCollectionTabBadge",description:"Signals that the message tab badge should be removed from the emoji picker"};const l=(0,t.Ay)("Increments emoji click count");l.meta={name:"createAction",key:"createActionincrementEmojiClickCount",description:"Increments emoji click count"}},3004085654:(N,y,e)=>{"use strict";e.d(y,{Cs:()=>h,Ur:()=>u,_J:()=>g,_o:()=>f,fl:()=>p,nQ:()=>d,pG:()=>v,uI:()=>_});var t=e(2101927269),n=e(9113979368),o=e(2141441167),s=e(2048121586),c=e(6696292586),r=e(3009309149),a=e(3385422400),i=e(2047021170);const l=60*60*24*14,m=(0,r.Ay)((A,C)=>A&&A.emojiCollections&&A.emojiCollections.collections&&A.emojiCollections.collections[C]);m.meta={name:"createSelector",key:"createSelectorgetEmojiCollection",description:(A,C)=>A&&A.emojiCollections&&A.emojiCollections.collections&&A.emojiCollections.collections[C]};const _=(0,r.Ay)(A=>A&&A.emojiCollections&&A.emojiCollections.collections);_.meta={name:"createSelector",key:"createSelectorgetEmojiCollections",description:A=>A&&A.emojiCollections&&A.emojiCollections.collections};const h=(0,a.Mz)(_,A=>(0,t.A)(A,C=>C.installed)),d=(0,r.Ay)(A=>A&&A.emojiCollections&&A.emojiCollections.hasFetched);d.meta={name:"createSelector",key:"createSelectorhasFetchedEmojiCollections",description:A=>A&&A.emojiCollections&&A.emojiCollections.hasFetched};const f=(0,r.Ay)(A=>A&&A.emojiCollections&&A.emojiCollections.inputBadge);f.meta={name:"createSelector",key:"createSelectorgetInputBadge",description:A=>A&&A.emojiCollections&&A.emojiCollections.inputBadge};const v=(0,r.Ay)(A=>A&&A.emojiCollections&&A.emojiCollections.tabBadge);v.meta={name:"createSelector",key:"createSelectorgetTabBadge",description:A=>A&&A.emojiCollections&&A.emojiCollections.tabBadge};const u=(0,r.Ay)(A=>A&&A.emojiCollections&&A.emojiCollections.emojiClickCount);u.meta={name:"createSelector",key:"createSelectorgetEmojiClickCount",description:A=>A&&A.emojiCollections&&A.emojiCollections.emojiClickCount};const g=(0,r.Ay)(A=>{const C=_(A);if((0,n.A)(C))return null;const T=(0,o.A)(C);return(0,s.A)(T,I=>I.date_create)});g.meta={name:"createSelector",key:"createSelectorgetMostRecentPack",description:A=>{const C=_(A);if((0,n.A)(C))return null;const T=(0,o.A)(C);return(0,s.A)(T,I=>I.date_create)}};const p=(0,r.Ay)(A=>{const C=(0,i.ty)(A,"emoji_packs_most_recent_available_time");if(!(0,c.A)(C))return!1;const T=C+l;return Date.now()/1e3<T});p.meta={name:"createSelector",key:"createSelectorisWithinExpirationDateOfNewPack",description:A=>{const C=(0,i.ty)(A,"emoji_packs_most_recent_available_time");if(!(0,c.A)(C))return!1;const T=C+l;return Date.now()/1e3<T}}},7564917982:(N,y,e)=>{"use strict";e.d(y,{H:()=>d});var t=e(7156798807),n=e(6304789565),o=e(1194535350),s=e(2878685908),c=e(3004085654),r=e(4318855015),a=e(2048121586),i=e(2047021170),l=e(5510392579),m=e(387484329);const _=(0,n.Ay)("handle updating prefs if new emoji pack has become available",(f,v,u)=>{let{collections:g}=u;const p=v(),A=(0,l.h3)(p),C=(0,i.ty)(p,"emoji_packs_most_recent_available_time")||0,T=(0,a.A)(g,O=>O.date_create),{date_create:I,installed:M}=T||{};(A||M)&&I>C&&f((0,m.Hj)({emoji_packs_most_recent_available_time:Date.now()/1e3,emoji_packs_clicked_picker_cta:!1,emoji_packs_clicked_picker_post_install_cta:!1,emoji_packs_clicked_collection_cta:!1}))});_.meta={name:"createThunk",key:"createThunkhandlePotentialNewPack",description:"handle updating prefs if new emoji pack has become available"};const h=_,d=(0,n.Ay)("Process and add emoji collections",(f,v,u)=>{let{reason:g}=u;const p=v();(0,c.nQ)(p)||(f((0,r.H9)({hasFetched:!0})),f((0,o.KO)({reason:g})).then(A=>{const C=A.installed||[],T=A.available||[],I=(0,t.A)(C,"id"),M=T.map(D=>({...D,installed:!!I[D.id],localEmoji:I[D.id]?I[D.id].emoji:D.emoji}));f(h({collections:M})),(0,s.Cu)()?f((0,r.qw)({collections:M.filter(D=>!["1044122771874","11"].includes(D.id))})):f((0,r.qw)({collections:M}))}).catch(()=>{f((0,r.H9)({hasFetched:!1}))}))});d.meta={name:"createThunk",key:"createThunkfetchAllEmojiCollections",description:"Process and add emoji collections"}},7929066846:(N,y,e)=>{"use strict";e.d(y,{D:()=>s});var t=e(8847766420),n=e(6304789565),o=e(3829348308);const s=(0,n.Ay)("Checks and returns whether an emoji exists for a given team ID",(c,r,a)=>{const i=r(),l=(0,t.ZT)(i);return(0,o.ux)(i,{text:a,teamId:l})});s.meta={name:"createThunk",key:"createThunkdoesEmojiExist",description:"Checks and returns whether an emoji exists for a given team ID"}},1890276164:(N,y,e)=>{"use strict";e.d(y,{R:()=>n,t:()=>s});var t=e(3009309149);const n=(0,t.Ay)((r,a)=>{var i;return!!(!((i=r.externalTeamIds)===null||i===void 0)&&i[a])});n.meta={name:"createSelector",key:"createSelectorisTeamExternalById",description:(r,a)=>{var i;return!!(!((i=r.externalTeamIds)===null||i===void 0)&&i[a])}};var o;const s=(0,t.Ay)(r=>!!Object.keys((o=r.externalTeamIds)!==null&&o!==void 0?o:{}).length);var c;s.meta={name:"createSelector",key:"createSelectorhasAnyExternalTeam",description:r=>!!Object.keys((c=r.externalTeamIds)!==null&&c!==void 0?c:{}).length}},9296711617:(N,y,e)=>{"use strict";e.d(y,{Oq:()=>o,ZB:()=>n,eh:()=>c});var t=e(3009309149);const n=(0,t.Ay)((r,a,i)=>{var l,m,_;return r==null||(l=r.filePermissions)===null||l===void 0||(m=l.draftPermissions)===null||m===void 0||(_=m[a])===null||_===void 0?void 0:_[i]});n.meta={name:"createSelector",key:"createSelectorgetSelectedFilePermission",description:(r,a,i)=>{var l,m,_;return r==null||(l=r.filePermissions)===null||l===void 0||(m=l.draftPermissions)===null||m===void 0||(_=m[a])===null||_===void 0?void 0:_[i]}};const o=(0,t.Ay)((r,a)=>{var i,l;return r==null||(i=r.filePermissions)===null||i===void 0||(l=i.draftPermissions)===null||l===void 0?void 0:l[a]});o.meta={name:"createSelector",key:"createSelectorgetAllSelectedFilePermissionsByDraftId",description:(r,a)=>{var i,l;return r==null||(i=r.filePermissions)===null||i===void 0||(l=i.draftPermissions)===null||l===void 0?void 0:l[a]}};const s=(0,t.Ay)(r=>r==null?void 0:r.filePermissions);s.meta={name:"createSelector",key:"createSelectorgetAllSelectedFilePermissions",description:r=>r==null?void 0:r.filePermissions};const c=(0,t.Ay)((r,a)=>{var i;return(r==null||(i=r.filePermissions)===null||i===void 0?void 0:i.messageTs)===a});c.meta={name:"createSelector",key:"createSelectorgetMessageTsForPermissionRequest",description:(r,a)=>{var i;return(r==null||(i=r.filePermissions)===null||i===void 0?void 0:i.messageTs)===a}}},8636946118:(N,y,e)=>{"use strict";e.d(y,{j:()=>o});var t=e(6304789565),n=e(9296711617);const o=(0,t.Ay)("Get file permissions from draft file-permissions-store for message sending APIs",function(s,c){let{draftId:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=c();return Object.values((0,n.Oq)(a,r)||{}).map(m=>({grant:m.grant,file_id:m.fileId}))});o.meta={name:"createThunk",key:"createThunkgetFilePermissionsForMessageSend",description:"Get file permissions from draft file-permissions-store for message sending APIs"}},5975971606:(N,y,e)=>{"use strict";e.d(y,{f:()=>o});var t=e(6304789565),n=e(8636946118);const o=(0,t.Ay)("Creates JSON string of file permissions data submit to draft syncing endpoints",function(s,c){let{draftId:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=s((0,n.j)({draftId:r}));if(!a)return;let i;try{a.length&&(i=JSON.stringify(a))}catch{i=void 0}return i});o.meta={name:"createThunk",key:"createThunkgetFormattedFilePermissions",description:"Creates JSON string of file permissions data submit to draft syncing endpoints"}},6403218297:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(8086952004),n=e(3571452446),o=e(6217320234),s=e(6626377467);function c(r,a){if(!r||!a)return a;const i=a.comments||[],l=(0,t.A)(i,u=>u.id===r.id),m=(0,n.A)(l,["is_starred","_rxn_key"]),_={...l,...r,...m},h=(0,o.A)((0,s.A)([_,...i],"id"),"timestamp"),f=a.initial_comment&&r.id===a.initial_comment.id?_:a.initial_comment,v={...a,comments:h};return f&&(v.initial_comment=f),v}E(c,"addCommentToFile")},9553287e3:(N,y,e)=>{"use strict";e.d(y,{n:()=>s});var t=e(6304789565),n=e(2384831516);const o=(0,n.Mz)(c=>c.fullscreenHistory);o.meta={name:"createSelector",key:"createSelectorgetFullscreenHistory",description:c=>c.fullscreenHistory};const s=(0,t.Ay)("Find view container for a specific window history entry",(c,r,a)=>{let{id:i}=a;return o(r())[i]});s.meta={name:"createThunk",key:"createThunkgetFullscreenContainerByHistoryId",description:"Find view container for a specific window history entry"}},56562029:(N,y,e)=>{"use strict";e.d(y,{G:()=>c});var t=e(9139930183),n=e(848813706),o=e(3193155968);const s={enabled:!1,containers:{}},c=(0,t.Ay)({},s,{storeKey:"fullscreen",persistenceEnabled:!1}).on(n.K$,r=>({...r,enabled:!0})).on(n.sM,r=>({...r,enabled:!1,containers:{}})).on(n.BR,(r,a)=>{let{container:i,windowId:l}=a;const m=l===o.N2?"main":l;if(r.containers[m]===i)return r;if(i)return{...r,containers:{...r.containers,[m]:i}};const _={...r};return delete _.containers[m],_})},2332058678:(N,y,e)=>{"use strict";e.d(y,{r:()=>t,u:()=>n});const t={openCount:0,unreadCount:0},n={issues:{},stats:t,locale:"",zdLocale:"",helpSearchArticles:[],productReleaseCards:[],recommendedArticles:{articles:[],requestId:""},helpSections:[],helpCategories:[],helpNavigation:{categoryId:null},helpTour:null,anchorId:null,isArticleLoaded:!1,isHelpTipHistoryTourActive:!1}},761034736:(N,y,e)=>{"use strict";e.d(y,{fE:()=>le,ZL:()=>me,Fb:()=>B,wB:()=>q,Cb:()=>z,sv:()=>Q,wg:()=>$,tL:()=>te,aN:()=>_e,Mu:()=>ce,Kb:()=>W,cN:()=>H,ZO:()=>K,Eq:()=>Ae,PN:()=>ye});var t=e(3009309149),n=e(8847766420),o=e(3398586081),s=e(2141441167),c=e(8352634987),r=e(6533394955),a=e(4848430086),i=e(6304789565),l=e(930270247),m=e(7629299684),_=e(2927826522);const h=(0,i.Ay)("Fetch product release cards into the store",(ee,V,w)=>{let{locale:Y}=w;return ee((0,l.l)({count:3,type:"product_release_card",locale:Y,reason:"client/fetch_published_product_release_cards"})).then(G=>{let{cards:Z}=G;ee((0,m.M0)((0,_.t)(Z)))})});h.meta={name:"createThunk",key:"createThunkfetchProductReleaseCards",description:"Fetch product release cards into the store"};var d=e(9532047472);const f=(0,i.Ay)("Fetch helpdesk articles into the store",(ee,V,w)=>{let{locale:Y,reason:G}=w;return ee((0,d.a)({locale:Y,reason:G})).then(Z=>{let{articles:se}=Z;ee((0,m.NX)((0,_.t)(se))),ee((0,m.a4)(Y))})});f.meta={name:"createThunk",key:"createThunkfetchHelpArticles",description:"Fetch helpdesk articles into the store"};var v=e(3593297427),u=e(138202077),g=e(1545824888);const p=(0,i.Ay)("Fetch recommended articles into the store",(ee,V,w)=>{let{locale:Y,reason:G}=w;return ee((0,u.H)({reason:G})).then(async Z=>{let{articles:se,request_id:ae}=Z;const re=await g.S.all(se.map(async pe=>ee((0,v.w)({articleId:pe.id,locale:Y,reason:G})).then(de=>{let{article:ie}=de;return{id:ie.article_id,title:ie.title}})));ee((0,m.LV)({articles:re,requestId:ae??""}))})});p.meta={name:"createThunk",key:"createThunkfetchRecommendedArticles",description:"Fetch recommended articles into the store"};var A=e(8745755260);const C=(0,i.Ay)("Fetch help sections into the store",(ee,V,w)=>{let{categoryId:Y,locale:G,reason:Z}=w;return ee((0,A.h)({categoryId:Y,locale:G,reason:Z})).then(se=>{let{sections:ae}=se;return ee((0,m.CK)((0,_.t)(ae)))})});C.meta={name:"createThunk",key:"createThunkfetchHelpSections",description:"Fetch help sections into the store"};var T=e(6936450040);const I=(0,i.Ay)("Fetch help categories into the store",(ee,V,w)=>{let{locale:Y,reason:G}=w;return ee((0,T.G)({locale:Y,reason:G})).then(Z=>{let{categories:se}=Z;ee((0,m.KO)((0,_.t)(se))),ee((0,m.WL)(Y))})});I.meta={name:"createThunk",key:"createThunkfetchHelpCategories",description:"Fetch help categories into the store"};const M=(0,o.A)(()=>new c.Ay({storeKey:"help",fetch:ee=>(0,r.Qw)(ee,(0,a.w)()),isEnabled:()=>!0})),D=(0,o.A)(ee=>new c.Ay({storeKey:"help",fetch:V=>(0,r.Qw)(V,h({locale:ee})),isEnabled:()=>!0})),O=(0,o.A)((ee,V)=>new c.Ay({storeKey:"help",fetch:w=>(0,r.Qw)(w,f({locale:ee,reason:V})),isEnabled:()=>!0})),S=(0,o.A)((ee,V)=>new c.Ay({storeKey:"help",fetch:w=>(0,r.Qw)(w,p({locale:ee,reason:V})),isEnabled:()=>!0,maxAge:()=>86400})),R=(0,o.A)((ee,V,w)=>new c.Ay({storeKey:"help",fetch:Y=>(0,r.Qw)(Y,C({categoryId:ee,locale:V,reason:w})),isEnabled:()=>!0}),(ee,V)=>(0,s.A)([ee,V]).join("_")),U=(0,o.A)((ee,V)=>new c.Ay({storeKey:"help",fetch:w=>(0,r.Qw)(w,I({locale:ee,reason:V})),isEnabled:()=>!0}));var P=e(2332058678),L=e(9907843289),F=e(6471059816);const x=new F.Ay("help"),b="",k=(0,t.Ay)(ee=>ee&&ee.help||P.u);k.meta={name:"createSelector",key:"createSelectorgetHelpState",description:ee=>ee&&ee.help||P.u};const B=(0,t.Ay)((ee,V)=>{const w=(0,n.ZT)(ee),Y=(0,L.db)();return k(ee).zdLocale!==Y&&O(Y,V).markObjectsAsStale(w,[Y]),O(Y,V).maybeRefetch(w,Y),k(ee).helpSearchArticles||[]});B.meta={name:"createSelector",key:"createSelectorgetHelpArticles",description:(ee,V)=>{const w=(0,n.ZT)(ee),Y=(0,L.db)();return k(ee).zdLocale!==Y&&O(Y,V).markObjectsAsStale(w,[Y]),O(Y,V).maybeRefetch(w,Y),k(ee).helpSearchArticles||[]}};const W=(0,t.Ay)(ee=>{const V=(0,n.ZT)(ee),w=(0,L.Yp)();return k(ee).locale!==w&&D(w).markObjectsAsStale(V,[w]),D(w).maybeRefetch(V,w),k(ee).productReleaseCards||[]});W.meta={name:"createSelector",key:"createSelectorgetProductReleaseCards",description:ee=>{const V=(0,n.ZT)(ee),w=(0,L.Yp)();return k(ee).locale!==w&&D(w).markObjectsAsStale(V,[w]),D(w).maybeRefetch(V,w),k(ee).productReleaseCards||[]}};const K=(0,t.Ay)((ee,V)=>{var w;const Y=(0,n.ZT)(ee),G=(0,L.Yp)();return k(ee).locale!==G&&S(G,V).markObjectsAsStale(Y,[G]),S(G,V).maybeRefetch(Y,G),((w=k(ee).recommendedArticles)===null||w===void 0?void 0:w.articles)||[]});K.meta={name:"createSelector",key:"createSelectorgetRecommendedArticles",description:(ee,V)=>{var w;const Y=(0,n.ZT)(ee),G=(0,L.Yp)();return k(ee).locale!==G&&S(G,V).markObjectsAsStale(Y,[G]),S(G,V).maybeRefetch(Y,G),((w=k(ee).recommendedArticles)===null||w===void 0?void 0:w.articles)||[]}};const H=(0,t.Ay)(ee=>{var V;return((V=k(ee).recommendedArticles)===null||V===void 0?void 0:V.requestId)||""});H.meta={name:"createSelector",key:"createSelectorgetRecommendArticlesRequestId",description:ee=>{var V;return((V=k(ee).recommendedArticles)===null||V===void 0?void 0:V.requestId)||""}};const z=(0,t.Ay)(ee=>k(ee).helpNavigation||P.u.helpNavigation);z.meta={name:"createSelector",key:"createSelectorgetHelpNavigation",description:ee=>k(ee).helpNavigation||P.u.helpNavigation};const Q=(0,t.Ay)((ee,V,w)=>{var Y,G;const Z=(0,n.ZT)(ee),se=(0,L.Yp)(),ae=k(ee).locale,re=w??((Y=k(ee).helpNavigation)===null||Y===void 0?void 0:Y.categoryId),pe=(G=k(ee).helpSections[0])===null||G===void 0?void 0:G.categoryId;return re?(pe&&re!==pe?(R(re,se,V).markObjectsAsStale(Z,[re.toString()]),R(re,se,V).maybeRefetch(Z,re.toString())):ae!==se&&R(re,se,V).markObjectsAsStale(Z,[se]),R(re,se,V).maybeRefetch(Z,se),k(ee).helpSections||[]):k(ee).helpSections||[]});Q.meta={name:"createSelector",key:"createSelectorgetHelpSections",description:(ee,V,w)=>{var Y,G;const Z=(0,n.ZT)(ee),se=(0,L.Yp)(),ae=k(ee).locale,re=w??((Y=k(ee).helpNavigation)===null||Y===void 0?void 0:Y.categoryId),pe=(G=k(ee).helpSections[0])===null||G===void 0?void 0:G.categoryId;return re?(pe&&re!==pe?(R(re,se,V).markObjectsAsStale(Z,[re.toString()]),R(re,se,V).maybeRefetch(Z,re.toString())):ae!==se&&R(re,se,V).markObjectsAsStale(Z,[se]),R(re,se,V).maybeRefetch(Z,se),k(ee).helpSections||[]):k(ee).helpSections||[]}};const q=(0,t.Ay)((ee,V)=>{const w=(0,n.ZT)(ee),Y=(0,L.Yp)();return k(ee).locale!==Y&&U(Y,V).markObjectsAsStale(w,[Y]),U(Y,V).maybeRefetch(w,Y),k(ee).helpCategories||[]});q.meta={name:"createSelector",key:"createSelectorgetHelpCategories",description:(ee,V)=>{const w=(0,n.ZT)(ee),Y=(0,L.Yp)();return k(ee).locale!==Y&&U(Y,V).markObjectsAsStale(w,[Y]),U(Y,V).maybeRefetch(w,Y),k(ee).helpCategories||[]}};const $=(0,t.Ay)(ee=>k(ee).helpTour||P.u.helpTour);$.meta={name:"createSelector",key:"createSelectorgetHelpTour",description:ee=>k(ee).helpTour||P.u.helpTour};const le=(0,t.Ay)(ee=>k(ee).anchorId||P.u.anchorId);le.meta={name:"createSelector",key:"createSelectorgetAnchorId",description:ee=>k(ee).anchorId||P.u.anchorId};const te=(0,t.Ay)(ee=>k(ee).isArticleLoaded||P.u.isArticleLoaded);te.meta={name:"createSelector",key:"createSelectorgetIsHelpArticleLoaded",description:ee=>k(ee).isArticleLoaded||P.u.isArticleLoaded};const ce=(0,t.Ay)(ee=>{var V,w;if(!((V=ee.desktop)===null||V===void 0||(w=V.app)===null||w===void 0)&&w.updateInfo){var Y;const{releaseName:G}=ee.desktop.app.updateInfo;if(!((Y=ee.desktop)===null||Y===void 0)&&Y.environment){const{appVersion:Z}=ee.desktop.environment;if(G.endsWith(Z))return null}return G}return null});ce.meta={name:"createSelector",key:"createSelectorgetPendingAppUpdateReleaseName",description:ee=>{var V,w;if(!((V=ee.desktop)===null||V===void 0||(w=V.app)===null||w===void 0)&&w.updateInfo){var Y;const{releaseName:G}=ee.desktop.app.updateInfo;if(!((Y=ee.desktop)===null||Y===void 0)&&Y.environment){const{appVersion:Z}=ee.desktop.environment;if(G.endsWith(Z))return null}return G}return null}};const me=(0,t.Ay)(ee=>{if(ee.desktop&&ee.desktop.app&&ee.desktop.app.updateInfo){const{releaseName:V,releaseNotes:w,releaseDate:Y}=ee.desktop.app.updateInfo;return{timestamp:Y?Y.getTime():Date.now(),title:V,description:x.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:w,url_title:x.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null});me.meta={name:"createSelector",key:"createSelectorgetAppUpdate",description:ee=>{if(ee.desktop&&ee.desktop.app&&ee.desktop.app.updateInfo){const{releaseName:V,releaseNotes:w,releaseDate:Y}=ee.desktop.app.updateInfo;return{timestamp:Y?Y.getTime():Date.now(),title:V,description:x.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:w,url_title:x.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null}};const _e=(0,t.Ay)(ee=>{const V=me(ee)||null;return V?V.timestamp:-1});_e.meta={name:"createSelector",key:"createSelectorgetLatestAppUpdateTimeStamp",description:ee=>{const V=me(ee)||null;return V?V.timestamp:-1}};const Ae=(0,t.Ay)(ee=>{const V=(0,n.ZT)(ee);return M().maybeRefetch(V,b),k(ee).stats||P.r});Ae.meta={name:"createSelector",key:"createSelectorgetTicketStats",description:ee=>{const V=(0,n.ZT)(ee);return M().maybeRefetch(V,b),k(ee).stats||P.r}};const ye=(0,t.Ay)(ee=>Ae(ee).unreadCount);ye.meta={name:"createSelector",key:"createSelectorgetUnreadTickets",description:ee=>Ae(ee).unreadCount};const oe=(0,t.Ay)(ee=>k(ee).isHelpTipHistoryTourActive||P.u.isHelpTipHistoryTourActive);oe.meta={name:"createSelector",key:"createSelectorgetIsHelpTipHistoryTourActive",description:ee=>k(ee).isHelpTipHistoryTourActive||P.u.isHelpTipHistoryTourActive}},4848430086:(N,y,e)=>{"use strict";e.d(y,{w:()=>s});var t=e(6304789565),n=e(8726791251),o=e(7629299684);const s=(0,t.Ay)("Fetch and upsert ticket stats into the store",c=>c((0,n.I)({reason:"fetchAndUpsertTicketStats"})).then(r=>{const a={unreadCount:r.unread_count||0,openCount:r.open_count||0};return c((0,o.SX)(a)),a}));s.meta={name:"createThunk",key:"createThunkfetchAndUpsertTicketStats",description:"Fetch and upsert ticket stats into the store"}},5492254797:(N,y,e)=>{"use strict";e.d(y,{P:()=>c,S:()=>r});var t=e(3398586081),n=e(337319621),o=e(8668318456);const s=E(a=>{try{return JSON.stringify(a)}catch(i){return(0,n.Wo)().error("stringify-error-constructing-link-trigger-context-from-message",i),""}},"stringifyObject"),c=(0,t.A)(a=>a!=null&&a.channelId?{location:"message",channelId:a.channelId,messageTs:(a==null?void 0:a.ts)||""}:{location:"markdown_link"},s),r=(0,t.A)((a,i)=>({eventId:o.EventId.HERMES_LINK_TRIGGER,uiComponentName:o.UiComponentName.LINK_TRIGGER_URL,entryPoint:a?"message":"other",workflowTriggerId:i.triggerId,channelId:a==null?void 0:a.channelId,onClick:{enableClogAction:!0}}),s)},8239363237:(N,y,e)=>{"use strict";e.d(y,{GF:()=>l,Tk:()=>m,UI:()=>u,X_:()=>_,iN:()=>v,pm:()=>d,t6:()=>g,vc:()=>h,xA:()=>f});var t=e(3385422400),n=e(2647703359),o=e(937317117),s=e(1990810649),c=e(387328355);const r=E((p,A)=>{var C;return A?(C=(0,o.Lp)(p,A))===null||C===void 0?void 0:C.localUpdated:null},"getFileLocalUpdated"),a=E(p=>(0,c.lt)(p),"getFileId"),i=E(p=>(0,t.Mz)([A=>(0,c.JC)(A),A=>{const C=a(A);return r(A,C)},A=>{const C=a(A);return C?(0,o.Lp)(A,C):null}],(A,C,T)=>T!=null&&T.id&&(A===s.cM.CanvasFile||A===s.cM.QuipFile)?p(T):null),"selectFromUpdatedFile"),l=i(p=>p),m=i(p=>p==null?void 0:p.id),_=i(p=>p?(0,n.sJ)(p):!1),h=i(p=>p?(0,n.uO)(p):!1),d=i(p=>p?(0,n.WP)(p):null),f=i(p=>p==null?void 0:p.user),v=i(p=>!!p),u=i(p=>p?(0,n.l7)(p):!1),g=i(p=>p?(0,n.wL)(p):!1)},5145584581:(N,y,e)=>{"use strict";e.d(y,{x:()=>p});var t=e(8628145494),n=e(6304789565),o=e(7384121809),s=e(4250409994),c=e(5286203919),r=e(387328355),a=e(1990810649),i=e(7434063642),l=e(6251210828),m=e(7723800688),_=e(2664504268),h=e(6470070112),d=e(8668318456),f=e(56548687),v=e(7598536680),u=e(7884000776);const g=E((C,T,I,M)=>{const D=(0,o.Ry)(),O=(0,c.E9)(D),S=(0,h.$t)(T,{huddleId:O}),R=(0,h.kn)(D),U=(0,h.UE)(D),P=(0,l.Ec)(T,{huddleId:O});let L,F,x=null,b=null,k=null;if(I===a.cM.None)L=m.Hi.FOCUS_CLOSE,F=(0,l.U7)(T,{key:m.Hi.FOCUS_OPEN});else{var B;switch(L=m.Hi.FOCUS_OPEN,F=(0,_.A)(),k=(M==null||(B=M.item)===null||B===void 0?void 0:B.id)||null,I){case a.cM.Screenshare:x="focus_screenshare",b="screenshare";break;default:x="focus_file",b="file"}C((0,i.Mn)({key:m.Hi.FOCUS_OPEN,value:F}))}(0,f.e)({state:T}).track(d.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_page:P?P.toString():null,ui_properties:{element_name:L},action:d.UiAction.IMPRESSION},calls:U},...S,...R,interaction_id:F,canvas_dimension_marker:x,type:b,item_file_id:k})},"clogCanvasEvent"),p=(0,n.Ay)("Sets a user content view which represents what the user is focused on in the canvas",(C,T,I)=>{if(!I||(0,t.A)(I.contentViewType))return;const M=T(),D=I.contentViewType,O=!1;if(D===a.cM.Screenshare){const R=(0,r.JC)(M),U=A(M);R===a.cM.None&&!U&&C((0,i.fI)({isThreadOpen:!1})),C((0,i.Zx)({userId:""}))}C((0,i.YC)({isFullscreen:O})),C((0,i.s7)({isNotesOpen:D===a.cM.QuipFile}));const S=I.contentViewType===a.cM.None||!I.contentViewConfig?{}:I.contentViewConfig;C((0,r.sK)({id:I.peerId,contentViewType:D,contentViewConfig:S})),(0,o.dispatchForClientStore)((0,s.xq)({contentViewType:D,contentViewConfig:S})),g(C,M,D,S)});p.meta={name:"createThunk",key:"createThunksetContentView",description:"Sets a user content view which represents what the user is focused on in the canvas"};function A(C){const T=(0,o.Ry)(),I=(0,c.E9)(T),M=(0,c.hc)(T),D=(0,l.fG)(C,{huddleId:I});if(!(D!=null&&D.ts)||!M)return!1;const O=(0,v.zC)({viewContext:u.Y.HUDDLE_THREADS,channelId:M,threadTs:D.ts});return(O==null?void 0:O.hasFocus())||!1}E(A,"doesThreadInputHaveFocus")},6758774099:(N,y,e)=>{"use strict";e.d(y,{Lm:()=>s,T3:()=>o,U$:()=>c,WO:()=>n,dD:()=>a,h2:()=>r,jL:()=>i});var t=e(2140362605);const n=(0,t.Ay)("Enable huddle event log");n.meta={name:"createAction",key:"createActionenableEventLog",description:"Enable huddle event log"};const o=(0,t.Ay)("Disable huddle event log");o.meta={name:"createAction",key:"createActiondisableEventLog",description:"Disable huddle event log"};const s=(0,t.Ay)("Set loading state for huddle event log");s.meta={name:"createAction",key:"createActionsetEventLogLoading",description:"Set loading state for huddle event log"};const c=(0,t.Ay)("Add non-transcription event");c.meta={name:"createAction",key:"createActionpushNonTranscriptionEvent",description:"Add non-transcription event"};const r=(0,t.Ay)("Update with latest transcription events");r.meta={name:"createAction",key:"createActionupdateTranscriptions",description:"Update with latest transcription events"};const a=(0,t.Ay)("Set enabled state for huddle captions side-by-side view");a.meta={name:"createAction",key:"createActionsetSideBySideEnabled",description:"Set enabled state for huddle captions side-by-side view"};const i=(0,t.Ay)("Set enabled state for huddle closed captions view");i.meta={name:"createAction",key:"createActionsetClosedCaptionsEnabled",description:"Set enabled state for huddle closed captions view"}},8409540889:(N,y,e)=>{"use strict";e.d(y,{u:()=>n,y:()=>t});const t=2e3,n=2e3},4988306802:(N,y,e)=>{"use strict";e.d(y,{Cb:()=>_,M3:()=>i,TP:()=>r,VN:()=>l,gL:()=>a,iv:()=>h});var t=e(3385422400),n=e(3009309149),o=e(8409540889),s=e(8783285437);const c=(0,n.Ay)(d=>d.huddleEvents);c.meta={name:"createSelector",key:"createSelectorgetHuddleEventsData",description:d=>d.huddleEvents};const r=(0,n.Ay)(d=>c(d).enabled);r.meta={name:"createSelector",key:"createSelectorareHuddleEventsEnabled",description:d=>c(d).enabled};const a=(0,n.Ay)(d=>c(d).isLoading);a.meta={name:"createSelector",key:"createSelectorareHuddleEventsLoading",description:d=>c(d).isLoading};const i=(0,n.Ay)(d=>d.huddleEvents.isSideBySideEnabled);i.meta={name:"createSelector",key:"createSelectorisHuddleSideBySideCaptionsEnabled",description:d=>d.huddleEvents.isSideBySideEnabled};const l=(0,n.Ay)(d=>d.huddleEvents.isClosedCaptionsEnabled);l.meta={name:"createSelector",key:"createSelectorisHuddleClosedCaptionsEnabled",description:d=>d.huddleEvents.isClosedCaptionsEnabled};const m=(0,n.Ay)(d=>d.huddleEvents.isClosedCaptionsEnabled);m.meta={name:"createSelector",key:"createSelectorHuddlesPersistTranscriptToggle",description:d=>d.huddleEvents.isClosedCaptionsEnabled};const _=(0,t.Mz)(d=>c(d).events,d=>{const f=[];let v,u=[];const g=E(()=>{v&&f.push({...v,content:u.join(" ")})},"maybeCommit");return d.forEach(p=>{v&&p.type===s.v.TRANSCRIBE&&v.memberId===p.memberId&&p.timestampMs-v.endTimeMs<o.y?(u.push(p.content),v.endTimeMs=p.endTimeMs):(g(),p.type===s.v.TRANSCRIBE?(v={type:s.v.TRANSCRIBE,resultId:"",memberId:p.memberId,content:"",timestampMs:p.timestampMs,endTimeMs:p.endTimeMs},u=[p.content]):(v=null,u=[],f.push(p)))}),g(),f}),h=(0,t.Mz)(d=>_(d),d=>d.filter(f=>f.type===s.v.TRANSCRIBE||f.type===s.v.START_TRANSCRIPTION).slice(-5))},1889537412:(N,y,e)=>{"use strict";e.d(y,{A:()=>g});var t=e(6304789565),n=e(727128009),o=e(1545824888),s=e(9640070512),c=e(2527782504),r=e(6758774099),a=e(4988306802),i=e(7004355564),l=e(7384121809),m=e(337319621),_=e(5286203919),h=e(8783285437),d=e(6694086724),f=e(6815073048),v=e(2709531527);const u=(0,t.Ay)("Start transcription for current huddle",async(p,A)=>{if((0,a.TP)(A())||(0,a.gL)(A()))return o.S.resolve();const C=(0,l.Ry)(),T=(0,_.E9)(C);return T?(p((0,r.WO)()),p((0,r.Lm)(!0)),await(0,i.A)(),p((0,d.e)({clearOnEndedCallback:!0,logContext:"huddles-captions-turned-on",isStoppedByUser:!0})),p((0,n.i)({reason:"start-event-log",callId:T})).catch(I=>{var M;if(((M=I.data)===null||M===void 0?void 0:M.error)==="permission_denied")return o.S.delay(5e3).then(()=>p((0,n.i)({reason:"start-event-log/retry",callId:T})));throw I}).catch(I=>{(0,m.Ay)({getState:A}).error(I),p((0,r.T3)())}).finally(()=>{p((0,r.Lm)(!1)),p((0,s.H)({focusKey:c.Ay.HUDDLE_CAPTIONS_TAB})),p((0,r.U$)({type:h.v.START_TRANSCRIPTION,memberId:"USLACKBOT",timestampMs:0}));const{huddleEventsTrace:I}=(0,f.A)().getAllTraceHandlers();I==null||I.update({name:v.p.TRANSCRIPT,type:v.G.START})})):o.S.reject(new Error("No active call ID for huddle"))});u.meta={name:"createThunk",key:"createThunkstartEventLog",description:"Start transcription for current huddle"};const g=u},6855917924:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(6304789565),n=e(580220061),o=e(1545824888),s=e(6758774099),c=e(4988306802),r=e(7384121809),a=e(5286203919),i=e(6815073048),l=e(2709531527);const m=(0,t.Ay)("Stop transcription for current huddle",(h,d)=>{if(!(0,c.TP)(d())||(0,c.gL)(d()))return o.S.resolve();const f=(0,r.Ry)(),v=(0,a.E9)(f);return v?(h((0,s.T3)()),h((0,s.Lm)(!0)),h((0,n.W)({reason:"stop-event-log",callId:v})).finally(()=>{h((0,s.Lm)(!1));const{huddleEventsTrace:u}=(0,i.A)().getAllTraceHandlers();u==null||u.update({name:l.p.TRANSCRIPT,type:l.G.STOP})})):o.S.reject(new Error("No active call ID for huddle"))});m.meta={name:"createThunk",key:"createThunkstopEventLog",description:"Stop transcription for current huddle"};const _=m},8783285437:(N,y,e)=>{"use strict";e.d(y,{v:()=>t});var t;(function(n){n.JOIN="JOIN",n.LEAVE="LEAVE",n.SCREENSHARE_START="SCREENSHARE_START",n.SCREENSHARE_STOP="SCREENSHARE_STOP",n.TRANSCRIBE="TRANSCRIBE",n.SEND_REACTION="SEND_REACTION",n.START_TRANSCRIPTION="START_TRANSCRIPTION"})(t||(t={}))},4250409994:(N,y,e)=>{"use strict";e.d(y,{Ag:()=>K,B5:()=>se,Bk:()=>U,Db:()=>w,Dj:()=>ie,Gx:()=>ce,HC:()=>D,HF:()=>M,Hg:()=>re,I9:()=>l,JM:()=>Ae,Jc:()=>v,Ko:()=>P,Lx:()=>ee,M4:()=>_,OA:()=>V,QZ:()=>T,Rb:()=>R,Rh:()=>f,Rr:()=>I,Sd:()=>c,Sn:()=>A,TK:()=>pe,VU:()=>o,WB:()=>F,WM:()=>B,WY:()=>oe,YA:()=>C,Yi:()=>L,_H:()=>le,_I:()=>r,_U:()=>z,_o:()=>ne,_u:()=>ye,aO:()=>k,bV:()=>Q,bk:()=>_e,cx:()=>me,f2:()=>b,fP:()=>p,hB:()=>u,kg:()=>ae,kn:()=>s,nI:()=>Z,nU:()=>m,nw:()=>Y,o9:()=>G,og:()=>Fe,ol:()=>O,pl:()=>i,qW:()=>a,qr:()=>q,so:()=>h,t2:()=>de,u8:()=>g,wr:()=>J,xf:()=>d,xq:()=>H,yR:()=>S,yW:()=>je,yi:()=>te});var t=e(2140362605),n=e(6304789565);const o=(0,t.Ay)("Set flag to indicate if Huddles is enabled.");o.meta={name:"createAction",key:"createActionsetIsHuddlesEnabled",description:"Set flag to indicate if Huddles is enabled."};const s=(0,t.Ay)("Stores audio reference that will be passed to SDK");s.meta={name:"createAction",key:"createActionstoreHuddlesAudioRef",description:"Stores audio reference that will be passed to SDK"};const c=(0,t.Ay)("Start video shariing");c.meta={name:"createAction",key:"createActionstartVideoSharing",description:"Start video shariing"};const r=(0,t.Ay)("Stop video shariing");r.meta={name:"createAction",key:"createActionstopVideoSharing",description:"Stop video shariing"};const a=(0,t.Ay)("Connect to Huddle media server");a.meta={name:"createAction",key:"createActionconnectToHuddlesMediaServer",description:"Connect to Huddle media server"};const i=(0,t.Ay)("Leave the huddle and stop media transmission");i.meta={name:"createAction",key:"createActiondisconnectHuddlesFromMediaServer",description:"Leave the huddle and stop media transmission"};const l=(0,t.Ay)("Enable or disable local microphone");l.meta={name:"createAction",key:"createActionenableSelfMicrophone",description:"Enable or disable local microphone"};const m=(0,t.Ay)("Send an emoji reaction");m.meta={name:"createAction",key:"createActionsendReactionMessage",description:"Send an emoji reaction"};const _=(0,t.Ay)("Send a sticky emoji reaction");_.meta={name:"createAction",key:"createActionsendStickyReactionMessage",description:"Send a sticky emoji reaction"};const h=(0,t.Ay)("Send a mute request");h.meta={name:"createAction",key:"createActionsendMuteRequestMessage",description:"Send a mute request"};const d=(0,t.Ay)("Insert new active huddle reference with teamId channelId, etc.");d.meta={name:"createAction",key:"createActionaddActiveHuddleReference",description:"Insert new active huddle reference with teamId channelId, etc."};const f=(0,t.Ay)("Upsert existing active huddle reference");f.meta={name:"createAction",key:"createActionupdateActiveHuddleReference",description:"Upsert existing active huddle reference"};const v=(0,t.Ay)("Upsert existing active huddle channel");v.meta={name:"createAction",key:"createActionupdateActiveHuddleChannel",description:"Upsert existing active huddle channel"};const u=(0,t.Ay)("Set active huddle invite");u.meta={name:"createAction",key:"createActionupsertInvite",description:"Set active huddle invite"};const g=(0,t.Ay)("Clear invite for given channel ID");g.meta={name:"createAction",key:"createActionclearInviteForChannelId",description:"Clear invite for given channel ID"};const p=(0,t.Ay)("Mark invite notifications as viewed by clearing them.");p.meta={name:"createAction",key:"createActionmarkInvitesSeenForTeam",description:"Mark invite notifications as viewed by clearing them."};const A=(0,n.Ay)("Mark invite notifications as viewed by clearing them after a delay",(at,nt,Ge)=>{let{delay:Pe,teamId:Le}=Ge;setTimeout(()=>{at(p({teamId:Le,markBeforeMs:Date.now()-Pe}))},Pe)});A.meta={name:"createThunk",key:"createThunkmarkInvitesReadOnDelay",description:"Mark invite notifications as viewed by clearing them after a delay"};const C=(0,t.Ay)("Start screen share for current user with given mediaSourceId");C.meta={name:"createAction",key:"createActionstartScreenShare",description:"Start screen share for current user with given mediaSourceId"};const T=(0,t.Ay)("Stop screen share for current user");T.meta={name:"createAction",key:"createActionstopScreenShare",description:"Stop screen share for current user"};const I=(0,t.Ay)("Notify peers of changes to isDrawEnabled");I.meta={name:"createAction",key:"createActionpropagateDrawEnabled",description:"Notify peers of changes to isDrawEnabled"};const M=(0,t.Ay)("Enabled annotations for screen share host");M.meta={name:"createAction",key:"createActionpropagateHostDrawEnabled",description:"Enabled annotations for screen share host"};const D=(0,t.Ay)("Notify middleware that a new preferred device was selected");D.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware that a new preferred device was selected"};const O=(0,t.Ay)("Notify middleware that automatic gain control setting has changed");O.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const S=(0,t.Ay)("Notify middleware that noise suppression setting has changed");S.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"};const R=(0,t.Ay)("Notify middleware that video background setting has changed");R.meta={name:"createAction",key:"createActionsetVideoBackgroundEffect",description:"Notify middleware that video background setting has changed"};const U=(0,t.Ay)("Toggle global keyboard shortcut support for muting / unmuting a huddle");U.meta={name:"createAction",key:"createActiontoggleGlobalMuteShortcut",description:"Toggle global keyboard shortcut support for muting / unmuting a huddle"};const P=(0,t.Ay)("Internal store update for mini-panel visibility");P.meta={name:"createAction",key:"createActioninternalUpdateMiniPanelVisibility",description:"Internal store update for mini-panel visibility"};const L=(0,t.Ay)("Upsert join credentials for a channel");L.meta={name:"createAction",key:"createActionupsertJoinCredentialsForChannel",description:"Upsert join credentials for a channel"};const F=(0,t.Ay)("Clear the join credentials for a specific channel");F.meta={name:"createAction",key:"createActionclearJoinCredentialsForChannel",description:"Clear the join credentials for a specific channel"};const x=(0,t.Ay)("Store and/or remote push Chime meeting events");x.meta={name:"createAction",key:"createActionhandleMeetingEvents",description:"Store and/or remote push Chime meeting events"};const b=(0,t.Ay)("Transition from the prejoin state to started");b.meta={name:"createAction",key:"createActiontransitionFromPrejoinToStarted",description:"Transition from the prejoin state to started"};const k=(0,t.Ay)("Action to update the store to either show or hide discovery banner");k.meta={name:"createAction",key:"createActionupdateDiscoveryBannerVisibility",description:"Action to update the store to either show or hide discovery banner"};const B=(0,t.Ay)("Toggle Video");B.meta={name:"createAction",key:"createActiontoggleVideo",description:"Toggle Video"};const W=(0,t.Ay)("Reporting CPU and memory usage stats");W.meta={name:"createAction",key:"createActionreportAppMetrics",description:"Reporting CPU and memory usage stats"};const K=(0,t.Ay)("Set true to specify that lounge music is playing, false otherwise.");K.meta={name:"createAction",key:"createActionsetIsLoungeMusicPlaying",description:"Set true to specify that lounge music is playing, false otherwise."};const H=(0,t.Ay)("Set current focused view type");H.meta={name:"createAction",key:"createActionsetContentView",description:"Set current focused view type"};const z=(0,t.Ay)("Set last huddle start time");z.meta={name:"createAction",key:"createActionsetLastHuddleStartTs",description:"Set last huddle start time"};const Q=(0,t.Ay)("Set last huddle end time");Q.meta={name:"createAction",key:"createActionsetLastHuddleEndTs",description:"Set last huddle end time"};const q=(0,t.Ay)("Set last huddle duration time");q.meta={name:"createAction",key:"createActionsetLastHuddleDurationTs",description:"Set last huddle duration time"};const $=(0,t.Ay)("Toggle video background filter");$.meta={name:"createAction",key:"createActiontoggleVideoBackgroundFilter",description:"Toggle video background filter"};const le=(0,t.Ay)("Starts the video preview on the video element using the specified device");le.meta={name:"createAction",key:"createActionstartVideoPreview",description:"Starts the video preview on the video element using the specified device"};const te=(0,t.Ay)("Stops the video preview on the video element");te.meta={name:"createAction",key:"createActionstopVideoPreview",description:"Stops the video preview on the video element"};const ce=(0,t.Ay)("Identifies which screenshare is being viewed in the mini-player");ce.meta={name:"createAction",key:"createActionsetScreenshareActivePanel",description:"Identifies which screenshare is being viewed in the mini-player"};const me=(0,t.Ay)("Resets the store");me.meta={name:"createAction",key:"createActionresetClientHuddleStore",description:"Resets the store"};const _e=(0,t.Ay)("Start the canvas jukebox using content share");_e.meta={name:"createAction",key:"createActionstartContentShareJukebox",description:"Start the canvas jukebox using content share"};const Ae=(0,t.Ay)("Stop the canvas jukebox");Ae.meta={name:"createAction",key:"createActionstopJukebox",description:"Stop the canvas jukebox"};const ye=(0,t.Ay)("Set selected song");ye.meta={name:"createAction",key:"createActionsetSongPlaying",description:"Set selected song"};const oe=(0,t.Ay)("Send jukebox active song");oe.meta={name:"createAction",key:"createActionsendJukeboxActiveSong",description:"Send jukebox active song"};const ee=(0,t.Ay)("Request a jukebox song");ee.meta={name:"createAction",key:"createActionrequestJukeboxSong",description:"Request a jukebox song"};const V=(0,t.Ay)("Request the jukebox stops");V.meta={name:"createAction",key:"createActionrequestJukeboxStop",description:"Request the jukebox stops"};const w=(0,t.Ay)("Send recording start notification");w.meta={name:"createAction",key:"createActionsendRecordingStartNotification",description:"Send recording start notification"};const Y=(0,t.Ay)("Sets whether the active invite card in the sidebar can be rendered");Y.meta={name:"createAction",key:"createActionsetCanRenderActiveInviteCardInSidebar",description:"Sets whether the active invite card in the sidebar can be rendered"};const G=(0,t.Ay)("Sets whether the huddle window of an active huddle is in focus or not.");G.meta={name:"createAction",key:"createActionsetIsHuddleWindowFocused",description:"Sets whether the huddle window of an active huddle is in focus or not."};const Z=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");Z.meta={name:"createAction",key:"createActiontoggleAllIncomingVideo",description:"Sets whether the huddle window of an active huddle is open or not."};const se=(0,t.Ay)("Reports to the SDK when the client is offline");se.meta={name:"createAction",key:"createActionreportClientOffline",description:"Reports to the SDK when the client is offline"};const ae=(0,t.Ay)("Sets whether audio only mode is active or not.");ae.meta={name:"createAction",key:"createActionsetIsAudioOnlyMode",description:"Sets whether audio only mode is active or not."};const re=(0,t.Ay)("Sets whether the camera was enabled when audio only mode was activated.");re.meta={name:"createAction",key:"createActionsetAudioOnlyModeCameraWasEnabled",description:"Sets whether the camera was enabled when audio only mode was activated."};const pe=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");pe.meta={name:"createAction",key:"createActionsetIsHuddleWindowOpen",description:"Sets whether the huddle window of an active huddle is open or not."};const de=(0,t.Ay)("True if huddle mini player is hidden, false if shown.");de.meta={name:"createAction",key:"createActionsetIsHuddleMiniPlayerHidden",description:"True if huddle mini player is hidden, false if shown."};const ie=(0,t.Ay)("Asks for video permission and enumerates devices");ie.meta={name:"createAction",key:"createActioninitVideoPermission",description:"Asks for video permission and enumerates devices"};const he=(0,t.Ay)("Execute readiness check for audio input");he.meta={name:"createAction",key:"createActionexecuteHuddlesAudioInputReadinessCheck",description:"Execute readiness check for audio input"};const ve=(0,t.Ay)("Execute readiness check for audio output");ve.meta={name:"createAction",key:"createActionexecuteHuddlesAudioOutputReadinessCheck",description:"Execute readiness check for audio output"};const ge=(0,t.Ay)("Execute readiness check for video input");ge.meta={name:"createAction",key:"createActionexecuteHuddlesVideoInputReadinessCheck",description:"Execute readiness check for video input"};const ke=(0,t.Ay)("Execute readiness check for a particular camera resolution");ke.meta={name:"createAction",key:"createActionexecuteHuddlesCameraResolutionReadinessCheck",description:"Execute readiness check for a particular camera resolution"};const Ne=(0,t.Ay)("Execute readiness check for audio connectivity");Ne.meta={name:"createAction",key:"createActionexecuteHuddlesAudioConnectivityReadinessCheck",description:"Execute readiness check for audio connectivity"};const We=(0,t.Ay)("Execute readiness check for video connectivity");We.meta={name:"createAction",key:"createActionexecuteHuddlesVideoConnectivityReadinessCheck",description:"Execute readiness check for video connectivity"};const Oe=(0,t.Ay)("Execute readiness check for content share connectivity");Oe.meta={name:"createAction",key:"createActionexecuteHuddlesContentShareConnectivityReadinessCheck",description:"Execute readiness check for content share connectivity"};const be=(0,t.Ay)("Execute readiness check for network UDP connectivity");be.meta={name:"createAction",key:"createActionexecuteHuddlesNetworkUDPConnectivityReadinessCheck",description:"Execute readiness check for network UDP connectivity"};const Ke=(0,t.Ay)("Execute readiness check for network TCP connectivity");Ke.meta={name:"createAction",key:"createActionexecuteNetworkTCPConnectivityReadinessCheck",description:"Execute readiness check for network TCP connectivity"};const Fe=(0,t.Ay)("Sets that the Huddle was joined via prejoin");Fe.meta={name:"createAction",key:"createActionsetHuddleWasJoinedFromPrejoin",description:"Sets that the Huddle was joined via prejoin"};const J=(0,t.Ay)("Sets Huddle device based on preview entry");J.meta={name:"createAction",key:"createActionsetDeviceStateBasedOnPreviewEntry",description:"Sets Huddle device based on preview entry"};const ne=(0,t.Ay)("Sets the channel ID for the Huddle when joining through the Huddle Join Preview flow");ne.meta={name:"createAction",key:"createActionsetHuddleJoinPreviewChannel",description:"Sets the channel ID for the Huddle when joining through the Huddle Join Preview flow"};const je=(0,t.Ay)("Sets the current background effect selected from the preview background picker");je.meta={name:"createAction",key:"createActionsetHuddleJoinPreviewBackgroundEffect",description:"Sets the current background effect selected from the preview background picker"}},5702042015:(N,y,e)=>{"use strict";e.d(y,{A:()=>c,p:()=>r});var t=e(5286203919),n=e(4250409994),o=e(6304789565);let s;const c=(0,o.Ay)("Temporarily show mini-panel",function(a,i){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2500;clearTimeout(s),a((0,n.Ko)(!0)),s=setTimeout(()=>a((0,n.Ko)(!1)),l)});c.meta={name:"createThunk",key:"createThunkshowMiniPanelForDuration",description:"Temporarily show mini-panel"};const r=(0,o.Ay)("Temporarily pause mini-panel visibility transition",(a,i)=>{const l=i();(0,t.Ae)(l)&&clearTimeout(s)});r.meta={name:"createThunk",key:"createThunkpauseMiniPanelTimeout",description:"Temporarily pause mini-panel visibility transition"}},2778217221:(N,y,e)=>{"use strict";e.d(y,{WS:()=>o,nq:()=>n,o7:()=>t});const t="HUDDLES",n=864e5,o=2},5378147939:(N,y,e)=>{"use strict";e.d(y,{A:()=>pe});var t=e(3398586081),n=e(387328355),o=e(1289024643),s=e(462591818),c=e(6533394955),r=e(7384121809),a=e(5795074931),i=e(2047021170),l=e(1889537412),m=e(6758774099),_=e(4250409994),h=e(5881236351),d=e(6304789565),f=e(6562711329);const v=(0,d.Ay)("Fetch channel membership info for huddle member",(de,ie,he)=>{let{channelId:ve,userId:ge}=he;return de((0,f.z)({channelId:ve,userIds:[ge]})).then(ke=>{let{membershipInfo:Ne}=ke;return Ne[ge]&&"isMember"in Ne[ge]?!Ne[ge].isMember:!0})});v.meta={name:"createThunk",key:"createThunkisUserNotHuddleChannelMember",description:"Fetch channel membership info for huddle member"};var u=e(2778217221),g=e(7434063642),p=e(9548972574),A=e(5332875232),C=e(1670069836),T=e(8305649700),I=e(567847295),M=e(9712681361),D=e(9680914051),O=e(2084347232),S=e(4540171876),R=e(1545824888),U=e(6470070112),P=e(6839188756),L=e(56548687),F=e(8668318456),x=e(1890776492),b=e(4476913522),k=e(5286203919),B=e(2028988448),W=e(2141441167),K=e(4949104520),H=e(337319621),z=e(7578434623),Q=e(1651628626),q=e(2664504268),$=e(1921074781),le=e(5203103513);const te=60*1e3,ce=15*1e3,me=1e3*10,_e=1e3*60,Ae=5e3;let ye=!1;const oe=500,ee=25;let V=E(class{async setTargetState(ie){this.targetState=ie;const{huddleState:he,huddleSubState:ve}=this.targetState;this.isValidHuddleSubState(he,ve)||(this.targetState.huddleSubState=this.getInitialSubStateForHuddleState(he)),(0,r.dispatchForClientStore)((0,_.Rh)(this.getOptimisticState(ie))),await this.process()}setTargetChannel(ie){this.targetState.channelId=ie}async setTargetSubState(ie){this.isValidHuddleSubState(this.targetState.huddleState,ie)&&(this.targetState.huddleSubState=ie,await this.process())}transitionFromPrejoinToStarted(){this.setTargetState({huddleState:M.RJ.STARTED,teamId:this.targetState.teamId,channelId:this.targetState.channelId,muted:this.targetState.muted,callId:this.targetState.callId})}getTimeOfLastStateChange(){return this.timeOfLastStateChange}getTimeOfLastSubStateChange(){return this.timeOfLastSubStateChange}async waitForStartStop(){return this.startStopDeferred||R.S.resolve()}isProcessing(){var ie;return(ie=this.startStopDeferred)===null||ie===void 0?void 0:ie.isPending()}isTargetState(){const{teamId:ie,channelId:he,huddleState:ve}=this.getClientHuddleState();return(0,U.Ft)(this.targetState.huddleState)?ve===this.targetState.huddleState:ie===this.targetState.teamId&&he===this.targetState.channelId&&ve===this.targetState.huddleState}isTargetSubState(){return this.getClientHuddleState().huddleSubState===this.targetState.huddleSubState}hasBeenInSubStateForAtLeastApproxTime(ie){return this.timeOfLastSubStateChange?Date.now()-this.timeOfLastSubStateChange>ie-oe:!1}isValidHuddleSubState(ie,he){return ie===M.RJ.STARTED?he===void 0?!1:(0,W.A)(M.J_).includes(he):he===void 0}getInitialSubStateForHuddleState(ie){if(ie===M.RJ.STARTED)return M.J_.INITIAL_ALONE}async process(){if(this.isProcessing())return this.waitForStartStop();this.startStopDeferred=(0,x.u)();const ie=setTimeout(async()=>{var he;if(!((he=this.startStopDeferred)===null||he===void 0)&&he.isPending()){const ve=new R.S.TimeoutError("HuddleStateManager timeout");await this.handleErrorAndDisconnect(ve)}},this.startStopTimeout);try{await this.runLoop(),clearTimeout(ie),this.startStopDeferred.resolve()}catch(he){await this.handleErrorAndDisconnect(he)}finally{clearTimeout(ie)}this.startStopDeferred=null}async runLoop(){let ie=0;for(;!this.isTargetState();){if(!this.isProcessing())return;if(ie+=1,ie>ee)throw new Error("runLoop was stuck");const{teamId:ge,channelId:ke,huddleState:Ne}=this.getClientHuddleState(),{teamId:We,channelId:Oe,huddleState:be,callId:Ke}=this.targetState;if(ge!==We&&(delete this.clogger,delete this.logger,delete this.telemeter),[M.RJ.STARTED,M.RJ.PRE_JOINED].includes(be)){if(ge!==We||ke!==Oe){switch(Ne){case M.RJ.PENDING:case M.RJ.STARTED:case M.RJ.PRE_JOINED:await this.goToNext(M.RJ.ENDING);break;default:await this.goToNext(M.RJ.STARTING)}continue}switch(Ne){case M.RJ.NOT_STARTED:await this.goToNext(M.RJ.STARTING);break;case M.RJ.STARTING:try{await this.goToNext(M.RJ.PENDING)}catch(Fe){var he;if(!((he=this.credentials)===null||he===void 0)&&he.isQuickJoinCredentials){if(delete this.credentials,await this.clearQuickJoinCredentials(),Fe.message===M.M6.ChimeMeetingEnded)throw Fe;if(Ke){const nt=(0,p.P_)(this.getState(),Ke);if(nt&&nt.hasEnded)throw new Error(M.M6.ChimeMeetingEnded)}const J=Date.now(),ne=!0;await this.safelyDisconnect(ne);const at=Date.now()-J;this.getLogger().info(`Disconnecting after failed attempt to join huddle added ${at}ms to TTI`),await this.goToNext(M.RJ.STARTING)}else throw Fe}break;case M.RJ.PENDING:await this.goToNext(this.targetState.huddleState);break;case M.RJ.PRE_JOINED:await this.goToNext(M.RJ.COMPLETING_PRE_JOIN);break;case M.RJ.COMPLETING_PRE_JOIN:await this.completePrejoin({isStartMuted:this.targetState.muted}),await this.goToNext(M.RJ.STARTED);break;case M.RJ.STARTED:throw new Error("This should not be possible");case M.RJ.ENDING:case M.RJ.SURVEY:case M.RJ.SURVEY_GOOD:default:await this.goToNext(M.RJ.STARTING);break}continue}if([M.RJ.PENDING,M.RJ.STARTED,M.RJ.PRE_JOINED].includes(Ne)){await this.goToNext(M.RJ.ENDING);continue}await this.goToNext(be)}let ve=0;for(;!this.isTargetSubState();){if(ve+=1,ve>ee)throw new Error("runLoop() for huddle substate was stuck");const{huddleState:ge,huddleSubState:ke}=this.getClientHuddleState(),{huddleSubState:Ne}=this.targetState;if(!this.isValidHuddleSubState(ge,Ne)){const We=this.getInitialSubStateForHuddleState(ge);this.targetState.huddleSubState=We,await this.goToNextSubState(We),this.getLogger().warn(u.o7,`attempted to reach invalid huddleSubstate (${Ne}) for the given huddleState (${ge})`);continue}if(ge===M.RJ.STARTED){switch(ke){case M.J_.INITIAL_ALONE:if(Ne===M.J_.INITIAL_ALONE_NOTICE_ACTIVE){await this.goToNextSubState(Ne);break}await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;case M.J_.INITIAL_ALONE_NOTICE_ACTIVE:if(Ne===M.J_.INITIAL_ALONE_NOTICE_DISMISSED){await this.goToNextSubState(Ne);break}await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;case M.J_.INITIAL_ALONE_NOTICE_DISMISSED:await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;case M.J_.IN_PROGRESS_TOGETHER:await this.goToNextSubState(M.J_.IN_PROGRESS_ALONE);break;case M.J_.IN_PROGRESS_ALONE:if(Ne===M.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE){await this.goToNextSubState(Ne);break}await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;case M.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE:if(Ne===M.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED){await this.goToNextSubState(Ne);break}await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;case M.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED:await this.goToNextSubState(M.J_.IN_PROGRESS_TOGETHER);break;default:await this.goToNextSubState(M.J_.INITIAL_ALONE)}continue}await this.goToNextSubState(void 0)}}async goToNext(ie){var he,ve,ge,ke;this.getLogger().info(`Marking huddle as ${ie} [${(ge=(he=this.targetState)===null||he===void 0?void 0:he.teamId)!==null&&ge!==void 0?ge:"N/A"}, ${(ke=(ve=this.targetState)===null||ve===void 0?void 0:ve.channelId)!==null&&ke!==void 0?ke:"N/A"}]`);const Ne=Date.now();this.timeOfLastStateChange=Ne,this.timeOfLastSubStateChange=Ne;const We=this.getInitialSubStateForHuddleState(ie);if(ie===M.RJ.STARTING){var Oe,be;const J=this.assertTargetTeamAndChannel(M.RJ.STARTING),ne=this.getOptimisticState(this.targetState);this.getLogger().info(`Optimistic state: ${ne.optimisticHuddleState}`),(0,r.dispatchForClientStore)((0,_.xf)({huddleState:ie,huddleSubState:We,...J,...ne,isPrejoin:((Oe=this.targetState)===null||Oe===void 0?void 0:Oe.huddleState)===M.RJ.PRE_JOINED,sessionId:(0,q.A)()})),this.credentials=await this.fetchCredentials(),(be=this.getTelemeter())===null||be===void 0||be.mark(D.Bq);return}if(ie===M.RJ.PENDING){const J=this.assert(this.credentials,"Expected credentials to be set before PENDING");(0,r.dispatchForClientStore)((0,_.Rh)({huddleState:ie,huddleSubState:We,...this.assertTargetTeamAndChannel(M.RJ.PENDING),callId:J.roomId})),await this.connectToChime(J,this.targetState),delete this.credentials;return}if(ie===M.RJ.STARTED){var Ke;const J=this.assertTargetTeamAndChannel(M.RJ.STARTED);(0,r.dispatchForClientStore)((0,_.Rh)({huddleState:ie,huddleSubState:We,optimisticHuddleState:null,...J,isPrejoin:!1})),(0,i.ty)(this.getState(),"huddles_set_status")&&this.scheduleHuddleStateExpirationIncrement(),this.setCoachmarkTimeout(We),(Ke=$.F.getInstance())===null||Ke===void 0||Ke.request()}else{var Fe;(Fe=$.F.getInstance())===null||Fe===void 0||Fe.release()}if(ie===M.RJ.PRE_JOINED&&(0,r.dispatchForClientStore)((0,_.Rh)({huddleState:ie,huddleSubState:We,optimisticHuddleState:null,...this.assertTargetTeamAndChannel(M.RJ.PRE_JOINED)})),ie===M.RJ.ENDING){(0,r.dispatchForClientStore)((0,_.Rh)({huddleState:ie,huddleSubState:We})),await this.safelyDisconnect();return}(0,r.dispatchForClientStore)((0,_.Rh)({huddleState:ie,huddleSubState:We,optimisticHuddleState:null}))}async goToNextSubState(ie){ie===M.J_.IN_PROGRESS_ALONE&&setTimeout(()=>{var he;((he=this.getClientHuddleState())===null||he===void 0?void 0:he.huddleSubState)===M.J_.IN_PROGRESS_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(me)&&this.setTargetSubState(M.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE)},me),this.timeOfLastSubStateChange=Date.now(),(0,r.dispatchForClientStore)((0,_.Rh)({huddleSubState:ie}))}async handleErrorAndDisconnect(ie){var he;this.getLogger().error(ie);const{huddleState:ve}=this.getClientHuddleState();if([M.RJ.PENDING,M.RJ.STARTED].includes(ve))try{await R.S.race([new R.S((ge,ke)=>{setTimeout(()=>ke(new Error("HuddleStateManager disconnect timeout")),this.disconnectTimeout)}),this.safelyDisconnect()])}catch(ge){this.getLogger().error(ge)}(0,r.dispatchForClientStore)((0,_.Rh)({huddleState:M.RJ.NOT_STARTED,optimisticHuddleState:null})),await R.S.resolve(this.handleError(ie,ve)),(he=this.startStopDeferred)===null||he===void 0||he.reject(ie)}getInitialAloneInHuddleTimeOutValue(){if(ye)return Ae;const ie=this.getState(),he=(0,i.ty)(ie,le.VW);return he?he*1e3:(this.getLogger().info("User pref 'huddles_play_music_timeout' is undefined, using default 60 seconds"),_e)}setCoachmarkTimeout(ie){ie===M.J_.INITIAL_ALONE&&(setTimeout(()=>{var he;((he=this.getClientHuddleState())===null||he===void 0?void 0:he.huddleSubState)===M.J_.INITIAL_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(this.getInitialAloneInHuddleTimeOutValue())&&(this.setTargetSubState(M.J_.INITIAL_ALONE_NOTICE_ACTIVE),this.getLogger().info("setTimeout executed on substate: initial_alone"))},this.getInitialAloneInHuddleTimeOutValue()),this.getLogger().info("setTimeout started on substate: initial_alone"))}isMicEnabled(){var ie;return!!(!((ie=(0,n.Ng)(this.getState()))===null||ie===void 0)&&ie.isMicrophoneEnabled)}getClientHuddleState(){const ie=(0,r.Ry)(),he=(0,k.EG)(ie),{channelId:ve,teamId:ge}=(0,k.Qn)(ie)||{};if(!he||he===M.RJ.NOT_STARTED)return{huddleState:M.RJ.NOT_STARTED,channelId:ve,teamId:ge};const ke=(0,k.EO)(ie);return{huddleState:he,huddleSubState:ke,channelId:ve,teamId:ge}}assertTargetTeamAndChannel(ie){const{teamId:he,channelId:ve}=this.targetState;return{teamId:this.assert(he,`Expected teamId to be set for ${ie}`),channelId:this.assert(ve,`Expeted channelId to be set for ${ie}`)}}getChannelIdOrDie(){const{channelId:ie}=this.getClientHuddleState(),{channelId:he}=this.targetState,ve=ie||he;return this.assert(ve,"No channel ID or active huddle")}getThreadTsOrNothing(){const{threadTs:ie}=this.getClientHuddleState(),{threadTs:he}=this.targetState;return ie||he}getIsMultiDevice(){return!!this.targetState.isMultiDevice}getIsExperimentStandaloneHuddlesOn(){return!!this.targetState.experimentStandaloneHuddlesOn}getTeamIdOrDie(){const{teamId:ie}=this.getClientHuddleState(),{teamId:he}=this.targetState,ve=ie||he;return this.assert(ve,"No team ID or active huddle")}getCallIdOrDie(){const ie=(0,r.Ry)(),he=(0,k.E9)(ie);return this.assert(he,"No call ID or active huddle")}getHuddleState(){const{huddleState:ie}=this.getClientHuddleState();return ie}dispatch(ie){const he=this.getTeamIdOrDie();return(0,c.Qw)(he,ie)}getState(ie){const he=ie||this.getTeamIdOrDie();return(0,c.$D)(he)}assert(ie,he){if(ie==null)throw new Error(he);return ie}getClogger(){if(this.clogger)return this.clogger;const{teamId:ie}=this.getClientHuddleState();return this.clogger=ie?(0,L.e)({state:(0,c.$D)(ie)}):(0,L.e)(),this.clogger}getLogger(){return this.logger?this.logger:(this.logger=(0,H.Wo)({label:this.logLabel}),this.logger)}getTelemeter(){if(this.telemeter)return this.telemeter;const{teamId:ie}=this.getClientHuddleState();return ie?this.telemeter=(0,z.Cy)({state:(0,c.$D)(ie)}):this.telemeter=(0,z.rh)(),this.telemeter}constructor({logLabel:ie=u.o7,startStopTimeout:he=te,disconnectTimeout:ve=ce}={}){var ge=this;this.targetState={huddleState:M.RJ.NOT_STARTED},this.startStopDeferred=null,this.safelyDisconnect=async function(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;try{await ge.disconnect(ke)}catch(Ne){ge.getLogger().error("Failed to disconnect from the Huddle. This may mean the user is still connected to the media server",Ne)}},this.scheduleHuddleStateExpirationIncrement=async()=>{if(this.isTargetState()&&this.targetState.huddleState!==M.RJ.STARTED)return;const ke=60*5,Ne={huddle_state_expiration_ts:new Date().getTime()/1e3+ke};await this.dispatch((0,Q.c)({profile:Ne,reason:"increment-huddle-state-expiration-ts"})),setTimeout(this.scheduleHuddleStateExpirationIncrement,(0,K.A)(24e4,-.1,.1))},this.logLabel=ie,this.startStopTimeout=he,this.disconnectTimeout=ve,this.timeOfLastStateChange=null,this.timeOfLastSubStateChange=null}},"BaseHuddleStateManager");(0,B.ul)("baseHuddleStateManager",{setShortTimeoutValue:()=>{ye=!0},resetShortTimeoutValue:()=>{ye=!1}}),Object.defineProperty({shouldUseDebugTimeout:ye},"shouldUseDebugTimeout",{get:()=>ye,set:()=>{ye=!0}});var Y=e(7004355564),G=e(6251210828),Z=e(415910655),se=e(6815073048);class ae extends V{async start(ie,he,ve,ge,ke,Ne,We){await this.startHuddleWithTargetState(M.RJ.STARTED,ie,he,ve,ge,ke,Ne,We)}async prejoin(ie,he,ve,ge){await this.startHuddleWithTargetState(M.RJ.PRE_JOINED,ie,he,ve,ge,void 0)}async setOthersInHuddle(){await this.setTargetSubState(M.J_.IN_PROGRESS_TOGETHER)}async setAloneInHuddle(){await this.setTargetSubState(M.J_.IN_PROGRESS_ALONE)}async dismissAloneInHuddleWarning(ie){const he=ie?M.J_.INITIAL_ALONE_NOTICE_DISMISSED:M.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED;await this.setTargetSubState(he)}async startHuddleWithTargetState(ie,he,ve,ge,ke,Ne,We,Oe){var be;!((be=this.currentHuddleDeferred)===null||be===void 0)&&be.isPending()||(this.currentHuddleDeferred=(0,x.u)()),await this.setTargetState({huddleState:ie,teamId:he,channelId:ve,muted:ge,callId:ke,threadTs:Ne,isMultiDevice:We,experimentStandaloneHuddlesOn:Oe})}async stop(){var ie;const he=this.getState(),ve=this.getHuddleState()!==M.RJ.PRE_JOINED&&(0,p.Cd)(he)&&!this.isProcessing();ve&&(this.getLogger().info(`Show huddle survey in ${this.getChannelIdOrDie()}`),this.dispatch((0,I.Cd)({timeSeen:new Date().toISOString()}))),await this.setTargetState({huddleState:ve?M.RJ.SURVEY:M.RJ.NOT_STARTED}),this.getHuddleState()===M.RJ.NOT_STARTED&&(!((ie=this.currentHuddleDeferred)===null||ie===void 0)&&ie.isPending())&&this.currentHuddleDeferred.resolve()}async enterTerminalState(ie){var he;!((he=this.pendingHuddleStart)===null||he===void 0)&&he.isPending()?this.pendingHuddleStart.reject(ie):await this.handleErrorAndDisconnect(ie)}waitForHuddleToEnd(){return R.S.resolve(this.currentHuddleDeferred)}handleError(ie,he){var ve;this.getLogger().error(ie);const ge=he===M.RJ.STARTING||he===M.RJ.PENDING;this.dispatch((0,O.A)({errorCode:(0,M.dJ)(ie.name)?ie.name:ie.message,isJoinError:ge})),!((ve=this.currentHuddleDeferred)===null||ve===void 0)&&ve.isPending()&&this.currentHuddleDeferred.resolve()}getOptimisticState(ie){let{teamId:he,channelId:ve,huddleState:ge}=ie;if([M.RJ.NOT_STARTED].includes(ge))return{optimisticHuddleState:M.RJ.ENDING};if([M.RJ.SURVEY].includes(ge))return{optimisticHuddleState:null};if(ge===M.RJ.PRE_JOINED)return{optimisticHuddleState:M.RJ.PRE_JOINED,isPrejoin:!0};if(ge===M.RJ.STARTED&&he){var ke,Ne;const We=(0,c.$D)(he),Oe=(0,r.Ry)(),be=(0,k.aQ)(Oe),Ke=(be==null?void 0:be.channelId)===ve||!((ke=(0,p.Yw)(We,ve))===null||ke===void 0||(Ne=ke.activeParticipants)===null||Ne===void 0)&&Ne.length?null:M.RJ.STARTED;return(0,i.ty)(We,"huddles_global_mute")&&(0,r.dispatchForClientStore)((0,_.Bk)(!0)),{isPrejoin:!1,optimisticHuddleState:Ke}}return{}}async fetchCredentials(){const ie=this.getTeamIdOrDie(),he=this.getChannelIdOrDie(),ve=this.getThreadTsOrNothing(),ge=(0,r.Ry)(),ke=(0,p.Yw)(this.getState(),he),{ttiTrace:Ne}=(0,se.A)().getAllTraceHandlers(),We=(0,k.WL)(ge,he),Oe=this.getIsMultiDevice();if(Ne==null||Ne.createFetchCredentialsSpan(),We){Ne==null||Ne.setCachedTag({cached:!0});const be=(ke==null?void 0:ke.id)||(0,U.RW)(We.credentials);if(be){const Ke=(0,p.P_)(this.getState(),be);if(Ke&&Ke.hasEnded)throw await this.clearQuickJoinCredentials(),new Error(M.M6.ChimeMeetingEnded)}return this.getTelemeter().count(D.K7),Ne==null||Ne.closeFetchCredentialsSpan(),{roomId:be,server:We.credentials,isQuickJoinCredentials:!0}}if((0,A.CI)(this.getState(ie))){const be=(0,G._6)(this.getState(),{channelId:he});if(be){const Ke=(0,p.it)(this.getState(ie),he),Fe=(0,G.G5)(this.getState(),{channelId:he}),J=(0,U.RW)(be);return Ke&&Fe&&this.dispatch((0,T.KN)({channelId:he,threadTs:Ke,lastRead:Ke,reason:"huddles-rooms-join-kte"})),{roomId:J,server:be,isQuickJoinCredentials:!1}}}return this.getTelemeter().mark(D.aW),Ne==null||Ne.setCachedTag({cached:!1}),this.dispatch((0,S.O3)({teamId:ie,channelId:he,shouldFetchRegion:!ke,traceId:Ne==null?void 0:Ne.getTTITraceId(),parentSpanId:Ne==null?void 0:Ne.getFetchCredentialsSpanId(),...ve&&{threadTs:ve},...Oe&&{isMultiDevice:Oe}})).then(be=>{var Ke,Fe;if(!(!(be==null||(Ke=be.server)===null||Ke===void 0)&&Ke.meeting)||!(!(be==null||(Fe=be.server)===null||Fe===void 0)&&Fe.attendee))throw new Error("create_meeting_failed");Ne==null||Ne.closeFetchCredentialsSpan(),this.getTelemeter().mark(D.bW);const J=this.getTelemeter().measure(D.aW,D.iE,D.bW);this.getTelemeter().count(D.iE,J),(0,Z.jm)({roomsJoinTime:J});let ne=he;return this.getIsExperimentStandaloneHuddlesOn()&&be.channelId&&(ne=be.channelId,this.setTargetChannel(ne),(0,r.dispatchForClientStore)((0,_.Jc)(ne))),(0,r.dispatchForClientStore)((0,_.Yi)({channelId:ne,joinCredentials:be.server,expiry:Date.now()+u.nq,fromInvite:!1})),be.rootThreadTs&&be.roomId&&(this.dispatch((0,g.ZL)({huddleId:be.roomId,thread:{channelId:ne,ts:be.rootThreadTs}})),this.dispatch((0,T.KN)({channelId:ne,threadTs:be.rootThreadTs,lastRead:be.rootThreadTs,reason:"canvas-rooms-join-api"})),this.dispatch((0,b.a)({channelId:ne,threadTs:be.rootThreadTs,oldest:be.rootThreadTs}))),be})}async connectToChime(ie,he){let{server:ve,roomId:ge}=ie,{muted:ke,huddleState:Ne}=he;const{ttiTrace:We}=(0,se.A)().getAllTraceHandlers();return We==null||We.createConnectToMediaServiceSpan(),(0,r.dispatchForClientStore)((0,_.qW)({callResult:{server:ve,roomId:ge,regions:"",inviteResponses:[],virtualRoomId:""},isStartMuted:ke,waitForHuddleStart:(0,x.u)(),isPrejoin:Ne===M.RJ.PRE_JOINED})),this.pendingHuddleStart=(0,x.u)(),Ne===M.RJ.PRE_JOINED?R.S.resolve():this.pendingHuddleStart}async resolvePendingJoin(ie){try{var he;const ge=this.getChannelIdOrDie(),{ttiTrace:ke}=(0,se.A)().getAllTraceHandlers(),Ne=this.getState(),We=(0,r.Ry)(),{callId:Oe,optimisticHuddleState:be}=(0,k.Qn)(We)||{},Ke=(0,p.dy)(Ne);if(this.getLogger().info(`Resolve pending huddle (${ge}, optimisticHuddleState: ${be}, has optimisticTopic: ${!!Ke})`),!(!((he=this.pendingHuddleStart)===null||he===void 0)&&he.isPending()))throw new Error("No pending huddle start in resolvePendingJoin");const Fe=this.assert(Oe,"Room ID is not defined for pending join"),J=(0,i.ty)(Ne,"huddles_cc_by_default");if((0,U.UA)(Ne,ge)&&J&&(this.dispatch((0,l.A)()),this.dispatch((0,m.dD)(!0)),this.dispatch((0,m.jL)(!0))),Ke){try{await this.dispatch((0,S.xB)({roomId:Fe,name:Ke})),this.dispatch((0,o.oU)({id:Fe,name:Ke}))}catch(je){this.getLogger().error(je)}this.dispatch((0,h.Jc)(null))}(0,r.dispatchForClientStore)((0,_.u8)(ge)),ke==null||ke.closeConnectToMediaServiceSpan(),(0,L.e)({state:Ne}).track(F.EventId.HUDDLES_TIME_AUDIO_SESSION_STARTED,{contexts:{calls:{room_id:Fe,duration_ms:Math.round(ie),channel_id:ge}}}),(0,Z.jm)({audioConnectedTime:ie}),(0,r.dispatchForClientStore)((0,_.Rh)({isSelfJoined:!0})),this.pendingHuddleStart.resolve()}catch(ge){var ve;(ve=this.pendingHuddleStart)===null||ve===void 0||ve.reject(ge)}}async completePrejoin(ie){const he=this.getChannelIdOrDie(),ve=(0,r.Ry)(),{ttiTrace:ge}=(0,se.A)().getAllTraceHandlers(),ke=(0,k.WL)(ve,he);return ge==null||ge.setCachedTag({cached:!!ke}),ge==null||ge.createConnectToMediaServiceSpan(),(0,r.dispatchForClientStore)((0,_.f2)({...ie}))}async clearQuickJoinCredentials(){const ie=(0,r.Ry)(),{channelId:he}=(0,k.Qn)(ie)||{};return(0,r.dispatchForClientStore)((0,_.WB)({channelId:he}))}async disconnect(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var he;const ve=this.getState(),ge=(0,r.Ry)(),{channelId:ke,teamId:Ne}=(0,k.Qn)(ge)||{};if(!ie)try{(0,se.A)().cleanup()}catch(We){this.getLogger().error(`Error cleaning up huddle tracing: ${We}`)}try{(0,r.dispatchForClientStore)((0,_.Bk)(!1)),(0,A.lV)(ve)&&((0,r.dispatchForClientStore)((0,_.JM)()),(0,r.dispatchForClientStore)((0,_._u)({song:void 0}))),(0,r.dispatchForClientStore)((0,_.Rh)({isSelfJoined:!1}));const Oe=(0,a.WR)(ve),be=ke&&(0,p.Yw)(ve,ke);if(be&&ke){const Ke=(be.activeParticipants||[]).filter(J=>!((0,s.MZ)(J)&&J.slackId===Oe));this.dispatch((0,o.oU)({id:be.id,activeParticipants:Ke}));const Fe=(0,o.H6)(this.getState(),be.id);Fe&&this.dispatch((0,h.mr)({call:Fe,channelId:ke}))}if(ke){const Ke=await(0,c.Qw)(Ne,v({channelId:ke,userId:Oe})),Fe=(0,C.H7)(ve),J=(0,P.tc)(Fe);(Ke||J)&&await this.clearQuickJoinCredentials(),(0,r.dispatchForClientStore)((0,_.u8)(ke))}}catch(We){this.getLogger().error("An error occurred cleaning up huddle redux state. Proceeding to disconnect from media server.",We)}try{const We=(0,x.u)();(0,r.dispatchForClientStore)((0,_.pl)({waitForHuddleEnd:We})),await We}catch(We){this.getLogger().error("An error occurred while disconnecting from the media server.",We)}this.dispatch((0,n.VL)({huddlesVideoActive:!1})),this.dispatch((0,g.np)()),(0,r.dispatchForClientStore)((0,_.cx)()),!((he=this.pendingHuddleStart)===null||he===void 0)&&he.isPending()&&this.pendingHuddleStart.reject(new Error("HuddleStateManager shutdown"))}}E(ae,"HuddleStateManager");const pe=(0,t.A)(()=>{const de=new ae;return(0,Y.R)(de.waitForStartStop.bind(de)),de})},7004355564:(N,y,e)=>{"use strict";e.d(y,{A:()=>s,R:()=>o});var t=e(1545824888);let n;const o=E(c=>{n=c},"setWaitForStartStop"),s=E(()=>n?n():t.S.resolve(),"__WEBPACK_DEFAULT_EXPORT__")},3065433701:(N,y,e)=>{"use strict";e.d(y,{CE:()=>r,Gu:()=>a,vT:()=>n.vT});var t=e(6304789565),n=e(7366481123);const o=3*1e3,s={[n.vT.NoUserAudioStream]:!0,[n.vT.NoUserVideoStream]:!0,[n.vT.NoAudioOutputAudioElementError]:!0,[n.vT.NoAudioOutputAudioLevelError]:!0,[n.vT.PeerMuteRequest]:!0};let c={};const r=(0,t.Ay)("Display alert message for huddle call",(l,m,_)=>{let{alert:h,peerId:d}=_;if(!c[h]){if(s[h]){c[h]=setTimeout(()=>{c[h]&&(clearTimeout(c[h]),delete c[h]),l((0,n.Sb)({alert:h,peerId:d}))},o);return}l((0,n.Sb)({alert:h,peerId:d}))}});r.meta={name:"createThunk",key:"createThunkdisplayAlertMessage",description:"Display alert message for huddle call"};const a=(0,t.Ay)("Undisplay an alert message for huddle call",(l,m,_)=>{c[_]&&(clearTimeout(c[_]),delete c[_]),l((0,n.LL)(_))});a.meta={name:"createThunk",key:"createThunkhideAlertMessage",description:"Undisplay an alert message for huddle call"},Object.defineProperty({alertTimeouts:c},"alertTimeouts",{get:()=>c,set:l=>{c=l}})},5253428843:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(6304789565),n=e(5378147939);const o=(0,t.Ay)("Handle huddle error",(c,r,a)=>(0,n.A)().enterTerminalState(new Error(a.terminalState)));o.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Handle huddle error"};const s=o},2766373332:(N,y,e)=>{"use strict";e.d(y,{N$:()=>ge,KD:()=>ie,kq:()=>de,HU:()=>he});var t=e(6304789565),n=e(6533394955),o=e(7384121809),s=e(387328355),c=e(9864164947),r=e(7067820909),a=e(7621809678),i=e(9323322135),l=e(2778217221),m=e(6134475965),_=e(1049642794),h=e(3134334389),d=e(7173172014),f=e(4233000497),v=e(8320929653),u=e(3288846409),g=e(3037015781),p=e(1407713935),A=e(8920264989),C=e(8921478798),T=e(2683115972),I=e(3165300465),M=e(1610251172),D=e(4979382452),O=e(4636370173),S=e(2465132699),R=e(8523371695),U=e(3606117573),P=e(8029613601),L=e(4947127560),F=e(8668318456),x=e(6471059816),b=e(5363983309),k=e(9506008067),B=e(9101533895),W=e(5286203919);function K(){return K=Object.assign||function(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne];for(var Oe in We)Object.prototype.hasOwnProperty.call(We,Oe)&&(ke[Oe]=We[Oe])}return ke},K.apply(this,arguments)}E(K,"_extends");const H=new x.Ay("huddles"),z={elementName:"huddles_invite_confirmation_dialog_cancel",eventId:F.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},Q={elementName:"huddles_invite_confirmation_dialog_ok",eventId:F.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}};function q(ke){let{closeModal:Ne,...We}=ke;const{channelId:Oe,senderUserId:be}=We,Ke=(0,f.A)(Oe),{handleDecline:Fe,handleJoin:J,isLoading:ne,inviteText:je}=(0,v.lc)(We),at=(0,k.d4)(Ce=>(0,C.I)(Ce,be));let nt=H.t("Huddle with {dmPersons}",{dmPersons:at,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"});const Ge=(0,k.d4)(Ce=>(0,B.OL)(Ce,Oe)),Pe=(0,k.d4)(Ce=>(0,g.uz)(Ge)?(0,A.SB)(Ce,Ge,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0);Pe&&(nt=(0,p.JM)(Ge)?H.t("Huddle with {dmPersons}",{dmPersons:Pe,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}):H.t("Huddle in {channelName}",{channelName:Pe,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}));const Le=(0,u.cw)(W.hc)===Oe;(0,h.useEffect)(()=>{Le&&!ne&&(Ne==null||Ne())},[Le,ne,Ne]);const ze=(0,h.useCallback)(()=>{Fe(),Ne==null||Ne()},[Ne,Fe]),Me="huddle-invite-join-modal";return h.createElement(d.A,K({uiComponentName:F.UiComponentName.HUDDLES_INVITE_CONFIRMATION_DIALOG},Ke),h.createElement(D.A,{labelledby:Me,dataQa:Me,closeModal:Ne,role:"dialog",className:"p-huddle_invite_join_modal",overlayClassName:"p-huddle_invite_join_modal__overlay",shouldReturnFocusAfterClose:!0},h.createElement(P.A,null,h.createElement(L.A,{title:nt,id:Me})),h.createElement(O.A,null,h.createElement(S.A,null,je)),h.createElement(R.A,null,h.createElement(U.A,null,h.createElement(T.Ay,{type:"outline",onClick:ze,"data-qa":"huddle_invite_join_cancel",autoClogProps:z},H.t("Not Now")),h.createElement(I.A,{type:"primary",loading:ne,onClick:J,"data-qa":"huddle_invite_join_go",autoClogProps:Q,autoFocus:!0,"aria-label":H.t("Join")},h.createElement(M.A,{type:"headphones"}),h.createElement("span",{className:"p-huddle_invite_join_modal__join_label"},H.t("Join")))))))}E(q,"HuddleInviteJoinModal"),q.displayName="HuddleInviteJoinModal";const $={HuddleInviteJoinModal:q},le=(0,b.A)(q);var te=e(605594140),ce=e(1545824888),me=e(337319621),_e=e(8040098042),Ae=e(2960290117),ye=e(6415612447),oe=e(6470070112),ee=e(56548687),V=e(4094753332),w=e(8746998952),Y=e(9712681361),G=e(5702042015),Z=e(7429662208),se=e(3193155968),ae=e(9629572172),re=e(352142497);const pe=E((ke,Ne,We)=>{(0,ee.e)({state:ke}).track(Ne,{contexts:{calls:(0,oe.gG)(ke,We),ui_context:{action:F.UiAction.KEYDOWN}}})},"clogHuddlesEvent"),de=(0,t.Ay)("Start huddle in highlighted channel or current primary view",async(ke,Ne,We)=>{let{highlightedChannelId:Oe}=We;var be;const Ke=(0,o.Ry)(),Fe=Ne(),J=(0,Z.e6)(Fe),ne=(be=(0,Z.F8)(Fe,{tab:J,container:se.mq.Primary}))===null||be===void 0?void 0:be.id,je=Oe||ne,{channelId:at,teamId:nt}=(0,W.Ak)(Ke)||{};if(at&&nt&&(!Oe||Oe===at)){(0,n.Qw)(nt,(0,m.A)()),pe(Fe,F.EventId.HUDDLES_LEAVE,at);return}const Ge=(0,W.aQ)(Ke);if(Ge&&!Oe){const{channelId:Le,senderUserId:ze,callId:Me,teamId:Ce}=Ge;(0,n.Qw)(Ce,le({channelId:Le,senderUserId:ze,callId:Me}));return}if(!je||!(0,_e.A)(je)&&!(0,Ae.Ay)(je)){ke((0,te.A)());return}const Pe=(0,ye.Y)(Fe,je);Pe&&(0,oe.Bn)(Fe,Pe)&&(pe(Fe,F.EventId.HUDDLES_JOIN,Pe.id),ke((0,w.A)({channelId:Pe.id,forceFocus:!0,entryPoint:Y.su.KEYBOARD_SHORTCUT_JOIN_HUDDLE})))});de.meta={name:"createThunk",key:"createThunktoggleHuddleInHighlightedChannel",description:"Start huddle in highlighted channel or current primary view"};const ie=(0,t.Ay)("Start huddle in the current view",async(ke,Ne,We,Oe)=>{var be,Ke;const Fe=Ne(),{isChildWindow:J,getViewSet:ne}=Oe(ae.U),je=ne(Fe);(!J||(je==null||(be=je[se.mq.Primary])===null||be===void 0?void 0:be.viewType)!==re.D.Channel)&&ke(de({highlightedChannelId:void 0}));const at=je==null||(Ke=je[se.mq.Primary])===null||Ke===void 0?void 0:Ke.id;ke(de({highlightedChannelId:at}))});ie.meta={name:"createThunk",key:"createThunktoggleHuddleInCurrentView",description:"Start huddle in the current view"};const he=(0,t.Ay)("Toggle microphone from current value to opposite value",(ke,Ne)=>{const We=(0,o.Ry)(),{teamId:Oe,channelId:be}=(0,W.Ak)(We)||{};if(!Oe)return;const Ke=(0,n.$D)(Oe),Fe=(0,s.Ng)(Ke),J=Fe==null?void 0:Fe.isMicrophoneEnabled;(0,n.Qw)(Oe,(0,_.A)(!J)),ke(J?(0,c.Ho)():(0,c.qc)()),(0,me.Ay)({state:Ke}).info(l.o7,`Keyboard shortcut invoked -- toggling mic to ${J?F.EventId.HUDDLES_MUTE:F.EventId.HUDDLES_UNMUTE}`),be&&pe(Ke,J?F.EventId.HUDDLES_MUTE:F.EventId.HUDDLES_UNMUTE,be)});he.meta={name:"createThunk",key:"createThunktoggleSelfMicrophone",description:"Toggle microphone from current value to opposite value"};let ve=!1;const ge=E(ke=>{var Ne;return(0,V.dY)("4.13.0")?(ke&&!ve&&((0,i.zin)(a.Sr.TOGGLE_MUTE,async()=>{const We=(0,o.Ry)(),{teamId:Oe}=(0,W.Ak)(We)||{};Oe&&((0,n.Qw)(Oe,he()),(0,r.Sr)((0,o.Ry)())||(0,o.dispatchForClientStore)((0,G.A)()))}),ve=!0),(Ne=(0,i.wzE)(a.Sr.TOGGLE_MUTE,ke))===null||Ne===void 0?void 0:Ne.then(()=>ke)):ce.S.resolve(!1)},"maybeToggleGlobalMuteShortcut")},567847295:(N,y,e)=>{"use strict";e.d(y,{uZ:()=>H,Tn:()=>Q,Cd:()=>z});var t=e(337319621),n=e(6304789565),o=e(7384121809),s=e(387484329),c=e(2778217221),r=e(4250409994),a=e(9712681361),i=e(5227672331),l=e(3134334389),m=e(6122756707),_=e(6313685253),h=e(6948117092),d=e(5016574668),f=e(3855029223),v=e(8851980998),u=e(6310192986),g=e(1616072515);const p="survey";var A;(function(q){q.Good="good",q.Bad="bad",q.Dismiss="dismiss"})(A||(A={}));const C="HUDDLES-SURVEY-TRACE",T=E(q=>{let{teamId:$,callId:le,results:te}=q;const ce=$?(0,t.Ay)({label:C,teamId:$}):(0,t.Wo)({label:C});if(!$){ce.warn("Missing team id. Exiting early");return}const me=(0,f.E)({teamOrEnterpriseId:$}),_e=me.createTrace({traceName:d.Sq,tags:{__dataset:d.RN},samplingOptions:{sampleRate:1,sampleType:v.tS.SESSION}}),Ae=_e.startSpan(p),ye={...te};(0,h.A)(ye,"comments");const{notOkResponses:oe,summary:ee}=ye||{};if(!le){ce.warn("Missing callId. Exiting early");return}if(!ee){ce.warn("Missing summary. Exiting early");return}try{ce.info(`Processing huddle survey response. callId: ${le} - traceId: ${_e.getTraceId()} - results: ${JSON.stringify(ye)}`)}catch(Y){ce.error(Y)}const V={teamId:$,callId:le,surveySummary:ee,surveyResponseCount:(oe==null?void 0:oe.length)||0,surveyResponses:oe==null?void 0:oe.join(" ")},w=(0,g.tT)({...V,...(0,u.vP)()});Ae.addTags(w),Ae.close(),ce.info(`Reporting huddle survey trace with ${Object.keys(w).length} tags (${_e.getTraceId()})`),ce.debug("Tags attached",w),me.reportTrace(_e),me.clearTrace(_e)},"reportHuddleSurveyResultsTrace");var I=e(6084388622),M=e(3989454579),D=e(7138682671),O=e(8472205500),S=e(8739505998),R=e(980293773),U=e(7171435821),P=e(6471059816),L=e(8847766420),F=e(5363983309),x=e(9506008067);const b=new P.Ay("huddles");function k(q){return(0,_.A)(q,($,le,te)=>(le&&$.push(te),$),[])}E(k,"collectResponses");const B=E(q=>{let{closeModal:$,callId:le}=q;const te=(0,x.d4)(L.ZT),[ce,me]=(0,l.useState)({}),[_e,Ae]=(0,l.useState)(""),[ye,oe]=(0,l.useState)(!1),ee=`https://${(0,U.qF)()}`,V=(0,m.wA)(),w=[{value:i.p.NoAudioInput,text:b.t("Others couldn\u2019t hear me")},{value:i.p.NoAudioOutput,text:b.t("I couldn\u2019t hear others")},{value:i.p.DeviceSelectionError,text:b.t("Slack selected the wrong microphone/speaker, or couldn\u2019t find my device")},{value:i.p.LowAudioQuality,text:b.t("Audio was low quality (e.g., it lagged or sounded choppy/robotic)")},{value:i.p.LowVideoQuality,text:b.t("Video was low quality (e.g., slow, not in sync with audio, or pixelated)")},{value:i.p.VideoNotWorking,text:b.t("Video didn\u2019t work at all")},{value:i.p.Disconnected,text:b.t("I got disconnected from the Huddle")},{value:i.p.SomethingElse,text:b.t("Something else went wrong")}],Y=i.AJ.HuddleSurvey,G=(0,l.useCallback)(()=>{oe(!0);const pe={isOk:!1,notOkResponses:k(ce),comments:_e,callId:le,type:Y};V((0,i.S)(pe)).then(()=>{te&&T({teamId:te,callId:le,results:{summary:A.Bad,...pe}}),oe(!1),$==null||$()})},[le,ce,$,te,_e,V,Y]),Z=(0,l.useCallback)(()=>{V((0,i.S)({isOk:!1,notOkResponses:[i.p.Dismiss],callId:le,type:Y})),$==null||$()},[$,le,Y,V]),se=(0,l.useCallback)(pe=>Ae(pe),[]),re=!!ce[i.p.SomethingElse];return l.createElement(R.dW,{closeModal:Z,showCloseButton:!0,centered:!0,maxWidth:600},l.createElement(l.Fragment,null,l.createElement(R.rQ,null,l.createElement(R.Rc,{title:b.t("What went wrong?")})),l.createElement(R.$m,null,l.createElement(R.qf,null,w.map(pe=>{let{value:de,text:ie}=pe;return l.createElement(D.A,{text:ie,key:de,id:de,type:"inline",cursor:"pointer",className:"p-huddle_survey_modal_checkbox"},l.createElement(M.A,{name:de,value:de,checked:!!ce[de],onChange:he=>me(ve=>({...ve,[de]:he.target.checked}))}))}),re&&l.createElement(D.A,{className:"padding_top_75",text:b.t("If you\u2019d like, please share any other details here:"),id:"details",optional:!0},l.createElement(O.A,{name:"details",id:"details",onChange:se,value:_e})))),l.createElement(R.jl,null,l.createElement(S.A,{href:`${ee}/privacy-policy`,target:"_blank"},b.t("Privacy Policy")),l.createElement(R.ox,null,l.createElement(I.$n,{onClick:Z,type:"outline"},b.t("Dismiss")),l.createElement(I.lV,{loading:ye,onClick:G,"aria-label":b.t("Send")},b.t("Send"))))))},"HuddleSurveyModal");B.displayName="HuddleSurveyModal";const W=(0,F.A)(B);var K=e(5286203919);const H=(0,n.Ay)("Close the mini survey after a postive response",(q,$,le)=>{let{channelId:te}=le;(0,o.dispatchForClientStore)((0,r.Rh)({channelId:te,optimisticHuddleState:null,huddleState:a.RJ.NOT_STARTED}))});H.meta={name:"createThunk",key:"createThunkcloseMiniSurvey",description:"Close the mini survey after a postive response"};const z=(0,n.Ay)("Set the date for when the user last saw the huddle survey",(q,$,le)=>{let{timeSeen:te}=le;q((0,s.AZ)({pref:"huddle_survey_last_seen",value:te}))});z.meta={name:"createThunk",key:"createThunksetHuddleLastSeenSurvey",description:"Set the date for when the user last saw the huddle survey"};const Q=(0,n.Ay)("Record the result of the mini survey we first display the user after a huddle ends.",(q,$,le)=>{let{result:te}=le;const ce=(0,o.Ry)(),me=(0,K.E9)(ce),_e=(0,K.hc)(ce),Ae=(0,K.l4)(ce),ye=i.AJ.HuddleSurvey;let oe=a.RJ.NOT_STARTED,ee;switch(te){case"bad":me&&q(W({callId:me}));break;case"good":oe=a.RJ.SURVEY_GOOD,q((0,i.S)({isOk:!0,callId:me,type:ye})),ee=A.Good;break;case"dismiss":ee=A.Dismiss,q((0,i.S)({isOk:!1,callId:me,notOkResponses:[i.p.Dismiss]}));break;default:}ee&&T({teamId:Ae,callId:me,results:{summary:ee}}),(0,o.dispatchForClientStore)((0,r.Rh)({channelId:_e,optimisticHuddleState:null,huddleState:oe})),(0,t.Ay)({getState:$}).info(c.o7,`Marking huddle as ${oe} in component: huddle-survey`)});Q.meta={name:"createThunk",key:"createThunkrecordMiniSurvey",description:"Record the result of the mini survey we first display the user after a huddle ends."}},6741408957:(N,y,e)=>{"use strict";e.d(y,{GD:()=>v,Ss:()=>g,iz:()=>A});var t=e(3398586081),n=e(1289024643),o=e(4540171876),s=e(1545824888),c=e(3037015781),r=e(8352634987),a=e(6304789565),i=e(6533394955),l=e(7384121809),m=e(9640070512),_=e(2527782504),h=e(5286203919),d=e(5881236351);const f=E((T,I)=>(0,i.Qw)(T,(0,o.Db)({callIds:I,reason:"all-calls-store/conditional-fetch"})).then(M=>M.map(D=>(0,i.Qw)(T,(0,n.oU)(D)))),"fetchAndUpsert"),v=(0,t.A)(()=>new r.Ay({storeKey:"allCalls",fetch:f,isEnabled:()=>!0})),u=E((T,I)=>{const M=I.map(D=>((0,i.Qw)(T,(0,n.oU)(D)),D.id));v().markObjectsAsFresh(T,M)},"upsertCalls"),g=(0,t.A)(()=>new c.Ay({fetch:(T,I)=>(0,i.Qw)(T,(0,o.Db)({callIds:I,reason:"all-calls-store/unknown-fetch"})),upsertKnown:u,upsertNonExistent:(T,I)=>u(T,I.map(M=>{let{id:D}=M;return{id:D,name:""}}))}));let p=0;const A=(0,a.Ay)("Set a huddle topic",(T,I,M)=>{let{channelId:D,topic:O}=M;const S=(0,l.Ry)();if((0,h.aS)(S))return T((0,d.Jc)(O)),s.S.resolve();const R=(0,h.E9)(S);if(!R)return s.S.reject(new Error(`No callId for channel ${D}`));T((0,d.Jc)(O)),p+=1;const U=p;return T((0,o.xB)({roomId:R,name:O})).then(()=>T((0,n.oU)({id:R,name:O}))).finally(()=>{U===p&&T((0,d.Jc)(null)),T((0,m.H)({focusKey:_.Ay.HUDDLE_SIDEBAR_TOPIC,forceFocus:!0}))})});A.meta={name:"createThunk",key:"createThunksetHuddleTopic",description:"Set a huddle topic"};const C={fetchAndUpsert:f}},666760496:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(4540171876),n=e(1545824888),o=e(6304789565),s=e(387328355),c=e(7384121809),r=e(9548972574),a=e(7723800688),i=e(8668318456),l=e(56548687),m=e(6470070112);const _=(0,o.Ay)("Notify members to join huddle",async(d,f,v)=>{let{channelId:u,userIds:g}=v;const p=[];if(g&&g.length>0){g.forEach(O=>{d((0,s.oN)({userId:O})),p.push(new n.S((S,R)=>{d((0,t.OB)({userId:O,channelId:u,reason:"huddle-notify-member"})).then(S).catch(U=>{const P=new Error(U.message);P.invitedMemberId=O,P.inviteRejectionReason=U.name,R(P)})}))});const A=(0,c.Ry)(),C=f(),T=(0,r.Yw)(C,u),I=(0,m.$t)(C,{huddleId:T==null?void 0:T.id}),M=(0,m.kn)(A),D=(0,m.UE)(A);(0,l.e)({state:C}).track(i.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_properties:{element_name:a.Hi.INVITATION_SENT},action:i.UiAction.INVITE_PEOPLE},calls:D},invited_user_ids:g,...I,...M})}return n.S.all(p).then(A=>A)});_.meta={name:"createThunk",key:"createThunkinviteMembers",description:"Notify members to join huddle"};const h=_},1070786785:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>i,V3:()=>r,kb:()=>a});var t=e(6304789565),n=e(7384121809),o=e(6134475965),s=e(5286203919);const c=(0,t.Ay)("End huddle for channelId if any",(l,m,_)=>{const h=(0,n.Ry)(),d=(0,s.hc)(h);d&&d===_&&l((0,o.A)())});c.meta={name:"createThunk",key:"createThunkmaybeEndHuddle",description:"End huddle for channelId if any"};const r=(0,t.Ay)("End last active huddle for channelId if any",(l,m,_)=>{var h;const d=(0,n.Ry)(),f=(h=(0,s.Qn)(d))===null||h===void 0?void 0:h.channelId,v=(0,s.Ak)(d);(f&&f===_||v===null&&f&&f!==_)&&l((0,o.A)())});r.meta={name:"createThunk",key:"createThunkmaybeEndLastActiveHuddleByChannelId",description:"End last active huddle for channelId if any"};const a=(0,t.Ay)("End huddle for call Id and channelId if any",(l,m,_)=>{let{channelId:h,callId:d}=_;const f=(0,n.Ry)(),{channelId:v,callId:u}=(0,s.Qn)(f)||{};v&&v===h&&u===d&&l((0,o.A)())});a.meta={name:"createThunk",key:"createThunkmaybeEndHuddleByChannelAndCallId",description:"End huddle for call Id and channelId if any"};const i=c},9864164947:(N,y,e)=>{"use strict";e.d(y,{Gt:()=>S,Ho:()=>I,LW:()=>T,Md:()=>p,OF:()=>F,Ux:()=>D,Wf:()=>L,fH:()=>A,gA:()=>C,gV:()=>U,qc:()=>M,rV:()=>O,s5:()=>R});var t=e(5950652755),n=e(6304789565),o=e(2778217221),s=e(337319621),c=e(8664881451),r=e(2854284421),a=e(2047021170),i=e(1809170903),l=e(7022928841),m=e(5332875232),_=e(2791814261),h=e(9907843289);const d=(0,t.A)(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,c.ZH)(x?r.Ji:r.o8,{loop:!1,useSlackPreferredSink:!0})},7e3,{leading:!0,trailing:!1}),f=(0,t.A)(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,c.ZH)(x?r.PV:r.CZ,{loop:!1,useSlackPreferredSink:!0})},7e3,{leading:!0,trailing:!1}),v=(0,t.A)(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,c.ZH)(x?r.DT:r.o,{loop:!1,useSlackPreferredSink:!0})},0,{leading:!0,trailing:!1}),u=(0,t.A)((x,b,k)=>{let B=b?r.sQ:r.wg;const W=.25,K=(0,_.L)(k),H=(0,m.DR)(k);b&&x==="gong"&&H&&K&&(B=r.o3);const z=(0,m.Ey)(k);b&&x==="duck"&&z&&K&&(B=r.nP),(0,c.ZH)(B,{loop:!1,volume:W,useSlackPreferredSink:!0})},5e3,{leading:!0,trailing:!1}),g=E(x=>!(0,a.ty)(x,"mute_huddle_sounds"),"canPlayHuddleSound"),p=(0,n.Ay)("Play sound when user joins",(x,b)=>{g(b())&&((0,s.Ay)({getState:b}).info(o.o7,"playSoundOnUserJoin"),d(!1))});p.meta={name:"createThunk",key:"createThunkplaySoundOnUserJoin",description:"Play sound when user joins"};const A=(0,n.Ay)("Play sound when user leaves",(x,b)=>{g(b())&&((0,s.Ay)({getState:b}).info(o.o7,"playSoundOnUserLeft"),f(!1))});A.meta={name:"createThunk",key:"createThunkplaySoundOnUserLeft",description:"Play sound when user leaves"};const C=(0,n.Ay)("Play sound when you join",(x,b)=>{g(b())&&((0,s.Ay)({getState:b}).info(o.o7,"playSoundOnYouJoin"),d(!0))});C.meta={name:"createThunk",key:"createThunkplaySoundOnYouJoin",description:"Play sound when you join"};const T=(0,n.Ay)("Play sound when you leave",(x,b)=>{g(b())&&((0,s.Ay)({getState:b}).info(o.o7,"playSoundOnYouLeft"),f(!0))});T.meta={name:"createThunk",key:"createThunkplaySoundOnYouLeft",description:"Play sound when you leave"};const I=(0,n.Ay)("Play sound when user mutes the mic using keyboard shortcut",(x,b)=>{g(b())&&((0,s.Ay)({getState:b}).info(o.o7,"playSoundOnMicMute"),v(!0))});I.meta={name:"createThunk",key:"createThunkplaySoundOnMicMute",description:"Play sound when user mutes the mic using keyboard shortcut"};const M=(0,n.Ay)("Play sound when user unmutes the mic using keyboard shortcut",(x,b)=>{g(b())&&((0,s.Ay)({getState:b}).info(o.o7,"playSoundOnMicUnmute"),v(!1))});M.meta={name:"createThunk",key:"createThunkplaySoundOnMicUnmute",description:"Play sound when user unmutes the mic using keyboard shortcut"};const D=(0,n.Ay)("Play sound when reaction is received",(x,b,k)=>{let{emoji:B,isEffect:W}=k;const K=b();(0,a.ty)(K,"huddles_reactions_play_sound")&&g(K)?((0,s.Ay)({getState:b}).info(o.o7,"playSoundOnReaction"),u(B,W,K)):(0,s.Ay)({getState:b}).info(o.o7,"did not playSoundOnReaction")});D.meta={name:"createThunk",key:"createThunkplaySoundOnReaction",description:"Play sound when reaction is received"};const O=(0,n.Ay)("Plays the huddle invite sound",(x,b)=>{const k=b();(0,i.ux)(k)||!g(k)||(0,c.ZH)((0,l.qF)(k),{useSlackPreferredSink:!1})});O.meta={name:"createThunk",key:"createThunkplayHuddleInviteSound",description:"Plays the huddle invite sound"};const S=(0,n.Ay)("Plays the huddle new requester sound",(x,b)=>{g(b())&&((0,s.Ay)({getState:b}).info(o.o7,"playHuddleNewRequesterSound"),(0,c.ZH)(r.rT,{loop:!1,useSlackPreferredSink:!0}))});S.meta={name:"createThunk",key:"createThunkplayHuddleNewRequesterSound",description:"Plays the huddle new requester sound"};const R=(0,n.Ay)("Plays the huddle request accepted sound",(x,b)=>{g(b())&&((0,s.Ay)({getState:b}).info(o.o7,"playHuddleNewRequestAcceptedSound"),(0,c.ZH)(r.rT,{loop:!1,useSlackPreferredSink:!0}))});R.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestAcceptedSound",description:"Plays the huddle request accepted sound"};const U=(0,n.Ay)("Plays the huddle request expired sound",(x,b)=>{g(b())&&((0,s.Ay)({getState:b}).info(o.o7,"playHuddleNewRequestExpiredSound"),(0,c.ZH)(r.xE,{loop:!1,useSlackPreferredSink:!0}))});U.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestExpiredSound",description:"Plays the huddle request expired sound"};const P=E(x=>{let b={onSound:void 0,offSound:void 0};switch(x){case"ja-JP":b={onSound:r.Q6,offSound:r.uv};break;case"es-LA":case"es-ES":b={onSound:r.ll,offSound:r.PK};break;default:b={onSound:r.sH,offSound:r.IZ};break}return b},"getHuddleSounds"),L=(0,n.Ay)("Plays the huddle recording on sound",(x,b)=>{const k=(0,h.Yp)(),{onSound:B,offSound:W}=P(k);B&&W&&((0,c.ds)(B),(0,c.ds)(W),(0,c.ZH)(B,{loop:!1,useSlackPreferredSink:!0}))});L.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOnSound",description:"Plays the huddle recording on sound"};const F=(0,n.Ay)("Plays the huddle recording off sound",(x,b)=>{const k=(0,h.Yp)(),{onSound:B,offSound:W}=P(k);B&&W&&((0,c.ds)(B),(0,c.ds)(W),(0,c.ZH)(W,{loop:!1,useSlackPreferredSink:!0}))});F.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOffSound",description:"Plays the huddle recording off sound"}},4156857608:(N,y,e)=>{"use strict";e.d(y,{a:()=>u});var t=e(6304789565),n=e(7384121809),o=e(4250409994),s=e(7434063642),c=e(8783285437),r=e(6758774099),a=e(1990810649),i=e(387328355),l=e(6815073048),m=e(2709531527),_=e(5795074931),h=e(4921059838),d=e(3829348308),f=e(8847766420),v=e(488107601);const u=(0,t.Ay)("Dispatch a reaction to the middleware and the current store to notify user has sent a reaction",(g,p,A)=>{let{emoji:C,emojiUrl:T,reactionType:I=a.o.Standard}=A;if(I===a.o.Sticker)g((0,s.Kp)({emoji:C})),(0,n.dispatchForClientStore)((0,o.M4)(C));else{const O=p(),S=(0,f.ZT)(O);let R=T;if(!T&&!(0,h.A)(O,C)){var M;R=(M=(0,d.Ez)(O,{text:C,teamId:S,emojiMode:v.VZ.AS_TEXT,emojiSize:v.lw.MEDIUM}))!==null&&M!==void 0?M:void 0}(0,n.dispatchForClientStore)((0,o.nU)({emoji:C,reactionType:I,emojiUrl:R})),g((0,i._x)({peerId:"self",emoji:C,isEmoji:!0,reactionType:I,emojiUrl:R}));const{huddleEventsTrace:U}=(0,l.A)().getAllTraceHandlers();U==null||U.update({name:m.p.REACTION,type:m.G.ONCE,tags:{reactionType:I}})}const D=(0,_.WR)(p());D&&g((0,r.U$)({type:c.v.SEND_REACTION,memberId:D,timestampMs:Date.now(),emoji:C}))});u.meta={name:"createThunk",key:"createThunksendReaction",description:"Dispatch a reaction to the middleware and the current store to notify user has sent a reaction"}},1049642794:(N,y,e)=>{"use strict";e.d(y,{A:()=>C});var t=e(8571983633),n=e(6304789565),o=e(6533394955),s=e(7384121809),c=e(8847766420),r=e(2778217221),a=e(4250409994),i=e(6694086724),l=e(5286203919),m=e(4094753332),_=e(337319621),h=e(462591818),d=e(7434063642),f=e(6251210828),v=e(387328355),u=e(9365970888),g=e(3065433701),p=e(700984029);const A=(0,n.Ay)("Enable or disable local microphone",async(T,I,M)=>{const D=(0,s.Ry)(),O=I(),S=(0,_.Ay)({state:O}),R=(0,u.Hc)(O);if((0,f.RT)(O)||T((0,d.G4)({canShowMutedBanner:!0})),(0,m.y3)()||await(0,s.dispatchForClientStore)((0,p.e$)({mediaResourceType:h.mT.MICROPHONE})),S.info(r.o7,`Set microphone to ${M}`),R&&M){S.warn(r.o7,"Microphone could not be set to enabled as access to the device was blocked"),(0,m.y3)()?T((0,g.CE)({alert:g.vT.NoSystemAudio})):T((0,g.CE)({alert:g.vT.NoBrowserAudioPermission}));return}const{teamId:P}=(0,l.Qn)(D)||{};if(P&&P!==(0,c.ZT)(O)){(0,o.Qw)(P,A(M));return}(0,t.A)(M)||((0,s.dispatchForClientStore)((0,a.I9)(M)),M&&(0,l.wQ)(D)&&T((0,i.e)({clearOnEndedCallback:!0,logContext:"huddle-set-self-microphone"}))),T((0,v.kT)({id:"self",isMicrophoneEnabled:M}))});A.meta={name:"createThunk",key:"createThunksetSelfMicrophone",description:"Enable or disable local microphone"};const C=A},8746998952:(N,y,e)=>{"use strict";e.d(y,{A:()=>O});var t=e(6304789565),n=e(1545824888),o=e(337319621),s=e(7578434623),c=e(5613673538),r=e(5319025363),a=e(7384121809),i=e(6470070112),l=e(5286203919),m=e(5933621899),_=e(9680914051),h=e(8330768070),d=e(6259241484),f=e(716227588),v=e(1655938719),u=e(5332875232),g=e(5881236351),p=e(9712681361),A=e(3015351052),C=e(2047021170),T=e(5203103513);const I="HUDDLES",M=(0,t.Ay)("Join/start huddle, but confirm with shouty rooster modal first",(S,R,U)=>{let{channelId:P,threadTs:L,muted:F,callId:x,forceFocus:b,entryPoint:k,forceConfirmation:B,markTelemeter:W,isMultiDevice:K,isStandaloneHuddle:H}=U,z=!1;if((0,u.Rk)(R())){const te=(0,a.en)().getState(),ce=(0,l.J0)(te),me=(0,C.ty)(R(),T.aI)||!1;z=P!==void 0&&ce!==P&&me}const q=E(()=>{var le;W&&(0,s.Cy)({state:R()}).mark(_.qr),(le=S((0,c.A)({channelId:P,threadTs:L,muted:F,callId:x,forceFocus:b,entryPoint:k,isMultiDevice:K,isStandaloneHuddle:H})))===null||le===void 0||le.catch(te=>{(0,o.Ay)({getState:R}).error("Could not start huddle",te)})},"onConfirm"),$=E(()=>{z&&P&&S((0,A._)({channelId:P,handleJoin:q}))},"showHuddlesJoinPreview");if((0,i.Qj)(R(),P,L)||B){L?S((0,v.iR)({event:{type:d.jo.HUDDLE_STARTED_FROM_THREAD}})).then(()=>{(0,f.Hp)(R(),d.xu.LAUNCH_MODAL)===d.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL?S((0,m.Wx)({channelId:P??"",onConfirm:q})):z?$():q()}):S((0,h.Oe)({channelId:P??"",onConfirm:q}));return}z?$():q()});M.meta={name:"createThunk",key:"createThunkstartHuddleWithShoutyRooster",description:"Join/start huddle, but confirm with shouty rooster modal first"};const D=(0,t.Ay)("Join/start huddle, but confirm if already in another huddle",(S,R,U)=>{const{channelId:P}=U,L=R(),F=(0,u.pL)(L),x=(0,a.Ry)(),b=(0,l.hc)(x),k=(0,l.EG)(x),B=(0,l.$V)(x),W=(0,i.r5)(L,{channelId:P});if(S((0,r.z)()),b&&P!==b&&!B){(0,o.Ay)({getState:R}).info(I,"Opening Huddle Switch Modal"),S((0,h.Y6)({prevChannelId:b,nextChannelId:P??"",onConfirm:()=>{S(M({...U,markTelemeter:!1}))}}));return}if(F&&W){(0,o.Ay)({getState:R}).info(I,"Opening Multi Device Flow"),S((0,g.$Z)({channelId:P??"",onConfirm:K=>{let{isMultiDevice:H}=K;return S(M({...U,markTelemeter:!1,isMultiDevice:H}))}}));return}return b&&P===b&&k===p.RJ.STARTED?((0,o.Ay)({getState:R}).info(I,"User attempted to start ongoing huddle again. Aborting."),n.S.resolve()):((0,o.Ay)({getState:R}).info(I,"Joining Huddle through Shouty Rooster"),S(M({...U,markTelemeter:!0})))});D.meta={name:"createThunk",key:"createThunkstartHuddleWithConfirmation",description:"Join/start huddle, but confirm if already in another huddle"};const O=D},5613673538:(N,y,e)=>{"use strict";e.d(y,{A:()=>me});var t=e(92886754),n=e(3134334389),o=e(7173172014),s=e(3078708518),c=e(8739505998),r=e(825587348),a=e(8668318456),i=e(7171435821),l=e(6471059816),m=e(9506008067),_=e(4761125736),h=e(3051824855);const d=new l.Ay("huddles");function f(_e){let{closeModal:Ae}=_e;const ye=(0,m.d4)(s.A),oe=(0,m.d4)(w=>(0,_._Z)(w,"adoption_instant_slack"))==="treatment";let ee,V;if((0,t.yh)())ee=d.t("Your browser does not support Huddles"),V=ye&&oe?d.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend switching to <chrome-link>Chrome</chrome-link>.",{},w=>{let{text:Y}=w;return n.createElement(c.A,{href:"https://www.google.com/chrome"},Y)}):d.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend downloading the <desktop-link>Slack desktop app</desktop-link>, or you can switch to <chrome-link>Chrome</chrome-link>.",{},w=>{let{tag:Y,text:G}=w;switch(Y){case"desktop-link":return n.createElement(c.A,{href:`https://${(0,i.qF)()}/downloads`},G);case"chrome-link":return n.createElement(c.A,{href:"https://www.google.com/chrome"},G);default:return null}});else if((0,t.WT)())ee=d.t("Please update Slack"),V=d.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else return null;return n.createElement(o.A,{eventId:a.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:a.UiComponentName.HUDDLES_UNSUPPORTED_ALERRT,clogImpression:!0},n.createElement(r.A,{onClose:Ae,onSubmit:Ae,showCancelButton:!1,showSubmitButton:!0,title:ee,submitButtonText:d.t("OK")},V))}E(f,"HuddleUnsupportedAlert"),f.displayName="HuddleUnsupportedAlert";const v=(0,h.e)(f);var u=e(1545824888),g=e(6304789565),p=e(5881236351),A=e(5378147939),C=e(6758774099),T=e(8847766420),I=e(1289024643),M=e(7304871158);const D=(0,g.Ay)("End active call",(_e,Ae)=>{const ye=(0,I.J2)(Ae());if(ye){const oe=(0,I.Ms)(ye);oe&&!oe.isClosed()&&(0,M.R)(oe,"endActiveCall")}});D.meta={name:"createThunk",key:"createThunkmaybeEndActiveCall",description:"End active call"};var O=e(9640070512),S=e(2527782504),R=e(2832209848),U=e(7843142872),P=e(7384121809),L=e(9548972574),F=e(8935621861),x=e(5332875232),b=e(5795074931),k=e(2791814261),B=e(5286203919),W=e(9712681361),K=e(7723800688),H=e(56548687),z=e(6470070112),Q=e(6290537170),q=e(5470425448),$=e(5071086688),le=e(4250409994),te=e(6815073048);const ce=(0,g.Ay)("Start huddle",async(_e,Ae,ye)=>{let{channelId:oe,threadTs:ee,muted:V,callId:w,forceFocus:Y,entryPoint:G=W.su.UNKNOWN,isMultiDevice:Z,isStandaloneHuddle:se}=ye;const ae=Ae(),re=(0,Q.Vo)(ae),pe=(0,_._Z)(ae,"hide_all_sidebars")==="on";if(!re&&!pe?(0,P.dispatchForClientStore)((0,le.t2)(!0)):(0,P.dispatchForClientStore)((0,le.t2)(!1)),_e(D()),_e((0,C.Lm)(!1)),_e((0,C.T3)()),(0,t.WT)()||(0,t.yh)())return _e(v()),u.S.resolve();_e((0,U.g6)({experimentHuddlesDiscoveryCallsGroupTreatment:(0,x.Ms)(ae),interactionType:R.X8.Click}));const de=(0,k.L)(ae),ie=(0,T.ZT)(ae);(0,te.A)().initializeTraces({teamId:ie,isTinySpeck:de});const he=!!(0,B.gj)((0,P.Ry)()),ve=await F.A.getInstance().getNearestChimeMediaRegion(ie),{ttiTrace:ge,huddleEventsTrace:ke}=(0,te.A)().getAllTraceHandlers();ge.addTTIMetaTags({entryPoint:G,preferredMediaRegion:ve,isPrejoin:he,isCreate:!(0,L.Yw)(ae,oe)}),ke==null||ke.recordEntryPoint(G),$.A.publish({type:q.lx.PreferredMediaRegion,update:{mediaRegionPreferred:ve}});const Ne=(0,A.A)(),We=(0,b.WR)(ae);return Ne.start(ie,oe??"",V,w,ee,Z,se).then(async()=>{const Oe=(0,P.Ry)(),be=(0,z.$t)(ae,{huddleId:w}),Ke=(0,z.kn)(Oe),Fe=(0,z.UE)(Oe);(0,H.e)({state:ae}).track(a.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:G,ui_properties:{element_name:K.Hi.CANVAS_JOIN},action:a.UiAction.TOGGLE},calls:Fe},...be,...Ke}),_e((0,O.H)({focusKey:S.Ay.HUDDLE_SIDEBAR_FOOTER,forceFocus:Y})),_e((0,p.xb)(!1)),w&&_e((0,I.r_)({callId:w,userId:We}))})});ce.meta={name:"createThunk",key:"createThunkstartHuddle",description:"Start huddle"};const me=ce},5319025363:(N,y,e)=>{"use strict";e.d(y,{z:()=>s});var t=e(6304789565),n=e(7022928841),o=e(8664881451);const s=(0,t.Ay)("Stop the huddle invite sound",(c,r)=>{(0,o.ds)((0,n.qF)(r()),{logFailure:!1})});s.meta={name:"createThunk",key:"createThunkstopHuddleInviteSound",description:"Stop the huddle invite sound"}},6694086724:(N,y,e)=>{"use strict";e.d(y,{e:()=>m});var t=e(6304789565),n=e(337319621),o=e(4869203191),s=e(4250409994),c=e(7384121809),r=e(5332875232),a=e(5286203919),i=e(7434063642),l=e(6251210828);const m=(0,t.Ay)("Stops huddle lounge music from playing",(_,h,d)=>{let{clearOnEndedCallback:f,logContext:v,isStoppedByUser:u}=d;const g=h(),p=(0,n.Ay)({state:g}),A=(0,r.CI)(g),C=(0,l.jr)(g),T=(0,l.K8)(g),I=(0,c.Ry)(),M=(0,a.E9)(I);o.Ay.getInstance().stopMusic({clearOnEndedCallback:f,logger:p,logContext:v}),(0,c.dispatchForClientStore)((0,s.Ag)(!1)),u&&M&&_((0,i.sH)({huddleId:M,hasUserStoppedLoungeMusic:u})),A&&(u||T)&&C&&_((0,i.ju)({stopMusic:!0}))});m.meta={name:"createThunk",key:"createThunkstopHuddleLoungeMusic",description:"Stops huddle lounge music from playing"}},6134475965:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(6304789565),n=e(5378147939),o=e(7384121809),s=e(6694086724),c=e(6855917924),r=e(5332875232),a=e(4250409994),i=e(7366481123);const l=(0,t.Ay)("Stop the active huddle",(_,h)=>{const d=h(),f=(0,r.lV)(d);return(0,o.dispatchForClientStore)((0,a.yi)({})),_((0,c.A)()),_((0,s.e)({clearOnEndedCallback:!0,logContext:"stop-huddle-thunk"})),f&&(0,o.dispatchForClientStore)((0,a.JM)()),_((0,i.LL)(i.vT.HiddenUserJoinedHuddle)),(0,n.A)().stop()});l.meta={name:"createThunk",key:"createThunkstopHuddle",description:"Stop the active huddle"};const m=l},6310192986:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>ee,vP:()=>Ae});var t=e(6313685253),n=e(9137897911),o=e(3398586081),s=e(716022512),c=e(6696292586),r=e(4518410378),a=e(9548972574),i=e(8233775522),l=e(6470070112),m=e(9323322135),_=e(5286203919),h=e(4988306802),d=e(9012396182),f=e(9101533895),v=e(7384121809),u=e(2767624118),g=e(6664301844),p=e(7429662208),A=e(387328355),C=e(1990810649),T=e(9365970888),I=e(6117529990),M=e(8736071954),D=e(610288365),O=e(5332875232),S=e(6251210828),R=e(2465464861),U=e(4094753332),P=e(9195837907),L=e(1473609332),F=e(3193155968),x=e(6839188756);function b(V){return V?(0,x.tc)(V)?"free":(0,x.r7)(V)?"enterprise":"pro":"unknown"}E(b,"getTeamTier");var k=e(1670069836),B=e(2878685908),W=e(4761125736),K=e(415910655),H=e(5795074931),z=e(7366481123),Q=e(938698950);const q=navigator.hardwareConcurrency,$=(0,U.zS)(),le=(0,B.b3)(),te=(0,B.$i)(),ce=E(V=>(0,t.A)(V,(w,Y,G)=>{if(G===F.N2)return w;const Z=G.split(/-|_/).slice(0,-1).join("-"),se=(0,n.A)(`windows-${Z}-count`);return w[se]?w[se]+=1:w[se]=1,w},{}),"countWindowsByType"),me=E(V=>{if(!V)return"";let w=V;const Y=/Default -/g;w=V.replace(Y,"");const G=/ *?\([^)]*?\) *?/g;return w=w.replace(G,""),w=w.trim(),w},"scrubDeviceLabelForReporting");let _e;const Ae=E(()=>_e,"getMostRecentStableTags"),ye=(0,o.A)((V,w)=>{let{teamState:Y,clientState:G}=V;var Z;const se=(0,_.E9)(G),ae=(0,_.hc)(G),re=(0,I.OV)(Y),pe=(0,O.MJ)(Y),de=(0,O.nC)(Y),ie=(0,O.ZI)(Y),he=(0,O.lz)(Y),ve=g.zF.sdkVersion,ge=(0,l.R8)(Y),ke=(0,O.Qq)(Y),Ne=(0,_.sQ)(G),We=(0,O.Jf)(Y),Oe=(0,O.Ml)(Y),be=(0,W._Z)(Y,"huddles_filter_worker",!1),Ke=(0,_.l4)(G),Fe=(0,k.H7)(Y),J=b(Fe);var ne;const je=(ne=(Z=(0,d.getBootedWorkspaces)(G))===null||Z===void 0?void 0:Z.length)!==null&&ne!==void 0?ne:0,at=(0,f.D5)(Y),nt=(at==null?void 0:at.length)||0,Ge=(0,K.s2)()||{},Pe={teamId:Ke,huddleId:se,huddleChannelId:ae,workspaceCount:je,chimeSdkVersion:ve,teamTier:J,isPreWarmed:ke,isPrejoin:Ne,isHuddlesIncreaseMaxParticipantsEnabled:de,isTranscriptAllowed:ge,isChimeSdkExpEnabled:re,isHuddlesLaterEnabled:pe,isVideoQualityIncreaseEnabled:We,isPerfMetricsAveragesEnabled:Oe,isDevicesExpEnabled:ie,osVersion:$,envIsJsPath:le,envIsQa:te,xwsChannelCount:nt,filterWorkerGroup:be,isFilterWorkerEnabled:he,...Ge};return _e=Pe,Pe},(V,w)=>w),ee=E(V=>{let{state:w,appMetrics:Y}=V;var G,Z,se,ae,re,pe,de,ie;const he=(0,v.en)().getState(),ve=(0,_.cN)(he),ge=(0,_.E9)(he),ke=`${ve}${ge??""}`,Ne=ye({teamState:w,clientState:he},ke),{huddleId:We,huddleChannelId:Oe,workspaceCount:be}=Ne,Ke={},Fe=(0,p.e6)(w),J=Fe?(0,p.Le)(w,{tab:Fe}):{},{primary:ne,secondary:je,sidebar:at}=J||{};Object.assign(Ke,{viewPrimary:ne==null?void 0:ne.viewType,viewSecondary:je==null?void 0:je.viewType,viewSidebar:at==null?void 0:at.viewType,viewTab:Fe});const nt=(0,T.Hc)(w),Ge=(0,T.AZ)(w),Pe=(0,T.IO)(w),Le=(0,T.JM)(w),ze=(0,T.SR)(w),Me=(0,T.f3)(w),Ce=(0,T.aA)(w),Qe={microphoneIsBlocked:nt,microphoneIsAvailable:Ge,cameraIsBlocked:ze,cameraIsAvailable:Me,isMicrophoneBluetooth:Pe,isSpeakerBluetooth:Le,isMicrophoneAndSpeakerOnSameDevice:Ce},Be=(0,i.fq)(w),we={};if(Be){const $e=Object.keys(Be);Object.assign(we,{windowsTotalOpen:$e.length,windowsOpenTypes:$e.length?$e.join(" "):"",windowsTypeWithFocus:(0,s.A)(Be,it=>!!it.isFocused),...ce(Be)})}const xe=(0,l.Fm)(w),Se=xe&&xe.type===z.vT.ConnectionUnstable,Ye=(0,R._R)(w),ot=Ye!==null,_t={isTroubleshootingPanelOpen:ot,isAudioOnlyModeEnabled:(0,_.Rv)(he),troubleshootingPanelTab:ot?(0,R.Eh)(w):null,troubleshootingPillPage:(0,R.Wg)(w),troubleshootingEntryPointWas:(0,R.qV)(w),troubleshootingSessionId:ot?`${(0,H.WR)(w)}${We}:${(0,R.$i)(w)}`:null,troubleshootingBannerInView:Se,troubleshootingSource:Ye},pt=(0,a.UK)(w),vt=(G=(0,T.ql)(w,M.lW.Camera))===null||G===void 0?void 0:G.label,yt=(Z=(0,T.ql)(w,M.lW.Microphone))===null||Z===void 0?void 0:Z.label,Tt=(se=(0,T.ql)(w,M.Q4))===null||se===void 0?void 0:se.label,{isScreenshareEnabled:ft,isHostDrawEnabled:Ct,isHostDrawRendererActive:At,isCameraEnabled:kt,isMicrophoneEnabled:Bt,isConnected:St}=(0,A.Ng)(w),Gt=!!ft,Et=!!kt,wt=(0,A.fU)(w,{id:"self"}),Jt=(0,A.MY)(w),Lt=Jt==="self",Zt=pt.filter($e=>$e.isCameraEnabled).length,qt=(0,u.H)(Oe),tt=(0,L.Bh)(),st=Et&&(tt==null||(ae=tt.video)===null||ae===void 0?void 0:ae.effect)===P.t.Blur,gt=!!(!(tt==null||(re=tt.audio)===null||re===void 0)&&re.enableNoiseSuppression),Nt=gt&&Lt,Ht=Et&&(tt==null||(pe=tt.video)===null||pe===void 0?void 0:pe.effect)===P.t.Background&&(tt==null||(de=tt.video)===null||de===void 0?void 0:de.effectBgKey)!==void 0,Xt=!!Jt,j=!!Zt,Ue=(0,A.nD)(w).length,rt=!!Ue,zt=Ue+(Gt?1:0),Wt=zt===2,Ft=rt||Gt,rn=(0,R.gA)(w),_n=(0,h.VN)(w),An=(0,h.M3)(w),un=Xt?(ie=pt.find($e=>$e.id===Jt))===null||ie===void 0?void 0:ie.userId:void 0,Rn=(0,S.dj)(w,{huddleId:We})||!1,Un=(0,T.dM)(w),Wn=(0,T.RL)(w),vn=(0,Q.$S)(),Ln=(vn==null?void 0:vn.microphoneCount)||0,On=(vn==null?void 0:vn.speakerCount)||0,kn=(vn==null?void 0:vn.cameraCount)||0,Hn=(vn==null?void 0:vn.totalRecords)||0,Bn=(vn==null?void 0:vn.webAudioDevices)||0,Jn=(vn==null?void 0:vn.webAudioSelectedDevices)||0,ts=(vn==null?void 0:vn.webAudioUsedDevices)||0,on=r.J.document.visibilityState==="visible",$n={isBackgroundBlurActive:st,isNoiseSuppressionEnabled:gt,isNoiseSuppressionActive:Nt,isCustomVideoBackgroundActive:Ht,isClosedCaptionsEnabled:_n,isSideBySideCaptionsEnabled:An},zn={callId:ge,isMicrophoneEnabled:Bt,isActiveSpeaker:Lt,isSomeoneSpeaking:Xt,isSomeoneSharingScreen:Ft,isVideoEnabledForSomeone:rn,isSharingScreen:Gt,isHostDrawEnabled:Ct,isHostDrawActive:At,isSelfVideoEnabled:Et,isPeerVideoEnabled:j,isHuddleWindowVisible:qt,selectedCamera:me(vt),selectedMicrophone:me(yt),selectedSpeakers:me(Tt),activeSpeakerUserId:un,isPeerSharingScreen:rt,isDualScreenshareActive:Wt,cpuCount:q,remotePeerCount:pt.length,remotePeersWithVideoCount:Zt,peersScreensharingCount:Ue,activeScreenshareCount:zt,workspaceCount:be,huddleStartTimestamp:ve,isDisconnected:St===!1,isMainWindowVisible:on,isHuddleSummaryActive:Rn,audioInitPossiblyFailed:Un,audioInitTime:Wn,deviceRecordsAudioInputCount:Ln,deviceRecordsAudioOutputCount:On,deviceRecordsCameraCount:kn,deviceRecordsTotalCount:Hn,deviceRecordsWebAudioCount:Bn,deviceRecordsWebAudioSelectedCount:Jn,deviceRecordsWebAudioUsedCount:ts};let Zn={};if(Y){const{cpu:$e,memory:it,gpu:ht,thermalState:Kt,speedLimit:It}=Y,Ut=(0,c.A)($e)?Math.round($e*q):void 0,ln=(0,c.A)(ht)?Math.round(ht*q):void 0,sn=(0,m.oQe)("settings")||{};Zn={cpuUseRelative:$e?Math.round($e):void 0,cpuUse:Ut,gpuUse:ln,memoryUse:(it==null?void 0:it.workingSetSize)||void 0,isHardwareAccelerationEnabled:!!sn.useHwAcceleration,osThermalState:Kt,osSpeedLimit:It,osIsThrottlingCpu:(0,c.A)(It)&&It!==0?It<30:void 0}}let yn={huddleViewMode:(0,S.HH)(w,{huddleId:We})};if(qt){var Kn;const $e=(0,S.Ec)(w,{huddleId:We}),it=(0,S.SC)(w,{huddleId:We,surface:$e});yn={...yn,huddleWindowSurface:$e,huddleWindowFocusedContentType:(wt==null||(Kn=wt.item)===null||Kn===void 0?void 0:Kn.type)||C.cM.None,huddleWindowIsFullscreen:(0,S.g0)(w),huddleWindowIsSelfDrawingEnabled:(0,S.ny)(w),huddleWindowWindowHeight:it==null?void 0:it.height,huddleWindowWindowWidth:it==null?void 0:it.width}}const Cn=(0,D.Ay)(),os={batteryIsUsing:Cn.isUsingBatteryPower(),batteryPercentRemaining:Cn.getLevel()},{osIsThrottlingCpu:_s,osThermalState:ms}=Zn,{batteryIsUsing:Je,batteryPercentRemaining:X}=os,Te={powerThrottlingActive:!!_s&&!!Je&&(0,c.A)(X)&&X<100,thermalThrottlingActive:!!_s&&(ms==="critical"||ms==="serious")};return{...zn,...$n,...Zn,...yn,...Ke,...Qe,...os,..._t,...we,...Ne,...Te}},"getHuddleStateSnapshot")},4742719639:(N,y,e)=>{"use strict";e.d(y,{o:()=>c});var t=e(2384831516),n=e(9548972574),o=e(8847766420),s=e(6741408957);const c=(0,t.Mz)((r,a)=>{const i=(0,n.dy)(r);if(i)return i;const l=(0,n.Yw)(r,a);if(!l)return null;const m=(0,o.ZT)(r);return l.name===void 0?((0,s.Ss)().fetchObjectWithId(m,l.id),null):((0,s.GD)().maybeRefetch(m,l.id),l.name)});c.meta={name:"createSelector",key:"createSelectorgetHuddleTopic",description:(r,a)=>{const i=(0,n.dy)(r);if(i)return i;const l=(0,n.Yw)(r,a);if(!l)return null;const m=(0,o.ZT)(r);return l.name===void 0?((0,s.Ss)().fetchObjectWithId(m,l.id),null):((0,s.GD)().maybeRefetch(m,l.id),l.name)}}},1921074781:(N,y,e)=>{"use strict";e.d(y,{F:()=>c});var t=e(8571983633),n=e(1545824888),o=e(337319621),s=e(2778217221);class c{static getInstance(){if(!c.wakeLockManager)try{c.wakeLockManager=new c}catch(a){(0,o.Wo)({label:s.o7}).warn("Error instantiating WakeLockManager,",a.message)}return c.wakeLockManager}static doesInstanceExist(){return!(0,t.A)(c.wakeLockManager)}async request(){if(this.wakeLockSentinel)return n.S.resolve();this.wakeLockSentinel=await this.wakeLock.request("screen").catch(a=>(this.logger.warn("WakeLock acquire failed",a.message),null)),this.addHandlers()}async release(){if(!this.wakeLockSentinel)return n.S.resolve();this.shouldRemoveVisibilityHandler=!0,await this.wakeLockSentinel.release(),this.logger.info("WakeLock released")}addHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.addEventListener("release",this.handleWakeLockReleased),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))}cleanupHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.removeEventListener("release",this.handleWakeLockReleased),this.wakeLockSentinel=null,this.shouldRemoveVisibilityHandler&&(document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.shouldRemoveVisibilityHandler=!1))}async handleWakeLockReleased(){this.logger.info("WakeLock released by browser"),this.cleanupHandlers()}async handleDocumentVisibilityChange(){document.visibilityState==="visible"&&this.request()}constructor(){if(this.logger=(0,o.Wo)({label:s.o7}),this.shouldRemoveVisibilityHandler=!1,!navigator.wakeLock)throw Error("navigator.wakeLock undefined");this.wakeLock=navigator.wakeLock,this.handleDocumentVisibilityChange=this.handleDocumentVisibilityChange.bind(this),this.handleWakeLockReleased=this.handleWakeLockReleased.bind(this)}}E(c,"WakeLockManager")},8478954380:(N,y,e)=>{"use strict";e.d(y,{Li:()=>d,ML:()=>c,Rt:()=>a,_6:()=>h,aS:()=>i,al:()=>r,bW:()=>m,it:()=>_,qO:()=>l});var t=e(2140362605),n=e(6304789565),o=e(5071086688),s=e(5470425448);const c=(0,t.Ay)("Update the state of the active tab in the huddle troubleshooting panel");c.meta={name:"createAction",key:"createActionupdateTroubleshootingActiveAccordionViewTrace",description:"Update the state of the active tab in the huddle troubleshooting panel"};const r=(0,t.Ay)("Makes troubleshoot panel V2 visible in source view or clears it");r.meta={name:"createAction",key:"createActionsetTroubleshootingSource",description:"Makes troubleshoot panel V2 visible in source view or clears it"};const a=(0,n.Ay)("Set the screen sharing of a peer.",(f,v,u)=>{o.A.publish({type:s.lx.TroubleshootingEntryPoint,update:(u==null?void 0:u.entryPoint)||null}),f(r(u))});a.meta={name:"createThunk",key:"createThunksetTroubleshootingSourceWithTrace",description:"Set the screen sharing of a peer."};const i=(0,t.Ay)("Sets active pill page for tracing.");i.meta={name:"createAction",key:"createActionsetTroubleshootingPillPageTrace",description:"Sets active pill page for tracing."};const l=(0,t.Ay)("Update stable metrics state");l.meta={name:"createAction",key:"createActionupdateStableMetrics",description:"Update stable metrics state"};const m=(0,t.Ay)("Update unstable metrics and warnings state");m.meta={name:"createAction",key:"createActionupdateUnstableMetricsAndWarnings",description:"Update unstable metrics and warnings state"};const _=(0,t.Ay)("Update stable warnings state");_.meta={name:"createAction",key:"createActionupdateStableWarnings",description:"Update stable warnings state"};const h=(0,t.Ay)("Update stable alert state");h.meta={name:"createAction",key:"createActionupdateStableAlerts",description:"Update stable alert state"};const d=(0,t.Ay)("Update unstable alert state");d.meta={name:"createAction",key:"createActionupdateUnstableAlerts",description:"Update unstable alert state"}},2465464861:(N,y,e)=>{"use strict";e.d(y,{$i:()=>m,Eh:()=>a,FP:()=>g,Ku:()=>A,Wf:()=>u,Wg:()=>l,Z8:()=>r,_R:()=>i,cB:()=>f,gA:()=>C,h:()=>v,m:()=>p,qV:()=>_});var t=e(3009309149),n=e(9392104102),o=e(6790819894),s=e(7091646278),c=e(387328355);const r=3,a=(0,t.Ay)(T=>T.huddleTroubleshooting.view.activeAccordionView);a.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelActiveAccordionView",description:T=>T.huddleTroubleshooting.view.activeAccordionView};const i=(0,t.Ay)(T=>T.huddleTroubleshooting.view.source);i.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelSource",description:T=>T.huddleTroubleshooting.view.source};const l=(0,t.Ay)(T=>T.huddleTroubleshooting.view.activePillPage);l.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPillPageTrace",description:T=>T.huddleTroubleshooting.view.activePillPage};const m=(0,t.Ay)(T=>T.huddleTroubleshooting.view.source?T.huddleTroubleshooting.view.openCounter:-1);m.meta={name:"createSelector",key:"createSelectorgetTroubleshootingSessionCounterIdTrace",description:T=>T.huddleTroubleshooting.view.source?T.huddleTroubleshooting.view.openCounter:-1};const _=(0,t.Ay)(T=>T.huddleTroubleshooting.view.entryPoint);_.meta={name:"createSelector",key:"createSelectorgetTroubleshootingEntryPointTrace",description:T=>T.huddleTroubleshooting.view.entryPoint};const h=(0,t.Ay)(T=>T.huddleTroubleshooting.view.alertCount>=r);h.meta={name:"createSelector",key:"createSelectorshouldDisplaySupportLink",description:T=>T.huddleTroubleshooting.view.alertCount>=r};const d=(0,t.Ay)(T=>T.huddleTroubleshooting.metrics.stable);d.meta={name:"createSelector",key:"createSelectorgetStableMetrics",description:T=>T.huddleTroubleshooting.metrics.stable};const f=(0,t.Ay)(T=>T.huddleTroubleshooting.metrics.unstable);f.meta={name:"createSelector",key:"createSelectorgetUnstableMetrics",description:T=>T.huddleTroubleshooting.metrics.unstable};const v=(0,t.Ay)(T=>T.huddleTroubleshooting.warnings.stable);v.meta={name:"createSelector",key:"createSelectorgetStableWarnings",description:T=>T.huddleTroubleshooting.warnings.stable};const u=(0,t.Ay)(T=>T.huddleTroubleshooting.warnings.unstable);u.meta={name:"createSelector",key:"createSelectorgetUnstableWarnings",description:T=>T.huddleTroubleshooting.warnings.unstable};const g=(0,t.Ay)(T=>T.huddleTroubleshooting.alerts.stable);g.meta={name:"createSelector",key:"createSelectorgetStableAlerts",description:T=>T.huddleTroubleshooting.alerts.stable};const p=(0,t.Ay)(T=>T.huddleTroubleshooting.alerts.unstable);p.meta={name:"createSelector",key:"createSelectorgetUnstableAlerts",description:T=>T.huddleTroubleshooting.alerts.unstable};const A=(0,o.F)(T=>g(T)||n.t0,T=>p(T)||n.t0,T=>v(T)||n.t0,(T,I,M)=>{const{isMicrophoneBlocked:D,isCameraBlocked:O,isDisconnected:S,isMicrophoneNotSendingAudio:R,isPowerThrottlingActive:U}=T,{isAudioQualityPoor:P,isCpuCompetitionPoor:L,isNetworkQualityPoor:F,networkQualityHealth:x}=I,{isSpeakerBluetooth:b,isHardwareAccelerationDisabled:k}=M,B=!!(P&&F),W=!!(P&&(L||U)),K=!!(b&&P||O||D||R),H=!!(B||W||O||D||R||S),z=P||S?s.bz.Bad:x,Q=L||U||k?s.bz.Warn:s.bz.Good;return{shouldSurfaceGeneralWarning:H,shouldSurfaceSystemWarning:W,shouldSurfaceDevicesWarning:K,aggregateNetworkHealth:z,aggregateSystemHealth:Q}}),C=(0,o.F)(c.Ng,c.nt,(T,I)=>{const{isCameraEnabled:M}=T;return!!(M||I)})},7091646278:(N,y,e)=>{"use strict";e.d(y,{ML:()=>n,bz:()=>o,pK:()=>t});var t;(function(s){s.Network="network",s.System="system",s.Devices="devices",s.Overview="overview"})(t||(t={}));var n;(function(s){s.EnlargedWindow="EnlargedWindow",s.CompactWindow="CompactWindow",s.MiniPlayer="MiniPlayer"})(n||(n={}));var o;(function(s){s.Good="good",s.Warn="warn",s.Bad="bad"})(o||(o={}))},7763971809:(N,y,e)=>{"use strict";e.d(y,{V:()=>t});const t="identity_links_prefs"},2239896522:(N,y,e)=>{"use strict";e.d(y,{IC:()=>i,Kb:()=>d,LG:()=>f,R1:()=>_,SU:()=>v,Xe:()=>h,bm:()=>m});var t=e(6790819894),n=e(3009309149),o=e(2047021170),s=e(8847766420),c=e(5597672932),r=e(337319621),a=e(7763971809);const i=(0,t.F)(u=>(0,o.ty)(u,a.V),u=>(0,s.ZT)(u),function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}",g=arguments.length>1?arguments[1]:void 0;try{return JSON.parse(u)}catch(p){return(0,r.Ay)({teamId:g}).error("ID-LINKS","Unable to parse user prefs. Defaulting to {}.",p),{}}}),l=(0,n.Ay)(u=>(0,c.xp)(u,a.V));l.meta={name:"createSelector",key:"createSelectorselectIdentityLinksTeamPrefs",description:u=>(0,c.xp)(u,a.V)};const m=(0,n.Ay)(u=>{const g=l(u);var p;return(p=g==null?void 0:g.is_enabled)!==null&&p!==void 0?p:!1});m.meta={name:"createSelector",key:"createSelectorselectIsIdentityLinksEnabledByAdmin",description:u=>{const g=l(u);var p;return(p=g==null?void 0:g.is_enabled)!==null&&p!==void 0?p:!1}};const _=(0,n.Ay)((u,g)=>{const p=i(u);var A;return(A=p==null?void 0:p[g])!==null&&A!==void 0?A:!1});_.meta={name:"createSelector",key:"createSelectorselectIdentityLinkPrefByAppId",description:(u,g)=>{const p=i(u);var A;return(A=p==null?void 0:p[g])!==null&&A!==void 0?A:!1}};const h=(0,n.Ay)((u,g)=>{const p=_(u,g);var A;return(A=p==null?void 0:p.date_opted_out)!==null&&A!==void 0?A:null});h.meta={name:"createSelector",key:"createSelectorgetDateOptedOut",description:(u,g)=>{const p=_(u,g);var A;return(A=p==null?void 0:p.date_opted_out)!==null&&A!==void 0?A:null}};const d=(0,n.Ay)((u,g)=>{const p=_(u,g);var A;return(A=p==null?void 0:p.completed_transfer)!==null&&A!==void 0?A:!1});d.meta={name:"createSelector",key:"createSelectorgetCompletedTransferPref",description:(u,g)=>{const p=_(u,g);var A;return(A=p==null?void 0:p.completed_transfer)!==null&&A!==void 0?A:!1}};const f=(0,n.Ay)((u,g)=>{const p=_(u,g);var A;return(A=p==null?void 0:p.num_skipped)!==null&&A!==void 0?A:0});f.meta={name:"createSelector",key:"createSelectorgetNumSkipped",description:(u,g)=>{const p=_(u,g);var A;return(A=p==null?void 0:p.num_skipped)!==null&&A!==void 0?A:0}};const v=(0,n.Ay)((u,g)=>{const p=_(u,g);var A;return(A=p==null?void 0:p.date_disconnected)!==null&&A!==void 0?A:null});v.meta={name:"createSelector",key:"createSelectorgetDateDisconnected",description:(u,g)=>{const p=_(u,g);var A;return(A=p==null?void 0:p.date_disconnected)!==null&&A!==void 0?A:null}}},1469799399:(N,y,e)=>{"use strict";e.d(y,{C:()=>m});var t=e(3134334389),n=e(6304789565),o=e(337319621),s=e(8262898118),c=e(7008286275),r=e(2375333597),a=e(6591744424),i=e(97319433),l=e(2239896522);const m=(0,n.Ay)("Handle a user clicking on an identity link",async(_,h,d)=>{let{url:f,channelId:v}=d;const u=(0,o.Ay)({getState:h}),g=(0,s.ND)(h(),f),p=(0,s.pF)(h(),f),A=(0,a.Z3)(h());if(!(0,s.w$)(h(),f)){window.open(f,"_blank","noopener,noreferrer");return}if(!g){u.error(`error getting appId for domain: ${p}`,f),window.open(f,"_blank","noopener,noreferrer");return}const C=(0,l.SU)(h(),g);if(!A||C){window.open(f,"_blank","noopener,noreferrer");return}if((0,l.Kb)(h(),g)){_((0,i.Ap)({appId:g,url:f,channelId:v,domain:p}));return}if((0,l.Xe)(h(),g)===null){_((0,r.q)({element:t.createElement(c.A,{appId:g,domain:p,url:f,channelId:v}),isStackable:!0}));return}window.open(f,"_blank","noopener,noreferrer")});m.meta={name:"createThunk",key:"createThunkhandleIdentityTransferLinkClick",description:"Handle a user clicking on an identity link"}},97319433:(N,y,e)=>{"use strict";e.d(y,{zL:()=>u,Ap:()=>v});var t=e(6304789565),n=e(337319621),o=e(3810796320),s=e(2927826522),c=e(5257368278),r=e(4433296946);const a=(0,c.A)("Get SIWS transfer payload",(p,A,C)=>{let{appId:T,clientMsgId:I,url:M,channelId:D}=C;return p((0,o.o)({appId:T,clientMsgId:I,uri:M,reason:"siws-get-transfer-payload",channelId:D})).then(O=>({...(0,s.t)(O)})).catch(O=>{var S;throw((S=O.data)===null||S===void 0?void 0:S.error)==="invalid_client_cache"&&p((0,r._)()),O})});a.meta={name:"createFetcher",key:"createFetchergetTransferPayload",description:"Get SIWS transfer payload"};const i=a;var l=e(4094753332),m=e(3134334389),_=e(2375333597),h=e(7008286275);const d=(0,t.Ay)("opens the Identity Transfer Modal when we want to Reverify Email",async(p,A,C)=>{let{appId:T,domain:I,url:M,channelId:D}=C;p((0,_.q)({element:m.createElement(h.A,{appId:T,domain:I,url:M,channelId:D,reverifyEmail:!0}),isStackable:!0}))});d.meta={name:"createThunk",key:"createThunkopenIdentityTransferReverificationModal",description:"opens the Identity Transfer Modal when we want to Reverify Email"};const f={window:null,appId:void 0},v=(0,t.Ay)("Fetch and open the initialization URL for an identity link",async(p,A,C)=>{let{appId:T,url:I,domain:M,clientMsgId:D,shouldCloseWindowOnCompletion:O=!1,channelId:S}=C;const R=(0,n.Ay)({getState:A,label:"IDENTITY_LINKS"});let U=null;try{if((0,l.y3)()){const{initiateUrl:P}=await p(i({appId:T,clientMsgId:D,url:I,channelId:S}));window.open(P,"_blank","noopener,noreferrer")}else{U=window.open("","_blank");const{initiateUrl:P}=await p(i({appId:T,clientMsgId:D,url:I,channelId:S}));U.location.href=P,R.info(`opened identity transfer window for appId ${T}`),O&&(f.window=U,f.appId=T)}}catch(P){const L=P==null?void 0:P.data;R.error(`error getting transfer payload for link with appId ${T}`,L==null?void 0:L.error),(L==null?void 0:L.error)===o.V.EmailNotVerified?(U==null||U.close(),p(d({appId:T,channelId:S,domain:M,url:I}))):U?U.location.href=I:window.open(I,"_blank","noopener,noreferrer")}});v.meta={name:"createThunk",key:"createThunkopenIdentityTransferLink",description:"Fetch and open the initialization URL for an identity link"};const u=(0,t.Ay)("Close the browser window used for the identity transfer flow with the given app, if it exists",(p,A,C)=>{let{appId:T}=C;const I=(0,n.Ay)({getState:A,label:"IDENTITY_LINKS"});if(I.info(`checking if there's an identity transfer window to close for appId ${T}`),T&&f.appId===T&&f.window){try{var M,D;f==null||(M=f.window)===null||M===void 0||(D=M.close)===null||D===void 0||D.call(M),I.info(`closed identity transfer window for appId ${T}`)}catch(O){I.error(`error attempting to close identity transfer window for appId ${T}`,O)}f.window=null,f.appId=void 0}});u.meta={name:"createThunk",key:"createThunkcloseIdentityTransferWindowForAppId",description:"Close the browser window used for the identity transfer flow with the given app, if it exists"};const g={lastOpenedWindowRef:f}},5973312896:(N,y,e)=>{"use strict";e.d(y,{J:()=>a});var t=e(6304789565),n=e(387484329),o=e(337319621),s=e(475074488),c=e(2239896522),r=e(7763971809);const a=(0,t.Ay)("Set all or some identity links user prefs in single call",(i,l,m)=>{let{appId:_,completedTransfer:h,dateOptedOut:d,numSkipped:f,dateLastSkipped:v}=m;const u=(0,c.IC)(l()),g=(0,c.R1)(l(),_);let p="{}";const A={completedTransfer:h,dateOptedOut:d,numSkipped:f,dateLastSkipped:v};try{p=JSON.stringify({...u,[_]:{...g,...(0,s.Ay)(A)}})}catch(C){(0,o.Ay)({getState:l}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",C)}return i((0,n.AZ)({pref:r.V,value:p}))});a.meta={name:"createThunk",key:"createThunksetIdentityTransferUserPrefs",description:"Set all or some identity links user prefs in single call"}},4525672255:(N,y,e)=>{"use strict";e.d(y,{E:()=>i});var t=e(6554371307),n=e(6085611183),o=e(337319621),s=e(304127728),c=e(6304789565),r=e(474652310),a=e(832411022);const i=(0,c.Ay)("Fetch lists",async function(l,m){let{query:_,sort:h,reason:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const f=await(_?l((0,t.yz)({query:`type:list ${_}`,includeShares:!0,reason:d||"get-lists",bypassCache:!0})):l((0,n.jQ)({module:s.MT.FILES,query:"type:list",sort:h||a.VU.lastRead,reason:d||"get-lists",context:s.Oj.ListsDefault})).then(v=>{let{items:u}=v;return u}));l((0,r.b)({files:f}))}catch(f){(0,o.Ay)({label:"lists"}).error("error fetching lists",f)}});i.meta={name:"createThunk",key:"createThunkfetchLists",description:"Fetch lists"}},9174292896:(N,y,e)=>{"use strict";e.d(y,{D:()=>l});var t=e(444762595),n=e(5917710436),o=e(337319621),s=e(6471801899),c=e(6304789565),r=e(8847766420),a=e(9943020700),i=e(4001611198);const l=(0,c.Ay)("Fetch list records",async(m,_,h)=>{let{listId:d,currentUserId:f,archived:v=!1,includeSuggested:u=!1}=h;const g=_(),p=(0,r.ZT)(g)||"";try{const C=(await m((0,t.z)({listId:d,reason:v?"get-list-archived-records":"get-list-records",includeSubtasks:!0,archived:v,includeSuggested:u}))).records;(0,i.mY)(p,C.map(M=>M.id),d);const T=(0,n.yJ)({listId:d,state:g}),I=C.map(M=>{var D,O,S,R,U,P,L,F;return(0,s.jG)({id:M.id,fields:M.fields,dateCreated:M.date_created,createdBy:(D=M.created_by)!==null&&D!==void 0?D:"",threadTs:(O=M.thread_ts)!==null&&O!==void 0?O:"",position:(S=M.position)!==null&&S!==void 0?S:"",parentRecordId:(R=M.parent_record_id)!==null&&R!==void 0?R:"",updatedTimestamp:(U=M.updated_timestamp)!==null&&U!==void 0?U:"",updatedBy:(P=M.updated_by)!==null&&P!==void 0?P:"",viewPositions:M.view_positions,platformRefs:M.platform_refs,saved:M.saved,savedFields:M.saved_fields,archived:(L=M.archived)!==null&&L!==void 0?L:!1,suggested:(F=M.suggested)!==null&&F!==void 0?F:!1,shouldUseTimestamp:T})});return v?m((0,a.yw)({listId:d,records:I})):(m((0,a.VV)({listId:d,records:I})),m((0,a.fg)({listId:d,currentUserId:f}))),I}catch(A){(0,o.Ay)({label:"lists"}).error("error fetching list records",A)}return null});l.meta={name:"createThunk",key:"createThunkfetchRecords",description:"Fetch list records"}},8873215801:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(6304789565),n=e(6485511687),o=e(3603672985),s=e(6259241484);const c=(0,t.Ay)("Close the message pane banner",(a,i,l)=>{a((0,n.a)({action:s.hw.DISMISS,reason:"close-banner",...l})),a((0,o.KT)({spaceName:s.xu.MESSAGE_PANE,channelId:l.channelId}))});c.meta={name:"createThunk",key:"createThunkcloseBanner",description:"Close the message pane banner"};const r=c},2938177083:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>d});var t=e(337319621),n=e(6304789565),o=e(1545824888),s=e(6259241484),c=e(716227588),r=e(3603672985),a=e(7003004874),i=e(7679173189),l=e(1655938719);const m=(0,n.Ay)("record a dismissal on a megaphone notification",(f,v,u)=>{const{spaceName:g,...p}=u,A=u.channelId||u.entityId,C=(0,t.Wo)();if(!g)return C.error(s.cK,"spaceName is required when dispatching recordAndClearNotification."),o.S.resolve();const T=v(),I=(0,c.Hp)(T,g,A);return(0,i.Ay)(A)&&u.entityType==="team"?f((0,r.pn)({spaceName:g,channelId:A})):f((0,r.KT)({spaceName:g,channelId:A})),f((0,a.A)({notificationName:I,...p}))});m.meta={name:"createThunk",key:"createThunkrecordAndClearNotification",description:"record a dismissal on a megaphone notification"};const _=(0,n.Ay)("DEV ONLY not intended for production use: Clears all notifications currently present in redux by recording a megaphone dismissal",async function(f,v){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{megaphoneSpaces:g,channelSpaces:p}=(0,c.NI)(v()),{reload:A}=u;await Promise.all(Object.values(g).filter(C=>!!C).map(C=>f((0,a.A)({notificationName:C.notificationName,action:s.hw.DISMISS})))),await Promise.all(Object.values(p).filter(C=>!!C).map(C=>Promise.all(Object.values(C).map(T=>f((0,a.A)({notificationName:T.notificationName,action:s.hw.DISMISS})))))),A&&f((0,l.AD)({megaphoneReason:"dev-debug-force-refetch"}))});_.meta={name:"createThunk",key:"createThunkslackDebugOnlyClearAllMegaphoneNotifications",description:"DEV ONLY not intended for production use: Clears all notifications currently present in redux by recording a megaphone dismissal"};const h=(0,n.Ay)("DEV ONLY not intended for production use: Clears notifications in a given space by recording a megaphone dismissal, until the desired notification is returned",async(f,v,u)=>{const{notificationName:g,spaceName:p,event:A}=u;let C=!1,T=0;for(;!C&&T<10;){const I=(0,c.Hp)(v(),p);await f((0,a.A)({notificationName:I,action:s.hw.DISMISS})),A?await f((0,l.iR)({event:A})):await f((0,l.iR)({event:{type:s.jo.REQUEST_SPACES,spaces:[p]}}));const M=(0,c.Hp)(v(),p);(M===g||!M)&&(C=!0),T+=1}});h.meta={name:"createThunk",key:"createThunkslackDebugOnlyClearSpaceUntilNotificationReturned",description:"DEV ONLY not intended for production use: Clears notifications in a given space by recording a megaphone dismissal, until the desired notification is returned"};const d=m},7003004874:(N,y,e)=>{"use strict";e.d(y,{A:()=>_,j:()=>m});var t=e(337319621),n=e(6304789565),o=e(8760181906),s=e(6485511687),c=e(1545824888),r=e(6259241484);const a=(0,n.Ay)("record an event (e.g. dismissal, impression, etc) on a megaphone notification",(h,d,f)=>{const{notificationName:v,...u}=f,g=(0,t.Wo)();var p;const A=(p=f.reason)!==null&&p!==void 0?p:"record-notification-event";if(!v)return g.error(r.cK,"notificationName is required when dispatching recordNotificationEvent."),c.S.resolve();const C={notification:v,...u,reason:A};return h((0,s.a)(C))});a.meta={name:"createThunk",key:"createThunkrecordNotificationEvent",description:"record an event (e.g. dismissal, impression, etc) on a megaphone notification"};const i=6e4,l=!1,m=(0,o.A)(a,i,l,void 0,!1),_=a},7487228876:(N,y,e)=>{"use strict";e.d(y,{h:()=>s});var t=e(337319621),n=e(6259241484);const o=(0,t.Wo)(),s=E(c=>{let{spaceName:r,notificationName:a}=c;a&&o.error(n.cK,`${a} is not a recognized notification name for space ${r}.`)},"maybeLogUnrecognizedNotification")},1345620242:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3009309149),n=e(8170643398),o=e(8276911661),s=e(3428522109);const c=(0,t.Ay)((a,i)=>{const l=(0,o.nv)(a,i),{status_text_canonical:m}=l.profile;return m?(0,n.UM)(l):(0,s.K)(a,l)?0:(0,n.UM)(l)});c.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusExpiration",description:(a,i)=>{const l=(0,o.nv)(a,i),{status_text_canonical:m}=l.profile;return m?(0,n.UM)(l):(0,s.K)(a,l)?0:(0,n.UM)(l)}};const r=c},2072540560:(N,y,e)=>{"use strict";e.d(y,{A:()=>a});var t=e(8086952004),n=e(3009309149),o=e(8276911661),s=e(2334406124),c=e(3428522109);const r=(0,n.Ay)((i,l)=>{const m=(0,o.nv)(i,l),{status_text_canonical:_}=m.profile;if(_){let h;const d=(0,s.A)(i);return d&&(h=((0,t.A)(d,f=>f.canonical===_)||{}).text||null),_.toLowerCase()==="on a call"&&(h=o.Ru.t("On a call")),h||m.profile.status_text||""}return(0,c.K)(i,m)?o.Ru.t("In a huddle"):m.profile.status_text||""});r.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusText",description:(i,l)=>{const m=(0,o.nv)(i,l),{status_text_canonical:_}=m.profile;if(_){let h;const d=(0,s.A)(i);return d&&(h=((0,t.A)(d,f=>f.canonical===_)||{}).text||null),_.toLowerCase()==="on a call"&&(h=o.Ru.t("On a call")),h||m.profile.status_text||""}return(0,c.K)(i,m)?o.Ru.t("In a huddle"):m.profile.status_text||""}};const a=r},1651628626:(N,y,e)=>{"use strict";e.d(y,{c:()=>m});var t=e(5797466484),n=e(6304789565),o=e(1545824888),s=e(887579008),c=e(9291336591),r=e(4282737224),a=e(2965336964),i=e(8353691456),l=e(3474336343);const m=(0,n.Ay)("Submits changes to the current user\u2019s profile",(_,h,d)=>{let{profile:f,reason:v="submitProfileChange"}=d;if(!(0,t.A)(f))return o.S.resolve();const u={...f},g=h();return f.status_text&&(u.status_text=(0,s.A)(g,f.status_text)),(0,i.F)(g)&&(f!=null&&f.real_name)&&((0,l.lQ)(g)||_((0,r.S)({pref:a.h2,value:!0}))),_((0,c.n)({profile:JSON.stringify(u),reason:v}))});m.meta={name:"createThunk",key:"createThunksubmitProfileChange",description:"Submits changes to the current user\u2019s profile"}},7651407571:(N,y,e)=>{"use strict";e.d(y,{p:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Upsert fetched ordered membership list for channel");n.meta={name:"createAction",key:"createActionupsertFetchedChannelOrderedMemberList",description:"Upsert fetched ordered membership list for channel"}},8188087967:(N,y,e)=>{"use strict";e.d(y,{GD:()=>f,Nd:()=>u});var t=e(3398586081),n=e(1545824888),o=e(7058495549),s=e(8352634987),c=e(7582939986),r=e(337319621),a=e(4949104520),i=e(6304789565),l=e(8847766420),m=e(8760181906),_=e(6533394955),h=e(7651407571);const d=1e4,f=(0,t.A)(()=>new s.Ay({storeKey:"membershipOrdered",fetch:(p,A)=>n.S.all(A.map(C=>(0,_.Qw)(p,g({channelId:C,count:c.Ql})))),isEnabled:()=>!0,metricsName:"member-list"})),v=(0,i.Ay)("marks objects as stale via CFM for Membership List",function(p,A){let{teamId:C,channelId:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f().markObjectsAsStale(C,[T])});v.meta={name:"createThunk",key:"createThunkmarkObjectsAsStale",description:"marks objects as stale via CFM for Membership List"};const u=(0,m.A)(v,(0,a.A)(d,0,.5)),g=(0,i.Ay)("Fetches top members for the channel",function(p,A){let{channelId:C,count:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.ds)(p,A,C,T).then(I=>{const M=(0,l.ZT)(A());if(!M){(0,r.Wo)().info("MOS","No teamId found");return}return f().markObjectsAsFresh(M,[C]),p((0,h.p)({channelId:C,memberList:I}))})});g.meta={name:"createThunk",key:"createThunkfetchAndUpsertFirstNMembersForChannel",description:"Fetches top members for the channel"}},1794107122:(N,y,e)=>{"use strict";e.d(y,{$:()=>c});var t=e(9392104102),n=e(3009309149),o=e(8847766420),s=e(8188087967);const c=(0,n.Ay)((r,a)=>{const i=(0,o.ZT)(r);return i&&(0,s.GD)().maybeRefetch(i,a),r&&r.membershipOrdered&&r.membershipOrdered[a]?r.membershipOrdered[a]:t.Ml});c.meta={name:"createSelector",key:"createSelectorgetMemberListForChannel",description:(r,a)=>{const i=(0,o.ZT)(r);return i&&(0,s.GD)().maybeRefetch(i,a),r&&r.membershipOrdered&&r.membershipOrdered[a]?r.membershipOrdered[a]:t.Ml}}},6562711329:(N,y,e)=>{"use strict";e.d(y,{z:()=>d});var t=e(7823346015),n=e(8403493408),o=e(1545824888),s=e(1407713935),c=e(8798294025),r=e(6304789565),a=e(8847766420),i=e(6533394955),l=e(5795074931),m=e(9101533895),_=e(3730613858),h=e(2480881364);const d=(0,r.Ay)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(f,v){let{channelId:u,userIds:g}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=v(),[A,C]=(0,t.A)(g,M=>(0,_.wr)(p,u,M)),T=(0,m.OL)(p,u);if((0,s.LI)(T)){const M=(0,c.e)(T),D=(0,l.WR)(p);(0,n.A)(C,M,D),g!=null&&g.includes(M)&&A.push(M),g!=null&&g.includes(D)&&A.push(D)}const I={};return A.forEach(M=>{I[M]=(0,_.Ql)(p,u,M)}),C.length?(0,i.Qw)((0,a.ZT)(p),(0,h.R)({channelId:u,userIds:C})).then(M=>M&&M.payload&&M.payload.membershipInfo?{membershipInfo:{...M.payload.membershipInfo,...I}}:{membershipInfo:I}):o.S.resolve({membershipInfo:I})});d.meta={name:"createThunk",key:"createThunkgetChannelMembershipInfoForUsers",description:"Gets the channel membership for a set of users and returns a promise when the store is updated accordingly"}},5345057011:(N,y,e)=>{"use strict";e.d(y,{T:()=>n,s:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Add a placeholder to the store");n.meta={name:"createAction",key:"createActionaddPlaceholder",description:"Add a placeholder to the store"};const o=(0,t.Ay)("Remove a placeholder from the store by client_msg_id");o.meta={name:"createAction",key:"createActionremovePlaceholder",description:"Remove a placeholder from the store by client_msg_id"}},6445408916:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(3009309149);const n=(0,t.Ay)(o=>o==null?void 0:o.messagePlaceholders);n.meta={name:"createSelector",key:"createSelectorgetAllPlaceholders",description:o=>o==null?void 0:o.messagePlaceholders}},5774398667:(N,y,e)=>{"use strict";e.d(y,{I:()=>o});var t=e(3009309149),n=e(6445408916);const o=(0,t.Ay)((s,c)=>{var r;return(r=(0,n.A)(s))===null||r===void 0?void 0:r[c]});o.meta={name:"createSelector",key:"createSelectorgetPlaceholderByClientMsgId",description:(s,c)=>{var r;return(r=(0,n.A)(s))===null||r===void 0?void 0:r[c]}}},6347367879:(N,y,e)=>{"use strict";e.d(y,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Start delete animation for a message");n.meta={name:"createAction",key:"createActionanimateDeleteMessage",description:"Start delete animation for a message"}},1508337910:(N,y,e)=>{"use strict";e.d(y,{h:()=>c});var t=e(3009309149),n=e(9392104102);const o=(0,t.Ay)(a=>a==null?void 0:a.messagesMeta);o.meta={name:"createSelector",key:"createSelectorgetMessagesMetaState",description:a=>a==null?void 0:a.messagesMeta};var s;const c=(0,t.Ay)((a,i)=>{let{channelId:l,ts:m}=i;var _,h;return(s=(_=o(a))===null||_===void 0||(h=_[l])===null||h===void 0?void 0:h[m])!==null&&s!==void 0?s:n.t0});var r;c.meta={name:"createSelector",key:"createSelectorgetMessageMetaData",description:(a,i)=>{let{channelId:l,ts:m}=i;var _,h;return(r=(_=o(a))===null||_===void 0||(h=_[l])===null||h===void 0?void 0:h[m])!==null&&r!==void 0?r:n.t0}}},3521202413:(N,y,e)=>{"use strict";e.d(y,{j:()=>v});var t=e(6304789565),n=e(7606781622),o=e(9101533895),s=e(9629572172),c=e(4096483543),r=e(9121476043),a=e(6347367879),i=e(8233775522),l=e(8726613433);const m=(0,t.Ay)("Checks if the message is in an active view before doing the animation",function(u,g){let{channelId:p,ts:A,threadTs:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments.length>3?arguments[3]:void 0;const I=g(),{getViewSet:M}=T(s.U),D=!(0,c.A)()||(0,l.T2)(I),O=(0,i.ko)(I)&&D;var S;const{primary:R}=(S=M(I))!==null&&S!==void 0?S:{},U=R==null?void 0:R.id,P=E(()=>u((0,a.o)({channelId:p,ts:A})),"doAnimation");if(O&&U===p){P();return}u((0,r.A)({channelId:p,ts:A,threadTs:C}))});m.meta={name:"createThunk",key:"createThunkmaybeAnimateDeleteMessage",description:"Checks if the message is in an active view before doing the animation"};const _=m;var h=e(1484767411),d=e(1508337910),f=e(337319621);const v=(0,t.Ay)("Delete a message by channel ID and timestamp",function(u,g){let{deleted_ts:p,channel:A,_from_evt_log:C,previous_message:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var I;const M=g(),D=(0,f.Ay)({state:M});if(!p){D.error("Error in messageDeleted: no deleted_ts");return}if(!((0,o.gT)(M,A)&&(0,o.OL)(M,A))){D.error(`Unknown channelId: ${A}`);return}if((I=(0,d.h)(M,{channelId:A,ts:p}))===null||I===void 0?void 0:I.isDeleting)return;const R=!1,P=(0,n.Ld)(M,A,p,R)||T;u(P?_({channelId:A,ts:p,threadTs:P.thread_ts,fromEvtLog:C}):(0,r.A)({channelId:A,ts:p})),u((0,h.o)({channelId:A,ts:p}))});v.meta={name:"createThunk",key:"createThunksetMessageDeleted",description:"Delete a message by channel ID and timestamp"}},5688490863:(N,y,e)=>{"use strict";e.d(y,{J_:()=>i,QI:()=>f,Up:()=>c,V1:()=>d,Zs:()=>a,iN:()=>s,m3:()=>r,oh:()=>_,qA:()=>m,qj:()=>h,yw:()=>l});var t=e(9392104102),n=e(3009309149);const o=(0,n.Ay)(v=>v.modernSelling.salesListViews);o.meta={name:"createSelector",key:"createSelectorgetSalesListViews",description:v=>v.modernSelling.salesListViews};const s=(0,n.Ay)(v=>o(v).listViewActiveObjectOption);s.meta={name:"createSelector",key:"createSelectorgetListViewActiveObjectOption",description:v=>o(v).listViewActiveObjectOption};const c=(0,n.Ay)(v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.listViewSearchResults});c.meta={name:"createSelector",key:"createSelectorgetListViewSearchResults",description:v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.listViewSearchResults}};const r=(0,n.Ay)((v,u)=>{var g;const p=(g=o(v))===null||g===void 0?void 0:g.listViewIdSearchResultsMap;return(p==null?void 0:p[u])||t.t0});r.meta={name:"createSelector",key:"createSelectorgetListViewObjectMapByOrg",description:(v,u)=>{var g;const p=(g=o(v))===null||g===void 0?void 0:g.listViewIdSearchResultsMap;return(p==null?void 0:p[u])||t.t0}};const a=(0,n.Ay)((v,u,g)=>r(v,u)[g]||t.Ml);a.meta={name:"createSelector",key:"createSelectorgetListViewIdsByOrgAndObject",description:(v,u,g)=>r(v,u)[g]||t.Ml};const i=(0,n.Ay)(v=>{var u;return((u=o(v))===null||u===void 0?void 0:u.listViewActiveSearchResultIds)||t.Ml});i.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchResultIds",description:v=>{var u;return((u=o(v))===null||u===void 0?void 0:u.listViewActiveSearchResultIds)||t.Ml}};const l=(0,n.Ay)(v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.listViewActiveSearchQuery});l.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchQuery",description:v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.listViewActiveSearchQuery}};const m=(0,n.Ay)(v=>{var u;return((u=o(v))===null||u===void 0?void 0:u.adminSuggestedListViews)||t.Ml});m.meta={name:"createSelector",key:"createSelectorgetAdminSuggestedListViewsForSidebar",description:v=>{var u;return((u=o(v))===null||u===void 0?void 0:u.adminSuggestedListViews)||t.Ml}};const _=(0,n.Ay)(v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.areAdminSuggestedListViewsForSidebarFresh});_.meta={name:"createSelector",key:"createSelectorgetAreAdminSuggestedListViewsForSidebarFresh",description:v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.areAdminSuggestedListViewsForSidebarFresh}};const h=(0,n.Ay)(v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.adminConfiguredObjects});h.meta={name:"createSelector",key:"createSelectorgetAdminConfiguredObjects",description:v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.adminConfiguredObjects}};const d=(0,n.Ay)(v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.selectedExplorerRowListViewId});d.meta={name:"createSelector",key:"createSelectorgetSelectedExplorerRowListViewId",description:v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.selectedExplorerRowListViewId}};const f=(0,n.Ay)(v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.selectedExplorerRowListViewType});f.meta={name:"createSelector",key:"createSelectorgetSelectedExplorerRowListViewType",description:v=>{var u;return(u=o(v))===null||u===void 0?void 0:u.selectedExplorerRowListViewType}}},8149648525:(N,y,e)=>{"use strict";e.d(y,{b:()=>l});var t=e(5104468117),n=e(8956161330),o=e(1190344069),s=e(6304789565),c=e(7146087658),r=e(5688490863),a=e(1670025826),i=e(146149780);const l=(0,s.Ay)("Search list views by query",(m,_,h)=>{let{isFullSearch:d=!1,objectType:f,query:v,salesforceOrgId:u}=h;const g=_(),p=d?t.Iq:t.TD;let A=[];const C=!(0,n.hx)(g)&&(0,o.ZK)(g);return f?A=[f]:C||(A=(0,r.qj)(g).map(I=>I.sobject_api_name)),m((0,a.R)({limit:p,listviewObjectScopes:A,query:v,sobjects:[{sobjectApiName:"ListView",fields:["Name","LastViewedDate","SobjectType"]}],salesforceOrgId:u,reason:"list_view_search",skipSimpleArraySerializationInGetFormData:C})).then(T=>{let{records:I}=T;const M=I.map(O=>({id:O.value,label:O.label,objectType:O.extras.SobjectType,salesforceOrgId:u})),D=m((0,i.x)({listViews:M,salesforceOrgId:u}));return d&&m((0,c.hA)(D)),M})});l.meta={name:"createThunk",key:"createThunksearchListViews",description:"Search list views by query"}},146149780:(N,y,e)=>{"use strict";e.d(y,{x:()=>o});var t=e(6304789565),n=e(7146087658);const o=(0,t.Ay)("Upsert list views fetched by search or other API",(s,c,r)=>{let{listViews:a,salesforceOrgId:i}=r;const l=[],m={},_={};return a.forEach(h=>{const d=h.id,f=h.objectType;m[d]={id:d,label:h.label,lastViewedDate:h.lastViewedDate,objectType:f,salesforceOrgId:i,url:h.url},_[f]=_[f]||[],_[f].push(d),l.push(d)}),s((0,n.TO)(m)),s((0,n.KT)({salesforceOrgId:i,listViewObjMap:_})),l});o.meta={name:"createThunk",key:"createThunkupsertFetchedListViews",description:"Upsert list views fetched by search or other API"}},2413251042:(N,y,e)=>{"use strict";e.d(y,{KY:()=>c,p$:()=>n,rB:()=>o,x8:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Set whether inverted sidebar was enabled before starting BBM");n.meta={name:"createAction",key:"createActionsetInvertedSidebarInternal",description:"Set whether inverted sidebar was enabled before starting BBM"};const o=(0,t.Ay)("Set whether peeks were enabled on mouse enter before starting BBM");o.meta={name:"createAction",key:"createActionsetPeeksEnabledOnMouseEnterInternal",description:"Set whether peeks were enabled on mouse enter before starting BBM"};const s=(0,t.Ay)("Set what zoom value was set in the client before starting BBM");s.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client before starting BBM"};const c=(0,t.Ay)("Set whether sidebar was visible before starting BBM");c.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Set whether sidebar was visible before starting BBM"}},6303140164:(N,y,e)=>{"use strict";e.d(y,{UY:()=>o,Vb:()=>t,_J:()=>n,xN:()=>s});const t="slack-inverted-sidebar-initial-setting",n="slack-peeks-enabled-on-mouse-enter-initial-setting",o="slack-zoom-initial-setting",s="slack-is-sidebar-visible-initial-setting"},2634578631:(N,y,e)=>{"use strict";e.d(y,{z:()=>n});var t=e(2140362605);const n=(0,t.Ay)("NOOP");n.meta={name:"createAction",key:"createActionnoopAction",description:"NOOP"}},4686544804:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(2028988448),n=e(9139930183),o=e(2634578631),s=e(6533394955),c=e(5881327370);const r=0,i=(0,n.Ay)({},r,{storeKey:"noop",persistenceEnabled:!1}).on(o.z,l=>l+1);(0,t.ul)("dispatchNoop",()=>{(0,s.Qw)((0,c.oI)(),(0,o.z)())})},4741050461:(N,y,e)=>{"use strict";e.d(y,{X:()=>s});var t=e(7178970623),n=e(6304789565),o=e(1091269426);const s=(0,n.Ay)("Fetch a user's onboarding data via API",async function(c,r){let{includeTeamData:a,reason:i=""}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=await c((0,t.l)({include_team_data:a,reason:i})),m={...l.user_data,...l.team_data||{}};return c((0,o.Uv)(m)),m});s.meta={name:"createThunk",key:"createThunkfetchAndSetOnboardingData",description:"Fetch a user's onboarding data via API"}},4309043566:(N,y,e)=>{"use strict";e.d(y,{l:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Relay observed overlays state from OverlaysContextProvider to Redux");n.meta={name:"createAction",key:"createActionrelayOverlays",description:"Relay observed overlays state from OverlaysContextProvider to Redux"}},3180420025:(N,y,e)=>{"use strict";e.d(y,{y:()=>r});var t=e(2384831516),n=e(4309043566),o=e(9392104102);const s=o.t0,c={persistenceEnabled:!1,storeKey:"overlays"},r=(0,t.vy)({},s,c).on(n.l,(a,i)=>i)},983004675:(N,y,e)=>{"use strict";e.d(y,{OI:()=>a,cg:()=>o,kK:()=>n,ot:()=>r,qH:()=>c,us:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Sets the current loading state for a channel");n.meta={name:"createAction",key:"createActionsetLoadingState",description:"Sets the current loading state for a channel"};const o=(0,t.Ay)("Adds pinned item identifiers for files and messages to list of pinned items");o.meta={name:"createAction",key:"createActionaddPinnedItems",description:"Adds pinned item identifiers for files and messages to list of pinned items"};const s=(0,t.Ay)("Remove an item from the pinned items list for a channel");s.meta={name:"createAction",key:"createActionremovePinnedItem",description:"Remove an item from the pinned items list for a channel"};const c=(0,t.Ay)("Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)");c.meta={name:"createAction",key:"createActionprependPinnedItem",description:"Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)"};const r=(0,t.Ay)("Clears the existing pinned items for a channel and sets the loading state");r.meta={name:"createAction",key:"createActionclearPinnedItems",description:"Clears the existing pinned items for a channel and sets the loading state"};const a=(0,t.Ay)("Sets the scrollTop value of the pins popover so that it can be opened to the same spot again");a.meta={name:"createAction",key:"createActionsetPopoverScrollTop",description:"Sets the scrollTop value of the pins popover so that it can be opened to the same spot again"}},4352409775:(N,y,e)=>{"use strict";e.d(y,{G:()=>a});var t=e(3398586081),n=e(1545824888),o=e(8352634987),s=e(6533394955),c=e(983004675),r=e(6701536972);const a=(0,t.A)(()=>new o.Ay({storeKey:"pins",fetch:(i,l)=>n.S.map(l,m=>((0,s.Qw)(i,(0,c.ot)({channelId:m})),(0,s.Qw)(i,(0,r.b)({channelId:m})))),isEnabled:()=>!0,metricsName:"pins"}))},6247263305:(N,y,e)=>{"use strict";e.d(y,{R:()=>t,b:()=>n});const t={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},n={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"}},7158699554:(N,y,e)=>{"use strict";e.d(y,{$U:()=>m,A_:()=>_,Wt:()=>h,YG:()=>f,c7:()=>d,jR:()=>l});var t=e(2384831516),n=e(8847766420),o=e(7606781622),s=e(6457401668),c=e(937317117),r=e(4352409775),a=e(6247263305),i=e(4813703725);const l=(0,t.Mz)(function(u,g){let{refetchIfNeeded:p=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(p){const A=(0,n.ZT)(u);(0,r.G)().maybeRefetch(A,g)}return u&&u.pins&&u.pins.pinsByChannel[g]});l.meta={name:"createSelector",key:"createSelectorgetPinnedItemsForChannel",description:function(u,g){let{refetchIfNeeded:p=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(p){const A=(0,n.ZT)(u);(0,r.G)().maybeRefetch(A,g)}return u&&u.pins&&u.pins.pinsByChannel[g]}};const m=(0,t.Mz)((u,g)=>{var p,A;return u&&u.pins&&u.pins.pinsByChannel[g]?(p=u.pins.pinsByChannel)===null||p===void 0||(A=p[g])===null||A===void 0?void 0:A.length:0});m.meta={name:"createSelector",key:"createSelectorgetPinCountForChannel",description:(u,g)=>{var p,A;return u&&u.pins&&u.pins.pinsByChannel[g]?(p=u.pins.pinsByChannel)===null||p===void 0||(A=p[g])===null||A===void 0?void 0:A.length:0}};const _=(0,t.Mz)((u,g)=>u&&u.pins&&u.pins.loadingStateByChannel[g]);_.meta={name:"createSelector",key:"createSelectorgetLoadingState",description:(u,g)=>u&&u.pins&&u.pins.loadingStateByChannel[g]};const h=(0,t.Mz)((u,g)=>{let{channelId:p,ts:A}=g;const C=!1,T=(0,o.Ld)(u,p,A,C);if(!T)return!1;if((0,s.m)(T)&&T.comment){const I=(0,c.yd)(u,T.file,T.comment.id);return I?!!(I.pinned_to&&I.pinned_to.includes(p)):!1}return!!(T.pinned_to&&T.pinned_to.includes(p))});h.meta={name:"createSelector",key:"createSelectorisMessagePinned",description:(u,g)=>{let{channelId:p,ts:A}=g;const C=!1,T=(0,o.Ld)(u,p,A,C);if(!T)return!1;if((0,s.m)(T)&&T.comment){const I=(0,c.yd)(u,T.file,T.comment.id);return I?!!(I.pinned_to&&I.pinned_to.includes(p)):!1}return!!(T.pinned_to&&T.pinned_to.includes(p))}};const d=E((u,g)=>{switch(g.type){case a.R.MESSAGE:return{...(0,o.Ld)(u,g.channel,g.ts),type:a.R.MESSAGE};case a.R.FILE:return{...(0,c.Lp)(u,g.id),type:a.R.FILE};case a.R.FILE_COMMENT:return{...(0,c.yd)(u,g.fileId,g.id),fileId:g.fileId,type:a.R.FILE_COMMENT};default:return{}}},"getItemWithPinIdentifier"),f=(0,i.eI)((u,g)=>{const p=l(u,g);return p?p.map(A=>d(u,A)):[]}),v=(0,t.Mz)(u=>u&&u.pins&&u.pins.popoverScrollTop);v.meta={name:"createSelector",key:"createSelectorgetPopoverScrollTop",description:u=>u&&u.pins&&u.pins.popoverScrollTop}},6701536972:(N,y,e)=>{"use strict";e.d(y,{b:()=>f});var t=e(337319621),n=e(4811981249),o=e(474652310),s=e(6304789565),c=e(8847766420),r=e(6403218297),a=e(4480770083),i=e(10127715),l=e(6247263305),m=e(983004675),_=e(1581380967),h=e(4352409775),d=e(5792544570);const f=(0,s.Ay)("Fetch pinned items list for channel",(v,u,g)=>{const p=g.channelId;return v((0,m.kK)({loadingState:l.b.LOADING,channelId:p})),v((0,n.xs)({reason:"fetchPinsList",...g})).then(function(){let{items:A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const C=A.filter(M=>M.type.includes(l.R.FILE)).map(M=>{if(M.type===l.R.FILE_COMMENT){const{comment:D,file:O,...S}=M,R=(0,r.A)(D,O);return{...S,file:R}}return M}),T=A.filter(M=>M.type===l.R.MESSAGE);if(C.length){const M=C.filter(O=>O.type!==l.R.FILE_COMMENT),D=C.filter(O=>O.type===l.R.FILE_COMMENT);v((0,o.b)({files:M.map(O=>O.file)})),v((0,o.b)({files:D.map(O=>O.file)}))}if(T.length){const M=T.map(O=>{let{message:S}=O;return S}),D=v((0,a.A)({imsgs:M,channelId:p}));v((0,i.Kc)(D))}v((0,_.K)({channelId:p,count:A.length})),v((0,m.cg)({items:A.map(d.B),channelId:p})),v((0,m.kK)({loadingState:l.b.LOADED,channelId:p}));const I=(0,c.ZT)(u());(0,h.G)().markObjectsAsFresh(I,[p])}).catch(A=>{throw v((0,m.kK)({loadingState:l.b.NOT_LOADED,channelId:p})),(0,t.Ay)({getState:u}).error(`Error in fetchPinsList: ${JSON.stringify(A)}`),A})});f.meta={name:"createThunk",key:"createThunkfetchPinsList",description:"Fetch pinned items list for channel"}},1581380967:(N,y,e)=>{"use strict";e.d(y,{K:()=>a});var t=e(6304789565),n=e(9606603587),o=e(9101533895),s=e(337319621),c=e(6247263305),r=e(7158699554);const a=(0,t.Ay)("update a pin count for a channel",(i,l,m)=>{let{channelId:_,count:h,forceUpdate:d=!1}=m;const f=l(),v={...(0,o.OL)(f,_)},u=(0,r.jR)(f,_,{refetchIfNeeded:!1}),g=(0,r.A_)(f,_),p=!d&&g===c.b.LOADED?u==null?void 0:u.length:h;if(p===v.pinned_items_count)return;(0,s.Ay)({state:f}).info("PINS",`Pins count updated for channel ${_}: ${p}`);const A={...v,pinned_items_count:p};i((0,n.B)({channel:A}))});a.meta={name:"createThunk",key:"createThunkupdatePinCount",description:"update a pin count for a channel"}},5792544570:(N,y,e)=>{"use strict";e.d(y,{B:()=>n});var t=e(6247263305);const n=E(o=>{switch(o.type){case t.R.MESSAGE:var s;return{type:o.type,channel:o.channel,ts:(s=o.message)===null||s===void 0?void 0:s.ts};case t.R.FILE:var c,r;return{type:o.type,id:o.file?o.file.id:(c=o.files)===null||c===void 0||(r=c[0])===null||r===void 0?void 0:r.id};case t.R.FILE_COMMENT:var a;return{type:o.type,id:o.comment.id,fileId:(a=o.file)===null||a===void 0?void 0:a.id};default:return null}},"formatPinFromAPI")},7665060966:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3009309149),n=e(2047021170);const o=(0,t.Ay)(c=>(0,n.ty)(c,"messages_theme")==="dense"?"dense":"light");o.meta={name:"createSelector",key:"createSelectorgetUserMessagesTheme",description:c=>(0,n.ty)(c,"messages_theme")==="dense"?"dense":"light"};const s=o},1317368584:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3009309149),n=e(9599231336),o=e(2047021170),s=e(7665060966);const c=(0,t.Ay)(a=>!(0,n.P)(a)&&!!(0,o.ty)(a,"jumbomoji")&&(0,s.A)(a)!=="dense");c.meta={name:"createSelector",key:"createSelectorshouldDisplayJumbomoji",description:a=>!(0,n.P)(a)&&!!(0,o.ty)(a,"jumbomoji")&&(0,s.A)(a)!=="dense"};const r=c},7520484642:(N,y,e)=>{"use strict";e.d(y,{$n:()=>f,DS:()=>n,Eu:()=>l,JB:()=>d,Lk:()=>v,QU:()=>g,UR:()=>c,Ye:()=>m,aF:()=>u,cl:()=>a,dz:()=>s,gJ:()=>_,mC:()=>r,mo:()=>i,wt:()=>o,zG:()=>h});var t=e(2140362605);const n=(0,t.Ay)("Switch currently active plan");n.meta={name:"createAction",key:"createActionswitchPlans",description:"Switch currently active plan"};const o=(0,t.Ay)("Successfully fetched available plans");o.meta={name:"createAction",key:"createActionplansFetchSuccess",description:"Successfully fetched available plans"};const s=(0,t.Ay)("Successfully fetched cost for current plan");s.meta={name:"createAction",key:"createActioncostFetchSuccess",description:"Successfully fetched cost for current plan"};const c=(0,t.Ay)("Successfully fetched cost for current addon");c.meta={name:"createAction",key:"createActionaddonsCostFetchSuccess",description:"Successfully fetched cost for current addon"};const r=(0,t.Ay)("Received an API error");r.meta={name:"createAction",key:"createActionsetErrorState",description:"Received an API error"};const a=(0,t.Ay)("Plans and cost data loaded");a.meta={name:"createAction",key:"createActionplansAndCostDataLoaded",description:"Plans and cost data loaded"};const i=(0,t.Ay)("Mark plans and cost data as not loaded");i.meta={name:"createAction",key:"createActionmarkPlansAndCostDataAsNotLoaded",description:"Mark plans and cost data as not loaded"};const l=(0,t.Ay)("Set Plan Level");l.meta={name:"createAction",key:"createActionsetPlanLevel",description:"Set Plan Level"};const m=(0,t.Ay)("Set Payment Method");m.meta={name:"createAction",key:"createActionsetPaymentMethod",description:"Set Payment Method"};const _=(0,t.Ay)("Update Is Plans Data Loading");_.meta={name:"createAction",key:"createActionupdateIsPlansDataLoading",description:"Update Is Plans Data Loading"};const h=(0,t.Ay)("Update Is Cost Data Loading");h.meta={name:"createAction",key:"createActionupdateIsCostDataLoading",description:"Update Is Cost Data Loading"};const d=(0,t.Ay)("Load Plans Page Boot Data Success");d.meta={name:"createAction",key:"createActionloadPlansPageBootDataSuccess",description:"Load Plans Page Boot Data Success"};const f=(0,t.Ay)("Mark plans page boot data as not loaded");f.meta={name:"createAction",key:"createActionmarkPlansPageBootDataAsNotLoaded",description:"Mark plans page boot data as not loaded"};const v=(0,t.Ay)("Mark plan payment status data as not loaded");v.meta={name:"createAction",key:"createActionmarkPlanStatusDataAsNotLoaded",description:"Mark plan payment status data as not loaded"};const u=(0,t.Ay)("Set when toggling between base plan and Slack AI on plans page");u.meta={name:"createAction",key:"createActionsetIsSlackAiToggleSelected",description:"Set when toggling between base plan and Slack AI on plans page"};const g=(0,t.Ay)("Team plan status loaded");g.meta={name:"createAction",key:"createActionteamPlanStatusFetchSuccess",description:"Team plan status loaded"}},3810478625:(N,y,e)=>{"use strict";e.d(y,{g:()=>o});var t=e(4761125736),n=e(3009309149);const o=(0,n.Ay)(s=>(0,t._Z)(s,"pnp_e2e",!1)==="on");o.meta={name:"createSelector",key:"createSelectorpnpE2eIsOn",description:s=>(0,t._Z)(s,"pnp_e2e",!1)==="on"}},4005238080:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(6304789565),n=e(165535451),o=e(7520484642);const s=(0,t.Ay)("Load Plans Page Boot Data",r=>(r((0,o.$n)()),r((0,n.ib)()).then(a=>{let i=!0;return a!=null&&a.team_current_product&&a.team_current_product!==""&&(i=!1),r((0,o.aF)({isSelected:i})),r((0,o.JB)(a))})));s.meta={name:"createThunk",key:"createThunkloadPlansPageBootData",description:"Load Plans Page Boot Data"};const c=s},962959561:(N,y,e)=>{"use strict";e.d(y,{L9:()=>g,aJ:()=>v,dF:()=>h,jv:()=>u,s:()=>A});var t=e(9323322135),n=e(6839188756),o=e(6323355797),s=e(3009309149),c=e(4761125736),r=e(1960898919),a=e(7268021173),i=e(622793253),l=e(9360742940),m=e(1670069836);const _=[{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.MessageLimit},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.Vhq},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.Canvas},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.SharedChannels},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.List},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.WorkflowBuilder},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.SlackAI},{promoType:o.ZO.GlobalEntrypointTrial},{promoType:o.ZO.SolutionsGalleryPromo,promoSubtype:o.zG.SolutionsGalleryInProduct},{promoType:o.ZO.LandingPageTrial},{promoType:o.ZO.TopOfFunnelTrial}],h=(0,s.Ay)(C=>(0,l.Ii)(C)||(0,i.TM)(C)||(0,c._Z)(C,"slack_trials_tof_client")==="on");h.meta={name:"createSelector",key:"createSelectorisEligibleForAutoChargeTrialExperiment",description:C=>(0,l.Ii)(C)||(0,i.TM)(C)||(0,c._Z)(C,"slack_trials_tof_client")==="on"};const d=(0,s.Ay)(C=>_.some(T=>{let{promoType:I,promoSubtype:M}=T;return(0,a.G)(C,I,M)}));d.meta={name:"createSelector",key:"createSelectorisCurrentTrialEligiblePromoCampaign",description:C=>_.some(T=>{let{promoType:I,promoSubtype:M}=T;return(0,a.G)(C,I,M)})};const f=(0,s.Ay)(C=>_.some(T=>{let{promoType:I,promoSubtype:M}=T;return(0,a.hq)(C,I,M)}));f.meta={name:"createSelector",key:"createSelectorisEligiblePromoCampaign",description:C=>_.some(T=>{let{promoType:I,promoSubtype:M}=T;return(0,a.hq)(C,I,M)})};const v=E(C=>{let{campaignType:T,campaignSubType:I}=C;return T?_.some(M=>{let{promoType:D,promoSubtype:O}=M;return D===T&&O===I}):!1},"checkIfEligiblePromoCampaign"),u=(0,s.Ay)(C=>{const T=(0,m.H7)(C);return!!(0,r.ax)(C,"has_started_feature_auto_charge_trial")&&!(0,n.tc)(T)&&(0,a.tV)(C)&&d(C)&&h(C)});u.meta={name:"createSelector",key:"createSelectorisCurrentlyOnAutoChargeFeatureTrial",description:C=>{const T=(0,m.H7)(C);return!!(0,r.ax)(C,"has_started_feature_auto_charge_trial")&&!(0,n.tc)(T)&&(0,a.tV)(C)&&d(C)&&h(C)}};const g=(0,s.Ay)(function(C){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const M=(0,m.H7)(C);return!(0,t.Z9F)()&&(0,n.tc)(M)&&!(0,a.iH)(C)&&(I||f(C))&&(T||(0,l.Ii)(C))});g.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeFeatureTrial",description:function(C){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const M=(0,m.H7)(C);return!(0,t.Z9F)()&&(0,n.tc)(M)&&!(0,a.iH)(C)&&(I||f(C))&&(T||(0,l.Ii)(C))}};const p=(0,s.Ay)(C=>g(C)&&(0,o.jo)());p.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeAndCheckoutRoute",description:C=>g(C)&&(0,o.jo)()};const A=(0,s.Ay)(C=>(0,c._Z)(C,"pnp_deferred")==="on"&&u(C));A.meta={name:"createSelector",key:"createSelectorisPnpAutoChargeTrial",description:C=>(0,c._Z)(C,"pnp_deferred")==="on"&&u(C)}},5512605238:(N,y,e)=>{"use strict";e.d(y,{F:()=>n});var t=e(3009309149);const n=(0,t.Ay)(o=>o&&o.promo&&o.promo.showTrialStartedCelebration);n.meta={name:"createSelector",key:"createSelectorgetShowTrialStartedCelebration",description:o=>o&&o.promo&&o.promo.showTrialStartedCelebration}},8815837079:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(5052102625),n=e(6839188756),o=e(6304789565),s=e(1939990292),c=e(7268021173),r=e(1670069836);const a=(0,o.Ay)("Fetch team trial info, depending on if we have fetched/are fetching and team plan type",(l,m,_)=>{let{reason:h,forceFetch:d}=_;const f=m();if(!!(0,c.Wm)(f)&&!d||(0,c.ek)(f))return Promise.resolve();const g=(0,r.H7)(f);return!d&&(!(0,n.qR)(g)||(0,n.r7)(g))?Promise.resolve():(l((0,s.uR)({isFetching:!0,data:void 0})),l((0,s.Cg)({isFetching:!0,data:void 0})),l((0,t.p)({reason:h})).then(p=>{l((0,s.uR)({isFetching:!1,data:p.trialInfo})),l((0,s.Cg)({isFetching:!1,data:p.featureTrialInfo}))}))});a.meta={name:"createThunk",key:"createThunkfetchTrialInfo",description:"Fetch team trial info, depending on if we have fetched/are fetching and team plan type"};const i=a},7859253282:(N,y,e)=>{"use strict";e.d(y,{r:()=>W});var t=e(3134334389),n=e(5165209241),o=e(5270990260),s=e(6122756707),c=e(6845144532),r=e(6471059816),a=e(8983392585),i=e(4191414376),l=e(3777567130),m=e(3789530276),_=e(9650781710),h=e(1471093810),d=e(7895785073),f=e(7109376014),v=e(2978178368),u=e(8668318456),g=e(9702400417),p=e(6323355797),A=e(9640814771),C=e(5367630355),T=e(9506008067),I=e(9003400431),M=e(3554387543),D=e(7182156071),O=e(1670069836);const S=new r.Ay("trials"),R={eventId:u.EventId.UPGRDEXP_TRIAL,uiComponentName:u.UiComponentName.PRO_TRIAL_ENTRY_POINT_MODAL},U={elementName:"upgrade_now",onClick:{enableClogAction:!0}},P={elementName:"compare_plans",onClick:{enableClogAction:!0}},L=E(K=>{let{isEligibleForTrial:H,canUserPurchase:z,entryPoint:Q,promoType:q,promoSubtype:$}=K;const le=(0,T.d4)(D.k),te=(0,T.d4)(O.H7),ce=(0,s.wA)(),me=(0,a.N)(),_e=(0,T.d4)(ke=>(0,M.UO)(ke,p.i6.standard.name,p.ck.monthly)),{currency:Ae,primaryBaseCostPerMonth:ye,primaryDiscountCostPerMonth:oe}=(0,d.A)(p.i6.standard.name),ee=(0,t.useMemo)(()=>{if(!H&&z)return{text:S.t("Upgrade Now"),url:(0,p.Qn)({team:te,productId:_e,excludeDomain:!0,entryPoint:Q})};if(H&&z){const ke=(0,p.tc)({team:te,productId:_e,promoType:q,promoSubtype:$,entryPoint:Q});return{text:S.t("Try Pro for Free"),url:ke}}},[z,Q,H,_e,$,q,te]),V=(0,T.d4)(ke=>(0,p.m6)(ke,{action:"checkout",productLevel:p.i6.plus.id,entryPoint:"pro_trials_entry_point_compare_plans_modal"})),w=(0,t.useCallback)(()=>{if(le){ce((0,C.A)({prices:me,entryPoint:"pro_trials_entry_point_compare_plans_modal",planLevelToHighlight:p.F2.STD,planLevelsToDisplay:{free:!0,pro:!0,plus:!0},title:le?S.t("Compare Pro and Business+ Plans"):"",subtitle:null,actionsByPlanLevel:ee?{free:null,pro:{buttonText:ee.text,href:ee.url},plus:{buttonText:le?S.t("Upgrade Now"):"",href:V}}:"default",onClickBackButton:()=>{if(!q){ce((0,I.O)());return}ce((0,A.A)({promoType:q,promoSubtype:$,entryPoint:"pro_trials_entry_point_compare_plans_modal"}))}}));return}ce((0,f.A)({canUserPurchase:z,trialEligible:H}))},[le,ce,z,H,me,ee,V,q,$]),Y=(0,_.d)(),G=(0,m.s)(),Z=(0,l.D)(),se=(0,i.a)(),ae=(0,c.F)().getLocaleForLastViewedTeam(),re=(0,t.useMemo)(()=>[{key:"slack_ai_message_summaries",imgSrc:Y.assets[ae].png,lottieSrc:Y.assets[ae].lottie,title:S.t("Get up to speed at lightning speed"),subtitle:S.t("With unlimited message history and AI channel summaries."),theme:"aubergine"},{key:"external_partners",imgSrc:G.assets[ae].png,lottieSrc:G.assets[ae].lottie,title:S.t("Work with external partners"),subtitle:S.t("Create channels and direct message with external people."),theme:"cilantro"},{key:"unlimited_app_integrations",imgSrc:Z.assets[ae].png,lottieSrc:Z.assets[ae].lottie,title:S.t("Make every integration seamless"),subtitle:S.t("Get unlimited apps so your team never misses a beat."),theme:"lagoon"},{key:"slack_ai_huddles_notes",imgSrc:se.assets[ae].png,lottieSrc:se.assets[ae].lottie,title:S.t("Group meetings with instant notes"),subtitle:S.t("Hop on group calls in channel and leave the note-taking to AI."),theme:"sunflower"}],[se.assets,Z.assets,ae,G.assets,Y.assets]),pe=S.t("Compare Plans"),de=(0,t.useMemo)(()=>({text:pe,onClick:w}),[pe,w]),ie=t.createElement(v.d,{plan:p.i6.standard.name},le?S.t("per person per month"):""),he=(0,g.A)(oe||ye,Ae);let ve=le?S.rt("Explore the premium features of our most popular plan for free with a {featureTrialLength} day trial. After that, you\u2019ll be charged {formattedPrice} {perPersonPerMonth}.",{featureTrialLength:p.ew.PAID_FEATURE_TRIAL,formattedPrice:he,perPersonPerMonth:ie}):"";(!H||!z)&&(ve=le?S.rt("Get the premium features of our most popular plan for {formattedPrice} {perPersonPerMonth}",{formattedPrice:he,perPersonPerMonth:ie}):"");let ge=le?S.rt("Try Pro for {featureTrialLength} days",{featureTrialLength:p.ew.PAID_FEATURE_TRIAL}):"";return(!H||!z)&&(ge=S.rt("Do more with Slack Pro")),t.createElement(h.m,{autoClogProps:R,primaryCTAAutoClogProps:U,secondaryCTAAutoClogProps:P,title:ge,subtitle:ve,secondaryCTA:de,primaryCTA:ee,carouselFeatures:re,entryPoint:Q})},"ProTrialsEntryPointModal");L.displayName="ProTrialsEntryPointModal";var F=e(677609895),x=e(6304789565),b=e(2375333597),k=e(4005238080),B=e(1384076438);const W=(0,x.Ay)("Open Auto Charge Trial entry modal",async(K,H,z)=>{let{promoType:Q,promoSubtype:q,entryPoint:$}=z;const le=(0,D.k)(H()),te=(0,M.Pr)(H()),{isEligible:ce}=await K((0,B.A)({campaignType:Q,campaignSubType:q,reason:"auto_charge_trial_entry"}));if(le){const me=(0,F.X)(H());return te||(K((0,b.q)({element:t.createElement(n.A,{className:"p-trial_entry_point_modal__loading_modal"})})),await K((0,k.A)())),K((0,b.q)({element:t.createElement(L,{isEligibleForTrial:ce,canUserPurchase:me,entryPoint:$,promoType:Q,promoSubtype:q})}))}return K((0,b.q)({element:t.createElement(o.J,{entryPoint:$||"auto_charge_trial_entry_point",isEligibleForTrial:ce,promoType:Q,promoSubtype:q})}))});W.meta={name:"createThunk",key:"createThunkopenAutoChargeTrialEntryModal",description:"Open Auto Charge Trial entry modal"}},398781533:(N,y,e)=>{"use strict";e.d(y,{Q:()=>l});var t=e(8668318456),n=e(56548687),o=e(6304789565),s=e(8847766420),c=e(4761125736),r=e(962959561),a=e(1384076438),i=e(9360742940);const l=(0,o.Ay)("Maybe try logging exposure after checking eligibility",async(m,_,h)=>{if(!(0,r.aJ)({campaignType:h==null?void 0:h.campaignType,campaignSubType:h==null?void 0:h.campaignSubType}))return;const{isEligible:d}=await m((0,a.A)(h)),f=_(),v=(0,s.ZT)(f);if(!d&&!(0,r.L9)(f,!0))return;const u=(0,n.e)({state:f}),g=(0,c.KK)(f,"paid_feature_trial_auto_charge");u.track(t.EventId.NEWXP_TEAM_CREATE,{contents:{ui_context:{step_variant:g==null?void 0:g.group,ui_step:h.entryPoint,ui_component_variant:v,ui_properties:{element_name:"autocharge_exposure_clog",element_value:`${h==null?void 0:h.campaignType}-${h==null?void 0:h.campaignSubType}`},action:t.UiAction.IMPRESSION}},assignment:g,exposureEntryPoint:h.entryPoint,campaignType:h==null?void 0:h.campaignType,campaignSubType:h==null?void 0:h.campaignSubType,team_id:v}),m((0,i.Fg)())});l.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeMaybeLogExposureAndCheck",description:"Maybe try logging exposure after checking eligibility"}},6822097892:(N,y,e)=>{"use strict";e.d(y,{A:()=>_});var t=e(7307560139),n=e(2346425530),o=e(9629572172),s=e(3193155968),c=e(6078549397),r=e(5033667e3),a=e(7429662208),i=e(9108490430),l=e(6304789565);const m=(0,l.Ay)("Open a document on a specific version",async(h,d,f,v)=>{const{fileId:u,windowId:g,version:p,isFromCloseActivityHistory:A,replaceHistoryState:C}=f,T=d(),{versionId:I,sequence:M}={...p};if(!u)return;const{isMainWindow:D,closeView:O,getViewSet:S}=v(o.U),R=(0,a.e6)(T),U=(0,n.xu)(T,g),{versionId:P,sequence:L}={...U},F=A?void 0:I||P,x=A?void 0:M||L;if(A||h((0,t.fw)({windowId:g,versionId:I||P})),C){const b=D?S(T):(0,a.hZ)(T,{windowId:g});if(b){const k=b[s.mq.Primary];if(k){const B={...b,[s.mq.Primary]:{...b[s.mq.Primary],params:{...k.params,versionId:F,sequence:x}}};h(D?(0,r.A)({windowId:s.N2,tab:R,viewSet:B}):(0,r.A)({childWindowId:g.toString(),viewSet:B}))}}}else{const b={id:(0,c.Lo)({id:u}),versionId:F,sequence:x,preserveExistingSecondaryView:!A};h(D?(0,i.IZ)({windowId:s.N2,tab:R,container:s.mq.Primary,params:b}):(0,i.IZ)({childWindowId:g.toString(),container:s.mq.Primary,params:b})),A&&O(s.mq.Secondary)}A&&h((0,t.NA)({windowId:g}))});m.meta={name:"createThunk",key:"createThunkopenDocVersion",description:"Open a document on a specific version"};const _=m},7115106069:(N,y,e)=>{"use strict";e.d(y,{Bi:()=>o,d0:()=>c,oj:()=>s});var t=e(3009309149);const n=(0,t.Ay)(r=>r==null?void 0:r.quipDocEmbeds);n.meta={name:"createSelector",key:"createSelectorgetQuipDocEmbedsStoreState",description:r=>r==null?void 0:r.quipDocEmbeds};const o=(0,t.Ay)(r=>{const a=n(r);return a&&Object.keys(a).length>0});o.meta={name:"createSelector",key:"createSelectorisSpaceOpen",description:r=>{const a=n(r);return a&&Object.keys(a).length>0}};const s=(0,t.Ay)(r=>{const a=n(r);return Object.keys(a)});s.meta={name:"createSelector",key:"createSelectorgetOpenSpaces",description:r=>{const a=n(r);return Object.keys(a)}};const c=(0,t.Ay)((r,a)=>{const i=n(r);var l;return((l=i[a])!==null&&l!==void 0?l:0)>0});c.meta={name:"createSelector",key:"createSelectorisSpaceOpenForThreadId",description:(r,a)=>{const i=n(r);var l;return((l=i[a])!==null&&l!==void 0?l:0)>0}}},4368281601:(N,y,e)=>{"use strict";e.d(y,{Kt:()=>a,al:()=>c,jw:()=>s,k:()=>n,uo:()=>o,z5:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Store/replace client.counts for this channel");n.meta={name:"createAction",key:"createActionsetQuipUnreadCount",description:"Store/replace client.counts for this channel"};const o=(0,t.Ay)("increment mention count for the channel");o.meta={name:"createAction",key:"createActionincQuipUnreadCountForChannel",description:"increment mention count for the channel"};const s=(0,t.Ay)("Add canvases to hide on undo");s.meta={name:"createAction",key:"createActionsetCanvasesToHideOnClearAll",description:"Add canvases to hide on undo"};const c=(0,t.Ay)("clear new mention flag for the channel");c.meta={name:"createAction",key:"createActionclearNewMentionFlagForChannel",description:"clear new mention flag for the channel"};const r=(0,t.Ay)("Set the list of enterprise file channels (canvases) to exclude from total counts");r.meta={name:"createAction",key:"createActionsetCanvasesToSuppress",description:"Set the list of enterprise file channels (canvases) to exclude from total counts"};const a=(0,t.Ay)("Set the last seen timestamp for a badged canvas animation");a.meta={name:"createAction",key:"createActionsetLastSeenCanvasAnimationTimestamp",description:"Set the last seen timestamp for a badged canvas animation"}},9670560261:(N,y,e)=>{"use strict";e.d(y,{N:()=>i});var t=e(6471059816),n=e(3288567831),o=e(6954805277),s=e(413105706),c=e(674932420),r=e(2332535469);const a=new t.Ay("file"),i=E((l,m,_)=>{var h;if(Array.isArray(_))return _.map(g=>i(l,m,g));const d=(0,c.A)(l,m),f=a.rt("Created by {creator}",{creator:typeof d=="string"?d:(h=d.props)===null||h===void 0?void 0:h.children,fallbackHash:"4c7aaea2bc43e0212099114d908576f8b46f9b20",fallbackHashNs:"quip"});switch(_){case s.s.OWNER:var v;return(v=f.props)===null||v===void 0?void 0:v.children;case s.s.LAST_VIEWED:{const u=m.last_read||m.created,g=(0,o.Od)(u,{uncapitalizedRelativeDay:!0});return(0,o.rK)(u)?a.t("Last viewed {time}",{time:g}):a.t("Last viewed on {time}",{time:g})}case s.s.LAST_UPDATED:{const u=m.updated||m.created,g=(0,n.A)((0,o.YY)(u));return a.t("Updated {time}",{time:g})}case s.s.SHARED_TIMESTAMP:{const u=m.created,g=(0,o.Od)(u,{uncapitalizedRelativeDay:!0});return(0,o.rK)(u)?a.t("Shared {time}",{time:g}):a.t("Shared on {time}",{time:g})}case s.s.READ_TIME:return(0,r.O)(l,m);case s.s.CREATED_TIMESTAMP:default:{const u=m.created,g=(0,o.Od)(u,{uncapitalizedRelativeDay:!0});return(0,o.rK)(u)?a.t("Created {time}",{time:g}):a.t("Created on {time}",{time:g})}}},"getFileMetaForSyntheticView")},8096107629:(N,y,e)=>{"use strict";e.d(y,{CK:()=>W,D1:()=>S,Eh:()=>P,F3:()=>T,FB:()=>b,H9:()=>B,Mo:()=>k,S8:()=>H,Ss:()=>M,Yo:()=>R,_s:()=>F,ez:()=>D,ff:()=>K,pV:()=>f,x6:()=>L});var t=e(3037015781),n=e(8352634987),o=e(6304789565),s=e(1545824888),c=e(5811914114),r=e(6533394955),a=e(3398586081),i=e(7217613594),l=e(9692760785),m=e(2823938397),_=e(8872900367);const h="records",d=60*10;function f(z){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_.J1.RecordNotFound;return{...(0,m.WQ)(z),error:Q}}E(f,"makeNonExistentRecord");function v(z){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_.J1.UnsupportedObject,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return{...(0,m.WQ)(z),error:Q,salesforceUrl:q}}E(v,"makeUnsupportedRecord");const u=(0,o.Ay)("Fetches record details",async(z,Q,q)=>{let{record:$,layoutType:le,fallbackLayoutType:te}=q;return(0,c.f)(Q())?{record:f($,_.J1.ClientKnownRestrictedUser)}:z((0,i.H)({record:$,reason:"record-detail-conditional-fetch",layoutType:le,fallbackLayoutType:te,mode:"Edit"}))});u.meta={name:"createThunk",key:"createThunkfetchRecordDetailInternal",description:"Fetches record details"};async function g(z,Q,q,$){try{return(await(0,r.Qw)(z,u({record:Q,reason:"record-detail-conditional-fetch",layoutType:q,fallbackLayoutType:$,mode:"Edit"}))).record}catch(te){if(te.name===_.J1.UnsupportedObject){var le;return v(Q,te.name,(le=te.data)===null||le===void 0?void 0:le.salesforce_url)}return f(Q,te.name)}}E(g,"fetchRecordDetailForTeamId");function p(z,Q,q,$){return s.S.map(Q,le=>g(z,le,q,$))}E(p,"fetchRecordDetailsForTeamId");function A(z,Q,q,$){(0,r.Qw)(z,(0,l.aR)(Q.map(le=>({id:le.id,layoutType:q,fallbackLayoutType:$,record:le}))))}E(A,"upsertRecords");const C=E((z,Q,q,$)=>p(z,Q,q,$).then(le=>A(z,le,q,$)),"fetchAndUpsertKnownRecords"),T=E((z,Q,q,$)=>g(z,Q,q,$).then(le=>(A(z,[le],q,$),le)),"fetchAndUpsertKnownRecord"),I=(0,a.A)((z,Q)=>new n.Ay({storeKey:"recordDetails",maxAge:()=>d,metricsName:h,fetch:(q,$)=>C(q,$,z,Q)})),M=(0,a.A)((z,Q)=>new t.Ay({fetch:(q,$)=>p(q,$,z,Q),upsertNonExistent:(q,$)=>A(q,$,z,Q),upsertKnown:(q,$)=>{A(q,$,z,Q);const le=$.filter(m.uz).map(te=>te.id);I(z,Q).markObjectsAsFresh(q,le)}})),D=E(function(z,Q){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.p5.RecordCrud,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.Xx.Full;return I(q,$).maybeRefetch(z,Q)},"maybeRefetch"),O=E(function(z,Q){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LayoutType.RecordCrud,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:FallbackLayoutType.Full;return I(q,$).markObjectsAsFresh(z,Q)},"markObjectsAsFresh"),S=E(function(z,Q){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.p5.RecordCrud,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.Xx.Full;return I(q,$).markObjectsAsStale(z,Q)},"markObjectsAsStale"),R=E((z,Q)=>{Object.keys(_.p5).forEach((q,$)=>Object.keys(_.Xx).forEach((le,te)=>I(q,le).markObjectsAsStale(z,Q)))},"markObjectsAsStaleForAllLayoutTypes"),U=E(function(z,Q){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LayoutType.RecordCrud,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:FallbackLayoutType.Full;return I(q,$).isObjectFresh(z,Q)},"isObjectFresh");function P(z){return(0,m.mX)(z)}E(P,"isUnknownRecord");function L(z){return(0,m.lv)(z)}E(L,"isNonExistentRecord");function F(z){return(0,m.uz)(z)}E(F,"isExistentRecord");function x(z){return Q=>L(Q)&&(Q==null?void 0:Q.error)===z}E(x,"createRecordErrorHelper");const b=x(_.J1.RecordNotFound),k=x(_.J1.TokenNotFound),B=x(_.J1.InsufficientRecordAccess),W=x(_.J1.SalesHomeUserConfigNotFound),K=x(_.J1.UnsupportedObject),H=x(_.J1.ClientKnownRestrictedUser)},7045654828:(N,y,e)=>{"use strict";e.d(y,{Of:()=>m,P9:()=>d,PQ:()=>l,VY:()=>h});var t=e(3009309149),n=e(8847766420),o=e(8096107629),s=e(6790819894),c=e(5332109660),r=e(8872900367);const a=Object.freeze((0,o.pV)("INVALID_RECORD_ID"));function i(f,v){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.p5.RecordCrud,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:r.Xx.Full;var A,C,T,I;const M=(0,n.JY)(f)||"",D=v&&((A=f.recordDetails)===null||A===void 0||(C=A.records)===null||C===void 0||(T=C[v])===null||T===void 0||(I=T[g])===null||I===void 0?void 0:I[p]);return D?((0,o.ez)(M,v,g,p),D):v&&u?(0,o.Ss)(g,p).fetchObjectWithId(M,v):u?a:null}E(i,"getRecordDetailByIdSelector");const l=(0,t.Ay)(i);l.meta={name:"createSelector",key:"createSelectorgetRecordDetailById",description:i};const m=(0,s.F)(f=>f.recordDetails.records,(f,v)=>v,(f,v)=>Object.keys(f).filter(u=>(0,c.D)(u).salesforceOrgId===v));function _(f,v){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.p5.RecordCrud,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.Xx.Full;var p,A,C,T;return v?(p=f.recordDetails)===null||p===void 0||(A=p.lastRecordUpserts)===null||A===void 0||(C=A[v])===null||C===void 0||(T=C[u])===null||T===void 0?void 0:T[g]:void 0}E(_,"getLastRecordUpsertSelector");const h=(0,t.Ay)(_);h.meta={name:"createSelector",key:"createSelectorgetLastRecordUpsert",description:_};const d=(0,t.Ay)(f=>f.recordDetails.recordChannelAllowedObjects);d.meta={name:"createSelector",key:"createSelectorgetRecordChannelAllowedObjects",description:f=>f.recordDetails.recordChannelAllowedObjects}},3547923876:(N,y,e)=>{"use strict";e.d(y,{KH:()=>_,RN:()=>r});var t=e(3009309149),n=e(6304789565),o=e(6209625934),s=e(4761125736);const c=(0,t.Ay)(h=>(0,s._Z)(h,"boost_bus_plus_awareness_and_upgrades",!1)==="control");c.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsControl",description:h=>(0,s._Z)(h,"boost_bus_plus_awareness_and_upgrades",!1)==="control"};const r=(0,t.Ay)(h=>(0,s._Z)(h,"boost_bus_plus_awareness_and_upgrades",!1)==="treatment");r.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsTreatment",description:h=>(0,s._Z)(h,"boost_bus_plus_awareness_and_upgrades",!1)==="treatment"};const a=(0,t.Ay)(h=>{var d;return["treatment"].includes((d=(0,s._Z)(h,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&d!==void 0?d:"")});a.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsAnyTreatment",description:h=>{var d;return["treatment"].includes((d=(0,s._Z)(h,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&d!==void 0?d:"")}};const i=(0,t.Ay)(h=>c(h)||a(h));i.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsExposed",description:h=>c(h)||a(h)};const l=(0,t.Ay)(h=>{var d;return["aa_control","aa_treatment"].includes((d=(0,s._Z)(h,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&d!==void 0?d:"")});l.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsAAExposed",description:h=>{var d;return["aa_control","aa_treatment"].includes((d=(0,s._Z)(h,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&d!==void 0?d:"")}};const m=E(h=>{const d=(0,s.KK)(h,"boost_bus_plus_awareness_and_upgrades");d&&d.log_exposures&&(0,o.K)("boost_bus_plus_awareness_and_upgrades",d,h)},"boostBusPlusAwarenessAndUpgradesLogExposure"),_=(0,n.Ay)("Log exposure for the boost_bus_plus_awareness_and_upgrades experiment if it is exposed",(h,d)=>{const f=d();(i(f)||l(f))&&m(f)});_.meta={name:"createThunk",key:"createThunkboostBusPlusAwarenessAndUpgradesMaybeLogExposure",description:"Log exposure for the boost_bus_plus_awareness_and_upgrades experiment if it is exposed"}},9360742940:(N,y,e)=>{"use strict";e.d(y,{Fg:()=>m,Ii:()=>r});var t=e(3009309149),n=e(6304789565),o=e(6209625934),s=e(4761125736);const c=(0,t.Ay)(_=>(0,s._Z)(_,"paid_feature_trial_auto_charge",!1)==="control");c.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsControl",description:_=>(0,s._Z)(_,"paid_feature_trial_auto_charge",!1)==="control"};const r=(0,t.Ay)(_=>(0,s._Z)(_,"paid_feature_trial_auto_charge",!1)==="treatment");r.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsTreatment",description:_=>(0,s._Z)(_,"paid_feature_trial_auto_charge",!1)==="treatment"};const a=(0,t.Ay)(_=>{var h;return["treatment"].includes((h=(0,s._Z)(_,"paid_feature_trial_auto_charge",!1))!==null&&h!==void 0?h:"")});a.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsAnyTreatment",description:_=>{var h;return["treatment"].includes((h=(0,s._Z)(_,"paid_feature_trial_auto_charge",!1))!==null&&h!==void 0?h:"")}};const i=(0,t.Ay)(_=>c(_)||a(_));i.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsExposed",description:_=>c(_)||a(_)};const l=E(_=>{const h=(0,s.KK)(_,"paid_feature_trial_auto_charge");h&&h.log_exposures&&(0,o.K)("paid_feature_trial_auto_charge",h,_)},"paidFeatureTrialAutoChargeLogExposure"),m=(0,n.Ay)("Log exposure for the paid_feature_trial_auto_charge experiment if it is exposed",(_,h)=>{i(h())&&l(h())});m.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeMaybeLogExposure",description:"Log exposure for the paid_feature_trial_auto_charge experiment if it is exposed"}},7169590072:(N,y,e)=>{"use strict";e.d(y,{$J:()=>r,E5:()=>_});var t=e(3009309149),n=e(6304789565),o=e(6209625934),s=e(4761125736);const c=(0,t.Ay)(h=>(0,s._Z)(h,"pnp_go",!1)==="control");c.meta={name:"createSelector",key:"createSelectorpnpGoIsControl",description:h=>(0,s._Z)(h,"pnp_go",!1)==="control"};const r=(0,t.Ay)(h=>(0,s._Z)(h,"pnp_go",!1)==="treatment");r.meta={name:"createSelector",key:"createSelectorpnpGoIsTreatment",description:h=>(0,s._Z)(h,"pnp_go",!1)==="treatment"};const a=(0,t.Ay)(h=>{var d;return["treatment"].includes((d=(0,s._Z)(h,"pnp_go",!1))!==null&&d!==void 0?d:"")});a.meta={name:"createSelector",key:"createSelectorpnpGoIsAnyTreatment",description:h=>{var d;return["treatment"].includes((d=(0,s._Z)(h,"pnp_go",!1))!==null&&d!==void 0?d:"")}};const i=(0,t.Ay)(h=>c(h)||a(h));i.meta={name:"createSelector",key:"createSelectorpnpGoIsExposed",description:h=>c(h)||a(h)};const l=(0,t.Ay)(h=>{var d;return["aa_control","aa_treatment"].includes((d=(0,s._Z)(h,"pnp_go",!1))!==null&&d!==void 0?d:"")});l.meta={name:"createSelector",key:"createSelectorpnpGoIsAAExposed",description:h=>{var d;return["aa_control","aa_treatment"].includes((d=(0,s._Z)(h,"pnp_go",!1))!==null&&d!==void 0?d:"")}};const m=E(h=>{const d=(0,s.KK)(h,"pnp_go");d&&d.log_exposures&&(0,o.K)("pnp_go",d,h)},"pnpGoLogExposure"),_=(0,n.Ay)("Log exposure for the pnp_go experiment if it is exposed",(h,d)=>{const f=d();(i(f)||l(f))&&m(f)});_.meta={name:"createThunk",key:"createThunkpnpGoMaybeLogExposure",description:"Log exposure for the pnp_go experiment if it is exposed"}},117899263:(N,y,e)=>{"use strict";e.d(y,{_:()=>o});var t=e(3009309149),n=e(1960898919);const o=(0,t.Ay)(s=>{var c;return(c=(0,n.ax)(s,"is_new_human"))!==null&&c!==void 0?c:!1});o.meta={name:"createSelector",key:"createSelectorisNewHuman",description:s=>{var c;return(c=(0,n.ax)(s,"is_new_human"))!==null&&c!==void 0?c:!1}}},4719739515:(N,y,e)=>{"use strict";e.d(y,{i:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Adds a list of salesforce orgs to the store");n.meta={name:"createAction",key:"createActionupsertSalesforceOrgs",description:"Adds a list of salesforce orgs to the store"}},2032902007:(N,y,e)=>{"use strict";e.d(y,{Ob:()=>f,jt:()=>i,lF:()=>v,qp:()=>_});var t=e(8352634987),n=e(3037015781),o=e(7156798807),s=e(3398586081),c=e(6533394955),r=e(8480246703),a=e(4719739515);const i="SFDC_ORG_INFO_FETCH_ID";function l(u,g){(0,c.Qw)(u,(0,a.i)(g))}E(l,"upsertSalesforceOrgList");async function m(u){const g=await(0,c.Qw)(u,(0,r.k)({reason:"sfdc-org-info-conditional-fetch"}));return[{id:i,orgs:(0,o.A)(g.salesforce_orgs,"id")}]}E(m,"fetchSalesforceOrgList");function _(u){return m(u).then(g=>((0,c.Qw)(u,(0,a.i)(g)),g))}E(_,"fetchAndUpsertSalesforceOrgList");const h=(0,s.A)(()=>new t.Ay({fetch:_,metricsName:"sfdc-org-info",storeKey:"sfdcOrgInfo"})),d=(0,s.A)(()=>new n.Ay({fetch:m,upsertNonExistent:l,upsertKnown:(u,g)=>{l(u,g),h().markObjectsAsFresh(u,[i])}})),f=E(u=>{h().maybeRefetch(u,i)},"maybeRefetchSalesforceOrgs"),v=E(u=>d().fetchObjectWithId(u,i),"fetchSalesforceOrgs")},4158363050:(N,y,e)=>{"use strict";e.d(y,{Vb:()=>_,kO:()=>m,lH:()=>l});var t=e(3009309149),n=e(7732872146),o=e(8847766420),s=e(2823938397),c=e(2032902007);const r=Object.freeze((0,s.WQ)("INVALID_ORG_ID")),a=Object.freeze((0,s.WQ)("MISSING_ORG_ID"));function i(h){function d(f,v){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const g=(0,o.JY)(f)||"",p=f.sfdcOrgInfo.orgInfos[c.jt];return p?((0,c.Ob)(g),v&&(0,s.uz)(p)&&h(p.orgs,v)||a):u?v?(0,c.lF)(g):r:null}return E(d,"getSalesforceOrgInfoInner"),(0,t.Ay)(d)}E(i,"createSalesforceOrgInfoSelector");const l=(0,t.Ay)(h=>h.sfdcOrgInfo.orgInfos[c.jt]);l.meta={name:"createSelector",key:"createSelectorgetSalesforceOrgInfos",description:h=>h.sfdcOrgInfo.orgInfos[c.jt]};const m=i((h,d)=>h[d]),_=i((h,d)=>Object.values(h).find(f=>(0,n.Ay)(f.instance_url).hostname===d))},9968803145:(N,y,e)=>{"use strict";e.d(y,{N:()=>n,t:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Updates the domains collection from the server");n.meta={name:"createAction",key:"createActionupdateSiwsDomains",description:"Updates the domains collection from the server"};const o=(0,t.Ay)("Clears any domains currently stored on the client side");o.meta={name:"createAction",key:"createActionclearSiwsDomains",description:"Clears any domains currently stored on the client side"}},8262898118:(N,y,e)=>{"use strict";e.d(y,{pf:()=>v,Ls:()=>f,ND:()=>_,pF:()=>h,w$:()=>d});var t=e(3009309149),n=e(3385422400),o=e(9113979368),s=e(9114759771),c=e(7732872146);function r(u,g){var p;if((0,o.A)(u))return{appId:void 0,domain:""};const A=(0,c.Ay)(u),C=(0,s.Ww)(A,!0),T=A.hostname,I=T||C;let M=g==null||(p=g.domains)===null||p===void 0?void 0:p[I];if(!M){var D;const O=Object.keys((D=g==null?void 0:g.wildcards)!==null&&D!==void 0?D:{}).find(S=>T.endsWith(`.${S}`));O&&(M=g.wildcards[O])}return{appId:M,domain:I}}E(r,"getSIWSLinkInfo");var a=e(5772992709);function i(u,g){if((0,o.A)(u))return!1;const p=(0,c.Ay)(u);return l(p,g)}E(i,"isSIWSLink");function l(u,g){var p;if(u.protocol!=="http:"&&u.protocol!=="https:"||(0,a.gU)(u))return!1;const A=(0,s.Ww)(u,!0);if(!u.hostname||!A)return!1;const C=u.hostname,T=C.length>A.length+1,I=!!(!(g==null||(p=g.domains)===null||p===void 0)&&p[C]);var M;const D=T&&Object.keys((M=g==null?void 0:g.wildcards)!==null&&M!==void 0?M:{}).some(O=>C.endsWith(`.${O}`));return I||D}E(l,"isParsedUrlSIWSLink");const m=(0,t.Ay)(u=>{var g;return u==null||(g=u.siwsDomains)===null||g===void 0?void 0:g.domainsCollection});m.meta={name:"createSelector",key:"createSelectorgetDomains",description:u=>{var g;return u==null||(g=u.siwsDomains)===null||g===void 0?void 0:g.domainsCollection}};const _=(0,t.Ay)((u,g)=>{var p;return(p=r(g,m(u)))===null||p===void 0?void 0:p.appId});_.meta={name:"createSelector",key:"createSelectorselectSIWSLinkAppId",description:(u,g)=>{var p;return(p=r(g,m(u)))===null||p===void 0?void 0:p.appId}};const h=(0,t.Ay)((u,g)=>{var p;return(p=r(g,m(u)))===null||p===void 0?void 0:p.domain});h.meta={name:"createSelector",key:"createSelectorselectSIWSLinkDomain",description:(u,g)=>{var p;return(p=r(g,m(u)))===null||p===void 0?void 0:p.domain}};const d=(0,t.Ay)((u,g)=>i(g,m(u)));d.meta={name:"createSelector",key:"createSelectorselectURLIsSIWSLink",description:(u,g)=>i(g,m(u))};const f=(0,t.Ay)((u,g)=>l(g,m(u)));f.meta={name:"createSelector",key:"createSelectorselectParsedURLIsSIWSLink",description:(u,g)=>l(g,m(u))};const v=(0,n.Mz)(m,function(u){let{domains:g,wildcards:p}=u;const A=Object.entries(g).map(T=>{let[I,M]=T;return{appId:M,domain:I,isWildcard:!1}});return[...Object.entries(p).map(T=>{let[I,M]=T;return{appId:M,domain:I,isWildcard:!0}}),...A].reduce((T,I)=>({...T,[I.appId]:{domain:I.domain,isWildcard:I.isWildcard}}),{})})},4433296946:(N,y,e)=>{"use strict";e.d(y,{_:()=>a});var t=e(6304789565),n=e(6439846314),o=e(5257368278);const s=(0,o.A)("Get SIWS registered domains list",i=>i((0,n.apiCall)({args:{},method:"links.getDomains",reason:"siws-get-domains"})).then(l=>({cacheTs:l.domains_ts,domains:l.domains,wildcardDomains:l.wildcard_domains})));s.meta={name:"createFetcher",key:"createFetchergetDomains",description:"Get SIWS registered domains list"};const c=s;var r=e(9968803145);const a=(0,t.Ay)("Load remote domains into Redux",i=>{i(c()).then(l=>{let{cacheTs:m,domains:_,wildcardDomains:h}=l;const d=Date.now();i((0,r.N)({cacheTs:m,domains:_,lastGetDomainsTs:d,wildcardDomains:h}))})});a.meta={name:"createThunk",key:"createThunkloadDomains",description:"Load remote domains into Redux"}},2262285506:(N,y,e)=>{"use strict";e.d(y,{Ac:()=>s,Ic:()=>n,b7:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Set the result of the sharedInvites.canGetLink request");n.meta={name:"createAction",key:"createActionsetIsEligibleToSlackConnectDm",description:"Set the result of the sharedInvites.canGetLink request"};const o=(0,t.Ay)("Remove private channel conversion eligibility for a given SCMPDM");o.meta={name:"createAction",key:"createActionremoveConvertSlackConnectMpdmEligibility",description:"Remove private channel conversion eligibility for a given SCMPDM"};const s=(0,t.Ay)("Set whether or not the user can convert a given SCMPDM to a private channel");s.meta={name:"createAction",key:"createActionsetIsEligibleToConvertSlackConnectMpdm",description:"Set whether or not the user can convert a given SCMPDM to a private channel"}},6470369228:(N,y,e)=>{"use strict";e.d(y,{ED:()=>h,Xr:()=>d,ez:()=>_});var t=e(3398586081),n=e(2764501277),o=e(8352634987),s=e(337319621),c=e(6304789565),r=e(6533394955),a=e(2262285506);const i="scdm_eligibility",l=(0,c.Ay)("Fetch and cache the result of sharedInvites.canGetLink",(v,u)=>v((0,n.d)({reason:"slack-connect-dm-eligibility-cfm"})).then(g=>g.ok?(v((0,a.Ic)({isEligible:g.is_eligible})),g.is_eligible):((0,s.Ay)({getState:u}).error("fetchSlackConnectDmEligibility sharedInvites.canGetLink not ok"),!1)).catch(g=>((0,s.Ay)({getState:u}).error("fetchSlackConnectDmEligibility sharedInvites.canGetLink rejected",g),!1)));l.meta={name:"createThunk",key:"createThunkfetchSlackConnectDmEligibility",description:"Fetch and cache the result of sharedInvites.canGetLink"};const m=(0,t.A)(()=>new o.Ay({storeKey:"slackConnectEligibility",fetch:v=>(0,r.Qw)(v,l()),isEnabled:()=>!0,metricsName:i})),_=E(v=>m().maybeRefetch(v,i),"maybeRefetch"),h=E(v=>m().markObjectsAsFresh(v,[i]),"markAsFresh"),d=E(v=>m().markObjectsAsStale(v,[i]),"markAsStale"),f=E(v=>m().isObjectFresh(v,i),"isObjectFresh")},4982839543:(N,y,e)=>{"use strict";e.d(y,{Fl:()=>i,aJ:()=>r,qJ:()=>a});var t=e(3916100664),n=e(3009309149),o=e(8847766420),s=e(6470369228);const c={canCreate:!1},r=(0,n.Ay)(function(l){let{shouldRefetch:m=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var _;const h=(0,o.ZT)(l);return h?(m&&(0,s.ez)(h),l==null||(_=l.slackConnectEligibility)===null||_===void 0?void 0:_.dm.isEligible):!1});r.meta={name:"createSelector",key:"createSelectorgetIsEligibleToSlackConnectDm",description:function(l){let{shouldRefetch:m=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var _;const h=(0,o.ZT)(l);return h?(m&&(0,s.ez)(h),l==null||(_=l.slackConnectEligibility)===null||_===void 0?void 0:_.dm.isEligible):!1}};const a=(0,n.Ay)((l,m)=>{var _,h;return(h=l==null||(_=l.slackConnectEligibility)===null||_===void 0?void 0:_.mpdmConversion[m])!==null&&h!==void 0?h:c});a.meta={name:"createSelector",key:"createSelectorgetIsEligibleToConvertSlackConnectMpdm",description:(l,m)=>{var _,h;return(h=l==null||(_=l.slackConnectEligibility)===null||_===void 0?void 0:_.mpdmConversion[m])!==null&&h!==void 0?h:c}};const i=(0,n.Ay)(l=>!!(r(l,{shouldRefetch:!1})||(0,t.Tc)(l)));i.meta={name:"createSelector",key:"createSelectorgetSidebarShouldShowConnectLink",description:l=>!!(r(l,{shouldRefetch:!1})||(0,t.Tc)(l))}},4476913522:(N,y,e)=>{"use strict";e.d(y,{a:()=>d});var t=e(8086952004),n=e(12126472),o=e(6626377467),s=e(235108050),c=e(7530630315),r=e(5729325965),a=e(2240330919),i=e(1116859610),l=e(1545824888),m=e(6304789565),_=e(3110884894),h=e(3080060173);const d=(0,m.Ay)("gets thread replies from the API",(f,v,u)=>{const{channelId:g,threadTs:p,oldest:A,limit:C}=u;let T=u.latest;A===T&&T===u.threadTs&&(T=null);const I=(0,_.Iu)(g,p);return A&&T?l.S.all([f((0,h.$b)({channelId:g,threadTs:p,latest:T,limit:C})),f((0,h.$b)({channelId:g,threadTs:p,oldest:A,limit:C}))]).then(M=>{let[D,O]=M;const S=(0,t.A)(D.msgs,{ts:p})||(0,t.A)(O.msgs,{ts:p}),R=(0,n.A)(D.msgs,{ts:p}),U=(0,n.A)(O.msgs,{ts:p}),P=D.deleted,L=O.deleted,F=(0,o.A)(R.concat(U),"ts"),x=(0,s.A)((0,c.A)(P,L));!D.hasMore&&S&&F.unshift(S);const b=F.map(k=>k.ts);return f((0,i.A)({msgs:F,channelId:I,hasMore:{hasMoreStart:!!D.hasMore,hasMoreEnd:!!O.hasMore},oldest:(0,r.A)([A,(0,r.A)(b)]),latest:(0,a.A)([T,(0,a.A)(b)]),deleted:x})),{msgs:F}}):f((0,h.$b)({channelId:g,threadTs:p,oldest:A,latest:T,limit:C})).then(M=>{let{msgs:D,deleted:O,hasMore:S}=M;const R=T&&!S||A===p||T===p||!A&&!T&&!S;let U=D;R||(U=(0,n.A)(D,{ts:p}));let P=!!S;!A&&!T&&(P={hasMoreStart:!!S,hasMoreEnd:!1}),f((0,i.A)({msgs:U,channelId:I,hasMore:P,oldest:A,latest:T,deleted:O}));const L=(0,t.A)(D,{ts:p});return L&&A===p&&f((0,i.A)({msgs:[L],channelId:I,hasMore:!1,latest:p})),{msgs:U}})});d.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},1725276404:(N,y,e)=>{"use strict";e.d(y,{KU:()=>s,QG:()=>r,Ri:()=>c,ZG:()=>o,yO:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Update to-dos counts in tab");n.meta={name:"createAction",key:"createActionupdateCounts",description:"Update to-dos counts in tab"};const o=(0,t.Ay)("updates the latest record id from which we received a `todo_due` rtm event");o.meta={name:"createAction",key:"createActionupdateLatestOverdueRecordId",description:"updates the latest record id from which we received a `todo_due` rtm event"};const s=(0,t.Ay)("set active tab in todos page");s.meta={name:"createAction",key:"createActionsetActiveTabInTodosByWindowId",description:"set active tab in todos page"};const c=(0,t.Ay)("Set search query for my todos");c.meta={name:"createAction",key:"createActionsetSearchQuery",description:"Set search query for my todos"};const r=(0,t.Ay)("Set record ids that should show up at the top of to-dos.");r.meta={name:"createAction",key:"createActionsetPinnedRecordIds",description:"Set record ids that should show up at the top of to-dos."}},1827030018:(N,y,e)=>{"use strict";e.d(y,{_:()=>i});var t=e(9746734072),n=e(5238395322),o=e(2101927269),s=e(7486305635),c=e(6304789565),r=e(9101533895),a=e(157328471);const i=(0,c.Ay)("Update the unread count for the all threads view",(l,m,_)=>{let{threadsHasUnreads:h,threadsUnreadCountByChannel:d,threadsMentionCountByChannel:f,threadsLastUpdatedTimestamp:v}=_;const u=(0,t.A)(f)?{}:f,g=m(),p=(0,n.A)((0,o.A)(u,(C,T)=>{const I=(0,r.OL)(g,T);return(0,s.WK)(g,I)&&!(0,s.fA)(g,I)}));let A=0;d?A=(0,n.A)((0,o.A)(d,(C,T)=>{const I=(0,r.OL)(g,T);return(0,s.WK)(g,I)})):A=h?1:0,l((0,a.LI)({threadsUnreadCount:A,threadsUnreadCountByChannel:d,threadsMentionCount:p,threadsMentionCountByChannel:u,threadsLastUpdatedTimestamp:v,suppressThreads:(0,s.dQ)(g)}))});i.meta={name:"createThunk",key:"createThunkthreadsUnreadCountChanged",description:"Update the unread count for the all threads view"}},9132245692:(N,y,e)=>{"use strict";e.d(y,{g:()=>n,y:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Update unread counts for the specified user alert types");n.meta={name:"createAction",key:"createActionupdateUserAlertsUnreadCount",description:"Update unread counts for the specified user alert types"};const o=(0,t.Ay)("Reset the user alerts store to the specified alert counts map");o.meta={name:"createAction",key:"createActionresetAllUserAlertsUnreadCounts",description:"Reset the user alerts store to the specified alert counts map"}},2696160384:(N,y,e)=>{"use strict";e.d(y,{D_:()=>o,FI:()=>n,Sr:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Sets whether the mini player is open or not");n.meta={name:"createAction",key:"createActionsetIsDocked",description:"Sets whether the mini player is open or not"};const o=(0,t.Ay)("Sets mini video player config");o.meta={name:"createAction",key:"createActionsetMiniPlayerConfig",description:"Sets mini video player config"};const s=(0,t.Ay)("Clears mini video player config");s.meta={name:"createAction",key:"createActionclearMiniPlayerConfig",description:"Clears mini video player config"}},1201539379:(N,y,e)=>{"use strict";e.d(y,{$t:()=>s,Fe:()=>m,KY:()=>r,SP:()=>n,hk:()=>o,iO:()=>l,ie:()=>c,mV:()=>a,yL:()=>i});var t=e(2140362605);const n=(0,t.Ay)("Set the user-specified sidebar width and mode (use setSidebarColumn instead)");n.meta={name:"createAction",key:"createActionsetSidebarColumnInternal",description:"Set the user-specified sidebar width and mode (use setSidebarColumn instead)"};const o=(0,t.Ay)("Set the user-specified wide sidebar width and mode (use setWideSidebarColumn instead)");o.meta={name:"createAction",key:"createActionsetSidebarWideColumnInternal",description:"Set the user-specified wide sidebar width and mode (use setWideSidebarColumn instead)"};const s=(0,t.Ay)("Set the user-specified extra wide sidebar width and mode (use setExtraWideSidebarColumn instead)");s.meta={name:"createAction",key:"createActionsetSidebarExtraWideColumnInternal",description:"Set the user-specified extra wide sidebar width and mode (use setExtraWideSidebarColumn instead)"};const c=(0,t.Ay)("Set the user-specified secondary width and mode (use setSecondaryColumn instead)");c.meta={name:"createAction",key:"createActionsetSecondaryColumnInternal",description:"Set the user-specified secondary width and mode (use setSecondaryColumn instead)"};const r=(0,t.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)");r.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)"};const a=(0,t.Ay)("Sets whether or not the protype full rail workspace switcher is showing (use setIsWorkspaceSwitcherVisible thunk instead)");a.meta={name:"createAction",key:"createActionsetIsWorkspaceSwitcherVisibleInternal",description:"Sets whether or not the protype full rail workspace switcher is showing (use setIsWorkspaceSwitcherVisible thunk instead)"};const i=(0,t.Ay)("Set the user-specified split width and mode (use setSplitColumn instead)");i.meta={name:"createAction",key:"createActionsetSplitColumnInternal",description:"Set the user-specified split width and mode (use setSplitColumn instead)"};const l=(0,t.Ay)("Set the user-specified split width and mode (use setSplitAiAppsColumn instead)");l.meta={name:"createAction",key:"createActionsetSplitAiAppsColumnInternal",description:"Set the user-specified split width and mode (use setSplitAiAppsColumn instead)"};const m=(0,t.Ay)("Sets whether or not compact mode is enabled in the client (use toggleCompactModeEnabled thunk instead to persist the value)");m.meta={name:"createAction",key:"createActionsetCompactModeEnabledInternal",description:"Sets whether or not compact mode is enabled in the client (use toggleCompactModeEnabled thunk instead to persist the value)"}},9813790040:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(3750057149),n=e(9121100949),o=e(9139930183),s=e(1201539379),c=e(6803195599),r=e(9733150292);const a={persistenceEnabled:!1,storeKey:"viewLayout"},i={sidebarWidthIntent:void 0,sidebarWidthMode:c.tR.AUTO,sidebarWideWidthIntent:void 0,sidebarWideWidthMode:c.tR.AUTO,sidebarExtraWideWidthIntent:void 0,sidebarExtraWideWidthMode:c.tR.AUTO,secondaryWidthIntent:void 0,secondaryWidthMode:c.tR.AUTO,splitWidthIntent:void 0,splitWidthMode:c.tR.AUTO,splitAIAppsWidthIntent:void 0,splitAIAppsWidthMode:c.tR.AUTO,isSidebarVisible:c.fn,isSidebarVisibleWhenFloating:!1,isWorkspaceSwitcherVisible:!1,isCompactModeEnabled:!1};try{i.sidebarWidthIntent=(0,r.W6)(n.ke)||void 0,i.sidebarWideWidthIntent=(0,r.W6)(n.u1)||void 0,i.sidebarExtraWideWidthIntent=(0,r.W6)(n.jt)||void 0,i.secondaryWidthIntent=(0,r.W6)(n.gN)||void 0,i.sidebarWidthMode=(0,r.W6)(n.ts)||c.tR.AUTO,i.splitWidthIntent=(0,r.W6)(n.qD)||void 0,i.splitWidthMode=(0,r.W6)(n.$D)||c.tR.AUTO,i.splitAIAppsWidthIntent=(0,r.W6)(n.kU)||void 0,i.splitAIAppsWidthMode=(0,r.W6)(n.f9)||c.tR.AUTO,i.sidebarWidthMode=(0,r.W6)(n.ts)||c.tR.AUTO,i.sidebarWideWidthMode=(0,r.W6)(n.r1)||c.tR.AUTO,i.sidebarExtraWideWidthMode=(0,r.W6)(n.OR)||c.tR.AUTO,i.secondaryWidthMode=(0,r.W6)(n.Ts)||c.tR.AUTO;const _=(0,r.W6)(n.jG);i.isSidebarVisible=(0,t.A)(_)?_:c.fn;const h=(0,r.W6)(n.WU);i.isWorkspaceSwitcherVisible=(0,t.A)(h)?h:!1;const d=(0,r.W6)(n.RC);i.isCompactModeEnabled=(0,t.A)(d)?d:!1}catch{}const m=(0,o.Ay)({},i,a).on(s.SP,(_,h)=>{let{sidebarWidthIntent:d,sidebarWidthMode:f}=h;return{..._,sidebarWidthIntent:d,sidebarWidthMode:f}}).on(s.hk,(_,h)=>{let{sidebarWideWidthIntent:d,sidebarWideWidthMode:f}=h;return{..._,sidebarWideWidthIntent:d,sidebarWideWidthMode:f}}).on(s.$t,(_,h)=>{let{sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:f}=h;return{..._,sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:f}}).on(s.ie,(_,h)=>{let{secondaryWidthIntent:d,secondaryWidthMode:f}=h;return{..._,secondaryWidthIntent:d,secondaryWidthMode:f}}).on(s.yL,(_,h)=>{let{splitWidthIntent:d,splitWidthMode:f}=h;return{..._,splitWidthIntent:d,splitWidthMode:f}}).on(s.iO,(_,h)=>{let{splitAIAppsWidthIntent:d,splitAIAppsWidthMode:f}=h;return{..._,splitAIAppsWidthIntent:d,splitAIAppsWidthMode:f}}).on(s.KY,(_,h)=>({..._,isSidebarVisible:h})).on(s.mV,(_,h)=>({..._,isWorkspaceSwitcherVisible:h})).on(s.Fe,(_,h)=>({..._,isCompactModeEnabled:h}))},8707579690:(N,y,e)=>{"use strict";e.d(y,{J:()=>r});var t=e(9121100949),n=e(6304789565),o=e(1201539379),s=e(7384121809),c=e(9733150292);const r=(0,n.Ay)("Set the user-specified secondary width and mode",(a,i,l)=>{let{secondaryWidthIntent:m,secondaryWidthMode:_}=l;(0,c.q9)(t.gN,m),(0,c.q9)(t.Ts,_),a((0,o.ie)({secondaryWidthIntent:m,secondaryWidthMode:_})),(0,s.dispatchForClientStore)((0,o.ie)({secondaryWidthIntent:m,secondaryWidthMode:_}))});r.meta={name:"createThunk",key:"createThunksetSecondaryColumn",description:"Set the user-specified secondary width and mode"}},2779520532:(N,y,e)=>{"use strict";e.d(y,{R:()=>r});var t=e(9121100949),n=e(6304789565),o=e(1201539379),s=e(7384121809),c=e(9733150292);const r=(0,n.Ay)("Set the user-specified sidebar width and mode",(a,i,l)=>{let{sidebarWidthIntent:m,sidebarWidthMode:_}=l;(0,c.q9)(t.ke,m),(0,c.q9)(t.ts,_),a((0,o.SP)({sidebarWidthIntent:m,sidebarWidthMode:_})),(0,s.dispatchForClientStore)((0,o.SP)({sidebarWidthIntent:m,sidebarWidthMode:_}))});r.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},7128275929:(N,y,e)=>{"use strict";e.d(y,{a:()=>r});var t=e(9121100949),n=e(6304789565),o=e(1201539379),s=e(7384121809),c=e(9733150292);const r=(0,n.Ay)("Set the user-specified extra wide sidebar width and mode",(a,i,l)=>{let{sidebarExtraWideWidthIntent:m,sidebarExtraWideWidthMode:_}=l;(0,c.q9)(t.jt,m),(0,c.q9)(t.OR,_),a((0,o.$t)({sidebarExtraWideWidthIntent:m,sidebarExtraWideWidthMode:_})),(0,s.dispatchForClientStore)((0,o.$t)({sidebarExtraWideWidthIntent:m,sidebarExtraWideWidthMode:_}))});r.meta={name:"createThunk",key:"createThunksetSidebarExtraWideColumn",description:"Set the user-specified extra wide sidebar width and mode"}},9341298:(N,y,e)=>{"use strict";e.d(y,{q:()=>r});var t=e(9121100949),n=e(6304789565),o=e(1201539379),s=e(7384121809),c=e(9733150292);const r=(0,n.Ay)("Set the user-specified wide sidebar width and mode",(a,i,l)=>{let{sidebarWideWidthIntent:m,sidebarWideWidthMode:_}=l;(0,c.q9)(t.u1,m),(0,c.q9)(t.r1,_),a((0,o.hk)({sidebarWideWidthIntent:m,sidebarWideWidthMode:_})),(0,s.dispatchForClientStore)((0,o.hk)({sidebarWideWidthIntent:m,sidebarWideWidthMode:_}))});r.meta={name:"createThunk",key:"createThunksetSidebarWideColumn",description:"Set the user-specified wide sidebar width and mode"}},9938554271:(N,y,e)=>{"use strict";e.d(y,{A:()=>f});var t=e(352142497),n=e(8834730594),o=e(2960290117),s=e(8040098042),c=e(1826991857),r=e(4862221402);const a=E(v=>!!(v!=null&&v.includes(t.D.SalesCreateRecord)),"looksLikeSalesforceRecordCreateId");var i=e(5219786273),l=e(6471801899),m=e(8813411026),_=e(8414867410);const h={activity:t.D.ActivityList,threads:t.D.Threads,rimeto_profile:t.D.Profile,files:t.D.FileDetails,help:t.D.Help,shortcuts:t.D.KeyboardShortcuts,whats_new:t.D.WhatsNew,feedback:t.D.Feedback,comment_thread:t.D.QuipCommentThread,comment_stream:t.D.QuipCommentStream,activity_history:t.D.QuipActivityHistory,quip_automations_overview:t.D.QuipAutomationsOverview,channel_canvas:t.D.ChannelCanvas,thread:t.D.Thread,ai_summary_details:t.D.AiSummaryDetails,search_summary:t.D.SearchSummary,channel_files:t.D.ChannelFiles,ai_app:t.D.AiApp,about_ai_app:t.D.AboutAiApp,multi_turn_search:t.D.MultiTurnSearch,workflow_details:t.D.WorkflowDetails,app_details:t.D.AppDetails,list_record:t.D.ListRecord,record:t.D.Record,Tasks:t.D.Tasks,[t.D.ActivityInbox]:t.D.ActivityInbox},f=E(v=>v?(0,n.A)(v)?t.D.AppSpace:(0,o.Ay)(v)?t.D.Canvas:(0,s.A)(v)?t.D.Channel:(0,l.pI)(v)?t.D.List:(0,l.or)(v)?t.D.ListRecord:(0,m.T)(v)?(0,_.F8)(v):v&&v[0]==="V"?t.D.Threads:(0,c.A)(v)?t.D.Thread:(0,r.A)(v)?t.D.UserGroup:a(v)?t.D.SalesCreateRecord:(0,i.W)(v)?t.D.ConversationCreate:v===t.D.BrowseCanvases?v:h[v]?h[v]:t.D.Unknown:t.D.Unknown,"convertIdToViewType")},9936094925:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>u,cB:()=>d,ds:()=>h,w9:()=>f,wg:()=>_});var t=e(9113979368),n=e(498506970),o=e(1618349278),s=e(1649982175),c=e(9139930183),r=e(3193155968),a=e(7590914282);const i=100,l={},m={persistenceEnabled:!1,storeKey:"windowHistory"};function _(g){let{windowState:p,entry:A}=g;const C=p?p.stack:[],T=(0,t.A)(C)?null:1;return{stack:[(0,n.A)(A)].concat(C).slice(0,i),index:0,previousIndex:T}}E(_,"handlePushHistoryEntryForWindow");function h(g){let{windowState:p,index:A,previousIndex:C}=g;return{stack:p.stack,index:A,previousIndex:C}}E(h,"handleUpdateIndexForWindow");function d(g){let{windowState:p,index:A}=g;return{stack:(0,o.A)(p.stack,A),index:p.index,previousIndex:null}}E(d,"handlePopHistoryAboveIndexForWindow");function f(g){let{windowState:p,entry:A}=g;const C=[...p.stack];return C[p.index]=(0,n.A)(A),{...p,stack:C}}E(f,"handleReplaceCurrentHistoryEntryForWindowInternal");const u=(0,c.Ay)({},l,m).on(a.zA,(g,p)=>{let{windowId:A,entry:C}=p;return!A||!C?g:{...g,[A]:_({windowState:g[A],entry:C})}}).on(a.aV,(g,p)=>{let{windowId:A}=p;return(0,s.A)(g,A)}).on(a.Nr,(g,p)=>{let{windowId:A,index:C,previousIndex:T}=p;return{...g,[A]:h({windowState:g[A],index:C,previousIndex:T})}}).on(a.o1,(g,p)=>{let{windowId:A,entry:C}=p;return{...g,[A]:{stack:[(0,n.A)(C)],index:0,previousIndex:null}}}).on(a.s0,(g,p)=>{let{windowId:A,index:C}=p;return g[A]?{...g,[A]:d({windowState:g[A],index:C})}:g}).on(a.In,(g,p)=>{let{windowId:A,entry:C}=p;return g[A]?{...g,[A]:f({windowState:g[A],entry:C})}:g}).on(a.$Z,(g,p)=>{let{windowId:A,viewParams:C,index:T}=p;if(!g[A])return g;const M=[...g[A]?g[A].stack:[]];if(!M[T])return g;const{id:D,...O}=(0,n.A)(M[T]),S=O[r.mq.Primary];if(!(S!=null&&S.id))return g;const R={...O,[r.mq.Primary]:{...S,params:{...S.params,...C}}};return M[T]={id:D,...R},{...g,[A]:{...g[A],stack:M}}})},4256476552:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(9139930183),n=e(1780675971),o=e(3193155968);const s={[o.N2]:{isFocused:void 0,isUnloading:!1,timeCreation:0,timeLastBlurEvent:0,timeLastFocusEvent:0}},r=(0,t.Ay)({},s,{storeKey:"window",persistenceEnabled:!1}).on(n._p,(a,i)=>{let{windowId:l=o.N2,...m}=i;if(!a[l])return a;const _={[o.N2]:{...a[o.N2]}};return _[l]={...a[l],...m},Reflect.ownKeys(a).forEach(h=>{h!==l&&m.isFocused&&(_[h]={...a[h],isFocused:!1})}),{...a,..._}}).on(n.w3,(a,i)=>{let{windowId:l=o.N2,...m}=i;return a[l]?{...a,[l]:{...a[l],isUnloading:m.isUnloading}}:a}).on(n.d1,(a,i)=>{let{windowId:l=o.N2,...m}=i;return{...a,[l]:{...a[l],...m,windowId:l}}}).on(n.pb,(a,i)=>{let{windowId:l=o.N2,...m}=i;return a[l]?{...a,[l]:{...a[l],bootType:m.bootType}}:a}).on(n.jO,(a,i)=>{let{windowId:l}=i;if(l===o.N2||!a[l])return a;const m={...a};return delete m[l],m}).on(n.NV,(a,i)=>{let{windowId:l,viewport:m}=i;return a[l]?{...a,[l]:{...a[l],viewport:m}}:a})},3074155495:(N,y,e)=>{"use strict";e.d(y,{C$:()=>o,EP:()=>r,JA:()=>n,b8:()=>s,lP:()=>a,mu:()=>c,sJ:()=>i});var t=e(2140362605);const n=(0,t.Ay)("Upsert work objects into the store");n.meta={name:"createAction",key:"createActionupsertWorkObjects",description:"Upsert work objects into the store"};const o=(0,t.Ay)("Update work object loading state");o.meta={name:"createAction",key:"createActionupdateWorkObjectLoading",description:"Update work object loading state"};const s=(0,t.Ay)("Update work object syncing state");s.meta={name:"createAction",key:"createActionupdateWorkObjectSyncing",description:"Update work object syncing state"};const c=(0,t.Ay)("Update work object saving state");c.meta={name:"createAction",key:"createActionupdateWorkObjectSaving",description:"Update work object saving state"};const r=(0,t.Ay)("Enables edit mode");r.meta={name:"createAction",key:"createActionenterWorkObjectEditMode",description:"Enables edit mode"};const a=(0,t.Ay)("Update work object awaiting refresh state");a.meta={name:"createAction",key:"createActionupdateWorkObjectAwaitingRefresh",description:"Update work object awaiting refresh state"};const i=(0,t.Ay)("Upsert a work object summary");i.meta={name:"createAction",key:"createActionupsertWorkObjectSummary",description:"Upsert a work object summary"}},9294306581:(N,y,e)=>{"use strict";e.d(y,{aY:()=>C,GD:()=>D,Ss:()=>S,BX:()=>P,WV:()=>U,nY:()=>R,e_:()=>L,mn:()=>F,Fy:()=>O});var t=e(3398586081),n=e(1545824888),o=e(3937186022),s=e(7650175331),c=e(7330016313),r=e(8352634987),a=e(3037015781),i=e(2823938397),l=e(6304789565),m=e(8847766420),_=e(6533394955),h=e(3074155495),d=e(4364890643),f=e(9329658981),v=e(8205955364);const u=(0,t.A)(x=>{try{return JSON.parse(x)}catch{return null}}),g="workObjects",p=60*10;function A(x){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.$.FunctionNotFound;return{...(0,i.WQ)(x),error:b}}E(A,"makeNonExistentWorkObject");const C=Object.freeze(A("INVALID_WORK_OBJECT_ID")),T=(0,l.Ay)("fetch work object details",async(x,b,k)=>{let{recordId:B,lookupFunction:W,channelId:K,entityUrl:H,messageTs:z,useLegacyUrl:Q}=k;x((0,h.C$)({isLoading:!0}));const q=b();if((!(0,o.yQ)(q)||!!Q)&&W)try{return{...(await x((0,s.i)({recordId:B,lookupFunction:W,reason:"work-objects-conditional-fetch"}))).entity,id:B}}catch(te){return A(B,te.name)}finally{x((0,h.C$)({isLoading:!1})),x((0,f.x)())}try{return await x((0,c.o)({reason:"work-objects-conditional-fetch",entityId:B,lookupFunction:W!=null&&W.inputs?W:void 0,channelId:K,entityUrl:H,messageTs:z})),setTimeout(()=>{const ce=(0,d.a)(b(),B);ce&&R(ce)&&(x((0,h.JA)([A(B)])),x((0,h.b8)({isSynced:!1})),x((0,h.C$)({isLoading:!1})))},1e4),{id:B,isUnknown:!0}}catch(te){return x((0,h.C$)({isLoading:!1})),A(B,te.name)}});T.meta={name:"createThunk",key:"createThunkfetchWorkObject",description:"fetch work object details"};const I=E((x,b,k)=>n.S.map(b,B=>{var W,K;const H=(K=k==null||(W=k.paramsById)===null||W===void 0?void 0:W[B])!==null&&K!==void 0?K:{};var z;return(0,_.Qw)(x,T({...H,recordId:B,lookupFunction:(z=u(H.lookupFunction))!==null&&z!==void 0?z:void 0,useLegacyUrl:H.useLegacyUrl==="true"}))}),"fetchWorkObjectsForTeamId"),M=E((x,b)=>(0,_.Qw)(x,(0,h.JA)(b)),"upsertWorkObjects"),D=(0,t.A)(()=>new r.Ay({storeKey:"workObjects",maxAge:()=>p,metricsName:g,fetch:(x,b,k)=>I(x,b,k).then(B=>M(x,B))})),O=E((x,b)=>{const k=b.map(B=>B.id);D().markObjectsAsFresh(x,k),M(x,b)},"upsertWorkObjectsAndMarkAsFresh"),S=(0,t.A)(()=>new a.Ay({fetch:I,upsertNonExistent:O,upsertKnown:O}));function R(x){return(0,i.mX)(x)}E(R,"isUnknownWorkObject");function U(x){return(0,i.lv)(x)}E(U,"isNonExistentWorkObject");function P(x){return(0,i.uz)(x)}E(P,"isExistentWorkObject");const L=E((x,b)=>{D().markObjectsAsStale(x,b)},"markWorkObjectsAsStale"),F=(0,l.Ay)("refresh work object details",async(x,b,k)=>{const B=b(),W=(0,m.ZT)(B);if(!W)return;const K=(0,v.l)(k,(0,o.CK)(B)),H=await x(T(K));O(W,[H])});F.meta={name:"createThunk",key:"createThunkrefreshWorkObject",description:"refresh work object details"}},4364890643:(N,y,e)=>{"use strict";e.d(y,{a:()=>n});var t=e(3009309149);const n=(0,t.Ay)((o,s)=>{var c,r;return(c=o.workObjects)===null||c===void 0||(r=c.workObjects)===null||r===void 0?void 0:r[s]});n.meta={name:"createSelector",key:"createSelectordangerouslyGetWorkObjectById",description:(o,s)=>{var c,r;return(c=o.workObjects)===null||c===void 0||(r=c.workObjects)===null||r===void 0?void 0:r[s]}}},7057004528:(N,y,e)=>{"use strict";e.d(y,{nh:()=>C,Ne:()=>v,G1:()=>u,zz:()=>A,Vc:()=>p,j_:()=>d,Ro:()=>g,hA:()=>f});var t=e(3937186022),n=e(6971099563),o=e(3009309149),s=e(8847766420),c=e(9294306581),r=e(4364890643),a=e(8205955364),i=e(3398586081),l=e(3259889889);const m=(0,i.A)(T=>{try{return(0,l.v)(T)?JSON.stringify(T):null}catch{return null}}),_=E(T=>{let{lookupFunction:I,useLegacyUrl:M,...D}=T;const O={...D},S=m(I);return S&&(O.lookupFunction=S),typeof M=="boolean"&&(O.useLegacyUrl=String(M)),O},"stringifyFetchParams");function h(T,I){const{recordId:M,lookupFunction:D,fetchIfMissing:O=!0,entityUrl:S}=I;if(!M||!D&&!S&&O)return c.aY;const R=(0,r.a)(T,M),U=(0,s.JY)(T)||"",P=_((0,a.l)({...I,recordId:M},(0,t.CK)(T)));return R?((0,c.GD)().maybeRefetch(U,M,{params:P}),R):O?(0,c.Ss)().fetchObjectWithId(U,M,{params:P}):null}E(h,"getWorkObjectByIdSelector");const d=(0,o.Ay)(T=>T.workObjects.isLoading);d.meta={name:"createSelector",key:"createSelectorisWorkObjectFetching",description:T=>T.workObjects.isLoading};const f=(0,o.Ay)(T=>T.workObjects.isSynced);f.meta={name:"createSelector",key:"createSelectorisWorkObjectSynced",description:T=>T.workObjects.isSynced};const v=(0,o.Ay)(h);v.meta={name:"createSelector",key:"createSelectorgetWorkObjectById",description:h};const u=(0,o.Ay)(T=>T.workObjects.editMode);u.meta={name:"createSelector",key:"createSelectorgetWorkObjectEditMode",description:T=>T.workObjects.editMode};const g=(0,o.Ay)((T,I)=>{const M=T.workObjects.workObjects[I];return(0,n.jH)(M)&&!!M.awaitingSave});g.meta={name:"createSelector",key:"createSelectorisWorkObjectSaving",description:(T,I)=>{const M=T.workObjects.workObjects[I];return(0,n.jH)(M)&&!!M.awaitingSave}};const p=(0,o.Ay)((T,I)=>{const M=T.workObjects.workObjects[I];if((0,n.jH)(M))return M.viewId});p.meta={name:"createSelector",key:"createSelectorgetWorkObjectViewId",description:(T,I)=>{const M=T.workObjects.workObjects[I];if((0,n.jH)(M))return M.viewId}};const A=(0,o.Ay)((T,I)=>{const M=T.workObjects.workObjects[I];if((0,n.jH)(M))return M.serviceId});A.meta={name:"createSelector",key:"createSelectorgetWorkObjectServiceId",description:(T,I)=>{const M=T.workObjects.workObjects[I];if((0,n.jH)(M))return M.serviceId}};const C=(0,o.Ay)((T,I)=>{let{id:M}=I;return T.workObjects.summaryById[M]});C.meta={name:"createSelector",key:"createSelectorgetSummaryById",description:(T,I)=>{let{id:M}=I;return T.workObjects.summaryById[M]}}},9329658981:(N,y,e)=>{"use strict";e.d(y,{Z:()=>s,x:()=>c});var t=e(4186058919),n=e(6304789565),o=e(3074155495);const s=(0,n.Ay)("Start Work Object OAuth flow",async(r,a,i)=>{let{appId:l,providerKey:m,authUrl:_,reason:h="start_oauth_flow"}=i,d=_;!d&&m&&(d=(await r((0,t.$)({appId:l,providerKey:m,reason:h}))).authorization_url),d&&window.open(d,"_blank","popup,noopener,noreferrer")});s.meta={name:"createThunk",key:"createThunkstartWorkObjectAuth",description:"Start Work Object OAuth flow"};const c=(0,n.Ay)("Show the work object in a synced state",(r,a)=>{r((0,o.b8)({isSynced:!0})),setTimeout(()=>r((0,o.b8)({isSynced:!1})),1600)});c.meta={name:"createThunk",key:"createThunkshowTemporarySyncedStatus",description:"Show the work object in a synced state"}},8205955364:(N,y,e)=>{"use strict";e.d(y,{l:()=>n});var t=e(3259889889);const n=E((o,s)=>{let{channelId:c,entityUrl:r,lookupFunction:a,messageTs:i,useLegacyUrl:l,recordId:m}=o;const h={recordId:m,useLegacyUrl:l??!s};return(0,t.v)(a)?h.lookupFunction=a:r&&(h.entityUrl=r,i&&c&&(h.messageTs=i,h.channelId=c)),h},"buildWorkObjectFetchParams")},3259889889:(N,y,e)=>{"use strict";e.d(y,{v:()=>n});var t=e(3398586081);const n=(0,t.A)(o=>Boolean((o==null?void 0:o.functionId)&&(o==null?void 0:o.inputs)))},9083290776:(N,y,e)=>{"use strict";e.d(y,{K$:()=>n,fw:()=>o,xW:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Sets the focused workspaces from the client-store");n.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspaces",description:"Sets the focused workspaces from the client-store"};const o=(0,t.Ay)("Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused");o.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspacesTimestamps",description:"Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused"};const s=(0,t.Ay)("Sets the last tab for a given channel id");s.meta={name:"createAction",key:"createActionsetLastTabForChannelId",description:"Sets the last tab for a given channel id"}},7752506476:(N,y,e)=>{"use strict";e.d(y,{M:()=>c,r:()=>r});var t=e(4096483543);const n=["files","downloads","whats_new","shortcuts","details","apps"],o=["search_results","activity","notifications","reactions","starred_items","saved","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files","external_orgs","actions","inspect","workspaces","top","huddle","filespane","help","tile","rimeto_profile","story","feedback","docs","huddles_captions","messages","contact_profile","record","comments","history","ai_summary_details","channel_files"],s=["convo","groups","team","stars","mentions"],c=[...n,...(0,t.A)()?o:s],r={APP:"app",MESSAGES:"messages",ABOUT:"about",SETTINGS:"settings",CANVAS:"canvas"}},1116859610:(N,y,e)=>{"use strict";e.d(y,{A:()=>T});var t=e(2101927269),n=e(8840779375),o=e(3750057149),s=e(3110884894),c=e(9392104102),r=e(337319621),a=e(7578434623),i=e(2791814261),l=e(8040098042),m=e(6304789565),_=e(8847766420),h=e(5487781258),d=e(9536404279),f=e(4350638406),v=e(3528815215),u=e(1284885799),g=e(6739248722),p=e(10127715),A=e(3521202413);const C=(0,m.Ay)("Add messages from history",(I,M,D)=>{let{msgs:O,channelId:S,isLimited:R,latest:U,oldest:P,hasMore:L,loading:F,forceUnreadCount:x,deleted:b=[]}=D;const k=M(),B=(0,a.Cy)({getState:M});(0,i.L)(k)&&B.mark("rmsgs_addMessagesFromHistory");const W=(0,t.A)(O,Q=>{const q=S&&(0,g.k)(k,{channelId:S,ts:Q.ts});return q&&(0,r.Ay)({getState:M}).warn(`Filtering out ${Q.ts} in ${S} history response because it was deleted`),!q}),K=R?O.filter(Q=>Q.is_beyond_free_limit).map(Q=>Q.ts):c.Ml,H=(0,n.A)(W,"ts"),z=(0,l.A)(S)?S:(0,s.Sb)(S).channelId;z&&(0,f.mY)((0,_.ZT)(k),z,H),I((0,p.tT)(W)),I((0,d.VG)({channelId:S,timestamps:H,isLimited:R,blurredMessages:K,latest:U,oldest:P,hasMore:L,loading:F,forceUnreadCount:x})),(0,o.A)(F)&&S&&I(F?(0,u.v)({channelId:S,loadingOlder:!!U}):(0,v.f)({channelId:S})),(0,i.L)(k)&&B.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),z&&b.forEach(Q=>I((0,A.j)({deleted_ts:Q,channel:z}))),W.forEach(Q=>(0,h.IY)(M,I,Q,Q))});C.meta={name:"createThunk",key:"createThunkaddMessagesFromHistory",description:"Add messages from history"};const T=C},8243624171:(N,y,e)=>{"use strict";e.d(y,{Fj:()=>R,Vq:()=>S});var t=e(1545824888),n=e(1069376685),o=e(4446301238),s=e(5274604535),c=e(5373179915),r=e(8170643398),a=e(5096647761),i=e(148278831),l=e(6536982570),m=e(2546018671),_=e(5184226701),h=e(7582939986),d=e(4327331459),f=e(4862221402),v=e(6304789565),u=e(1761027239),g=e(4761125736),p=e(8276911661),A=e(3730613858);const C=E((U,P)=>P.map(L=>L.pasted&&!L.entity?{value:L.value,entity:(0,p.nv)(U,L.value)}:L),"getMemberInfoForPastedMembers"),T=E(U=>{const P=U.entity||{};return(0,d.A)(U==null?void 0:U.value)||(0,r.NB)(P)},"isAMember"),I=E(U=>{const P=U.entity;return(0,f.A)(U.value)||(0,m.PH)(P)},"isAUserGroup"),M={[h.IS.ALREADY_IN_CHANNEL]:!0,[h.IS.CANNOT_INVITE_SELF]:!0,[h.IS.ALREADY_IN_CHANNEL_UG]:!0},D={},O=E(U=>{let{shouldPreserve:P,teamId:L}=U;D[L]=P},"setShouldPreserveModalsOnNavigation"),S=E(U=>{let{teamId:P}=U;return D[P]},"getShouldPreserveModalsOnNavigation"),R=(0,v.Ay)("Add users and user groups to channel",async(U,P,L)=>{let{selectedMembers:F,addMemberMode:x,channel:b,keepChannelHistory:k,teamId:B,shouldSkipInitialStage:W}=L;const K={channelId:b.id,force:!0,reason:"submit-invite-channel-invite-modal"};let H,z;if(x===n.D.AllMembers)K.inviteAll=!0,H=[],z=[];else{const me=C(P(),F),_e=(0,s.A)(P(),b),Ae=(0,c.R)(P(),b);H=me.reduce((ye,oe)=>{if(oe&&T(oe)&&oe.entity){const ee=oe,V=(0,A.Sv)(P(),b.id,ee.value);if(!V.isKnown||!V.isMember){const w=(0,l.dQ)(ee.entity),Y=(0,i.S)(P(),ee.entity,b);(Ae||(0,a.g)(ee.entity)&&w&&_e.includes(w)||Y)&&ye.push(ee.value)}}return ye},[]),K.users=H.join(","),z=F.reduce((ye,oe)=>(oe&&I(oe)&&ye.push(oe.value),ye),[]),K.subteams=z.join(",")}const Q=K.inviteAll||!!K.users||!!K.subteams,q=(0,g._Z)(P(),"shared_channel_invite_requested_event")==="on",$={addedExistingMembers:Q,userInviteResults:H.map(me=>({ok:!0,invitee:me,inviteeType:_.T0.User,accessType:_.BD.Member,error:""})),groupInviteResults:z.map(me=>({ok:!0,invitee:me,inviteeType:_.T0.UserGroup,accessType:_.BD.Member})),newChannelId:void 0};let le;try{if(k)Q&&(await U((0,o.Cw)(K)).then(me=>{const{requested_invites:_e=[]}=me;le=_e}),q&&($.userInviteResults=$.userInviteResults.map(me=>{const _e=le.find(Ae=>Ae.user_id===me.invitee);return{...me,accessType:_e?_.BD.SharedChannel:me.accessType,inviteeType:_e?_.T0.Email:me.inviteeType,...q&&{isRequestedInvite:!!_e}}})));else{O({shouldPreserve:!W,teamId:B}),K.propagateInviteResult=!0;const{channel:me}=await U((0,u.t)(K));$.newChannelId=me.id,O({shouldPreserve:!1,teamId:B})}}catch(me){var te;O({shouldPreserve:!1,teamId:B});const _e=me==null||(te=me.data)===null||te===void 0?void 0:te.errors;if(!_e){var ce;if(!M[me==null||(ce=me.data)===null||ce===void 0?void 0:ce.error])throw me}_e==null||_e.forEach(Ae=>{if(M[Ae.error])return;const ye=$.userInviteResults.filter(ee=>ee.invitee===Ae.user);if(ye.length)ye[0].ok=!1,ye[0].error=Ae.error;else if(F.length===1&&!Ae.user&&W){var oe;$.userInviteResults=[{ok:!1,invitee:(oe=F[0])===null||oe===void 0?void 0:oe.value,inviteeType:_.T0.User,error:Ae.error,accessType:_.BD.Member}]}else $.userInviteResults.push({ok:!1,invitee:Ae.user,inviteeType:_.T0.User,error:Ae.error,accessType:_.BD.Member})})}return t.S.resolve($)});R.meta={name:"createThunk",key:"createThunkaddUsersAndGroupsToChannel",description:"Add users and user groups to channel"}},8854307618:(N,y,e)=>{"use strict";e.d(y,{r:()=>r});var t=e(6695353875),n=e(4326266690),o=e(8620339321),s=e(6304789565),c=e(7384121809);const r=(0,s.Ay)("Go back in history",(a,i)=>{const l=i();if((0,t.yZ)(l)){(0,n.ud)((0,c.Ry)())||(0,c.dispatchForClientStore)((0,o.oX)());return}window.history.back()});r.meta={name:"createThunk",key:"createThunkgoBackInWindowHistory",description:"Go back in history"}},7606925238:(N,y,e)=>{"use strict";e.d(y,{h:()=>r});var t=e(6695353875),n=e(4326266690),o=e(8620339321),s=e(6304789565),c=e(7384121809);const r=(0,s.Ay)("Go forward in history",(a,i)=>{const l=i();if((0,t.yZ)(l)){(0,n.uV)((0,c.Ry)())||(0,c.dispatchForClientStore)((0,o.qu)());return}window.history.forward()});r.meta={name:"createThunk",key:"createThunkgoForwardInWindowHistory",description:"Go forward in history"}},8646192222:(N,y,e)=>{"use strict";e.d(y,{AL:()=>f,Nu:()=>l,bF:()=>h,el:()=>d,hk:()=>m,mT:()=>_});var t=e(3202757386),n=e(4094753332),o=e(4517218976),s=e(4761125736),c=e(2047021170),r=e(4518410378),a=e(3193155968),i;const l=E(()=>{var u,g;return(i=(u=r.J.matchMedia)===null||u===void 0||(g=u.call(r.J,"not all and (prefers-contrast), (prefers-contrast)"))===null||g===void 0?void 0:g.matches)!==null&&i!==void 0?i:!1},"browserSupportsHighContrastColors"),m=E(()=>(0,t.A)()&&((0,n.cX)()||(0,n.jy)())&&(0,n.dY)("4.20.0"),"desktopSupportsHighContrastColors"),_=E((u,g)=>(0,s._Z)(u,"a11y_message_replay")==="on"&&(0,o.xT)(u,g)&&(0,o.ot)(u,g||a.N2),"shouldTriggerMessageReplay"),h=E(u=>(0,s._Z)(u,"a11y_underline_button_link")==="on"&&!!(0,c.ty)(u,"underline_links"),"shouldShowUnderlineButtonLink"),d=E(u=>(0,s._Z)(u,"secondary_view_container_as_dialog")==="on","canSecondaryViewContainerBeDialog"),f=E(u=>!(0,n.cX)()&&(0,s._Z)(u,"aria_application_usage")==="on","isUsingApplicationMode"),v=E(u=>getGroupForUser(u,"bbm_nux_translations")==="on","isBBMNuxTranslationsSupported")},8496310524:(N,y,e)=>{"use strict";e.d(y,{I:()=>c,u:()=>s});var t=e(9392104102),n=e(7969244833),o=e(9101533895);const s=E(r=>(r==null?void 0:r.name)||"","getActionName"),c=E((r,a,i)=>{const l=!i;let m=t.Ml;if(i){const _=(0,o.OL)(r,i);m=_&&(0,n.f)(r,_)||t.Ml}return a.teams&&(m.length||l)&&!a.isWorkspaceAgnostic?l?a.teams:a.teams.filter(h=>m.includes(h)):t.Ml},"getActionRelatedWorkspaces")},3152334950:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(4178531214),n=e(8847766420);function o(s){const c=(0,n.VO)(s);var r;return(0,t.ss)(s)&&((r=c==null?void 0:c.length)!==null&&r!==void 0?r:0)>1}E(o,"shouldShowAppsIndexTeamPicker")},3982416567:(N,y,e)=>{"use strict";e.d(y,{O4:()=>s,OB:()=>r});var t=e(937317117),n=e(5597672932);const o="canvas_version_history_enabled",s=E(a=>(0,n.xp)(a,o),"getCanvasVersionHistoryEnabledTeamPref"),c=E((a,i)=>{const l=(0,t.Lp)(a,i);return l?l.team_pref_version_history_enabled:!1},"getOwnerCanvasVersionHistoryEnabledTeamPref"),r=E((a,i)=>i?!!s(a)&&!!c(a,i):!1,"isCanvasVersionHistoryEnabled")},123281540:(N,y,e)=>{"use strict";e.d(y,{m:()=>n});var t=e(207659888);const n=E(o=>o===t.VZ.DirectMessages||o===t.VZ.GroupDirectMessages,"isDmLikeSection")},2063075339:(N,y,e)=>{"use strict";e.d(y,{Z:()=>s});var t=e(1407713935),n=e(6007206761),o=e(6113051341);const s=E((c,r)=>!(0,t.JM)(r)&&!(0,n.F)(r)&&!(0,o.N)(r),"canBeExternallyShared")},2912967402:(N,y,e)=>{"use strict";e.d(y,{B2:()=>i,Bw:()=>v,CM:()=>d,FA:()=>m,Jr:()=>f,Kg:()=>C,OH:()=>u,QS:()=>a,Vp:()=>p,bS:()=>A,bw:()=>l,lz:()=>r,oP:()=>h});var t=e(3078252698),n=e(2878685908),o=e(337319621),s=e(6471059816);const c=new s.Ay("channels"),r=80,a=250,i=250;function l(I){let{useFriendlyMpdmMaxLength:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,t.A)(I)?I.length>(M?r:a):((0,n.Cu)()&&(0,o.Wo)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}E(l,"channelTopicExceedsLimit");const m="too_long",_="restricted_action",h="user_is_restricted",d="method_not_supported_for_channel_type",f="method_not_supported_for_dm";function v(I){let{useFriendlyMpdmMaxLength:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(I){case m:return c.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:M?r:a});case _:case h:return c.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case d:return c.t("It\u2019s not possible to set a topic here, unfortunately.");case f:return c.t("Regrettably, direct messages do not have topics.");default:return c.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}E(v,"getChannelTopicError");const u="too_long",g="restricted_action",p="user_is_restricted",A="method_not_supported_for_channel_type",C="method_not_supported_for_dm";function T(I){switch(I){case u:return c.t("That purpose is too long. Please try again with fewer than {max} characters.",{max:i});case g:case p:return c.t("Uh oh! You don\u2019t have permission to change the purpose. Talk to your workspace admin.");case A:return c.t("It\u2019s not possible to set a purpose here, unfortunately.");case C:return c.t("Regrettably, direct messages do not have purposes.");default:return c.t("Uh oh! Something went wrong with setting the purpose. Please try again.")}}E(T,"getChannelPurposeError")},8243083011:(N,y,e)=>{"use strict";e.d(y,{q:()=>a});var t=e(1407713935),n=e(6113051341),o=e(6839188756),s=e(8040098042),c=e(9101533895),r=e(1670069836);const a=E((i,l)=>{if(!l||!(0,s.A)(l))return!1;const m=(0,r.H7)(i),_=(0,c.OL)(i,l),h=(0,t.JM)(_),d=(0,n.N)(_),f=(0,o.Ny)(m);return!(h||!f&&!d)},"doBroadcastKeywordPrefsApplyForChannel")},4559887502:(N,y,e)=>{"use strict";e.d(y,{i:()=>o});var t=e(1407713935),n=e(4590455802);const o=E((s,c)=>{if((0,t.JM)(c)||!s)return!1;const r=(0,n.j)(c),a=r?s.get(r):null;return a?(a==null?void 0:a.length)>1:!1},"doesChannelHaveNonUniqueName")},7868634217:(N,y,e)=>{"use strict";e.d(y,{Z:()=>i,Y:()=>l});var t=e(3502457281),n=e(8921478798),o=e(8276911661),s=e(3037015781),c=e(9262712126);function r(m,_,h){const d=!h;var f;const v=(f=(0,o.nv)(m,_,{preferNonExistentToNull:!1,fetchIfMissing:d}))!==null&&f!==void 0?f:void 0;return!v||h&&(0,s.mX)(v)?_:(0,c.wg)(v)}E(r,"getRealMemberNameById");var a=e(9392104102);const i=E((m,_)=>_?_.map(h=>({id:h,name:(0,n.I)(m,h)})).sort((h,d)=>(0,t.Ay)(h.name,d.name)).map(h=>h.id):a.Ml,"getAlphabeticallySortedMemberIds"),l=E((m,_)=>!_||!_.length?a.Ml:_.map(h=>({id:h,name:r(m,h)})).sort((h,d)=>(0,t.Ay)(h.name,d.name)).map(h=>h.id),"getRealNameAlphabeticallySortedMemberIds")},1212709343:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(7582939986),n=e(9268451279),o=e(6871931471);function s(c){return(0,o.Q)(c).filter(i=>(0,n.sC)(i)).length>=t.KD}E(s,"hasMaxComposerDrafts")},6045879501:(N,y,e)=>{"use strict";e.d(y,{H:()=>t});function t(n){return n&&n.emoji}E(t,"getEmojiCollectionEmoji")},370406050:(N,y,e)=>{"use strict";e.d(y,{M:()=>t});function t(n){return n&&n.name}E(t,"getEmojiCollectionName")},5071545805:(N,y,e)=>{"use strict";e.d(y,{j:()=>t});function t(n){return n&&n.installed}E(t,"isEmojiCollectionInstalled")},3890290905:(N,y,e)=>{"use strict";e.d(y,{Y:()=>t});const t=E(n=>n&&n.name,"getEmojiName")},9362126998:(N,y,e)=>{"use strict";e.d(y,{$R:()=>U,BM:()=>Ae,DC:()=>W,JC:()=>L,Jn:()=>le,Kj:()=>Q,NG:()=>_e,RI:()=>z,UF:()=>x,Wg:()=>$,cG:()=>K,hP:()=>B,lL:()=>ce,p4:()=>ye,qh:()=>me,rY:()=>k,y0:()=>q,yD:()=>F});var t=e(9113979368),n=e(8840779375),o=e(1703559452),s=e(2384831516),c=e(2531389923),r=e(4094753332),a=e(5795074931),i=e(9101533895),l=e(8455301571),m=e(7606781622),_=e(5597672932),h=e(8276911661),d=e(3534324375),f=e(937317117),v=e(4827886670),u=e(340763958),g=e(3110884894),p=e(2647703359),A=e(1257883628),C=e(4702704067),T=e(3929724715),I=e(9536443280),M=e(6471059816),D=e(9392104102),O=e(3207321841),S=e(6946629059);const R=new M.Ay("stories_av"),U=E((oe,ee)=>{const V=!!ee&&(0,u.ju)(ee);let w=!0;return V?w=(0,_.xp)(oe,"allow_video_clips")&&(0,_.xp)(oe,"allow_video_clip_sharing_slack_connect"):w=(0,_.xp)(oe,"allow_video_clips"),w},"isVideoClipSharingEnabledForChannel"),P=E((oe,ee,V)=>{const w=(0,i.OL)(oe,ee),Y=U(oe,w);return(!ee||!V&&(0,v.E)(oe,ee)||!!V&&(0,T.NI)(oe,w))&&Y},"canDestinationReceiveVideoClips"),L=E((oe,ee,V)=>P(oe,ee,V),"canPostVideoClipInDestination"),F=E((oe,ee,V)=>P(oe,ee,V)&&L(oe,ee,V)&&!!window.MediaRecorder,"shouldRenderVideoRecorderButtonInComposer"),x=E((oe,ee)=>{const V=!!ee&&(0,u.ju)(ee);let w=!0;return V?w=(0,_.xp)(oe,"allow_audio_clips")&&(0,_.xp)(oe,"allow_audio_clip_sharing_slack_connect"):w=(0,_.xp)(oe,"allow_audio_clips"),w},"isAudioClipSharingEnabledForChannel"),b=E((oe,ee,V)=>{const w=(0,i.OL)(oe,ee),Y=x(oe,w);return(!ee||!V&&(0,v.E)(oe,ee)||!!V&&(0,T.NI)(oe,w))&&Y},"canDestinationReceiveAudioClips"),k=E((oe,ee,V)=>b(oe,ee,V),"canPostAudioMessageInDestination"),B=E((oe,ee,V)=>b(oe,ee,V)&&k(oe,ee,V)&&!!window.MediaRecorder,"shouldRenderAudioRecorderButtonInComposer"),W=E((oe,ee)=>{if(!le(ee))return!0;const V=(0,_.xp)(oe,"allow_clip_downloads"),w=(0,a.WR)(oe),Y=(0,c.qc)(oe,w);if(V==="anyone"||Y)return!0;const G=ee.user!==null&&ee.user===w;return!!(V==="creator_and_admins"&&G)},"canDownloadClip"),K=E((oe,ee)=>W(oe,ee)||(0,r.y3)(),"canOpenClipInNewWindow"),H=(0,s.Mz)((oe,ee)=>{if(!ee)return!1;if((0,t.A)(ee.files))return D.Ml;const V=(0,n.A)(ee.files,w=>(0,f.Lp)(oe,w));return(0,o.A)(V,A.A)});H.meta={name:"createSelector",key:"createSelectorisStoryMessage",description:(oe,ee)=>{if(!ee)return!1;if((0,t.A)(ee.files))return D.Ml;const V=(0,n.A)(ee.files,w=>(0,f.Lp)(oe,w));return(0,o.A)(V,A.A)}};function z(oe){let{state:ee,threadKey:V,includeAllMessages:w=!1,startTs:Y}=oe;const{channelId:G,threadTs:Z}=(0,g.Sb)(V),{timestamps:se,reachedStart:ae,reachedEnd:re}=(0,l.r7)(ee,V,Y||Z)||{},pe=se!=null&&se.length&&G?se.map(de=>(0,m.Ld)(ee,G,de)).filter(S.b):[];return{messages:w?pe:pe.filter(de=>H(ee,de)),reachedStart:!!ae,reachedEnd:!!re}}E(z,"getMediaThread");function Q(oe){var ee;return oe!=null&&oe.vtt?I.D.available:(oe==null||(ee=oe.transcription)===null||ee===void 0?void 0:ee.status)==="processing"?I.D.processing:I.D.none}E(Q,"getCaptionsAvailability");const q=E(oe=>(0,_.xp)(oe,"allow_media_transcriptions"),"shouldAllowMediaTranscriptions");function $(oe,ee){let V="";if(ee.user){const Y=(0,h.nv)(oe,ee.user);V=Y?(0,d.sE)(oe,Y):""}let w;return V?w=(0,C.A)(ee)?R.t("Audio clip from {memberName}",{memberName:V}):R.t("Video clip from {memberName}",{memberName:V}):w=(0,C.A)(ee)?R.t("Audio clip"):R.t("Video clip"),w}E($,"getLabelForClip");function le(oe){return oe!=null&&oe.subtype?te(oe.subtype):!1}E(le,"isClip");function te(oe){let{clipsSubtypes:ee=O.Y1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ee.includes(oe)}E(te,"isClipsSubtype");function ce(oe){return oe===O.iN}E(ce,"isAudioClipSubtype");function me(oe){return oe&&oe.some(ee=>te(ee.subtype))}E(me,"containsClip");function _e(oe){return oe?oe.filter(ee=>te(ee.subtype)):[]}E(_e,"findClips");function Ae(oe,ee){const V=(0,a.WR)(oe);return(ee==null?void 0:ee.user)===V}E(Ae,"canRemoveTranscriptPreview");function ye(oe){return(0,p.pI)(oe)?(oe==null?void 0:oe.aac)||(oe==null?void 0:oe.url_private):(oe==null?void 0:oe.mp4)||(oe==null?void 0:oe.url_private)}E(ye,"getMediaSrc")},7747467459:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(3037015781);function n(o){return(0,t.mX)(o)}E(n,"isFileUnknown")},102566929:(N,y,e)=>{"use strict";e.d(y,{Fh:()=>l,Iz:()=>i,gC:()=>a});var t=e(3009309149),n=e(937317117),o=e(497761763),s=e(6078549397),c=e(2823938397);const r=(0,t.Ay)((m,_)=>{const{fileIdOrQuipThreadId:h}=(0,s.EX)(_);if((0,o.A)(h)){var d;return(d=(0,n.Lp)(m,h))!==null&&d!==void 0?d:null}return null});r.meta={name:"createSelector",key:"createSelectormaybeGetFileByCompoundId",description:(m,_)=>{const{fileIdOrQuipThreadId:h}=(0,s.EX)(_);if((0,o.A)(h)){var d;return(d=(0,n.Lp)(m,h))!==null&&d!==void 0?d:null}return null}};const a=(0,t.Ay)((m,_)=>{const h=r(m,_);return h&&(0,c.uz)(h)?h:null});a.meta={name:"createSelector",key:"createSelectormaybeGetExistentFileByCompoundId",description:(m,_)=>{const h=r(m,_);return h&&(0,c.uz)(h)?h:null}};function i(m){return m.linked_channel_id}E(i,"getLinkedChannelId");function l(m){return["spaces-example-onboarding-canvas","spaces-example-team-meeting"].includes(m)}E(l,"isSampleCanvas")},3848977043:(N,y,e)=>{"use strict";e.d(y,{eY:()=>T,QX:()=>D,dL:()=>I,oG:()=>O,Lz:()=>M,L7:()=>F,J5:()=>L,XH:()=>S,nY:()=>R});var t=e(2837660778),n=e(1340402138),o=e(7969244833),s=e(3792998666),c=e(8323393403),r=e(6839188756),a=e(9950739645),i=e(7112191091),l=e(3347557755),m=e(6476812141),_=e(4618126901),h=e(5795074931);const d=E((x,b)=>{const k=(0,h.TZ)(x);if(b&&k){const W=(0,l.oI)(x,{permission:m.p.INVITE_GUEST});return(0,_.Vf)(b.id,W)}const B=(0,l.ox)(x,{permission:m.p.INVITE_GUEST});return(0,_.Jr)(B)},"canUserInviteGuests");var f=e(5184226701),v=e(7668372645),u=e(9101533895),g=e(8276911661),p=e(8983368692),A=e(5597672932),C=e(1670069836);function T(x){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const k=(0,g.cA)(x),B=b??(0,C.H7)(x);if(!B)return!1;const W=(0,i.Me)(x,B.id),K=(0,p.cn)(x,{teamOrEnterpriseIds:[B.id]});return W||K?!0:(0,s.P)(k)?!1:(0,A.xp)(x,"invites_only_admins",b==null?void 0:b.id)?d(x,B):!0}E(T,"canUserInviteMembersToWorkspace");function I(x,b,k){const B=b||(0,g.cA)(x),W=k||(0,C.H7)(x);return!(!W&&!W||(0,s.P)(B)||!(0,A.xp)(x,"invite_requests_enabled",W.id))}E(I,"canUserRequestToInvite");function M(x){const b=(0,g.cA)(x),k=(0,C.H7)(x);return!k||(0,n.R)(x)?!1:(0,r.r7)(k)?!!(0,t.Mo)(x).filter(W=>I(x,b,W)||T(x,W)).length:!!(I(x,b,k)||T(x))}E(M,"canUserSeeInviteModal");function D(x,b){const k=(0,C.H7)(x);if(!k)return!1;const B=(0,u.OL)(x,b),W=(0,r.tc)(k),K=(0,r.r7)(k),H=(0,c.D7)(x,b),z=K?!R(x,B):M(x);return W&&z||!W&&(z||H)}E(D,"canUserInviteToChannelByEmail");function O(x,b){const k=(0,g.cA)(x),B=b?(0,C._J)(x,b):(0,C.H7)(x);return!B||(0,r.tc)(B)?!1:I(x,k,B)?!0:d(x,B)}E(O,"canUserSeeAccountTypeOptions");function S(x,b){let{ignoreGuestSettings:k}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const B=(0,g.cA)(x),W=b?(0,C._J)(x,b):(0,C.H7)(x);if(!(0,r.r7)(W))return!1;const K=(0,i.Me)(x,W.id),H=(0,p.cn)(x,{teamOrEnterpriseIds:[W.id]});return K||H||!(0,A.xp)(x,"invites_only_admins",W.id)||I(x,B,W)?!1:k?!0:d(x,W)}E(S,"shouldDisableFullMemberInviteOption");function R(x,b){const k=(0,o.f)(x,b);return!!(k!=null&&k.every(B=>S(x,B,{ignoreGuestSettings:!0})))}E(R,"shouldDisableFullMemberInviteOptionForChannel");function U(x){let{state:b,team:k,inviteType:B}=x,W=k;if(!k&&(W=getCurrentTeam(b),!W))return!1;const K=getTeamPref(b,"auth_mode"),H=K==="google"||K==="saml";return isEnterpriseOrEnterpriseWorkspace(W)&&B===AccessType.Member||H&&getTeamPref(b,"sso_auth_restrictions")===0}E(U,"shouldShowSsoAlert");function P(x){let{state:b,inviteType:k}=x;const B=getTeamPref(b,"auth_mode"),W=getTeamPref(b,"sso_auth_restrictions");return B==="google"?k===AccessType.Member&&(W===0||W===1)||(k===AccessType.MultiChannelGuest||k===AccessType.SingleChannelGuest)&&W===0:!1}E(P,"shouldShowGoogleDomainsNotice");function L(x){let{state:b,inviteType:k,team:B}=x;if(!k||!(0,f.LX)(k))throw new Error(`Invalid invite type: ${k}`);const W=B||(0,C.H7)(b);if(!W||(0,a.N)(B))return!1;const K=(0,A.xp)(b,"invites_only_admins",W==null?void 0:W.id),H=(0,i.Me)(b,W.id),z=(0,p.cn)(b,{teamOrEnterpriseIds:[W.id]}),Q=d(b,W);switch(k){case f.BD.Member:return H||z?!1:!!K;case f.BD.MultiChannelGuest:case f.BD.SingleChannelGuest:return!Q;default:return!0}}E(L,"isRequestingInvitesForType");function F(x){let{state:b}=x;const k=(0,C.H7)(b);return(0,v.z$)()?!0:(0,r.r7)(k)?!!(0,A.xp)(b,"hide_gsuite_invite_option"):!1}E(F,"isGoogleDirectoryDisabled")},9438480351:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(9101533895),n=e(3929724715);function o(s,c){const r=(0,t.Pu)(s,c&&c.id);return r?(0,n.$M)(r):null}E(o,"getImUnreadCountByMember")},9541658228:(N,y,e)=>{"use strict";e.d(y,{P:()=>r});var t=e(2003990933),n=e(5096647761),o=e(8847766420),s=e(6536982570),c=e(8170643398);function r(a,i){if(!a||!i||(0,n.g)(i))return!1;const l=(0,s.QI)(i);return(0,c.dk)(i)&&(l===(0,o.jV)(a)||l===(0,t.A)(i,"enterprise_user.enterprise_id"))}E(r,"isMemberFromOrg")},148278831:(N,y,e)=>{"use strict";e.d(y,{S:()=>i});var t=e(918457931),n=e(2298581483),o=e(6536982570),s=e(5096647761),c=e(2003903489),r=e(9541658228),a=e(893266994);const i=E((l,m,_)=>{if((0,s.g)(m))return!1;if((0,r.P)(l,m)){if((0,c.S)(_))return!0;if((0,t.t)(_))return(0,n.R)(l,_).some(f=>(0,o.nO)(m,f))}const h=(0,a.c)(_);return(0,o.nO)(m,h)},"isMemberOnSomeChannelWorkspace")},863407566:(N,y,e)=>{"use strict";e.d(y,{A:()=>u});var t=e(8455301571),n=e(3080060173),o=e(7606781622),s=e(3730613858),c=e(5795074931),r=e(8276911661),a=e(8170643398),i=e(4562579337),l=e(7334104107),m=e(9187449049),_=e(7616363684),h=e(1794107122),d=e(9290914927),f=e(1809170903);const v=23;function u(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Math.max((0,n.UL)(),A),T=arguments.length>4?arguments[4]:void 0;if(!(0,t.si)(g,p))return[];const I=(0,t.r7)(g,p);if(!I||!I.timestamps)return[];const M=(0,o.h8)(g,p),D=I.timestamps.slice(-C),O=(0,c.WR)(g);let S=[],R=[],U=!1;const P=[],L=[],F=[],x=[],b=[],k=[];let B=!1;for(let K=D.length-1;K>=0;K--){const H=M[D[K]],z=(0,l.Hr)(H);if(!z)continue;if(T&&z===O){B=!0;continue}if(!(T?P.includes(z)||F.includes(z)||b.includes(z):S.includes(z))&&!(0,_.A)(H)&&(0,m.A)(H,O)){const q=(0,s.Sv)(g,p,z),$=(0,r.nv)(g,z);if(U||(U=!(q!=null&&q.isKnown)||(0,a.t8)($)),!U&&(q!=null&&q.isKnown)&&(q!=null&&q.isMember)&&!(0,i.A)($)&&!(0,a.oy)($)){if(T){if((0,d.gd)(g,z)==="active"?(0,f.Vd)(g,z)?(F.push(z),x.push($)):(P.push(z),L.push($)):(b.push(z),k.push($)),L.length===A||F.length+k.length===v-A)break}else if(S.push(z),R.push($),R.length===A)break}}}if(U)return[];if(T&&(L.length===A?(R=L,S=P):(R=L.concat(x.slice(0,A-L.length)),S=P.concat(F.slice(0,A-b.length)),R.length<A&&(R=R.concat(k.slice(0,A-L.length)),S=S.concat(b.slice(0,A-b.length))))),R.length>=A)return R;const W=(0,h.$)(g,p);if(!W.length)return[];for(let K=0;K<W.length;K++){const H=W[K];if(H&&!S.includes(H)&&(T&&H===O?B=!0:(S.push(H),R.push((0,r.nv)(g,H)))),R.length===A)break}return R.length===0&&B&&(S.push(O),R.push((0,r.nv)(g,O))),R}E(u,"getLastNRelevantMembersInChannel")},1198382523:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3078252698),n=e(8289365785),o=e(4138249182),s=e(2647703359);function c(r,a){if(!r)return"";let i="";if(r&&r.subtype!=="tombstone"){i=(0,t.A)(r.text)?r.text:"";const l=(0,n.A)(r.attachments);if(l&&l.is_msg_unfurl&&(!i||(0,o.A)(r))){const m=typeof l.original_url=="string"?l.original_url:"";i=l.text||m||""}}if(!i&&a&&!(a!=null&&a.isNonExistent)){const l=(0,s.SB)(a);l&&(i=l)}return i}E(c,"getMessageRootText")},7980641:(N,y,e)=>{"use strict";e.d(y,{A:()=>F});var t=e(2003990933),n=e(8289365785),o=e(937317117),s=e(8276911661),c=e(7582939986),r=e(9464746668),a=e(8677230210),i=e(2647703359),l=e(7334104107),m=e(1407713935),_=e(6470070112),h=e(9373230523),d=e(6471059816),f=e(9101533895),v=e(9548972574);const u=new d.Ay("huddles"),p=E(x=>{let{msg:b,state:k,roomId:B}=x;var W;const K=(0,f.OL)(k,b.channel),H=(0,m.LI)(K),z=(0,m.yz)(K)||H;let Q=u.t("Huddles");const q=(0,_.Vh)({state:k,roomId:B}),$=(0,v.E$)(k,B),le=(0,_.Qw)(k,B),te=(0,v.xx)(k,B),ce=(0,v._5)(k,B),me=(0,v.l)(k,B),_e=ce.length+me.length,Ae=(W=(0,v.Ej)(k,B))===null||W===void 0?void 0:W.trim();if(q&&!$)if(Ae){var ye;Q=(ye=u.rt("{huddleTopic} is happening",{huddleTopic:Ae}).props)===null||ye===void 0?void 0:ye.children}else if(!z||_e===0)Q=u.t("A huddle is happening");else{const w=ce.slice(0,2),Y=me.slice(0,2);let G,Z;w.forEach(se=>{G?Z||(Z=(0,h.A)(k,se)):G=(0,h.A)(k,se)}),Y.forEach(se=>{G?Z||(Z=se):G=se}),Q=u.t("{participants, plural, =0 {{firstParticipant} is} =1 {{firstParticipant} and {secondParticipant} are} other {{firstParticipant} and # others are}} in the huddle.",{participants:_e-1,firstParticipant:G,secondParticipant:Z})}if(q&&$)if(Ae){var oe;Q=(oe=u.rt("You joined {huddleTopic}",{huddleTopic:Ae}).props)===null||oe===void 0?void 0:oe.children}else Q=u.t("You joined the huddle");if(!q)if(le)Q=u.t("You missed a huddle");else if(Ae&&te.length){var ee;Q=(ee=u.rt("{huddleTopic} happened",{huddleTopic:Ae}).props)===null||ee===void 0?void 0:ee.children}else if(Ae&&!te.length){var V;Q=(V=u.rt("{huddleTopic} happened, but no one joined",{huddleTopic:Ae}).props)===null||V===void 0?void 0:V.children}else Q=u.t("A huddle happened");return Q},"HuddleMessageUserName");var A=e(5795074931),C=e(5332875232);const T=new d.Ay("huddles"),M=E(x=>{let{schedule:b,state:k}=x;var B;if(!(0,C.MJ)(k)||!b)return null;const H=(0,A.WR)(k)===b.inviter_user_id;var z;const Q=(0,h.A)(k,(z=b.inviter_user_id)!==null&&z!==void 0?z:""),q=T.rt("You scheduled a huddle"),$=T.rt("{memberName} scheduled a huddle",{memberName:Q});let le=H?q:$;const te=b.topic;if(te){const ce=T.rt("You scheduled {huddleTopic}",{huddleTopic:te}),me=T.rt("{memberName} scheduled {huddleTopic}",{memberName:Q,huddleTopic:te});le=H?ce:me}return(B=le.props)===null||B===void 0?void 0:B.children},"ScheduledHuddleUserName"),D=new d.Ay("huddles"),S=E(x=>{let{schedule:b,state:k}=x;if(!(0,C.MJ)(k))return"";let W=D.t("A scheduled huddle is canceled");const K=b==null?void 0:b.topic;return K&&(W=D.t("Scheduled huddle {huddleTopic} has been canceled",{huddleTopic:K})),W},"DeleteScheduledHuddleUserName");var R=e(9280052135),U=e(6457401668),P=e(7606781622);const L=new d.Ay("assistant");function F(x,b,k){let B=b.user||(0,t.A)(b,"comment.user");const W=b.document_comment;W&&(W.most_recent_editor?B=W.most_recent_editor:W.authors&&W.authors.length>0&&(B=W.authors[0]));const K=b.username;let H=null;const z=b.file||(0,n.A)(b.files),Q=k||(z?(0,o.Lp)(x,z):null);let q=b.bot_id||Q&&Q.bot_id;if(!q){const ee=(0,s.nv)(x,B);var $;q=($=(0,r.A)(x,ee))!==null&&$!==void 0?$:void 0}let le=null;q&&(H=(0,a.AF)(x,q),le=H?H.app_id:null);const te=(0,R.l)(x);if((0,l.mb)(b))return{username:p({msg:b,state:x,roomId:b.room_id}),isHuddleMsg:!0,huddleActivityStatus:(0,_.K8)(x,b.room_id)};if((0,U.Iu)(b)){var ce,me;if((b==null||(ce=b.ai_context)===null||ce===void 0||(me=ce.summary)===null||me===void 0?void 0:me.type)==="huddle"){var _e;const ee=L.t("AI huddle notes are ready");return{username:(b==null||(_e=b.ai_context)===null||_e===void 0?void 0:_e.result_status)==="complete"?ee:L.t("Slack AI"),isHuddleMsg:!0}}}if(te&&(0,U.qZ)(b))return{username:"Slack Assistant",isAssistantThread:!0};if(te&&(b!=null&&b.thread_ts)&&(b==null?void 0:b.user)==="USLACKBOT"&&(0,U.qZ)((0,P.Ld)(x,b==null?void 0:b.channel,b==null?void 0:b.thread_ts)))return{username:"Slack Assistant",isAssistantThread:!0};if((0,l.zv)(b)){const ee=(0,C.MJ)(x);var Ae;const V=(Ae=b.schedule)!==null&&Ae!==void 0?Ae:null;return{username:ee?M({schedule:V,state:x}):"Huddle was scheduled",isScheduledHuddleMsg:!0}}if((0,l.GO)(b)){const ee=(0,C.MJ)(x);var ye;const V=(ye=b.schedule)!==null&&ye!==void 0?ye:null;return{username:ee?S({schedule:V,state:x}):"Scheduled Huddle was deleted",isDeleteScheduledHuddleMsg:!0}}if((0,l.aH)(b)){var oe;return{userId:(oe=b.list_edit)===null||oe===void 0?void 0:oe.created_by,isListEditMsg:!0}}return(0,U.cb)(b)||(0,U.Ni)(b)?{username:"Canvas updated"}:(0,U.gA)(b)?{userId:b.tab_added_user_id}:B===c.Q$&&Q&&Q.bot_id?Q.filetype==="email"&&H&&H.name?{...(0,i.xR)(Q),botId:q,appId:le}:{...(0,i.xR)(Q),username:K||Q.username,botId:q,appId:le}:B?{appId:le,botId:q,userId:B}:{appId:le,botId:q,username:K}}E(F,"getMsgSenderEntity")},4138249182:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(675958705),n=e(8289365785),o=e(9802930866),s=e(8389327410);function c(r){const a=(0,n.A)(r.attachments);if(!a||!a.is_msg_unfurl)return!1;const i=a.from_url;if((0,t.A)(r,!1)){const l=(0,n.A)(r.blocks);if(!l||!l.elements)return!1;const m=(0,o.A)(l.elements,{hasMsgLink:!1,hasOtherContent:!1},(_,h)=>h.type===s.Lv.LINK&&h.url===i&&(!h.text||h.text===i)?{..._,hasMsgLink:!0}:{..._,hasOtherContent:!0});return m.length===1&&m[0].hasMsgLink&&!m[0].hasOtherContent}return!r.text||r.text===`<${i}>`}E(c,"isSimpleMessageUnfurl")},7616363684:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(7334104107),n=e(7582939986);function o(s){return(0,t.Hr)(s)===n.Q$}E(o,"isSlackbotMessage")},6943610832:(N,y,e)=>{"use strict";e.d(y,{A:()=>P});var t=e(4711108074),n=e.n(t),o=e(2047021170),s=e(3829348308),c=e(9907843289),r=e(3009309149),a=e(6866036454),i=e(7582939986),l=e(3890290905),m=e(9599231336),_=e(4590455802),h=e(362134992),d=e(7841516218),f=e(9410394460),v=e(6102481218),u=e(7334334660),g=e(2453977996);function p(L){let{state:F,contents:x,searchFunc:b,highlightWords:k,isEmojiDisplayedAsText:B,useChannelTagging:W}=L;const K=(0,h.A)((0,g.A)(x,{useChannelTagging:W}).map(z=>{const Q=b(z.type,z.labelWithoutPrefix);if(!Q.length)return null;const q={};let $;if(z.type==="channel")$=(0,v.A)({results:Q,globalIndex:z.globalIndex,matchLength:z.matchLength,formats:q});else{if(z.type==="emoji")return(0,f.A)({results:Q,globalIndex:z.globalIndex,matchLength:z.matchLength,formats:q});$=(0,u.A)({state:F,results:Q,text:z.text,label:z.label,globalIndex:z.globalIndex,localIndex:z.localIndex,matchLength:z.matchLength,formats:q})}return!$||$.id==="UNVERIFIED"?null:$}));if(!K.length)return x;const H=(0,d.A)(K,k,B);return x.compose(H)}E(p,"replacePotentialMentionsSynchronously");var A=e(9935649141),C=e(4291335534),T=e(2229186),I=e(7908601590),M=e(3924280006),D=e(4206015041),O=e(4244114639),S=e(4504227813),R=e(7383598433);const U=(0,r.Ay)((L,F)=>{const{channelId:x,inThread:b,useChannelTagging:k=!0,useColonEmojiConversion:B=!1,delta:W=new(n())}=F,K=(0,a.A)(L),H=B||(0,m.P)(L),z=b||!(0,I.A)(L,x||"")?[]:(0,T.A)(L,x||"");let Q=W;const q=(0,o.ty)(L,"plain_text_mode");if(q&&(Q=(0,A.Ay)(Q,{ignoreUnbalancedParentheses:!0}),[S.A,O.A].forEach(te=>{Q=Q.compose(te(Q,null,q))})),H){const te=(0,D.A)(W,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,locale:(0,c.Yp)(),emojiNames:(0,s.CK)(L),replaceNativeEmoji:!1,usePlainTextMode:!!q,teamId:void 0});te.length()>0&&(Q=W.compose(te))}const $={contents:Q.ops},le=p({state:L,contents:new(n())($.contents),highlightWords:K,isEmojiDisplayedAsText:H,useChannelTagging:k,searchFunc:(te,ce)=>{if(!["member","channel"].includes(te))return[];if(!ce)return[];if(te==="channel")return(0,M.G2)(L,{query:ce,options:{entities:{channels:{includePrivate:!1,includeFromAnotherTeam:!0}},limit:i.zE,sort:{source:"texty-autocomplete"}}}).filter(Ae=>(0,_.j)(Ae)===ce);const me=(0,C.dx)(z,ce);return me?[me]:!H&&te==="emoji"?(0,M.G2)(L,{query:ce,options:{entities:{emoji:!0},limit:i.zE,sort:{source:"texty-autocomplete"}}}).filter(Ae=>(0,l.Y)(Ae)===ce):(0,M.G2)(L,{query:ce,options:{entities:{userGroups:{includeFromAnotherTeam:(0,R.J)(L)},members:{includeSelf:!0,includeSlackbot:!1}},limit:i.zE,sort:{source:"texty-autocomplete"}}})}});return{processedDelta:(0,A.Ay)(le,{limitCodeBlockLinksToFullURLs:!0,ignoreExistingLinks:!0})}});U.meta={name:"createSelector",key:"createSelectorprepareMessage",description:(L,F)=>{const{channelId:x,inThread:b,useChannelTagging:k=!0,useColonEmojiConversion:B=!1,delta:W=new(n())}=F,K=(0,a.A)(L),H=B||(0,m.P)(L),z=b||!(0,I.A)(L,x||"")?[]:(0,T.A)(L,x||"");let Q=W;const q=(0,o.ty)(L,"plain_text_mode");if(q&&(Q=(0,A.Ay)(Q,{ignoreUnbalancedParentheses:!0}),[S.A,O.A].forEach(te=>{Q=Q.compose(te(Q,null,q))})),H){const te=(0,D.A)(W,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,locale:(0,c.Yp)(),emojiNames:(0,s.CK)(L),replaceNativeEmoji:!1,usePlainTextMode:!!q,teamId:void 0});te.length()>0&&(Q=W.compose(te))}const $={contents:Q.ops},le=p({state:L,contents:new(n())($.contents),highlightWords:K,isEmojiDisplayedAsText:H,useChannelTagging:k,searchFunc:(te,ce)=>{if(!["member","channel"].includes(te))return[];if(!ce)return[];if(te==="channel")return(0,M.G2)(L,{query:ce,options:{entities:{channels:{includePrivate:!1,includeFromAnotherTeam:!0}},limit:i.zE,sort:{source:"texty-autocomplete"}}}).filter(Ae=>(0,_.j)(Ae)===ce);const me=(0,C.dx)(z,ce);return me?[me]:!H&&te==="emoji"?(0,M.G2)(L,{query:ce,options:{entities:{emoji:!0},limit:i.zE,sort:{source:"texty-autocomplete"}}}).filter(Ae=>(0,l.Y)(Ae)===ce):(0,M.G2)(L,{query:ce,options:{entities:{userGroups:{includeFromAnotherTeam:(0,R.J)(L)},members:{includeSelf:!0,includeSlackbot:!1}},limit:i.zE,sort:{source:"texty-autocomplete"}}})}});return{processedDelta:(0,A.Ay)(le,{limitCodeBlockLinksToFullURLs:!0,ignoreExistingLinks:!0})}}};const P=U},6120301420:(N,y,e)=>{"use strict";e.d(y,{Du:()=>m,FI:()=>f,Fg:()=>i,H0:()=>v,QG:()=>l,Rn:()=>n,Vs:()=>g,ZJ:()=>u,hq:()=>d,p6:()=>o,rY:()=>h,wS:()=>s,yu:()=>c});var t=e(4761125736);function n(p){return(0,t._Z)(p,"spaceship_posts_migration")==="on"}E(n,"isSpaceshipPostsMigrationEnabled");function o(p){return(0,t._Z)(p,"spaceship_inline_comments")==="on"}E(o,"isSpaceshipInlineCommentsEnabled");function s(p){return(0,t._Z)(p,"canvas_button_workflows")==="on"}E(s,"isCanvasButtonWorkflowsEnabled");function c(p){return(0,t._Z)(p,"canvas_convert_to_callout")==="on"}E(c,"isCanvasConvertToCalloutEnabled");function r(p){return getGroupForUser(p,"spaceship_automation_next")==="on"}E(r,"isCanvasAutomationNextEnabled");function a(p){return getGroupForUser(p,"spaceship_automation_variables_next")==="on"}E(a,"isCanvasAutomationVariablesNextEnabled");function i(p){return(0,t._Z)(p,"spaceship_automation_later")==="on"}E(i,"isCanvasAutomationLaterEnabled");function l(p){return(0,t._Z)(p,"canvas_smart_cards")==="on"}E(l,"isCanvasSmartCardsEnabled");function m(p){return(0,t._Z)(p,"canvas_channel_overview_creation")==="on"}E(m,"isCanvasChannelOverviewCreationEnabled");function _(p){return getGroupForUser(p,"canvas_expanded_rich_text")==="on"}E(_,"isCanvasExpandedRichTextEnabled");function h(p){return(0,t._Z)(p,"canvas_private_message_unfurl_speedbump_v2")==="on"}E(h,"isCanvasPrivateMessageSpeedbumpForTitlesEnabled");function d(p){return(0,t._Z)(p,"search_channel_canvases")==="on"}E(d,"isChannelCanvasSearchEnabled");function f(p){return(0,t._Z)(p,"canvas_comment_file_sharing")==="on"}E(f,"isCanvasCommentFileSharingEnabled");function v(p){return(0,t._Z)(p,"canvas_comment_content_improvements")==="on"}E(v,"isCanvasCommentContentImprovementsEnabled");function u(p){return(0,t._Z)(p,"huddles_standalone_canvas")==="on"}E(u,"isStandaloneMeetingNotesEnabledForChannel");function g(p){return(0,t._Z)(p,"canvas_readtime")==="on"}E(g,"isCanvasReadtimeEnabled")},3683888369:(N,y,e)=>{"use strict";e.d(y,{l:()=>s});var t=e(1552255081),n=e(6839188756),o=e(1670069836);const s=E(c=>(0,t.F)(c)&&!(0,n.tc)((0,o.H7)(c)),"teamCanCreateStandaloneCanvas")},5757070316:(N,y,e)=>{"use strict";e.d(y,{J:()=>o});var t=e(78546762),n=e(1802262330);const o=E((s,c)=>{var r,a;let i,l,m;s&&(s.subtype==="file_comment"?[l,i]=["file_comment",s.comment]:(0,t.A)(s.subtype)?[l,i]=["file",c]:[l,i,m]=["message",s,s.channel]);const _=l==="message"?(r=i)===null||r===void 0?void 0:r.ts:(a=i)===null||a===void 0?void 0:a.id;return i&&(i._rxn_key||(0,n.B)(l,_,m))},"getReactionKey")},9001455011:(N,y,e)=>{"use strict";e.d(y,{t:()=>o});var t=e(3009309149),n=e(9889493721);const o=(0,t.Ay)(s=>!((0,n.Bf)(s)||!(0,n.pr)(s)));o.meta={name:"createSelector",key:"createSelectorshouldShowAppsLink",description:s=>!((0,n.Bf)(s)||!(0,n.pr)(s))}},2585735826:(N,y,e)=>{"use strict";e.d(y,{R:()=>l});var t=e(1407713935),n=e(6113051341),o=e(340763958);const s=E((m,_)=>!(0,t.JM)(_)&&(0,o.ju)(_)&&!(0,n.N)(_),"canBeDisconnected");var c=e(1359849784),r=e(6839188756),a=e(6025726268),i=e(1670069836);function l(m,_){if(_&&!s(m,_))return!1;if(_&&(0,a.M)(m,_))return!0;const h=(0,i.H7)(m);return(0,r.tc)(h)?!0:(0,c.I)(m,_)}E(l,"canUserDisconnectExternalSharedChannel")},4803097854:(N,y,e)=>{"use strict";e.d(y,{RY:()=>l,cG:()=>c,l6:()=>i});var t=e(7358758030),n=e(1650729052),o=e(5861086925),s=e(6841796315);const c={RestrictedAction:Symbol("restricted_action"),CanCreateExternalLimitedPref:Symbol("can_create_external_limited_pref"),WhoCanCreateExternalLimitedPref:Symbol("who_can_create_external_limited_pref")},r={ok:!1,reason:c.CanCreateExternalLimitedPref},a={ok:!1,reason:c.WhoCanCreateExternalLimitedPref},i=E(m=>{if(!(0,t.i)(m))return r;const h=o.yY.WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE;return(0,n.y)(m,h)?s.O:a},"canUserInviteExternalLimitedMembersWithReason"),l=E(m=>i(m).ok,"canUserInviteExternalLimitedMembers")},8323393403:(N,y,e)=>{"use strict";e.d(y,{D7:()=>A,JO:()=>u,NU:()=>p,wi:()=>_});var t=e(6027162153),n=e(2063075339),o=e(1407713935),s=e(7969244833),c=e(5455782105),r=e(3916100664),a=e(6839188756),i=e(6841796315),l=e(9101533895),m=e(1670069836);const _={InvalidParams:Symbol("invalid_params"),FreeTeam:Symbol("free_team"),CannotRequest:Symbol("cannot_request_ext_shared"),InvalidChannel:Symbol("invalid_channel")},h={ok:!1,reason:_.InvalidParams},d={ok:!1,reason:_.FreeTeam},f={ok:!1,reason:_.CannotRequest},v={ok:!1,reason:_.InvalidChannel},u=E((C,T)=>{if(!(0,o.jq)(T))return h;const I=(0,c.k)(C),M=(0,a.qR)((0,m.H7)(C));if(!I&&!M)return d;const O=(0,r.lR)(C,{mustEveryWorkspaceBeAllowed:!0,teamIds:(0,s.f)(C,T)});return!(O!=null&&O.ok)&&(0,t.A)(O==null?void 0:O.reasons,r.jM.UserCannotCreateChannel,r.jM.AllowedWorkspacePref).length>0?f:(0,n.Z)(C,T)?i.O:v},"canUserInviteExternalMembersToChannelWithReason"),g=E((C,T)=>{const M=(0,l.OL)(C,T,!1);return M?u(C,M):h},"canUserInviteExternalMembersToChannelWithReasonById"),p=E((C,T)=>u(C,T).ok,"canUserInviteExternalMembersToChannel"),A=E((C,T)=>g(C,T).ok,"canUserInviteExternalMembersToChannelById")},3916100664:(N,y,e)=>{"use strict";e.d(y,{jM:()=>A,Tc:()=>M,lR:()=>I});var t=e(5455782105),n=e(4803097854),o=e(2643151579),s=e(6839188756),c=e(6992769897),r=e(9087248458),a=e(5980399196),i=e(3071940241),l=e(8359728598),m=e(4761125736);const _=(0,l.A)((D,O)=>{const{teams:S,value:R}=O;switch(R){case"ONLY_SELECTED":return(0,r.A)(D,S).length===D.length;case"ALL_EXCEPT_SELECTED":return(0,a.A)(D,S).length===D.length;default:return!0}},2);function h(D){let{slackConnectAllowedWorkspacesPref:O,teamIds:S}=D;return S!=null&&S.length?_(S,O):!1}E(h,"isEveryTargetWorkspaceAllowedToHaveSharedChannelsStateless");function d(D,O){return!(0,t.k)(D)||(0,m._Z)(D,"sc_allowed_workspaces_pref_override")==="on"?!0:h({slackConnectAllowedWorkspacesPref:(0,i.a)(D),teamIds:O})}E(d,"isEveryTargetWorkspaceAllowedToHaveSharedChannels");var f=e(1507833885),v=e(3559837422),u=e(8847766420),g=e(1670069836);const p={ok:!0},A={...n.cG,...o.Xg,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),FreeTeam:Symbol("free_team"),NoOneCanManagePref:Symbol("who_can_manage_ext_shared_channels_pref_no_one"),UserCannotCreateChannel:Symbol("create_channel_restricted_action"),AllowedWorkspacePref:Symbol("slack_connect_allowed_workspaces_pref")},C=E((D,O,S)=>O?(0,f._t)(D,S):(0,f.Uq)(D,S),"channelCreationChecker"),T=E((D,O,S)=>O?d(D,S):(0,c.A)(D,S),"allowedWorkspacesChecker"),I=E(function(D){let{mustEveryWorkspaceBeAllowed:O,teamIds:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const R=[],U=(0,g.H7)(D),P=(0,t.k)(D),L=(0,s.qR)(U),F=!P&&!L;if((0,v.AB)(D)||(0,v.sV)(D))return R.push(A.UserIsRestricted),{ok:!1,reasons:R};var x;const b=(x=S??(0,u.kN)(D))!==null&&x!==void 0?x:[];C(D,O,b)||R.push(A.UserCannotCreateChannel),T(D,O,b)||R.push(A.AllowedWorkspacePref),F&&R.push(A.FreeTeam);const k=(0,n.l6)(D),B=(0,o._d)(D);return!k.ok&&!B.ok&&R.push(k.reason,B.reason),R.length>0?{ok:!!F,reasons:R}:p},"canUserInviteExternalMembersWithReason"),M=E((D,O)=>I(D,O).ok,"canUserInviteExternalMembers")},2643151579:(N,y,e)=>{"use strict";e.d(y,{Xg:()=>c,_d:()=>i,ml:()=>l});var t=e(5225510813),n=e(1650729052),o=e(5861086925),s=e(6841796315);const c={RestrictedAction:Symbol("restricted_action"),CanCreateExternalUnlimitedPref:Symbol("can_create_slack_connect_channel_pref"),WhoCanCreateExternalUnlimitedPref:Symbol("who_can_create_slack_connect_channel_pref")},r={ok:!1,reason:c.CanCreateExternalUnlimitedPref},a={ok:!1,reason:c.WhoCanCreateExternalUnlimitedPref},i=E(m=>{if(!(0,t.C)(m))return r;const h=o.yY.WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE;return(0,n.y)(m,h)?s.O:a},"canUserInviteExternalUnlimitedMembersWithReason"),l=E(m=>i(m).ok,"canUserInviteExternalUnlimitedMembers")},1359849784:(N,y,e)=>{"use strict";e.d(y,{I:()=>A,r:()=>p});var t=e(7174777686),n=e(9087248458),o=e(3929724715),s=e(1407713935),c=e(5455782105),r=e(7224980887),a=e(3792998666),i=e(5861086925),l=e(5331698805),m=e(6839188756),_=e(7112191091),h=e(5510392579),d=e(4761125736),f=e(8276911661),v=e(8983368692),u=e(1670069836),g=e(598369692);function p(C){const T=(0,d._Z)(C,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",I=(0,u.H7)(C);if(T)return(0,m.tc)(I)?!1:(0,v.es)(C);const M=(0,f.cA)(C),D=(0,l.u)(C);if(!(D!=null&&D.value))return!1;if((0,c.k)(C)){let O=[];switch(D.value){case i.GX.ALL_ADMINS_AND_OWNERS:return(0,_.EC)(C)||(0,r.n5)(M)||(0,r.rr)(M);case i.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,r.n5)(M)||(0,r.rr)(M)?!0:(O=(0,g.QF)(C),!!((0,t.A)(D.users,M==null?void 0:M.id)||(0,n.A)(D.userGroups,O).length));case i.GX.EVERYONE:return!(0,a.Ez)(M);case i.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,r.n5)(M)||(0,r.rr)(M)}}if((0,m.qR)(I))switch(D.value){case i.GX.TOPLEVEL_OWNERS:return(0,h.p2)(C);case i.GX.EVERYONE:return!(0,a.Ez)(M);case i.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,h.p2)(C)||(0,h.Zo)(C)}return!1}E(p,"canUserManageExternalSharedChannels");function A(C,T){const I=(0,d._Z)(C,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",M=(0,u.H7)(C);if(I){if((0,m.tc)(M)||!(0,s.jq)(T))return!1;const S=(0,o.FB)(T);return(0,v.es)(C,{channelId:S})}const D=(0,f.cA)(C),O=(0,l.u)(C);if(!(O!=null&&O.value))return!1;if((0,c.k)(C)){let S=[];switch(O.value){case i.GX.ALL_ADMINS_AND_OWNERS:return(0,_.S4)(C,T);case i.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,r.n5)(D)||(0,r.rr)(D)?!0:(S=(0,g.QF)(C),!!((0,t.A)(O.users,D==null?void 0:D.id)||(0,n.A)(O.userGroups,S).length));case i.GX.EVERYONE:return!(0,a.Ez)(D);case i.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,r.n5)(D)||(0,r.rr)(D)}}if((0,m.qR)(M))switch(O.value){case i.GX.TOPLEVEL_OWNERS:return(0,h.p2)(C);case i.GX.EVERYONE:return!(0,a.Ez)(D);case i.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,h.p2)(C)||(0,h.Zo)(C)}return!1}E(A,"canUserManageSlackConnectChannel")},7324846416:(N,y,e)=>{"use strict";e.d(y,{VX:()=>_});var t=e(8170643398),n=e(7982171047),o=e(4087360693);function s(h){return h==null?void 0:h[o.bl]}E(s,"getMemberWhoCanShareContactCardPref");var c=e(5096647761),r=e(8276911661);function a(h,d){const f=(0,r.nv)(h,d);if(!f)return!1;const v=s(f);return v===o.X4.NO_ONE?!1:(0,c.g)(f)?v===o.X4.EVERYONE:!0}E(a,"isMemberContactInfoShareableById");var i=e(5795074931);const l={...n.BC,CONTACT_PREFS_RESTRICTED:"contact_prefs_restricted",CONTACT_IS_SELF:"contact_is_self",CONTACT_NOT_ACTIVE_MEMBER:"contact_not_active_member"};function m(h,d){let f=[];(0,i.WR)(h)===d&&(f=f.concat(l.CONTACT_IS_SELF));const u=(0,r.nv)(h,d);(0,t.ls)(u)||(f=f.concat(l.CONTACT_NOT_ACTIVE_MEMBER));const g=(0,n.Hp)(h);return!g.ok&&g.reasons&&(f=f.concat(g.reasons)),a(h,d)||f.push(l.CONTACT_PREFS_RESTRICTED),f.length>0?{ok:!1,reasons:f}:{ok:!0}}E(m,"canUserShareContactByIdWithReasons");function _(h,d){return m(h,d).ok}E(_,"canUserShareContactById")},7982171047:(N,y,e)=>{"use strict";e.d(y,{BC:()=>a,Cq:()=>l,Hp:()=>i});var t=e(3792998666),n=e(6536982570),o=e(6839188756),s=e(5795074931),c=e(8276911661),r=e(1670069836);const a={RESTRICTED_USER:"user_is_restricted",USER_IS_ON_FREE_TEAM:"not_allowed_for_free_team"};function i(m){const _=[],h=(0,s.WR)(m),d=(0,c.nv)(m,h),f=(0,n.Ux)(m,d);var v;const u=(v=(0,r._J)(m,f))!==null&&v!==void 0?v:null;return(0,t.Ez)(d)&&_.push(a.RESTRICTED_USER),(0,o.tc)(u)&&_.push(a.USER_IS_ON_FREE_TEAM),_.length>0?{ok:!1,reasons:_}:{ok:!0}}E(i,"canUserShareContactsWithReasons");function l(m){return i(m).ok}E(l,"canUserShareContacts")},1273480023:(N,y,e)=>{"use strict";e.d(y,{u:()=>c});var t=e(2063075339),n=e(340763958),o=e(6839188756),s=e(1670069836);const c=E((r,a)=>{const i=(0,s.H7)(r);return(0,o.tc)(i)&&(0,n.ju)(a)&&(0,t.Z)(r,a)},"getIsCurrentTeamSponsoredInSlackConnectChannel")},8767621462:(N,y,e)=>{"use strict";e.d(y,{S:()=>r});var t=e(8170643398),n=e(5096647761),o=e(9107158149),s=e(7600673124),c=e(8276911661);const r=E((a,i)=>{const l=(0,c.nv)(a,i);return(0,t.Zx)(l)?!1:(0,n.g)(l)?!!((0,o.bo)(a,i)&&(0,o.zP)(a,i)&&!(0,s.y)(a,i)):!0},"isMemberConnectedById")},3071940241:(N,y,e)=>{"use strict";e.d(y,{_:()=>r,a:()=>a});var t=e(2003990933),n=e(5455782105),o=e(9392104102),s=e(6790819894),c=e(766806);const r={All:"ALL",AllExceptSelected:"ALL_EXCEPT_SELECTED",OnlySelected:"ONLY_SELECTED"},a=(0,s.F)(n.k,i=>(0,c.SI)(i,"slack_connect_allowed_workspaces"),(i,l)=>i?{value:(0,t.A)(l,"type[0]"),teams:(l==null?void 0:l.team)||o.Ml}:{value:r.All,teams:o.Ml})},7358758030:(N,y,e)=>{"use strict";e.d(y,{i:()=>a});var t=e(5455782105),n=e(5861086925),o=e(6839188756),s=e(766806),c=e(5597672932),r=e(1670069836);const a=E(i=>{const l=(0,t.k)(i),m=(0,r.H7)(i);return!l&&(0,o.tc)(m)?!1:(l?s.SI:c.xp)(i,n.yY.CAN_CREATE_EXTERNAL_LIMITED_INVITE)},"getCanCreateExternalLimitedInvitePref")},5225510813:(N,y,e)=>{"use strict";e.d(y,{C:()=>a});var t=e(5455782105),n=e(5861086925),o=e(6839188756),s=e(766806),c=e(5597672932),r=e(1670069836);const a=E(i=>{const l=(0,t.k)(i),m=(0,r.H7)(i);return!l&&(0,o.tc)(m)?!1:(l?s.SI:c.xp)(i,n.yY.CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE)},"getCanCreateSlackConnectChannelInvitePref")},1650729052:(N,y,e)=>{"use strict";e.d(y,{y:()=>u});var t=e(7530630315),n=e(235108050),o=e(7174777686),s=e(9087248458),c=e(5455782105),r=e(5861086925),a=e(8087758879),i=e(6839188756),l=e(5510392579),m=e(3559837422),_=e(8847766420),h=e(5795074931),d=e(1670069836),f=e(598369692);const v=E(p=>{if((0,m.sV)(p))return!1;const A=(0,_.jV)(p);if((0,l.V7)(p,A)||(0,l.PY)(p,A))return!0;const C=(0,_.ZT)(p),T=(0,t.A)(C,(0,_.kN)(p));return(0,n.A)(T).some(M=>!!((0,l.$G)(p,M)||(0,l.h3)(p,M)))},"isCurrentUserAnyAdminOrOwner"),u=E((p,A)=>{const C=(0,h.WR)(p);var T;const I=(T=(0,d.H7)(p))!==null&&T!==void 0?T:void 0;if((0,m.AB)(p)||(0,m.sV)(p))return!1;const M=(0,l.p2)(p),D=(0,l.Zo)(p),O=v(p),S=(0,c.k)(p),R=(0,i.qR)(I),U=(0,a.o)(p,A);if(S){const P=(0,l.hu)(p),L=(0,l.FQ)(p);switch(U.value){case r.GX.TOPLEVEL_ADMINS_AND_OWNERS:return P||L;case r.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return P||L?!0:!!(0,o.A)(U.users,C);case r.GX.ALL_ADMINS_AND_OWNERS:return P||L||O;case r.GX.EVERYONE:return!0;default:return!1}}if(R)switch(U.value){case r.GX.TOPLEVEL_OWNERS:return M;case r.GX.TOPLEVEL_ADMINS_AND_OWNERS:return M||D;case r.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return M||D||(0,o.A)(U.users,C)?!0:!!(0,s.A)(U.userGroups,(0,f.QF)(p)).length;case r.GX.EVERYONE:return!0;default:return!1}return!1},"isUserWhoCanDoSlackConnectPref"),g={isCurrentUserAnyAdminOrOwner:v}},5861086925:(N,y,e)=>{"use strict";e.d(y,{GX:()=>n,cM:()=>s,d5:()=>o,yY:()=>t});const t={CAN_CREATE_EXTERNAL_LIMITED_INVITE:"can_create_external_limited_invite",WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE:"who_can_create_external_limited_invite",CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"can_create_slack_connect_channel_invite",WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"who_can_create_slack_connect_channel_invite",CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"can_accept_slack_connect_channel_invites",WHO_CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"who_can_accept_slack_connect_channel_invites",WHO_CAN_MANAGE_SHARED_CHANNELS:"who_can_manage_ext_shared_channels",WHO_CAN_SLACK_CONNECT_DM:"who_can_dm_anyone"},n={TOPLEVEL_OWNERS:"TOPLEVEL_OWNERS",ALL_ADMINS_AND_OWNERS:"ORG_AND_WORKSPACE_ADMINS_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS:"TOPLEVEL_ADMINS_AND_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:"TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED",EVERYONE:"EVERYONE"},o={...n,NO_ONE:"NO_ONE",DEFAULT:n.EVERYONE},s={CAN_FREE_TEAMS_JOIN_SC_CHANNELS:"allow_sponsored_slack_connections"}},5331698805:(N,y,e)=>{"use strict";e.d(y,{u:()=>o});var t=e(5861086925),n=e(8087758879);const o=E(s=>{const c=t.yY.WHO_CAN_MANAGE_SHARED_CHANNELS;return(0,n.o)(s,c)},"getWhoCanManageSharedChannelsPref")},8087758879:(N,y,e)=>{"use strict";e.d(y,{o:()=>l});var t=e(5455782105),n=e(5861086925),o=e(6839188756),s=e(9392104102),c=e(766806),r=e(5597672932),a=e(1670069836);const i={plan:"",value:"",users:s.Ml,userGroups:s.Ml},l=E((m,_)=>{var h;const d=(0,a.H7)(m),f=(0,t.k)(m);if(!f&&(0,o.tc)(d))return i;const v=(f?"enterprise":d.plan)||"",u=f?(0,c.SI)(m,_):(0,r.xp)(m,_),g=(u==null||(h=u.type)===null||h===void 0?void 0:h[0])||"",p=g===n.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED,A=p&&(u==null?void 0:u.user)||i.users,C=p&&(u==null?void 0:u.subteam)||i.userGroups;return{plan:v,value:g,users:A,userGroups:C}},"getWhoCanPref")},4087360693:(N,y,e)=>{"use strict";e.d(y,{V1:()=>s,X4:()=>o,bl:()=>n});var t=e(2047021170);const n="who_can_share_contact_card",o={EVERYONE:"EVERYONE",TEAM_MEMBERS:"TEAM_MEMBERS",NO_ONE:"NO_ONE"},s=E(c=>(0,t.ty)(c,n),"getWhoCanShareContactCardPref")},7035389884:(N,y,e)=>{"use strict";e.d(y,{KP:()=>s,KX:()=>r,jE:()=>c});var t=e(9420277174),n=e(9262712126),o=e(4291335534);function s(a){if(a.is_broadcast_keyword||a.is_usergroup)return"";let i="";return(0,n.Fh)(a)&&(i=(0,n.wg)(a)),i?`@${i}`:""}E(s,"getSecondaryNameForSearchResult");const c=(0,t.A)((a,i)=>a===(0,o.Pc)(r(i))||a===(0,o.Pc)(s(i)));function r(a){return a.is_broadcast_keyword?`@${a.name}`:a.is_usergroup?`@${a.handle}`:`@${(0,n.Gt)(a)}`}E(r,"getDisplayTextForSearchResult")},3212336858:(N,y,e)=>{"use strict";e.d(y,{DP:()=>ye,qc:()=>Y,qA:()=>ae,Bs:()=>w,Hv:()=>ee,fK:()=>oe,tY:()=>re,GE:()=>Z,b:()=>V,iH:()=>pe,mE:()=>he});var t=e(7174777686),n=e(9323322135),o=e(5597672932),s=e(8276911661),c=e(9101533895),r=e(3792998666),a=e(7582939986),i=e(2791814261),l=e(8904182388),m=e(6165525655),_=e(591259428),h=e(1407713935),d=e(395285811),f=e(2585735826),v=e(340763958),u=e(9416626);const g={...u.u9,CantDisconnectExtShared:Symbol("cant_disconnect_ext_shared"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},p={ok:!1,reason:g.ChannelNotFound},A={ok:!1,reason:g.ChannelTypeNotSupported},C={ok:!1,reason:g.CantDisconnectExtShared},T={ok:!1,reason:g.WhoCanManagePref},I={ok:!0},M=E((ge,ke)=>(0,h.jq)(ke)?(0,d.K3)(ge,ke)?A:(0,v.ju)(ke)&&!(0,f.R)(ge,ke)?C:(0,u.iz)(ge,ke):p,"canUserArchiveChannelWithReasons"),D=E((ge,ke)=>M(ge,ke).ok,"canUserArchiveChannel");var O=e(7563681762),S=e(3848977043),R=e(6495946979),U=e(2912967402),P=e(4094753332),L=e(6471059816),F=e(5156662944),x=e(4761125736);const b=E(ge=>ge&&(0,x._Z)(ge,"feedback_disabled_orgs")==="treatment","isOrgInFeedbackDisabledList");var k=e(529357503),B=e(7969244833),W=e(6934022494),K=e(2052624953);const H=new L.Ay("cmd_handlers"),{UNKNOWN_COMMAND:z,UNSUPPORTED_IN_THREAD:Q,UNSUPPORTED_IN_SHORTCUTS_MENU:q,CUSTOM_ERROR:$}=a.gu,le=["/away","/collapse","/color","/colour","/dm","/expand","/feedback","/keys","/me","/msg","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/slackdevtools","/star","/gif","/active","/giphy","/iamcal","/mute","/remind"],te=["/asana","/adobe-manage","/adobe-subscribe","/adobe-feedback","/adobe-help","/cohere-help","/cohere-settings","/cohere-summarize","/cohere-quiet","/augment","/dev-augment","/staging-augment"],ce=["/away","/active","/keys","/shortcuts","/apps","/rename","/feedback","/mute","/dnd","/leave","/part","/close","/call"],me=["/slackdebugunreads","/slackgov","/slackjspath","/slackstaging"],_e=["/slackaccessibility","/slackgov"],Ae=["/leave","/close","/part","/archive","/topic"],ye=E(ge=>ge&&ge.alias_of,"getCommandAliasOf"),oe=E(ge=>ge&&ge.name,"getCommandName"),ee=E(ge=>ge&&(ge.desc||ge.description),"getCommandDesc"),V=E(ge=>ge&&ge.usage,"getCommandUsage"),w=E(ge=>ge&&(ge.canonical_name||ge.name),"getCommandCanonicalName"),Y=E(ge=>ge&&ge.aliases,"getCommandAliases"),G=E(ge=>ge&&(ge==null?void 0:ge.is_runnable_from_thread),"getCommandIsRunnableFromThread"),Z=E(ge=>ge&&ge.type,"getCommandType"),se=E(ge=>ge&&ge.app,"getCommandApp"),ae=E(ge=>ge==null?void 0:ge.appName,"getCommandAppName"),re=E((ge,ke,Ne)=>{const We=(0,c.OL)(ge,Ne),Oe=We?(0,B.f)(ge,We)||[]:[];return ke.teams&&Oe.length&&ke.appName!=="Slack"&&!ke.isWorkspaceAgnostic?ke.teams.filter(Ke=>Oe.includes(Ke)):[]},"getCommandRelatedWorkspaces"),pe=E(function(ge,ke){let{channelId:Ne}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!ke)return!1;const We=w(ke);return We==="/leave"?(0,m.Y9)(ge,Ne):We==="/remove"?(0,l.Vj)(ge,Ne):["/topic","/search","/invite","/invite_people","/status","/dm","/msg"].indexOf(We)>-1?!1:!!ke.autocomplete},"isAutocompleteCommand"),de=E(ge=>!!(ge&&ge.isServer),"isServerCommand"),ie=E(function(ge){let ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(ge){case O.a_.InvalidDm:return H.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case O.a_.OwnerRequired:return H.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case O.a_.InvalidParams:return ke?H.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):H.t("You don\u2019t have permission to rename.");case O.a_.RestrictedUser:return ke?H.t("Your admins have limited who can rename multi-workspace channels."):H.t("You don\u2019t have permission to rename.");case O.a_.OrgSharedSettings:return ke?H.t("Your admins have limited who can rename multi-workspace channels."):H.t("You don\u2019t have permission to rename.");case O.a_.InvalidChannelType:return H.t("This channel can\u2019t be renamed.",{fallbackHash:"796ff139eccb4a046e980e400012eb16b22449d8"});default:return H.t("You don\u2019t have permission to rename.")}},"getRenameDisabledFeedback"),he=E(function(ge,ke){let{channelId:Ne,isThread:We,isShortcutsMenu:Oe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!ge||!ke)return{isEnabled:!1,reason:z};const be=(0,K.i7)(ge),Ke=w(ke),Fe=Z(ke),J=(0,c.OL)(ge,Ne);if(!(0,i.L)(ge)&&(0,t.A)(me,Ke))return{isEnabled:!1,reason:z};if(!(0,P.y3)()&&(0,t.A)(_e,Ke))return{isEnabled:!1,reason:z};if((0,d.jT)(J)&&(0,t.A)(Ae,Ke))return{isEnabled:!1,reason:z};if(We){if(be){if(!(0,t.A)(le,Ke)&&!G(ke))return{isEnabled:!1,reason:Q}}else if(!((0,t.A)(le,Ke)||(0,t.A)(te,Ke)))return{isEnabled:!1,reason:Q}}if(Oe&&(0,t.A)(ce,Ke))return{isEnabled:!1,reason:q};if(Fe==="custom"||Fe==="service"){const je=(0,o.xp)(ge,"commands_only_regular"),at=(0,s.cA)(ge);if(je&&(0,r.Ez)(at))return{isEnabled:!1,reason:z}}if(ke.teams){const je=(0,B.f)(ge,J)||[];if(!ke.teams.filter(nt=>je.includes(nt)).length){const nt=`Command not run. No intersection found between channel teams (${je}) and command teams (${ke.teams})`;return{isEnabled:!1,reason:$,logString:nt,feedback:H.t("This command is not available in this channel")}}}if(Ke==="/open"||Ke==="/feed"){const je=(0,s.cA)(ge);if((0,r.Ez)(je))return{isEnabled:!1,reason:z}}else if(Ke==="/topic"){const{ok:je,reason:at}=(0,_.X)(ge,Ne);if(!je)return{isEnabled:!1,reason:$,feedback:(0,U.Bw)(at)}}else if(Ke==="/invite"){const je=(0,s.cA)(ge);if((0,r.Yd)(je))return{isEnabled:!1,reason:z};if(!(0,R.bl)(J))return{isEnabled:!1,reason:$,feedback:H.t("You don\u2019t have permission to invite people.")};if((0,r.Ez)(je)&&!(0,h.Zp)(J)||(0,k.A)(ge,je,J))return{isEnabled:!1,reason:$,feedback:H.t("You don\u2019t have permission to invite people.")}}else if(Ke==="/invite_people"){if(!(0,S.Lz)(ge))return{isEnabled:!1,reason:$,feedback:H.t("You don\u2019t have permission to invite people.")}}else if(Ke==="/rename"){const{ok:je,reason:at}=(0,O.be)(ge,Ne);if(!je)return{isEnabled:!1,reason:$,feedback:ie(at)}}else if(Ke==="/archive"){if(!D(ge,J))return{isEnabled:!1,reason:z}}else if(Ke==="/call"){if(!(0,F.lp)(ge,Ne)||(0,F.tO)(ge))return{isEnabled:!1,reason:z}}else if(Ke==="/slacktrace"){if(!(0,n.Rg4)())return{isEnabled:!1,reason:$,feedback:H.t("Please run /slacktrace in the latest version of the Slack desktop app.")}}else if(Ke==="/feedback"){if(b(ge))return{isEnabled:!1,reason:z}}else if(Ke==="/gif"){if(!(0,W.R4)(ge))return{isEnabled:!1,reason:z};if(!(0,W.BH)(ge))return{isEnabled:!1,reason:$,feedback:H.t("Attach a GIF is not enabled.")}}return{isEnabled:!0}},"isSlashCommandEnabled"),ve={getRenameDisabledFeedback:ie,TS_ONLY_COMMANDS:me,DESKTOP_APP_ONLY_COMMANDS:_e}},6992769897:(N,y,e)=>{"use strict";e.d(y,{A:()=>l,O:()=>i});var t=e(9087248458),n=e(5980399196),o=e(5455782105),s=e(3071940241),c=e(8359728598),r=e(4761125736);const a=(0,c.A)((m,_)=>{const{teams:h,value:d}=_;switch(d){case"ONLY_SELECTED":return!!(0,t.A)(m,h).length;case"ALL_EXCEPT_SELECTED":return!!(0,n.A)(m,h).length;default:return!0}},2);function i(m){let{slackConnectAllowedWorkspacesPref:_,teamIds:h}=m;return h!=null&&h.length?a(h,_):!1}E(i,"areSomeTargetWorkspacesAllowedToHaveSharedChannelsStateless");function l(m,_){return!(0,o.k)(m)||(0,r._Z)(m,"sc_allowed_workspaces_pref_override")==="on"?!0:i({slackConnectAllowedWorkspacesPref:(0,s.a)(m),teamIds:_})}E(l,"areSomeTargetWorkspacesAllowedToHaveSharedChannels")},2801540778:(N,y,e)=>{"use strict";e.d(y,{z:()=>s});var t=e(6839188756),n=e(8847766420),o=e(1890276164);function s(c,r){if(!c||!r)return!1;const a=(0,t.ZT)(r);if((0,n.Kc)(c)===a||(0,n.ZT)(c)===a)return!1;const i=(0,n.jV)(c);return i&&i===r.enterprise_id?!1:(0,o.R)(c,r.id)}E(s,"isTeamExternal")},8489773543:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>u,w2:()=>f});var t=e(3009309149),n=e(3202757386),o=e(4096483543),s=e(2249017398),c=e(2615100822),r=e(5731054235),a=e(6089972488);const l=E(()=>(0,n.A)(),"isDarkModeFeatureEnabled");var m=e(4094753332),_=e(506684971),h=e.n(_);const d=E(()=>{var p;const A=(0,m.y3)()||((p=window.matchMedia)===null||p===void 0?void 0:p.call(window,"(prefers-color-scheme)").media)!=="not all",C=(0,m.cX)()&&(0,a.Z)((0,a.P)(h().osversion),(0,a.P)("10.14"))>=0,T=(0,m.jy)(),I=(0,m.j9)()&&(0,m.dY)("4.36.136"),M=C||T||I,D=(0,m.y3)()||(0,o.A)()||(0,s.A)()||(0,c.A)()||(0,r.A)();return(0,n.A)()&&A&&M&&D},"computeSystemSyncIsSupportedOnBoot"),f=d(),v=(0,t.Ay)(()=>!!f&&!!l());v.meta={name:"createSelector",key:"createSelectorgetSystemSyncIsSupported",description:()=>!!f&&!!l()};const u=v,g={computeSystemSyncIsSupportedOnBoot:d}},3402139184:(N,y,e)=>{"use strict";e.d(y,{d:()=>n,s:()=>o});var t=e(4761125736);function n(s){return(0,t._Z)(s,"today_v2")==="on"}E(n,"isTodayV2Enabled");function o(s){return(0,t._Z)(s,"today_v2_next")==="on"}E(o,"isTodayV2NextEnabled")},5779706188:(N,y,e)=>{"use strict";e.d(y,{S:()=>o,z:()=>s});var t=e(8983368692),n=e(4761125736);function o(c){return(0,n._Z)(c,"hermes_template_builder_role")==="on"?(0,t.T)(c):!0}E(o,"canUserCreateWorkflowTemplates");function s(c){return(0,n._Z)(c,"hermes_template_admin_permission")==="on"?(0,t.m8)(c):!0}E(s,"canUserPublishWorkflowTemplates")},317660850:(N,y,e)=>{"use strict";e.d(y,{D:()=>n});var t=e(8983368692);const n=E(o=>(0,t.NH)(o),"canUserAddEmoji")},324756633:(N,y,e)=>{"use strict";e.d(y,{S:()=>a});var t=e(9101533895),n=e(201941576),o=e(4761125736),s=e(337319621),c=e(8983368692),r=e(1407713935);function a(i,l){const m=(0,o._Z)(i,"etf_escal_permission_fe_logs")==="on",_=(0,t.gT)(i,l)&&(0,t.OL)(i,l)||void 0;return m&&(0,s.Ay)({state:i,label:"escal-cannot-at-channel"}).error("debug escal errors for escal-cannot-at-channel in canUserAtChannelInChannelById",{channelId:`${l}`,isMpim:`${(0,r.yz)(_)}`,deprecatedIsPermittedToAtChannelMPIM:`${(0,c.De)(i)}`,deprecatedIsPermittedToAtChannel:`${(0,c.De)(i,{channelId:l})}`,shouldStopChannelMentions:`${(0,n.i)(i,_==null?void 0:_.id,{allowToAdmins:!0})}`}),((0,r.yz)(_)?(0,c.De)(i):(0,c.De)(i,{channelId:l}))&&!(0,n.i)(i,_==null?void 0:_.id,{allowToAdmins:!0})}E(a,"canUserAtChannelInChannelById")},641827819:(N,y,e)=>{"use strict";e.d(y,{W:()=>i});var t=e(9101533895),n=e(201941576),o=e(6113051341),s=e(5795074931),c=e(4761125736),r=e(337319621),a=e(8983368692);const i=E((l,m)=>{const _=(0,c._Z)(l,"etf_escal_permission_fe_logs")==="on",h=(0,t.gT)(l,m)&&(0,t.OL)(l,m)||void 0;return _&&(0,r.Ay)({state:l,label:"escal-cannot-at-channel"}).error("debug escal errors for escal-cannot-at-channel in canUserAtEveryoneInChannelById",{channelId:`${m}`,isChannelExistent:`${(0,t.gT)(l,m)}`,isGeneral:`${(0,o.N)(h)}`,pageNeedsEnterprise:`${(0,s.u8)(l)}`,deprecatedIsPermittedToAtEveryone:`${(0,a.Pj)(l,{channelId:m})}`,shouldStopChannelMentions:`${(0,n.i)(l,h==null?void 0:h.id,{allowToAdmins:!0})}`}),!m||!h||!(0,o.N)(h)?!1:(0,s.u8)(l)?(0,a.Pj)(l,{channelId:m})&&!(0,n.i)(l,h==null?void 0:h.id,{allowToAdmins:!0}):(0,a.Pj)(l,{channelId:m})},"canUserAtEveryoneInChannelById")},1507833885:(N,y,e)=>{"use strict";e.d(y,{MM:()=>c,Uq:()=>r,_t:()=>a});var t=e(3385422400),n=e(5962670951),o=e(241752795),s=e(1340402138);const c=E(i=>((0,o.HV)(i)||(0,n.R)(i))&&!(0,s.R)(i),"canUserCreateChannelsInSomeWorkspace"),r=(0,t.Mz)(o.y5,n.S,(i,l)=>l,(i,l,m)=>m.some(_=>i.includes(_)||l.includes(_))),a=(0,t.Mz)(o.y5,n.S,(i,l)=>l,(i,l,m)=>m.every(_=>i.includes(_)||l.includes(_)))},5962670951:(N,y,e)=>{"use strict";e.d(y,{R:()=>r,S:()=>a});var t=e(3078708518),n=e(4618126901),o=e(3347557755),s=e(6476812141);const c=E(i=>!(0,t.A)(i),"isPermittedToPrecondition"),r=E(i=>{if(!c(i))return!1;const l=(0,o.ox)(i,{permission:s.p.CREATE_PRIVATE_CHANNEL});return(0,n.Jr)(l)},"canUserCreatePrivateChannelsInSomeWorkspace"),a=E(i=>{if(!c(i))return[];const l=(0,o.oI)(i,{permission:s.p.CREATE_PRIVATE_CHANNEL});return(0,n.n9)(l)},"getWorkspaceIdsOnWhichUserCanCreatePrivateChannels")},241752795:(N,y,e)=>{"use strict";e.d(y,{HV:()=>_,YD:()=>d,y5:()=>h});var t=e(3078708518),n=e(1407713935),o=e(6495946979),s=e(7304011293),c=e(3307632080),r=e(7112191091),a=e(4618126901),i=e(3347557755),l=e(6476812141);const m=E(f=>!(0,t.A)(f),"isPermittedToPrecondition"),_=E(f=>{if(!m(f))return!1;const v=(0,i.ox)(f,{permission:l.p.CREATE_PUBLIC_CHANNEL});return(0,a.Jr)(v)},"canUserCreatePublicChannelsInSomeWorkspace"),h=E(f=>{if(!m(f))return[];const v=(0,i.oI)(f,{permission:l.p.CREATE_PUBLIC_CHANNEL});return(0,a.n9)(v)},"getWorkspaceIdsOnWhichUserCanCreatePublicChannels"),d=E((f,v)=>{if(!(0,n.Zp)(v)||!m(f)||(0,c.A)(f,v))return!1;const u=(0,i.WB)(f,{permission:l.p.CONVERT_PRIVATE_TO_PUBLIC,channelId:v.id});return(0,a.Jr)(u)&&(0,o.bl)(v)||(0,r.yG)(f,v)||(0,n.rI)(v)&&(0,s.O)(f,v.id)?!0:!!(0,r.yG)(f,v)},"canUserCreatePublicChannelFromPrivateChannel")},8023032856:(N,y,e)=>{"use strict";e.d(y,{u:()=>s});var t=e(4761125736),n=e(8983368692),o=e(4982839543);const s=E(function(c){let{shouldRefetch:r=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,t._Z)(c,"light_read_who_can_dm_anyone_pref_migration")==="on"?(0,n.Tt)(c):(0,o.aJ)(c,{shouldRefetch:r})},"canUserCreateSlackConnectDms")},1612857492:(N,y,e)=>{"use strict";e.d(y,{i:()=>l,q:()=>i});var t=e(3929724715),n=e(6495946979),o=e(7112191091),s=e(1407713935),c=e(9101533895),r=e(8983368692),a=e(8250322877);const i=E((m,_)=>{if(!(0,s.jq)(_))return!1;const h=(0,t.FB)(_);return(0,a.D)(m,_)&&((0,o.S4)(m,_)||(0,n.bl)(_)&&(0,r.Fk)(m,{channelId:h}))},"canUserInviteExternalUsersToChannel"),l=E((m,_)=>{const d=(0,c.OL)(m,_,!1);return d?i(m,d):!1},"canUserInviteExternalUsersToChannelById")},9183417278:(N,y,e)=>{"use strict";e.d(y,{Q:()=>l,e:()=>m});var t=e(3929724715),n=e(6495946979),o=e(1407713935),s=e(7112191091),c=e(9101533895),r=e(4761125736),a=e(8983368692),i=e(8250322877);const l=E((_,h)=>{const d=(0,r._Z)(_,"invite_to_channel_permission")==="on";if(!(0,o.jq)(h))return!1;const f=(0,t.FB)(h),v=(0,i.D)(_,h);return d&&(0,o.Zp)(h)?v&&((0,s.S4)(_,h)||(0,n.bl)(h)&&(0,a.jw)(_,{channelId:f})):v},"canUserInviteInternalUsersToChannel"),m=E((_,h)=>{const f=(0,c.OL)(_,h,!1);return f?l(_,f):!1},"canUserInviteInternalUsersToChannelById")},8250322877:(N,y,e)=>{"use strict";e.d(y,{D:()=>d,X:()=>f});var t=e(1340402138),n=e(3929724715),o=e(1407713935),s=e(6007206761),c=e(5373179915),r=e(6495946979),a=e(2350349607),i=e(7112191091),l=e(3559837422),m=e(9101533895),_=e(4761125736),h=e(8983368692);const d=E((v,u)=>{const g=(0,_._Z)(v,"invite_to_channel_permission")==="on";if(!(0,o.jq)(u))return!1;const p=(0,n.FB)(u);return(0,l.AB)(v)||(0,s.F)(u)||!(0,a.V)(u)||(0,t.R)(v)&&(0,c.R)(v,u)?!1:g&&(0,o.Zp)(u)?(0,i.S4)(v,u)||(0,r.bl)(u)&&((0,h.jw)(v,{channelId:p})||(0,h.Fk)(v,{channelId:p})):(0,i.S4)(v,u)||(0,r.bl)(u)},"canUserInviteToChannel"),f=E((v,u)=>{const p=(0,m.OL)(v,u,!1);return p?d(v,p):!1},"canUserInviteToChannelById")},8904182388:(N,y,e)=>{"use strict";e.d(y,{CE:()=>f,Vj:()=>C,VJ:()=>A});var t=e(1407713935),n=e(6007206761),o=e(6841796315),s=e(9101533895);const c={InvalidDm:Symbol("invalid_dm"),ArchivedChannel:Symbol("archived_channel"),RequiredChannel:Symbol("required_channel")},r={ok:!1,reason:c.ArchivedChannel},a={ok:!1,reason:c.InvalidDm},i={ok:!1,reason:c.RequiredChannel};function l(T,I){const M=(0,s.gT)(T,I)?(0,s.OL)(T,I):null;return(0,n.F)(M)?r:(0,t.LI)(M)||(0,t.yz)(M)?a:(0,t.gx)(M)?i:o.O}E(l,"isChannelKickableWithReason");function m(T,I){return l(T,I).ok}E(m,"isChannelKickable");var _=e(6915262278),h=e(3559837422),d=e(8983368692);const f={...c,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),RestrictedPublicChannel:Symbol("restricted_public_channel"),RestrictedPrivateChannel:Symbol("restricted_private_channel")},v={ok:!1,reason:f.InvalidParams},u={ok:!1,reason:f.UserIsRestricted},g={ok:!1,reason:f.RestrictedPublicChannel},p={ok:!1,reason:f.RestrictedPrivateChannel};function A(T,I){const M=(0,s.gT)(T,I)?(0,s.OL)(T,I):null;if(!(0,t.jq)(M))return v;if((0,h.sV)(T))return u;const D=l(T,I);if(!D.ok)return{ok:!1,reason:D.reason};const O=(0,d.J3)(T,{channelId:I}),S=(0,d.j)(T,{channelId:I}),R=(0,t.rW)(M)?"public":"private",U=R==="private"?_.Po:_.LI,P=R==="private"?_.tU:_.H7;return!(U(T)||P(T))&&!(R==="private"?S:O)?R==="private"?p:g:o.O}E(A,"canUserKickFromChannelWithReason");function C(T,I){return A(T,I).ok}E(C,"canUserKickFromChannel")},6915262278:(N,y,e)=>{"use strict";e.d(y,{H7:()=>_,LI:()=>l,Po:()=>m,tU:()=>h});var t=e(5597672932),n=e(1670069836),o=e(5455782105),s=e(6839188756),c=e(5510392579),r=e(4618126901),a=e(3347557755),i=e(6476812141);const l=E(d=>{if(!(0,o.k)(d))return!1;const f=(0,a.tA)(d,{permission:i.p.MANAGE_PUBLIC_CHANNELS});return(0,r.Jr)(f)},"canUserManagePublicChannelsInOrgDash"),m=E(d=>{if(!(0,o.k)(d))return!1;const f=(0,a.tA)(d,{permission:i.p.MANAGE_PRIVATE_CHANNELS});return(0,r.Jr)(f)},"canUserManagePrivateChannelsInOrgDash"),_=E(d=>{const f=(0,n.H7)(d);return(0,s.Ny)(f)?(0,c.h3)(d):!1},"canUserManagePublicChannelsInTeamSite"),h=E(d=>{const f=(0,n.H7)(d);if(!(0,s.Ny)(f)||(0,s.NB)(f)&&!(0,t.xp)(d,"has_compliance_export"))return!1;const v=(0,a.ox)(d,{permission:i.p.MANAGE_WORKSPACE_PRIVATE_CHANNELS});return(0,r.Jr)(v)},"canUserManagePrivateChannelsInTeamSite")},7563681762:(N,y,e)=>{"use strict";e.d(y,{JJ:()=>u,a_:()=>i,be:()=>f,rY:()=>v});var t=e(1407713935),n=e(6915262278),o=e(6841796315),s=e(5795074931),c=e(9101533895),r=e(3490825458),a=e(8983368692);const i={InvalidChannelType:Symbol("invalid_channel_type"),InvalidDm:Symbol("invalid_dm"),InvalidParams:Symbol("invalid_params"),OrgSharedSettings:Symbol("org_shared_settings"),OwnerRequired:Symbol("owner_required"),RestrictedUser:Symbol("restricted_user"),RestrictedAction:Symbol("restricted_action"),UserHasNoPermissions:Symbol("user_has_no_permissions")},l={ok:!1,reason:i.InvalidParams},m={ok:!1,reason:i.InvalidDm},_={ok:!1,reason:i.InvalidChannelType},h={ok:!1,reason:i.UserHasNoPermissions},d=E((g,p)=>{if(!(0,t.jq)(p))return l;if((0,t.LI)(p)||(0,t.yz)(p))return m;if((0,t.rI)(p))return _;const A=(0,s.TZ)(g),C=(0,r.s)(g),T=(0,r.R)(g);return A?(0,a.JF)(g,{channelId:p.id})?o.O:h:C&&((0,t.Zp)(p)&&(0,n.Po)(g)||(0,t.rW)(p)&&(0,n.LI)(g))||T&&((0,t.Zp)(p)&&(0,n.tU)(g)||(0,t.rW)(p)&&(0,n.H7)(g))?o.O:h},"canUserRenameChannelWithReason"),f=E((g,p)=>{const C=(0,c.OL)(g,p,!1);return C?d(g,C):l},"canUserRenameChannelWithReasonById"),v=E((g,p)=>d(g,p).ok,"canUserRenameChannel"),u=E((g,p)=>f(g,p).ok,"canUserRenameChannelById")},9416626:(N,y,e)=>{"use strict";e.d(y,{NG:()=>I,iz:()=>T,u9:()=>m});var t=e(3929724715),n=e(1407713935),o=e(6007206761),s=e(6495946979),c=e(2585735826),r=e(340763958),a=e(9846841407),i=e(7112191091),l=e(8983368692);const m={ChannelNotFound:Symbol("channel_not_found"),ChannelTypeNotSupported:Symbol("channel_type_not_supported"),CantArchiveGeneral:Symbol("cant_archive_general"),NotInChannel:Symbol("not_in_channel"),AlreadyArchived:Symbol("already_archived"),NotAllowedHomeExternallyShared:Symbol("not_allowed_home_ext_shared"),AwayExternallyShared:Symbol("away_ext_shared"),UserHasNoPermissions:Symbol("user_has_no_permissions"),DefaultOrgWideChannel:Symbol("default_org_wide_channel"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},_={ok:!1,reason:m.ChannelNotFound},h={ok:!1,reason:m.ChannelTypeNotSupported},d={ok:!1,reason:m.CantArchiveGeneral},f={ok:!1,reason:m.NotInChannel},v={ok:!1,reason:m.AlreadyArchived},u={ok:!1,reason:m.NotAllowedHomeExternallyShared},g={ok:!1,reason:m.AwayExternallyShared},p={ok:!1,reason:m.UserHasNoPermissions},A={ok:!1,reason:m.DefaultOrgWideChannel},C={ok:!0},T=E((M,D)=>{if(!(0,n.jq)(D))return _;if((0,n.LI)(D)||(0,n.yz)(D))return h;if((0,n.gx)(D))return d;if((0,o.F)(D))return v;if((0,a.b)(M,D))return g;if(!(0,i.S4)(M,D)&&!(0,s.bl)(D))return f;const S=(0,t.FB)(D);return(0,r.ju)(D)&&!(0,a.b)(M,D)&&!(0,c.R)(M,D)?u:(0,l.xQ)(M,{channelId:S})?C:p},"canUserSeeArchiveChannelOptionWithReasons"),I=E((M,D)=>T(M,D).ok,"canUserSeeArchiveChannelOption")},591259428:(N,y,e)=>{"use strict";e.d(y,{P:()=>v,X:()=>f});var t=e(9101533895),n=e(6495946979),o=e(2912967402),s=e(1407713935),c=e(6007206761),r=e(3559837422),a=e(340763958),i=e(4827886670),l=e(8983368692);const m={ok:!0},_={ok:!1,reason:o.CM},h={ok:!1,reason:o.Jr},d={ok:!1,reason:o.oP},f=E((u,g)=>{const p=(0,t.gT)(u,g)&&(0,t.OL)(u,g);return p?(0,s.JM)(p)&&(0,a.ju)(p)?h:(0,c.F)(p)?d:(0,l.YH)(u,{channelId:g})?m:!(0,n.bl)(p)||!(0,i.c)(u,p)||(0,r.sV)(u)||(0,r.AB)(u)?d:m:_},"canUserSetTopicForChannelWithReasonById"),v=E((u,g)=>f(u,g).ok,"canUserSetTopicForChannelById")},3307632080:(N,y,e)=>{"use strict";e.d(y,{A:()=>s,G:()=>o});var t=e(6545221113),n=e(8847766420);const o=E((c,r)=>{if(!c||!r)return!1;const a=(0,n.Kc)(c);return(0,t.A)(c,a,r)},"isExternalLimited"),s=o},6052171436:(N,y,e)=>{"use strict";e.d(y,{A:()=>O});var t=e(3134334389),n=e(7715417323),o=e(2843556239),s=e(4348392507),c=e(4094753332),r=e(3527550343),a=e(8646591923),i=e(337319621),l=e(3193155968);const m='<div aria-hidden="true" style="position:absolute" tabindex="1"></div>',_='<div aria-hidden="true" style="position:absolute" tabindex="0"></div>',h={},d={},f=E((S,R)=>{const U=S.createElement("div");U.innerHTML=m+_;const P=U.firstChild,L=U.lastChild,F=S.body;!P||!L||(F.insertBefore(P,F.firstChild),F.appendChild(L),d[R].firstHiddenTabStop=P,d[R].lastHiddenTabStop=L)},"createHiddenTabStops"),v=E((S,R)=>{const{firstHiddenTabStop:U,lastHiddenTabStop:P}=d[R];U&&(S==null||S.body.removeChild(U)),P&&(S==null||S.body.removeChild(P))},"removeHiddenTabStops"),u=E(S=>{const R=(0,r.Fp)(S.getElementById("client-ui"));R&&R.focus()},"focusFirstInClient"),g=E(S=>{const R=(0,r.LQ)(S.getElementById("client-ui"));R&&R.focus()},"focusLastInClient"),p=E((S,R)=>{let{keyCode:U,type:P,shiftKey:L,ctrlKey:F,metaKey:x}=R;const b=d[S];U===a.wn&&(F||(0,c.cX)()&&x||(b.keydownTimeoutId&&clearTimeout(b.keydownTimeoutId),b.relatedEvent={type:P,keyCode:U,shiftKey:L},b.keydownTimeoutId=setTimeout(()=>{b.relatedEvent=null},15)))},"onDocumentKeyDown"),A=E((S,R)=>{let{type:U}=R;const P=d[S];P.mousedownTimeoutId&&clearTimeout(P.mousedownTimeoutId),P.relatedEvent={type:U},P.mousedownTimeoutId=setTimeout(()=>{P.relatedEvent=null},15)},"onDocumentMouseDown"),C=E((S,R)=>{const{currentTarget:U,target:P,relatedTarget:L}=R,F=d[S],x=F.relatedEvent,b=x&&x.type==="keydown"?x:null,k=F.firstHiddenTabStop,B=F.lastHiddenTabStop,W=P===k,K=P===B;if(P!==U){if(W&&b){if(b.shiftKey){P.blur();return}if(!L){u(U);return}}if(K&&b){b.shiftKey?g(U):P.blur();return}if(!L&&!b&&(W||K)){if(F.relatedEvent={type:"keydown",shiftKey:!1,keyCode:9},W){u(U),F.relatedEvent=null;return}K&&(g(U),F.relatedEvent=null)}}},"onDocumentFocus"),T=E((S,R)=>{const{currentTarget:U,relatedTarget:P}=R,L=d[S];L.blurTimeoutId&&(clearTimeout(L.blurTimeoutId),L.blurTimeoutId=null);const{shiftKey:F,type:x,keyCode:b}=L.relatedEvent||{};!P&&x==="keydown"&&(L.blurTimeoutId=setTimeout(()=>{if(U.activeElement!==U.body)return;L.relatedEvent={type:x,shiftKey:F,keyCode:b},(F?g:u)(U),L.relatedEvent=null},150))},"onDocumentBlur"),I=E((S,R)=>R.bind(null,S),"withWindowId"),M=E(S=>({firstHiddenTabStop:null,lastHiddenTabStop:null,onDocumentBlur:I(S,T),onDocumentFocus:I(S,C),onDocumentKeyDown:I(S,p),onDocumentMouseDown:I(S,A),relatedEvent:null,blurTimeoutId:null,keydownTimeoutId:null,mousedownTimeoutId:null}),"initRefs");let D=E(class extends t.PureComponent{componentDidMount(){var R;const U=t.Children.only(this.props.children);typeof U.type=="function"&&this.checkChildIsValid(U);const{windowRef:P,windowId:L=l.N2}=this.props,F=(R=P.deref())===null||R===void 0?void 0:R.document;if(!F){(0,i.Wo)().warn("FOCUS-MANAGER","FocusManager does not have a document (mount)");return}if(!h[L]){h[L]=0,d[L]=M(L);const x=d[L];(0,c.y3)()?F.addEventListener("blur",x.onDocumentBlur,!0):(f(F,L),F.addEventListener("focus",x.onDocumentFocus,!0)),F.addEventListener("keydown",x.onDocumentKeyDown,!0),F.addEventListener("mousedown",x.onDocumentMouseDown,!0)}h[L]+=1}componentWillUnmount(){var R;const{windowRef:U,windowId:P=l.N2}=this.props,L=(R=U.deref())===null||R===void 0?void 0:R.document;if(!L){(0,i.Wo)().warn("FOCUS-MANAGER","FocusManager does not have a document (unmount)");return}if(h[P]-=1,h[P]===0){const F=d[P];(0,c.y3)()?L==null||L.removeEventListener("blur",F.onDocumentBlur,!0):(v(L,P),L==null||L.removeEventListener("focus",F.onDocumentFocus,!0)),L==null||L.removeEventListener("keydown",F.onDocumentKeyDown,!0),L==null||L.removeEventListener("mousedown",F.onDocumentMouseDown,!0),F.blurTimeoutId&&clearTimeout(F.blurTimeoutId),F.keydownTimeoutId&&clearTimeout(F.keydownTimeoutId),F.mousedownTimeoutId&&clearTimeout(F.mousedownTimeoutId),delete h[P],delete d[P]}}onBlur(R){const{currentTarget:U,target:P,relatedTarget:L}=R,F={relatedTarget:L,currentTarget:U,target:P};U.contains(L)||this.props.onFocusLeave&&this.props.onFocusLeave(F)}onFocus(R){const{currentTarget:U,target:P,relatedTarget:L}=R,{windowId:F=l.N2}=this.props,{relatedEvent:x}=d[F];if(!(U==null?void 0:U.contains(P)))return;const B=U.contains(L)?this.props.onFocusWithin:this.props.onFocusEnter;B&&B({relatedTarget:L,currentTarget:U,target:P,relatedEvent:x})}checkChildIsValid(R){const{onFocus:U,onBlur:P}=R.props;if(!(U&&P))throw new Error("FocusManager requires a single child with onFocus and onBlur props.")}render(){const R=this.props.children;return t.cloneElement(R,{onFocus:this.onFocus,onBlur:this.onBlur},R.props.children)}constructor(R){super(R),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}},"FocusManager");D.defaultProps={children:null,onFocusEnter:n.A,onFocusWithin:n.A,onFocusLeave:n.A,windowRef:o.Jh.windowRef},D.displayName="FocusManager";const O=(0,s.A)(D)},1820009530:(N,y,e)=>{"use strict";e.d(y,{A:()=>Fe});var t=e(3134334389),n=e(6122756707),o=e(4844578989),s=e.n(o),c=e(7715417323),r=e(4348392507),a=e(2830068825),i=e(3527550343),l=e(2684695959),m=e(6165267850),_=e(8420440042);const h=E(J=>{const{startFocusTransitionFallbackTimeout:ne,cancelFocusTransitionFallback:je}=(0,t.useContext)(_.Ay),at=(0,t.useCallback)((Ge,Pe)=>{ne(J,Ge,Pe)},[J,ne]),nt=(0,t.useCallback)(()=>{je(J)},[je,J]);return(0,t.useEffect)(()=>()=>{je(J)},[je,J]),[at,nt]},"useFocusTransitionFallback");var d=e(3099379614),f=e(7173172014),v=e(4094753332),u=e(7171435821),g=e(6471059816),p=e(7937864072),A=e(5519459863),C=e(2683115972),T=e(3989454579),I=e(7138682671),M=e(4979382452),D=e(4636370173),O=e(2465132699),S=e(8523371695),R=e(3606117573),U=e(8029613601),P=e(4829524689),L=e(4947127560),F=e(4096483543),x=e(9391594207),b=e(9003400431),k=e(1928462597),B=e(387484329),W=e(1684408608);function K(){return K=Object.assign||function(J){for(var ne=1;ne<arguments.length;ne++){var je=arguments[ne];for(var at in je)Object.prototype.hasOwnProperty.call(je,at)&&(J[at]=je[at])}return J},K.apply(this,arguments)}E(K,"_extends");const H=new g.Ay("contextual_help"),z={elementName:"contextual_help_modal_pref",onChange:{enableClogAction:!0}},Q=E(J=>{let{suppressOnClose:ne=!1,cancelButtonAutoClogProps:je,cancelButtonText:at,children:nt,className:Ge,closeModal:Pe,"data-qa":Le="contextual_help_modal",onSubmit:ze=c.A,contextualHelpCheckboxLabel:Me,pref:Ce,showCancelButton:Qe=!1,submitButtonAutoClogProps:Be,submitButtonText:we,submitButtonType:xe="primary",title:Se="",illustration:Ye,setUserPrefByApi:ot=c.A}=J;const _t=(0,p.A)(),[pt]=(0,A.A)(Ce),vt=k.PW[Ce],[yt,Tt]=(0,t.useState)(vt!==pt),ft="contextual-help-modal-dialog-title",Ct="contextual-help-modal-dialog-content",At=(0,t.useCallback)(Gt=>{_t.action("CONTEXTUAL-HELP-MODAL",`Changed ${Ce}: ${Gt}`),(0,F.A)()?(0,W.gj)((0,B.AZ)({pref:Ce,value:Gt})):ot({pref:Ce,value:Gt})},[_t,Ce,ot]),kt=(0,t.useCallback)(function(){let Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ne?At(!vt):Gt&&At(vt!==yt),Pe()},[ne,Pe,vt,yt,At]),Bt=(0,t.useCallback)(Gt=>{Tt(Gt.target.checked)},[]),St=(0,t.useCallback)(()=>{ze(),kt(!0)},[kt,ze]);return t.createElement(M.A,{className:Ge,labelledby:ft,describedby:Ct,closeModal:kt,role:"alertdialog",dataQa:Le,shouldReturnFocusAfterClose:!0,showCloseButton:!1},t.createElement(U.A,null,Ye?t.createElement(P.A,K({"aria-hidden":!0},Ye)):null,t.createElement(L.A,{title:Se,id:ft,"data-qa":`${Le}_header`})),t.createElement(D.A,null,t.createElement(O.A,{"data-qa":`${Le}_content`,id:Ct},nt)),t.createElement(S.A,{"data-qa":`${Le}_footer`,className:s()({"c-contextual_help_shortcuts_list__footer_with_checkbox":!ne})},!ne&&t.createElement(I.A,{"data-qa":`${Le}_pref_checkbox_label`,type:"inline",cursor:"pointer",text:Me||H.t("Don\u2019t show me this again",{fallbackHash:"a4232cdf54911c7d294da66c7a7a824355769293",fallbackHashNs:"msg_edit"})},t.createElement(T.A,{checked:yt,onChange:Bt,autoClogProps:z})),t.createElement(R.A,null,Qe&&t.createElement(C.Ay,{type:"outline",onClick:kt,"data-qa":`${Le}_cancel`,autoClogProps:je},at||H.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"})),t.createElement(C.Ay,{type:xe,onClick:St,"data-qa":`${Le}_submit`,autoClogProps:Be,autoFocus:!0},we||H.t("Got It",{fallbackHash:"c8a487428d655b8f4d84feb9acdac446bb649d66",fallbackHashNs:"messages"})))))},"ContextualHelpModal");Q.displayName="ContextualHelpModal";const q=E(J=>({closeModal:()=>J((0,b.O)()),setUserPrefByApi:ne=>(0,B.AZ)(ne)}),"mapDispatchToProps"),$=(0,x.N)(null,q)(Q);var le=e(440635146),te=e(8739505998),ce=e(8783045612),me=e.n(ce);const _e=new g.Ay("contextual_help"),Ae={elementName:"confirm_seen_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},ye={elementName:"learn_more_link_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},oe={src:me(),alt:""},ee=E(()=>{const J=(0,v.y3)(),ne=_e.t("Are you trying to move sections?",{fallbackHash:"3f506b9d5da983587d6842f20a64fa5d55ff16a2"}),je=`https://${(0,u.qF)()}/help/articles/115003340723-Navigate-Slack-with-your-keyboard`,at=(0,le.ed)("Cmd"),nt=(0,le.ed)("Ctrl"),Ge=(0,le.ed)(le.tc.ArrowLeft),Pe=(0,le.ed)(le.tc.ArrowRight),Le=_e.t("F6"),ze=_e.rt("{ctrlKey}+{f6Key}",{ctrlKey:nt,f6Key:Le}),Me=E(()=>(0,v.cX)()?_e.rt("{cmdKey}+{ctrlKey}+{leftArrowKey} or {rightArrowKey}",{cmdKey:at,ctrlKey:nt,leftArrowKey:Ge,rightArrowKey:Pe}):J?Le:ze,"getSectionNavigationKeys"),Ce=_e.rt("<ul><li>To move focus between different sections of Slack\u2019s interface press <strong>{sectionNavigationKeys}</strong></li><li>To navigate between items in toolbars, lists, and tabs use <strong>arrow keys</strong></li></ul><link>Learn more about keyboard navigation</link>",{sectionNavigationKeys:Me(),"<link>":Be=>{let{text:we}=Be;return t.createElement(te.A,{href:je,autoClogProps:ye},we)},fallbackHash:"98591a618babdd526f05af764ebdd2c6a90047c1"}),Qe=_e.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"});return t.createElement(f.A,{uiComponentName:"ContextualHelpForSectionNavigationModal",clogImpression:!0},t.createElement($,{pref:"should_show_contextual_help_for_section_navigation",submitButtonAutoClogProps:Ae,title:ne,illustration:oe,suppressOnClose:!0,submitButtonText:Qe},Ce))},"ContextualHelpForSectionNavigationModal");ee.displayName="ContextualHelpForSectionNavigationModal";const V=ee;var w=e(6304789565),Y=e(3051824855),G=e(2047021170);const Z=(0,Y.e)(V),se=(0,w.Ay)("Maybe open modal dialog with contextual help for section navigation",(J,ne)=>{const je=ne();(0,G.ty)(je,"should_show_contextual_help_for_section_navigation")&&J(Z())});se.meta={name:"createThunk",key:"createThunkshowContextualHelpForSectionNavigation",description:"Maybe open modal dialog with contextual help for section navigation"};const ae=null;var re=e(9551108847),pe=e(3626175760),de=e(8999436648),ie=e(337319621),he=e(9012396182),ve=e(4134037340),ge=e(8847766420),ke=e(6533394955);function Ne(){return Ne=Object.assign||function(J){for(var ne=1;ne<arguments.length;ne++){var je=arguments[ne];for(var at in je)Object.prototype.hasOwnProperty.call(je,at)&&(J[at]=je[at])}return J},Ne.apply(this,arguments)}E(Ne,"managed_focus_container_extends");const We={display:"contents"},Oe="active-managed-focus-container",be=E(()=>!0,"shouldAlwaysFocus"),Ke=E(J=>{const{id:ne,index:je,focusFn:at=c.A,restoreFocusFn:nt=void 0,enableSectionNavigation:Ge=!0,refToForward:Pe=void 0,onFocus:Le=c.A,onBlur:ze=c.A,shouldFocus:Me=be,onFirstHiddenTabStopFocus:Ce=c.A,onLastHiddenTabStopFocus:Qe=c.A,tabCountToShowContextualHelp:Be=4,windowRef:we,windowToken:xe=void 0,windowId:Se=void 0,className:Ye,...ot}=J,{registerSection:_t,unregisterSection:pt,setActiveSection:vt}=(0,t.useContext)(de.A),yt=(0,a.A)(Pe),[Tt,ft]=(0,t.useState)(),[Ct,At]=(0,t.useState)(0),{getState:kt}=(0,n.Pj)(),Bt=kt();let St=Bt,Gt;(0,ve.A)(Bt)?(Gt=(0,he.getFocusedWorkspace)(Bt),St=(0,ke.$D)(Gt)):Gt=(0,ge.ZT)(Bt);const Et=(0,ie.Ay)({state:St}),wt=(0,G.ty)(St,"should_show_contextual_help_for_section_navigation"),Jt=(0,t.useCallback)(Wt=>(0,ke.Qw)(Gt,(0,B.AZ)({pref:"should_show_contextual_help_for_section_navigation",value:Wt})),[Gt]),[Lt,Zt]=(0,t.useState)(!1),qt=(0,t.useCallback)(()=>{if(Lt)return;const Wt=Ct+1;if(wt){At(0),Jt(!1),Zt(!0),(0,ke.Qw)(Gt,Z({openModalProps:{forceTargetWindowId:Se}}));return}if(Wt>=Be){At(0),Zt(!0),(0,ke.Qw)(Gt,Z({openModalProps:{forceTargetWindowId:Se}}));return}At(Wt)},[Lt,Jt,wt,Be,Ct,Gt,Se]),tt=(0,t.useCallback)(Wt=>{Ce(Wt)},[Ce]),st=(0,t.useCallback)(Wt=>{Qe(Wt),qt()},[qt,Qe]),gt=(0,t.useCallback)(Wt=>{vt(ne),Le(Wt)},[ne,Le,vt]),Nt=(0,t.useCallback)(Wt=>{const{target:Ft,currentTarget:rn,relatedTarget:_n}=Wt;rn.contains(_n)||ft((0,m.O)(Ft)),ze(Wt)},[ze]),Ht=(0,t.useCallback)(()=>Me()?!yt.current||ne===pe.yE?!0:!!(0,i.Fp)(yt.current):!1,[yt,Me,ne]),Xt=(0,t.useCallback)(()=>{var Wt,Ft;return!!(!((Wt=yt.current)===null||Wt===void 0)&&Wt.contains((Ft=we.deref())===null||Ft===void 0?void 0:Ft.document.activeElement))},[yt,we]),j=(0,t.useCallback)(()=>{const Wt=Tt==null?void 0:Tt.deref();return!(!Wt||!Wt.focus||!yt.current.contains(Wt)||!(0,l.A)(Wt,we.deref()))},[yt,Tt,we]),Ie=(0,t.useCallback)(Wt=>{var Ft;if(Wt!==((Ft=we.deref())===null||Ft===void 0?void 0:Ft.document.activeElement)||!yt.current||Xt())return;const rn=(0,i.Fp)(yt.current);rn&&rn.focus()},[yt,we,Xt]),Ue=(0,t.useCallback)(Wt=>{if(Ct===0||Lt)return;const{key:Ft,shiftKey:rn}=Wt.detail;Ft==="Tab"&&!rn||At(0)},[Lt,Ct]),[rt]=h(Ie);(0,t.useEffect)(()=>{var Wt;return(Wt=we.deref())===null||Wt===void 0||Wt.document.addEventListener("keyboard-navigation",Ue),()=>{var Ft;(Ft=we.deref())===null||Ft===void 0||Ft.document.removeEventListener("keyboard-navigation",Ue)}},[we,Ue]),(0,t.useEffect)(()=>(Ge&&(_t(ne,{focus:()=>{var Wt;if(j()){var Ft;if(nt)nt(Tt==null?void 0:Tt.deref());else{var rn;(rn=Tt==null?void 0:Tt.deref())===null||rn===void 0||rn.focus()}if(((Ft=we.deref())===null||Ft===void 0?void 0:Ft.document.activeElement)===(Tt==null?void 0:Tt.deref()))return}at(),rt(re.H0,(Wt=we.deref())===null||Wt===void 0?void 0:Wt.document.activeElement)},shouldFocus:Ht},je),Xt()&&vt(ne)),Ge||pt(ne),()=>{pt(ne)}),[Ge,at,nt,ne,je,_t,pt,Ht,Tt,we]),(0,t.useEffect)(()=>{var Wt;Ge&&(!((Wt=yt.current)===null||Wt===void 0)&&Wt.getElementsByClassName(Oe).length)&&Et.devHint("UNEXPECTED MANAGED FOCUS CONTAINER HIERARCHY",`Detected an active nested ManagedFocusContainer in container ${ne}; this will disrupt app-level F6 navigation (see https://slack-github.com/slack/webapp/blob/master/js/modern/slack-kit/accessibility-components/managed-focus-container/managed-focus-container.tsx#L30-L36)`)},[Ge,yt,Et,ne]);const zt=Ge?Oe:void 0;return t.createElement(d.A,Ne({onFocus:gt,onBlur:Nt,onFirstHiddenTabStopFocus:tt,onLastHiddenTabStopFocus:st,ref:yt,className:s()(Ye,zt)},ot))},"ManagedFocusContainer");Ke.displayName="ManagedFocusContainer",Ke.defaultProps={style:We};const Fe=(0,r.A)(Ke)},3626175760:(N,y,e)=>{"use strict";e.d(y,{Pb:()=>r,bP:()=>a,n_:()=>o,ol:()=>c,yE:()=>n});var t=e(3193155968);const n="QuipEmbed",o=[n,"QuipInsertionToolbar","QuipFloatingFormattingBar","QuipEmbeddeddUIToolbar"],s=["QuipHeaderView","QuipMegaphoneHeader","QuipActivityHistoryFloatingBar","QuipEmptyStateOptions","QuipSystemMessageBanner","QuipFlexpaneFooter","QuipFloatingActions","QuipPreviewTemplatesFooter"],c=["HuddleWindowBottomToolbar","HuddleWindowFlexpane","HuddleWindowTitlebar","HuddleWindowThread","HuddleWindowContent","HuddleWindowVideoStrip"],r=["WFBTemplatePreviewSidebar","WFBTemplatePreviewPrimary","WFBCanvas","WFBStepLibrary","WFBWaysToStart"],a=[...o,...s,"WorkspaceTabRail","WorkspaceSwitcherRail","WorkspaceSwitcher","TopNav","ControlStrip",t.mq.Sidebar,t.mq.Primary,t.mq.Secondary,t.mq.Modal,"HuddleWorkspace","PocketGuide","ProductivityTips","VideoClipsMiniplayer"]},2035583094:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(3193155968);const o={WORKSPACE_SWITCHER_TAB_LIST:0,PRIMARY_WORKSPACE_ACTIONS:1,SECONDARY_WORKSPACE_ACTIONS:2,WORKSPACE_NAVIGATION:3,PRIMARY_VIEW:4,SECONDARY_VIEW:5,TOP_NAV:0,WORKSPACE_SWITCHER:1,WORKSPACE_SWITCHER_RAIL:2,WORKSPACE_TAB_RAIL:3,CONTROL_STRIP:7,HUDDLE_WORKSPACE:8,POCKET_GUIDE:9,PRODUCTIVITY_TIPS:10,VIDEO_CLIPS_MINIPLAYER:11,[t.mq.Sidebar]:4,[t.mq.Primary]:5,[t.mq.Secondary]:6,[t.mq.Split]:7,[t.mq.Modal]:-1,[t.mq.Peek]:-1,[t.mq.Headless]:-1}},8999436648:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3134334389),n=e(7715417323),o=e(5135324409);const s=t.createContext({registerSection:n.A,unregisterSection:n.A,setActiveSection:n.A,getActiveSection:o.Q,resetSectionNavigation:n.A})},9839643733:(N,y,e)=>{"use strict";e.d(y,{I:()=>s,U:()=>c});var t=e(3134334389),n=e(9506008067),o=e(6766954308);const s=(0,t.createContext)({useARIAApplicationForListViews:!1}),c=E(r=>{const a=(0,n.d4)(o.dF),i=(0,t.useMemo)(()=>({useARIAApplicationForListViews:a}),[a]);return t.createElement(s.Provider,{value:i},r.children)},"A11yPrefsProvider");c.displayName="A11yPrefsProvider"},581167618:(N,y,e)=>{"use strict";e.d(y,{AO:()=>u,A_:()=>v,Ay:()=>C,QE:()=>f});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7173172014),c=e(6105929840),r=e(1610251172),a=e(2201208793),i=e(4882164428),l=e(8683010724),m=e(8668318456),_=e(6471059816);function h(){return h=Object.assign||function(T){for(var I=1;I<arguments.length;I++){var M=arguments[I];for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(T[D]=M[D])}return T},h.apply(this,arguments)}E(h,"_extends");const d=new _.Ay("sk_banner");var f;(function(T){T.default="default",T.boxed="boxed",T.inlineBoxed="inline_boxed",T.nestedBox="nested_box",T.inline="inline",T.custom="custom"})(f||(f={}));var v;(function(T){T.default="default",T.info="info",T.success="success",T.warning="warning",T.error="error"})(v||(v={}));var u;(function(T){T.left="left",T.center="center",T.right="right"})(u||(u={}));const g={elementName:"close",elementType:m.ElementType.X,action:m.UiAction.CLOSE,onClick:{enableClogAction:!0}},p=new Map([["default","slack-pillow"],["info","info-circle"],["success","check-circle-o-large"],["error","warning"],["warning","warning"]]),A=E(T=>{let{align:I=u.left,autoClogProps:M={},className:D,heading:O,icon:S,customIcon:R,id:U,level:P=v.default,type:L=f.boxed,children:F,"data-qa":x,isIconVisible:b=!0,showCloseButton:k=!1,onClose:B,ariaLabelForCloseBtn:W,closeBackgroundStyle:K}=T;const H=(0,i.f)(a.j.Alert),[z,Q]=(0,t.useState)(!1),q=o()("c-alert",`c-alert--${L}`,`c-alert--level_${P}`,`c-alert--align_${I}`,{"c-alert--multiline":!!O},D,H),$=p.get(P)||"slack-pillow",le=(R||$)&&L!==f.inline&&L!==f.custom,te=L===f.nestedBox?"inherit":void 0,ce=L!==f.custom&&O,me=(0,t.useCallback)(()=>{Q(!0),B==null||B()},[B]);return z?null:t.createElement(s.A,h({},M,{elementType:m.ElementType.ALERT}),t.createElement("div",{className:q,id:U,"data-qa":x,"data-qa-alert":!0,"data-qa-alert-level":P,"data-qa-alert-type":L,"data-qa-alert-align":I},b&&le&&(R||t.createElement(r.A,{type:S||$,className:"c-alert__icon",size:te,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":S||$})),t.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},ce&&t.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},O),F),k&&t.createElement("div",{className:"c-alert__close","data-qa":"alert_close_btn"},t.createElement(c.A,{onClick:me,backgroundStyle:K,"aria-label":W??d.t("Dismiss"),autoClogProps:g,size:"small"},t.createElement(l.A,{name:"close",size:"20"})))))},"Alert");A.displayName="Alert",A.displayName="Alert";const C=A},2645587768:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>R,Gs:()=>M,QE:()=>C,al:()=>O});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(441565466),r=e(2664504268),a=e(9506727031),i=e(1820009530),l=e(2035583094),m=e(6105929840),_=e(8683010724),h=e(8725848962),d=e(4426213732),f=e(8668318456),v=e(3527550343),u=e(6471059816),g=e(8359728598);function p(){return p=Object.assign||function(U){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(U[F]=L[F])}return U},p.apply(this,arguments)}E(p,"_extends");const A=new u.Ay("sk_banner");var C;(function(U){U.info="info",U.success="success",U.warning="warning",U.urgent="urgent",U.neutral="neutral"})(C||(C={}));const T={elementName:"close",elementType:f.ElementType.X,action:f.UiAction.CLOSE,onClick:{enableClogAction:!0}},I=(0,g.A)((U,P)=>({top:U,opacity:P})),M={type:"success",showCloseButton:!0,closeButtonSize:20,autoFadeout:!1,topOffset:0,className:null,isFixedPosition:!0,"data-qa":"banner",onClose:s.A,onFocus:s.A,onBlur:s.A,closeOnDismiss:!0},D=2e3;let O=E(class extends t.PureComponent{getIsPersistent(){const{closeOnDismiss:P,showCloseButton:L}=this.props;return!P&&!L}componentDidMount(){this.fadeOutMaybe(),this.maybeRemoveAriaDescribedBy()}componentWillUnmount(){this.cancelAnimation()}fadeOutMaybe(){const{autoFadeout:P,onClose:L}=this.props;if(!P)return;const F=(0,h.A)({delay:D,fromValue:1,toValue:0,duration:D,easing:"easeOutQuad",onTick:x=>{let{value:b,nextTick:k}=x;this.setState(()=>({opacity:b})),k()},onComplete:()=>{this.setState(()=>({isShowing:!1})),L==null||L()}});this.cancelAnimation=F.cancel}setRef(P){var L,F;this.banner&&(this.banner.current=P),(F=(L=this.props).innerRef)===null||F===void 0||F.call(L,P)}focus(){const P=(0,v.Fp)(this.banner.current);P&&P.focus()}close(){const{onClose:P,closeOnDismiss:L}=this.props;L&&this.setState(()=>({isShowing:!1})),P==null||P()}onCloseButtonClick(){this.close()}onKeyDown(P){const{showCloseButton:L}=this.props,F=this.getIsPersistent();P.key==="Escape"&&L&&(F||this.close())}maybeRemoveAriaDescribedBy(){var P,L;const{"aria-describedby":F}=this.props;if(F)return;((P=this.textContent)===null||P===void 0||(L=P.current)===null||L===void 0?void 0:L.querySelectorAll("a,button").length)&&this.state.describedbyId&&this.setState(()=>({describedbyId:void 0}))}renderLabel(){const{type:P,"aria-label":L,"aria-labelledby":F}=this.props;if(!F)return L||(P===C.info||P===C.neutral?A.t("Information",{fallbackHash:"0eb5ed506e4923c28d7f4a8aa69efe99b3ad75d1",fallbackHashNs:"toast"}):P===C.success?A.t("Success",{fallbackHash:"42a8f651d79fd005eeac0612df6442b983a01184",fallbackHashNs:"a11y_prefs_setup"}):P===C.warning?A.t("Warning",{fallbackHash:"e9c45563358e813f157ba81b33143542165ba84e",fallbackHashNs:"toast"}):P===C.urgent?A.t("Urgent",{fallbackHash:"e9c45563358e813f157ba81b33143542165ba84e",fallbackHashNs:"toast"}):A.t("Information",{fallbackHash:"0eb5ed506e4923c28d7f4a8aa69efe99b3ad75d1",fallbackHashNs:"toast"}))}render(){const{type:P,children:L,showCloseButton:F,closeButtonSize:x,topOffset:b,className:k,isFixedPosition:B,dismissButtonLabel:W,"data-qa":K,onFocus:H,onBlur:z,"aria-labelledby":Q}=this.props,{isShowing:q,opacity:$,describedbyId:le}=this.state;if(!q)return!1;const te=o()("c-banner",{[`c-banner--${P}`]:!!P,"c-banner--fixed":B},k),ce=P!=="warning"?"dark":"light",me=A.t("Close",{fallbackHash:"bbfa773e5a63a5ea58c9b6207e608ca0120e592a",fallbackHashNs:"ia4"}),Ae=this.getIsPersistent()?"group":"dialog";return t.createElement("div",{role:Ae,"aria-label":this.renderLabel(),"aria-labelledby":Q,"aria-describedby":le,className:te,style:b?I(b,$):void 0,"data-qa":K,ref:this.setRef,onFocus:H,onBlur:z,onKeyDown:this.onKeyDown},t.createElement("div",{id:this.textContentId,className:"c-banner__text",ref:this.textContent},L),F&&t.createElement(m.A,{className:"c-banner__close",onClick:this.onCloseButtonClick,backgroundStyle:ce,"aria-label":W||me,autoClogProps:T,"data-qa":"banner_close_btn"},t.createElement(_.A,{name:"close",size:x})))}constructor(P){super(P),(0,d.v)(this,["onCloseButtonClick","onKeyDown","focus","setRef","maybeRemoveAriaDescribedBy"]),this.cancelAnimation=s.A,this.banner=t.createRef(),this.textContent=t.createRef(),this.textContentId=(0,r.A)();const{"aria-describedby":L}=P;this.state={isShowing:!0,opacity:1,describedbyId:L||this.textContentId}}},"Banner");O.displayName="Banner",O.defaultProps=M,O.displayName="Banner";const S=(0,t.forwardRef)((U,P)=>{let{enableSectionNavigation:L=!1,...F}=U;const b=`Banner_${(0,c.A)()}`,k=l.A.WORKSPACE_SWITCHER_TAB_LIST-.1;return t.createElement(i.A,{id:b,index:k,focusFn:s.A,enableSectionNavigation:L},t.createElement(O,p({ref:P},F)))}),R=(0,a.A)(S)},9332393661:(N,y,e)=>{"use strict";e.d(y,{A:()=>v});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3398586081),c=e(7715417323),r=e(1610251172);const a=(0,s.A)(u=>({height:`${u}px`,width:`${u}px`}));function i(u){let{icon:g,classes:p=null,size:A=20,ariaHidden:C=void 0,ariaRole:T="img",ariaLabel:I=void 0}=u;const M=o()("c-base_font_icon",p);return t.createElement("div",{className:M,style:a(A),"aria-hidden":C,role:T,"aria-label":I},t.createElement(r.A,{type:g}))}E(i,"BaseFontIcon"),i.displayName="BaseFontIcon";const l=i;var m=e(337319621);const _=(0,m.Wo)(),h=(0,s.A)(u=>({height:`${u}px`,width:`${u}px`})),d=(0,s.A)(u=>({width:`${u}px`}));function f(u){let{image:g=void 0,size:p=20,srcSet:A="",classes:C=void 0,icon:T=void 0,ariaHidden:I=!1,ariaRole:M="img",ariaLabel:D=void 0,widthOnly:O=!1,onLoad:S=c.A,onError:R=c.A,resetIA:U,"data-qa":P}=u;g&&T&&_.warn("BaseIcon: cannot pass in both image and icon!"),!I&&!D&&_.warn("BaseIcon: if ariaHidden is false, we must have an ariaLabel for a11y!");const L=o()("c-base_icon",C,{"c-base_icon--unknown":!g&&!T,"c-base_icon--image":g,"c-base_icon--resetIA":U});if(T)return t.createElement(l,{icon:T,classes:L,size:p,ariaHidden:I,ariaRole:M,ariaLabel:D});const F=t.createElement("img",{src:g,srcSet:A,className:L,style:O?d(p):h(p),"aria-hidden":I,role:M,"aria-label":D,alt:"",onLoad:S,onError:R,"data-qa":P});return O?t.createElement("span",{className:o()("c-base_icon__width_only_container",{"c-base_icon--resetIA":U}),style:h(p)},F):F}E(f,"BaseIcon"),f.displayName="BaseIcon";const v=f},6396024562:(N,y,e)=>{"use strict";e.d(y,{A:()=>a,h:()=>c});var t=e(3134334389),n=e(6122756707),o=e(5249175977),s=e(2419403458);const c=E(i=>{const{left:l=0,top:m=0}=i||{};return{left:l,top:m,right:l,bottom:m,width:0,height:0}},"makeTargetBounds"),r=E(i=>{let{targetBounds:l,onCloseRequested:m,width:_,children:h}=i;const d=t.Children.only(h),f=(0,n.wA)();(0,t.useEffect)(()=>(f((0,s.r)({})),()=>{f((0,s.K)({}))}),[f]);const v=(0,t.useMemo)(()=>({isContextMenu:!0,width:_??"auto",onTriggerClose:m,onMenuItemSelected:m}),[m,_]);return t.createElement(o.AM,{shouldFade:!1,position:"right-bottom",tryOppositePosition:!0,useTargetBoundsAsPosition:!0,shouldCloseOnOverlayMouseDown:!0,shouldReturnFocusAfterClose:!1,isOpen:!0,targetBounds:c(l),onClose:m,ariaHideApp:!1},t.cloneElement(d,v))},"ContextMenu");r.displayName="ContextMenu";const a=r},6496493732:(N,y,e)=>{"use strict";e.d(y,{A:()=>v});var t=e(3134334389),n=e(7715417323),o=e(441565466),s=e(6084388622),c=e(4979382452),r=e(4636370173),a=e(2465132699),i=e(8523371695),l=e(3606117573),m=e(8029613601),_=e(4947127560),h=e(6471059816);const d=new h.Ay("generic_dialog"),f=E(u=>{let{title:g,children:p,submitButtonType:A="primary",submitButtonText:C=d.t("Confirm"),submitButtonIsDisabled:T=!1,submitButtonIsLoading:I=!1,showCancelButton:M=!0,showCloseButton:D=!0,showSubmitButton:O=!0,cancelButtonText:S=d.t("Cancel"),onSubmit:R=n.A,onCancel:U=n.A,onClose:P=n.A,"data-qa":L="dialog",className:F,overlayClassName:x,submitAutoClogProps:b,cancelAutoClogProps:k,shouldReturnFocusAfterClose:B=!0}=u;const W=(0,o.A)(),K=(0,o.A)();return t.createElement(c.A,{describedby:K,labelledby:W,closeModal:P,role:"dialog",className:F,overlayClassName:x,dataQa:L,shouldReturnFocusAfterClose:B,showCloseButton:D},t.createElement(m.A,null,t.createElement(_.A,{id:W,title:g,"data-qa":`${L}_header`})),t.createElement(r.A,null,t.createElement(a.A,{id:K,"data-qa":`${L}_body`},p)),(M||O)&&t.createElement(i.A,{"data-qa":`${L}_footer`},t.createElement(l.A,null,M&&t.createElement(s.Ay,{type:"outline",onClick:U,"data-qa":`${L}_cancel`,autoClogProps:k},S),O&&t.createElement(s.lV,{type:A,onClick:R,loading:I,disabled:T,"data-qa":`${L}_go`,autoClogProps:b,"aria-label":C},C))))},"DialogModalProps");f.displayName="DialogModalProps";const v=f},51460783:(N,y,e)=>{"use strict";e.d(y,{A:()=>a});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(4518138713);function c(){return c=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(i[_]=m[_])}return i},c.apply(this,arguments)}E(c,"_extends");function r(i){const{children:l,className:m}=i;return l?t.createElement("span",c({className:o()(m,"c-base_entity__metadata")},(0,s.A)(i)),l):null}E(r,"BaseEntityMetadata"),r.displayName="BaseEntityMetadata";const a=r},161084047:(N,y,e)=>{"use strict";e.d(y,{A:()=>a});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(4518138713);function c(){return c=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(i[_]=m[_])}return i},c.apply(this,arguments)}E(c,"_extends");function r(i){const{children:l,className:m}=i;return l?t.createElement("span",c({className:o()(m,"c-base_entity__subtext")},(0,s.A)(i)),l):null}E(r,"BaseEntitySubtext"),r.displayName="BaseEntitySubtext";const a=r},3534100833:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(2809903252),c=e(4518138713);function r(){return r=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var _=arguments[m];for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(l[h]=_[h])}return l},r.apply(this,arguments)}E(r,"_extends");function a(l){const{children:m=null,className:_="",multiline:h=!1,inline:d=!1,breakWords:f=!0,withTruncationTooltip:v=!1}=l;if(!m)return null;const u=h?2:1;return d?t.createElement("span",r({className:o()(_,"c-base_entity__text")},(0,c.A)(l)),m):t.createElement("span",r({className:o()(_,"c-base_entity__text")},(0,c.A)(l)),t.createElement(s.A,{lines:u,breakWords:f,withTooltip:v},m))}E(a,"BaseEntityText"),a.displayName="BaseEntityText";const i=a},1464713483:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7435117457),c=e(4518138713);function r(){return r=Object.assign||function(_){for(var h=1;h<arguments.length;h++){var d=arguments[h];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(_[f]=d[f])}return _},r.apply(this,arguments)}E(r,"_extends");const a={className:"c-base_entity__avatar"},i=E((_,h,d,f)=>!(_!==s.ny.medium||!d||f||h),"shouldVerticallyCenter"),l=E(_=>{const{size:h,style:d=s.pI.normal,text:f=null,className:v="",subtext:u=null,avatar:g=E(()=>null,"avatar"),metadata:p=null,forwardedRef:A=null,useAvatarOutline:C=!1}=_,T=g(a),I=!!T,M=(0,t.useCallback)(()=>C?t.createElement("div",{className:"c-base_entity__avatar-container"},T):T,[T,C]);return t.createElement("div",r({className:o()(v,"c-base_entity",`c-base_entity--${h}`,{"c-base_entity--has-avatar":I,"c-base_entity--dim":d===s.pI.dim,"c-base_entity--vertically-center":i(h,u,I,p)})},(0,c.A)(_),{ref:A}),M(),t.createElement("div",{className:"c-base_entity__text-contents"},f,u,p))},"BaseEntity");l.displayName="BaseEntity";const m=l},5273017660:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>c,CG:()=>s.A,Q:()=>n.A,sT:()=>o.A});var t=e(1464713483),n=e(51460783),o=e(161084047),s=e(3534100833);const c=t.A},2671211451:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(7435117457),r=e(2809903252),a=e(4518138713);function i(){return i=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(d[u]=v[u])}return d},i.apply(this,arguments)}E(i,"_extends");const l=E(d=>{let{children:f,truncate:v=!1,truncateWidth:u,withTruncationTooltip:g=!1}=d;const p=(0,t.useMemo)(()=>({maxWidth:u||void 0}),[u]);if(!v)return t.createElement("span",null,f);let A;return u?A=t.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:p},f):A=t.createElement("span",null,t.createElement(r.A,{lines:1,withTooltip:g},f)),A},"MaybeTruncate");l.displayName="MaybeTruncate";const m={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"};let _=E(class extends t.Component{render(){const{className:f,avatar:v=s.A,primaryContent:u,secondaryContent:g,style:p=c.pI.normal,truncate:A=!1,truncateWidth:C,withTruncationTooltip:T=!1}=this.props,I=v(m),M=!!I;return t.createElement("span",i({className:o()(f,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":M,"c-base_inline_entity--truncate_block":A&&!C,"c-base_inline_entity--truncate_inline":A&&C,"c-base_inline_entity--dim":p===c.pI.dim,"c-base_inline_entity--highlight-dark":p===c.pI.highlightDark,"c-base_inline_entity--highlight-dim":p===c.pI.highlightDim,"c-base_inline_entity--highlight-light":p===c.pI.highlightLight})},(0,a.A)(this.props)),t.createElement(l,{truncate:A,truncateWidth:C,withTruncationTooltip:T},I,t.createElement("span",{className:"c-base_inline_entity__primary_content"},u),g&&t.createElement("span",{className:"c-base_inline_entity__secondary_content"},g)))}},"BaseInlineEntity");_.displayName="BaseInlineEntity";const h=_},2828836153:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7435117457),c=e(4518138713);function r(){return r=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var _=arguments[m];for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(l[h]=_[h])}return l},r.apply(this,arguments)}E(r,"_extends");let a=E(class extends t.Component{render(){const{className:m,ariaLabel:_,primaryContent:h,secondaryContent:d,size:f=s.ny.medium,style:v=s.pI.normal,padding:u=s.FK.normal}=this.props;return t.createElement("div",r({className:o()(m,"c-base_list_entity",`c-base_list_entity--${f}`,{"c-base_list_entity--dim":v===s.pI.dim,"c-base_list_entity--highlight-dark":v===s.pI.highlightDark,"c-base_list_entity--highlight-dim":v===s.pI.highlightDim,"c-base_list_entity--highlight-light":v===s.pI.highlightLight,"c-base_list_entity--no-pad":u===s.FK.none})},(0,c.A)(this.props),{"aria-label":_}),t.createElement("div",{className:"c-base_list_entity__primary_content"},h),d&&t.createElement("div",{className:"c-base_list_entity__secondary_content"},d))}},"BaseListEntity");a.displayName="BaseListEntity";const i=a},3989454579:(N,y,e)=>{"use strict";e.d(y,{A:()=>f});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(3817509504),r=e(4954329752),a=e(4943209501),i=e(3037610746),l=e(2201208793),m=e(4882164428),_=e(8668318456);function h(){return h=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var g=arguments[u];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(v[p]=g[p])}return v},h.apply(this,arguments)}E(h,"_extends");const f=t.forwardRef(E(function(u,g){let{className:p,isRequired:A=!1,"aria-disabled":C,indeterminate:T=!1,checked:I,unstyled:M,autoClogProps:D,onChange:O,focusOnMount:S,...R}=u;const U=(0,t.useRef)(null),P=(0,t.useContext)(i.A),[L,F]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(T&&I==null)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");U.current&&(U.current.indeterminate=T)},[I,T]),(0,t.useEffect)(()=>{if(S){var H;(H=U.current)===null||H===void 0||H.focus()}},[S]);const x=(0,t.useCallback)(H=>{I===void 0&&D&&F(H.target.checked),O==null||O(H)},[D,I,O]),b=(0,m.f)(l.j.Checkbox),k=M?o()("c-input_unstyled_checkbox",p,b,{"c-input_unstyled_checkbox--focus-visible":P,"c-input_unstyled_checkbox--checked":I}):o()("c-input_checkbox",p,b,{"c-input_checkbox--focus-visible":P,"c-input_checkbox--disabled":C}),B=t.createElement("input",h({},R,(0,c.A)(R),{"aria-disabled":C,"aria-checked":T?"mixed":void 0,checked:I,type:"checkbox",required:A,className:k,ref:(0,r.P)(U,g),onChange:C?s.A:x})),W=I!==void 0?I:L,K=(0,t.useMemo)(()=>({onChange:{action:W?_.UiAction.UNCHECK:_.UiAction.CHECK}}),[W]);return D?t.createElement(a.A,{autoClogProps:D,actionProps:K,elementType:_.ElementType.CHECKBOX},B):B},"Checkbox"))},5797272849:(N,y,e)=>{"use strict";e.d(y,{E:()=>t});const t={small:"c-form--small",large:"c-form--large"}},7302772898:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(4844578989),o=e.n(n);function s(){return s=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(a[m]=l[m])}return a},s.apply(this,arguments)}E(s,"_extends");const c=t.forwardRef(E(function(i,l){let{className:m="",children:_,id:h,...d}=i;const f=o()("c-legend",m);return t.createElement("legend",s({id:h},d,{className:f,ref:l}),_)},"Legend"));c.displayName="Legend";const r=c},3391133100:(N,y,e)=>{"use strict";e.d(y,{Es:()=>o,Yk:()=>c,r7:()=>a,r9:()=>s,zI:()=>r});var t=e(6471059816);const n=new t.Ay("form_inputs");function o(i,l){return`${i}_${l}`}E(o,"getInputBuddyId");function s(){return Math.random().toString(36).substring(2,10)}E(s,"getRandomId");const c=E(i=>{const l=i.filter(m=>m);if(l.length!==0)return l.join(" ")},"makeAriaComboIds"),r=E(i=>n.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:i}),"getMaximumCharacterErrorText"),a=E(i=>n.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:i}),"getMinimumCharacterErrorText")},2660476100:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3134334389),n=e(4844578989),o=e.n(n);function s(c){let{children:r,className:a,id:i}=c;return r?t.createElement("div",{className:o()("c-hint",a),id:i},r):null}E(s,"Hint")},7138682671:(N,y,e)=>{"use strict";e.d(y,{A:()=>m,Q:()=>a});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6471059816);function c(){return c=Object.assign||function(_){for(var h=1;h<arguments.length;h++){var d=arguments[h];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(_[f]=d[f])}return _},c.apply(this,arguments)}E(c,"_extends");const r=new s.Ay("app_dialog"),a={block:"block",inline:"inline"};var i;let l=E(class extends(i=t.Component){getCursor(){const{cursor:h,htmlFor:d,isDisabled:f}=this.props;return f?null:typeof h>"u"&&d?"pointer":h}renderOptionalTextMaybe(){const{optional:h}=this.props,d=r.t("(optional)");return h?t.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},d):null}renderSubtextMaybe(){const{subtext:h}=this.props;return h?t.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},h):null}render(){const{className:h,cursor:d,htmlFor:f,optional:v,subtext:u,text:g,type:p,isDisabled:A,dataQaLabel:C,...T}=this.props,I=o()("c-label",h,{"c-label--block":p===a.block,"c-label--inline":p===a.inline,"c-label--with_subtext":u,"c-label--pointer":this.getCursor()==="pointer","c-label--disabled":A,"c-label--with_formatted_text":typeof g!="string"});return t.createElement("label",c({},T,{htmlFor:f,className:I,"data-qa-label":C,"data-qa-label-type":p}),t.createElement("span",{className:"c-label__text","data-qa-label-text":!0},g,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),t.createElement("span",{className:"c-label__children","data-qa-label-children":!0},this.props.children))}},"Label");l.defaultProps={children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:"block",isDisabled:!1,dataQaLabel:"true"},l.displayName="Label";const m=l},5375115868:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(4943209501),c=e(8668318456);function r(){return r=Object.assign||function(m){for(var _=1;_<arguments.length;_++){var h=arguments[_];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])}return m},r.apply(this,arguments)}E(r,"_extends");const a={onChange:{action:c.UiAction.CLICK}};let i=E(class extends t.PureComponent{componentDidMount(){const{focusOnMount:_,autoFocus:h}=this.props;(_||h)&&this.focus()}componentDidUpdate(){const{autoFocus:_}=this.props;_&&this.focus()}focus(){var _;(_=this.inputRef.current)===null||_===void 0||_.focus()}render(){const{className:_,autoClogProps:h,autoFocus:d,focusOnMount:f,...v}=this.props,u=o()("c-input_radio",_),g=t.createElement("input",r({},v,{className:u,ref:this.inputRef,type:"radio"}));return h?t.createElement(s.A,{autoClogProps:h,actionProps:a,elementType:c.ElementType.RADIO},g):g}constructor(_){super(_),this.inputRef=t.createRef()}},"Radio");i.defaultProps={autoFocus:!1},i.displayName="Radio";const l=i},5791351025:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(581167618),c=e(7302772898),r=e(2660476100);function a(){return a=Object.assign||function(m){for(var _=1;_<arguments.length;_++){var h=arguments[_];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])}return m},a.apply(this,arguments)}E(a,"_extends");const i=E(m=>{let{"aria-label":_,"aria-labelledby":h,errorId:d,className:f,errorText:v,hintId:u,hintText:g,isDisabled:p=!1,isRequired:A=!1,"data-qa":C,errorLevel:T=s.A_.error,errorType:I=s.QE.nestedBox,children:M,legendText:D,legendClassNames:O=""}=m;const S=(0,t.useRef)(null),R=D;(0,t.useEffect)(()=>{const K=S.current;if(!K||R)return;const H=K.querySelectorAll('input[type="radio"]:not(:scope [role="radiogroup"] input[type="radio"])');Array.from(H).forEach(z=>{z.disabled=p})},[p,R]);const U=(h||d)&&[h,d].join(" ").trim(),P=v&&t.createElement(s.Ay,{id:d,level:T,type:I,className:"c-alert--error margin_bottom_100"},v),L=g&&t.createElement(r.A,{id:u},g),F=D&&t.createElement(c.A,{className:O},D),x=o()("c-radiogroup",{"c-radiogroup--with_error":!!v,"c-radiogroup--with_hint":!!g},f),b={"aria-describedby":u,"aria-invalid":!!v,"aria-labelledby":U,"aria-required":A,className:x},k=E(()=>t.createElement("fieldset",a({},b,{disabled:p}),F,M),"renderFieldset");k.displayName="renderFieldset";const B=E(()=>t.createElement("div",a({},b,{role:"radiogroup","aria-disabled":p,"aria-label":_,ref:S}),M),"renderAriaGroup");B.displayName="renderAriaGroup";const W=R?k():B();return t.createElement("div",{"data-qa":C},W,P,L)},"Radiogroup");i.displayName="Radiogroup";const l=i},9205344153:(N,y,e)=>{"use strict";e.d(y,{A:()=>u});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3708320478),c=e(5166368300),r=e(4426213732),a=e(124320166),i=e(6471059816);const l=new i.Ay("form_inputs"),m={inline:"inline",multiline:"multiline"},_=E((g,p)=>g>p,"isCurrentCountInvalid"),h=E((g,p)=>p-g,"getCharacterCount"),d=E((g,p,A)=>!A||g>=A?h(g,p):"","getCharacterCountDisplay"),f=E(g=>g.toString().length,"getCharacterCountLength");let v=E(class extends t.Component{getSnapshotBeforeUpdate(p){if(p.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(this.props.currentCount,this.props.maxCharacterLimit);const A=h(this.props.currentCount,this.props.maxCharacterLimit),C=f(A);this.shouldReadCharactersRemainingMessage=!1,this.state.characterCountLength!==C&&this.setCharacterCountLength(C)}return null}componentDidUpdate(p,A){this.props.type===m.inline&&A.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}onBlur(){this.shouldReadCharactersRemainingMessage=!0,this.setState(()=>({hasFocus:!1}))}onFocus(){this.setState(()=>({hasFocus:!0}))}getCharacterCountWidth(){return this.characterCountWidth||this.measureCountWidth()}setCharacterCountLength(p){this.setState(()=>({characterCountLength:p}))}setCharactersRemainingMessage(p,A){const C=this.makeCharactersRemainingMessage(p,A);this.setState(()=>({charactersRemainingMessage:C}))}setCharactersRemainingRef(p){this.charactersRemainingElement=p}makeCharactersRemainingMessage(p,A){const C=h(p,A);return l.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:C})}measureCountWidth(){const p=this.charactersRemainingElement&&this.charactersRemainingElement.offsetWidth||0;return this.characterCountWidth=p,p}renderCharactersRemaining(){if(!this.state.hasFocus)return null;const{currentCount:p,maxCharacterLimit:A,counterMinimumCharacters:C}=this.props,T=d(p,A,C);return t.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining",ref:this.setCharactersRemainingRef},T)}render(){const{className:p,currentCount:A,maxCharacterLimit:C,children:T,isDisabled:I,size:M,type:D,id:O}=this.props,S=o()(p,"c-input_character_count",{"c-input_character_count--multiline":D===m.multiline,"c-input_character_count--large":M===c.F.large,"c-input_character_count--small":M===c.F.small,"c-input_character_count--invalid":this.state.hasFocus&&_(A,C),"c-input_character_count--disabled":I}),R=this.shouldReadCharactersRemainingMessage&&t.createElement("div",{id:O,hidden:!0},this.state.charactersRemainingMessage);let U;return this.shouldReadCharactersRemainingMessage||(U=t.createElement(s.A,{assertive:!0,message:this.state.charactersRemainingMessage})),t.createElement("div",{role:"presentation",className:S,"data-qa":"input_character_count",onFocus:this.onFocus,onBlur:this.onBlur},T,this.renderCharactersRemaining(),U,R)}constructor(p){super(p);const A=this.makeCharactersRemainingMessage(p.currentCount,p.maxCharacterLimit);this.state={characterCountLength:0,charactersRemainingMessage:A,hasFocus:!1},this.characterCountWidth=0,this.shouldReadCharactersRemainingMessage=!0,(0,r.v)(this,["setCharactersRemainingRef","setCharactersRemainingMessage","onFocus","onBlur"]),this.updateCharactersRemainingMessage=(0,a.A)(this.setCharactersRemainingMessage,1500)}},"CharacterCount");v.defaultProps={className:void 0,currentCount:0,isDisabled:!1,type:m.inline,size:c.F.medium,counterMinimumCharacters:0,id:void 0},v.displayName="CharacterCount";const u=v},2219904496:(N,y,e)=>{"use strict";e.d(y,{A:()=>R});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(2003990933),c=e(7715417323),r=e(581167618),a=e(3391133100),i=e(2660476100),l=e(9205344153),m=e(5166368300),_=e(1610251172);const h={small:"small",medium:"medium",large:"large"},d=E(U=>{let{size:P,icon:L,children:F}=U;const x=o()("c-input_text_icon",{"c-input_text_icon--small":P===h.small,"c-input_text_icon--large":P===h.large}),b=o()("c-input_text_icon__icon",{"c-input_text_icon__icon--small":P===h.small,"c-input_text_icon__icon--large":P===h.large});return t.createElement("div",{className:x},t.createElement(_.A,{type:L,className:b,size:"inherit"}),F)},"TextInputIcon");d.displayName="TextInputIcon";const f=t.memo(d);let v=E(class extends t.PureComponent{getOverlayText(){return this.props.value||this.props.placeholder}renderOverlay(){const{size:P,prefix:L,suffix:F}=this.props,x=o()("c-input_text_overlay",{"c-input_text_overlay--large":P===m.F.large},this.props.className);return t.createElement("div",{className:x,"data-overlay-prefix":L,"data-overlay-suffix":F,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}render(){const{children:P,suffix:L}=this.props;return t.createElement("div",{className:"position_relative","aria-describedby":`Text input with ${L} appended to the text value.`},this.renderOverlay(),P)}},"TextInputOverlay");v.defaultProps={className:"",placeholder:"",size:m.F.medium,value:"",prefix:"",suffix:""},v.displayName="TextInputOverlay";const u=v;var g=e(434544446),p=e.n(g),A=e(8509961938);function C(U,P){const L=T(U);return P&&L.length?L.replace((0,A.A)(),"E").replace(p()(),"E").length:L.length}E(C,"getTextLength");function T(U){return U==null?"":typeof U=="string"?U:String(U)}E(T,"coerceValueToString");var I=e(9665283624),M=e(4426213732);function D(){return D=Object.assign||function(U){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(U[F]=L[F])}return U},D.apply(this,arguments)}E(D,"_extends");const O=12;let S=E(class extends t.PureComponent{componentDidMount(){this.maybeFocusAndSelectOnMount(this.props)}componentDidUpdate(P,L){(this.props.value!==P.value||this.state.isFocused!==L.isFocused)&&this.getTextStyle(),this.props.value!==P.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.maybeFocusAndSelectOnMount(P)}onBlur(P){const{onBlur:L}=this.props;this.setState(()=>({isFocused:!1})),L&&L(P)}onFocus(P){const{onFocus:L}=this.props;this.setState(()=>({isFocused:!0,everFocused:!0})),L&&L(P)}getPrefixStyle(){const{size:P,prefix:L}=this.props;if(!L)return;let F;const b=document.createElement("canvas").getContext("2d");return b&&(P===m.F.medium?(b.font="15px Slack-Lato",F=b.measureText(L).width+O):P===m.F.small?(b.font="13px Slack-Lato",F=b.measureText(L).width+O):(b.font="18px Slack-Lato",F=b.measureText(L).width+O)),{paddingLeft:F}}getTextStyle(){var P;const{maxCharacterLimit:L}=this.props;if(!L){this.setTextStyle({});return}const x={paddingRight:(P=this.characterCount)===null||P===void 0?void 0:P.getCharacterCountWidth()};this.setTextStyle(x)}setTextStyle(P){this.setState(()=>({textStyle:P}))}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}focus(){this.input.current&&this.input.current.focus()}maybeFocusAndSelectOnMount(P){const{focusOnMount:L,forceSelectAll:F}=this.props;this.state.everFocused&&L&&P&&P.focusOnMount===L||!this.input||!this.input.current||!L||(this.props.focusOnMount&&this.props.preventScrollOnFocus?this.input.current.focus({preventScroll:!0}):this.input.current.focus(),F&&this.input.current.select())}getIsInputLengthTooShort(){const{emojisShouldCountAsSingleCharacter:P,isRequired:L,minCharacterLimit:F,value:x}=this.props,{everReceivedUserInput:b}=this.state;if(!b||F==null)return!1;const k=C(x,P);return!L&&k===0?!1:k<F}getIsInputLengthTooLong(){const{maxCharacterLimit:P,value:L,emojisShouldCountAsSingleCharacter:F}=this.props;return P==null?!1:C(L,F)>P}renderDeprecatedErrorMaybe(){const{errorLevel:P,errorText:L,errorType:F,minCharacterLimit:x,maxCharacterLimit:b}=this.props;return L?t.createElement(r.Ay,{id:this.state.errorId,level:P,type:F,className:"margin_bottom_100","data-qa":"form_text_input_alert_on_error_text"},L):this.getIsInputLengthTooLong()?t.createElement(r.Ay,{id:this.state.errorId,level:r.A_.error,type:F,className:"margin_bottom_100"},(0,a.zI)(b)):this.getIsInputLengthTooShort()?t.createElement(r.Ay,{id:this.state.errorId,level:r.A_.error,type:F,className:"margin_bottom_100"},(0,a.r7)(x)):null}renderErrorMaybe(){const{errorText:P,minCharacterLimit:L,maxCharacterLimit:F}=this.props;return P?t.createElement(I.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-inline-alert"},P):this.getIsInputLengthTooLong()?t.createElement(I.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,a.zI)(F)):this.getIsInputLengthTooShort()?t.createElement(I.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,a.r7)(L)):null}renderHintMaybe(){const{hintText:P}=this.props;return P?t.createElement(i.A,{id:this.state.hintId,"data-qa":"form-text-hint"},P):null}renderTextInput(){const{className:P,errorId:L,errorLevel:F,errorText:x,errorType:b,hintId:k,hintText:B,id:W,isRequired:K,isInvalid:H,labelId:z,name:Q,onBlur:q,onChange:$,onCopy:le,forceSelectAll:te,onFocus:ce,size:me,prefix:_e,suffix:Ae,maxCharacterLimit:ye,minCharacterLimit:oe,emojisShouldCountAsSingleCharacter:ee,counterMinimumCharacters:V,icon:w,focusOnMount:Y,useInlineAlert:G,showError:Z,inputRef:se,preventScrollOnFocus:ae,ariaDescribedById:re,autoComplete:pe,type:de,readOnly:ie,...he}=this.props,ve=!!x||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||H,ge=o()({[`c-input_text--with_${F}`]:ve,"c-input_text--with_hint":B,"c-input_text--with_icon":w},P),ke=z,Ne=(0,a.Yk)([ve?this.state.errorId:null,re,this.state.hintId,this.characterCounterId]),We={...this.state.textStyle,...this.getPrefixStyle()};return t.createElement(m.A,D({},he,{style:We,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:Ne,isInvalid:ve,ariaLabelledby:ke,ariaRequired:K,className:ge,id:W,name:Q,onChange:$,onCopy:le,forceSelectAll:te,ref:this.input,size:me,autoComplete:pe,type:de,readOnly:ie??void 0}))}renderWrappedTextMaybe(){const{prefix:P,suffix:L,value:F,placeholder:x,maxCharacterLimit:b,counterMinimumCharacters:k,size:B,isDisabled:W,icon:K}=this.props;let H=this.renderTextInput();if(b){const z=C(F,this.props.emojisShouldCountAsSingleCharacter);H=t.createElement(l.A,{id:this.characterCounterId,currentCount:z,isDisabled:W,maxCharacterLimit:b,counterMinimumCharacters:k,size:B,ref:Q=>{this.characterCount=Q}},H)}return(P||L)&&(H=t.createElement(u,{className:K&&"c-input_text_overlay--icon",placeholder:x,size:B,prefix:P,suffix:L,value:F??void 0},H)),K&&(H=t.createElement(f,{icon:K,size:B},H)),H}render(){const P=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtext":!0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderWrappedTextMaybe(),this.props.showError&&P,this.renderHintMaybe())}constructor(P){super(P),(0,M.v)(this,["onFocus","onBlur","getPrefixStyle"]);const{id:L}=P;this.state={errorId:(0,s.A)(this.props,"errorId",(0,a.Es)(L,"error")),everReceivedUserInput:!1,hintId:(0,s.A)(this.props,"hintId",(0,a.Es)(L,"hint")),isFocused:!1,everFocused:!1,textStyle:{}},P.maxCharacterLimit&&(this.characterCounterId=(0,a.Es)(L,"character-count")),this.input=P.inputRef||t.createRef()}},"FormTextInput");S.defaultProps={className:null,errorId:void 0,errorLevel:r.A_.error,errorText:null,errorType:r.QE.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isInvalid:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,emojisShouldCountAsSingleCharacter:!1,onBlur:c.A,onChange:c.A,onCopy:c.A,forceSelectAll:!1,readOnly:!1,onFocus:c.A,placeholder:void 0,size:m.F.medium,prefix:void 0,suffix:null,value:"",icon:void 0,focusOnMount:!1,preventScrollOnFocus:!1,showError:!0,inputRef:void 0,ariaDescribedById:void 0,onMouseEnter:c.A,onMouseLeave:c.A,autoComplete:"off",type:void 0,spellCheck:!1,min:0,max:0,autoCorrect:void 0,ariaLabel:void 0,width:0,autoClogProps:void 0,autoFocus:!1,role:void 0,onPaste:c.A,onKeyDown:c.A,onCompositionStart:c.A,onCompositionEnd:c.A},S.displayName="FormTextInput";const R=S},8472205500:(N,y,e)=>{"use strict";e.d(y,{A:()=>g});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(2003990933),c=e(7715417323),r=e(4943209501),a=e(581167618),i=e(3391133100),l=e(2660476100),m=e(9205344153),_=e(8452232783),h=e(9665283624),d=e(4426213732),f=e(8668318456);function v(){return v=Object.assign||function(p){for(var A=1;A<arguments.length;A++){var C=arguments[A];for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(p[T]=C[T])}return p},v.apply(this,arguments)}E(v,"_extends");const u={onChange:{action:f.UiAction.ENTER_TEXT}};let g=E(class extends t.PureComponent{componentDidMount(){if(this.getTextStyle(),this.props.focusOnMount){var A;(A=this.input.current)===null||A===void 0||A.focus()}}componentDidUpdate(A,C){if((this.props.value!==A.value||this.state.isFocused!==C.isFocused)&&this.getTextStyle(),this.props.value!==A.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.props.focusOnMount&&A.focusOnMount!==this.props.focusOnMount&&!this.state.isFocused){var T;(T=this.input.current)===null||T===void 0||T.focus()}}onBlur(){const{onBlur:A}=this.props;this.setFocus(!1),A&&A()}onFocus(){const{onFocus:A}=this.props;this.setFocus(!0),A&&A()}getTextStyle(){var A;const{maxCharacterLimit:C}=this.props;if(!C){this.setTextStyle({});return}const I={paddingRight:(A=this.characterCount)===null||A===void 0?void 0:A.getCharacterCountWidth()};this.setTextStyle(I)}setCharacterCountRef(A){this.characterCount=A}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}setFocus(A){this.setState(()=>({isFocused:A}))}setInputRef(A){this.input=A}setTextStyle(A){this.setState(()=>({textStyle:A}))}blur(){this.input.current&&this.input.current.blur()}focus(){this.input.current&&this.input.current.focus()}getIsInputLengthTooShort(){const{isRequired:A,minCharacterLimit:C,value:T}=this.props,{everReceivedUserInput:I}=this.state;return!I||C==null||!A&&T.length===0?!1:T.length<C}getIsInputLengthTooLong(){const{maxCharacterLimit:A,value:C}=this.props;return A==null?!1:C.length>A}renderDeprecatedErrorMaybe(){const{showError:A,errorLevel:C,errorText:T,errorType:I,isRequired:M,maxCharacterLimit:D,minCharacterLimit:O,value:S}=this.props;return A?T?t.createElement(a.Ay,{id:this.state.errorId,level:C,type:I,className:"margin_bottom_100"},T):!M&&S.length===0?null:this.getIsInputLengthTooLong()?t.createElement(a.Ay,{id:this.state.errorId,level:a.A_.error,type:I,className:"margin_bottom_100"},(0,i.zI)(D)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(a.Ay,{id:this.state.errorId,level:a.A_.error,type:I,className:"margin_bottom_100"},(0,i.r7)(O)):null:null}renderErrorMaybe(){const{showError:A,errorText:C,isRequired:T,maxCharacterLimit:I,minCharacterLimit:M,value:D}=this.props;return A?C?t.createElement(h.A,{"data-qa":"form-text-area-inline-alert",id:this.state.errorId},C):!T&&D.length===0?null:this.getIsInputLengthTooLong()?t.createElement(h.A,{id:this.state.errorId,"data-qa":"form-text-area-max-char-alert"},(0,i.zI)(I)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(h.A,{id:this.state.errorId,"data-qa":"form-text-area-min-char-alert"},(0,i.r7)(M)):null:null}renderHintMaybe(){const{hintText:A}=this.props;return A?t.createElement(l.A,{id:this.state.hintId},A):null}renderTextArea(){const{className:A,showError:C,errorId:T,errorLevel:I,errorText:M,errorType:D,hintId:O,hintText:S,useInlineAlert:R,id:U,isRequired:P,isInvalid:L,labelId:F,name:x,onChange:b,onFocus:k,onBlur:B,maxCharacterLimit:W,minCharacterLimit:K,focusOnMount:H,autoClogProps:z,ariaDescribedById:Q,inputRef:q,...$}=this.props,{textStyle:le}=this.state,te=!!M||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||L,ce=o()({[`c-input_textarea--with_${I}`]:te,"c-input_textarea--with_hint":S,"c-input_textarea--with_character_count":!!W,"c-input_text--with_inline_alert":R&&te},A),me=F,_e=(0,i.Yk)([te?this.state.errorId:void 0,Q,this.state.hintId,this.characterCounterId]),Ae=t.createElement(_.A,v({},$,{ref:this.setInputRef,style:le,ariaDescribedby:_e,isInvalid:te,ariaLabelledby:me,ariaRequired:P,className:ce,id:U,"data-qa":$["data-qa"]||U,name:x,onChange:b,onFocus:this.onFocus,onBlur:this.onBlur}));return z?t.createElement(r.A,{autoClogProps:z,actionProps:u,elementType:f.ElementType.TEXTAREA},Ae):Ae}renderWrappedTextareaMaybe(){const{value:A,maxCharacterLimit:C,size:T,isDisabled:I}=this.props;let M=this.renderTextArea();return C&&(M=t.createElement(m.A,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:A==null?void 0:A.length,isDisabled:I,maxCharacterLimit:C,type:"multiline",size:T},M)),M}render(){const A=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),A,this.renderHintMaybe())}constructor(A){super(A);const{id:C}=this.props;(0,d.v)(this,["onFocus","onBlur","setInputRef","setCharacterCountRef"]),this.state={errorId:(0,s.A)(this.props,"errorId",(0,i.Es)(C,"error")),hintId:(0,s.A)(this.props,"hintId",(0,i.Es)(C,"hint")),isFocused:!1,everReceivedUserInput:!1,textStyle:{}},this.props.maxCharacterLimit&&(this.characterCounterId=(0,i.Es)(C,"character-count")),this.input=t.createRef()}},"FormTextareaInput");g.defaultProps={className:null,showError:!0,errorId:void 0,errorLevel:a.A_.error,errorText:null,errorType:a.QE.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,isInvalid:!1,labelId:null,onChange:c.A,onFocus:c.A,onBlur:c.A,placeholder:void 0,size:_.F.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,focusOnMount:!1,autoClogProps:void 0,type:void 0,ariaDescribedById:void 0,role:void 0,inputRef:void 0}},5166368300:(N,y,e)=>{"use strict";e.d(y,{A:()=>h,F:()=>l});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(4943209501),r=e(5797272849),a=e(8668318456);function i(){return i=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(d[u]=v[u])}return d},i.apply(this,arguments)}E(i,"_extends");const l={small:"small",medium:"medium",large:"large"};var m;let _=E(class extends(m=t.Component){componentDidMount(){if(this.props.focusOnMount&&typeof this.props.refToForward!="function"){var f,v;(f=this.props.refToForward)===null||f===void 0||(v=f.current)===null||v===void 0||v.focus()}}onChange(f){this.props.onChange&&this.props.onChange(f.target.value)}onCopy(){this.props.onCopy&&this.props.onCopy()}onClick(f){this.props.readOnly&&this.props.forceSelectAll&&f.currentTarget.select()}blur(){if(typeof this.props.refToForward!="function"){var f,v;(f=this.props.refToForward)===null||f===void 0||(v=f.current)===null||v===void 0||v.blur()}}focus(){if(typeof this.props.refToForward!="function"){var f,v;(f=this.props.refToForward)===null||f===void 0||(v=f.current)===null||v===void 0||v.focus()}}render(){const{ariaDescribedby:f,isInvalid:v,ariaLabelledby:u,ariaRequired:g,className:p,id:A,isDisabled:C,name:T,placeholder:I,size:M,type:D,refToForward:O,ariaLabel:S,forceSelectAll:R,focusOnMount:U,autoClogProps:P,autoComplete:L,...F}=this.props,x=o()("c-input_text",{"c-input_text--large":M===l.large,"c-input_text--small":M===l.small,"c-input_text--with_error":v,"c-input_text--with_inline_alert":v,[r.E.small]:M===l.small,[r.E.large]:M===l.large},p),b=t.createElement("input",i({},F,{"aria-describedby":F["aria-describedby"]||f,"aria-invalid":F["aria-invalid"]||v,"aria-labelledby":F["aria-labelledby"]||u,"aria-required":F["aria-required"]||g,"aria-label":F["aria-label"]||S,autoComplete:L,className:x,disabled:C,id:A,name:T,onChange:this.onChange,onCopy:this.onCopy,onClick:this.onClick,placeholder:I,ref:O,type:D}));return P?t.createElement(c.A,{autoClogProps:P,actionProps:{onChange:{action:a.UiAction.ENTER_TEXT},onCopy:{action:a.UiAction.COPY_TO_CLIPBOARD}},elementType:a.ElementType.INPUT},b):b}constructor(f){super(f),this.onChange=this.onChange.bind(this),this.onCopy=this.onCopy.bind(this),this.onClick=this.onClick.bind(this)}},"TextInput");_.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,ariaLabel:"",className:null,isDisabled:!1,onChange:s.A,onCopy:s.A,forceSelectAll:!1,readOnly:!1,placeholder:"",size:"medium",value:"",type:"text",focusOnMount:!1,autoComplete:"off"},_.displayName="TextInput";const h=t.forwardRef((d,f)=>{const v=(0,t.useRef)(null);return t.createElement(_,i({},d,{refToForward:f||v}))})},8452232783:(N,y,e)=>{"use strict";e.d(y,{A:()=>d,F:()=>l});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(4943209501),r=e(5797272849),a=e(8668318456);function i(){return i=Object.assign||function(f){for(var v=1;v<arguments.length;v++){var u=arguments[v];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[g]=u[g])}return f},i.apply(this,arguments)}E(i,"_extends");const l={small:"small",medium:"medium",large:"large"},m={onBlur:{action:a.UiAction.SAVE}};var _;let h=E(class extends(_=t.Component){componentDidMount(){this.props.focusOnMount&&this.props.refToForward&&this.props.refToForward.current&&this.props.refToForward.current.focus()}onChange(v){this.props.onChange(v.target.value)}render(){const{ariaDescribedby:v,isInvalid:u,ariaLabelledby:g,ariaRequired:p,className:A,placeholder:C,id:T,isDisabled:I,name:M,resize:D,size:O,refToForward:S,focusOnMount:R,autoClogProps:U,...P}=this.props,L=o()("c-input_textarea",{"c-input_textarea--large":O===l.large,"c-input_textarea--small":O===l.small,"c-input_textarea--resize_none":D==="none","c-input_textarea--resize_both":D==="both","c-input_textarea--resize_h":D==="horizontal","c-input_textarea--with_error":u,"c-input_textarea--with_inline_alert":u,[r.E.small]:O===l.small,[r.E.large]:O===l.large},A),F=t.createElement("textarea",i({},P,{"aria-describedby":v,"aria-invalid":u,"aria-labelledby":g,"aria-required":p,className:L,disabled:I,id:T,name:M,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onBlurCapture:this.props.onBlurCapture,placeholder:C,ref:S,value:this.props.value,style:this.props.style,maxLength:this.props.maxLength}));return U?t.createElement(c.A,{autoClogProps:U,actionProps:m,elementType:a.ElementType.TEXTAREA},F):F}constructor(v){super(v),this.onChange=this.onChange.bind(this)}},"TextareaInput");h.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:s.A,onFocus:s.A,onBlur:s.A,onBlurCapture:s.A,placeholder:"",resize:null,size:l.medium,style:void 0,maxLength:void 0,value:"",focusOnMount:!1,autoClogProps:void 0},h.displayName="TextareaInput";const d=t.forwardRef((f,v)=>t.createElement(h,i({},f,{refToForward:v||t.createRef()})))},1448603600:(N,y,e)=>{"use strict";e.d(y,{A:()=>m,_:()=>i});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3564666345),c=e(3391133100),r=e(1581132261),a=e(7872686780);const i=t.createContext({name:""});function l(_){let{children:h,name:d,className:f,labelId:v,validate:u,validateAsync:g,focusOnMount:p=!1}=_;const A=(0,r.A)(d),[C]=(0,s.Mt)({name:d,...g||u?{validate:g||u}:{}}),{hints:T}=(0,a.A)(),I=(0,t.useMemo)(()=>({name:d}),[d]),[M,D]=(0,t.useState)(!1);(0,t.useEffect)(()=>{p&&!M&&D(!M)},[M,p]);const O=(0,c.Yk)([v]),S=(0,c.Yk)([T,A.map(U=>U.id)]),R=o()({"c-input_text--with_hint":T.length||A.length},f);return t.createElement(i.Provider,{value:I},h({field:{...C,ariaLabelledby:O,isInvalid:A.length>0,ariaDescribedby:S,className:R,focusOnMount:p&&!M},fieldErrors:A}))}E(l,"BaseField"),l.displayName="BaseField";const m=l},5059707046:(N,y,e)=>{"use strict";e.d(y,{i:()=>a});var t=e(3134334389),n=e(3564666345),o=e(5375115868),s=e(9078488172);function c(){return c=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(i[_]=m[_])}return i},c.apply(this,arguments)}E(c,"_extends");const r=E(i=>{const{name:l,value:m,validateOnBlur:_,checked:h,...d}=i,{setFieldValue:f,handleBlur:v,setFieldTouched:u}=(0,n.j7)(),g=(0,t.useCallback)(p=>{var A;return f(l,p==null||(A=p.target)===null||A===void 0?void 0:A.value)},[l,f]);return t.createElement(o.A,c({},d,{name:l,value:m,checked:h,onChange:g},_?{onBlur:()=>{v(l),u(l,!0)}}:{onBlur:()=>{u(l,!1)}}))},"WithAdaptedProps");r.displayName="WithAdaptedProps";const a=E(i=>{const{handleBlur:l,handleChange:m}=(0,n.j7)(),{labelText:_,labelSubtext:h,...d}=i;return t.createElement(s.A,c({},i),t.createElement(r,c({},d,{onChange:m,onBlur:l})))},"FieldRadio");a.displayName="FieldRadio"},7685945408:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(8452232783),n=e(8769763882);const s=(0,n.Z)(t.A,c=>{let{name:r,setFieldValue:a,handleBlur:i,setFieldTouched:l,validateOnBlur:m}=c;return{onChange:_=>a(r,_),...m&&{onBlur:()=>{i(r),l(r,!0)}},...!m&&{onBlur:()=>{l(r,!1)}}}})},9078488172:(N,y,e)=>{"use strict";e.d(y,{A:()=>A});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(5828775116),c=e(7138682671),r=e(1448603600),a=e(3155323475),i=e(3391133100),l=e(2660476100),m=e(7872686780);function _(){return _=Object.assign||function(C){for(var T=1;T<arguments.length;T++){var I=arguments[T];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(C[M]=I[M])}return C},_.apply(this,arguments)}E(_,"_extends");function h(C){const{name:T}=(0,t.useContext)(r._),{addHint:I,removeHint:M}=(0,m.A)(),D=(0,t.useMemo)(()=>`${T}_hint_${(0,i.r9)()}`,[T]);return(0,t.useEffect)(()=>(I(D),()=>{M(D)}),[I,D,M]),t.createElement(l.A,_({},C,{id:D}))}E(h,"FormHint"),h.displayName="FormHint";const d=h;function f(C){let{hints:T}=C;return T&&T.map((I,M)=>{const O=((typeof I=="string"?I:I==null?void 0:I.key)||"").slice(-3)+M;return t.createElement(d,{key:O,className:"c-field_input__helpers"},I)})}E(f,"FieldHints");var v=e(9392104102);const u=E(C=>`${C}_label_id`,"getLabelId"),g=E((C,T)=>({...C,...T,className:o()(C.className,T.className)}),"mergeProps");function p(C){let{name:T,labelText:I,hints:M=v.Ml,labelSubtext:D,focusOnMount:O=!1,component:S,children:R,optional:U=!1,validate:P,validateAsync:L,...F}=C;const x=u(T);(0,s.A)(!(S&&R),"You should not use <Field component> and <Field children> as a function in the same <Field> component; <Field component> will be ignored.");const b=(0,t.useCallback)(B=>I?t.createElement(c.A,{text:I,id:x,type:"inline",cursor:"pointer",className:o()(B,F.className),optional:U},R):R,[R,x,I,U,F.className]),k=(0,t.useCallback)(()=>I?t.createElement(c.A,{text:I,subtext:D,id:x,optional:U}):null,[x,D,I,U]);return t.createElement(r.A,{name:T,labelId:x,validate:P,validateAsync:L,focusOnMount:O},B=>{let{field:W,fieldErrors:K}=B;return t.createElement(t.Fragment,null,R?b(W.className):t.createElement(t.Fragment,null,k(),t.createElement(S,g(W,{...F}))),t.createElement(a.A,{errors:K}),t.createElement(f,{hints:M}))})}E(p,"Field"),p.displayName="Field";const A=p},4967176632:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3134334389),n=e(3564666345);function o(){return o=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])}return r},o.apply(this,arguments)}E(o,"_extends");function s(r){let{className:a=void 0,initialValues:i,initialErrors:l=void 0,validate:m=void 0,validationSchema:_=void 0,validateOnBlur:h=!0,validateOnChange:d=!0,validateOnMount:f=!1,onReset:v=void 0,onSubmit:u,children:g,...p}=r;const A=v?{onReset:v}:{};return t.createElement(n.l1,o({initialValues:i,initialErrors:l,validate:m,validationSchema:_,validateOnBlur:h,validateOnChange:d,validateOnMount:f,onSubmit:u},A,p),C=>{let{handleSubmit:T,handleReset:I,...M}=C;return t.createElement("form",{className:a,onSubmit:T,onReset:I},g({...M}))})}E(s,"Form"),s.displayName="Form";const c=s},3155323475:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(9665283624);function c(r){let{className:a,errors:i}=r;var l;return i&&i.length>0?t.createElement(t.Fragment,null,i.map(m=>(0,t.isValidElement)(m.message)?t.cloneElement(m.message,{key:m.id,id:m.id,className:o()(a,"c-field_input__helpers")}):(l=!!m.message&&t.createElement(s.A,{className:o()(a,"c-field_input__helpers"),key:m.id,id:m.id},m.message))!==null&&l!==void 0?l:null)):null}E(c,"FieldErrors")},1581132261:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3134334389),n=e(3564666345),o=e(3391133100);function s(c){const{getFieldMeta:r,submitCount:a}=(0,n.j7)(),i=r(c),{touched:l,error:m,initialError:_}=i,h=(0,t.useCallback)(d=>d&&d.map&&d.length>0?d.map(f=>({id:`${c}_error_${(0,o.r9)()}`,message:f})):d?[{id:d,message:d}]:[],[c]);return(0,t.useMemo)(()=>l||a>0?h(m):h(_),[l,h,_,m,a])}E(s,"useFieldErrors")},7872686780:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(3134334389);function n(){const[s,c]=(0,t.useReducer)(o,[]),r=(0,t.useCallback)(i=>{c({type:"addHint",hintId:i})},[c]),a=(0,t.useCallback)(i=>{c({type:"removeHint",hintId:i})},[c]);return{hints:s,addHint:r,removeHint:a}}E(n,"useHints");function o(s,c){switch(c.type){case"addHint":return[...s,c.hintId];case"removeHint":return s.filter(r=>r!==c.hintId);default:return s}}E(o,"hintsReducer")},8769763882:(N,y,e)=>{"use strict";e.d(y,{Z:()=>a});var t=e(3134334389),n=e(3564666345),o=e(1448603600),s=e(9078488172);function c(){return c=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var _=arguments[m];for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(l[h]=_[h])}return l},c.apply(this,arguments)}E(c,"_extends");function r(l,m){return _=>{const{name:h}=(0,t.useContext)(o._),{validateOnBlur:d,...f}=_,v=(0,n.j7)(),u=(0,t.useMemo)(()=>m({name:h,handleChange:v.handleChange,handleBlur:v.handleBlur,setFieldValue:v.setFieldValue,setFieldTouched:v.setFieldTouched,validateOnBlur:d,props:_}),[h,v.handleChange,v.handleBlur,v.setFieldValue,v.setFieldTouched,d,_]);return t.createElement(l,c({},f,u))}}E(r,"withFieldAdapter"),r.displayName="withFieldAdapter";function a(l,m){const _=r(l,m);return E(d=>t.createElement(s.A,c({component:_},d)),"FieldTextInput")}E(a,"withField"),a.displayName="withField";var i=null},9665283624:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3708320478),c=e(8683010724);function r(){return r=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var _=arguments[m];for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(l[h]=_[h])}return l},r.apply(this,arguments)}E(r,"_extends");let a=E(class extends t.PureComponent{render(){const{children:m,className:_,id:h,...d}=this.props,f=o()("c-inline_alert",_);return t.createElement("div",r({},d,{className:f,id:h,"data-qa-error":!0}),t.createElement(c.A,{name:"info"}),t.createElement(s.z,{assertive:!0},t.createElement("span",{className:"c-inline_alert__text"},m)))}},"InlineAlert");a.defaultProps={className:"",id:""},a.displayName="InlineAlert";const i=a},440635146:(N,y,e)=>{"use strict";e.d(y,{ed:()=>v,tc:()=>_,zG:()=>u});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(1610251172),c=e(9432515904),r=e(4094753332),a=e(6471059816);const i=new a.Ay("keyboard_key");var l;(function(g){g.ArrowUp="\u2191",g.ArrowDown="\u2193",g.ArrowLeft="\u2190",g.ArrowRight="\u2192"})(l||(l={}));var m;(function(g){g.CmdOrCtrl="CmdOrCtrl",g.OptOrAlt="OptOrAlt"})(m||(m={}));const _={...l,...m},h=Object.values(l).map(g=>g.toString()),d={Cmd:"cmd-small",[l.ArrowUp]:"caret-up",[l.ArrowDown]:"caret-down",[l.ArrowLeft]:"caret-left",[l.ArrowRight]:"caret-right"},f=E(g=>g===m.CmdOrCtrl?(0,r.cX)()?"Cmd":"Ctrl":g===m.OptOrAlt?(0,r.cX)()?"Option":"Alt":g,"getKeyForOS"),v=E(g=>({"\u2191":i.t("up arrow"),"\u2193":i.t("down arrow"),"\u2190":i.t("left arrow"),"\u2192":i.t("right arrow"),Ctrl:i.t("control"),"\u2318":i.t("command"),Cmd:i.t("command"),Option:i.t("option"),Alt:i.t("alt"),".":i.t("period"),",":i.t("comma"),"[":i.t("left bracket"),"]":i.t("right bracket"),"+":i.t("plus"),"-":i.t("minus"),Esc:i.t("escape"),Strg:"Steuerung"}[g]||String(g)).toLowerCase(),"getNameForKey"),u=E(g=>{let{label:p,className:A,slim:C=!1,theme:T=c.Sx.Light,tooltip:I=!1}=g;const M=String(p),D=h.includes(M),O=f(M),S=d[O],R=o()(A,{"c-keyboard_key":!0,"c-keyboard_key__arrow_key":D,"c-keyboard_key--slim":C,"c-keyboard_key--dark":T===c.Sx.Dark,"c-keyboard_key__tooltip":I}),U=v(O);return t.createElement("div",{role:"img","aria-label":U,className:R},S?t.createElement(s.A,{type:S,size:C?"inherit":20,inline:C}):O)},"KeyboardKey");u.displayName="KeyboardKey"},9194155027:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(440635146),c=e(4094753332);const r=E(()=>(0,c.cX)()?t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"\xA0"):t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"+"),"Delimiter");r.displayName="Delimiter";const a=E(l=>{let{isInline:m=!1,title:_,mainKey:h,modifier:d,modifiers:f,className:v,useSlimModifiers:u}=l;const g=o()("c-keyboard_keys",{"c-keyboard_keys--inline":m,"c-keyboard_key__tooltip_text":!(d||f)},v),p=o()("c-keyboard_keys--title",{"c-keyboard_keys--title-inline":m}),A=d?[d]:f,C=A==null?void 0:A.map(T=>t.createElement(t.Fragment,{key:`${T}_key`},t.createElement(s.zG,{label:T,tooltip:!0,slim:u}),t.createElement(r,null)));return t.createElement(t.Fragment,null,t.createElement("span",{className:p,"aria-hidden":"true"},_),t.createElement("span",{className:g},C,t.createElement(s.zG,{label:h,tooltip:!0})))},"KeyboardKeysTooltip");a.displayName="KeyboardKeysTooltip";const i=a},9742374352:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(4943209501),c=e(3037610746),r=e(6538933722),a=e(8668318456),i=e(6695894399);function l(){return l=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(d[u]=v[u])}return d},l.apply(this,arguments)}E(l,"_extends");const m={onClick:{action:a.UiAction.CLICK}},h=t.forwardRef(E(function(f,v){let{autoClogProps:u,className:g,href:p,invert:A=!1,children:C,...T}=f;const I=(0,t.useContext)(c.A),M=o()("c-link",{"c-link--focus-visible":I,"c-link--invert":A},g),D=T.target==="_blank"||(p==null?void 0:p.startsWith("mailto:")),O=t.createElement("a",l({},(0,i.A)(T),{className:M,href:p,ref:v}),C,D&&t.createElement(r.A,null));return u?t.createElement(s.A,{autoClogProps:u,actionProps:m,elementType:a.ElementType.LINK},O):O},"BaseLink"))},3098394427:(N,y,e)=>{"use strict";e.d(y,{A:()=>Qe});var t=e(3134334389),n=e(6122756707),o=e(2774532222),s=e(4094753332),c=e(3169083297),r=e(7732872146),a=e(1318506593),i=e(4178531214),l=e(9524650809),m=e(9101533895),_=e(8920264989),h=e(3514831633),d=e(6471059816),f=e(9236644324),v=e(9490897575),u=e(9268451279),g=e(6304789565),p=e(8276911661);const A=(0,g.Ay)("Get a member by their email",(Be,we,xe)=>{const Se=we();return(0,p.OA)(Se,xe)});A.meta={name:"createThunk",key:"createThunkgetMemberByEmail",description:"Get a member by their email"};const C=A;var T=e(5522343655),I=e(1009419259),M=e(8023032856),D=e(858397164),O=e(7173172014),S=e(1734406906),R=e(8668318456),U=e(7884000776),P=e(3110884894),L=e(7749101058),F=e(1407713935),x=e(6839188756),b=e(1670069836),k=e(3848977043);function B(Be){let{canUserInviteToChannelByEmail:we,canUserSlackConnectDm:xe,isImOrMpim:Se,isMember:Ye,isPOU:ot,showInvitePeopleGlobalAction:_t}=Be;const pt=(xe||Ye)&&!ot,vt=we!==void 0,yt=vt&&we&&!Se,Tt=vt&&_t&&!Ye&&!yt;return{showChannelInviteMenu:yt,showDmMenu:pt,showSeparator:pt||yt||Tt,showWorkspaceInviteMenu:Tt}}E(B,"getEmailMenuItemDisplayRules");var W=e(8170643398),K=e(5279892721),H=e(9225229866),z=e(3193155968),Q=e(9506008067),q=e(5519146941),$=e(4518410378),le=e(8040098042),te=e(82287009);function ce(){return ce=Object.assign||function(Be){for(var we=1;we<arguments.length;we++){var xe=arguments[we];for(var Se in xe)Object.prototype.hasOwnProperty.call(xe,Se)&&(Be[Se]=xe[Se])}return Be},ce.apply(this,arguments)}E(ce,"_extends");const me=new d.Ay("linkify_emails"),_e={elementName:"email_linkify_dm_email",onClick:{enableClogAction:!0}},Ae={elementName:"email_linkify_start_invite",onClick:{enableClogAction:!0}},ye={elementName:"email_linkify_start_invite_to_workspace",onClick:{enableClogAction:!0}},oe={elementName:"email_linkify_copy_email",onClick:{enableClogAction:!0}},ee={elementName:"email_linkify_open_email",onClick:{enableClogAction:!0}},V=E(Be=>{let{href:we,channel:xe,...Se}=Be;const[Ye,ot]=(0,t.useState)(),_t=(0,n.wA)(),pt=we.split("mailto:")[1]?we.split("mailto:")[1]:we,vt=me.rt("Contact {emailAddress}",{emailAddress:pt}),yt=_t(C(pt)),Tt=yt==null?void 0:yt.id,ft=(0,W.hh)(yt),Ct=(0,_.Mn)(xe),At=(0,Q.d4)(st=>(0,x.F1)((0,b.H7)(st))),kt=(0,Q.d4)(k.Lz),Bt=(0,F.JM)(xe),St=(0,Q.d4)(M.u);(0,t.useEffect)(()=>{_t((0,D.f$)({context:D.Ui.AddToChannel})).then(st=>{ot(st.addToChannelFlow.inviteToChannelByEmail)})},[_t]);const Gt=(0,t.useCallback)(()=>{_t((0,te.Sb)({initialEmail:pt}))},[_t,pt]),Et=(0,t.useCallback)(()=>{if(Tt){const st=(0,u.h0)({memberIds:[Tt]});_t((0,T.A)({destinations:st})).then(gt=>_t((0,v.U)({draftId:gt}))).catch(()=>{Gt()})}else Gt()},[_t,Tt,Gt]),wt=(0,t.useCallback)(()=>{let st={channelId:xe.id,entryPoint:K.kP.EmailLinkMenu,initialSelectedEmails:[{key:pt,label:pt,value:pt,hoverText:me.t("Outside your organization"),isClassifying:!1,classification:I.r.External,entity:{id:pt,isEmail:!0,value:pt},icon:void 0}]};Tt&&(st={channelId:xe.id,entryPoint:K.kP.EmailLinkMenu,initialSelectedEmails:[{key:pt,label:pt,isLoading:!0,queryId:(0,l.A)("query__"),value:void 0,entity:void 0,classification:void 0,icon:void 0}]}),_t((0,te._2)(st))},[xe.id,_t,pt,Tt]),Jt=(0,t.useCallback)(()=>{_t((0,te.Xf)({initialEmail:pt,source:H.K3.LinkifyEmails}))},[_t,pt]),{showChannelInviteMenu:Lt,showDmMenu:Zt,showSeparator:qt,showWorkspaceInviteMenu:tt}=B({canUserInviteToChannelByEmail:Ye,canUserSlackConnectDm:St,isImOrMpim:Bt,isMember:!!Tt,isPOU:ft,showInvitePeopleGlobalAction:kt});return t.createElement(O.A,{eventId:R.EventId.EMAIL_LINK_MENU,elementType:R.ElementType.MENU,clogImpression:!0},t.createElement(h.Ay,ce({},Se),t.createElement(t.Fragment,null,t.createElement("p",{className:"p-email_link_menu__title"}," ",vt," "),Zt&&t.createElement(h.Dr,{"data-qa":"start_dm_email_linkify",onSelected:Et,label:me.t("Start a DM"),autoClogProps:_e}),Lt&&t.createElement(h.Dr,{"data-qa":"start_invite_email_linkify",onSelected:wt,label:me.rt("Invite to #{channelDisplayName}",{channelDisplayName:Ct}),autoClogProps:Ae}),tt&&t.createElement(h.Dr,{"data-qa":"start_invite_to_workspace_email_linkify",onSelected:Jt,label:me.rt("Invite to {currentTeamName}",{currentTeamName:At}),autoClogProps:ye}),qt&&t.createElement(h.bX,null)),t.createElement(h.Dr,{"data-qa":"copy_email_linkify",onSelected:(0,t.useCallback)(()=>(0,f.x3)(pt),[pt]),label:me.t("Copy Email Address"),autoClogProps:oe}),t.createElement(h.Dr,{"data-qa":"send_email_linkify",onSelected:(0,t.useCallback)(()=>$.J.open(we,"_blank"),[we]),label:me.rt("Email {emailAddress}",{emailAddress:pt}),autoClogProps:ee})))},"RenderMenu");V.displayName="RenderMenu";const w=E(Be=>{let{href:we,refToForward:xe,channelId:Se,onClick:Ye,...ot}=Be;const{getSiblingView:_t}=(0,t.useContext)(q.A),pt=(0,t.useContext)(L.r4),vt=we==null?void 0:we.startsWith("mailto:"),yt=(0,Q.d4)(At=>{var kt;if(vt&&pt&&pt===U.Y.THREAD){const St=(0,P.jA)(At,{getSiblingView:_t});if(St){const Gt=(0,P.Sb)(St);if(Gt&&Gt.channelId)return Gt.channelId}}if(Se)return Se;const Bt=(kt=_t(At,{container:z.mq.Primary}))===null||kt===void 0?void 0:kt.id;return Bt&&(0,le.A)(Bt)?Bt:void 0}),Tt=(0,Q.d4)(At=>(0,m.OL)(At,yt)),ft=(0,t.useCallback)(At=>{if(Tt)return t.createElement(V,ce({},At,{href:we,channel:Tt}))},[we,Tt]),Ct={href:we,refToForward:xe,...ot};return vt&&Tt?t.createElement(h.cQ,{renderMenu:ft,position:"bottom-right"},t.createElement(S.A,ce({},Ct,{preventDefault:!0}))):t.createElement(S.A,ce({},Ct,{onClick:Ye}))},"EmailLinkMenu");w.displayName="EmailLinkMenu";const Y=w;var G=e(8170244779),Z=e(6993486037),se=e(7334104107),ae=e(4821277680),re=e(104089241),pe=e(219228829),de=e(485355941),ie=e(4096483543),he=e(4963023022),ve=e(5123689463),ge=e(4252064756),ke=e(2523456537),Ne=e(8847766420),We=e(3297051565),Oe=e.n(We),be=e(2573911482),Ke=e.n(be),Fe=e(2647703359),J=e(9018258885),ne=e(937317117);const je=(0,g.Ay)("Clog when a URL is clicked and the URL is an external_url of a file",function(Be,we){let{clogLinkClick:xe,url:Se,isRawLink:Ye=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ot=we();if(!(0,J.A)(Se))return;const pt={is_raw_link:Ye,item_type:"link",url_hash_id:Ke()(Se),url_domain:(0,r.Ay)(Se).hostname},vt=(0,ne.TL)(ot,Se);if(vt&&(pt.item_type=vt.id[0],pt.item_id=vt.id,(0,Fe.Vx)(vt)&&(pt.contexts={ui_context:{action:"open",ui_component:"remote_file"}}),(0,Fe.ge)(vt)&&(pt.contexts={link_action:"file_viewer_external_link"},vt.external_type==="gdrive"))){const yt=vt.mimetype&&vt.mimetype.indexOf("image/")!==-1;pt.contexts.platform={service_type:"GSUITE",app_id:9,has_rich_preview:vt.has_rich_preview&&!yt}}xe(pt)});je.meta={name:"createThunk",key:"createThunkclogUrls",description:"Clog when a URL is clicked and the URL is an external_url of a file"},je.propTypes={clogLinkClick:Oe().func.isRequired,url:Oe().string.isRequired};const at=je;var nt=e(1290436125),Ge=e(6270439924),Pe=e(7606781622),Le=e(2047021170);function ze(){return ze=Object.assign||function(Be){for(var we=1;we<arguments.length;we++){var xe=arguments[we];for(var Se in xe)Object.prototype.hasOwnProperty.call(xe,Se)&&(Be[Se]=xe[Se])}return Be},ze.apply(this,arguments)}E(ze,"connected_external_link_extends");const Me=E(Be=>{let{onClick:we,href:xe,target:Se,maybeOpenSuspiciousLinkDialog:Ye,clogLinkClick:ot,alwaysPerformDefaultOnClickBehavior:_t=!1,children:pt,hermesLinkTriggerUIContext:vt,isFromAppHome:yt=!1,refToForward:Tt,...ft}=Be;const Ct=(0,n.wA)(),At=(0,Q.d4)(Ue=>(0,b._J)(Ue,(0,i.ss)(Ue)?(0,nt.gc)(Ue):(0,Ne.ZT)(Ue))),{getSiblingView:kt}=(0,t.useContext)(q.A),Bt=(0,Q.d4)(Ue=>{var rt;return(rt=kt(Ue,{container:z.mq.Primary}))===null||rt===void 0?void 0:rt.id});let St=(0,ie.A)()&&xe.startsWith("/")?(0,x.Zl)(At,xe):xe;const Gt=(0,r.Ay)(St),Et=(0,Q.d4)(Ue=>(0,ae.XN)(Ue,Gt)),wt=(Et==null?void 0:Et.type)===ae.im.CHANNEL_CANVAS?Et==null?void 0:Et.channelId:(0,ve.rk)(Gt),Jt=(0,Q.d4)(Ue=>wt&&(0,le.A)(wt)?(0,m.OL)(Ue,wt):void 0),Lt=Jt&&(0,F.t8)(Jt),Zt=Jt&&(0,F.QR)(Jt),qt=(0,Q.d4)(Ue=>{if(Et&&(Et==null?void 0:Et.type)===ae.im.MESSAGE&&(Et!=null&&Et.channelId)&&(Et!=null&&Et.ts)){const rt=(0,Pe.Ld)(Ue,Et==null?void 0:Et.channelId,Et==null?void 0:Et.ts);if(!(0,se.ow)(rt)&&(0,se.xh)(rt))return!0}return!1}),tt=(0,Q.d4)(Ue=>{if(Lt||Zt){const rt=Gt.host;return(0,Ge.dp)(Ue).some(zt=>zt.team_url.includes(rt))}return!1}),st=Gt&&Gt.pathname,gt=Gt&&Gt.hostname;((0,o.A)(st,"/files/")&&(0,ke.A)(gt)||(0,o.A)(st,"/docs/")&&(0,ge.D)(Gt))&&(St=(0,a.M6)(St,"origin_team",At.id),Bt&&(St=(0,a.M6)(St,"origin_channel",Bt)));const Nt=(0,Q.d4)(Ue=>(0,Le.ty)(Ue,"underline_links")),Ht=(0,t.useCallback)(Ue=>{if(ot&&Ct(at({clogLinkClick:ot,url:St,isRawLink:(0,c.A)(St,pt)})),we&&(we(Ue),!_t)){Ue.defaultPrevented||(0,he.A)(St,At,Ue,Se);return}if(!(0,he.A)(St,At,Ue,Se)&&(Ye&&Ye(Ue),!Ue.defaultPrevented)){if((0,de.Cz)(Ue)){Ue.preventDefault(),Ct((0,te._J)({permalink:St,shouldOpenInTile:!0}));return}if(!(0,pe.A)(Ue)&&Ue.button!==1){if((0,re.U)(St)&&(0,s.y3)()){Ue.preventDefault(),Ue.stopPropagation(),Ct((0,te.HB)({uri:St,dangerouslyOverrideRouting:yt}));return}if(!tt&&(Zt||qt)){Ct((0,Z.e)({url:St})),Ue.preventDefault(),Ue.stopPropagation();return}Ct((0,te._J)({permalink:St,hermesLinkTriggerUIContext:vt,dangerouslyOverrideRouting:yt,target:Se}))&&(Ue.preventDefault(),Ue.stopPropagation())}}},[_t,pt,ot,Ct,vt,St,yt,qt,Zt,tt,Ye,we,Se,At]),Xt=!!(Nt&&(ft["data-stringify-link"]||ft["data-qa"]==="message_attachment_title_link")),j=St==null?void 0:St.startsWith("mailto:"),Ie={href:St,target:Se,children:pt,refToForward:Tt,showUnderlineLink:Xt,onClick:Ht,...ft};return j?t.createElement(G.A.Consumer,null,Ue=>{let{channelId:rt}=Ue;return t.createElement(Y,ze({},Ie,{channelId:rt}))}):t.createElement(S.A,ze({},Ie))},"ConnectedExternalLink");Me.displayName="ConnectedExternalLink";const Qe=t.forwardRef((Be,we)=>t.createElement(Me,ze({},Be,{refToForward:we})))},104089241:(N,y,e)=>{"use strict";e.d(y,{U:()=>n});const t=["slack://open","slack://room"],n=E(o=>o.startsWith("slack://")&&t.filter(s=>o.startsWith(s)).length===0,"shouldDeepLink")},9163962844:(N,y,e)=>{"use strict";e.d(y,{A:()=>n,r:()=>t.rY});var t=e(2762351398);const n=t.Ay},2762351398:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>m,HY:()=>a,rY:()=>r});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(2312625946);function c(){return c=Object.assign||function(_){for(var h=1;h<arguments.length;h++){var d=arguments[h];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(_[f]=d[f])}return _},c.apply(this,arguments)}E(c,"_extends");var r;(function(_){_.transparent="transparent",_.black="black",_.red="red",_.white="white",_.blue="blue",_.minGray="min_gray",_.themed="themed"})(r||(r={}));var a;(function(_){_.pill="pill",_.circle="circle"})(a||(a={}));const i=E((_,h)=>_>h?`${h}+`:String(_),"getCountText"),l=E(_=>{let{className:h,count:d,maxCount:f=9,style:v=r.black,toolTipText:u="",shape:g=a.pill}=_;if(!d||d<0)return null;const p=u?s.Ay:t.Fragment,A=u?{tip:u}:{};return t.createElement(p,c({},A),t.createElement("span",{"aria-hidden":"true",className:o()(h,"c-mention_badge",{"c-mention_badge--max":d>f,"c-mention_badge--pill":g===a.pill,"c-mention_badge--circle":g===a.circle,"c-mention_badge--transparent":v===r.transparent,"c-mention_badge--black":v===r.black,"c-mention_badge--red":v===r.red,"c-mention_badge--white":v===r.white,"c-mention_badge--blue":v===r.blue,"c-mention_badge--min_gray":v===r.minGray,"c-mention_badge--themed":v===r.themed},u&&"c-mention_badge--default"),"data-qa":"mention_badge"},i(d,f)))},"MentionBadge");l.displayName="MentionBadge";const m=t.memo(l)},3514831633:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>a,Dr:()=>o.A,YJ:()=>t.YJ,a:()=>n.A,bX:()=>c.Ay,c$:()=>s.Ay,cQ:()=>r.A});var t=e(3659245342),n=e(1357113878),o=e(8245211418),s=e(7417231112),c=e(8184841524),r=e(7433650413);const a=t.Ay},1357113878:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(1658558415),o=e(6308822),s=e(3659245342),c=e(8245211418),r=e(7417231112),a=e(8184841524),i=e(8773153312),l=e(1959847761);function m(){return m=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var v=arguments[f];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(d[u]=v[u])}return d},m.apply(this,arguments)}E(m,"_extends");const h=(0,t.memo)(E(function d(f){let{template:v,...u}=f;const g=(0,t.useMemo)(()=>v.map((p,A)=>{if(!p)return null;if(p.type===i.A.separator)return t.createElement(a.Ay,m({},p,{key:p.key||`separator-${A}`}));if(p.type===i.A.header)return t.createElement(r.Ay,{key:p.key||`header-${A}`,label:p.label,className:p.className});if(p.type===i.A.loading)return t.createElement(o.A,{key:p.key||"loading",size:"large"});if(p.type===i.A.custom)return p.ariaHidden===!1&&!(0,n.A)()?p.children:t.createElement("div",{"aria-hidden":p.ariaHidden===!1?"false":"true",key:p.key,"data-qa":p.dataQa},p.children);const C={children:p.children,className:p.className,classNameListItem:p.classNameListItem,label:p.label,description:p.description,icon:p.icon,badgeCount:p.badgeCount,badgeLabel:p.badgeLabel,badgeClassName:p.badgeClassName,shortcut:p.shortcut,showEnter:p.showEnter,onSelected:p.click,target:p.target,href:p.href,download:p.download,danger:p.danger,type:p.type,"data-qa":p.dataQa,disabled:p.disabled,showOfflineIcon:p.showOfflineIcon,showLinkIndicatorIcon:p.showLinkIndicatorIcon,checked:p.checked,indeterminate:p.indeterminate,autoClogProps:p.autoClogProps,onMount:p.onMount,onUnmount:p.onUnmount,ariaDescribedBy:p.ariaDescribedBy,ariaRole:p.ariaRole,ariaLabel:p.ariaLabel},T=p.key||(typeof p.label=="string"?p.label:`generated-key-${A}`);if(p.type===i.A.submenu){var I;const M=(I=p.renderSubmenu)!==null&&I!==void 0?I:D=>t.createElement(d,m({template:p.template||p.submenu},D,{width:p.submenuWidth}));return t.createElement(l.A,m({},C,{label:p.label,renderSubmenu:M,key:T}))}return t.createElement(c.A,m({key:T},C))}),[v]);return t.createElement(s.Ay,m({},u),g)},"MenuFromTemplate1"))},7417231112:(N,y,e)=>{"use strict";e.d(y,{$b:()=>m,Ay:()=>i,a6:()=>l});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323);function c(){return c=Object.assign||function(_){for(var h=1;h<arguments.length;h++){var d=arguments[h];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(_[f]=d[f])}return _},c.apply(this,arguments)}E(c,"_extends");const r="_isSlackMenuItemHeader";function a(_){let{for:h,label:d,className:f,onMouseEnter:v=s.A}=_;return t.createElement("div",c({},h&&{id:m(h)},{"aria-hidden":"true",className:o()("c-menu_item__header",f),onMouseEnter:v,"data-qa":"menu-item-header"}),d)}E(a,"MenuItemHeader"),a.displayName="MenuItemHeader",a[r]=!0;const i=a;function l(_){return!!(_!=null&&_[r])}E(l,"isMenuItemHeader");function m(_){return`${_}-label`}E(m,"getMenuItemHeaderIdForGroup")},8245211418:(N,y,e)=>{"use strict";e.d(y,{A:()=>C});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3078252698),c=e(7715417323),r=e(6084388622),a=e(3385766968),i=e(1610251172),l=e(2762351398),m=e(8773153312),_=e(1963690015),h=e(8683010724),d=e(8668318456),f=e(4094753332),v=e(6471059816);const u=new v.Ay("menu");function g(T){return!!T&&!(0,s.A)(T)&&"label"in T}E(g,"isMenuItemShortcutObjectType");let p=E(class extends t.Component{componentDidMount(){this.props.onMount&&this.props.onMount()}componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount()}onSelected(I){var M,D,O,S,R,U;(D=(M=this.props).menuCallbackBefore)===null||D===void 0||D.call(M,I),(S=(O=this.props).onSelected)===null||S===void 0||S.call(O,I),(U=(R=this.props).menuCallback)===null||U===void 0||U.call(R,this.props.menuCallbackId||0,I)}determineMenuRole(){const{type:I,ariaRole:M}=this.props;if(M)return M;switch(I){case m.A.radio:return"menuitemradio";case m.A.checkbox:return"menuitemcheckbox";default:return"menuitem"}}renderBadgeMaybe(){const{badgeLabel:I,badgeCount:M,badgeClassName:D,badgeVariant:O,highlighted:S}=this.props;return M?t.createElement(l.Ay,{count:M,style:S?l.rY.white:l.rY.red}):I?t.createElement(a.A,{className:D,variant:O},I):null}renderAdditionalIconMaybe(){const{additionalIcon:I}=this.props;return I?t.createElement("div",{className:"c-menu_item__additional-icon","data-qa":"menu_item_additional_icon",role:"presentation"},I):null}renderCaret(){return!this.props.withSubmenu||this.props.disabled?null:t.createElement("div",{className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"},t.createElement(h.A,{name:this.props.showFullCarat?"caret-right-full":"caret-right"}))}renderEnterMaybe(){const{showEnter:I,highlighted:M}=this.props;return!I||!M?null:t.createElement(i.A,{legacy:!0,type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"})}renderCheckmarkMaybe(){const{type:I,checked:M,indeterminate:D}=this.props,O=I===m.A.radio||I===m.A.checkbox;return O&&D?t.createElement(i.A,{className:"c-menu_item__checkbox_dash","data-qa":"menu_item_checkbox_dash",type:"form-checkbox-dash",size:"inherit",inline:!0}):O&&M?t.createElement("div",{className:"c-menu_item__checkmark"},t.createElement(h.A,{name:"check",size:"16",inline:!0,"data-qa":"menu_item_checkmark"})):null}renderIconMaybe(){const{icon:I}=this.props;return I?t.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},I):null}renderLinkIconMaybe(){const{href:I,showLinkIndicatorIcon:M}=this.props;return M===!1||M!==!0&&!I?null:t.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},t.createElement(h.A,{name:"new-window","data-qa":"menu_item_link_indicator"}))}renderShortcutMaybe(){const{shortcut:I}=this.props;if(!I)return null;if(g(I)){const{label:M}=I;return t.createElement("div",{className:"c-menu_item__shortcut"},M)}return t.createElement("div",{className:"c-menu_item__shortcut"},I)}render(){const{autoClogProps:I,children:M,className:D,classNameListItem:O,danger:S,link:R,description:U,disabled:P,showOfflineIcon:L,highlighted:F,label:x,onMouseEnter:b,onMouseLeave:k,href:B,target:W,download:K,type:H,withSubmenu:z,checked:Q,indeterminate:q,measureRef:$,ariaDescribedBy:le,ariaLabelledBy:te,ariaLabel:ce,disableHoverStyling:me}=this.props,_e=o()(D,"c-menu_item__button",{"c-menu_item__button--highlighted":F&&!P&&!me,"c-menu_item__button--danger":S,"c-menu_item__button--link":R,"c-menu_item__button--disabled":P,"c-menu_item__button--with_submenu":z,"c-menu_item--button--subheader_child":H===m.A.subheaderChild,"c-menu_item__button--checked":(H===m.A.radio||H===m.A.checkbox)&&(Q||q),"c-menu_item--compact":H===m.A.compactItem}),Ae=o()(O,"c-menu_item__li",{"c-menu_item__li--highlighted":F&&!me}),ye=o()(O,"c-menu_item__label",{"c-menu_item__label--with_description":U}),oe=z?"true":void 0,ee=U?t.createElement("div",{className:"c-menu_item__description"},U):"",V=this.props.activeMenuId,w=this.props.featureSubmenuRoleDescription?u.t("submenu"):void 0,Y=(0,f.cX)()&&z?w:void 0;return t.createElement("div",{ref:$,className:Ae,onMouseEnter:b,onMouseLeave:k,"data-qa":`${this.props["data-qa"]}-wrapper`},t.createElement(r.Nm,{autoClogProps:{...I,elementType:d.ElementType.MENU_ITEM},ref:this.buttonRef,id:V,className:_e,disabled:P,onClick:this.onSelected,href:B,target:W,download:K,"data-qa":this.props["data-qa"],role:this.determineMenuRole(),checked:Q,"aria-checked":q?"mixed":Q,"aria-haspopup":oe,tabIndex:-1,"aria-roledescription":Y,"aria-describedby":le,"aria-labelledby":te,"aria-label":ce},this.renderCheckmarkMaybe(),this.renderIconMaybe(),t.createElement("div",{className:ye},x,typeof M=="function"?M({highlighted:F}):M,ee),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderAdditionalIconMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),L&&t.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},t.createElement(i.A,{type:"cloud-offline-small"}))))}constructor(I){super(I),this.onSelected=this.onSelected.bind(this),this.buttonRef=t.createRef()}},"MenuItem");p.defaultProps={children:void 0,highlighted:!1,onMouseEnter:c.A,onMouseLeave:c.A,onSelected:c.A,menuCallback:c.A,menuCallbackBefore:c.A,menuCallbackId:0,className:"",classNameListItem:"",label:"",description:"",danger:!1,link:!1,disabled:!1,showOfflineIcon:!1,href:void 0,showLinkIndicatorIcon:void 0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,badgeClassName:void 0,badgeVariant:void 0,showEnter:!1,target:void 0,download:void 0,type:m.A.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,autoClogProps:void 0,checked:void 0,indeterminate:void 0,featureSubmenuRoleDescription:!1,group:void 0,ariaDescribedBy:void 0,ariaLabel:void 0,onMount:c.A,onUnmount:c.A,showFullCarat:!1,disableHoverStyling:!1},p.displayName="MenuItem";const A={MenuItem:p},C=(0,_.Ay)(p)},8184841524:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>r,Ex:()=>s,HP:()=>a});var t=e(3134334389),n=e(4844578989),o=e.n(n);const s="_isSlackMenuSeparator";function c(i){let{className:l,noPadding:m,noPaddingAbove:_,noPaddingBelow:h,noFirstChild:d,noLastChild:f,dataQa:v="menu_separator__separator"}=i;const u=o()("c-menu_separator__li",{padding_0:m,padding_top_0:_,padding_bottom_0:h,"c-menu_separator__li--no_first_child":d,"c-menu_separator__li--no_last_child":f},l);return t.createElement("div",{className:u},t.createElement("hr",{className:"c-menu_separator__separator","data-qa":v}))}E(c,"MenuSeparator"),c.displayName="MenuSeparator",c[s]=!0;const r=c;function a(i){return!!(i!=null&&i[s])}E(a,"isMenuSeparator")},7433650413:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(5249175977),o=e(9392104102);function s(){return s=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(a[m]=l[m])}return a},s.apply(this,arguments)}E(s,"_extends");const c=E(a=>{const{renderMenu:i,onPopoverOpen:l,onPopoverClose:m,isDisabled:_=!1,closeOnSelect:h=!0,noPopupVersion:d=!1,onTriggerClose:f,onMenuItemSelected:v,onMenuKeyDown:u,...g}=a,p=E(()=>{l&&l()},"onOpenProp"),A=E(T=>{const{onClose:I,...M}=T,D=E((P,L)=>{I&&I(P),m&&m(P)},"onCloseProp"),O=E(P=>{I&&I(P),f&&f(P)},"onTriggerClose"),S=E((P,L)=>{h&&(I&&I(L),m&&m(L)),v&&v(P,L)},"onMenuItemSelected"),R=typeof a.children=="function"?a.children(o.t0):a.children,U=i({...T,children:R,onTriggerClose:O,onMenuItemSelected:S,onMenuKeyDown:u});return U?t.createElement(n.AM,s({useRestoreFocus:!0,shouldFade:!1,ariaHideApp:!1,onClose:D,onOpen:p},M),U):!1},"renderPopover");if(A.displayName="renderPopover",_)return typeof a.children=="function"?a.children(o.t0):a.children;const C=a.isContextMenu?o.t0:{...g.triggerProps,"aria-haspopup":d?void 0:"menu"};return t.createElement(n.Wv,s({},g,{triggerProps:C,renderPopover:A}),a.children)},"MenuTrigger");c.displayName="MenuTrigger";const r=c},8773153312:(N,y,e)=>{"use strict";e.d(y,{A:()=>n,y:()=>t});const t={default:"default",compactItem:"compact_item",separator:"separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child",radio:"radio",checkbox:"checkbox"},n=t},3659245342:(N,y,e)=>{"use strict";e.d(y,{Vf:()=>F,Ay:()=>x,YJ:()=>P});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(3078252698),c=e(9746734072),r=e(8424846741),a=e(7715417323);function i(b){return t.isValidElement(b)&&"children"in b.props}E(i,"hasChildren");function l(b){return b!=null&&typeof b=="object"&&"type"in b&&b.type===t.Fragment}E(l,"isFragment");function m(b){return b instanceof Array?b.map(m):l(b)&&i(b)?m(b.props.children):b}E(m,"defragment");function _(b){return t.Children.toArray(m(b))}E(_,"flattenChildren");var h=e(7173172014),d=e(4348392507);const f=E(b=>{let{"aria-labelledby":k,"aria-owns":B}=b;return B?t.createElement("div",{className:"offscreen",role:"group","aria-owns":B,"aria-labelledby":k}):null},"MenuItemGroup");f.displayName="MenuItemGroup";const v=f;var u=e(7417231112),g=e(8184841524),p=e(1963690015),A=e(1959847761),C=e(5803478215),T=e(8668318456),I=e(337319621);function M(){return M=Object.assign||function(b){for(var k=1;k<arguments.length;k++){var B=arguments[k];for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&(b[W]=B[W])}return b},M.apply(this,arguments)}E(M,"_extends");function D(b){const k=b&&b.type;return!!k&&(0,p.l0)(k)}E(D,"isMenuItem");function O(b){const k=b&&b.type;return!!k&&(0,A.e)(k)}E(O,"isSubmenu");function S(b){const k=b&&b.type;return k&&(0,g.HP)(k)}E(S,"isSeparator");function R(b){const k=b&&b.type;return k&&(0,u.a6)(k)}E(R,"isMenuItemHeader");let U=0;function P(){return U>0}E(P,"isMenuVisible");const L={ArrowUp:"selectprevious",Up:"selectprevious",ArrowDown:"selectnext",Down:"selectnext",ArrowLeft:"closesubmenu",Left:"closesubmenu",ArrowRight:"opensubmenu",Right:"opensubmenu",Escape:"closemenu",Enter:"select"," ":"select",Home:"selectfirst",End:"selectlast"};let F=E(class extends t.Component{componentDidMount(){this.focus(),U+=1}componentDidUpdate(k){this.props.kbNavActive&&!k.kbNavActive&&this.activateKBNav()}componentWillUnmount(){U-=1,this.props.onUnmount&&this.props.onUnmount()}menuItemHtmlId(k){return`${this.activeMenuId}-${k}`}onMenuNavigation(k){const B=this.getIndexOfNextMenuItemInDirection(k);this.setState(()=>({highlightedMenuItemIndex:B,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}))}onMouseEnterMenuItem(k){const B=this.state.highlightCanChangeOnMouseMovement?k:this.state.highlightedMenuItemIndex;if(this.setState(()=>({highlightedMenuItemIndex:B,contingentHighlightedMenuItemIndex:k,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!1})),!!this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode){var W;(W=this.ariaMenuNode)===null||W===void 0||W.focus()}}getAllMenuItemIndices(){const k=[];return _(this.props.children).filter(t.isValidElement).forEach((B,W)=>{var K;!((K=this.ariaMenuNode)===null||K===void 0)&&K.querySelector(`#${this.menuItemHtmlId(W)}`)&&(D(B)||O(B))&&k.push(W)}),k}getIndexOfNextMenuItemInDirection(k){const B=this.getAllMenuItemIndices(),W=B.indexOf(this.state.highlightedMenuItemIndex),K=B.length-1;if(k==="selectnext"){const z=W<K?W+1:0;return B[z]}const H=W-1>=0?W-1:K;return B[H]}getSelectedMenuItem(){const{highlightedMenuItemIndex:k}=this.state;if(!(k<0)&&this.menuChildren)return this.menuChildren[k]}focus(){const{kbNavActive:k,isSubmenu:B}=this.props;if(!k)return;if(!B){this.ariaMenuNode&&this.ariaMenuNode.focus();return}const W=this.getAllMenuItemIndices();if(!W.length){var K;(K=this.ariaMenuNode)===null||K===void 0||K.focus();return}this.setState(()=>({highlightedMenuItemIndex:W[0]}),()=>{var H;(H=this.ariaMenuNode)===null||H===void 0||H.focus()})}registerKeyboardShortcutForMenuItem(k,B){if(!k||!B)return;const{label:W,key:K}=k;(0,s.A)(W)&&((0,s.A)(K)||(0,c.A)(K))&&(0,r.A)(K).forEach(H=>{this.keyboardShortcutsMap[H]=B})}renderMenuItem(k,B){const W=this.onMouseEnterMenuItem.bind(this,B),{highlightedMenuItemIndex:K,highlightedMenuItemKbNavActive:H,isKeyboardHighlight:z}=this.state,{onMenuItemSelectedBefore:Q,stripTerminalSeparators:q}=this.props;R(k)&&k.props.for&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[k.props.for]={key:k.props.for,"aria-labelledby":(0,u.$b)(k.props.for),"aria-owns":[],index:B});const $={...k.props,onMouseEnter:W,key:B},le=this.menuItemHtmlId(B),{shortcut:te}=k.props;if(te&&this.registerKeyboardShortcutForMenuItem(te,le),D(k)||O(k)){const Ae=K===B;if($.activeMenuId=le,Ae&&z){var ce,me,_e;(me=(ce=this.ariaMenuNode)===null||ce===void 0?void 0:ce.querySelector(`#${$.activeMenuId}`))===null||me===void 0||(_e=me.scrollIntoView)===null||_e===void 0||_e.call(me)}$.menuCallbackBefore=Q,$.menuCallback=this.onMenuItemSelected,$.menuCallbackId||($.menuCallbackId=B),$.highlighted=K===B,$.isKeyboardHighlight=$.highlighted&&z,$.group&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[$.group]||(this.menuGroups[$.group]={key:$.group,"aria-owns":[],index:B}),this.menuGroups[$.group]["aria-owns"].push($.activeMenuId))}if(O(k)&&($.isOpen=$.highlighted&&!z||$.highlighted&&H,$.kbNavActive=$.highlighted&&H,$.returnKBNav=this.activateKBNav,$.preventHighlightChange=this.preventHighlightChange,$.allowHighlightChange=this.allowHighlightChange),S(k)&&q)if(!this.menuChildren)(0,I.Wo)().warn("Menu.renderMenuItem called without this.menuChildren");else{const Ae=this.menuChildren[B-1];if(S(Ae))return null;$.noFirstChild=!0,$.noLastChild=!0}return t.cloneElement(k,$)}renderMenuGroups(){return this.menuGroups?Object.values(this.menuGroups).filter(k=>k["aria-owns"].length>0).map(k=>({group:t.createElement(v,{key:k.key,"aria-labelledby":k["aria-labelledby"],"aria-owns":k["aria-owns"].join(" ")}),index:k.index})).sort((k,B)=>B.index-k.index):[]}renderMenuItems(){this.menuChildren=_(this.props.children).filter(t.isValidElement);const k=this.menuChildren.map(this.renderMenuItem,this);return this.renderMenuGroups().forEach(W=>{let{group:K,index:H}=W;k.splice(H,0,K)}),k}renderMenu(){const{noMargin:k,menuClassNames:B,"data-qa":W,isUnstyled:K,styleMode:H}=this.props,z=o()("c-menu__items",{"c-menu__items--no_margin":k}),Q=this.state.highlightedMenuItemIndex!==-1?this.menuItemHtmlId(this.state.highlightedMenuItemIndex):null,q=o()({"c-menu":!K,"c-menu--alternate":H==="alternate"},B);return t.createElement("div",{className:q,"data-qa":W,style:{width:this.props.width}},t.createElement("div",{className:"c-menu__items_scroller"},t.createElement("div",{"aria-activedescendant":Q??void 0,ref:this.setAriaMenuRef,className:z,onKeyDown:this.onMenuKeyDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu","aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],tabIndex:-1,"no-bootstrap":1},this.renderMenuItems())))}render(){const k=this.renderMenu(),{autoClogProps:B}=this.props;return B?t.createElement(h.A,M({elementType:T.ElementType.MENU},B),k):k}constructor(k){super(k),this.activeMenuId=`menu-${(0,C.A)()}`,this.menuChildren=[],this.keyboardShortcutsMap={},this.menuGroups={},this.onMenuItemSelected=(B,W)=>{this.props.onMenuItemSelected&&this.props.onMenuItemSelected(B,W)},this.onMenuKeyDown=B=>{var W;const{kbNavActive:K,onMenuKeyDown:H,onCloseSubmenu:z,onTriggerClose:Q,windowRef:q}=this.props;if(!K)return;const{key:$}=B,le=L[$],te=(W=this.keyboardShortcutsMap)===null||W===void 0?void 0:W[$],ce=this.getSelectedMenuItem(),me=ce?O(ce):!1,_e=this.getAllMenuItemIndices();(le||te)&&(B.stopPropagation(),B.preventDefault()),(le==="selectnext"||le==="selectprevious")&&this.onMenuNavigation(le),le==="closesubmenu"&&(z==null||z(B)),(le==="select"||le==="opensubmenu")&&me&&this.setState(()=>({highlightedMenuItemKbNavActive:!0})),le==="closemenu"&&(Q==null||Q(B)),le==="selectfirst"&&this.setState(()=>({highlightedMenuItemIndex:_e[0],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0})),le==="selectlast"&&this.setState(()=>({highlightedMenuItemIndex:_e[_e.length-1],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}));const Ae=this.menuItemHtmlId(this.state.highlightedMenuItemIndex);if(le==="select"&&Ae&&!me){var ye,oe;(oe=(ye=q.deref())===null||ye===void 0?void 0:ye.document.getElementById(Ae))===null||oe===void 0||oe.click(),Q==null||Q(B)}if(te){var ee,V;(V=(ee=q.deref())===null||ee===void 0?void 0:ee.document.getElementById(te))===null||V===void 0||V.click(),Q==null||Q(B)}H==null||H(B,{isCurrentItemSubmenu:me,closeMenu:Q,selectedMenuItem:ce})},this.onMouseLeaveMenu=()=>{const B=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(()=>({highlightedMenuItemIndex:B,contingentHighlightedMenuItemIndex:-1}))},this.setAriaMenuRef=B=>{this.ariaMenuNode=B},this.activateKBNav=()=>{var B;(B=this.ariaMenuNode)===null||B===void 0||B.focus(),this.setState(W=>({highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:W.highlightedMenuItemIndex===-1?this.getIndexOfNextMenuItemInDirection("selectnext"):W.highlightedMenuItemIndex}))},this.allowHighlightChange=()=>{this.setState(B=>({highlightedMenuItemIndex:B.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0})),this.props.allowHighlightChange&&this.props.allowHighlightChange()},this.preventHighlightChange=()=>{this.setState(()=>({highlightCanChangeOnMouseMovement:!!this.props.resetHighlightOnChange})),this.props.preventHighlightChange&&this.props.preventHighlightChange()},this.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0,isKeyboardHighlight:!1}}},"Menu");F.defaultProps={menuClassNames:void 0,onMenuItemSelected:a.A,onMenuItemSelectedBefore:a.A,onTriggerClose:a.A,onCloseSubmenu:a.A,width:void 0,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,preventHighlightChange:a.A,allowHighlightChange:a.A,resetHighlightOnChange:!1,"data-qa":"menu","aria-label":void 0,onMenuKeyDown:a.A,onUnmount:a.A,isSubmenu:!1,isUnstyled:!1,autoClogProps:void 0,styleMode:"default"},F.displayName="Menu";const x=(0,d.A)(F)},1963690015:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>o,KJ:()=>t,l0:()=>n});const t="_isSlackMenuItem";function n(s){return!!s&&s[t]===!0}E(n,"isMenuItem");function o(s){return s[t]=!0,s}E(o,"wrapMenuItem")},4376397139:(N,y,e)=>{"use strict";e.d(y,{j:()=>r,A:()=>i});var t=e(3134334389),n=e(6105929840),o=e(6471059816);const s=new o.Ay("generic_dialog");function c(l){let{onClick:m,..._}=l;return t.createElement(n.A,{className:"c-multi_pane_modal__back",icon:"chevron-large-left",onClick:m,"aria-label":s.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"member_actions"}),"data-qa":_["data-qa"]})}E(c,"ModalBackButton"),c.displayName="ModalBackButton";const r=t.memo(c);var a=e(1427522952);const i=a.A},1427522952:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7937864072),c=e(4979382452);function r(){return r=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var _=arguments[m];for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(l[h]=_[h])}return l},r.apply(this,arguments)}E(r,"_extends");function a(l){let{defaultPane:m,panes:_,...h}=l;const d=(0,s.A)(),[f,v]=(0,t.useState)({pane:m}),u=(0,t.useCallback)((C,T)=>v({pane:C,props:T}),[]);var g;const{render:p,modalProps:A}=(g=_[f.pane])!==null&&g!==void 0?g:{};return p?t.createElement(c.A,r({},h,A,{className:o()(h.className,A==null?void 0:A.className,"c-multi_pane_modal")}),t.createElement(t.Fragment,{key:f.pane},p({...f.props,switchPane:u}))):(d.error("MULTI_PANE_MODAL",`Unknown pane "${f.pane}"`),null)}E(a,"MultiPaneModal"),a.displayName="MultiPaneModal";const i=a},7744706116:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(6943667706),n=e(4094753332),o=e(9391594207),s=e(7067820909);let c=E(l=>{var m;if(!(0,n.y3)()||!(0,n.cX)())return{};const _=(0,s.mt)(l);return(_==null||(m=_.darwin)===null||m===void 0?void 0:m.showScrollBars)!=="Always"?{}:{alwaysVisible:!0}},"mapStateToProps");Object.defineProperty({mapStateToProps:c},"mapStateToProps",{get:()=>c,set:l=>{c=l}});const i=(0,o.N)(c,null,null,{forwardRef:!0})(t.A)},5846524816:(N,y,e)=>{"use strict";e.d(y,{A:()=>b});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(3398586081),r=e(4943209501),a=e(3391133100),i=e(2660476100),l=e(3155323475),m=e(45851552),_=e(5404505308),h=e(6696292586),d=e(4348392507),f=e(9359656550),v=e(5841673352),u=e(8683010724),g=e(4426213732),p=e(6471059816);function A(){return A=Object.assign||function(k){for(var B=1;B<arguments.length;B++){var W=arguments[B];for(var K in W)Object.prototype.hasOwnProperty.call(W,K)&&(k[K]=W[K])}return k},A.apply(this,arguments)}E(A,"_extends");const C=new p.Ay("select");let T=E(class extends t.Component{componentDidMount(){const{focusOnMount:B=!1}=this.props;B&&this.onClick()}onKeyDown(B){const{shiftKey:W,ctrlKey:K,metaKey:H,altKey:z,key:Q}=B;if(!(W||K||H)){if(Q==="Escape"&&!z){this.onEsc(B);return}if(Q===" "&&!z){this.onSpacebar(B);return}if(Q==="Enter"&&!z){this.onEnter(B);return}if(Q==="ArrowUp"&&z){this.onAltArrowUp(B);return}if(Q==="ArrowUp"&&!z){this.onArrowUp(B);return}if(Q==="ArrowDown"){this.onArrowDown(B);return}if(Q==="Home"&&!z){this.onHome(B);return}if(Q==="End"&&!z){this.onEnd(B);return}Q==="Tab"&&!z&&this.onTab()}}onEsc(B){const{selectState:W,setSelectState:K}=this.props,{isExpanded:H}=W;H&&(B.stopPropagation(),K(()=>({activeRowIndex:void 0,activeOption:void 0,initialActiveOption:void 0,isExpanded:!1})))}onArrowUp(B){const{selectState:W,setSelectState:K}=this.props,{isExpanded:H,options:z}=W;if(H)return;B.preventDefault(),B.stopPropagation(),this.updateOptionsListPosition();const Q=(0,m.A)(z,$=>(0,f.oj)($),0),q=z[Q];K(()=>({initialActiveOption:q,isExpanded:!0}))}onAltArrowUp(B){const{selectState:W}=this.props,{isExpanded:K}=W;if(!K)return;const H=this.props.listRef.current;H&&(B.stopPropagation(),B.preventDefault(),H.onEnter(B))}onArrowDown(B){const{selectState:W,setSelectState:K}=this.props,{isExpanded:H}=W;H||(B.preventDefault(),B.stopPropagation(),this.updateOptionsListPosition(),K(()=>({isExpanded:!0})))}onHome(B){const{selectState:W,setSelectState:K}=this.props,{isExpanded:H,options:z}=W;if(H)return;B.preventDefault(),B.stopPropagation(),this.updateOptionsListPosition();const Q=(0,m.A)(z,$=>(0,f.oj)($),0),q=z[Q];K(()=>({initialActiveOption:q,isExpanded:!0}))}onEnd(B){const{selectState:W,setSelectState:K}=this.props,{isExpanded:H,options:z}=W;if(H)return;B.preventDefault(),B.stopPropagation(),this.updateOptionsListPosition();const Q=(0,_.A)(z,$=>(0,f.oj)($)),q=z[Q];K(()=>({initialActiveOption:q,isExpanded:!0}))}onEnter(B){const{selectState:W}=this.props,{isExpanded:K}=W;K||(B.stopPropagation(),this.onClick())}onSpacebar(B){const{selectState:W}=this.props,{isExpanded:K}=W;K||(B.preventDefault(),B.stopPropagation(),this.onClick())}onTab(){const{setSelectState:B}=this.props;B(()=>({isExpanded:!1}))}onClick(){const{onClick:B=s.A,setSelectState:W,selectState:K}=this.props;this.updateOptionsListPosition(),B&&B(),W(()=>({isExpanded:!K.isExpanded}))}updateOptionsListPosition(){const{selectState:B}=this.props,{isExpanded:W}=B;if(!W&&this.measurePopoverEvent){var K;(K=this.props.windowRef.deref())===null||K===void 0||K.dispatchEvent(this.measurePopoverEvent)}}renderContent(B){const{renderSelectedOption:W,selectState:K,textSelect:H=!1,textSelectLabel:z=void 0,selectDataQa:Q=void 0,placeholderText:q=void 0}=this.props,{selectedOption:$}=K,le=$?W($):t.createElement("span",{className:"c-select_button__placeholder"},q||C.t("Please select an option")),te=H&&z?t.createElement("span",{className:"c-select_button--text-select-label"},z):void 0;return t.createElement("div",{id:B,"data-qa":Q?`${Q}-button-content`:null,className:"c-select_button__content",role:"none"},te,le)}render(){const{ariaLabelledBy:B=void 0,ariaDescribedBy:W=void 0,ariaLabel:K=void 0,ariaControls:H=void 0,selectState:z,size:Q,width:q,textSelect:$=!1,selectDataQa:le=void 0,classPrefix:te=void 0,onFocus:ce=s.A,onBlur:me=s.A,onMouseEnter:_e=void 0,onMouseLeave:Ae=void 0,refToForward:ye}=this.props,{isDisabled:oe,isExpanded:ee,isInvalid:V,selectId:w,activeRowIndex:Y}=z,G=o()("c-select_button",`c-select_button--${Q}`,{"c-select_button--disabled":oe,"c-select_button--expanded":ee,"c-select_button--text-select":$,"c-select_button--invalid":V,[`${te}__select_button`]:te}),Z=$?{}:{width:q},se=(0,a.Es)(w,"button"),ae=`${se}-option`,re=(0,h.A)(Y)&&ee?(0,a.Es)(w,`option_${Y}`):void 0;return t.createElement("div",{tabIndex:0,className:G,style:Z,"data-qa":le?`${le}-button`:null,id:se,ref:ye,role:"combobox","aria-disabled":oe?!0:void 0,"aria-labelledby":B,"aria-describedby":W,"aria-label":K,"aria-invalid":V,"aria-activedescendant":re,"aria-expanded":ee,"aria-haspopup":"listbox","aria-controls":H,onFocus:ce,onBlur:me,onMouseEnter:_e,onMouseLeave:Ae,onClick:this.onClick,onKeyDown:this.onKeyDown},this.renderContent(ae),t.createElement("div",{className:`c-select_button__icon c-select_button__icon--${Q}`},t.createElement(u.A,{name:"caret-down",size:Q===v.hu.SMALL?"inherit":"20"})))}constructor(B){super(B),(0,g.v)(this,["updateOptionsListPosition","onKeyDown","onClick"]);const{measurePopoverEventName:W=null}=this.props;W&&(this.measurePopoverEvent=new Event(W))}},"SelectButton");T.displayName="SelectButton";const I=(0,d.A)(T),M=t.forwardRef((k,B)=>t.createElement(I,A({},k,{refToForward:B})));var D=e(4640201401),O=e(3650946343),S=e(8668318456);function R(){return R=Object.assign||function(k){for(var B=1;B<arguments.length;B++){var W=arguments[B];for(var K in W)Object.prototype.hasOwnProperty.call(W,K)&&(k[K]=W[K])}return k},R.apply(this,arguments)}E(R,"basic_select_extends");const U=10,P={onOptionSelected:{action:S.UiAction.SELECT}},L=E(k=>k.map(B=>{let{id:W}=B;return W}),"getIdsFromHintOrErrors");let F=E(class extends t.Component{onHome(B){const W=this.listRef.current;if(!W||(W.isMouseMoveEnabled=!1,!W.shouldInterceptKeyEvent(B)))return;const{isExpanded:K}=this.props.selectState;K&&B.preventDefault(),W.movePrevious(0)}onEnd(B){const W=this.listRef.current;if(!W||(W.isMouseMoveEnabled=!1,!W.shouldInterceptKeyEvent(B)))return;const{isExpanded:K}=this.props.selectState;K&&B.preventDefault();const H=W.getOptionsList();if(!H)return;const z=H.length-1;W.moveNext(z)}onPageUp(B){const W=this.listRef.current;if(!W||(W.isMouseMoveEnabled=!1,!W.shouldInterceptKeyEvent(B)))return;const{isExpanded:K,activeRowIndex:H}=this.props.selectState;K&&B.preventDefault();const z=H?Math.floor(H/U):0,Q=z>1?(z-1)*U:0;W.movePrevious(Q)}onPageDown(B){const W=this.listRef.current;if(!W||(W.isMouseMoveEnabled=!1,!W.shouldInterceptKeyEvent(B)))return;const{activeRowIndex:K,isExpanded:H}=this.props.selectState;H&&B.preventDefault();const z=W.getOptionsList();if(!z)return;const Q=z.length,q=Math.ceil(Q/U),$=K?Math.floor(K/U):0,le=$===q-1?Q-1:($+1)*U;W.moveNext(le)}renderOptionsList(){const{ariaLabel:B,onOptionSelected:W,onOptionsListClose:K,renderOption:H,resultsInPopover:z,overlayClassName:Q,listClassName:q,selectState:$,setSelectState:le,width:te,classPrefix:ce,minOptionsListWidth:me,optionsRowHeight:_e,maxListHeight:Ae,onScrollablePage:ye,dynamicHeight:oe,forceMaxHeight:ee,includePadding:V,includeDividers:w,preventScroll:Y,autoClogProps:G}=this.props,{isDisabled:Z}=$;if(Z)return null;const se=z?t.createElement(D.A,{selectOptionsListRef:this.listRef,className:q,selectState:$,setSelectState:le,renderOption:H,ariaLabel:B,onOptionSelected:W,onOptionsListClose:K,width:te,inputRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:ce,selectDataQa:this.fallbackDataQa,minOptionsListWidth:me,optionsRowHeight:_e,popoverProps:Q?{overlayClassName:Q}:void 0,shouldAlwaysHaveActiveRow:!0,maxListHeight:Ae,onScrollablePage:ye,dynamicHeight:oe,forceMaxHeight:ee,includePadding:V,includeDividers:w,preventScroll:Y,keyCommandShortcuts:this.keyCommandShortcuts,shouldTokenizeOnSpace:!0}):t.createElement(f.Ay,{ref:this.listRef,className:q,selectState:$,setSelectState:le,renderOption:H,ariaLabel:B,onOptionSelected:W,onOptionsListClose:K,width:te,inputRef:this.inputContainerRef,classPrefix:ce,selectDataQa:this.fallbackDataQa,optionsRowHeight:_e,maxListHeight:Ae,shouldAlwaysHaveActiveRow:!0,dynamicHeight:oe,forceMaxHeight:ee,includePadding:V,includeDividers:w,preventScroll:Y,keyCommandShortcuts:this.keyCommandShortcuts,shouldTokenizeOnSpace:!0});return G?t.createElement(r.A,{autoClogProps:G,actionProps:P,elementType:S.ElementType.DROPDOWN},se):se}render(){const{resultsInPopover:B,selectState:W,setSelectState:K,className:H,textSelect:z,textSelectLabel:Q,focusOnMount:q,onFocus:$,onBlur:le,ariaLabel:te,ariaLabelledBy:ce,ariaDescribedBy:me,buttonRef:_e,errors:Ae,hints:ye,size:oe,renderSelectedOption:ee}=this.props,{isExpanded:V,isInvalid:w,selectId:Y}=W,G=(0,O.A)(Ae),Z=(0,O.A)(ye);let se;Ae&&(se=G?L(Ae):void 0);let ae;ye&&(ae=Z?L(ye):void 0);const re=(0,a.Yk)([me,se,ae]);return t.createElement("div",{className:o()(H,"c-basic-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(M,R({},this.props,{size:oe,renderSelectedOption:ee,selectDataQa:this.fallbackDataQa,selectState:W,setSelectState:K,measurePopoverEventName:B?this.measurePopoverEventName:void 0,textSelect:z,textSelectLabel:Q,focusOnMount:q,onFocus:$,onBlur:le,ariaLabel:te,ariaLabelledBy:ce,ariaDescribedBy:re,"aria-invalid":w},V?{ariaControls:(0,a.Es)(Y,"listbox")}:{},{ref:_e,listRef:this.listRef})),G&&Ae&&t.createElement(l.A,{errors:Ae}),Z&&ye&&ye.map(de=>{let{id:ie,message:he}=de;return t.createElement(i.A,{key:ie,id:ie},he)}),this.renderOptionsList())}constructor(B){super(B),(0,g.v)(this,["renderOptionsList","onHome","onEnd","onPageUp","onPageDown"]),this.inputContainerRef=t.createRef(),this.listRef=t.createRef();const{selectId:W}=B.selectState;this.measurePopoverEventName=`measureSelectPopover--${W}`,this.fallbackDataQa=B.selectDataQa||W,this.keyCommandShortcuts=[{keys:["home"],handler:this.onHome},{keys:["end"],handler:this.onEnd},{keys:["pageup"],handler:this.onPageUp},{keys:["pagedown"],handler:this.onPageDown}]}},"ControlledBasicSelect");F.defaultProps={renderOption:k=>k.label,renderSelectedOption:k=>k.label,size:v.hu.MEDIUM,width:225,optionsRowHeight:v.bJ,errors:[],hints:[],ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,overlayClassName:void 0,listClassName:void 0,onClick:s.A,onOptionSelected:s.A,onOptionsListClose:s.A,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onFocus:s.A,onBlur:s.A,maxListHeight:void 0,autoClogProps:void 0,onScrollablePage:!1,buttonRef:void 0,dynamicHeight:!1,forceMaxHeight:!1,includePadding:!0,includeDividers:!0},F.displayName="ControlledBasicSelect";let x=E(class extends t.Component{static getDerivedStateFromProps(B,W){const{selectedOption:K}=B,{selectedOption:H}=W;return!H||K!==void 0&&K!==H?{selectedOption:K}:null}setSelectState(B,W){return this.setState(B,W)}render(){const{isDisabled:B,isInvalid:W,isRequired:K,errors:H}=this.props,z=W||(0,O.A)(H),Q=(0,c.A)(()=>({...this.state,isDisabled:B,isInvalid:z,isRequired:K}));return t.createElement(F,R({},this.props,{selectState:Q(),setSelectState:this.setSelectState}))}constructor(B){super(B),this.state={activeRowIndex:void 0,isDisabled:B.isDisabled,isExpanded:B.isExpanded,isInvalid:B.isInvalid,isRequired:B.isRequired,options:B.options,selectId:B.selectId,selectedOption:B.selectedOption,selectType:v.US.BASIC},(0,g.v)(this,["setSelectState"])}},"BasicSelect");x.defaultProps={isDisabled:!1,isExpanded:!1,isRequired:!0,isInvalid:!1,errors:[],hints:[],onOptionSelected:s.A,onOptionsListClose:s.A,selectedOption:void 0,selectId:`basic-select-${(0,a.r9)()}`,maxListHeight:void 0,autoClogProps:void 0},x.displayName="BasicSelect";const b=x},5536692738:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>c,HH:()=>o.A,P2:()=>s.A,Z1:()=>n.A});var t=e(5846524816),n=e(2727264612),o=e(8274994582),s=e(320706952);const c=t.A},7090824688:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>O,Gn:()=>S,xn:()=>R,yW:()=>M});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(3398586081),r=e(4943209501),a=e(3391133100),i=e(2660476100),l=e(3155323475),m=e(868047630),_=e(9359656550),h=e(4640201401),d=e(5185985254),f=e(2742076544),v=e(5841673352),u=e(3650946343),g=e(7772530643),p=e(4426213732),A=e(8668318456);function C(){return C=Object.assign||function(U){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(U[F]=L[F])}return U},C.apply(this,arguments)}E(C,"_extends");const T={onOptionSelected:{action:A.UiAction.SELECT}},I=E(U=>U.map(P=>{let{id:L}=P;return L}),"getIdsFromHintOrErrors");let M=E(class extends t.Component{renderOptionsList(P){var L;const{selectState:F,setSelectState:x,renderOption:b,emptyStateMessage:k,enableLoadingState:B,width:W,maxOptionsListHeight:K,minOptionsListWidth:H,inputRef:z,resultsInPopover:Q,includeWrapper:q,isLoading:$,classPrefix:le,optionsRowHeight:te,onOptionsListOpen:ce,onOptionsListClose:me,overlayClassName:_e,onScrollablePage:Ae,onOptionSelected:ye,shouldOptionBeSelected:oe,shouldTokenizeOnComma:ee,shouldTokenizeOnSpace:V,autoClogProps:w,dynamicHeight:Y,shouldAllowUnselectInMultiSelectMode:G,stayExpandedAfterSelection:Z,optionsListFooterBannerContent:se,offsetY:ae,offsetX:re}=this.props,{isDisabled:pe,loadInBackground:de}=F;if(pe)return null;const ie={key:`${F.selectId}-popover`};_e&&(ie.overlayClassName=_e),ae&&(ie.offsetY=ae);const he=(L=this.additionalInfoContainerRef)===null||L===void 0?void 0:L.current;P&&he&&(ie.offsetY=-he.offsetHeight),re&&(ie.offsetX=re);const ve=Q?t.createElement(h.A,{selectState:F,setSelectState:x,renderOption:b,emptyStateMessage:k,enableLoadingState:B,width:W,maxListHeight:K,multiSelectMode:!0,inputRef:z,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:$&&!de,classPrefix:le,selectDataQa:this.fallbackDataQa,optionsRowHeight:te,onOpen:ce,onOptionsListClose:me,popoverProps:ie,onScrollablePage:Ae,onOptionSelected:ye,shouldOptionBeSelected:oe,shouldTokenizeOnComma:ee,shouldTokenizeOnSpace:V,autoClogProps:w,dynamicHeight:Y,shouldAllowUnselectInMultiSelectMode:G,stayExpandedAfterSelection:Z,footerBannerContent:se,minOptionsListWidth:H,includeWrapper:q}):t.createElement(_.Ay,{selectState:F,setSelectState:x,renderOption:b,emptyStateMessage:k,enableLoadingState:B,width:W,maxListHeight:K,multiSelectMode:!0,classPrefix:le,selectDataQa:this.fallbackDataQa,optionsRowHeight:te,onOptionsListClose:me,onOptionSelected:ye,shouldOptionBeSelected:oe,shouldTokenizeOnComma:ee,shouldTokenizeOnSpace:V,dynamicHeight:Y,footerBannerContent:se,includeWrapper:q});return w?t.createElement(r.A,{elementType:A.ElementType.DROPDOWN,actionProps:T,autoClogProps:w},ve):ve}render(){const{selectState:P,setSelectState:L,inputRef:F,maxHeight:x,placeholderText:b,size:k,width:B,isLoading:W,focusOnMount:K,resultsInPopover:H,onSelectedItemsChange:z,onKeyDown:Q,onKeyUp:q,className:$,classPrefix:le,onFilterQueryChange:te,onFilterQueryPaste:ce,processOptions:me,onBlur:_e,onOptionsListClosedBlur:Ae,onOptionsListClose:ye,expandOnFocus:oe,ariaLabel:ee,ariaLabelledBy:V,ariaDescribedBy:w,onTokenSelect:Y,onInputFocused:G,forceRealName:Z,autoClogProps:se,errors:ae,hints:re,disableIdParsing:pe,customizeTokenProps:de,iconType:ie,isTokenEditable:he,ignoreSelectAllTokensAfterMount:ve,disableCloseOnTab:ge,throttleForceRenderSelectContainer:ke,forceRenderSelectContainerThrottleRate:Ne,allowFileToken:We}=this.props;let Oe;ae&&(Oe=(0,u.A)(ae));let be;re&&(be=(0,u.A)(re));let Ke;ae&&(Ke=Oe?I(ae):void 0);let Fe;re&&(Fe=be?I(re):void 0);const J=(0,a.Yk)([w,Ke,Fe]),ne=!!(Oe&&ae||be&&re);return t.createElement("div",{className:o()($,"c-multi-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(m.A,{selectState:P,setSelectState:L,size:k,width:B,maxHeight:x,placeholderText:b,isLoading:W,inputRef:F,focusOnMount:K,measurePopoverEventName:H&&this.measurePopoverEventName,onSelectedItemsChange:z,selectDataQa:this.fallbackDataQa,onKeyDown:Q,onKeyUp:q,classPrefix:le,onFilterQueryChange:te,onFilterQueryPaste:ce,processOptions:me,onBlur:_e,onOptionsListClosedBlur:Ae,onOptionsListClose:ye,expandOnFocus:oe,ariaLabel:ee,ariaLabelledBy:V,ariaDescribedBy:J,onTokenSelect:Y,onInputFocused:G,forceRealName:Z,autoClogProps:se,customizeTokenProps:de,iconType:ie,disableIdParsing:pe,isTokenEditable:he,ignoreSelectAllTokensAfterMount:ve,disableCloseOnTab:ge,throttleForceRenderSelectContainer:ke,forceRenderSelectContainerThrottleRate:Ne,allowFileToken:We}),t.createElement("div",{className:"flow_root",ref:this.additionalInfoContainerRef},Oe&&ae&&t.createElement(l.A,{errors:ae}),be&&re&&re.map(je=>{let{id:at,message:nt,className:Ge}=je;return t.createElement(i.A,{key:at,id:at,className:Ge},nt)})),this.renderOptionsList(ne))}constructor(P){super(P),(0,p.v)(this,["renderOptionsList"]),this.inputContainerRef=t.createRef(),this.additionalInfoContainerRef=t.createRef();const{selectId:L}=P.selectState;this.measurePopoverEventName=`measureSelectPopover--${L}`,this.fallbackDataQa=P.selectDataQa||L}},"ControlledMultiSelect");M.defaultProps={renderOption:U=>U.label,size:v.hu.MEDIUM,width:300,optionsRowHeight:v.bJ,maxHeight:void 0,maxOptionsListHeight:void 0,minOptionsListWidth:void 0,errors:[],hints:[],placeholderText:"",prefix:void 0,emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,enableLoadingState:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:s.A,onKeyDown:s.A,onKeyUp:s.A,className:void 0,classPrefix:void 0,onFilterQueryChange:s.A,onFilterQueryPaste:s.A,processOptions:s.A,onBlur:s.A,onOptionsListClosedBlur:s.A,ariaLabelledBy:void 0,ariaDescribedBy:void 0,expandOnFocus:!1,onTokenSelect:s.A,onInputFocused:s.A,forceRealName:void 0,onOptionsListOpen:s.A,onOptionsListClose:s.A,onScrollablePage:!1,onOptionSelected:s.A,shouldOptionBeSelected:s.A,shouldTokenizeOnComma:!1,shouldTokenizeOnSpace:!1,autoClogProps:void 0,dynamicHeight:!1,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,isTokenEditable:!1,ignoreSelectAllTokensAfterMount:!1,optionsListFooterBannerContent:void 0,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:void 0},M.displayName="ControlledMultiSelect";let D=E(class extends t.Component{setSelectState(P,L){this.setState(F=>{let x=P();const{filter:b,options:k}=this.props;return x.filterQuery!==void 0&&x.filterQuery!==F.filterQuery&&b&&(x=b(k,x)),x},L)}render(){const{isDisabled:P,isInvalid:L,isRequired:F,customControlledMultiSelectComponent:x,errors:b}=this.props,k=L||(0,u.A)(b),B=x??M,W=(0,c.A)(()=>({...this.state,isDisabled:P,isInvalid:k,isRequired:F}));return t.createElement(B,C({},this.props,{selectState:W(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(P){super(P),this.state={filterQuery:"",options:P.options,isDisabled:P.isDisabled,isExpanded:P.isExpanded,isInvalid:P.isInvalid,isRequired:P.isRequired,selectId:P.selectId,selectedOptions:P.selectedOptions||[],shouldRefocusInputAfterSelection:!!P.showConfirmDialog,selectedTokenIndexes:P.selectedTokenIndexes||[]},this.inputRef=t.createRef(),(0,p.v)(this,["setSelectState"])}},"MultiSelect");D.defaultProps={selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,className:void 0,errors:[],hints:[],filter:g.k,selectId:`multi-select-${(0,a.r9)()}`,customControlledMultiSelectComponent:null,showConfirmDialog:void 0,autoClogProps:void 0,selectedTokenIndexes:[]},D.displayName="MultiSelect";const O=D,S=(0,d.A)(M),R=(0,f.A)(M)},630868093:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>S,Fw:()=>D,JJ:()=>M,mH:()=>R});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(3398586081),r=e(4943209501),a=e(3391133100),i=e(2660476100),l=e(3155323475),m=e(581574686),_=e(9359656550),h=e(4640201401),d=e(5185985254),f=e(2742076544),v=e(5841673352),u=e(3650946343),g=e(7772530643),p=e(4426213732),A=e(8668318456);function C(){return C=Object.assign||function(U){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(U[F]=L[F])}return U},C.apply(this,arguments)}E(C,"_extends");const T={onOptionSelected:{action:A.UiAction.SELECT}},I=E(U=>U.map(P=>{let{id:L}=P;return L}),"getIdsFromHintOrErrors");let M=E(class extends t.Component{maybeRenderOptionsList(){const{selectState:P,setSelectState:L,renderOption:F,width:x,inputRef:b,ariaLabel:k,resultsInPopover:B,overlayClassName:W,offsetY:K,offsetX:H,onOptionSelected:z,className:Q,classPrefix:q,optionsRowHeight:$,onOpen:le,emptyStateMessage:te,minOptionsListWidth:ce,maxOptionsListHeight:me,isLoading:_e,onOptionsListClose:Ae,onScrollablePage:ye,enableLoadingState:oe,autoClogProps:ee,shouldAllowUnselectInSingleSelectMode:V,shouldOptionBeSelected:w,optionsListFooterBannerContent:Y,includeWrapper:G=!0}=this.props;if(B&&(!this.props.inputRef||!this.props.inputRef.current))return null;const Z={key:`${P.selectId}-popover`};W&&(Z.overlayClassName=W),K&&(Z.offsetY=K),H&&(Z.offsetX=H);const se=B?t.createElement(h.A,{selectState:P,setSelectState:L,renderOption:F,width:x,inputRef:b,ariaLabel:k,onOptionSelected:z,popoverProps:Z,measurePopoverEventName:this.measurePopoverEventName,className:Q,classPrefix:q,selectDataQa:this.fallbackDataQa,optionsRowHeight:$,onOpen:le,emptyStateMessage:te,minOptionsListWidth:ce,maxListHeight:me,isLoading:_e,onOptionsListClose:Ae,onScrollablePage:ye,enableLoadingState:oe,autoClogProps:ee,dropdownContainer:this.dropdownContainer,shouldAllowUnselectInSingleSelectMode:V,shouldOptionBeSelected:w,footerBannerContent:Y,includeWrapper:G}):t.createElement(_.Ay,{selectState:P,setSelectState:L,renderOption:F,width:x,inputRef:b,ariaLabel:k,onOptionSelected:z,classPrefix:q,selectDataQa:this.fallbackDataQa,emptyStateMessage:te,maxListHeight:me,optionsRowHeight:$,onOptionsListClose:Ae,enableLoadingState:oe,shouldAllowUnselectInSingleSelectMode:V,shouldOptionBeSelected:w,footerBannerContent:Y,includeWrapper:G});return t.createElement(r.A,{elementType:A.ElementType.DROPDOWN,actionProps:T,autoClogProps:ee},se)}render(){const{renderSelectedOption:P,className:L,classPrefix:F,placeholderText:x,size:b,width:k,selectState:B,setSelectState:W,inputRef:K,focusOnMount:H,showDropdownIcon:z,isLoading:Q,resultsInPopover:q,isDisabled:$,isRequired:le,onFocus:te,onEsc:ce,ariaLabelledBy:me,ariaDescribedBy:_e,inputIcon:Ae,maxCharacterLimit:ye,onOptionsListClose:oe,ariaLabel:ee,expandOnClick:V,searchOnClick:w,autoClogProps:Y,errors:G,hints:Z,expandOnFocus:se,hideSelectedOptionOnDropdownOpen:ae,retainPreviousSelectionOnDelete:re}=this.props,{isInvalid:pe}=B,de=(0,u.A)(G),ie=(0,u.A)(Z);let he;G&&(he=de?I(G):void 0);let ve;Z&&(ve=ie?I(Z):void 0);const ge=(0,a.Yk)([_e,he,ve]),ke=pe||de;return t.createElement("div",{className:o()(L,"c-search-select"),"data-qa":this.fallbackDataQa},t.createElement(m.Ay,{selectState:{...B,isInvalid:ke,isRequired:le,isDisabled:$},setSelectState:W,renderSelectedOption:P,placeholderText:x,size:b,width:k,selectDataQa:this.fallbackDataQa,inputRef:K,focusOnMount:H,showDropdownIcon:z,isLoading:Q,resultsInPopover:q,measurePopoverEventName:q?this.measurePopoverEventName:void 0,classPrefix:F,onBlur:this.onBlur,onFocus:te,onEsc:ce,"aria-label":ee,ariaLabelledBy:me,ariaDescribedBy:ge,icon:Ae,maxCharacterLimit:ye,onOptionsListClose:oe,expandOnClick:V,autoClogProps:Y,searchOnClick:w,expandOnFocus:se,hideSelectedOptionOnDropdownOpen:ae,retainPreviousSelectionOnDelete:re}),de&&G&&t.createElement(l.A,{errors:G}),ie&&Z&&Z.map(Ne=>{let{id:We,message:Oe,className:be}=Ne;return Oe&&t.createElement(i.A,{key:We,id:We,className:be},Oe)}),this.maybeRenderOptionsList())}constructor(P){super(P),this.onBlur=F=>{if(this.dropdownContainer){const x=this.dropdownContainer.current;if(x&&x.contains(F.relatedTarget)&&!this.props.isInvalidStateControlled){this.props.setSelectState(()=>({isInvalid:!1}));return}}this.props.onBlur&&this.props.onBlur(F)};const{selectId:L}=P.selectState;this.measurePopoverEventName=`measureSelectPopover--${L}`,this.fallbackDataQa=P.selectDataQa||L,this.dropdownContainer=t.createRef()}},"ControlledSearchSelect");M.defaultProps={autoClogProps:void 0,className:void 0,classPrefix:void 0,renderOption:U=>U.label,renderSelectedOption:U=>U.label,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,size:v.hu.MEDIUM,width:360,optionsRowHeight:v.bJ,errors:[],hints:[],ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:s.A,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:s.A,onFocus:s.A,onEsc:s.A,onOpen:s.A,onOptionsListClose:s.A,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0,inputIcon:void 0,maxCharacterLimit:void 0,onScrollablePage:!1,expandOnClick:!0,enableLoadingState:!0,searchOnClick:!1,shouldAllowUnselectInSingleSelectMode:!0,shouldOptionBeSelected:s.A,isInvalidStateControlled:!1,shouldRefocusInputAfterSelection:void 0,rerenderKey:void 0},M.displayName="ControlledSearchSelect";const D=(0,d.A)(M);let O=E(class extends t.Component{setSelectState(P,L){this.setState(F=>{let x=P();const{filter:b,options:k}=this.props;return x.filterQuery!==void 0&&x.filterQuery!==F.filterQuery&&b&&(x=b(k,x)),x},L)}render(){const{isRequired:P,isInvalid:L,isDisabled:F,showConfirmDialog:x}=this.props,b=x?D:M,k=(0,c.A)(()=>({...this.state,isInvalid:L,isRequired:P,isDisabled:F}));return t.createElement(b,C({},this.props,{selectState:k(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(P){super(P),this.state={filterQuery:"",displayQuery:"",options:P.options,selectId:P.selectId,isExpanded:P.isExpanded,isInvalid:P.isInvalid,isDisabled:P.isDisabled,selectedOption:P.selectedOption,shouldRefocusInputAfterSelection:P.shouldRefocusInputAfterSelection},this.inputRef=this.props.inputRef?this.props.inputRef:t.createRef(),(0,p.v)(this,["setSelectState"])}},"SearchSelect");O.defaultProps={autoClogProps:void 0,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,errors:[],hints:[],filter:g.k,onOptionSelected:s.A,selectId:`search-select-${(0,a.r9)()}`,selectedOption:void 0,showConfirmDialog:void 0,inputIcon:void 0,maxCharacterLimit:void 0,inputRef:void 0},O.displayName="SearchSelect";const S=O,R=(0,f.A)(M)},2727264612:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(441565466),o=e(3708320478),s=e(6044196829),c=e(8683010724),r=e(6471059816);const a=new r.Ay("form_inputs"),i=E(m=>{let{onCtaClick:_,errorCopy:h,ctaCopy:d}=m;const f=(0,n.A)();return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},t.createElement(c.A,{name:"warning",inline:!0})),t.createElement("span",null,t.createElement(o.z,{uuid:f,deferBy:100},h||a.t("Selected entries contain errors.")),t.createElement(s.A,{onClick:_,className:"margin_left_25"},d||a.t("Delete all errors"))))},"MultiSelectErrorText");i.displayName="MultiSelectErrorText";const l=i},868047630:(N,y,e)=>{"use strict";e.d(y,{A:()=>F});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(8571983633),c=e(6696292586),r=e(3398586081),a=e(5950652755),i=e(7715417323),l=e(1545824888),m=e(4943209501),_=e(4348392507),h=e(1396760875),d=e(6308822),f=e(5797272849),v=e(3391133100),u=e(1610251172),g=e(5841673352),p=e(561151542),A=e(4426213732),C=e(8668318456),T=e(4094753332),I=e(4757466470);function M(){return M=Object.assign||function(x){for(var b=1;b<arguments.length;b++){var k=arguments[b];for(var B in k)Object.prototype.hasOwnProperty.call(k,B)&&(x[B]=k[B])}return x},M.apply(this,arguments)}E(M,"_extends");const D={onChange:{action:C.UiAction.ENTER_TEXT}},O={onClick:{action:C.UiAction.CLICK}},S=new Array(95).fill("").map((x,b)=>String.fromCharCode(b+32)),R=E(x=>t.createElement("span",M({className:"c-multi_select_input__space"},x),"\xA0"),"makeSpace"),U=1e3,P={leading:!0,trailing:!1};let L=E(class extends t.PureComponent{componentDidMount(){this.inputHeight=this.getInputHeight(),this.props.focusOnMount&&this.focus(),this.attachMutationObserver()}componentDidUpdate(b){var k;const B=b.selectState,{selectState:W,onTokenSelect:K,onSelectedItemsChange:H,setSelectState:z,hasKeyboardFocus:Q,isTokenEditable:q}=this.props,{selectedOptions:$,isExpanded:le,isDisabled:te}=W,ce=this.getSelectedTokenIndexes();if(this.doesMutationObserverExist()||(this.attachMutationObserver(),this.focus()),this.props.focusOnMount&&b.focusOnMount!==this.props.focusOnMount&&this.focus(),((k=W.filterQuery)===null||k===void 0?void 0:k.length)&&W.filterQuery!==B.filterQuery&&this.caretPosInFilterQuery!==-1&&this.updateCaretPosInFilterQuery(),this.possiblyRepositionOptionsList(B),this.haveSelectedTokens()&&!(0,I.Ay)(B.selectedTokenIndexes,ce)&&$&&(ce==null||ce.forEach(oe=>{K&&K($[oe])}),le&&z(()=>({isExpanded:!1})),this.scrollSelectedTokenIntoView()),B.isDisabled&&!te&&this.moveCursorAndScrollToFilterQuery(),!(0,I.Ay)(B.selectedOptions,$,3)){if(H&&typeof $<"u"){if(q){var Ae;const{isCurrentlyEditingToken:oe}=this.state;if((((Ae=B.selectedOptions)===null||Ae===void 0?void 0:Ae.length)||0)<$.length){if(oe){const ee=$.pop();ee&&$.splice(this.state.editTokenIndex,0,ee),this.setTokenState(!1,0)}}else oe&&$.length===0&&this.setTokenState(!1,0)}H($)}this.scrollFilterQueryIntoView()}this.inputHeight=this.getInputHeight(),Q&&!b.hasKeyboardFocus&&(0,s.A)(W.activeRowIndex)&&!this.allTokensAreSelected()&&this.selectAllTokens()}componentWillUnmount(){this.doesMutationObserverExist()&&this.removeMutationObserver(),this.updateQueryTimer&&clearTimeout(this.updateQueryTimer),this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel()}onBlur(b){const{selectState:k,setSelectState:B,hideFilterQueryOnBlur:W,onBlur:K,onOptionsListClosedBlur:H}=this.props,{selectedOptions:z,filterQuery:Q,isExpanded:q}=k,$=W&&Q&&!q;this.setState(()=>({focused:!1})),this.deselectAllTokens(),$&&B(()=>({filterQuery:""})),this.caretPosInFilterQuery=-1,this.mouseDownOnToken=!1,K&&K(b,z),!q&&H&&H()}onChange(){this.state.composing||this.onFilterQueryChanged()}setTokenState(b,k){this.props.isTokenEditable&&this.setState(()=>({isCurrentlyEditingToken:b,editTokenIndex:k}))}onFilterQueryChanged(){const{setSelectState:b,selectState:k,onFilterQueryChange:B}=this.props,W=this.filterQueryRef.current,K=W==null?void 0:W.textContent,H=k.filterQuery!==K;if(this.backspaceWasPressed&&!H){this.backspaceWasPressed=!1;return}const z=K?K.length>0:!1;this.saveCaretPosInFilterQuery(),b(()=>({filterQuery:K,isExpanded:z})),B&&B(K)}onFocus(b){this.setState(()=>({focused:!0}));const{expandOnFocus:k,onInputFocused:B,setSelectState:W,onFocus:K}=this.props;k&&W(()=>({isExpanded:!0})),this.mouseDownOnToken||this.moveCursorAndScrollToFilterQuery(),B&&B(b),this.mouseDownOnToken=!1,K&&K(b)}onCaretSelectionChange(){this.isCaretOutSideFilterQuery()?this.updateCaretPosInFilterQuery():this.saveCaretPosInFilterQuery()}onRangeSelectionChange(){var b;const k=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection(),B=k==null?void 0:k.getRangeAt(0),W=this.getTokensAsArray(),{selectState:K}=this.props,{filterQuery:H}=K,z=W.reduce((me,_e,Ae)=>k!=null&&k.containsNode(_e)?[...me,Ae]:me,[]),Q=z.length>0;if(!H&&!Q&&!(k!=null&&k.isCollapsed)){this.ignoreSelectionChange=!0,k==null||k.collapseToEnd();return}if(this.isEntireFilterQuerySelected()&&!Q){var q;this.ignoreSelectionChange=!0,B==null||B.setStartBefore((q=this.filterQueryRef.current)===null||q===void 0?void 0:q.firstChild);return}const $=z[0],le=z[z.length-1],te=W[$],ce=W[le];if(!H&&Q){this.ignoreSelectionChange=!0,B==null||B.setStartBefore(te),this.ignoreSelectionChange=!0,B==null||B.setEndAfter(ce),this.setSelectedTokenIndexes(z);return}this.isEntireFilterQuerySelected()&&Q&&(this.ignoreSelectionChange=!0,B==null||B.setStartBefore(te),this.setSelectedTokenIndexes(z))}onSelectionChange(){var b;if(this.ignoreSelectionChange){this.ignoreSelectionChange=!1;return}const k=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();let B=null;if(k){const{type:W}=k;B=W}B==="Caret"&&this.onCaretSelectionChange(),B==="Range"&&this.onRangeSelectionChange()}onKeyDown(b){if(this.state.composing)return;const{key:k,ctrlKey:B,metaKey:W,altKey:K,shiftKey:H}=b,{selectState:z,onKeyDown:Q}=this.props,q=(0,T.cX)()?W:B,$=k==="Delete"&&((0,T.cX)()&&K||(0,T.uF)()&&q);(k==="Backspace"||$)&&this.onBackspace(b),!$&&k==="Delete"&&this.onDelete(b),k==="Escape"&&this.onEscape(b),(k==="Home"||W&&!H&&k==="ArrowLeft"||W&&!H&&k==="ArrowUp")&&this.onHome(b),(k==="End"||W&&!H&&k==="ArrowRight"||W&&!H&&k==="ArrowDown")&&this.onEnd(b),!W&&k==="ArrowLeft"&&!this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!0,this.onLeftArrow(b)),!W&&k==="ArrowRight"&&this.onRightArrow(b),k==="Tab"&&this.onTab(b),(k==="ArrowUp"||k==="ArrowDown")&&b.preventDefault(),k==="Enter"&&b.preventDefault(),!q&&S.includes(k)&&this.onCharacterKey(),Q&&Q(b,{hasActiveRowIndex:(0,c.A)(z.activeRowIndex),isExpanded:!!z.isExpanded})}onHome(b){b.preventDefault();const{selectState:k}=this.props,{selectedOptions:B}=k;B!=null&&B.length?this.setSelectedTokenIndexes([0],{initiator:b.type}):this.moveCursorToFilterQuery({cursorAtStart:!0})}onEnd(b){b.preventDefault();const{selectState:k}=this.props,{selectedTokenIndexes:B}=k;B!=null&&B.length&&this.deselectAllTokens(),this.moveCursorAndScrollToFilterQuery()}onKeyUp(b){const{selectState:k,onKeyUp:B}=this.props,W=this.getSelectedTokenIndexes(),K=this.getTokensAsArray();this.shouldMoveCursorToFilterQuery&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.shouldMoveCursorToFilterQuery=!1),this.updateSelectionOnKeyUp&&(W!=null&&W.length)&&(this.selectTextInNode(K[W[0]]),this.updateSelectionOnKeyUp=!1),this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!1),B&&B(b,{hasActiveRowIndex:(0,c.A)(k.activeRowIndex)})}onInputContainerMouseDown(b){b.preventDefault(),this.haveSelectedTokens()&&this.deselectAllTokens(),this.state.focused?this.moveCursorAndScrollToFilterQuery():this.focus()}onPaste(b){if(!b||!b.clipboardData)return;const{selectState:k}=this.props,{filterQuery:B}=k,{onFilterQueryPaste:W,setSelectState:K}=this.props;b.preventDefault();const H=b.clipboardData.getData("text"),z=this.caretPosInFilterQuery||0,Q=B||"",q=(B==null?void 0:B.length)||0,$=z<=q?z:q,le=Q.slice(0,$)+H+Q.slice($);K(()=>({filterQuery:le})),W&&W(b)}onCharacterKey(){if(!this.haveSelectedTokens())return;const{setSelectState:b}=this.props,{selectState:k}=this.props,{filterQuery:B,selectedOptions:W}=k,K=this.getSelectedTokenIndexes(),H=W==null?void 0:W.filter((q,$)=>(K==null?void 0:K.indexOf($))===-1),z=this.getSelectedFilterQueryText(),Q=B==null?void 0:B.replace(z,"");b(()=>({selectedOptions:H,selectedTokenIndexes:[],filterQuery:Q})),this.moveCursorToFilterQuery()}onBackspace(b){const{setSelectState:k}=this.props,{selectState:B,isTokenEditable:W}=this.props,{filterQuery:K}=B;if(this.ignoreSelectionChange=!0,this.allTokensAreSelected()&&(this.isEntireFilterQuerySelected()||!K)){b.preventDefault(),k(()=>({selectedOptions:[],selectedTokenIndexes:[],filterQuery:"",isExpanded:!1}));return}if(W&&(K==null?void 0:K.length)===1){b.preventDefault(),k(()=>({filterQuery:"",isExpanded:!1})),this.setTokenState(!1,0),this.moveCursorToFilterQuery();return}if(this.isEntireFilterQuerySelected()){b.preventDefault(),k(()=>({filterQuery:"",isExpanded:!1}));return}const z=this.getTokensAsArray().length,Q=this.getSelectedTokenIndexes(),q=this.isCaretAtStartOfFilterQuery();if(this.backspaceWasPressed=!0,q&&z===0){b.preventDefault();return}if(!q&&!this.haveSelectedTokens()&&K)return;if(b.preventDefault(),!this.haveSelectedTokens()){this.setSelectedTokenIndexes([z-1],{initiator:b.type});return}Q==null||Q.forEach(ce=>{this.removeToken(ce,"backspaceKey")});const $=Q&&Q[0],le=$===0;let te=null;$&&(te=le?[0]:[$-1]),te!=null&&te.length&&this.setSelectedTokenIndexes(te,{initiator:b.type})}onDelete(b){const{setSelectState:k}=this.props;if(this.ignoreSelectionChange=!0,this.isEntireFilterQuerySelected()){b.preventDefault(),k(()=>({filterQuery:"",isExpanded:!1}));return}const W=this.getTokensAsArray().length,K=this.getSelectedTokenIndexes();if(W===0||!this.haveSelectedTokens()||(b.preventDefault(),K==null||K.forEach(q=>{this.removeToken(q,"deleteKey")}),!(K!=null&&K.length)))return;const z=K[K.length-1]===W-1,Q=(K==null?void 0:K.length)===W;(z||Q)&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.deselectAllTokens())}onEscape(b){const{selectState:k,setSelectState:B,onOptionsListClose:W}=this.props;k.isExpanded&&(b.stopPropagation(),W&&W(),B(()=>({isExpanded:!1})))}onLeftArrow(b){var k;const W=this.getTokensAsArray().length,K=this.getSelectedTokenIndexes(),H=(K==null?void 0:K.length)&&K[0],z=(k=this.props.windowRef.deref())===null||k===void 0?void 0:k.getSelection();let Q=null,q=null;if(z){const{type:_e,anchorOffset:Ae}=z;Q=_e,q=Ae}const $=Q==="Caret",le=Q==="Range";if(b.shiftKey&&le&&this.isRangeSelectionOfFilterQueryComplete(q)){b.preventDefault();return}const te=$&&this.isCaretAtStartOfFilterQuery();if(W===0&&te){b.preventDefault();return}if(W===0)return;if(this.props.isTokenEditable&&this.state.isCurrentlyEditingToken&&te){b.preventDefault();return}if(this.allTokensAreSelected()){this.setSelectedTokenIndexes([0],{initiator:b.type});return}if(!this.haveSelectedTokens()&&te){this.setSelectedTokenIndexes([W-1],{initiator:b.type});return}if(le&&this.haveSelectedTokens()&&H===0){b.preventDefault();return}this.haveSelectedTokens()&&typeof H=="number"&&this.setSelectedTokenIndexes([H-1],{initiator:b.type})}onRightArrow(b){var k;const B=(k=this.props.windowRef.deref())===null||k===void 0?void 0:k.getSelection(),W=(B==null?void 0:B.type)==="Range",H=this.getTokensAsArray().length,z=this.getSelectedTokenIndexes(),Q=(z==null?void 0:z.length)&&z[0];if(typeof Q!="number")return;if(!(W&&this.haveSelectedTokens()&&Q<H-1)&&this.haveSelectedTokens()||this.allTokensAreSelected()){b.preventDefault(),this.shouldMoveCursorToFilterQuery=!0,this.deselectAllTokens();return}this.haveSelectedTokens()&&typeof Q=="number"&&this.setSelectedTokenIndexes([Q+1],{initiator:b.type})}onTab(b){const{shiftKey:k}=b,{expandOnFocus:B,selectState:W,onOptionsListClose:K,setSelectState:H,disableCloseOnTab:z}=this.props;z||(K&&K(),(k||B&&(0,s.A)(W.activeRowIndex))&&H(()=>({isExpanded:!1})))}onTokenMouseDown(b,k){const{focused:B,isCurrentlyEditingToken:W}=this.state,{selectState:K,isTokenEditable:H}=this.props;if(K.isDisabled)return;if(b.preventDefault(),this.mouseDownOnToken=!0,b.stopPropagation(),H&&!W){this.onTokenEdit(k);return}B||this.focus();const z=this.getTokensAsArray();this.selectTextInNode(z[k]);const Q=this.getSelectedTokenIndexes();k!==(Q==null?void 0:Q[0])&&this.setSelectedTokenIndexes([k])}onTokenEdit(b){const{selectState:k,setSelectState:B,processOptions:W}=this.props,{selectedOptions:K}=k;this.setTokenState(!0,b);let H="";K&&K[b]&&(typeof K[b].label=="string"&&K[b].label!==K[b].value?H=K[b].label:H=K[b].value),this.removeToken(b,"editToken"),this.updateFilterQueryValue(H),W&&W([],H).then(z=>{B(()=>({isExpanded:!0,options:z,filterQuery:H}))})}onTokenRemoveMouseDown(b,k){const{focused:B,isCurrentlyEditingToken:W,editTokenIndex:K}=this.state;b.preventDefault(),this.mouseDownOnToken=!0,b.stopPropagation(),B||this.focus(),this.moveCursorToFilterQuery(),this.props.isTokenEditable&&W&&k<K&&this.setTokenState(!0,K-1),this.removeToken(k,"iconClick")}onFilterQueryMouseDown(b){var k;this.state.focused&&(!((k=this.filterQueryRef.current)===null||k===void 0)&&k.textContent)&&b.stopPropagation(),this.haveSelectedTokens()&&this.deselectAllTokens()}updateFilterQueryValue(b){const{onFilterQueryChange:k}=this.props;this.updateQueryTimer=setTimeout(()=>{k&&k(b),this.moveCursorToFilterQuery(),clearTimeout(this.updateQueryTimer)})}onPlaceholderMouseDown(){this.focus()}onSelectAll(b){var k;const{setSelectState:B}=this.props;b.preventDefault(),B(()=>({selectedTokenIndexes:[],isExpanded:!1}));const W=(k=this.filterQueryRef)===null||k===void 0?void 0:k.current;W!=null&&W.textContent&&this.selectTextInNode(W)}onCompositionStart(){this.setState(()=>({composing:!0}))}onCompositionEnd(){this.setState(()=>({composing:!1})),this.onFilterQueryChanged()}onCut(){const{selectState:b}=this.props,{filterQuery:k,selectedOptions:B}=b,W=this.getSelectedTokenIndexes(),K=B==null?void 0:B.filter((Q,q)=>(W==null?void 0:W.indexOf(q))===-1),H=this.getSelectedFilterQueryText(),z=k==null?void 0:k.replace(H,"");this.selectStateAfterMutation={selectedTokenIndexes:[],selectedOptions:K,filterQuery:z,isExpanded:!1}}onNodeAdded(b){const{nodeName:k}=b;(k==="B"||k==="I")&&(this.removeMutationObserver(),this.runForceRenderSelectContainer())}onNodeRemoved(b){const{setSelectState:k}=this.props;if(this.selectStateAfterMutation){this.caretPosInFilterQuery=0,this.removeMutationObserver(),this.runForceRenderSelectContainer(!0),k(()=>this.selectStateAfterMutation),this.selectStateAfterMutation=null;return}b===this.filterQueryRef.current&&(this.removeMutationObserver(),this.runForceRenderSelectContainer(!0))}onMutation(b){b.forEach(k=>{k.addedNodes.forEach(this.onNodeAdded),k.removedNodes.forEach(this.onNodeRemoved)})}getOptionsListboxHtmlId(){var b;return(0,v.Es)((b=this.props.selectState.selectId)!==null&&b!==void 0?b:"","listbox")}getAriaPlaceholderText(){const{selectState:b,placeholderText:k}=this.props,{filterQuery:B,selectedOptions:W}=b;if(!B&&!(W&&W.length>0))return k}getAriaActiveDescendant(){const{selectState:b}=this.props,{selectId:k,activeRowIndex:B}=b;return(0,c.A)(B)?(0,v.Es)(k,`option_${B}`):void 0}getInputHeight(){const{inputRef:b}=this.props,k=b==null?void 0:b.current;return k?k.offsetHeight:null}getTokensAsArray(){var b,k;const B=(b=this.props.inputRef)===null||b===void 0||(k=b.current)===null||k===void 0?void 0:k.querySelectorAll(".c-token");return Array.prototype.slice.call(B)}getSelectedFilterQueryText(){var b;const{selectState:k}=this.props,{filterQuery:B}=k;if((B==null?void 0:B.length)===0)return"";const W=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection(),K=W==null?void 0:W.toString();if(!(W==null?void 0:W.containsNode(this.filterQueryRef.current,!0)))return"";const z=K==null?void 0:K.split(`
`);return z!=null&&z.length?z[z.length-1].trim():""}setSelectedTokenIndexes(b){let{initiator:k}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};k==="keydown"&&(this.updateSelectionOnKeyUp=!0,this.ignoreSelectionChange=!0);const{setSelectState:B}=this.props;B(()=>({selectedTokenIndexes:b}))}getSelectedTokenIndexes(){const{selectState:b}=this.props,{selectedTokenIndexes:k}=b;return k||[]}allTokensAreSelected(){const b=this.getSelectedTokenIndexes(),k=this.getTokensAsArray();return b!=null&&b.length?b.length>0&&b.length===k.length:!1}attachMutationObserver(){var b;if(this.mutationObserver=new MutationObserver(this.onMutation),!((b=this.props.inputRef)===null||b===void 0)&&b.current){var k;this.mutationObserver.observe((k=this.props.inputRef)===null||k===void 0?void 0:k.current,{subtree:!0,childList:!0})}}deselectAllTokens(){this.setSelectedTokenIndexes([])}determineCaretPosInFilterQuery(){const{selectState:b}=this.props,{filterQuery:k}=b;if(this.caretPosInFilterQuery===-1||!k)return 0;const B=k==null?void 0:k.length;return typeof this.caretPosInFilterQuery=="number"&&this.caretPosInFilterQuery>B?B:this.caretPosInFilterQuery}doesMutationObserverExist(){return!!this.mutationObserver}removeMutationObserver(){var b;(b=this.mutationObserver)===null||b===void 0||b.disconnect(),this.mutationObserver=null}focus(){var b;const k=(b=this.props.inputRef)===null||b===void 0?void 0:b.current;k==null||k.focus()}forceRenderSelectContainer(){this.setState(()=>({selectContainerKey:Date.now()}))}runForceRenderSelectContainer(b){const{isLoading:k,throttleForceRenderSelectContainer:B}=this.props;B?(b&&this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel(),k||this.forceRenderSelectContainerThrottled()):this.forceRenderSelectContainer()}haveSelectedTokens(){var b;return!!(!((b=this.getSelectedTokenIndexes())===null||b===void 0)&&b.length)}isCaretAtStartOfFilterQuery(){var b;if(this.isCaretOutSideFilterQuery())return!1;const{selectState:k}=this.props,{filterQuery:B}=k;if(!B)return!0;const W=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();let K=null;if(W){const{anchorOffset:H}=W;K=H}return K===0}isCaretOutSideFilterQuery(){var b,k;const B=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();let W=null;if(B){const{anchorNode:K}=B;W=K}return!(!((k=this.filterQueryRef.current)===null||k===void 0)&&k.contains(W))}isRangeSelectionOfFilterQueryComplete(b){const k=this.getSelectedFilterQueryText();if(!k)return!1;const{selectState:B}=this.props,W=B.filterQuery;return!W||!b?!1:k.substr(0,b)===(W==null?void 0:W.substr(0,b))}isEntireFilterQuerySelected(){const{selectState:b}=this.props,k=this.getSelectedFilterQueryText();return!!k&&k===b.filterQuery}moveCursorAndScrollToFilterQuery(){this.scrollFilterQueryIntoView(),this.moveCursorToFilterQuery()}moveCursorToFilterQuery(){let{cursorAtStart:b}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cursorAtStart:!1};var k,B,W,K;const H=document.createRange(),z=(k=this.props.windowRef.deref())===null||k===void 0?void 0:k.getSelection();z==null||z.removeAllRanges();const Q=(B=this.filterQueryRef)===null||B===void 0?void 0:B.current,q=(Q==null?void 0:Q.firstChild)||Q,$=b?0:(K=Q==null||(W=Q.textContent)===null||W===void 0?void 0:W.trim())===null||K===void 0?void 0:K.length;q!==null&&typeof $=="number"&&H.setStart(q,$),H.collapse(!0),z==null||z.addRange(H)}possiblyRepositionOptionsList(b){if(!this.measurePopoverEvent)return;const{selectState:k}=this.props,B=k.isExpanded&&!b.isExpanded,W=this.getInputHeight(),K=this.inputHeight!==W;if(B||K){var H;(H=this.props.windowRef.deref())===null||H===void 0||H.dispatchEvent(this.measurePopoverEvent)}}removeToken(b,k){const{selectState:B,setSelectState:W,isTokenEditable:K}=this.props,{selectedOptions:H,pendingQueries:z,filterQuery:Q}=B,q=z?z.length:0,$=H&&H[b]&&H[b].queryId,te=$&&q?z==null?void 0:z.filter(ce=>{let{queryId:me}=ce;return me!==$}):z;W(()=>({selectedOptions:H==null?void 0:H.filter((ce,me)=>me!==b),selectedTokenIndexes:[],removalInitiator:k,removedItemIndex:b,pendingQueries:te})),K&&this.state.isCurrentlyEditingToken&&this.updateFilterQueryValue(Q)}saveCaretPosInFilterQuery(){var b;const k=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();this.caretPosInFilterQuery=k==null?void 0:k.anchorOffset}scrollFilterQueryIntoView(){const b=this.filterQueryRef.current;b&&b!=null&&b.scrollIntoView&&(b==null||b.scrollIntoView({block:"nearest"}))}scrollSelectedTokenIntoView(){const b=this.getSelectedTokenIndexes();if(!this.haveSelectedTokens())return;const k=this.getTokensAsArray();if(!(b!=null&&b.length))return;const B=b[b.length-1],W=k[B];W&&W.scrollIntoView&&W.scrollIntoView({block:"nearest"})}selectAllTokens(){var b;if(this.state.ignoreSelectAllTokensAfterMount){this.setState(()=>({ignoreSelectAllTokensAfterMount:!1}));return}const k=this.getTokensAsArray();if(k.length===0)return;const B=k[0],W=k[k.length-1],K=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection(),H=document.createRange();K==null||K.removeAllRanges(),H.setStartBefore(B),H.setEndAfter(W),K==null||K.addRange(H)}selectTextInNode(b){var k;if(!b)return;const B=(k=this.props.windowRef.deref())===null||k===void 0?void 0:k.getSelection(),W=document.createRange();this.ignoreSelectionChange=!0,B==null||B.removeAllRanges();const K=(0,T.cX)()?b:b.querySelector(".c-token__content");W.selectNode(K),this.ignoreSelectionChange=!0,B==null||B.addRange(W)}updateCaretPosInFilterQuery(){var b,k;const B=(b=this.filterQueryRef)===null||b===void 0?void 0:b.current;if(!B)return;const W=document.createRange(),K=(k=this.props.windowRef.deref())===null||k===void 0?void 0:k.getSelection();K==null||K.removeAllRanges();const H=this.determineCaretPosInFilterQuery();typeof H=="number"&&W.setStart((B==null?void 0:B.firstChild)||B,H),W.collapse(!0),K==null||K.addRange(W)}renderFilterQuery(){const{selectState:b,isTokenEditable:k,size:B}=this.props,{filterQuery:W,isDisabled:K}=b,{isCurrentlyEditingToken:H,editTokenIndex:z}=this.state,Q=K?void 0:this.onFilterQueryMouseDown,q=o()({"c-multi_select_input__filter_query":!0,[`c-multi_select_input__${B}_filter_query--edit`]:k&&H});return t.createElement("span",{className:q,ref:this.filterQueryRef,onMouseDown:Q,key:z},W)}renderInput(){const{selectState:b,selectDataQa:k,inputRef:B,ariaLabelledBy:W,ariaLabel:K,autoClogProps:H,iconType:z,isTokenEditable:Q}=this.props,{selectId:q,isDisabled:$,isExpanded:le,isInvalid:te}=b,ce=$?void 0:0,me=$?void 0:this.getAriaActiveDescendant(),_e=!$,Ae=_e,ye=$?void 0:this.onFocus,oe=$?void 0:this.onBlur,ee=$?void 0:this.onChange,V=$?void 0:this.onPaste,w=$?void 0:this.onKeyDown,Y=$?void 0:this.onKeyUp,G=$?void 0:this.onSelectionChange,Z=$?void 0:this.onCut,se=$?void 0:this.onCompositionStart,ae=$?void 0:this.onCompositionEnd,re=o()({"c-multi_select_input__input":!0,"c-multi_select_input__input--with-icon":!!z}),pe=t.createElement("div",{role:"combobox","aria-disabled":$,"aria-autocomplete":"list","aria-expanded":le,"aria-controls":this.getOptionsListboxHtmlId(),"aria-activedescendant":me,"aria-labelledby":W,"aria-label":K,"aria-placeholder":this.getAriaPlaceholderText(),"aria-invalid":te,id:q,className:re,tabIndex:ce,contentEditable:_e,suppressContentEditableWarning:Ae,"data-qa":k?`${k}-input`:void 0,ref:B,onFocus:ye,onBlur:oe,onInput:ee,onCompositionStart:se,onCompositionEnd:ae,onPaste:V,onKeyDown:w,onKeyUp:Y,onSelect:G,onCut:Z,"aria-multiline":!1},R(),Q&&this.state.isCurrentlyEditingToken?this.renderEditableTokens():t.createElement(t.Fragment,null,this.renderTokens(),this.renderFilterQuery()),R({contentEditable:!1}));return H?t.createElement(m.A,{autoClogProps:H,actionProps:D,elementType:C.ElementType.INPUT},pe):pe}renderLoadingIndicator(){const{isLoading:b,size:k}=this.props;return b?t.createElement(d.A,{className:"c-multi_select_input__spinner",color:"blue",size:k===g.hu.LARGE?g.hu.LARGE:g.hu.MEDIUM}):null}renderPlaceholder(){const{selectState:b,placeholderText:k,iconType:B}=this.props,{filterQuery:W,selectedOptions:K,isDisabled:H}=b;if(this.state.composing||W||K&&K.length>0)return null;const z=H?void 0:this.onPlaceholderMouseDown,Q=o()({"c-multi_select_input__placeholder":!0,"c-multi_select_input__placeholder--with-icon":!!B});return t.createElement("div",{"aria-hidden":"true",className:Q,onMouseDown:z},k)}renderToken(b,k){let{icon:B,svgIcon:W,value:K,label:H,hoverText:z,isLoading:Q,isError:q,isMemberError:$,isTeamError:le,isUnknown:te,emailTeam:ce}=b;const{forceRealName:me,size:_e,selectState:Ae,customizeTokenProps:ye,disableIdParsing:oe,allowFileToken:ee}=this.props,V=this.getSelectedTokenIndexes(),w=(V==null?void 0:V.indexOf(k))!==-1,{isDisabled:Y,restrictedSelectedTokenIndexes:G,disabledSelectedTokenIndexes:Z,invalidSelectedTokenIndexes:se}=Ae,ae=!!G&&(G==null?void 0:G.indexOf(k))!==-1,re=!!Z&&(Z==null?void 0:Z.indexOf(k))!==-1,pe=!!se&&(se==null?void 0:se.indexOf(k))!==-1,de=Y||re,ie=de?void 0:ge=>this.onTokenMouseDown(ge,k),he=de?void 0:()=>this.renderTokenRemoveIcon(k),ve=_e;return t.createElement(t.Fragment,null,t.createElement(p.A,M({"data-qa":"multi_select_token_wrapper",className:"c-multi_select_input__token"},ie?{onMouseDown:ie}:{},{isDisabled:de,entityId:K,label:H,hoverText:z,isLoading:Q,isError:q,isMemberError:$,isTeamError:le,isUnknown:te},_e?{size:ve}:{},{isSelected:w},he?{renderIcon:he}:{},{forceRealName:me,icon:B,svgIcon:W,tabIndex:-1,contentEditable:!1},ye,{disableIdParsing:oe},ce?{emailTeam:ce}:{},{isRestricted:ae,isInvalid:pe,allowFileToken:ee})),"\xA0")}renderTokenRemoveIcon(b){return t.createElement(m.A,{actionProps:O,elementType:C.ElementType.BUTTON},t.createElement(u.A,{type:"times-medium",className:"c-multi_select_input__remove_token",id:"multi_select_input__remove_token","data-qa":"token_remove_icon","aria-hidden":"true",onMouseDown:(0,r.A)(k=>{this.onTokenRemoveMouseDown(k,b)})}))}renderTokens(){const{selectedOptions:b}=this.props.selectState;return b==null?void 0:b.map((k,B)=>t.createElement(t.Fragment,{key:k.key||k.value},this.renderToken(k,B)))}renderEditableTokens(){const{isCurrentlyEditingToken:b,editTokenIndex:k}=this.state,B=this.renderTokens()||[],W=this.renderFilterQuery();return b?B.splice(k,0,W):B==null||B.push(W),B}renderIcon(){const{iconType:b}=this.props;return b?t.createElement(u.A,{type:b,inline:!0}):null}render(){const{maxHeight:b,width:k,selectState:B,classPrefix:W,size:K}=this.props,{isDisabled:H,isInvalid:z,selectedOptions:Q}=B,q=Q==null?void 0:Q.length,$=o()("c-multi_select_input",{"c-multi_select_input--disabled":H,"c-multi_select_input--focused":this.state.focused&&!H,"c-multi_select_input--large":K===g.hu.LARGE,"c-multi_select_input--invalid":z,"c-multi_select_input--initial":!q,[`${W}__multi_select_input`]:W,[f.E.large]:K===g.hu.LARGE}),le=H?void 0:this.onInputContainerMouseDown;return t.createElement("div",{className:$,style:{width:k,maxHeight:b},onMouseDown:le,key:this.state.selectContainerKey},this.renderIcon(),this.renderInput(),this.renderLoadingIndicator(),this.renderPlaceholder())}constructor(b){super(b),(0,A.v)(this,["onFocus","onBlur","onChange","onPaste","onKeyDown","onKeyUp","onInputContainerMouseDown","onFilterQueryMouseDown","onPlaceholderMouseDown","onSelectionChange","onCut","onMutation","onNodeRemoved","onNodeAdded","onCompositionStart","onCompositionEnd"]);var k;this.state={composing:!1,focused:!1,selectContainerKey:Date.now(),isCurrentlyEditingToken:!1,editTokenIndex:0,ignoreSelectAllTokensAfterMount:(k=b.ignoreSelectAllTokensAfterMount)!==null&&k!==void 0?k:!1},this.caretPosInFilterQuery=-1,this.ignoreSelectionChange=!1,this.updateSelectionOnKeyUp=!1,b.measurePopoverEventName&&(this.measurePopoverEvent=new Event(b.measurePopoverEventName));var B;this.forceRenderSelectContainerThrottled=(0,a.A)(this.forceRenderSelectContainer,(B=b.forceRenderSelectContainerThrottleRate)!==null&&B!==void 0?B:U,P),this.filterQueryRef=t.createRef()}},"MultiSelectInput");L.defaultProps={inputRef:t.createRef(),maxHeight:96,placeholderText:void 0,onKeyDown:i.A,onKeyUp:i.A,size:g.hu.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:i.A,onFilterQueryChange:i.A,onFilterQueryPaste:i.A,ariaLabelledBy:void 0,ariaLabel:void 0,expandOnFocus:!1,onTokenSelect:i.A,onInputFocused:i.A,forceRealName:void 0,onOptionsListClose:i.A,processOptions:x=>l.S.resolve(x),isTokenEditable:!1,hideFilterQueryOnBlur:!0,autoClogProps:void 0,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,hasKeyboardFocus:!1,onFocus:i.A,onBlur:i.A,onOptionsListClosedBlur:i.A,ignoreSelectAllTokensAfterMount:!1,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:U},L.displayName="MultiSelectInput";const F=(0,_.A)((0,h.A)(L))},8274994582:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(6308822),o=e(6471059816);const s=new o.Ay("form_inputs"),r=E(a=>{let{count:i,clientTheme:l,spinnerSize:m="large"}=a;return t.createElement("div",{className:"c-multi_select_helper_text c-multi_select_helper_text--loading"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container"},t.createElement(n.A,{color:l==="dark"?"white":"blue",size:m,inline:!0})),s.t("Loading {count, plural, =1 {# entry} other {# entries}}",{count:i}))},"MultiSelectLoadingText")},320706952:(N,y,e)=>{"use strict";e.d(y,{A:()=>i});var t=e(3134334389),n=e(441565466),o=e(3708320478),s=e(8683010724),c=e(6471059816);const r=new c.Ay("form_inputs"),a=E(l=>{let{count:m}=l;const _=(0,n.A)();return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},t.createElement(s.A,{name:"emoji-missing-filled",inline:!0})),t.createElement(o.z,{uuid:`${_}-${m}`,deferBy:100},r.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:m})))},"MultiSelectUnknownText");a.displayName="MultiSelectUnknownText";const i=a},581574686:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>D});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6696292586),c=e(7715417323),r=e(2843556239),a=e(6308822),i=e(3391133100),l=e(2219904496),m=e(5166368300),_=e(5841673352),h=e(8683010724),d=e(4426213732),f=e(6471059816),v=e(429204216);function u(){return u=Object.assign||function(O){for(var S=1;S<arguments.length;S++){var R=arguments[S];for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&(O[U]=R[U])}return O},u.apply(this,arguments)}E(u,"_extends");const g=new f.Ay("select"),p=1e4,A={ArrowLeft:!0,ArrowRight:!0},C={ArrowUp:!0,ArrowDown:!0},T={Backspace:!0,Delete:!0};let I=E(class extends t.Component{componentDidMount(){const{inputRef:S,focusOnMount:R,expandOnFocus:U}=this.props,P=S&&S.current;R&&(!this.state.hasFocus&&P&&P.focus(),U&&this.showOptionsList())}componentDidUpdate(S,R){const{inputRef:U,selectState:P,focusOnMount:L}=this.props,{selectedOption:F}=P,{selectState:x}=S,{selectedOption:b}=x,k=U&&U.current,{hasFocus:B,focusedViaMouse:W}=this.state;F&&B&&!W&&(F!==b||!R.hasFocus)&&setTimeout(()=>{k==null||k.select()},50),L&&S.focusOnMount!==L&&(this.state.hasFocus||k==null||k.focus())}componentWillUnmount(){this.blurTimeout&&clearTimeout(this.blurTimeout)}onClick(S){const{inputRef:R,selectState:U,onClick:P,expandOnClick:L,searchOnClick:F}=this.props,{isDisabled:x,isExpanded:b,selectedOption:k}=U;if(x)return;const B=R&&R.current;this.state.hasFocus||(this.setState(()=>({focusedViaMouse:!0})),B==null||B.focus()),(L||k)&&!b&&this.showOptionsList({searchOnClick:F}),P&&P(S)}onBlur(S){const{onBlur:R}=this.props;this.setState(()=>({hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1}),()=>{R&&R(S)})}onFocus(S){const{onFocus:R}=this.props;this.setState(()=>({hasFocus:!0}),()=>{R&&R(S)})}onInputChanged(S){const{selectState:R,setSelectState:U,expandOnClick:P,retainPreviousSelectionOnDelete:L}=this.props,{isExpanded:F,selectedOption:x}=R;if(this.backspaceOrDeletePressed&&S.length===0&&x){U(()=>({filterQuery:S,displayQuery:S,...L?{}:{selectedOption:null}}));return}F?!P&&!S&&U(()=>({isExpanded:!1})):this.showOptionsList(),U(()=>({filterQuery:S,displayQuery:S}))}onKeyPressedEnter(S){this.props.selectState.isExpanded?S.preventDefault():(this.showOptionsList(),S.stopPropagation())}onKeyPressedEscape(S){const{selectState:R,setSelectState:U,resultsInPopover:P,onEsc:L,onOptionsListClose:F}=this.props;R.isExpanded&&P&&(S.stopPropagation(),S==null||S.nativeEvent.stopImmediatePropagation(),L&&L(),F&&F(),U(()=>({isExpanded:!1})))}onKeyPressedTab(){const{setSelectState:S,onOptionsListClose:R,selectState:U}=this.props;R&&R();const{activeRowIndex:P,initialActiveOption:L}=U;typeof P!="number"&&!L&&S(()=>({isExpanded:!1}))}onUpOrDownPressed(S){S.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),S.stopPropagation())}onWrapperKeyDown(S){const{key:R}=S;if(C[R]){this.onUpOrDownPressed(S);return}if(R==="Enter"){this.onKeyPressedEnter(S);return}if(R==="Escape"){this.onKeyPressedEscape(S);return}R==="Tab"&&this.onKeyPressedTab()}onInputKeyDown(S){const{key:R}=S,U=T[R],P=A[R],L=U||P||(0,v.A)(S);this.setState(()=>({cursorVisible:L})),this.backspaceOrDeletePressed=U}maybeRenderIconOrLoading(){const{showDropdownIcon:S,isLoading:R,size:U,expandOnClick:P}=this.props;return R?t.createElement(a.A,{className:"c-select_input__spinner",color:"blue",size:U===_.hu.LARGE?"large":"medium"}):!S||!P?null:t.createElement("span",{className:"c-select_input__icon"},t.createElement(h.A,{name:"caret-down",size:"20"}))}showOptionsList(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{searchOnClick:R}=S;this.updateOptionsListPosition(),this.props.setSelectState(()=>({isExpanded:!0,searchOnClick:R}))}updateOptionsListPosition(){const{selectState:S}=this.props,{isExpanded:R}=S;if(!R&&this.measurePopoverEvent){var U;(U=this.context.windowRef.deref())===null||U===void 0||U.dispatchEvent(this.measurePopoverEvent)}}renderInputContent(){const{selectState:S,renderSelectedOption:R,classPrefix:U,selectDataQa:P,hideSelectedOptionOnDropdownOpen:L}=this.props,{isExpanded:F,selectedOption:x}=S;if(this.state.cursorVisible||!x||F&&(L||S.filterQuery))return null;const b=o()("c-select_input__content",{[`${U}__select_input_content`]:U});return t.createElement("div",{className:b,"data-qa":P?`${P}-input-content`:null},t.createElement("span",{className:"c-select_input__content_text"},R&&R(x)))}getOptionsListboxHtmlId(){var S;return(0,i.Es)((S=this.props.selectState.selectId)!==null&&S!==void 0?S:"","listbox")}renderTextInput(){const{selectDataQa:S,inputRef:R,classPrefix:U,ariaLabelledBy:P,ariaDescribedBy:L,icon:F,maxCharacterLimit:x,size:b,selectState:k,autoClogProps:B,hideSelectedOptionOnDropdownOpen:W}=this.props,{activeRowIndex:K,filterQuery:H,isDisabled:z,isExpanded:Q,isInvalid:q,isRequired:$,selectedOption:le,selectId:te=""}=k;let ce;H||!Q&&le||le&&Q&&!W?ce=null:ce=this.props.placeholderText||g.t("Please select an option");const me=Q&&(0,s.A)(K)?(0,i.Es)(te,`option_${K}`):null,_e=!this.state.cursorVisible&&le&&!Q,Ae=o()("c-select_input",{"c-select_input--offscreen":_e,"c-select_input--invalid":q,[`${U}__select_input`]:U}),ye=(0,i.Yk)([L,(0,i.Es)(te,"initial-focus")]),ee=!this.state.focusedViaMouse&&this.state.hasFocus&&!this.state.cursorVisible&&W?H||le&&le.label:H,V={spellCheck:!1,className:Ae,id:te,name:te,"aria-activedescendant":me,"aria-autocomplete":"list","aria-expanded":Q,"aria-controls":this.getOptionsListboxHtmlId(),"aria-required":$,"aria-label":this.props["aria-label"],"aria-labelledby":P,"aria-describedby":ye,isInvalid:q,autoComplete:"off",isDisabled:z,onChange:this.onInputChanged,placeholder:ce,value:ee||"","data-qa":S?`${S}-input`:null,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onInputKeyDown,role:"combobox",autoClogProps:B};return F||x?t.createElement(l.A,u({},V,{icon:F,size:b,maxCharacterLimit:x,showError:!1,type:"text",inputRef:R,isInvalid:q})):t.createElement(m.A,u({},V,{ref:R}))}render(){const{icon:S,size:R,selectDataQa:U,width:P,classPrefix:L,showDropdownIcon:F,selectState:x}=this.props,{isInvalid:b}=x,k=o()("c-select_input__wrapper",{[`c-select_input--${R}`]:R,"c-select_input--with_icon_right":F,"c-select_input--with_icon_left":!!S,"c-select_input--invalid":b,[`${L}__select_input_wrapper`]:L}),B=o()("c-select_input__input_container",{[`${L}__select_input_container`]:L});return t.createElement("div",{role:"presentation",className:k,style:{width:P},onClick:this.onClick,onKeyDown:this.onWrapperKeyDown,"data-qa":U?`${U}-wrapper`:null},t.createElement("div",{className:B},this.renderTextInput(),this.renderInputContent()),t.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}constructor(S){super(S),(0,d.v)(this,["onClick","onFocus","onBlur","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onWrapperKeyDown","onInputKeyDown","onInputChanged","showOptionsList","updateOptionsListPosition"]),this.selectInputRef=t.createRef(),this.backspaceOrDeletePressed=!1,this.measurePopoverEvent=void 0,this.blurTimeout=void 0,this.state={hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1},S.measurePopoverEventName&&(this.measurePopoverEvent=new Event(S.measurePopoverEventName))}},"SelectInput");I.defaultProps={autoClogProps:void 0,inputRef:null,onClick:c.A,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,icon:void 0,maxCharacterLimit:void 0,focusOnMount:!1,isLoading:!1,classPrefix:void 0,onFocus:c.A,onBlur:c.A,onEsc:c.A,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,onOptionsListClose:c.A,expandOnClick:!0,searchOnClick:!1,expandOnFocus:!0,hideSelectedOptionOnDropdownOpen:!0},I.contextType=r._0,I.displayName="SelectInput";const M={SelectInput:I},D=I},9359656550:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>Y,oj:()=>V});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(45851552),c=e(6696292586),r=e(2003990933),a=e(5404505308),i=e(7715417323),l=e(3478664464),m=e(166097325),_=e(1699044291),h=e(3398586081),d=e(9268023148),f=e(105789326),v=e(4426213732),u;(function(G){G[G.ELEMENT=1]="ELEMENT",G[G.ATTRIBUTE=2]="ATTRIBUTE",G[G.TEXT=3]="TEXT",G[G.CDATA_SECTION=4]="CDATA_SECTION",G[G.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",G[G.ENTITY=6]="ENTITY",G[G.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",G[G.COMMENT=8]="COMMENT",G[G.DOCUMENT=9]="DOCUMENT",G[G.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",G[G.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",G[G.NOTATION=12]="NOTATION"})(u||(u={}));const g=new Set(["INPUT","TEXTAREA","SELECT"]),p=new Set([...g,"BUTTON"]),A="http://www.w3.org/1999/xhtml",C="http://www.w3.org/2000/svg";function T(G){return(G==null?void 0:G.nodeType)===u.TEXT}E(T,"isTextNode");function I(G){return(G==null?void 0:G.nodeType)===u.ELEMENT}E(I,"isElement");function M(G){return I(G)&&G.namespaceURI===A}E(M,"isHtmlElement");function D(G){return I(G)&&G.namespaceURI===C}E(D,"isSvgElement");function O(G){return M(G)||D(G)}E(O,"isHtmlOrSvgElement");function S(G){return M(G)||D(G)}E(S,"isElementCssInlineStyle");function R(G){return P(G,"a")}E(R,"isAnchorElement");function U(G){return M(G)&&p.has(G.tagName)}E(U,"isInteractiveElement");function P(G,Z){return M(G)&&G.localName===Z}E(P,"isHtmlElementWithTagName");function L(G){return T(G)?G:null}E(L,"asTextNode");function F(G){return I(G)?G:null}E(F,"asElement");function x(G){return M(G)?G:null}E(x,"asHtmlElement");function b(G,Z){const se=G;return se.hasAttribute&&se.hasAttribute(Z)}E(b,"hasAttribute");function k(G,Z){return b(G,`data-${Z}`)}E(k,"hasData");var B=e(8359728598),W=e(1887307248),K=e(4757466470),H=e(6882609392),z=e(1338932669),Q=e(2843556239),q=e(6308822),$=e(3391133100),le=e(5841673352),te=e(1398359918),ce=e(8786006583),me=e(5803478215);function _e(G){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,te.A)(G,(ae,re)=>{if(ae.type==="divider")return{type:"divider"};if(ae.options){const{options:pe,label:de,...ie}=ae,he=`${ae.label.toLowerCase()}${le.Sx}${(0,me.A)()}`,ve=[{type:"heading",label:ae.label,group:he,optionsCount:ae.options&&ae.options.length||0,extras:ie}].concat(ae.options.map((ge,ke)=>{const Ne={type:"option",option:ge,optgroup:he};return ke===0&&(Ne.isFirstChild=!0),ke===ae.options.length-1&&(Ne.isLastChild=!0),Ne}));if(Z){if(G[re-1]&&G[re-1].value&&!G[re-1].options&&ve.unshift({type:"divider"}),(0,ce.A)(G)===ae)return ve;ve.push({type:"divider"})}return ve}return{type:"option",option:ae}})}E(_e,"formatOptions");var Ae=e(6471059816);function ye(){return ye=Object.assign||function(G){for(var Z=1;Z<arguments.length;Z++){var se=arguments[Z];for(var ae in se)Object.prototype.hasOwnProperty.call(se,ae)&&(G[ae]=se[ae])}return G},ye.apply(this,arguments)}E(ye,"_extends");const oe=new Ae.Ay("select"),ee=E(G=>{var Z;return G.type!=="heading"&&G.type!=="divider"&&!(!(G==null||(Z=G.option)===null||Z===void 0)&&Z.nonInteractive)},"isKeyboardNavigableOption"),V=E(G=>{var Z;return!G.isDisabled&&!(!(G==null||(Z=G.option)===null||Z===void 0)&&Z.nonInteractive)},"isSelectableOption");let w=E(class extends W.B{componentDidMount(){this.initKeyCommands();const{focusOnMount:Z=!1,selectState:se,setSelectState:ae,shouldIncludeActiveOption:re=!1}=this.props,{selectType:pe}=se;pe===le.US.BASIC&&Z&&this.onOpen();const de=this.getInitalActiveRowIndex(),ie=this.list.current;ae(()=>({activeRowIndex:de,...re?{activeOption:this.getOptionFromList(de)}:null})),de!==-1&&ie&&ie.scrollToRow(de),this.removeAriaAttrsFromGridNode()}componentWillUnmount(){const{focusOnMount:Z=!1,preventScroll:se=!1}=this.props,{selectType:ae}=this.props.selectState;this.keyCommands&&this.keyCommands.reset(),Z&&ae===le.US.BASIC&&this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:se})}componentDidUpdate(Z){var se;const{selectState:ae,setSelectState:re,shouldIncludeActiveOption:pe=!1,dynamicHeight:de=!1,optionsShallowEqualComparisonDepth:ie=4,shouldRerenderOnOptionChange:he=!1}=this.props,{filterQuery:ve,options:ge,initialActiveOption:ke}=ae,Ne=!(0,K.Ay)(Z.selectState.options,ge,ie),We=ve!==Z.selectState.filterQuery;if(Ne||We){const Ke=typeof ke<"u"?this.getActiveRowIndex():this.getFirstSelectableRowIndex();re(()=>({activeRowIndex:Ke,...pe?{activeOption:this.getOptionFromList(Ke)}:null}));const Fe=Ke||Ke===0;this.list.current&&Fe&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(Ke))}if(Ne&&!We&&he){var Oe;(Oe=this.list.current)===null||Oe===void 0||Oe.recomputeRowHeights()}if(de&&(ae==null?void 0:ae.options)!==((se=Z.selectState)===null||se===void 0?void 0:se.options)){var be;(be=this.cellMeasurerCache)===null||be===void 0||be.clearAll(),this.list.current&&this.list.current.recomputeRowHeights()}this.removeAriaAttrsFromGridNode()}getInitalActiveRowIndex(){const{selectState:Z,multiSelectMode:se=!1}=this.props,{selectedOption:ae,initialActiveOption:re}=Z;return se||!ae?this.getFirstSelectableRowIndex():re?this.getActiveRowIndex():(0,s.A)(this.getOptionsList(),pe=>{var de;return ee(pe)&&(pe==null||(de=pe.option)===null||de===void 0?void 0:de.value)===ae.value})}getActiveRowIndex(){const{selectState:Z}=this.props,{initialActiveOption:se}=Z;if(!se)return;const ae=(0,s.A)(this.getOptionsList(),re=>{var pe;return ee(re)&&(re==null||(pe=re.option)===null||pe===void 0?void 0:pe.value)===se.value});if(ae>=0)return ae}getCurrentActiveElement(){var Z,se;return(se=(Z=this.context.windowRef.deref())===null||Z===void 0?void 0:Z.document.activeElement)!==null&&se!==void 0?se:null}getFirstSelectableRowIndex(){const{selectState:Z,multiSelectMode:se=!1,customOptionCompare:ae,shouldAlwaysHaveActiveRow:re=!1}=this.props,{filterQuery:pe}=Z,de=this.getOptionsList();let ie;if((pe||re)&&de.length){const he=(0,s.A)(de,ve=>ee(ve)&&!this.isOptionSelected(Z,ve.option,se,ae),0);he!==-1&&(ie=he)}return ie}getRowHeight(Z){var se;const{optionsRowHeight:ae=le.bJ,headingRowHeight:re=null,dividerRowHeight:pe=le.r3}=this.props;return Z.option&&(0,c.A)(Z.option.height)?Number(Z.option.height):Z.type&&Z.type==="divider"?pe:Z.type==="heading"&&(0,c.A)((se=Z.extras)===null||se===void 0?void 0:se.height)?Number(Z.extras.height):Z.type&&Z.type==="heading"&&re!==null?re:ae}getClassName(Z,se){const{unstyled:ae=!1}=this.props;return ae&&se?o()(se):o()(se,Z)}getOptionFromList(Z){const se=this.getOptionsList();return(0,r.A)(se,`[${Z}].option`,null)}getOptionsList(){const{multiSelectMode:Z=!1,selectState:se,includeDividers:ae=!0}=this.props,{options:re,isRequired:pe,selectedOption:de,filterQuery:ie,minQueryLength:he}=se;let ve=[];return he&&he>0&&de&&!ie&&(ve=[de]),re&&(!Z&&de&&!pe?ve=[le.az,...re]:ve=re),ve=[...this.formatOptions(ve,ae)],ve}getDataQaTag(Z,se){const{selectDataQa:ae=void 0,selectState:re}=this.props,{isRequired:pe}=re,de=Z.value?Z.value:Z.label;let ie="";typeof de=="string"&&(ie=de.replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase());const he=pe?se:se-1;return Z.value?`${ae}_option_${he}`:`${ae}_option_header_${ie}`}getNextActiveRowIndex(Z){const se=this.getOptionsList();if(se&&!se.length)return-1;const ae=se.length-1;if(Z===ae)return-1;const re=(0,c.A)(Z)?Z+1:0,pe=(0,s.A)(se,ee,re);return pe!==-1&&se[pe]?pe:-1}getPreviousActiveRowIndex(Z){if(Z===0)return-1;const se=this.getOptionsList();if(se&&!se.length)return-1;const ae=se.length-1,re=(0,c.A)(Z)?Z-1:ae,pe=(0,a.A)(se,ee,re);return pe!==-1&&se[pe]?pe:-1}getArialabelForItem(Z){var se,ae,re,pe;const{isFirstChild:de,isLastChild:ie,optgroup:he}=Z;if(!he)return null;const ve=oe.t("First item in group {group}, {value}",{group:he&&he.split(le.Sx).slice(0,-1).join("-"),value:typeof((se=Z.option)===null||se===void 0?void 0:se.label)=="string"?(ae=Z.option)===null||ae===void 0?void 0:ae.label:""}),ge=oe.t("Last item in group {group}, {value}",{group:he&&he.split(le.Sx).slice(0,-1).join("-"),value:typeof((re=Z.option)===null||re===void 0?void 0:re.label)=="string"?(pe=Z.option)===null||pe===void 0?void 0:pe.label:""});return de?ve:ie?ge:null}getEmptyStateMessage(){const{emptyStateMessage:Z,selectState:se}=this.props,{filterQuery:ae,minQueryLength:re}=se;if(Z)return Z(ae);if(re){if(!ae)return oe.t("Type to search\u2026");if(ae.length<re)return oe.t("Keep typing\u2026")}return oe.t("No items")}getContainerStyle(){return{position:"relative",overflow:"visible"}}getListStyle(Z){return{padding:Z?le.Hy:void 0,boxSizing:"content-box"}}onArrowDown(Z){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(Z))return;const{isExpanded:se,activeRowIndex:ae}=this.props.selectState;se&&Z.preventDefault();const re=this.getNextActiveRowIndex(ae);(0,c.A)(re)&&re!==-1&&this.moveNext(re)}onArrowUp(Z){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(Z))return;const{isExpanded:se,activeRowIndex:ae}=this.props.selectState;se&&Z.preventDefault();const re=this.getPreviousActiveRowIndex(ae);(0,c.A)(re)&&re!==-1&&this.movePrevious(re)}onEsc(Z){const{shouldIncludeActiveOption:se=!1}=this.props;if(!this.props.selectState.isExpanded||!this.shouldInterceptKeyEvent(Z))return;Z.preventDefault();const{onOptionsListClose:ae=i.A}=this.props;ae&&ae(),this.props.setSelectState(()=>({isExpanded:!1,activeRowIndex:void 0,...se?{activeOption:null}:null,filterQuery:"",displayQuery:""}))}onEnter(Z){if(this.props.shouldDisableKeyPressedEnter||!this.shouldInterceptKeyEvent(Z))return;Z.preventDefault();const{activeRowIndex:se,initialActiveOption:ae}=this.props.selectState,re=this.getOptionsList();let pe;typeof se=="number"&&(pe=re[se]&&re[se].option||re[se]),pe=pe||ae,!(pe&&!V(pe))&&(this.onOptionSelected(pe),this.onClose(Z))}onTab(Z){const{selectState:se,disableSelectOnTab:ae=!1}=this.props;if(ae||!this.shouldInterceptKeyEvent(Z)||!se.isExpanded)return;const{onKeyPressedTab:re=i.A}=this.props;if(re&&re!==i.A){re(event);return}const{activeRowIndex:pe,initialActiveOption:de}=se,ie=this.getOptionsList();let he;typeof pe=="number"&&(he=ie[pe]&&ie[pe].option||ie[pe]),he=he||de,he&&Z.preventDefault(),!(he&&!V(he))&&this.onOptionSelected(he)}onShiftTab(Z){if(!this.shouldInterceptKeyEvent(Z))return;const{onKeyPressedShiftTab:se=i.A}=this.props;se&&se!==i.A&&se(Z)}onMouseEnteredOption(Z){const{shouldIncludeActiveOption:se=!1}=this.props;this.isMouseMoveEnabled&&(this.props.setSelectState(()=>({activeRowIndex:Z,...se?{activeOption:this.getOptionFromList(Z)}:null})),this.list.current&&this.list.current.forceUpdateGrid())}onMouseLeftOption(){const{shouldAlwaysHaveActiveRow:Z=!1}=this.props;!this.isMouseMoveEnabled||Z||this.clearActive()}onOptionClicked(Z){this.onOptionSelected(Z,!0)}onScroll(Z){const{onScroll:se=i.A}=this.props;se&&se(Z)}onOptionSelected(Z){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{onOptionSelected:ae=i.A,onOptionUnselected:re=i.A,selectState:pe,setSelectState:de,multiSelectMode:ie=!1,inputRef:he,customOptionCompare:ve,shouldIncludeActiveOption:ge=!1,shouldOptionBeSelected:ke,shouldAllowUnselectInMultiSelectMode:Ne=!1,shouldAllowUnselectInSingleSelectMode:We=!0,stayExpandedAfterSelection:Oe=!1}=this.props;if(pe.shouldRefocusInputAfterSelection&&he&&he.current&&he.current.focus(),Z&&V(Z)){if(ke&&ke(Z)===!1){de(()=>({activeRowIndex:void 0,filterQuery:"",isExpanded:!1}),()=>{ae(Z)});return}if(Z.value===le.yk)this.onClearSelectedOption();else if(ie){const{selectedOptions:be,shouldRefocusInputAfterSelection:Ke}=pe;if(!this.isOptionSelected(pe,Z,ie,ve)&&be)de(()=>({selectedOptions:[...be,Z],activeRowIndex:void 0,...ge?{activeOption:null}:null,filterQuery:"",isExpanded:Oe}),()=>{ae&&ae(Z)});else if(Ne){const J=(0,l.A)(be,[Z],(ne,je)=>ne.value===je.value);de(()=>({selectedOptions:J,activeRowIndex:void 0,...ge?{activeOption:null}:null,filterQuery:"",isExpanded:Oe}),()=>{re&&re(Z)})}!Ke&&!Z.fromUnknown&&he&&he.current&&he.current.focus()}else{const be={isExpanded:!1,filterQuery:"",displayQuery:"",selectedOption:We?null:pe.selectedOption};!(0,m.A)(pe.selectedOption,Z)&&(be.selectedOption=Z),de(()=>({...be}),()=>{ae&&ae(Z,se)}),pe.shouldRefocusInputAfterSelection&&he&&he.current&&he.current.focus()}}}onOpen(){const{focusOnMount:Z=!1,selectState:se}=this.props,{selectType:ae}=se;!Z&&ae!==le.US.BASIC||(this.previousFocus=this.getCurrentActiveElement(),this.listBody&&this.listBody.current&&this.listBody.current.focus())}onClose(Z){Z.key==="Escape"&&this.onEsc(Z);const{focusOnMount:se=!1,preventScroll:ae=!1}=this.props,{selectType:re}=this.props.selectState;!se&&re!==le.US.BASIC||this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:ae})}onClearSelectedOption(){const{selectState:Z,setSelectState:se,onOptionSelected:ae=i.A,multiSelectMode:re=!1,onMultiSelectClear:pe=void 0}=this.props,{selectedOption:de,selectedOptions:ie}=Z;let he=!1;de?(se(()=>({selectedOption:null,isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{ae&&ae({value:null})}),he=!0):re&&ie&&(se(()=>({selectedOptions:[],isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{pe&&pe()}),he=!0),this.list.current&&he&&this.list.current.forceUpdateGrid()}clearDynamicRowHeight(Z){var se;(se=this.cellMeasurerCache)===null||se===void 0||se.clear(Z,0),this.list.current&&this.list.current.recomputeRowHeights(Z)}clearActive(){const{shouldIncludeActiveOption:Z=!1}=this.props;this.props.setSelectState(()=>({activeRowIndex:void 0,...Z?{activeOption:null}:null})),this.list.current&&this.list.current.forceUpdateGrid()}enableMouseMove(){this.isMouseMoveEnabled=!0}focusNode(Z){Z&&this.getCurrentActiveElement()!==Z&&Z.focus()}isFirstItemUnselectable(){const Z=this.getOptionsList();return!ee(Z[0])}initKeyCommands(){var Z;if(this.keyCommands)return;const{shouldTokenizeOnComma:se,shouldTokenizeOnSpace:ae,keyCommandShortcuts:re}=this.props,pe=["enter"];se&&pe.push("comma"),ae&&pe.push("space");const de=[{keys:["down"],handler:this.onArrowDown},{keys:pe,handler:this.onEnter,filter:he=>he.code.toLowerCase()==="comma"&&he.key!==","},{keys:["up"],handler:this.onArrowUp},{keys:["tab"],handler:this.onTab},{keys:["shift+tab"],handler:this.onShiftTab}],ie=re?de.concat(re):de;this.keyCommands=new H.A((Z=this.context.windowRef.deref())===null||Z===void 0?void 0:Z.document),this.keyCommands.bindAll(ie)}isOptionSelected(Z,se,ae,re){let{selectedOptions:pe,selectedOption:de}=Z;return ae&&(!pe||pe&&!pe.length)||!ae&&!de?!1:ae?!re&&se?pe&&pe.some(ie=>ie.value===se.value):pe&&pe.some(ie=>re({selectedOption:ie,listOption:se})):de&&se&&de.value===se.value}isOptionActive(Z,se,ae){let{activeRowIndex:re}=Z;if(!re&&re!==0)return!1;const de=se[re];return(de&&de.option?de.option:de)===ae}moveNext(Z){const{setSelectState:se,shouldIncludeActiveOption:ae=!1}=this.props,re=this.getOptionFromList(Z);if(!re)return;const pe=this.list.current;if(!pe)return;se(()=>({activeRowIndex:Z,...ae?{activeOption:re}:null,displayQuery:re==null?void 0:re.value})),this.debouncedEnableMouseMove(),pe.forceUpdateGrid();const de=Z===1&&this.isFirstItemUnselectable()?0:Z;pe.scrollToRow(de)}movePrevious(Z){const{setSelectState:se,shouldIncludeActiveOption:ae=!1}=this.props,re=this.getOptionFromList(Z);if(!re)return;const pe=this.list.current;if(!pe)return;const de=this.getOptionsList();if(!de)return;if(se(()=>({activeRowIndex:Z,...ae?{activeOption:re}:null,displayQuery:re==null?void 0:re.value})),this.debouncedEnableMouseMove(),pe.forceUpdateGrid(),(re==null?void 0:re.height)!==0){pe.scrollToRow(Z);return}const ie=(0,_.A)(de.slice(0,Z)).findIndex(he=>{var ve;return(he==null||(ve=he.option)===null||ve===void 0?void 0:ve.height)!==0});pe.scrollToRow(Z-ie-1)}shouldInterceptKeyEvent(Z){return!Z.target||!I(Z.target)?!1:!!(b(Z.target,"aria-autocomplete")||b(Z.target,"aria-haspopup")||this.listBody.current&&this.listBody.current.contains(Z.target))}removeAriaAttrsFromGridNode(){const Z=this.listBody.current,se=Z&&Z.querySelector(".ReactVirtualized__Grid");se&&(se.removeAttribute("aria-label"),se.removeAttribute("aria-readonly"))}renderEmptyState(){const{unstyled:Z=!1,width:se,isLoading:ae=!1,selectDataQa:re=void 0,includeWrapper:pe=!0}=this.props;if(ae)return null;const de=this.getEmptyStateMessage();if(de===null)return null;const ie=Z||!pe?+se:+se-le.$_;return t.createElement("div",{"data-qa":re?`${re}-empty-state`:null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:ie}},t.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option c-select_options_list__option--empty-state")},de))}renderList(){const{maxListHeight:Z,width:se,includePadding:ae,unstyled:re=!1,useSlackScrollbar:pe,dynamicHeight:de=!1,forceMaxHeight:ie,includeWrapper:he=!0,classPrefix:ve=void 0}=this.props,ge=this.getOptionsList(),ke=Z||le.CK,Ne=ge.map(Fe=>this.getRowHeight(Fe)||0).reduce((Fe,J)=>Fe+J,0),We=ie||Ne>=ke?ke:Ne,Oe=re||!he?+se:+se-le.$_,be=o()("c-select_options_list__virtual_list",{"c-select_options_list__virtual_list--slack_scrollbar":pe,[`${ve}__virtual_list`]:!!ve}),Ke=de&&this.cellMeasurerCache?this.cellMeasurerCache.rowHeight:Fe=>{let{index:J}=Fe;return this.getRowHeight(ge[J])};return this.cellMeasurerCache?t.createElement(z.O,{className:be,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(ae),height:We,deferredMeasurementCache:this.cellMeasurerCache,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:ge?ge.length:0,rowHeight:Ke,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Oe}):t.createElement(z.O,{className:be,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(ae),height:We,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:ge?ge.length:0,rowHeight:Ke,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Oe})}renderListBody(){const{enableLoadingState:Z=!0,isLoading:se=!1}=this.props;if(se&&Z)return this.renderLoadingState();const ae=this.getOptionsList();return!ae||ae&&!ae.length?this.renderEmptyState():this.renderList()}renderLoadingState(){const{width:Z}=this.props,se=oe.t("Loading results\u2026");return t.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:Z}},t.createElement(q.A,{size:"medium",inline:!0}),t.createElement("div",null,se))}renderRow(Z){let{index:se,key:ae,style:re,parent:pe}=Z;var de;const{classPrefix:ie=void 0,selectState:he,multiSelectMode:ve=!1,customOptionCompare:ge,unstyled:ke=!1,dynamicHeight:Ne=!1,hideOptionsListCheckbox:We=!1}=this.props,{selectId:Oe}=he,be=this.getOptionsList();let Ke;be[se].option?Ke=be[se].option:Ke=be[se];const{isPlaceholder:Fe}=Ke,{activeRowIndex:J}=he,{selectedOption:ne,selectedOptions:je}=he;let at;typeof J=="number"&&(at=this.isOptionActive({activeRowIndex:J},be,Ke));const nt=this.isOptionSelected({selectedOptions:je,selectedOption:ne},Ke,ve,ge),Ge=Ke.value===le.yk,Pe=be[se].type==="heading",Le=!!be[se].optgroup,ze=be[se].type==="divider",Me=!!Ke.isDisabled,Ce=!!Ke.nonInteractive,Qe=nt&&!Pe&&!ze,Be=Pe||Ce||ze,we=be.filter(ee),xe=(0,s.A)(we,ft=>ft.option===Ke,0),Se=ie?`${ie}__option`:"",Ye=o()("c-select_options_list__option",Se,(0,r.A)(Ke,"overrides.className",!1),{"c-select_options_list__option--active":at&&(0,r.A)(Ke,"overrides.useHoverStyles",!0),"c-select_options_list__option--placeholder":Fe,"c-select_options_list__option--selected":Qe,"c-select_options_list__option--disabled":Me,"c-select_options_list__group_header":Pe,"c-select_options_list__group_option":Le,"c-select_options_list__divider":ze,"c-select_options_list__clear_option":Ge});let ot=Ge?Ke.label:t.createElement("hr",{className:this.getClassName("c-select_options__divider")});!ze&&!Ge&&(ot=this.props.renderOption(Ke,{index:se,isActive:at,isGroupHeader:Pe,isClearOption:Ge,isSelected:nt&&!Pe&&!ze,clearDynamicRowHeight:this.clearDynamicRowHeight}));let _t;if(ke||!((de=Ke.overrides)===null||de===void 0)&&de.unstyled)_t=ot;else{var pt;_t=t.createElement("span",{"data-qa":Ke.value,className:this.getClassName("c-select_options_list__option_label",{normal_wrap:(pt=Ke.extras)===null||pt===void 0?void 0:pt.forceHeaderWrap})},ot)}const vt=we.length,yt=xe===-1?void 0:xe+1,Tt=t.createElement("div",ye({"aria-hidden":Be?"true":null,"aria-selected":nt,"aria-label":Pe?null:this.getArialabelForItem(be[se]),className:this.getClassName(Ye,Se),"data-qa":ze?void 0:this.getDataQaTag(Ke,se),id:(0,$.Es)(Oe,`option_${se}`),key:ae},re?{style:re}:{},{onClick:Me||Ce?(0,h.A)(()=>this.onOptionSelected(Ke)):(0,h.A)(()=>{this.onOptionClicked(Ke)}),onMouseEnter:Me||Ce?i.A:(0,h.A)(()=>{this.onMouseEnteredOption(se)}),onMouseLeave:Me||Ce?i.A:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":at?"true":void 0,ref:at?this.currentRow:null,optgroup:Le?be[se].optgroup:void 0,"aria-disabled":Me||null,"aria-setsize":vt,"aria-posinset":yt}),Qe&&!We&&t.createElement("span",{className:"c-select_options_list__selected","aria-hidden":"true"}),_t);return!Ne||!this.cellMeasurerCache?Tt:t.createElement(f.dl,{cache:this.cellMeasurerCache,columnIndex:0,rowIndex:se,key:ae,parent:pe},Tt)}render(){const{className:Z,ariaLabel:se,classPrefix:ae=void 0,multiSelectMode:re=!1,selectDataQa:pe=void 0,selectState:de,dropdownContainer:ie=void 0,footerBannerContent:he}=this.props,{isExpanded:ve,activeRowIndex:ge,selectId:ke,selectType:Ne}=de,We=o()("c-select_options_list",{[`${ae}_options_list`]:ae}),Oe=Ne===le.US.BASIC&&ve&&(0,c.A)(ge)?(0,$.Es)(ke,`option_${ge}`):void 0,be=t.createElement("div",{className:We,ref:this.listBody,"data-qa":pe?`${pe}-options-list`:null,id:(0,$.Es)(ke,"listbox"),"aria-activedescendant":Oe,"aria-label":se??oe.t("Options",{fallbackHash:"6bf5da9c080bee3a8142586c412aa39971137eee",fallbackHashNs:"team_profile"}),"aria-multiselectable":!!re,role:"listbox",tabIndex:-1,onMouseMove:this.enableMouseMove},this.renderListBody()),{includeWrapper:Ke=!0}=this.props;if(!Ke)return be;const Fe=o()("c-select_options_list__wrapper",{[`${Z}`]:Z,[`${ae}_options_list_wrapper`]:ae});return t.createElement("div",ye({className:this.getClassName(Fe),"data-qa":pe?`${pe}-options-list-wrapper`:"sk-select-options-list-wrapper"},ie?{ref:ie}:{}),be,he&&t.createElement("div",{className:"c-select_options_list__footer_banner"},he))}constructor(Z){super(Z),this.isMouseMoveEnabled=!1,(0,v.v)(this,["getOptionsList","getOptionFromList","onClearSelectedOption","onArrowDown","onArrowUp","onEnter","onTab","onShiftTab","onMouseLeftOption","onScroll","renderRow","clearDynamicRowHeight","initKeyCommands"]),this.listBody=t.createRef(),this.list=t.createRef(),this.currentRow=t.createRef(),this.keyCommands=void 0,this.previousFocus=null,this.cellMeasurerCache=void 0,this.formatOptions=(0,B.A)(_e),this.enableMouseMove=this.enableMouseMove.bind(this),this.debouncedEnableMouseMove=(0,d.A)(this.enableMouseMove,200),this.debouncedOnScroll=(0,d.A)(this.onScroll.bind(this),200),le.az.label=oe.t("Clear selection");const{optionsRowHeight:se=le.bJ,dynamicHeight:ae=!1}=Z;ae&&(this.cellMeasurerCache=new f.jS({defaultHeight:se,fixedWidth:!0}))}},"SelectOptionsList");w.contextType=Q._0,w.displayName="SelectOptionsList";const Y=w},4640201401:(N,y,e)=>{"use strict";e.d(y,{A:()=>C});var t=e(3134334389),n=e(7715417323),o=e(9268023148),s=e(4943209501),c=e(2843556239),r=e(5249175977),a=e(9359656550),i=e(5841673352),l=e(4426213732),m=e(8668318456),_=e(2790183459);function h(){return h=Object.assign||function(T){for(var I=1;I<arguments.length;I++){var M=arguments[I];for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(T[D]=M[D])}return T},h.apply(this,arguments)}E(h,"_extends");const d={onClose:{action:m.UiAction.CLOSE},onOpen:{action:m.UiAction.OPEN}},f=50,v=50,u=12,g=4,p=32;let A=E(class extends t.Component{componentDidMount(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}componentDidUpdate(){this.maybeInstallListener()}componentWillUnmount(){this.maybeUninstallListener()}isMouseEvent(I){return(I==null?void 0:I.type)==="click"}didClickInput(I){const{inputRef:M}=this.props;if(!(M!=null&&M.current)||!this.isMouseEvent(I))return;const D=I.clientX,O=I.clientY,S=M.current.getBoundingClientRect();return D>S.left&&D<S.right&&O>S.top&&O<S.bottom}onClose(I){var M;const{selectState:D,inputRef:O,onOptionsListClose:S,setSelectState:R}=this.props;if(D.isExpanded){if(I instanceof KeyboardEvent){var U;(U=this.optionsListRef.current)===null||U===void 0||U.onClose(I)}O==null||(M=O.current)===null||M===void 0||M.focus(),S==null||S(this.didClickInput(I)),R(()=>({isExpanded:!1,activeRowIndex:void 0,filterQuery:"",displayQuery:""}))}}getOptionsListBounds(){const{inputRef:I,inputContainerRef:M=null}=this.props,D=M||I;return D&&D.current?D.current.getBoundingClientRect():null}getPopoverPosition(I){let{top:M,bottom:D}=I;var O;const S=M,R=(((O=this.context.windowRef.deref())===null||O===void 0?void 0:O.innerHeight)||0)-D,{selectState:U,maxListHeight:P=i.CK}=this.props,{options:L}=U;let F=0;const x=E(k=>k.map(B=>this.getRowHeight(B)).reduce((B,W)=>B+W,0),"calculateRowHeight");if(L){const k=[];L.forEach(B=>{if(B.options){k.push(B.label),B.options.forEach(W=>k.push(W));return}k.push(B)}),F=x(k)}const b=Math.min(F,P);return R<b&&R<S?"top-left":"bottom-left"}getRowHeight(I){const{optionsRowHeight:M=i.bJ}=this.props;return I.type&&I.type==="divider"?i.r3:M}maybeInstallListener(){var I,M;if(this.listenerInstalled)return;(I=this.context.windowRef.deref())===null||I===void 0||I.addEventListener("resize",this.onResize),(M=this.context.windowRef.deref())===null||M===void 0||M.addEventListener("scroll",this.onScroll);const{measurePopoverEventName:D=null}=this.props;if(D){var O;(O=this.context.windowRef.deref())===null||O===void 0||O.addEventListener(D,this.measureOptionsListAndSetState)}this.listenerInstalled=!0}maybeUninstallListener(){const{measurePopoverEventName:I=null}=this.props;if(this.listenerInstalled){var M,D;if(this.onResize.cancel(),this.onScroll.cancel(),(M=this.context.windowRef.deref())===null||M===void 0||M.removeEventListener("resize",this.onResize),(D=this.context.windowRef.deref())===null||D===void 0||D.removeEventListener("scroll",this.onScroll),I){var O;(O=this.context.windowRef.deref())===null||O===void 0||O.removeEventListener(I,this.measureOptionsListAndSetState)}this.listenerInstalled=!1}}measureOptionsListAndSetState(){this.listenerInstalled&&this.setState(()=>({optionsListBounds:this.getOptionsListBounds()}))}render(){var I,M;const{popoverProps:D={},selectState:O,minOptionsListWidth:S=null,onOpen:R=n.A,onScrollablePage:U=!1,autoClogProps:P=void 0,maxListHeight:L=i.CK,shouldAllowUnselectInSingleSelectMode:F,shouldAllowUnselectInMultiSelectMode:x,stayExpandedAfterSelection:b,selectOptionsListRef:k}=this.props,{selectId:B}=O,W=this.state.optionsListBounds||{width:0,bottom:0,left:0},K=this.getPopoverPosition({top:W.top,bottom:W.bottom}),H=K==="top-left",z=((I=this.context.windowRef.deref())===null||I===void 0?void 0:I.innerWidth)||0;let Q=W.width;S&&W.width<S&&(Q=S);const q=W.left-u+Q;let $=0;S&&q>z&&($=S-W.width);const te=(H?W.top:(((M=this.context.windowRef.deref())===null||M===void 0?void 0:M.innerHeight)||0)-W.bottom)-p,ce=Math.min(te,L),me={...this.props,autoClogProps:P,width:Q+u*2,maxListHeight:ce,shouldAllowUnselectInSingleSelectMode:F,shouldAllowUnselectInMultiSelectMode:x,stayExpandedAfterSelection:b},{pageYOffset:_e}=this.context.windowRef.deref()||{},Ae={top:W.top+_e+g,bottom:W.bottom+_e-g,left:W.left-(u+$),width:Q};let ye;if(U){var oe;ye={height:(oe=this.context.windowRef.deref())===null||oe===void 0?void 0:oe.document.body.scrollHeight}}return t.createElement(s.A,h({elementType:m.ElementType.DROPDOWN,actionProps:d},P?{autoClogProps:P}:{}),t.createElement(r.AM,h({position:K,allowanceX:-u,ref:this.popover},D,{onClose:this.onClose,isOpen:!!O.isExpanded,key:`${B}-popover`,shouldFocusAfterRender:!1,targetBounds:Ae,ariaHideApp:!1,onOpen:R},typeof ye<"u"?{overlayStyle:ye}:{},{shouldPropagateOnClose:!0}),t.createElement(a.Ay,h({},me,{ref:(0,_.A)(this.optionsListRef,k)}))))}constructor(I){super(I),this.popover=t.createRef(),this.optionsListRef=t.createRef(),this.state={optionsListBounds:null},(0,l.v)(this,["measureOptionsListAndSetState","onClose"]),this.onResize=(0,o.A)(this.measureOptionsListAndSetState,f,{maxWait:f}),this.onScroll=(0,o.A)(this.measureOptionsListAndSetState,v,{maxWait:v}),this.listenerInstalled=null}},"SelectPopoverOptionsList");A.contextType=c._0,A.defaultProps={includePadding:!0,window},A.displayName="SelectPopoverOptionsList";const C=A},5185985254:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3134334389),n=e(166097325);function o(){return o=Object.assign||function(c){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(c[i]=a[i])}return c},o.apply(this,arguments)}E(o,"_extends");function s(c){let r=E(class extends t.Component{setSelectState(i,l){const m=i();m.selectedOptions&&!(0,n.A)(m.selectedOptions,this.selectedOptions)||m.selectedOption&&!(0,n.A)(m.selectedOption,this.selectedOption)?(this.props.setSelectState(()=>({...m,isExpanded:!1})),this.props.showConfirmDialog&&this.props.showConfirmDialog({onGo:()=>{this.props.setSelectState(i,l),this.selectedOptions=m.selectedOptions||this.selectedOptions,this.selectedOption=m.selectedOption||this.selectedOption}})):(this.props.setSelectState(i,l),this.selectedOptions=m.selectedOptions||this.selectedOptions,this.selectedOption=m.selectedOption||this.selectedOption)}render(){const{showConfirmDialog:i}=this.props,l=i?this.setSelectState:this.props.setSelectState;return t.createElement(c,o({},this.props,{setSelectState:l}))}constructor(i){super(i),this.setSelectState=this.setSelectState.bind(this),this.selectedOptions=i.selectedOptions,this.selectedOption=i.selectedOption}},"ConfirmSelectWrapper");return r.defaultProps={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0},r.displayName="ConfirmSelectWrapper",r}E(s,"withConfirm")},2742076544:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(3134334389),n=e(166097325),o=e(9113979368),s=e(7715417323),c=e(9268023148),r=e(337319621);function a(){return a=Object.assign||function(m){for(var _=1;_<arguments.length;_++){var h=arguments[_];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(m[d]=h[d])}return m},a.apply(this,arguments)}E(a,"_extends");const i=(0,r.Wo)();function l(m){let _=E(class extends t.Component{componentDidMount(){const{searchOnClick:d,disableSearchOnMount:f,expandOnFocus:v,minQueryLength:u}=this.props,{filterQuery:g}=this.state;if(!d&&!f||v){const p=!u||g&&g.length>=u;g!==void 0&&p&&this.search(g)}}componentDidUpdate(d){const{isInvalid:f,selectedOption:v,selectedOptions:u,isDisabled:g,minQueryLength:p}=this.props,A={};d.isInvalid!==f&&(A.isInvalid=f),d.isDisabled!==g&&(A.isDisabled=g),(0,n.A)(d.selectedOption,v)||(A.selectedOption=v),(0,n.A)(d.selectedOptions,u)||(A.selectedOptions=u),(0,n.A)(d.minQueryLength,p)||(A.minQueryLength=p),(0,o.A)(A)||this.setSelectState(()=>A)}componentWillUnmount(){var d;(d=this.searchAbortController)===null||d===void 0||d.abort()}setSelectState(d,f){const v=d();if(v.filterQuery!==void 0&&v.filterQuery!==this.state.filterQuery||v.searchOnClick){var u;(u=this.searchAbortController)===null||u===void 0||u.abort(),!this.state.minQueryLength||v.filterQuery&&v.filterQuery.length>=this.state.minQueryLength?(this.setState(()=>({isLoading:!0,searchOnClick:!1})),this.search(v.filterQuery)):this.setState(()=>({isLoading:!1,options:[]}))}this.setState(()=>v,f)}search(d){const{search:f,onSearch:v=s.A,onSearchError:u=s.A,selectId:g,processOptions:p=E(C=>Promise.resolve(C),"processOptions")}=this.props;v(d),this.searchAbortController=new AbortController;const A=this.searchAbortController.signal;f(d,{abortSignal:A}).then(C=>{A.aborted||p(C,d).then(T=>{this.setSelectState(()=>({options:T})),this.setState(()=>({isLoading:!1}))})}).catch(C=>{A.aborted||(this.setState(()=>({isLoading:!1})),i.error(`Error when searching for select id: ${g}, error: ${C}`),u(C))})}render(){const d=this.props.inputRef||this.inputRef;return t.createElement(m,a({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:d,isLoading:this.state.isLoading}))}constructor(d){super(d),this.inputRef=t.createRef(),this.setSelectState=this.setSelectState.bind(this),this.state={filterQuery:"",displayQuery:"",options:[],isExpanded:d.isExpanded,expandOnFocus:d.expandOnFocus,selectId:d.selectId,selectedOptions:d.selectedOptions||[],selectedOption:d.selectedOption||null,isRequired:d.isRequired,isLoading:!1,isDisabled:d.isDisabled,isInvalid:d.isInvalid,searchOnClick:d.searchOnClick,minQueryLength:d.minQueryLength,shouldRefocusInputAfterSelection:d.shouldRefocusInputAfterSelection},this.search=(0,c.A)(this.search,d.debounceWaitPeriod)}},"CustomSearchWrapper");return _.defaultProps={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,expandOnFocus:!1,isDisabled:!1,isInvalid:!1,debounceWaitPeriod:50,minQueryLength:0,onSearch:s.A,onSearchError:s.A,searchOnClick:!1,disableSearchOnMount:!1,processOptions:h=>Promise.resolve(h),shouldAllowUnselectInMultiSelectMode:!1,disableIdParsing:!1,autoClogProps:void 0},_.displayName="CustomSearchWrapper",_}E(l,"withCustomSearch")},2602118042:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(5846524816);function o(){return o=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(a[m]=l[m])}return a},o.apply(this,arguments)}E(o,"_extends");const s={textSelectLabel:void 0,minOptionsListWidth:null,ariaLabel:""};function c(a){return t.createElement(n.A,o({},a,{textSelect:!0}))}E(c,"TextSelect"),c.displayName="TextSelect",c.defaultProps=s;const r=c},1507416e3:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(7994832222);const n=E(o=>!o||!Array.isArray(o)?!1:o.some(s=>(0,t.hH)(s)),"__WEBPACK_DEFAULT_EXPORT__")},3650946343:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(9113979368),n=e(2101927269),o=e(2878685908),s=e(337319621);function c(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if((0,t.A)(r))return!1;const a=(0,n.A)(r,i=>(i&&!i.message&&(0,o.Cu)()&&(0,s.Wo)({label:"Invalid Error or Hint Object"}).error(`The following error or hint object is invalid: { id: ${i.id}, message: ${i.message}}`),i&&!!i.message));return!(0,t.A)(a)}E(c,"__WEBPACK_DEFAULT_EXPORT__")},2753496765:(N,y,e)=>{"use strict";e.d(y,{I:()=>a,t:()=>i});var t=e(3044566667);const n=[",","\uFF0C","\u3001",";","\uFF1B","|","\uFF5C","\\t","\\n","\\r"],o=new RegExp(`[${n}]`),s=new RegExp(`<(${t.gy})>`,"i"),c=new RegExp(`\\((${t.gy})\\)`,"i"),r=/(?=\s+[@\uFF20])/g;function a(l,m){let _=[];return m!=null&&m.entities&&(m!=null&&m.entities.members)&&typeof(m==null?void 0:m.entities.members)!="boolean"&&(m!=null&&m.entities.members.matchEmailField)&&(s.test(l)||c.test(l))?_=l.match(new RegExp(t.tN.CONTAINS_EMAIL,"gi")):o.test(l)?_=l.split(o):m!=null&&m.fromMetadata?_=l.split(/\s+/):m!=null&&m.entities&&m.entities.members&&r.test(l)&&(_=l.split(r)),(!_||!_.length)&&(_=l.split(/\s+/)),_.map(h=>h.trim()).filter(h=>Boolean(h))}E(a,"defaultSplitQuery");function i(l,m){let _=l;if(m!=null&&m.entities&&(m!=null&&m.entities.members)&&typeof(m==null?void 0:m.entities.members)!="boolean"&&(m!=null&&m.entities.members.matchEmailField)&&t.tN.CONTAINS_EMAIL.test(l)){var h;_=(h=l.match(t.tN.CONTAINS_EMAIL))===null||h===void 0?void 0:h[0]}return _}E(i,"parseQueryForSearch")},7994832222:(N,y,e)=>{"use strict";e.d(y,{Cz:()=>n,gW:()=>o,hH:()=>s,iC:()=>t});function t(c){return!!(c!=null&&c.isLoading)}E(t,"isOptionLoading");function n(c){return!!(c!=null&&c.isUnknown)}E(n,"isOptionUnknown");function o(c){return!!(c!=null&&c.isError)}E(o,"isOptionError");function s(c){return t(c)||n(c)||o(c)}E(s,"isOptionUnresolved")},7772530643:(N,y,e)=>{"use strict";e.d(y,{k:()=>n});var t=e(4771630161);const n=E(function(o,s){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s.filterQuery===void 0?s:{...s,options:(0,t.A)(o,s.filterQuery,c)}},"defaultFilter")},1959847761:(N,y,e)=>{"use strict";e.d(y,{A:()=>o,e:()=>n.e});var t=e(1211063534),n=e(7001051039);const o=t.A},1211063534:(N,y,e)=>{"use strict";e.d(y,{A:()=>C});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(5950652755),c=e(7715417323),r=e(4426213732),a=e(8652526277),i=e(2843556239),l=e(8245211418),m=e(7001051039);function _(){return _=Object.assign||function(T){for(var I=1;I<arguments.length;I++){var M=arguments[I];for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(T[D]=M[D])}return T},_.apply(this,arguments)}E(_,"_extends");const h=1,d=10,f=10,v=2,u=12,g=50;let p=E(class extends t.PureComponent{componentDidMount(){if(this.state.isOpen){var I;(I=this.context.windowRef.deref())===null||I===void 0||I.document.addEventListener("mousemove",this.onMouseMove)}}static getDerivedStateFromProps(I,M){return I.isOpen!==M.passedIsOpen?{isOpen:I.isOpen,passedIsOpen:I.isOpen}:null}componentDidUpdate(I){if(I.isOpen!==this.props.isOpen)if(this.state.isOpen){var M;this.forceUpdate(),(M=this.context.windowRef.deref())===null||M===void 0||M.document.addEventListener("mousemove",this.onMouseMove)}else{var D;(D=this.context.windowRef.deref())===null||D===void 0||D.document.removeEventListener("mousemove",this.onMouseMove)}this.state.isOpen||(this.initialTriggerBounds=void 0)}componentWillUnmount(){var I;(I=this.context.windowRef.deref())===null||I===void 0||I.document.removeEventListener("mousemove",this.onMouseMove)}onMouseMove(I){const M={x:I.clientX-I.movementX,y:I.clientY-I.movementY},D={x:I.clientX,y:I.clientY},O=this.mouseProgressingTowardsSubmenu(M,D);if(O!==this.state.mouseProgressingTowardsSubmenu){if(O){var S,R;(R=(S=this.props).preventHighlightChange)===null||R===void 0||R.call(S)}else if(!this.state.highlightChangePrevented){var U,P;(P=(U=this.props).allowHighlightChange)===null||P===void 0||P.call(U)}}this.setState(()=>({mouseProgressingTowardsSubmenu:O}))}onSubmenuItemSelected(I,M){var D,O;(O=(D=this.props).menuCallback)===null||O===void 0||O.call(D,this.props.menuCallbackId||0,M)}getContentBounds(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():void 0}getSubmenuContainerStyle(){const I=this.getContentBounds(),M=this.getTriggerBounds(),D={...this.props.submenuStyle},O=this.context.windowRef.deref();if((I==null?void 0:I.width)===void 0||(M==null?void 0:M.left)===void 0||!O)return D;const S=M.right+I.width>O.innerWidth,R=M.left>I.width,U=this.props.forceLeft||S&&R;S&&!R?D.left=O.innerWidth-I.width-d:U?D.left=M.left-I.width+v:D.left=M.right-v;const L=M.top-u,F=L+I.height>O.innerHeight-f;return D.top=F?O.innerHeight-f-I.height:L,D}getTriggerBounds(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||void 0}setSubmenuRef(I){this.submenuContainer=I}setTriggerRef(I){this.trigger=I}allowHighlightChange(){this.setState(I=>({...I,highlightChangePrevented:!1}))}closeSubmenu(){var I,M;(M=(I=this.props).returnKBNav)===null||M===void 0||M.call(I),this.setState(()=>({isOpen:!1}),()=>{var D;(D=this.context.windowRef.deref())===null||D===void 0||D.document.removeEventListener("mousemove",this.onMouseMove)})}mouseProgressingTowardsSubmenu(I,M){const D=this.getContentBounds();if(!D)return!1;const{left:O,right:S,top:R,bottom:U}=D;if(M.x>=O&&M.x<=S&&M.y>=R&&M.y<=U)return!0;if(!I)return!1;const L=Math.abs(S-I.x)>Math.abs(O-I.x),F={x:L?O:S,y:R-h},x={x:L?O:S,y:U+h},b={x:L?I.x-h:I.x+h,y:I.y};return(0,a._i)(M,b,F,x)}preventHighlightChange(){this.setState(I=>({...I,highlightChangePrevented:!0}))}renderSubmenu(){if(!this.state.isOpen||this.props.disabled)return null;const I=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange,isSubmenu:!0}),M=this.getSubmenuContainerStyle(),D=o()("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return t.createElement("div",{role:"presentation",className:D,ref:this.setSubmenuRef,style:M,"data-qa":"submenu_container"},I)}render(){const{menuCallback:I,menuCallbackId:M,...D}=this.props;return t.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},t.createElement(l.A,_({},D,{withSubmenu:!0})),this.renderSubmenu())}constructor(I){super(I),this.state={isOpen:!1,passedIsOpen:!1,mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},(0,r.v)(this,["closeSubmenu","setSubmenuRef","setTriggerRef","onSubmenuItemSelected","preventHighlightChange","allowHighlightChange"]),this.onMouseMove=(0,s.A)(this.onMouseMove.bind(this),g)}},"Submenu");p.defaultProps={isOpen:!1,menuCallback:c.A,menuCallbackId:0,kbNavActive:!1,returnKBNav:c.A,preventHighlightChange:c.A,allowHighlightChange:c.A,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:void 0,disabled:!1,showFullCarat:!1,icon:null},p.contextType=i._0,p.displayName="Submenu";const A={Submenu:p,SUBMENU_OVERLAP:v,MENU_VERTICAL_MARGIN:u,ALLOWANCE_X:d,ALLOWANCE_Y:f},C=(0,m.A)(p)},7001051039:(N,y,e)=>{"use strict";e.d(y,{A:()=>s,e:()=>o});var t=e(1963690015);const n="_isSlackSubmenuItem";function o(c){return!!c&&c[n]===!0}E(o,"isSubmenu");function s(c){return c[n]=!0,c[t.KJ]=!0,c}E(s,"wrapSubmenu")},4525741652:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3134334389),n=e(4844578989),o=e.n(n);function s(){return s=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var l=arguments[i];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(a[m]=l[m])}return a},s.apply(this,arguments)}E(s,"_extends");const r=(0,t.forwardRef)((a,i)=>{let{tabContent:l,fullHeight:m,className:_,role:h="tabpanel",...d}=a;const f=o()(_,"c-tabs__tab_panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":m});return t.createElement("div",s({role:h,className:f,"data-qa":"tabs_content_container",ref:i},d),l)})},6130762911:(N,y,e)=>{"use strict";e.d(y,{T:()=>o});var t=e(3134334389);const n={isSelected:!1,hasMouseHover:!1,hasKeyboardFocus:!1,isUserAttentionOnTab:!1},o=(0,t.createContext)(n)},4986936311:(N,y,e)=>{"use strict";e.d(y,{A:()=>D});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(8628145494),c=e(9268023148),r=e(2830068825),a=e(1979293697);function i(O){return/\.(jpe?g|png|gif|bmp)$/i.test(O)}E(i,"hasImageExtention");const l=i;var m=e(4980558152),_=e(7323656146),h=e(9332393661),d=e(6084388622),f=e(1610251172),v=e(8683010724),u=e(6130762911),g=e(7957736395),p=e(4452574402);function A(){return A=Object.assign||function(O){for(var S=1;S<arguments.length;S++){var R=arguments[S];for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&(O[U]=R[U])}return O},A.apply(this,arguments)}E(A,"_extends");const C=E(O=>{let{icon:S,svgIcon:R,customIcon:U,className:P}=O;return t.createElement("div",{className:P,"data-qa":"tabs_item_render_icon"},!U&&S&&!R&&t.createElement(f.A,{type:S,size:"inherit",inline:!0}),!U&&R&&!S&&t.createElement(v.A,A({},R)),U&&U)},"TabsItemIcon");C.displayName="TabsItemIcon";const T=E(O=>O>=1e4?(0,g.$k)(O,{precision:4,decimal_places:0,lowercase:!0}):(0,p.Ay)(O),"formatNumber"),I=E(O=>{let{shouldFormatCount:S,titleCount:R,maxTitleCount:U}=O;if(!R)return R;const P=U&&R>U;let L=P?U:R;return S&&(L=T(L)),P?`${L}+`:L},"formatCount"),M=(0,t.forwardRef)((O,S)=>{let{label:R,onClick:U,title:P,isSelected:L,isFocused:F,focusOnMount:x,fullWidth:b,titleCount:k,maxTitleCount:B,icon:W,svgIcon:K,customIcon:H,formatCount:z,isLoading:Q,isCountLoading:q,isDisabled:$,iconPosition:le="right",className:te="",contextMenuAriaLabel:ce,contextMenuTemplate:me,ariaRole:_e="tab",ariaHaspopup:Ae=!1,...ye}=O;const oe=(0,r.A)(S),[ee,V]=(0,t.useState)(!1),w=(0,t.useContext)(_.A),Y=o()(te,"c-tabs__tab","js-tab",{"c-tabs__tab--active":L,"c-tabs__tab--full_width":b}),G=R||P,Z=typeof G=="string"&&l(G)?t.createElement(h.A,{classes:"c-tabs__tab_image",image:G,ariaHidden:!0}):G,se=ye.id,ae=(0,t.useCallback)(be=>{U&&U(se,be)},[se,U]),re=I({shouldFormatCount:z,titleCount:k,maxTitleCount:B}),pe=(0,s.A)(F)?L:F,de=(0,a.A)(pe);(0,t.useEffect)(()=>{if(!pe)return;const be=(0,s.A)(de);if(be&&x||!be&&!de){var Ke;(Ke=oe.current)===null||Ke===void 0||Ke.focus()}},[pe,de,x,oe]);const ie=(0,t.useCallback)(()=>me,[me]),he=(0,c.A)(()=>V(!0),25),ve=(0,c.A)(()=>V(!1),25),ge=(0,t.useCallback)(()=>{ve.cancel(),he()},[he,ve]),ke=(0,t.useCallback)(()=>{he.cancel(),ve()},[he,ve]),Ne=w&&(F??!1),We=(0,t.useMemo)(()=>({isSelected:L??!1,hasMouseHover:ee,hasKeyboardFocus:Ne,isUserAttentionOnTab:L||ee||Ne}),[Ne,ee,L]);let Oe=t.createElement(d.Nm,A({},ye,{onClick:ae,onMouseOver:ge,onMouseOut:ke,role:_e,className:Y,"aria-haspopup":Ae,tabIndex:pe?0:-1,disabled:$,ref:oe},_e!=="button"?{"aria-selected":L}:{}),Q?t.createElement("span",{className:"c-tabs__tab_placeholder","data-qa":"tabs_item_placeholder"}):t.createElement(t.Fragment,null,(!!W||!!K||!!H)&&le==="left"&&t.createElement(C,{icon:W,svgIcon:K,customIcon:H,className:"c-tabs__tab_icon--left"}),t.createElement("span",{className:"c-tabs__tab_content"},Z),Number.isFinite(k)&&t.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},re),q&&t.createElement("span",{className:"c-tabs__tab_count_placeholder","data-qa":"tabs_item_render_count_placeholder"}),(!!W||!!K||!!H)&&le==="right"&&t.createElement(C,{icon:W,svgIcon:K,customIcon:H,className:"c-tabs__tab_icon--right"})));return me&&(Oe=t.createElement(m.A,{getTemplate:ie,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",menuAriaLabel:ce},Oe)),t.createElement(u.T.Provider,{value:We},Oe)});M.displayName="TabsItem";const D=M},2293211408:(N,y,e)=>{"use strict";e.d(y,{A:()=>$});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(3078252698);const a=E(le=>(0,c.A)(le),"isReactNodeAString");var i=e(4426213732),l=e(2790183459),m=e(2878685908),_=e(3527550343),h=e(4118237431),d=e(3514831633),f=e(8773153312),v=e(8683010724),u=e(4986936311),g=e(2312625946);const p={name:"ellipsis-horizontal-filled"},C=(0,t.forwardRef)((le,te)=>{let{renderMenu:ce,position:me,label:_e,id:Ae,isSelected:ye,isFocused:oe}=le;return t.createElement(d.cQ,{renderMenu:ce,position:me||"bottom-left"},t.createElement(g.Ay,{tip:_e,position:"top",offsetY:6},t.createElement(u.A,{id:Ae,"aria-label":_e,isSelected:ye,isFocused:oe,className:"c-tabs__tab_overflow",svgIcon:p,ref:te})))});var T=e(5238395322);const I=53,M=27;function D(le){const te=le.ownerDocument.defaultView;if(!te)return le.offsetWidth;const ce=te.getComputedStyle(le),me=parseFloat(ce.getPropertyValue("margin-left"))+parseFloat(ce.getPropertyValue("margin-right"));return le.offsetWidth+me}E(D,"getWidth");function O(le){const te=le.ownerDocument.defaultView;if(!te)return le.offsetHeight;const ce=te.getComputedStyle(le),me=parseFloat(ce.getPropertyValue("margin-top"))+parseFloat(ce.getPropertyValue("margin-bottom"));return le.offsetHeight+me}E(O,"getHeight");const S=E((le,te)=>{let{outerElement:ce,innerElement:me,threshold:_e,totalTabsLength:Ae,childElements:ye,containerSize:oe,isHorizontal:ee}=le;if(!ce||!me||!ye||Ae===0)return;const V=oe-_e,w=ee?D:O,Y=Array.from(ye).map(re=>w(re));if((0,T.A)(Y)<V&&Y.length===Ae){te(Ae);return}let Z=ee?I:M,se=V,ae=0;Y.forEach(re=>{Z<V&&re<=se&&(ae+=1),Z+=re,se-=re}),te(ae)},"recalculateVisibleTabs");var R=e(4525741652),U=e(5803478215),P=e(9432515904),L=e(8668318456),F=e(337319621),x=e(6471059816);function b(){return b=Object.assign||function(le){for(var te=1;te<arguments.length;te++){var ce=arguments[te];for(var me in ce)Object.prototype.hasOwnProperty.call(ce,me)&&(le[me]=ce[me])}return le},b.apply(this,arguments)}E(b,"_extends");const k=new x.Ay("slack-kit"),B=85,W=52,K=["ArrowLeft"],H=["ArrowRight"],z=K.concat("ArrowUp"),Q=H.concat("ArrowDown");let q=E(class extends t.PureComponent{setVisibleTabs(te){this.setState(()=>({numOfVisibleTabsShown:te}))}onResize(){var te,ce,me,_e,Ae,ye,oe,ee,V,w;const Y=this.props.orientation===P.t4.Horizontal,G=Y?(te=this.tabsContainerRef)===null||te===void 0||(ce=te.current)===null||ce===void 0?void 0:ce.clientWidth:(me=this.tabsContainerRef)===null||me===void 0||(_e=me.current)===null||_e===void 0?void 0:_e.clientHeight;if(!G)return;const Z=Y?B:W,se={outerElement:(Ae=this.tabsContainerRef)===null||Ae===void 0||(ye=Ae.current)===null||ye===void 0?void 0:ye.getBoundingClientRect(),innerElement:(oe=this.lastVisibleTabRef)===null||oe===void 0||(ee=oe.current)===null||ee===void 0?void 0:ee.getBoundingClientRect(),totalTabsLength:this.props.tabs.length,numOfVisibleTabsShown:this.state.numOfVisibleTabsShown,childElements:(V=this.tabsContainerRef)===null||V===void 0||(w=V.current)===null||w===void 0?void 0:w.children};S({...se,threshold:Z,containerSize:G,isHorizontal:Y},this.setVisibleTabs),this.setState(()=>({isResizeCalculationCompleted:!0}),()=>{var ae,re;return(re=(ae=this.props).onTabsResized)===null||re===void 0?void 0:re.call(ae)})}componentDidMount(){this._isMounted=!0;const{maxSize:te}=this.props;if(te&&!this.resizeListener){var ce;this.resizeListener=(0,h.A)(this.onResize),this.resizeListener.observe((ce=this.tabsContainerRef)===null||ce===void 0?void 0:ce.current)}}componentDidUpdate(te,ce){var me;const{defaultTabId:_e,tabs:Ae,currentTabId:ye,manualTabActivation:oe}=this.props,{numOfVisibleTabsShown:ee,selectedTabId:V}=this.state;var w;((w=(me=te.tabs)===null||me===void 0?void 0:me.length)!==null&&w!==void 0?w:0)!==Ae.length&&this.updateSelectedTab(),te.currentTabId!==ye&&this.updateSelectedTab(),_e!==te.defaultTabId&&_e&&this.selectTab(_e,void 0);const Y=ce.numOfVisibleTabsShown!==ee,G=ce.selectedTabId!==V&&!oe;(Y||G)&&this.updateFocusedTabIndex(),this.focusWhenVisible&&(this.focusWhenVisible=!1,this.focus())}componentWillUnmount(){if(this._isMounted=!1,this.resizeListener){var te;(te=this.resizeListener)===null||te===void 0||te.disconnect(),this.resizeListener=null}}onFocus(te){const{focusedTabIndex:ce}=this.state,me=this.getTabIndexById(te.target.id);if(me===-1)return;me!==ce&&this.focusTab(me);const{onFocus:_e}=this.props;_e==null||_e(te)}onBlur(te){const{onBlur:ce}=this.props;ce==null||ce(te)}onKeyDown(te){const ce=te.key;if(te.shiftKey||te.metaKey||te.ctrlKey||te.altKey)return;const _e=this.props.orientation==="vertical",Ae=_e?Q:H,ye=_e?z:K;if(!["Home","End"].concat(Ae,ye).includes(ce))return;const ee=Ae.includes(ce),V=ye.includes(ce);te.preventDefault(),ee&&this.onNextArrow(te),V&&this.onPreviousArrow(te),ce==="Home"&&this.onHome(te),ce==="End"&&this.onEnd(te)}isSelectedTabVisible(){return this.getVisibleTabIds().includes(this.state.selectedTabId)}getHiddenTabs(){const{tabs:te}=this.props,{numOfVisibleTabsShown:ce}=this.state;return te.slice(ce,te.length)}getVisibleTabs(){var te,ce;const{tabs:me,maxSize:_e}=this.props;if(!!!_e)return me;const ye=((te=this)===null||te===void 0||(ce=te.state)===null||ce===void 0?void 0:ce.numOfVisibleTabsShown)||me.length;return me.length===ye?me:me.slice(0,ye).concat({id:this.overflowTabId})}getVisibleTabIds(){return this.getVisibleTabs().map(te=>{let{id:ce}=te;return ce})}getTabById(te){var ce;return(ce=this.props.tabs)===null||ce===void 0?void 0:ce.find(me=>me.id===te)}getTabIndexById(te){return this.getVisibleTabIds().indexOf(te)}onHome(te){if(this.state.focusedTabIndex===0)return;const{onTabWillChange:ce,manualTabActivation:me,onTabChange:_e}=this.props,Ae=this.getVisibleTabIds(),ye=0;if(this.focusTab(ye),me)return;const oe=Ae[ye];oe!==this.overflowTabId&&(ce==null?void 0:ce(oe))!==!1&&this.setState(()=>({selectedTabId:oe}),()=>{_e==null||_e(oe,te)})}onEnd(te){const ce=this.getVisibleTabIds(),me=ce.length-1;if(this.state.focusedTabIndex===me)return;const{onTabWillChange:_e,manualTabActivation:Ae,onTabChange:ye}=this.props;if(this.focusTab(me),Ae)return;const oe=ce[me];oe!==this.overflowTabId&&(_e==null?void 0:_e(oe))!==!1&&this.setState(()=>({selectedTabId:oe}),()=>ye==null?void 0:ye(oe,te))}onNextArrow(te){const{onTabWillChange:ce,manualTabActivation:me,onTabChange:_e}=this.props,Ae=this.getVisibleTabIds(),ye=this.getTabIndexById(te.target.id),oe=ye>=Ae.length-1?0:ye+1;if(this.focusTab(oe),me)return;const ee=Ae[oe];ee!==this.overflowTabId&&(ce==null?void 0:ce(ee))!==!1&&this.setState(()=>({selectedTabId:ee}),()=>_e==null?void 0:_e(ee,te))}onPreviousArrow(te){const{onTabWillChange:ce,manualTabActivation:me,onTabChange:_e}=this.props,Ae=this.getVisibleTabIds(),ye=this.getTabIndexById(te.target.id),oe=ye===0?Ae.length-1:ye-1;if(this.focusTab(oe),me)return;const ee=Ae[oe];ee!==this.overflowTabId&&(ce==null?void 0:ce(ee))!==!1&&this.setState(()=>({selectedTabId:ee}),()=>_e==null?void 0:_e(ee,te))}getNextTabId(){const{defaultTabId:te,tabs:ce,currentTabId:me}=this.props,_e=te?this.getTabIndexById(te):void 0,Ae=me?this.getTabIndexById(me):void 0;return me&&Ae?me:te&&_e?te:ce[0].id}activePanelTabId(){return this.props.currentTabId||this.state.selectedTabId}updateSelectedTab(){if(!this._isMounted||!this.props.tabs.length)return;const te=this.getNextTabId();te!==this.state.selectedTabId&&this.setState(()=>({selectedTabId:te}))}focus(){if(this.isHidden)return this.focusWhenVisible=!0,!1;this.focusWhenVisible=!1;const{current:te}=this.selectedTabRef;if(te)return te.focus(),!0;const ce=this.activePanelTabId(),me=this.getTabIndexById(ce);return this.focusTab(me!==-1?me:0),!0}focusTab(te){this.setState(()=>({focusedTabIndex:te}))}selectTab(te,ce){const{onTabWillChange:me,onTabChange:_e}=this.props,Ae=this.getTabById(te);if(!Ae)return null;if((me==null?void 0:me(te))!==!1){if(Ae.isExternalLink){var ye;return(ye=Ae.onClick)===null||ye===void 0?void 0:ye.call(Ae,te,ce)}return this.setState(()=>({selectedTabId:te}),()=>{if(_e==null||_e(te,ce),this.props.focusOnFirstFocusableChildOnChange){const oe=this.panelRef&&this.panelRef.current,ee=(0,_.Fp)(oe);ee==null||ee.focus()}}),null}}updateFocusedTabIndex(){const te=this.isSelectedTabVisible()?this.state.selectedTabId:this.overflowTabId;this.setState(()=>({focusedTabIndex:this.getVisibleTabIds().indexOf(te)}))}onTabClick(te,ce){var me;const _e=this.getTabById(te);_e&&(_e.isExternalLink||this.selectTab(_e.id,ce),_e==null||(me=_e.onClick)===null||me===void 0||me.call(_e,_e.id,ce))}get isHidden(){return!!this.props.maxSize&&!this.state.isResizeCalculationCompleted}renderOverflowTabLabel(te){const ce=k.t("More\u2026",{fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"});if(this.isSelectedTabVisible())return ce;const me=this.getTabById(te);if(!me)return ce;const _e=me["aria-label"]||me.label||me.title;return!_e||!a(_e)?ce:k.t("More: {selectedTabLabel}",{selectedTabLabel:_e,fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"})}renderTabsItem(te,ce){const{tabs:me,fullWidthMenu:_e,orientation:Ae,iconPosition:ye,focusOnMount:oe}=this.props,{focusedTabIndex:ee,selectedTabId:V}=this.state,w=ee===ce,Y=this.getTabIndexById(V)===ce?this.selectedTabRef:void 0,G=te.autoClogProps?{...this.autoClogProps,...te.autoClogProps,elementType:L.ElementType.TAB}:this.autoClogProps,Z=ce===me.length-1?this.lastVisibleTabRef:void 0,se=Z?(0,l.A)(Y,Z):Y,re=this.activePanelTabId()===te.id;return te.id===this.overflowTabId?t.createElement(C,{renderMenu:this.renderOverflowMenu,position:"bottom-left",label:this.renderOverflowTabLabel(V),isSelected:!this.isSelectedTabVisible(),isFocused:w,ref:se,id:te.id,key:te.id}):t.createElement(u.A,{key:te.id,id:te.id,icon:te.icon,svgIcon:te.svgIcon,customIcon:te.customIcon,label:te.label||te.title,onClick:this.onTabClick,autoClogProps:G,isSelected:re,isFocused:w,focusOnMount:oe,isDisabled:te.isDisabled,fullWidth:_e||Ae==="vertical",titleCount:te.titleCount,maxTitleCount:te.maxTitleCount,"aria-label":te["aria-label"],"aria-describedby":te["aria-describedby"],"data-qa":te["data-qa"]||"tabs_item","aria-haspopup":te["aria-haspopup"],ref:se,formatCount:this.props.formatCount,isLoading:te.isLoading,isCountLoading:te.isCountLoading,iconPosition:ye,className:te.className,contextMenuAriaLabel:te.contextMenuAriaLabel,contextMenuTemplate:te.contextMenuTemplate})}renderTabsItems(){return this.getVisibleTabs().map((ce,me)=>{typeof ce.label!="string"&&!t.isValidElement(ce.label)&&typeof ce.title!="string"&&!t.isValidElement(ce.title)&&!ce["aria-label"]&&((0,m.Cu)()||(0,m.b3)())&&(0,F.Wo)().error("Tabs requires either a label of type string, or an aria-label.");const _e=this.renderTabsItem(ce,me);return ce.renderWrapper?t.createElement(t.Fragment,{key:ce.id},ce.renderWrapper(_e)):_e})}renderOverflowMenu(te){var ce;const{selectedTabId:me}=this.state,_e=(ce=this.getHiddenTabs())===null||ce===void 0?void 0:ce.map(Ae=>({label:Ae.label||Ae.title,id:Ae.id,click:ye=>this.onTabClick(Ae.id,ye),key:Ae.id,type:f.A.radio,checked:Ae.id===me,icon:Ae.svgIcon?t.createElement(v.A,b({size:"18"},Ae.svgIcon)):null,className:"c-tabs__tab_overflow_menu_item"}));return t.createElement(d.a,b({width:"200px"},te,{template:_e}))}renderTabPanelLabel(te){const ce=this.getTabById(te);if(!ce)return;const me=ce["aria-label"]||ce.label||ce.title;if(a(me))return me}render(){var te;const{fullHeight:ce,fullWidthMenu:me,className:_e,orientation:Ae,tabMenuClassnames:ye,tabPanelClassnames:oe,ariaLabel:ee,maxSize:V}=this.props,w=this.activePanelTabId();var Y;const G=(Y=(te=this.getTabById(w))===null||te===void 0?void 0:te.content)!==null&&Y!==void 0?Y:"",Z=o()(_e,{"c-tabs__tab_container--full_height":ce,"c-tabs__tab_container--vertical":Ae==="vertical","c-tabs__tab_menu--overflow_ellipsis":!!V}),se=o()(ye,"c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":me,"c-tabs__tab_menu--vertical":Ae==="vertical","c-tabs__tab_menu--hidden":this.isHidden}),ae=o()(oe,{"c-tabs__tab_panel--vertical":Ae==="vertical"});return t.createElement("div",{className:Z,"data-qa":"tabs_full_height_class"},t.createElement("div",{role:"tablist",className:se,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,"aria-orientation":Ae,"aria-label":ee,ref:this.tabsContainerRef},this.renderTabsItems()),G&&t.createElement(R.A,{tabContent:G,fullHeight:ce,ref:this.panelRef,className:ae,"aria-label":this.renderTabPanelLabel(w)}))}constructor(te){var ce;super(te),(0,i.v)(this,["onKeyDown","onFocus","onBlur","onTabClick","onResize","renderOverflowMenu","setVisibleTabs"]),this.selectedTabRef=t.createRef(),this.panelRef=t.createRef(),this.tabsContainerRef=t.createRef(),this.lastVisibleTabRef=t.createRef(),this.resizeListener=null,this._isMounted=!1,this.focusWhenVisible=!1,te.autoClogProps&&(this.autoClogProps={...te.autoClogProps,elementType:L.ElementType.TAB});const me=te.currentTabId||te.defaultTabId||((ce=te.tabs[0])===null||ce===void 0?void 0:ce.id),_e=this.getTabIndexById(me);this.state={selectedTabId:me,focusedTabIndex:_e!==-1?_e:0,numOfVisibleTabsShown:this.getVisibleTabs().length,isResizeCalculationCompleted:!1},this.overflowTabId=`sk-overflow-tab-${(0,U.A)()}`}},"Tabs");q.defaultProps={onTabChange:s.A,orientation:"horizontal",iconPosition:"right",manualTabActivation:!1,focusOnFirstFocusableChildOnChange:!0},q.displayName="Tabs";const $=q},2755566931:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>s,N9:()=>o.A,Qg:()=>n.A});var t=e(4275787242),n=e(2123783665),o=e(9837834156);const s=t.A},2123783665:(N,y,e)=>{"use strict";e.d(y,{A:()=>l,u:()=>i});var t=e(3134334389),n=e(7323656146),o=e(6084388622),s=e(7004400363),c=e(5733135148),r=e(6471059816);const a=new r.Ay("toast");var i;(function(m){m.Error="Error",m.Information="Information",m.Warning="Warning"})(i||(i={}));const l=(0,t.forwardRef)((m,_)=>{let{children:h,duration:d=6e3,buttonText:f,buttonType:v=s.Q.outline,buttonIcon:u,onButtonClick:g,type:p,svgIconProps:A,toastClasses:C,offsetY:T,onCloseComplete:I,shouldSkipToastDismissal:M,svgIconClassName:D,closeButtonClasses:O,customButton:S,forceFocusAfterRender:R=!1}=m;const U=(0,t.useContext)(n.A),P={[i.Error]:a.t("Error"),[i.Information]:a.t("Information"),[i.Warning]:a.t("Warning")},L=p&&P[p];return t.createElement(c.Ay,{forceFocusAfterRender:U||R,fadeDelay:d,role:"dialog","aria-label":L,shouldSkipToastDismissal:M,svgIconClassName:D,svgIconProps:A,toastClasses:C,offsetY:T,onCloseComplete:I,closeButtonClasses:O,ref:_},t.createElement("div",null,h),S||t.createElement(o.Ay,{type:v,icon:u,onClick:g,size:"small"},f))})},9837834156:(N,y,e)=>{"use strict";e.d(y,{A:()=>h});var t=e(3134334389),n=e(2843556239),o=e(4348392507),s=e(7937864072),c=e(8847766420),r=e(9506008067),a=e(1690110981),i=e(1026029255),l=e(3193155968);const m="TOAST",_=t.memo(d=>{const f=(0,r.d4)(c.JY),v=(0,s.A)(),{windowId:u=l.N2}=(0,t.useContext)(n._0);var g;const p=(g=d.windowId)!==null&&g!==void 0?g:u,A=(0,r.d4)(I=>(0,i.HL)(I,p)),C=(0,r.d4)((0,t.useCallback)(I=>(0,i.Ly)(I,p),[p])),T=(0,t.useMemo)(()=>(0,i.c8)(f,p),[f,p]);return(0,t.useEffect)(()=>(a.lv[T]&&v.error(m,"ToastContainer already mounted -- should only be one instance at a time"),a.lv[T]=!0,()=>{delete a.lv[T]}),[T,v]),C?t.cloneElement(C,{key:A}):null});_.displayName="ToastContainer";const h=(0,o.A)(_)},4275787242:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3134334389),n=e(3708320478),o=e(5733135148);const s=E(c=>{let{children:r,duration:a,svgIconProps:i,toastClasses:l,position:m,offsetX:_,offsetY:h,showCloseButton:d,onCloseComplete:f,shouldAutoFade:v,shouldSkipToastDismissal:u,closeButtonClasses:g,svgIconClassName:p,announceContentAsAssertive:A}=c;return t.createElement(o.Ay,{fadeDelay:a,svgIconClassName:p,svgIconProps:i,toastClasses:l,offsetX:_,offsetY:h,position:m,showCloseButton:d,onCloseComplete:f,shouldAutoFade:v,shouldSkipToastDismissal:u,closeButtonClasses:g},t.createElement(n.z,{assertive:A},r))},"Toast");s.displayName="Toast",s.defaultProps={duration:6e3}},561151542:(N,y,e)=>{"use strict";e.d(y,{A:()=>H});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(2768501508),r=e(7563272258),a=e(6228854066),i=e(7905172576),l=e(276274568),m=e(5537045526),_=e(126225536),h=e(1030162945),d=e(7969928607),f=e(1407713935),v=e(4559887502),u=e(8798294025),g=e(6839188756),p=e(6308822),A=e(1610251172),C=e(5841673352),T=e(8683010724),I=e(2312625946),M=e(2809903252),D=e(82287009),O=e(8040098042),S=e(6112179660),R=e(497761763),U=e(4327331459),P=e(7679173189),L=e(4862221402),F=e(9391594207),x=e(2235302340),b=e(9101533895),k=e(1670069836);function B(){return B=Object.assign||function(z){for(var Q=1;Q<arguments.length;Q++){var q=arguments[Q];for(var $ in q)Object.prototype.hasOwnProperty.call(q,$)&&(z[$]=q[$])}return z},B.apply(this,arguments)}E(B,"_extends");let W=E(class extends t.Component{renderChannelToken(Q){const{channel:q,showMemberCounts:$,isSelected:le,channelHasNonUniqueName:te}=this.props;let ce;return(0,f.LI)(q)?ce=t.createElement(a.Ay,{id:(0,u.e)(q),className:"c-token_channel"}):(0,f.yz)(q)?ce=t.createElement(i.A,{mpim:q,className:"c-token_channel",isActive:le}):ce=t.createElement(c.A,{channel:q,className:"c-token_channel",displayFormerNames:!1,showFilledIcon:!0,showMemberCounts:$,showTeamForLocalChannel:te}),t.createElement("span",{className:Q,"data-qa":"token_channel"},ce)}renderContent(){const{isLoading:Q,isUnknown:q,isError:$,isMemberError:le,isTeamError:te,isInvalid:ce,channel:me,memberId:_e,teamName:Ae,userGroupId:ye,channelSection:oe,contentInnerClassName:ee,emailTeam:V,fileId:w}=this.props;let Y=o()("c-token_content__inner",ee);return Q&&!ce?(Y+=" c-token_content__inner--loading",this.renderLoadingToken(Y)):q?(Y+=" c-token_content__inner--unknown",this.renderUnknownToken(Y)):$?(Y+=" c-token_content__inner--error",this.renderErrorToken(Y)):V?(Y+=" c-token_content__inner--email_with_team_icon",this.renderEmailTokenWithTeamIcon(Y)):_e&&le?(Y+=" c-token_content__inner--error",this.renderMemberErrorToken(Y)):_e?(Y+=" c-token_content__inner--member",this.renderMemberToken()):me?this.renderChannelToken(Y):Ae&&te?(Y+=" c-token_content__inner--error",this.renderTeamErrorToken(Y)):Ae?(Y+=" c-token_content__inner--team",this.renderTeamToken(Y)):oe?(Y+=" c-token_content__inner--channel_section",this.renderChannelSectionToken(Y)):ye?(Y+=" c-token_content__inner--usergroup",this.renderUserGroupToken(Y)):w?this.renderFileToken():this.renderPlainToken(Y)}renderErrorToken(Q){const{label:q}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__error_icon_container"},t.createElement(T.A,{size:"18",name:"warning","data-qa":"token_error_icon"})),t.createElement("span",{className:o()(Q,"c-token_content__label"),"data-qa":"token_error"},t.createElement(d.A,{text:q,inputIsEscaped:!0,emojiSize:h.lw.MEDIUM})))}renderLoadingToken(Q){const{size:q,label:$}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__loading_icon_container"},t.createElement(p.A,B({},q?{size:q}:{},{"data-qa":"token_loading_icon"}))),t.createElement("span",{className:o()(Q,"c-token_content__label"),"data-qa":"token_loading"},$))}renderMemberToken(){const{forceRealName:Q,isDisabled:q,memberId:$,size:le,hasNoAccess:te,forceAvatarPresenceIndicator:ce}=this.props;return t.createElement(a.Ay,{id:$,isDeactivated:q,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:Q,showStatus:!1,className:"c-token--member c-token__avatar margin_right_25","data-qa":"token_member",tokenSize:le,hasNoAccess:te,forceAvatarPresenceIndicator:ce})}renderMemberErrorToken(Q){const{forceRealName:q,isDisabled:$,memberId:le,size:te}=this.props;return t.createElement(a.Ay,{id:le,isDeactivated:$,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:q,showStatus:!1,className:o()(Q,"c-token--member c-token__avatar"),"data-qa":"token_member",tokenSize:te})}renderFileToken(){const{fileId:Q}=this.props;return Q?t.createElement(r.A,{id:Q,className:"padding_left_25 padding_right_25"}):null}renderIcon(){const{icon:Q,svgIcon:q}=this.props;return q?t.createElement("span",{className:"c-token_content__icon"},t.createElement(T.A,B({"data-qa":"token_plain_icon",inline:!0,size:"inherit"},q))):Q?t.createElement(A.A,{"data-qa":"token_plain_icon",size:"inherit",className:"c-token_content__icon",type:Q,inline:!0}):null}renderPlainToken(Q){const{label:q}=this.props;return t.createElement("span",{className:Q},this.renderIcon(),t.createElement(M.A,{lines:1,withTooltip:!0},t.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},t.createElement(d.A,{text:q,inputIsEscaped:!0,emojiSize:h.lw.MEDIUM}))))}renderEmailTokenWithTeamIcon(Q){const{icon:q,label:$,emailTeam:le}=this.props;return t.createElement("span",{className:Q},q&&t.createElement(A.A,{"data-qa":"token_email_with_team_icon_icon",size:"inherit",className:"c-token_content__icon margin_right_50",type:q,inline:!0}),t.createElement("span",{className:"c-token_content__label margin_right_25","data-qa":"token_email_with_team_icon_content_label"},t.createElement(d.A,{text:$,inputIsEscaped:!0,emojiSize:h.lw.MEDIUM})),le&&t.createElement("span",{className:"c-member__secondary_content"},t.createElement(m.A,{team:le,"data-qa":"token_email_with_team_icon",size:a.Cg,className:"c-member__team_icon"})))}renderTeamToken(Q){const{teamId:q,teamName:$}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(m.A,{id:q,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),t.createElement("span",{className:o()(Q,"c-token_content__label"),"data-qa":"token_team_name"},$))}renderTeamErrorToken(Q){const{teamId:q,teamName:$}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(m.A,{id:q,size:26,className:"c-token__team_icon","data-qa":"token_team_icon_error"}),t.createElement("span",{className:o()(Q,"c-token_content__label"),"data-qa":"token_team_name_error"},$))}renderChannelSectionToken(Q){const{channelSection:q}=this.props;return q?t.createElement("span",{className:o()(Q,"c-token_content__label")},t.createElement(_.A,{channelSection:q})):null}renderUnknownToken(Q){const{label:q}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__unknown_icon_container"},t.createElement(T.A,{size:"18",name:"emoji-missing-filled","data-qa":"token_unknown_icon"})),t.createElement("span",{className:o()(Q,"c-token_content__label"),"data-qa":"token_unknown"},q))}renderUserGroupToken(Q){const{userGroupId:q}=this.props;return t.createElement(l.A,{id:q,showDescription:!1,className:o()(Q,"c-token_content__label")})}render(){const{isDisabled:Q,isInvalid:q,isError:$,memberId:le,isMemberError:te,isTeamError:ce,isUnknown:me,isLoading:_e,isSelected:Ae,size:ye,hoverText:oe,tabIndex:ee,contentEditable:V,className:w,onMouseDown:Y,enableProfileHoverCard:G,customizeProfileHoverCardProps:Z,isRestricted:se}=this.props,ae=o()("c-token",w,`c-token--${ye}`,{"c-token--selected":Ae,"c-token--disabled":Q,"c-token--invalid":q,"c-token--restricted":se,"c-token--error":$||te||ce,"c-token--unknown":me,"c-token--loading":_e}),re=this.renderContent();let pe=re;oe&&re?pe=t.createElement(I.Ay,{tip:oe},re):le&&G&&(pe=(0,D.yN)({...Z||{},memberId:le,children:re}));const de=this.props.renderIcon(this.props);return t.createElement("span",{className:ae,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"],tabIndex:ee,contentEditable:V,onMouseDown:Y},t.createElement("span",{className:"c-token__content","data-qa":"token_content"},pe),de)}},"Token");W.defaultProps={"data-qa":"select_token",isDisabled:!1,isInvalid:!1,isError:!1,isUnknown:!1,isLoading:!1,isSelected:!1,size:C.hu.MEDIUM,renderIcon:s.A,forceRealName:!1,contentEditable:!1,channelHasNonUniqueName:!1},W.displayName="Token";const K=E((z,Q)=>{const{entityId:q,disableIdParsing:$,allowFileToken:le}=Q;let te;(0,U.A)(q)&&!$&&(te=q);let ce,me;if(((0,P.Ay)(q)||(0,P.JV)(q))&&!$){const V=(0,k._J)(z,q);V&&(ce=q,me=(0,g.F1)(V))}let _e;(0,S.A)(q)&&!$&&(_e=(0,x.xe)(z,q));let Ae;(0,L.A)(q)&&!$&&(Ae=q);const ye=$?void 0:(0,b.OL)(z,q);let oe;if((0,O.A)(q)&&ye){const V=(0,b.MS)(z);oe=(0,v.i)(V,ye)}const ee=le&&(0,R.A)(q)?q:void 0;return{channel:ye,memberId:te,teamName:me,teamId:ce,userGroupId:Ae,channelSection:_e,channelHasNonUniqueName:oe,fileId:ee}},"mapStateToProps"),H=(0,F.N)(K,null)(W)},7889060196:(N,y,e)=>{"use strict";e.d(y,{A:()=>I,Q:()=>T});var t=e(3134334389),n=e(3078252698),o=e(8786006583),s=e(862210999),c=e(7715417323),r=e(8646591923),a=e(6882609392),i=e(4348392507),l=e(6052171436),m=e(6281592144),_=e(9839643733),h=e(2800152059),d=e(6396024562),f=e(6225228372),v=e(5716050560),u=e(4426213732),g=e(4094753332),p=e(168261570);function A(){return A=Object.assign||function(M){for(var D=1;D<arguments.length;D++){var O=arguments[D];for(var S in O)Object.prototype.hasOwnProperty.call(O,S)&&(M[S]=O[S])}return M},A.apply(this,arguments)}E(A,"_extends");const C=21;class T extends f.s{componentDidMount(){super.componentDidMount(),this.determineInitialActiveItem(),this.props.disableKeyboardShortcuts||this.bindKeyboardShortcuts(),this.props.focusOnMount&&this.focus()}componentWillUnmount(){super.componentWillUnmount(),this.unbindKeyboardShortcuts()}componentDidUpdate(D,O){super.componentDidUpdate(D,O);const{activeItem:S,onActiveItemChange:R,disableKeyboardShortcuts:U}=this.props,{activeItem:P,hasKeyboardFocus:L,itemWithVisibleContextMenu:F}=this.state;U&&!D.disableKeyboardShortcuts&&this.unbindKeyboardShortcuts(),!U&&D.disableKeyboardShortcuts&&this.bindKeyboardShortcuts();const x=O.activeItem&&P&&P!==O.activeItem;!this.isScrolling()&&!L&&this.determineInitialActiveItem(),S&&S!==D.activeItem&&(this.setActiveItem(S,!0),this.isItemInView(S)||this.scrollToKey(S)),x&&R(P),this.isScrolling()||this.updateFocusIfPreviouslyFocusedItemWasRemoved(D),!F&&O.itemWithVisibleContextMenu&&this.restoreFocusWhenContextMenuCloses&&(this.restoreFocusWhenContextMenuCloses=!1,this.focus()),this.focusOnNextUpdate&&(this.focusOnNextUpdate=!1,this.focus()),this.focusAfterScrollEnd&&!this.isScrolling()&&(this.focusAfterScrollEnd=!1,this.focus())}bindKeyboardShortcuts(){var D;if(this.keyCommands)return;const O=[{keys:["pageup"],handler:this.onKeyDownPageUp},{keys:["pagedown"],handler:this.onKeyDownPageDown},{keys:["home"],handler:this.onKeyDownHome,action:"keydown"},{keys:["end"],handler:this.onKeyDownEnd,action:"keydown"},{keys:["home"],handler:this.onKeyUpHome,action:"keyup"},{keys:["end"],handler:this.onKeyUpEnd,action:"keyup"},{keys:["up","down"],handler:this.onArrowKeyDown}],S=this.props.keyCommands?O.concat(this.props.keyCommands):O;var R;const U=(R=S==null?void 0:S.map(P=>{const L=P.filter;return{...P,filter:this.shouldIgnoreKeyboardShortcut.bind(this,L)}}))!==null&&R!==void 0?R:[];this.keyCommands=new a.A((D=this.props.windowRef.deref())===null||D===void 0?void 0:D.document),this.keyCommands.bindAll(U)}unbindKeyboardShortcuts(){this.keyCommands&&(this.keyCommands.reset(),this.keyCommands=null)}determineInitialActiveItem(){const{initialActiveItem:D,keysToExcludeFromRovingTabIndex:O}=this.props,{initialActiveItem:S}=this.state,R=this.getFocusableItemsInView().filter(L=>!O.includes(L));if(R.length===0)return;const U=(0,n.A)(S)&&R.includes(S),P=(0,n.A)(D)&&R.includes(D);if(!P&&!U){this.setInitialActiveItemToFirstItemInView();return}P&&!U&&this.setState(L=>L.initialActiveItem===D?null:{initialActiveItem:D})}updateFocusIfPreviouslyFocusedItemWasRemoved(D){let{keys:O}=D;const{initialActiveItem:S,hasKeyboardFocus:R}=this.state,{keys:U,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:P}=this.props;if(this.props.activeItem||!R||!S)return;const L=O.indexOf(S);if(!(L!==-1&&!U.includes(S))||P&&!P())return;const x=U[L]||(0,o.A)(U);x&&this.focusOnKey(x)}getPageHeight(){const{pageHeight:D,height:O}=this.props;return D||O-C}getKeysForFocusableItems(){const{keys:D,isFocusableItem:O}=this.props;return D.filter((S,R)=>O({index:R,key:S}))}getListItemTabIndex(D){const{hasKeyboardFocus:O,initialActiveItem:S}=this.state,{keysToExcludeFromRovingTabIndex:R,preventTabKeyNavigationIntoList:U}=this.props;return R!=null&&R.includes(D)||!O&&U?-1:S===D?0:-1}onKeyDownPageUp(D){if(D.preventDefault(),this.props.onPageUp(D)===!1)return;const O=this.getScrollTop()-this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(O);return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}this.scrollToAndFocusFirstItemInView(O)}onKeyDownPageDown(D){if(D.preventDefault(),this.props.onPageDown(D)===!1)return;const O=this.getScrollTop()+this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(O);return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const S=this.getNextLastFocusableItemInView(O);this.setActiveItem(S??null,!0),this.scrollToOffset(O)}onKeyDownHome(D){if(this.isHomeKeyPressed||(this.isHomeKeyPressed=!0,D.preventDefault(),this.props.onHome(D)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(0,{absolute:!0});return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}const S=this.getKeysForFocusableItems()[0];this.setActiveItem(S,!0),this.scrollToKey(S)}onKeyDownEnd(D){if(this.isEndKeyPressed||(this.isEndKeyPressed=!0,D.preventDefault(),this.props.onEnd(D)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(1/0,{absolute:!0});return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const O=this.getKeysForFocusableItems(),S=O[O.length-1];this.setActiveItem(S,!0),this.scrollToKey(S)}onArrowKeyDown(D){if(D.defaultPrevented)return;if(this.state.hasKeyboardFocus){D.preventDefault(),this.focusNextItem(D.keyCode);return}const O=this.getScrollTop(),S=40;if(D.key==="ArrowUp"){this.scrollToOffset(O-S);return}this.scrollToOffset(O+S)}onKeyUpHome(){this.isHomeKeyPressed=!1}onKeyUpEnd(){this.isEndKeyPressed=!1}onItemFocusEnter(D){const{id:O,relatedEvent:S,currentTarget:R,target:U,hasKeyboardFocus:P}=D,{onItemFocusEnter:L}=this.props,F=P;if(!this.haveActiveItem()&&U===R){this.setActiveItem(O),L(D);return}const b=!this.haveActiveItem()&&!S&&R.contains(U),k=this.isValidInitialActiveItem(O)?O:this.state.initialActiveItem;b&&this.setState(()=>({hasKeyboardFocus:F,activeItem:null,initialActiveItem:k})),L(D)}onItemFocusWithin(D){const{id:O,currentTarget:S,target:R}=D,{onItemFocusWithin:U}=this.props;if(R===S){this.setActiveItem(O),U(D);return}const P=this.isValidInitialActiveItem(O)?O:this.state.initialActiveItem;this.setState(()=>({activeItem:null,initialActiveItem:P})),U(D)}onItemTabWithin(D){this.props.onItemTabWithin(D)}onFocusEnter(D){const{relatedEvent:O,target:S}=D;if(O&&O.type==="mousedown"||S&&(S instanceof HTMLMediaElement||S.dataset.mediaFocusContainer))return;const R=!O,P=O&&O.type==="keydown"||R;if(!P){this.props.onFocusEnter(D);return}this.props.onFocusEnter({isKeyboardFocus:P,...D})}onFocusLeave(D){const{onFocusLeave:O}=this.props,S=this.state.activeItem,U={activeItem:null,hasKeyboardFocus:!1,initialActiveItem:this.isValidInitialActiveItem(S)?S:this.state.initialActiveItem,isInitialFocusInRange:!1},P={activeItem:S,...D};this.setState(()=>U,()=>{O(P)})}onFocusedElementRemoved(){this.state.hasKeyboardFocus&&this.focus()}onItemContextMenu(D,O,S){let{hasKeyboardFocus:R}=S;const{onItemContextMenu:U}=this.props;if(U&&U(D,O,{hasKeyboardFocus:R}),!D.defaultPrevented)return;const P=this.getTargetBoundsForContextMenu(D);this.restoreFocusWhenContextMenuCloses=this.state.hasKeyboardFocus,this.setState(()=>({itemWithVisibleContextMenu:O,contextMenuTargetBounds:P}))}onItemMouseDown(D,O){const{onItemMouseDown:S}=this.props;S&&S(D,O??"");const R=this.isValidInitialActiveItem(O)?O:this.state.initialActiveItem;this.setState(()=>({hasKeyboardFocus:!1,activeItem:null,initialActiveItem:R}))}focus(){if(this.isScrolling()){this.focusAfterScrollEnd=!0;return}const D=this.state.initialActiveItem;if(D&&this.isItemInView(D)){this.setActiveItem(D,!0);return}this.scrollToAndFocusFirstItemInView()||(this.focusOnNextUpdate=!0)}focusOnKey(D){let{offset:O=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{keys:S}=this.props;return D&&S.indexOf(D)!==-1?(this.setActiveItem(D,!0),this.isItemInView(D)||this.scrollToKey(D,{offset:O}),!0):!1}scrollToAndFocusFirstItemInView(D){const O=this.getNextFirstFocusableItemInView(D);return O?(this.setActiveItem(O,!0),this.scrollToKey(O),!0):!1}blur(){var D,O;const S=(D=this.props.windowRef.deref())===null||D===void 0?void 0:D.document.activeElement;!((O=this.getScrollerRef())===null||O===void 0)&&O.contains(S)&&S.blur()}getActiveItem(){return this.state.activeItem}getTargetBoundsForContextMenu(D){if(!this.state.hasKeyboardFocus)return(0,d.h)({left:D.pageX,top:D.pageY});const{left:O,top:S,width:R,height:U}=D.currentTarget.getBoundingClientRect();return(0,d.h)({left:O+R/2,top:S+U/2})}closeContextMenu(){this.setState(()=>({itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}))}isValidInitialActiveItem(D){const{isFocusableItem:O,keys:S,keysToExcludeFromRovingTabIndex:R}=this.props;return D===null?!1:O({index:S.indexOf(D),key:D})&&!R.includes(D)}shouldIgnoreKeyboardShortcut(D,O){var S,R;const{ignoreKeyCommandsOnInputs:U,useGlobalKeyboardShortcuts:P}=this.props,L=O.target,F=(S=this.getScrollerRef())===null||S===void 0?void 0:S.contains(L),x=(0,s.A)(U)?U():U;return P&&!F&&L!==((R=this.props.windowRef.deref())===null||R===void 0?void 0:R.document.body)||!P&&!F?!0:L.matches(".c-virtual_list__item")?!1:!!(x&&((0,p.A)(L)||(0,h.Ay)(L))||D&&D(O))}setActiveItem(D){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const S=this.isValidInitialActiveItem(D)?D:this.state.initialActiveItem;this.setState(()=>({hasKeyboardFocus:!0,activeItem:D,initialActiveItem:S,isInitialFocusInRange:O}))}setInitialActiveItem(D){this.isValidInitialActiveItem(D)&&this.setState(()=>({initialActiveItem:D}))}haveActiveItem(){return this.state.activeItem!==null}getUniqueItemId(D){const{id:O}=this.props;return O?`${O}_${D}`:D}focusFirstItemInView(){const D=this.getFocusableItemsInView()[0];this.state.activeItem!==D&&this.setActiveItem(D,!0)}focusLastItemInView(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const O=this.getFocusableItemsInView(void 0,D),S=O[O.length-1];this.state.activeItem!==S&&this.setActiveItem(S,!0)}focusNextItem(D){const O=this.getNextActiveItem(D,this.state.activeItem);O&&(this.setActiveItem(O,!1),this.isItemInView(O,this.layout.anchorOffset)||this.scrollToKey(O,{offset:this.props.arrowNavigationOffset}))}getFocusableItemsInView(D,O){const{keys:S,isFocusableItem:R}=this.props,{start:U,end:P}=this.getVisibleRange(D,O);return(U===P?S.slice(U,U+1):S.slice(U,P)).filter(F=>R({index:S.indexOf(F),key:F}))}getNextFirstFocusableItemInView(D){const O=this.state.activeItem,S=this.getFocusableItemsInView(D)[0];return S&&S===O||!S&&O?this.getNextActiveItem(r.i7,O):S}getNextLastFocusableItemInView(D){const O=this.state.activeItem,S=this.getFocusableItemsInView(D),R=S[S.length-1];return R&&R===O||!R&&O?this.getNextActiveItem(r.n6,O):R}getInitialActiveItem(){return this.state.initialActiveItem}getNextActiveItem(D,O){const S=this.state.initialActiveItem;if(!this.haveActiveItem())return S&&!this.isItemInView(S)?this.getNextFirstFocusableItemInView():S||this.getNextFirstFocusableItemInView();const R=O,U=this.props.keys.indexOf(R),P=D===r.i7?U-1:U+1,L=this.props.keys[P];return L&&!this.props.isFocusableItem({index:P,key:L})?this.getNextActiveItem(D,L):L}getTabIndex(){return!this.shouldUseARIAApplicationRole()&&(0,g.uF)()?-1:void 0}setInitialActiveItemToFirstItemInView(){const{keysToExcludeFromRovingTabIndex:D}=this.props,O=this.getFocusableItemsInView().find(S=>!D.includes(S));O&&this.setState(S=>S.initialActiveItem===O?null:{initialActiveItem:O})}shouldUseARIAApplicationRole(){const{useARIAApplicationForListViews:D}=this.context;return!(0,g.uF)()||!this.props.useApplicationRole?!1:!!D}renderContextMenu(){const{itemWithVisibleContextMenu:D,contextMenuTargetBounds:O}=this.state;if(!D||!O)return null;const S={targetBounds:O,onCloseRequested:this.closeContextMenu};return this.props.renderContextMenuForItem(D,S)}renderItem(D,O){const{activeItem:S,initialActiveItem:R,hasKeyboardFocus:U}=this.state,P=this.getTop(D),L=this.layout.getHeight(D),F=S===D,x=S===null&&U&&R===D,b=this.isItemInView(D),k=this.layout.getHeightValidity(D),B=U&&!this.isScrolling()?this.getNextFirstFocusableItemInView():void 0,{rowRenderer:W,getPropsForItem:K,onItemClick:H,onItemKeyDown:z,onItemFocusLeave:Q,shouldHorizontallyScroll:q,useStaticHeightForListItems:$,width:le,keysToExcludeFromRovingTabIndex:te}=this.props,ce=this.getUniqueItemId(D),me=F&&this.state.isInitialFocusInRange,_e=this.state.itemWithVisibleContextMenu===D,Ae=!te.includes(D),ye=R===D,oe=K({key:D,index:O,isInitialFocusInRange:me,hasFocus:F,activeItem:S,initialActiveItem:R,firstItemInView:B})||{};return t.createElement(v.Ay,A({tabIndex:this.getListItemTabIndex(D),"aria-setsize":"-1"},oe,{supportRovingTabIndex:Ae,id:ce,itemKey:D,key:D,height:L,isCachedHeightValid:k,top:P,hasFocus:F,hasFocusWithin:x,contextMenuVisible:_e,onFocusEnter:this.onItemFocusEnter,onFocusWithin:this.onItemFocusWithin,onFocusLeave:Q,onTabWithin:this.onItemTabWithin,onHeightChange:this.setHeight,onMouseDown:this.onItemMouseDown,onContextMenu:this.onItemContextMenu,onClick:H,onKeyDown:z,shouldHorizontallyScroll:q,useStaticHeight:$,isInitialActiveItem:ye,resizeObserver:this.resizeObserver}),W(O,{key:D,hasFocus:F,hasFocusWithin:x,itemId:ce,listWidth:le,isInView:b,isExpanded:oe["aria-expanded"],hasContextMenu:_e}))}render(){const D=this.shouldUseARIAApplicationRole()?"application":"presentation";return t.createElement(t.Fragment,null,t.createElement(l.A,{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},t.createElement(m.A,{onFocus:c.A,onBlur:c.A,onFocusedElementRemoved:this.onFocusedElementRemoved},t.createElement("div",{role:D,id:this.props.id},super.render()))),this.renderContextMenu())}constructor(D){super(D),(0,u.v)(this,["onFocusEnter","onFocusLeave","onFocusedElementRemoved","onItemMouseDown","onItemFocusEnter","onItemFocusWithin","onItemTabWithin","onItemContextMenu","closeContextMenu","focus","onKeyDownPageUp","onKeyDownPageDown","onKeyDownHome","onKeyDownEnd","onKeyUpHome","onKeyUpEnd","onArrowKeyDown"]),this.state={...this.state,initialActiveItem:null,activeItem:null,hasKeyboardFocus:!1,isInitialFocusInRange:!1,itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}}}E(T,"BaseKeyboardNavigableList"),T.contextType=_.I,T.defaultProps={...f.s.defaultProps,activeItem:void 0,initialActiveItem:void 0,isFocusableItem:()=>!0,onFocusEnter:c.A,onFocusLeave:c.A,onPageUp:c.A,onPageDown:c.A,onHome:c.A,onEnd:c.A,onItemClick:c.A,onItemMouseDown:c.A,onItemKeyDown:c.A,onItemTabWithin:c.A,onItemFocusEnter:c.A,onItemFocusWithin:c.A,onItemFocusLeave:c.A,onItemContextMenu:c.A,onActiveItemChange:c.A,keyCommands:void 0,pageHeight:void 0,ignoreKeyCommandsOnInputs:!0,getPropsForItem:c.A,preventTabKeyNavigationIntoList:!1,renderContextMenuForItem:c.A,disableKeyboardShortcuts:!1,useGlobalKeyboardShortcuts:!1,keysToExcludeFromRovingTabIndex:[],useApplicationRole:!0,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:()=>!0},T.displayName="BaseKeyboardNavigableList";const I=(0,i.A)(T)},5716050560:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>I,Gn:()=>A});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(2053254856),c=e.n(s),r=e(3078252698),a=e(7715417323),i=e(4348392507),l=e(4426213732),m=e(3527550343),_=e(6163403996),h=e(6695894399),d=e(4757466470),f=e(6052171436),v=e(7323656146);function u(){return u=Object.assign||function(M){for(var D=1;D<arguments.length;D++){var O=arguments[D];for(var S in O)Object.prototype.hasOwnProperty.call(O,S)&&(M[S]=O[S])}return M},u.apply(this,arguments)}E(u,"_extends");const g=c()("enter"),p=c()("tab"),A="c-virtual_list__item";let C=E(class extends t.Component{componentDidMount(){const{useStaticHeight:D,supportRovingTabIndex:O,isInitialActiveItem:S,hasKeyboardFocus:R,resizeObserver:U,isCachedHeightValid:P}=this.props;if(this.node){if(!U&&!D){var L;(L=this.mutationObserver)===null||L===void 0||L.observe(this.node,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),this.node.addEventListener("load",this.updateHeight,!0)}U&&U.observe(this.node,{box:"border-box"})}P||this.updateHeight(),this.maybeFocusNode(),R&&O&&!S&&this.removeChildrenFromTabFlow()}shouldComponentUpdate(D){const{children:O,isCachedHeightValid:S,height:R,top:U,zIndex:P,resizeObserver:L,...F}=this.props,{children:x,isCachedHeightValid:b,height:k,top:B,zIndex:W,...K}=D;return U!==B||P!==W||R!==k||!b||!L&&O&&x&&(!(0,d.Ay)(x.props,O.props)||x.key!==O.key)?!0:!(0,d.Ay)(F,K)}componentDidUpdate(){const{useStaticHeight:D,isInitialActiveItem:O,supportRovingTabIndex:S,hasKeyboardFocus:R,resizeObserver:U}=this.props;!U&&!D&&this.updateHeight(),this.maybeFocusNode(),R&&S&&(O||this.removeChildrenFromTabFlow(),O&&this.restoreChildrenIntoTabFlow())}componentWillUnmount(){const{resizeObserver:D}=this.props;this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null,this.node&&this.node.removeEventListener("load",this.updateHeight,!0)),this.node&&D&&D.unobserve(this.node)}onClick(D){D.id=this.props.itemKey,this.props.onClick(D)}onFocusEnter(D){const{relatedEvent:O,target:S,currentTarget:R}=D,{itemKey:U,onTabWithin:P,onFocusEnter:L,hasKeyboardFocus:F}=this.props;if(O&&O.type==="mousedown"||S&&(S instanceof HTMLMediaElement||S.dataset.mediaFocusContainer))return;(O&&O.keyCode)===p&&R!==S&&P({id:U,hasKeyboardFocus:F,...D}),L({id:U,hasKeyboardFocus:F,...D})}onFocusLeave(D){const{itemKey:O,onFocusLeave:S,hasKeyboardFocus:R}=this.props;S({id:O,hasKeyboardFocus:R,...D})}onFocusWithin(D){const{relatedEvent:O}=D,{itemKey:S,onTabWithin:R,onFocusWithin:U,hasKeyboardFocus:P}=this.props;if(O&&O.type==="mousedown")return;(O&&O.keyCode)===p&&R({id:S,hasKeyboardFocus:P,...D}),U({id:S,hasKeyboardFocus:P,...D})}onKeyDown(D){const{target:O,currentTarget:S,keyCode:R}=D,{itemKey:U,onKeyDown:P,onClick:L}=this.props;O===S&&(P({id:U,...D,preventDefault:D.preventDefault,stopPropagation:D.stopPropagation}),R===g&&L({id:U,...D,preventDefault:D.preventDefault,stopPropagation:D.stopPropagation}))}onContextMenu(D){const{itemKey:O,onContextMenu:S,hasKeyboardFocus:R}=this.props;D!=null&&D.altKey||S(D,O,{hasKeyboardFocus:R})}onMouseDown(D){const{itemKey:O,onMouseDown:S}=this.props;S(D,O)}setRef(D){this.node=D}maybeFocusNode(){this.props.hasFocus&&this.node&&this.node.focus()}updateHeight(){const{height:D,isCachedHeightValid:O,itemKey:S,onHeightChange:R}=this.props;if(!this.node)return;const{height:U}=this.node.getBoundingClientRect();(Math.abs(U-D)>.5||!O)&&R(S,U)}removeChildrenFromTabFlow(){const D=this.node;if(!D)return;(0,m.rO)(D).forEach(S=>{const R=S.getAttribute("tabindex");S.setAttribute("tabindex","-1"),S.dataset.removeTabIndex="true",(0,r.A)(R)&&(S.dataset.tabIndexToRestore=R)})}restoreChildrenIntoTabFlow(){const D=this.node;D&&D.querySelectorAll("[data-remove-tab-index]").forEach(O=>{if(!(0,_.A)(O,this.props.windowRef.deref()))return;const S=O.dataset.tabIndexToRestore;(0,r.A)(S)?O.setAttribute("tabindex",S):O.removeAttribute("tabindex"),delete O.dataset.removeTabIndex,delete O.dataset.tabIndexToRestore})}render(){if(!this.props.children)return null;const{id:D,children:O,onFocusEnter:S,onFocusWithin:R,onFocusLeave:U,onHeightChange:P,onMouseDown:L,onClick:F,onKeyDown:x,onContextMenu:b,onTabWithin:k,className:B,top:W,zIndex:K,role:H,height:z,isCachedHeightValid:Q,hasFocus:q,hasFocusWithin:$,hideFocusRing:le,shouldHorizontallyScroll:te,tabIndex:ce,itemKey:me,useStaticHeight:_e,hasKeyboardFocus:Ae,dataQA:ye,contextMenuVisible:oe,isInitialActiveItem:ee,supportRovingTabIndex:V,forceTop:w,resizeObserver:Y,windowId:G,windowToken:Z,windowRef:se,...ae}=this.props,re=o()(B,A,{[`${A}--focus`]:q&&Ae&&!le,[`${A}--focus-within`]:$,[`${A}--auto_width`]:te,[`${A}--contextmenu-visible`]:oe});return t.createElement(f.A,{onFocusEnter:this.onFocusEnter,onFocusWithin:this.onFocusWithin,onFocusLeave:this.onFocusLeave},t.createElement("div",u({},(0,h.A)(ae),{onMouseDown:this.onMouseDown,onClick:this.onClick,onKeyDown:this.onKeyDown,onContextMenu:this.onContextMenu,className:re,tabIndex:ce,role:H,style:_e?{top:w??W,height:z,zIndex:K}:{top:w??W,zIndex:K},ref:this.setRef,id:D,"data-qa":ye||"virtual-list-item","data-item-key":me}),O))}constructor(D){super(D),this.setRef=this.setRef.bind(this),(0,l.v)(this,["onFocusEnter","onFocusWithin","onFocusLeave","onMouseDown","onClick","onKeyDown","onContextMenu","updateHeight"]),D.useStaticHeight||(this.mutationObserver=new MutationObserver(this.updateHeight)),this.node=null}},"ListItem");C.defaultProps={children:null,onFocusEnter:a.A,onFocusWithin:a.A,onFocusLeave:a.A,onHeightChange:a.A,onMouseDown:a.A,onClick:a.A,onKeyDown:a.A,onContextMenu:a.A,onTabWithin:a.A,className:"",top:void 0,zIndex:void 0,role:"listitem",height:0,isCachedHeightValid:!0,hasFocus:!1,hasFocusWithin:!1,shouldHorizontallyScroll:!1,tabIndex:-1,useStaticHeight:!1,dataQA:null,contextMenuVisible:!1,isInitialActiveItem:!1,hideFocusRing:!1,supportRovingTabIndex:!0,forceTop:void 0,resizeObserver:void 0},C.displayName="ListItem";const T=E(function(D){const O=(0,t.useContext)(v.A);return t.createElement(C,u({},D,{hasKeyboardFocus:O}))},"WithKeyboardFocusListItem");T.displayName="WithKeyboardFocusListItem";const I=t.memo((0,i.A)(T))},6225228372:(N,y,e)=>{"use strict";e.d(y,{A:()=>M,s:()=>I});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(7715417323),c=e(4348392507),r=e(8851980998),a=e(7639461119),i=e(1767602757),l=e(4426213732),m=e(124320166),_=e(9714187984),h=e(4757466470),d=e(7744706116),f=e(6943667706),v=e(5716050560),u=e(7282270866),g=e(3419042542),p=e(2250002584);function A(){return A=Object.assign||function(D){for(var O=1;O<arguments.length;O++){var S=arguments[O];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(D[R]=S[R])}return D},A.apply(this,arguments)}E(A,"_extends");const C=50,T=E(D=>{const{borderBoxSize:O,target:S}=D,R=O==null?void 0:O[0],U=R==null?void 0:R.blockSize;return U??S.getBoundingClientRect().height},"getItemHeight");class I extends t.Component{componentDidMount(){var O;(O=this.props.windowRef.deref())===null||O===void 0||O.document.addEventListener("selectionchange",this.onSelectionChange)}componentDidUpdate(O,S){this.scrollOnUpdateCallback&&(this.scrollOnUpdateCallback(),this.scrollOnUpdateCallback=null)}shouldComponentUpdate(O,S){return!(0,h.Ay)(O,this.props)||!(0,h.Ay)(S,this.state)}UNSAFE_componentWillReceiveProps(O){const{useStaticHeightForListItems:S,width:R}=this.props;!S&&!this.useResizeObserver&&O.width!==R&&this.layout.heightCache.invalidate(),this.layout.setKeys(O.keys),this.relayout()}componentWillUnmount(){this.scrollStartTimeout&&clearTimeout(this.scrollStartTimeout);const O=this.props.windowRef.deref();O&&O.document.removeEventListener("selectionchange",this.onSelectionChange),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}onContentScroll(O){this.props.onContentScroll(O)}onScroll(O){this.onScrollEnd();const{start:S,end:R}=this.state,{keys:U}=this.props;if(!(S===0&&R===U.length)){const L=this.getScrollTop();if(this.props.metricsTag){const[F,x]=this.prevBounds;let b;L<F?b=Math.abs(F-L):L>x&&(b=Math.abs(L-x)),b&&this.janks.push(b)}this.relayout()}!this.scrollStartTimeout&&!this.isScrolling()&&O.target===this.getScrollerRef()&&(this.scrollStartTimeout=setTimeout(this.onScrollStart,C*2)),this.props.onScroll(O,{scrollTop:this.getScrollTop(),scrollHeight:this.getContentHeight(),clientHeight:this.props.height})}onScrollEnd(){if(this.scrollStartTimeout&&(clearTimeout(this.scrollStartTimeout),this.scrollStartTimeout=null),this.props.metricsTag){const O=this.props.tracer||(0,p.F)(),S=O.createMetricsTrace({label:"virtual-list",samplingOptions:{sampleRate:.01,sampleType:r.tS.CALL},tags:{list_type:this.props.metricsTag,overscan_ratio:this.props.overscanRatio}});let R=0,U=0;for(const L of this.janks)R+=L,L>U&&(U=L);const P=this.janks.length;S.count({name:"jank",value:P}),S.store({name:"jank-px:avg",value:P?Math.round(R/P):0}),S.store({name:"jank-px:max",value:U}),O.reportTrace(S),this.janks=[]}this.setState(O=>O.scrolling?{scrolling:!1}:null)}onScrollStart(){this.setState(()=>({scrolling:!0}),this.onScrollEnd),this.scrollStartTimeout=null}onSelectionChange(){if(!this.scrollbar)return;const O=this.props.windowRef.deref(),S=(O==null?void 0:O.getSelection)&&(O==null?void 0:O.getSelection());S&&S.type==="Range"&&this.contentNode&&this.contentNode.contains(S.anchorNode)?(this.isSelecting=!0,this.selectionStart=this.props.keys[this.state.start],this.selectionEnd=this.props.keys[this.state.end-1]):(this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null),this.props.onSelectionChange(this.isSelecting)}onItemContextMenu(O,S,R){let{hasKeyboardFocus:U}=R;this.props.onItemContextMenu(O,S,{hasKeyboardFocus:U})}onItemResize(O){O.reduce((U,P)=>{const L=P.target.getAttribute("data-item-key"),F=T(P);return this.setHeight(L,F,!0)?!0:U},!1)&&this.relayout()}getBottom(O){return this.layout.getBottom(O)}getBounds(O,S){this.onSelectionChange();let R=O,U=S;return this.selectionStart&&(R=Math.min(R,this.layout.getTop(this.selectionStart))),this.selectionEnd&&(U=Math.max(U,this.layout.getTop(this.selectionEnd))),this.layout.getBounds(R,U)}getBoundingClientRect(){return this.getScrollerRef().getBoundingClientRect()}getClassName(){return o()("c-virtual_list","c-virtual_list--scrollbar",this.props.className)}getContainerHeight(){return this.props.height}getContentHeight(){return this.layout.getTotalHeight()+this.getSiblingNodeHeight()}getSiblingNodeHeight(){if(!this.siblingNode)return 0;const{height:O}=this.siblingNode.getBoundingClientRect();return O}getContentsClassName(){return o()("c-virtual_list__scroll_container",this.props.containerClassName,{"c-virtual_list__scroll_container--scrolling":this.isScrolling()&&!this.isSelecting})}getScrollTop(){return this.scrollbar&&this.scrollbar.scrollTop()||0}getScrollerRef(){var O;return(O=this.scrollbar)===null||O===void 0?void 0:O.scroller}getTop(O){return this.layout.getTop(O)}getVisibleRange(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getScrollTop(),S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{keys:R,height:U}=this.props,{start:P,end:L}=this.layout.getBounds(O,O+U);if(S)return{start:P,end:L};const F=this.layout.getTop(R[P])<O-1?P+1:P,x=this.layout.getBottom(R[L-1])>O+U+1?L-1:L,b=Math.min(F,R.length-1),k=Math.max(x,b);return{start:b,end:k}}setContentRef(O){this.contentNode=O}setSiblingNodeRef(O){this.siblingNode=O}setHeight(O,S){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!O)return!1;const U=this.layout.getHeight(O);return this.useResizeObserver&&(0,i.W)(S,U,1)||!this.useResizeObserver&&Math.abs(S-U)<.5?!1:(this.layout.setHeight(O,S),R||this.relayout(),!0)}setScrollbarRef(O){this.scrollbar=O}setScrollTop(O){this.scrollbar&&this.scrollbar.scrollTop(Math.ceil(O))}getItemsToRender(){const{keys:O,persistentKeys:S,usePersistentOrder:R}=this.props,{start:U,end:P}=this.state,L=[];if(R){const b={};for(let k=0;k<S.length;k++)b[S[k]]=!0;this.layout instanceof u.A&&this.layout.anchor&&!b[this.layout.anchor]&&(b[this.layout.anchor]=!0);for(let k=0;k<O.length;k++){const B=O[k];B&&(b[B]||k>=U&&k<=P)&&L.push({key:B,index:k})}}else{for(let b=U;b<P;b++){const k=O[b];k&&L.push({key:k,index:b})}S.forEach(b=>{const k=O.indexOf(b);k<0||k>=U&&k<P||L.push({key:b,index:k})}),this.layout instanceof u.A&&this.layout.anchor&&!S.includes(this.layout.anchor)&&L.push({key:this.layout.anchor,index:O.indexOf(this.layout.anchor)})}const F=O[U],x=O[P];return F&&x&&(this.prevBounds=[this.layout.getTop(F),this.layout.getBottom(x)]),L}getTabIndex(){}bracketScrollTop(O){return Math.max(0,Math.min(this.getContentHeight()-this.props.height,O))}isItemAboveView(O){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const R=this.getScrollTop()+S;return this.layout.getBottom(O)<R}isItemBelowView(O){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const R=this.getScrollTop();return this.layout.getTop(O)>R+(this.props.height-S)}isItemInView(O){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const R=this.getScrollTop(),U=this.layout.getTop(O),P=R+S,L=R+(this.props.height-S);return U>=P&&U<=L}isScrolledToBottom(){return this.getScrollTop()+this.getContainerHeight()>=this.layout.getTotalHeight()-1}isScrolledToTop(){return Math.floor(this.getScrollTop())<=1}isScrolling(){return this.state.scrolling}relayout(){this.setState((O,S)=>{const R=this.getScrollTop(),U=S.height*S.overscanRatio,P=R-U,L=R+S.height+U,{start:F,end:x}=this.getBounds(P,L),b=this.layout.getTops(),k=this.layout.getTotalHeight();return F===O.start&&x===O.end&&b===O.tops&&k===O.totalHeight?null:{start:F,end:x,tops:b,totalHeight:k}},()=>{const O=this.state.totalHeight&&this.state.totalHeight>this.props.height||!1;this.props.onOverflow&&this.props.onOverflow(O)})}scrollToKey(O){let{lazy:S,animate:R,offset:U=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(S&&this.isItemInView(O))return;if(!this.scrollbar){this.scrollOnUpdateCallback=()=>{this.scrollToKey(O,{lazy:S,animate:R,offset:U})};return}const P=this.layout.getOffsetForKey(O);this.scrollToOffset(P+U,{animate:R})}scrollToOffset(O){let{animate:S,lazy:R}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.scrollbar&&!R)return;const U=this.scrollbar&&S,P=E(()=>{const L=this.bracketScrollTop(O);if(U){var F;(F=this.scrollbar)===null||F===void 0||F.scrollWithAnimation(L);return}this.scrollTop=L,this.setScrollTop(L)},"scrollToOffsetInternal");this.scrollbar?P():this.scrollOnUpdateCallback=P}renderContents(){const O=this.getContentsClassName(),S=this.getContentHeight()-this.getSiblingNodeHeight(),R=this.renderItems(),{role:U,"aria-label":P,"aria-labelledby":L,"aria-describedby":F}=this.props;return t.createElement("div",{"data-qa":"slack_kit_list",ref:this.setContentRef,className:O,role:U,tabIndex:this.getTabIndex(),"aria-label":P,"aria-labelledby":L,"aria-describedby":F,style:{position:"relative",height:S}},R)}renderItem(O,S){const R=this.getTop(O),U=this.layout.getHeight(O),P=this.layout.getHeightValidity(O),{rowRenderer:L,getPropsForItem:F,shouldHorizontallyScroll:x}=this.props,b=F({key:O,index:S})||{};return t.createElement(v.Ay,A({},b,{id:O,itemKey:O,key:O,height:U,top:R,onHeightChange:this.setHeight,onContextMenu:this.onItemContextMenu,isCachedHeightValid:P,shouldHorizontallyScroll:x,useStaticHeight:this.props.useStaticHeightForListItems,"aria-setsize":"-1",resizeObserver:this.resizeObserver}),L(S,{key:O,isExpanded:b["aria-expanded"]}))}renderItems(){return this.getItemsToRender().map(S=>{let{key:R,index:U}=S;return this.renderItem(R,U)})}render(){const{width:O,height:S}=this.props;if(!O||!S)return null;const R=this.getClassName(),U=this.renderContents(),P=this.props.isSiblingNodeFirst,L=t.createElement("div",{className:"c-virtual_list__sibling_container",ref:this.setSiblingNodeRef},this.props.siblingNode);return t.createElement(d.A,{className:R,width:O,height:this.getContainerHeight(),contentHeight:this.getContentHeight(),trackTop:12,onTrackClick:f.d.track.page,onScroll:this.onScroll,onContentScroll:this.onContentScroll,anchor:"bottom",role:"presentation",id:this.props.id,ref:this.setScrollbarRef,fade:this.props.fadeScrollbar,useFixedTrackHeight:this.props.useFixedTrackHeightForScrollbar,alwaysVisible:this.props.scrollbarAlwaysVisible||this.state.hasKeyboardFocus,initialScrollTop:this.props.initialScrollTop},P&&L,U,!P&&L)}constructor(O){super(O),this.prevBounds=[-1/0,1/0],this.janks=[],(0,l.v)(this,["onScroll","onContentScroll","onSelectionChange","setScrollbarRef","setContentRef","setSiblingNodeRef","setHeight","getScrollTop","getVisibleRange","isItemInView","onScrollStart","onItemContextMenu","onItemResize"]),this.onScrollEnd=(0,m.A)(this.onScrollEnd.bind(this),C,O.windowRef),this.layout=O.layout||new g.A({}),this.useResizeObserver=!!O.useResizeObserver&&!O.useStaticHeightForListItems&&(0,a.fW)(_.V8);const S=O.windowRef.deref();this.resizeObserver=this.useResizeObserver&&S?new S.ResizeObserver(this.onItemResize):void 0,this.scrollbar=null,this.contentNode=null,this.siblingNode=null,this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null,this.scrollStartTimeout=null,this.scrollOnUpdateCallback=null,this.layout.setKeys(O.keys);const{start:R,end:U}=this.getBounds(0,O.height);this.state={start:R,end:U,scrolling:!1}}}E(I,"BaseList"),I.defaultProps={className:"",containerClassName:"",layout:void 0,role:"list","aria-label":void 0,"aria-labelledby":void 0,"aria-describedby":void 0,persistentKeys:[],usePersistentOrder:!0,fadeScrollbar:!1,onScroll:s.A,onContentScroll:s.A,onSelectionChange:s.A,onItemContextMenu:s.A,getPropsForItem:s.A,shouldHorizontallyScroll:!1,scrollbarAlwaysVisible:!1,id:void 0,useStaticHeightForListItems:!1,useFixedTrackHeightForScrollbar:!1,initialScrollTop:0,overscanRatio:.5,siblingNode:null,isSiblingNodeFirst:!1,metricsTag:null,tracer:null,useResizeObserver:!0},I.displayName="BaseList";const M=(0,c.A)(I)},5279892721:(N,y,e)=>{"use strict";e.d(y,{CH:()=>o,Rw:()=>r,gQ:()=>s,jU:()=>t,kP:()=>c});const t={OpenAddPeopleModal:"add_to_channel_open_add_people_modal",OpenInternalMemberSpeedbump:"add_to_channel_open_internal_member_speedbump",ClickBackButton:"add_to_channel_click_back_button"},n={BackButton:"back_button",SubmitButton:"submit_button",LearnMore:"learn_more",CloseModal:"close_modal",ConfirmExternalRadio:"confirm_external",ConfirmInternalRadio:"confirm_internal",SlackConnectRadio:"slack_connect",GuestRadio:"guest"},o={BackButton:"back_button",ShowSpeedBumpButton:"show_speed_bump_button",CancelSpeedBumpButton:"cancel_speed_bump_button",NextButton:"next_button",SubmitButton:"submit_button",PendingInvitesLink:"pending_invites_link",EmailPreviewButton:"email_preview_button",UpgradeButton:"see_upgrade_options_button"},s={Initial:1,InviteTypeExternal:3,SharedChannelNoteExternal:4,InviteTypeInternal:5,SharedChannelNoteInternal:6,Confirmation:7,SharedChannelExternalLimitedExternal:8,SharedChannelExternalLimitedInternal:9,InviteTypeInternalOrgMember:10,SelectWorkspace:11};var c;(function(a){a.CanvasTemplate="canvas_template",a.ChannelCreateModal="channel_create_modal",a.ChannelDetails="channel_details",a.ChannelInviteSuggestionsFileShareSlackbotMessage="channel_invite_suggestions_file_share_slackbot_message",a.ConnectedSection="connected_section",a.CreatorGuidedSetupInvitationCoachmark="creator_guided_setup_invitation_coachmark",a.EmailLinkMenu="email_link_menu",a.IADetailsPopover="popover_details",a.InviteToConversationShortcut="invite_to_conversation_shortcut",a.InviteToChannelReduxAction="invite_to_channel_redux_action",a.MembersInviteByEmail="members_invite_by_email",a.MessagePane="message_pane",a.NotConnectedSection="not_connected_section",a.SlackbotPrivateChannelSpeedbump="slackbot_private_channel_speedbump",a.SlackConnectAddToChannelModal="slack_connect_add_to_channel_modal",a.SlackConnectChannelModal="slack_connect_channel_modal",a.Unknown="unknown",a.ExternalLinkViaChannelCreateModal="external_link_via_channel_create_modal",a.AppMenuViaChannelCreateModal="app_menu_via_channel_create_modal",a.ChannelSidebarViaChannelCreateModal="channel_sidebar_via_channel_create_modal",a.ChannelSidebarStandardSectionViaChannelCreateModal="channel_sidebar_standard_section_via_channel_create_modal",a.ChannelBrowserViaChannelCreateModal="channel_browser_via_channel_create_modal",a.CalendarChannelCreateViaChannelCreateModal="calendar-channel-create_via_channel_create_modal",a.ShareChannelByEmailModalViaChannelCreateModal="share_channel_by_email_modal_via_channel_create_modal",a.ChannelSidebarAddMoreViaChannelCreateModal="channel_sidebar_add_more_via_channel_create_modal",a.ComposerDestinationMpdmAlertViaChannelCreateModal="composer_destination_mpdm_alert_via_channel_create_modal",a.ComposerEscapeHatchViaChannelCreateModal="composer_escape_hatch_via_channel_create_modal",a.DMBrowserViaChannelCreateModal="dm_browser_via_channel_create_modal",a.HomeHeaderViaChannelCreateModal="home_header_via_channel_create_modal",a.InviteToWorkspaceModalViaChannelCreateModal="invite_to_workspace_modal_via_channel_create_modal",a.TeamMenuViaChannelCreateModal="team_menu_via_channel_create_modal",a.ChannelSearchEduViaChannelCreateModal="channel_search_edu_via_channel_create_modal",a.ServiceChannelPickerViaChannelCreateModal="service_channel_picker_via_channel_create_modal",a.CreateChannelShortcutViaChannelCreateModal="create_channel_shortcut_via_channel_create_modal",a.SlackConnectDmTrialBannerViaChannelCreateModal="slack_connect_dm_trial_banner_via_channel_create_modal",a.TrialTrySlackConnectForChannelsModalViaChannelCreateModal="trial_try_slack_connect_for_channels_modal_via_channel_create_modal",a.GlobalActionsViaChannelCreateModal="global_actions_via_channel_create_modal",a.EmailObjectViaChannelCreateModal="email_object_via_channel_create_modal",a.DeepLinkViaChannelCreateModal="deep_link_via_channel_create_modal",a.ExternalConnectDeepLinkViaChannelCreateModal="external_connect_deeplink_via_channel_create_modal",a.SlashCommandViaChannelCreateModal="slash_command_via_channel_create_modal",a.OmniSwitcherViaChannelCreateModal="omniswitcher_via_channel_create_modal",a.InstantSlackChannelForeword="instant_slack_channel_foreword",a.SlackConnectChannelSidebarViaChannelCreateModal="slack_connect_channel_sidebar_via_channel_create_modal",a.SlackConnectHubHeaderViaChannelCreateModal="slack_connect_hub_header_via_channel_create_modal",a.OrganizationsEmptyStateViaChannelCreateModal="manage_shared_channels_org_empty_state_via_channel_create_modal",a.ChannelSidebarSlackConnectPlusViaChannelCreateModal="channel_sidebar_slack_connect_plus_via_channel_create_modal",a.MpdmDetailsViaChannelCreateModal="mpdm_details_via_channel_create_modal",a.ListChannelColumnViaChannelCreateModal="list_channel_column_via_channel_create_modal",a.ResurrectedUserWelcomeViaChannelCreateModal="resurrected_user_welcome_via_channel_create_modal",a.SolutionGuideViaChannelCreateModeal="solution_guide_via_channel_create_modal"})(c||(c={}));var r;(function(a){a.TrialEligible="trial_eligible",a.TrialIneligible="trial_ineligible",a.TrialActive="trial_active"})(r||(r={}))},5184226701:(N,y,e)=>{"use strict";e.d(y,{BD:()=>t,Cz:()=>s,LH:()=>c,LX:()=>r,T0:()=>n,UC:()=>o});const t={SharedChannel:"shared_channel",SingleChannelGuest:"ultra_restricted",MultiChannelGuest:"restricted",Member:"regular",ExternalSharedWorkspaceMember:"external_shared_workspace_member"},n={User:"user_invite",UserGroup:"user_group_invite",Email:"email_invite",Member:"member"},o={OpenConfirmationScreen:"add_to_channel_open_confirmation_screen"},s={OpenInviteTypeExternal:"comprehensible_invites_open_invite_type_external",InviteTypeExternalDefaultActionDisallowed:"comprehensible_invites_invite_type_external_default_action_disallowed",OpenSharedChannelNoteExternal:"comprehensible_invites_open_shared_channel_note_external",OpenSharedChannelExternalLimitedExternal:"comprehensible_invites_open_shared_channel_external_limited_external",OpenInviteTypeInternal:"comprehensible_invites_open_invite_type_internal",InviteTypeInternalDefaultActionDisallowed:"comprehensible_invites_invite_type_internal_default_action_disallowed",OpenSharedChannelNoteInternal:"comprehensible_invites_open_shared_channel_note_internal",OpenSharedChannelExternalLimitedInternal:"comprehensible_invites_open_shared_channel_external_limited_internal"};class c{constructor(i){this.ok=i.ok,this.invitee=i.email,this.inviteeType=n.Email,this.accessType=i.inviteType||t.Member,this.error=i.error,this.expirationTs=i.expiration_ts}}E(c,"InviteResult");function r(a){return a===t.Member||a===t.MultiChannelGuest||a===t.SingleChannelGuest}E(r,"isBaseInviteType")},9536443280:(N,y,e)=>{"use strict";e.d(y,{D:()=>t});var t;(function(n){n[n.available=0]="available",n[n.processing=1]="processing",n[n.none=2]="none"})(t||(t={}))},1009419259:(N,y,e)=>{"use strict";e.d(y,{r:()=>t});var t;(function(n){n.Internal="internal",n.External="external",n.Invalid="invalid"})(t||(t={}))},9225229866:(N,y,e)=>{"use strict";e.d(y,{BD:()=>m,Be:()=>_,Bv:()=>t,K3:()=>c,KC:()=>r,MC:()=>i,S5:()=>o,V2:()=>l,tw:()=>h,xk:()=>a});var t;(function(d){d.ExternalDirectory="EXTERNAL_DIRECTORY",d.GoogleContacts="GOOGLE_CONTACTS",d.InviteForm="INVITE_FORM",d.SharedInviteLinkForm="SHARED_INVITE_LINK_FORM",d.Summary="SUMMARY",d.WorkspaceSelect="WORKSPACE_SELECT",d.EmailPreview="EMAIL_PREVIEW",d.PersonalizeInvite="PERSONALIZE_INVITE"})(t||(t={}));var n;(function(d){d.Manual="manual"})(n||(n={}));var o;(function(d){d.InvalidEmail="invalid_email",d.ExistingMember="existing_member"})(o||(o={}));var s;(function(d){d.GoogleDirectory="google_directory",d.OfficeDirectory="office_directory",d.GoogleContacts="google_contacts"})(s||(s={}));var c;(function(d){d.AdminEmail="admin_email",d.AiWorkspaceChannelForeword="ai_workspace_channel_foreword",d.AllCompanyNameTemplatesChannelForeword="all_company_name_templates_channel_foreword",d.CalendarDmCreateInternalInviteModal="calendar_dm_create-internal-invite-modal",d.ChannelInviteModal="channel_invite_modal",d.ChannelSidebar="channel_sidebar",d.Composer="composer",d.CreatorGuidedSetupChannelForeword="creator_guided_setup_channel_foreword",d.DirectoryOAuthMissingScopesDeepLink="directory_oauth_missing_scopes",d.DirectoryPostOAuthDeepLink="directory_oauth_complete",d.DmUserInviteSection="dm_user_invite_section",d.EmailInboxThread="email_inbox_thread",d.EvergreenBootstrapPostOAuthDeepLink="evergreen_bootstrap_oauth_complete",d.ExternalWorkspaceInvite="external_workspace_invite",d.GoogleOauth="google_oauth",d.HuddlesPage="huddles_page",d.InvitePeopleSlashCommand="invite_people_slash_command",d.LegacyInvitesRedirectToConfirmationScreen="legacy_invites_redirect_to_confirmation_screen",d.LinkifyEmails="linkify_emails",d.MessageAttachment="message_attachment",d.OmniSwitcher="omni_switcher",d.OrgDashboardWorkspaceDetails="org_dashboard_workspace_details",d.OrgDashboardWorkspaceMembersTab="org_dashboard_workspace_members_tab",d.PeopleBrowser="people_browser",d.PeopleBrowserHero="people_browser_hero",d.QueryStringParameter="query_string_open_invite_members",d.ScdmInviteModalSpeedbump="scdm-invite-modal-speedbump",d.SetupComposerTip="setup_composer_tip",d.ShortcutsMenu="shortcuts_menu",d.SidebarCreateNewInvitePeople="sidebar_create_new_invite_people",d.SlackConnectHubSearch="slack_connect_hub_search",d.SocialTemplatesChannelForeword="social_templates_channel_foreword",d.SolutionsOnboardingChannelForeword="solutions_onboarding_channel_foreword",d.TeamMenu="team_menu",d.TeamSiteAdmin="team_site_admin",d.TeamSiteInvites="team_site_invites",d.UniversalClickHandler="universal_click_handler"})(c||(c={}));var r;(function(d){d.EditInviteLinkSettings="edit_invite_link_settings",d.CopyInviteLink="copy_invite_link",d.CopyAndCreateInviteLink="copy_and_create_invite_link",d.InviteLinkExpiration="invite_link_expirtation",d.SlackbotMessage="slackbot_message",d.DeactivateLink="deactivate_link",d.SaveLinkSettings="save_link_settings",d.ConfirmDeactivateLink="confirm_deactivate_link",d.CancelDeactivate="cancel",d.Back="back",d.InviteFormError="invite_form_error",d.DirectoryCoachmark="directory_coachmark",d.DirectoryCoachmarkCloseButton="directory_coachmark_close_button",d.InviteLinkFormCancel="cancel",d.ForceMcgCheckbox="force_mcg_checkbox",d.ChannelSelect="channel_select",d.GuestExpirationSelect="guest_expiration_select",d.AddFromContactsButton="add_from_contacts_button",d.AddFromContactsCoachmark="add_from_contacts_coachmark",d.AddFromContactsCoachmarkCloseButton="add_from_contacts_coachmark_close_button"})(r||(r={}));var a;(function(d){d.OpenModal="invite_to_workspace_open_modal",d.ClickShowGoogleContactsSearchScreen="invite_to_workspace_click_show_google_contacts_search_screen",d.ClickShowGoogleSearchScreen="invite_to_workspace_click_show_google_search_screen",d.ClickRedirectToGoogle="invite_to_workspace_click_redirect_to_google",d.ClickRedirectToGoogleContacts="invite_to_workspace_click_redirect_to_google_contacts",d.ClickCopyInviteLink="invite_to_workspace_click_copy_invite_link",d.ClickEditLinkSettings="invite_to_workspace_click_edit_link_settings",d.ClickSaveInviteLink="invite_to_workspace_click_save_invite_link",d.ClickBackFromEditLinkSettings="invite_to_workspace_click_back_from_edit_link_settings",d.ClickCancelEditLinkSettings="invite_to_workspace_click_cancel_edit_link_settings",d.ClickDisableLink="invite_to_workspace_click_disable_link",d.ClickConfirmDisableLink="invite_to_workspace_click_confirm_disable_link",d.ClickSendInvites="invite_to_workspace_click_send_invites",d.ClickSharedChannelEscapeHatch="invite_to_workspace_click_shared_channel_escape_hatch",d.ClickInviteExternalWorkspaceMembers="invite_to_workspace_click_external_workspace_members",d.ClickCoachmarkClose="invite_to_workspace_click_coachmark_close",d.ClickForceMcgOption="invite_to_workspace_click_force_mcg_option",d.ClickNext="invite_to_workspace_click_next",d.HasReachedScgLimit="invite_to_workspace_has_reached_scg_limit",d.InviteHasChannels="invite_to_workspace_invite_has_channels",d.InviteHasCustomMessage="invite_to_workspace_invite_has_custom_message",d.NumInvitesAttempted="invite_to_workspace_num_invites_attempted",d.NumSuccessfulInvites="invite_to_workspace_num_successful_invites",d.NumFailedInvites="invite_to_workspace_num_failed_invites",d.NumRequestsAttempted="invite_to_workspace_num_requests_attempted",d.NumSuccessfulRequests="invite_to_workspace_num_successful_requests",d.NumFailedRequests="invite_to_workspace_num_failed_requets",d.NumMcgAttempted="invite_to_workspace_num_mcg_attempted",d.NumSuccessfulMcg="invite_to_workspace_num_successful_mcg",d.NumFailedMcg="invite_to_workspace_num_failed_mcg",d.NumScgAttempted="invite_to_workspace_num_scg_attempted",d.NumSuccessfulScg="invite_to_workspace_num_successful_scg",d.NumFailedScg="invite_to_workspace_num_failed_scg",d.NumMemberAttempted="invite_to_workspace_num_member_attempted",d.NumSuccessfulMember="invite_to_workspace_num_successful_member",d.NumFailedMember="invite_to_workspace_num_failed_member",d.RequestHasReason="invite_to_workspace_request_has_reason"})(a||(a={}));var i;(function(d){d[d.Never=0]="Never",d[d.SevenDays=7]="SevenDays",d[d.ThirtyDays=30]="ThirtyDays",d[d.SixtyDays=60]="SixtyDays",d[d.Custom=-1]="Custom"})(i||(i={}));var l;(function(d){d.LastActiveForUser="last_active_for_user",d.LastActive="last_active",d.AllActive="all_active",d.AllActiveAndRenewable="all_active_and_renewable_for_team"})(l||(l={}));var m;(function(d){d.InviteLink="invite_link",d.EmailInput="email_input"})(m||(m={}));class _{constructor(f){this.code=f.code,this.dateExpire=f.date_expire,this.maxSignups=f.max_signups,this.notificationsEnabled=f.notifications_enabled,this.url=f.url,"date_create"in f&&(this.dateCreate=f.date_create),"date_delete"in f&&(this.dateDelete=f.date_delete),"inviter_id"in f&&(this.inviterId=f.inviter_id),"invite_id"in f&&(this.inviteId=f.invite_id)}}E(_,"SharedInviteLink");class h{constructor({email:f,name:v,inviteType:u,inviteSource:g}){this.email=f,this.real_name=v,this.type=u,this.invite_source=g,this.mode=n.Manual}}E(h,"InviteBulkApiInvite")},8178126019:(N,y,e)=>{"use strict";e.d(y,{Ao:()=>r.k,FQ:()=>c.q,IU:()=>i,Jg:()=>o.G,RW:()=>n.jB,YB:()=>m,fe:()=>t.T,iV:()=>l,mF:()=>s.I,on:()=>a,qU:()=>n.Sv});var t=e(1614054140),n=e(4349526263),o=e(5216556985),s=e(8485081141),c=e(6515569951),r=e(2164700852);const a={Generic:"generic",InternalInviteNotMember:"internal_not_member",InternalInviteNotMemberCanRequest:"internal_not_member_can_request",InternalInviteNoAccess:"internal_no_access",InternalInviteWasPreviouslyConnected:"internal_was_previously_connected",InternalInviteWasPreviouslyConnectedButNotMember:"internal_was_previously_connected_but_not_member",InvalidRecipientTeam:"invalid_recipient_team"};function i(_){return!!_&&!!_.channel}E(i,"isSharedChannelInvite");function l(_){return!!_&&!i(_)&&!m(_)}E(l,"isDirectMessageInvite");function m(_){return!!_&&!!_.shared_workspace}E(m,"isSharedWorkspaceInvite")},266169032:(N,y,e)=>{"use strict";e.d(y,{M:()=>t});const t={shareChannelCreate:"share_channel_create",channelInviteModal:"channel_invite_modal",scdmFreeStartTrialBanner:"scdm_free_start_trial_banner",messageLimitTrialOfferModal:"message_limit_trial_offer_modal",huddlesTrialEntryPointModal:"huddles_trial_entry_point_modal",slackConnectTrialEntryPointModal:"slack_connect_trial_entry_point_modal",canvasTrialOfferModal:"canvas_trial_offer_modal"}},6917756165:(N,y,e)=>{"use strict";e.d(y,{E:()=>t,Z:()=>n});const t=E(o=>!!o.length,"isNonEmptyArray"),n=E(o=>o.length===0?!1:o.every(s=>typeof s=="string"),"isNonEmptyArrayOfStrings")},7712314707:(N,y,e)=>{"use strict";e.d(y,{V:()=>o});var t=e(8389327410);const{BROADCAST:n}=t.Lv,o=E(s=>{var c;return((c=s)===null||c===void 0?void 0:c.type)===n},"isRichTextBroadcastElement")},475043867:(N,y,e)=>{"use strict";e.d(y,{P:()=>o});var t=e(8389327410);const{CHANNEL:n}=t.Lv,o=E(s=>{var c;return((c=s)===null||c===void 0?void 0:c.type)===n},"isRichTextChannelElement")},1843207890:(N,y,e)=>{"use strict";e.d(y,{i:()=>o});var t=e(8389327410);const{DATE:n}=t.Lv,o=E(s=>{var c;return((c=s)===null||c===void 0?void 0:c.type)===n},"isRichTextDateElement")},6659965705:(N,y,e)=>{"use strict";e.d(y,{H:()=>o});var t=e(8389327410);const{USER:n}=t.Lv,o=E(s=>{var c;return((c=s)===null||c===void 0?void 0:c.type)===n},"isRichTextUserElement")},9413477854:(N,y,e)=>{"use strict";e.d(y,{G:()=>o});var t=e(8389327410);const{USERGROUP:n}=t.Lv,o=E(s=>{var c;return((c=s)===null||c===void 0?void 0:c.type)===n},"isRichTextUsergroupElement")},9802930866:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(7715417323),n=e(8389327410);function o(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return s?s.reduce((a,i)=>{if(i.type===n.Lv.LIST){const m=(i.elements||[]).map(_=>_.elements.reduce((h,d)=>r(h,d),c));return a.concat(m)}const l=(i.elements||[]).reduce((m,_)=>r(m,_),c);return a.concat([l])},[]):[]}E(o,"richTextChunkReduce")},411655882:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(362134992),n=e(9671714094),o=e(8933111773);function s(){return(0,t.A)(Object.entries(n.N).filter(c=>{let[r,a]=c;return a.is_enabled_by_default}).map(c=>{let[r,a]=c;return(0,o.A)(r)}))}E(s,"getAllBroadcastKeywords")},2229186:(N,y,e)=>{"use strict";e.d(y,{A:()=>f});var t=e(362134992),n=e(9548888903),o=e(2233365467),s=e(9280052135),c=e(1407713935),r=e(8920264989),a=e(6113051341),i=e(2350349607),l=e(324756633),m=e(641827819),_=e(8933111773),h=e(7582939986),d=e(9101533895);function f(v,u){const g=(0,d.OL)(v,u),p=(0,s.l)(v);if(!g)return[];const A=[];if((0,m.W)(v,u)&&A.push((0,_.A)("BKeveryone")),((0,i.V)(g)||(0,c.yz)(g))&&(!(0,a.N)(g)||(0,m.W)(v,u))&&(0,l.S)(v,u)&&(A.push((0,_.A)("BKchannel")),A.push((0,_.A)("BKhere"))),(0,c.U_)(g))switch((0,o.dM)(g)){case n.hM.Account:A.push((0,_.A)("BKsf:accountteam",(0,r.SB)(v,g),!0));break;case n.hM.Opportunity:A.push((0,_.A)("BKsf:dealteam",(0,r.SB)(v,g),!0));break;default:break}if(p){const C=(0,d.Pu)(v,h.Q$);(g==null?void 0:g.id)===(C==null?void 0:C.id)&&A.push((0,_.A)("BKassistant:einstein",null,!1,!0))}return(0,t.A)(A)}E(f,"getBroadcastKeywordsForUser")},7908601590:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(9113979368),n=e(8243083011),o=e(8163773562);function s(c,r){var a;if(!(0,n.q)(c,r))return!0;const i=(0,o.d)(c,r,"enable_at_channel");return(0,t.A)(i)||((a=i)===null||a===void 0?void 0:a.enabled)}E(s,"isBroadcastKeywordsEnabled")},755982243:(N,y,e)=>{"use strict";e.d(y,{w:()=>o});var t=e(3193155968);function n(s){var c;return(c=s.ownerDocument)===null||c===void 0?void 0:c.defaultView}E(n,"getWindowForElement");function o(s){return!t.TQ.includes(s)}E(o,"shouldViewNavigateInContext")},1236965385:(N,y,e)=>{"use strict";e.d(y,{$A:()=>r,ce:()=>c,hO:()=>o});var t=e(3134334389),n=e(8668318456);const o=E(a=>({action:n.UiAction.IMPRESSION,uiPage:window.location.href,...a}),"getAuthImpressionTrackParams"),s=E(a=>({action:n.UiAction.CLICK,uiPage:window.location.href,...a}),"getAuthClickTrackParams"),c=E(a=>({uiPage:window.location.href,...a}),"getAuthTrackParams");function r(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const i=(0,t.useRef)(null),l=(0,t.useCallback)(h=>d=>{if(i.current={track:d},a){var f;i==null||(f=i.current)===null||f===void 0||f.track(o(h))}},[i,a]),m=(0,t.useCallback)(h=>()=>{var d;i==null||(d=i.current)===null||d===void 0||d.track(s(h))},[i]),_=(0,t.useCallback)(h=>()=>{var d;i==null||(d=i.current)===null||d===void 0||d.track(c(h))},[i]);return{trackClog:i,trackClogAuthRef:l,clogAuthLoginClick:m,clogAuthLoginAction:_}}E(r,"useAuthClogger")},3170230049:(N,y,e)=>{"use strict";e.d(y,{e:()=>n});var t=e(56548687);function n(o){return(0,t.e)({state:o})}E(n,"getClogger")},6089229811:(N,y,e)=>{"use strict";e.d(y,{LC:()=>n,av:()=>o,ev:()=>t});const t={NONE:"none",OPTIONAL_ID_ONLY:"optional_id_only",EXTENSIVE:"extensive",OPTIONAL_AND_REGIONAL_IDS:"optional_and_regional_ids"},n={AE_TRN:"ae_trn",AU_ABN:"au_abn",CA_BN:"ca_bn",CA_GST_HST:"ca_gst_hst",CA_QST:"ca_qst",CH_VAT:"ch_vat",CL_TIN:"cl_tin",ES_CIF:"es_cif",EU_VAT:"eu_vat",GE_VAT:"ge_vat",HK_BR:"hk_br",ID_NPWP:"id_npwp",IN_GST:"in_gst",JP_CN:"jp_cn",KR_BRN:"kr_brn",MX_RFC:"mx_rfc",MY_ITN:"my_itn",MY_SST:"my_sst",NO_VAT:"no_vat",NZ_GST:"nz_gst",RU_INN:"ru_inn",SA_VAT:"sa_vat",SG_GST:"sg_gst",SG_UEN:"sg_uen",TH_VAT:"th_vat",TR_TIN:"tr_tin",TW_VAT:"tw_vat",UNKNOWN:"unknown",ZA_VAT:"za_vat",UA_VAT:"ua_vat",KE_PIN:"ke_pin",EG_TIN:"eg_tin"},o=20},3246555800:(N,y,e)=>{"use strict";e.d(y,{FL:()=>a,HC:()=>f,Je:()=>h,KV:()=>v,L$:()=>l,P7:()=>_,RL:()=>m,Y3:()=>c,b6:()=>i,jM:()=>u,zb:()=>r});var t=e(8086952004),n=e(6089229811);function o(g,p,A,C){if(A&&C){var T,I;return g==null||(T=g[p])===null||T===void 0||(I=T.regional_overrides)===null||I===void 0?void 0:I[A]}return g==null?void 0:g[p]}E(o,"getTaxConfig");function s(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=o(g,p,A,C);var I;return(I=T==null?void 0:T.tax_id_form_variant)!==null&&I!==void 0?I:n.ev.NONE}E(s,"getTaxUiFormType");function c(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return s(g,p,A,C)===n.ev.EXTENSIVE}E(c,"shouldShowMultipartTaxUI");function r(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(g,p,A,C);return T===n.ev.EXTENSIVE||T===n.ev.OPTIONAL_ID_ONLY||T===n.ev.OPTIONAL_AND_REGIONAL_IDS}E(r,"shouldShowTaxIdInputField");function a(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return s(g,p,A,C)===n.ev.OPTIONAL_AND_REGIONAL_IDS}E(a,"shouldCollectRegionalTaxId");function i(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(g,p,A,C);return T===n.ev.OPTIONAL_ID_ONLY||T===n.ev.OPTIONAL_AND_REGIONAL_IDS}E(i,"isTaxIdOptional");function l(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=o(g,p,A,C);var I;return(I=T==null?void 0:T.stripe_tax_id_type)!==null&&I!==void 0?I:null}E(l,"getTaxIdType");function m(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=o(g,p,A,C);return T==null?void 0:T.tax_name}E(m,"getTaxName");function _(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=o(g,p,A,C);var I;const M=(I=T==null?void 0:T.tax_id_max_length)!==null&&I!==void 0?I:0;return Number.isInteger(M)&&M>0?M:n.av}E(_,"getTaxIdMaxLength");function h(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=o(g,p,A,C);var I;const M=(I=T==null?void 0:T.tax_id_examples)!==null&&I!==void 0?I:[];var D;return(D=M[0])!==null&&D!==void 0?D:""}E(h,"getTaxIdExample");function d(g,p,A,C){var T;const I=o(g,p,A,C),M=I==null||(T=I.tax_id_validation_regex)===null||T===void 0?void 0:T.replace(/\//g,"");return M?new RegExp(M,"i"):null}E(d,"getTaxIdValidator");function f(g,p,A,C){let T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const I=d(g,p,A,T);return!I||!C&&i(g,p,A,T)?!0:C&&I?I.test(C):!1}E(f,"isTaxIdValid");function v(g,p,A){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=o(g,p,A,C);return!!(T!=null&&T.should_ask_is_vat_registered)}E(v,"shouldAskIsVatRegistered");function u(g,p){return(0,t.A)(g,A=>A.iso_code===p)}E(u,"getCountryByCode")},9702400417:(N,y,e)=>{"use strict";e.d(y,{A:()=>r,Q:()=>c});var t=e(9907843289),n=e(4452574402);const o={USD:{"fr-FR":{string:"dollar des \xC9tats-Unis",correction:"dollar am\xE9ricain"},"pt-BR":{string:"D\xF3lar",correction:"d\xF3lar"},"zh-CN":{string:"\u7F8E\u5143",correction:"USD \u7F8E\u5143"}},JPY:{"pt-BR":{string:"Iene",correction:"iene"},"zh-CN":{string:"\u65E5\u5143",correction:"JPY \u65E5\u5143"}},EUR:{"pt-BR":{string:"Euro",correction:"euro"},"zh-CN":{string:"\u6B27\u5143",correction:"EUR \u6B27\u5143"}},GBP:{"zh-CN":{string:"\u82F1\u9551",correction:"GBP \u82F1\u9551"},"ko-KR":{string:"\uC601\uAD6D \uD30C\uC6B4\uB4DC",correction:"\uC601\uAD6D\uB839 \uD30C\uC6B4\uB4DC \uC2A4\uD138\uB9C1"}}};function s(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,{displayTrailingZeroes:l=!1,currencyDisplay:m="symbol",renderCurrencyText:_=!1,minimumFractionDigits:h=0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!i)return;const d=(0,t.Yp)(),f={coerce:!0,style:"currency",currency:i,currencyDisplay:m};if(a%100===0&&!l?f.minimumFractionDigits=0:h&&(f.minimumFractionDigits=h),_){f.minimumFractionDigits=0,f.currencyDisplay="name";const u=/\d+(\s)|\d/g,g=(0,n.ZV)(0,d,f).replace(u,""),p=o[i];if(p&&p[d]){const{string:A,correction:C}=p[d];return g.replace(A,C)}return g}let v=(0,n.ZV)(a,d,f);if(i==="USD")switch(d){case"en-US":v+=" USD";break;case"en-GB":v=v.replace("US$","$US");break;case"fr-FR":v=v.replace("$US","$\xA0US");break;case"ja-JP":v=v.replace("$","US$");break;case"de-DE":v=v.replace("$","USD");break;case"es-ES":v=v.replace("US$","USD");break;case"es-LA":break;case"it-IT":v=v.replace("USD","$");break;case"zh-CN":v=v.replace("US$","$");break;default:break}else i==="GBP"&&d==="ko-KR"?v=`${v.replace("\xA3","")}\uD30C\uC6B4\uB4DC`:(i==="JPY"&&d==="it-IT"||d==="fr-FR")&&(v=v.replace("JPY","\xA5"));if(d==="zh-TW")switch(i){case"USD":v=v.substring(3),v+=" \u7F8E\u5143";break;case"EUR":v=v.substring(1),v+=" \u6B50\u5143";break;case"GBP":v=v.substring(1),v+=" \u82F1\u938A";break;case"JPY":v=v.substring(1),v+=" \u65E5\u5713";break;default:break}return v}E(s,"formatCurrency");const c=E(a=>{var i;const l=(0,t.Yp)(),m=(0,n.Zi)(l,{style:"currency",currency:a}).formatToParts(0);var _;return(_=(i=m==null?void 0:m.find(h=>(h==null?void 0:h.type)==="currency"))===null||i===void 0?void 0:i.value)!==null&&_!==void 0?_:null},"getCurrencySymbol"),r=s},3044566667:(N,y,e)=>{"use strict";e.d(y,{gy:()=>n,tN:()=>o,zQ:()=>t});const t={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},n="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",o={EMAIL:new RegExp(`^${n}$`,"i"),CONTAINS_EMAIL:new RegExp(`${n}`,"i"),DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i}},3982736577:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(3078252698),n=e(3740968700),o=e(362134992);const c=E(r=>{if(!(0,t.A)(r))return null;const a=[...r].map(i=>{const l=i.codePointAt(0);if(!l)return null;const m=l.toString("16");return(0,n.A)(m,4,"0")});return(0,o.A)(a).join("-")},"convertNativeEmojiToUnicodeSequence")},6818330210:(N,y,e)=>{"use strict";e.d(y,{H:()=>o});var t=e(9113979368),n=e(9936232041);function o(s,c){if(!c||(0,t.A)(c))return{name:s};const r=(0,n.A)(s);if(!r)return{name:s};const{name:a,skinTone:i}=r,l=c[a];if(!l||(0,t.A)(l))return{name:s};const m=l.display_alias,_=m??a,h=i?`:${_}::skin-tone-${i}:`:`:${_}:`,d=l.display_url;return{name:h,url:d}}E(o,"getEmojiDisplayInfoFromMap")},2354051480:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(7582939986);let n;const o=E(()=>{if(n)return n;const s=Object.keys(t.dq).map(c=>c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"));return n=new RegExp(`(^|\\s)(${s.join("|")})(?=$|[\\s|\\?\\.,!])`,"g"),n},"__WEBPACK_DEFAULT_EXPORT__")},1301184890:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(6533394955),n=e(3829348308);function o(s,c){const r=c&&(0,t.$D)(c);return r&&(0,n.ux)(r,{text:s,teamId:c})?r&&(0,n.pA)(r,{text:s,teamId:c}):new Error(`invalid emojiName passed to isEmojiMultiSkinToneCapable: ${s}`)}E(o,"isEmojiMultiSkinToneCapable")},3259512346:(N,y,e)=>{"use strict";e.d(y,{s:()=>o});var t=e(4094753332),n=e(6089972488);function o(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.process&&window.process.versions&&window.process.versions.electron,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window.navigator.userAgent;if(!(0,t.y3)(r)||!c)return!1;const a=(0,n.P)(s),i=(0,n.P)(c);return(0,n.Z)(i,a)>=0}E(o,"isElectronAndAtLeastVersion")},1360656152:(N,y,e)=>{"use strict";e.d(y,{A:()=>d});var t=e(9087248458),n=e(8289365785),o=e(9323322135),s=e(3929724715),c=e(1407713935),r=e(2298581483),a=e(9392104102),i=e(4096483543),l=e(4496040127),m=e(7384121809),_=e(9012396182);function h(){if((0,i.A)()){const f=(0,m.Ry)(),v=(0,_.getAllWorkspaces)(f),u=(0,_.getBootedWorkspaces)(f);return(0,t.A)(v,u)}return(0,o.g9M)()?(0,o.WrY)():a.Ml}E(h,"getOrderedTeamIds");function d(f){let{state:v,channel:u,currentTeamId:g,preferredTeamId:p}=f;if(!u||(0,c.QR)(u)||!v)return null;if(!(0,s.lo)(u))return g;if(!(0,i.A)()&&!(0,o.g9M)())return null;const A=(0,r.R)(v,u);if(!A||!A.length)return null;const C=h();if(!C||!C.length||(0,i.A)()&&!(0,l.VA)())return null;if(p&&A.includes(p)&&C.includes(p))return p;var T;return(T=(0,n.A)((0,t.A)(C,A)))!==null&&T!==void 0?T:null}E(d,"findDesktopTeamIdForChannel")},1033764764:(N,y,e)=>{"use strict";e.d(y,{UK:()=>i,Z$:()=>s,hZ:()=>r});const t=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],n=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],o=E(function(m,_,h){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(m===0)return 0;if(_===h)return parseFloat(m.toFixed(d));const v=f?1024:1e3,u=f?t:n,g=u.findIndex(A=>A.toLowerCase()===_.toLowerCase()),p=u.findIndex(A=>A.toLowerCase()===h.toLowerCase());if(g===-1)throw new Error(`Unknown currentType '${_}' passed to convertToSize`);if(p===-1)throw new Error(`Unknown desiredType '${h}' passed to convertToSize`);return g<p?parseFloat((m/v**(p-g)).toFixed(d)):parseFloat((m*v**(g-p)).toFixed(d))},"convertToSize"),s=E(function(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"B",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(m===0)return{size:0,type:"B"};const f=d?1024:1e3,v=d?t:n;let u=Math.log(m)/Math.log(f);u<1&&(u=-Math.floor(Math.log(Math.abs(u))/Math.log(10)+1));const g=v.findIndex(A=>A.toLowerCase()===_.toLowerCase()),p=Math.max(Math.min(g+Math.floor(u),v.length-1),0);if(g===-1)throw new Error(`Unknown currentType '${_}' passed to convertToSize`);return{size:o(m,_,v[p],h,d),type:v[p]}},"convertToOptimumSize"),c=E(function(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(m,"B","KB",_,!1)},"convertBytesToKilobytes"),r=E(function(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(m,"B","MB",_,!1)},"convertBytesToMegabytes"),a=E(function(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(m,"B","GB",_,!1)},"convertBytesToGigabytes"),i=E(function(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(m,"KB","MB",_,!1)},"convertKilobytesToMegabytes"),l=E(function(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(m,"KB","GB",_,!1)},"convertKilobytesToGigabytes")},887579008:(N,y,e)=>{"use strict";e.d(y,{A:()=>U});var t=e(6249041335),n=e(9599231336),o=e(7582939986),s=e(2354051480);const c=/[-[\]{}()*+?.,\\^$|#\s]/g,r=/\n?(6\)|7\))/,a=E(P=>{let L=0;const F=[];let x=P.replace((0,s.A)(),(b,k,B,W)=>{const K=L;L=W+b.length;const H=B.indexOf("(")!==-1,z=B.indexOf(")")!==-1;if((H||z)&&F.indexOf(B)===-1&&F.push(B),z&&!H){const Q=P.substring(K,W);if(Q.indexOf("(")!==-1&&Q.indexOf(")")===-1)return b}if(b===`
8)`){const Q=P.substring(0,W);if(r.test(Q))return b}return o.dq[B]?`${k}:${o.dq[B]}:`:b});if(F.length){const b=F.map(B=>B.replace(c,"\\$&")),k=new RegExp(`(\\(.+)(${b.join("|")})(.+\\))`,"g");x=x.replace(k,(B,W,K,H)=>o.dq[K]?`${W}:${o.dq[K]}:${H}`:B)}return x},"replace_emoticons_with_colons"),i=/(^|\n)>(?![\W_](?:<|>|[|/\\[\]{}()Dpb](?=\s|$)))(([^\n]*)(\n>[^\n]*)*)/g;function l(P){const L=[];let F=0;return{text:P.replace(i,b=>{F+=1;const k=`quoted-text-placeholder-${Date.now()}-${F}`;return L.push({match:b,placeholder:k}),k}),quotedSections:L}}E(l,"replaceQuotedText");var m=e(5342516244),_=e(1842363787),h=e(9907843289),d=e(9846149684),f=e(9974473728),v=e(8207536819),u=e(8040098042),g=e(4862221402),p=e(2414816894);function A(P){return(0,p.A)(P)?P.replace(/^BK/,""):""}E(A,"getBroadcastKeyword");var C=e(5003409852);function T(P,L,F){const x=[];return{text:P.replace(d.Y,(k,B,W)=>{let K;if((0,p.A)(B)?K=`<!${A(B)}>`:(0,C.A)(B)?K=L?(0,v.A)(W):W:(0,g.A)(B)?K=`<!subteam^${B}|${W}>`:(0,u.A)(B)?K=F?`<#${B}|${W.substr(1)}>`:void 0:K=`<@${B}>`,!K)return k;const z=`mention-${x.length+1}-${Date.now()}`;return x.push({mention:K,placeholder:z}),z}),mentions:x}}E(T,"replaceFormatMentions");var I=e(3829348308),M=e(6866036454),D=e(1317368584),O=e(2047021170);const S=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201C|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,R=/(^|\S)( +)(\n|$)/gm;function U(P,L){let{isInternalMessage:F}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!P||!L)return"";const x=!F,b=(0,D.A)(P),k=(0,O.ty)(P,"convert_emoticons"),B=(0,M.A)(P),W=(0,n.P)(P),K=!0;let H=L,z=[];H=(0,m.A)(H),H=(0,_.kW)(z,H,{replace_pre:!0,replace_code:!0});const Q=T(H,x,K);if(H=Q.text,H=H.replace(R,"$1$3"),k&&!W){const $=l(H);H=$.text,H=a(H),$.quotedSections.forEach(le=>{H=H.replace(le.placeholder,()=>le.match)})}x&&(H=(0,_.wx)(H,"CLEAN",{jumbomoji:b,allow_intra_word_formatting:!0})),Q.mentions.forEach($=>{H=H.replace($.placeholder,()=>$.mention)});const q=(0,I.CK)(P);return z=z.map($=>{const le={...$},te=(0,d.A)(le.str,{highlightWords:B,shouldRenderEmojiAsText:W,emojiNames:q,locale:(0,h.Yp)(),useChannelTagging:K});return le.str=(0,f.A)(te),x&&(le.str=(0,_.wx)(le.str,"CLEAN",{jumbomoji:b,allow_intra_word_formatting:!0})),le}),H=(0,_.Ki)(z,H),(0,t.A)(H)}E(U,"clean_message_text_with_state")},4173622771:(N,y,e)=>{"use strict";e.d(y,{Y:()=>o});var t=e(8933111773),n=e(770649013);function o(s){let{type:c,tsfMode:r="NORMAL"}=s;if(!c)return null;let a;return c==="group"?a="group":a=(0,n.A)((0,t.A)(`BK${c}`)),r==="EDIT"?`<@BK${c}|@${a}>`:`@${a}`}E(o,"formatBroadcastCommand")},5342516244:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});const t=E(n=>n?n.replace(/\u00A0/g," ").replace(/\u000D/g,`
`).replace(/\u000A/g,`
`):"","__WEBPACK_DEFAULT_EXPORT__")},8556787853:(N,y,e)=>{"use strict";e.d(y,{Ac:()=>_,Ay:()=>l,lF:()=>m});var t=e(7174777686),n=e(7582939986),o=e(6409159738),s=e(9114759771),c=e(6839188756),r=e(2047021170),a=e(1670069836);const i=E((h,d,f)=>{const v=f?h*2:h,u=f?d*2:d,p=v>n.QI||u>n.Jo?Math.min(n.QI/v,n.Jo/u):1,A=Math.floor(v*p),C=Math.floor(u*p);return{width:A,height:C}},"getConstrainedMediaDimensions");function l(h){let{url:d,width:f,height:v,rotate:u,renderSvg:g,stopAnimations:p,sizeForRetina:A,convertIco:C,isEmoji:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!d)return null;const I=(0,c.Uz)((0,a.H7)(h));if(!I||d.indexOf(I)===0||d.indexOf("/img/")===0)return d;if(d.indexOf("https://")===0&&!T){const U=(0,s.yz)(d,!0),P=(0,o.QL)();if((0,t.A)(P,U)){if(p&&U==="slack-imgs.com"){const L=new URL(d),F=L.searchParams.has("o1")?`${L.searchParams.get("o1")}.gu`:"gu";return L.searchParams.set("o1",F),L.href}return d}}const M=new URL(I);M.searchParams.set("c",n.lW);const{width:D,height:O}=f&&v?i(f,v,A):{},S=[];return D&&O&&(S.push(`wi${D}`),S.push(`he${O}`),S.push("si")),u&&S.push("ro"),g&&S.push("sv2"),(p||!(0,r.ty)(h,"a11y_animations"))&&S.push("gu"),C&&S.push("ip"),S.length&&M.searchParams.set("o1",S.join(".")),M.searchParams.set("url",d),M.href}E(l,"getImgProxyUrl");const m=E(async h=>{try{const d=new URL(h);return!!(await fetch(`https://${d.hostname}/?url=${d.searchParams.get("url")}`,{method:"HEAD",mode:"cors"})).headers.get("x-slack-animated")}catch(d){if(d)return!1}return!1},"isImageAnimated"),_=E(h=>h.replace(".gu",""),"getAnimatedImgUrl")},8257102208:(N,y,e)=>{"use strict";e.d(y,{$q:()=>a,W4:()=>m});var t=e(3262078016),n=e(2647703359),o=e(497761763),s=e(7732872146),c=e(7102510068),r=e(937317117);function a(_,h){if(!h)return null;const d=(0,s.Ay)(h);return l(_,d)}E(a,"getListIdFromUrl");function i(_){for(const h of c.h)if(h.urlType===t.CollabUrlType.SLACK_LIST){const d=h.regExp,f=_.match(d);if(!f||f.length<1)continue;return f}return null}E(i,"matchListCollabUrlRegex");function l(_,h){const d=h.href,f=i(d);if(!f)return null;const v=f[6];if(!v||!(0,o.A)(v))return null;const u=(0,r.Lp)(_,v);return(0,n.l7)(u)?v:null}E(l,"getListIdFromParsedUrl");function m(_,h){const d=l(_,h);if(!d)return null;const f=(0,r.Lp)(_,d);return f&&((0,n.sR)(f)||(0,n.Bp)(f))?d:null}E(m,"getListFileIdWithoutAccessFromParsedUrl")},6415587347:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>zt});var t=e(3783723764),n=e(8840779375),o=e(2604971659),s=e(4103274853),c=e(2208015175),r=e(397660785),a=e(7582939986),i=e(6363331542),l=e(2256285620),m=e.n(l),_=e(6906793909),h=e.n(_),d=e(1060768686),f=e.n(d),v=e(2979422297),u=e.n(v),g=e(983107878),p=e.n(g),A=e(2316786074),C=e.n(A),T=e(3708998647),I=e.n(T),M=e(5098468056),D=e.n(M),O=e(4923972147),S=e.n(O),R=e(3224273568),U=e.n(R),P=e(8390767423),L=e.n(P),F=e(1957386787),x=e.n(F),b=e(4245237474),k=e.n(b),B=e(7523979550),W=e.n(B),K=e(77360885),H=e.n(K),z=e(451984622),Q=e.n(z),q=e(2200759559),$=e.n(q),le=e(7272988726),te=e.n(le),ce=e(2261459203),me=e.n(ce),_e=e(3431559584),Ae=e.n(_e),ye=e(4165874747),oe=e.n(ye),ee=e(1023719767),V=e.n(ee),w=e(3710970638),Y=e.n(w),G=e(4814900690),Z=e.n(G),se=e(7183565897),ae=e.n(se),re=e(1889110914),pe=e.n(re),de=e(669259003),ie=e.n(de),he=e(7331486018),ve=e.n(he),ge=e(1001408479),ke=e.n(ge),Ne=e(7428983508),We=e.n(Ne),Oe=e(350135845),be=e.n(Oe),Ke=e(474239361),Fe=e.n(Ke),J=e(1302153452),ne=e.n(J),je=e(9825918216),at=e.n(je),nt=e(3333214639),Ge=e.n(nt),Pe=e(5156772208),Le=e.n(Pe),ze=e(4948097913),Me=e.n(ze),Ce=e(5908867676),Qe=e.n(Ce),Be=e(2295488157),we=e.n(Be),xe=e(9948433110),Se=e.n(xe),Ye=e(3963460214),ot=e.n(Ye),_t=e(9267813754),pt=e.n(_t),vt=e(2981982679),yt=e.n(vt),Tt=e(9833689275),ft=e.n(Tt),Ct=e(9777215928),At=e.n(Ct),kt=e(9602720019),Bt=e.n(kt),St=e(9241168512),Gt=e.n(St),Et=e(4840951141),wt=e.n(Et),Jt=e(7129884748),Lt=e.n(Jt),Zt=e(4063699741),qt=e.n(Zt);function tt(Wt){return(0,t.A)((0,n.A)((0,o.A)(Wt),Ft=>parseInt(Ft,10)),null,"desc")}E(tt,"makeOrderedIconSizes");function st(Wt){return(0,s.A)(Wt,Ft=>tt(Ft))}E(st,"makeOrderedNamedIconSizes");const gt={24:C(),32:I(),36:D(),72:S(),192:U()},Nt={24:m(),32:h(),36:f(),72:u(),192:p()},Ht={fancy:{20:L(),24:x(),32:k(),36:W(),48:H(),72:Q(),192:$(),360:te(),512:me(),1024:Ae()},frowny:{20:oe(),24:V(),32:Y(),36:Z(),48:ae(),72:pe(),192:ie(),360:ve(),512:ke(),1024:We()},neutral:{20:be(),24:Fe(),32:ne(),36:at(),48:Ge(),72:Le(),192:Me(),360:Qe(),512:we(),1024:Se()},sad_surprise:{20:ot(),24:pt(),32:yt(),36:ft(),48:At(),72:Bt(),192:Gt(),360:wt(),512:Lt(),1024:qt()}},Xt=24,j=tt(Nt),Ie=st(Ht),Ue="image_";function rt(Wt){const Ft=[];return(0,c.A)(Wt,(rn,_n)=>{if(_n.indexOf(Ue)!==0)return;const An=_n.slice(Ue.length);Ft.unshift(parseInt(An,10))}),Ft}E(rt,"getSizeOptionsFromProfile");function zt(Wt){let{size:Ft,teamOrEnterpriseId:rn,memberId:_n,avatarHash:An,emoji:un,isBot:Rn=!1,botImages:Un=!1,slackbotFeels:Wn=null,isUserHidden:vn=!1}=Wt,Ln,On,kn=!1;if(!Ft||!Rn&&!vn&&(!rn||!_n||!An)&&!un)return{};if(un)return{emoji:un,isDefault:!1};if(vn){const Hn=(0,i.A)(Ft,j),Bn=(0,i.A)(Ft*2,j);Ln=gt[Hn||Xt],On=gt[Bn||Xt],kn=!0}else if(_n===a.Q$&&Wn&&Ht[Wn]){const Hn=(0,i.A)(Ft,Ie[Wn]),Bn=(0,i.A)(Ft*2,Ie[Wn]);Ln=Ht[Wn][Hn||Xt],On=Ht[Wn][Bn||Xt]}else if(!Rn||rn&&_n&&An){const Hn=(0,i.A)(Ft),Bn=(0,i.A)(Ft*2),Jn=(0,r.Z)(rn);Ln=`${Jn}${rn}-${_n}-${An}-${Hn}`,On=`${Jn}${rn}-${_n}-${An}-${Bn}`}else if(Un){const Hn=rt(Un),Bn=(0,i.A)(Ft,Hn),Jn=(0,i.A)(Ft*2,Hn);Ln=Un[Ue+Bn],On=Un[Ue+Jn]}if(Rn&&!Ln&&!On&&!un){const Hn=(0,i.A)(Ft,j),Bn=(0,i.A)(Ft*2,j);Ln=Nt[Hn||Xt],On=Nt[Bn||Xt],kn=!0}return{imageUrl:Ln,imageUrl2x:On,emoji:un,isDefault:kn}}E(zt,"getMemberProfileImage")},92812954:(N,y,e)=>{"use strict";e.d(y,{d:()=>s});var t=e(5096647761),n=e(3792998666),o=e(8276911661);function s(c,r){if(!r)return"member";const a=(0,o.nv)(c,r);let i="member";return(0,t.g)(a)?i="external":(0,n.Ez)(a)&&!(0,n.Yd)(a)?i="ra":(0,n.Yd)(a)&&(i="ura"),i}E(s,"getMemberType")},9899967630:(N,y,e)=>{"use strict";e.d(y,{cR:()=>a,dR:()=>d});var t=e(3262078016),n=e(2647703359),o=e(497761763),s=e(7732872146),c=e(7102510068),r=e(937317117);function a(f,v){if(!v)return null;const u=(0,s.Ay)(v);return _(f,u)}E(a,"getQuipFileIdFromUrl");function i(f,v){if(!v)return null;const u=parseUrl(v);return h(f,u)}E(i,"getQuipFileIdWithAccessFromUrl");function l(f,v){if(!v)return null;const u=parseUrl(v);return d(f,u)}E(l,"getQuipFileIdWithoutAccessFromUrl");function m(f){for(const v of c.h)if(v.urlType===t.CollabUrlType.SLACK_DOCUMENT||v.urlType===t.CollabUrlType.SLACK_DOCUMENT_SECTION){const u=v.regExp,g=f.match(u);if(!g||g.length<1)continue;return g}return null}E(m,"matchCanvasCollabUrlRegex");function _(f,v){const u=v.href,g=m(u);if(!g)return null;const p=g[6];if(!p||!(0,o.A)(p))return null;const A=(0,r.Lp)(f,p);return(0,n.DQ)(A)?p:null}E(_,"getQuipFileIdFromParsedUrl");function h(f,v){const u=_(f,v);if(!u)return null;const g=getFileById(f,u);return!g||isNotVisible(g)?null:u}E(h,"getQuipFileIdWithAccessFromParsedUrl");function d(f,v){const u=_(f,v);if(!u)return null;const g=(0,r.Lp)(f,u);return g&&(0,n.sR)(g)?u:null}E(d,"getQuipFileIdWithoutAccessFromParsedUrl")},8520727613:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(3009309149),n=e(6533394955),o=e(4761125736),s=e(9012396182);const c=(0,t.Ay)((a,i,l)=>((0,s.getAllWorkspaces)(a)||[]).some(_=>{var h;const d=(h=(0,n.oK)(_))===null||h===void 0?void 0:h.getState();return d?(0,o._Z)(d,i)===l:!1}));c.meta={name:"createSelector",key:"createSelectorhasGroupForAnyTeam",description:(a,i,l)=>((0,s.getAllWorkspaces)(a)||[]).some(_=>{var h;const d=(h=(0,n.oK)(_))===null||h===void 0?void 0:h.getState();return d?(0,o._Z)(d,i)===l:!1})};const r=c},5770715593:(N,y,e)=>{"use strict";e.d(y,{C9:()=>a,Gl:()=>c,VQ:()=>r,XU:()=>n,dL:()=>o,rU:()=>s,x_:()=>i});var t=e(4761125736);const n=E(l=>(0,t._Z)(l,"help_shareables_tm")==="on","isHelpShareablesTmExperimentOn"),o=E(l=>(0,t._Z)(l,"help_articles_in_search")==="treatment","isHelpArticlesInSearchExperimentTreatment"),s=E(l=>(0,t._Z)(l,"help_smarticles")==="on","isHelpSmarticlesExperimentOn"),c=E(l=>(0,t._Z)(l,"help_navigation")==="on","isHelpNavigationExperimentOn"),r=E(l=>(0,t._Z)(l,"help_tour")==="treatment","isHelpTourExperimentTreatment"),a=E(l=>(0,t._Z)(l,"help_tips")==="on","isHelpTipsExperimentOn"),i=E(l=>(0,t._Z)(l,"help_slider_a11y_translations")==="on","isHelpSliderA11yTranslationsExperimentOn")},4240442510:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(8876859727),n=e(7105906370),o=e(6471059816),s=e(2384831516),c=e(4761125736),r=e(6324904206),a=e(3193155968);const i=new o.Ay("view"),l=(0,s.Mz)((_,h)=>{let{tab:d}=h;const f=(0,n.We)(_),v=(0,c._Z)(_,"activity_inbox")==="on",u=(0,t.Lq)(_),g=v?a.k6.ActivityInbox:a.k6.Activity,p=(0,r.NJ)(_);let A;switch(d){case a.k6.Home:A=i.t("Home");break;case a.k6.DMs:A=i.t("DMs");break;case g:A=i.t("Activity");break;case a.k6.Later:A=i.t("Later");break;case a.k6.SalesHome:A=i.t("Sales");break;case a.k6.Search:A=i.t("Search");break;case a.k6.ConversationalSearch:A=u?i.t("Explore"):"";break;case a.k6.Canvases:A=i.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"});break;case a.k6.Files:A=i.t("Files",{ns:"search"});break;case a.k6.UnifiedFiles:A=i.t("Files");break;case a.k6.Channels:A=i.t("Channels",{ns:"search"});break;case a.k6.People:A=i.t("People",{ns:"search"});break;case a.k6.Platform:A=i.t("Automations",{fallbackHash:"4186e4384191cd367f88423e6488c26e96a3807d",fallbackHashNs:"search"});break;case a.k6.ExternalConnections:A=i.t("External");break;case a.k6.Huddles:A=p?i.t("Calendar",{fallbackHash:"adab5090ac6a1b7b5420faac7be86c41721ba27c",fallbackHashNs:"today"}):i.t("Huddles");break;case a.k6.Assistant:A=f?i.t("Ask Slack"):"Ask Slack";break;case a.k6.Browse:A=i.t("More");break;case a.k6.Lists:A=i.t("Lists");break;case a.k6.Todos:A=i.t("To-dos",{fallbackHash:"6ce08d6beeac566483a902187fb3bd8302fafde9",fallbackHashNs:"todos"});break;case a.k6.Solutions:A=i.t("Templates");break;case a.k6.Agents:A="Agentforce";break;case a.k6.Sidekicks:A="Sidekicks";break;case a.k6.SlackKitPlayground:A="Slack Kit Playground";break;case a.k6.BBM:A="";break;case a.k6.Admin:A=i.t("Admin",{fallbackHash:"4e7afebcfbae000b22c7c85e5560f89a2a0280b4",fallbackHashNs:"enterprise_dashboard"});break;case a.k6.Today:A=i.t("Today",{fallbackHashNs:"calendar",fallbackHash:"24345a14377fd821d3932f4e82f6431640955b0b"});break;default:A="";break}return A});l.meta={name:"createSelector",key:"createSelectorgetTabLabel",description:(_,h)=>{let{tab:d}=h;const f=(0,n.We)(_),v=(0,c._Z)(_,"activity_inbox")==="on",u=(0,t.Lq)(_),g=v?a.k6.ActivityInbox:a.k6.Activity,p=(0,r.NJ)(_);let A;switch(d){case a.k6.Home:A=i.t("Home");break;case a.k6.DMs:A=i.t("DMs");break;case g:A=i.t("Activity");break;case a.k6.Later:A=i.t("Later");break;case a.k6.SalesHome:A=i.t("Sales");break;case a.k6.Search:A=i.t("Search");break;case a.k6.ConversationalSearch:A=u?i.t("Explore"):"";break;case a.k6.Canvases:A=i.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"});break;case a.k6.Files:A=i.t("Files",{ns:"search"});break;case a.k6.UnifiedFiles:A=i.t("Files");break;case a.k6.Channels:A=i.t("Channels",{ns:"search"});break;case a.k6.People:A=i.t("People",{ns:"search"});break;case a.k6.Platform:A=i.t("Automations",{fallbackHash:"4186e4384191cd367f88423e6488c26e96a3807d",fallbackHashNs:"search"});break;case a.k6.ExternalConnections:A=i.t("External");break;case a.k6.Huddles:A=p?i.t("Calendar",{fallbackHash:"adab5090ac6a1b7b5420faac7be86c41721ba27c",fallbackHashNs:"today"}):i.t("Huddles");break;case a.k6.Assistant:A=f?i.t("Ask Slack"):"Ask Slack";break;case a.k6.Browse:A=i.t("More");break;case a.k6.Lists:A=i.t("Lists");break;case a.k6.Todos:A=i.t("To-dos",{fallbackHash:"6ce08d6beeac566483a902187fb3bd8302fafde9",fallbackHashNs:"todos"});break;case a.k6.Solutions:A=i.t("Templates");break;case a.k6.Agents:A="Agentforce";break;case a.k6.Sidekicks:A="Sidekicks";break;case a.k6.SlackKitPlayground:A="Slack Kit Playground";break;case a.k6.BBM:A="";break;case a.k6.Admin:A=i.t("Admin",{fallbackHash:"4e7afebcfbae000b22c7c85e5560f89a2a0280b4",fallbackHashNs:"enterprise_dashboard"});break;case a.k6.Today:A=i.t("Today",{fallbackHashNs:"calendar",fallbackHash:"24345a14377fd821d3932f4e82f6431640955b0b"});break;default:A="";break}return A}};const m=l},6910192640:(N,y,e)=>{"use strict";e.d(y,{A:()=>R,o:()=>O});var t=e(537208959),n=e(4626613428),o=e(8876859727),s=e(7105906370),c=e(8180302442),r=e(5624319675),a=e(8956161330),i=e(6878532881),l=e(7244076749),m=e(1340402138),_=e(6470070112),h=e(6642124196),d=e(1552255081),f=e(920478515),v=e(6839188756),u=e(3402139184),g=e(1591473708),p=e(2584999337),A=e(2384831516),C=e(2284446909),T=e(5332875232),I=e(1670069836),M=e(3193155968);const D={[M.k6.Home]:U=>!(0,m.R)(U),[M.k6.Search]:()=>!1,[M.k6.ConversationalSearch]:U=>(0,o.Lq)(U),[M.k6.Activity]:U=>!(0,t.Lh)(U)&&(0,n.Ty)(U),[M.k6.ActivityInbox]:U=>(0,t.Lh)(U)&&(0,n.Ty)(U),[M.k6.DMs]:U=>(0,n.Ty)(U),[M.k6.UnifiedFiles]:U=>(0,p.a)(U)&&(0,n.Ty)(U),[M.k6.SlackKitPlayground]:U=>(0,l.b)()&&(0,n.Ty)(U),[M.k6.Solutions]:U=>(0,c.g)(U),[M.k6.Agents]:U=>(0,r.mr)(U)&&(0,n.Ty)(U)&&((0,r.nc)(U)?(0,C.Iy)(U):(0,C.sL)(U).length>=1),[M.k6.Sidekicks]:U=>(0,i.Q)(U)&&(0,n.Ty)(U),[M.k6.Later]:U=>(0,f.Bp)(U),[M.k6.Assistant]:U=>(0,s.We)(U)&&(0,n.Ty)(U),[M.k6.Canvases]:U=>(0,d.F)(U)&&!(0,m.R)(U)&&!(0,p.a)(U),[M.k6.Files]:U=>!(0,m.R)(U)&&(0,n.Ty)(U)&&!(0,p.a)(U),[M.k6.Channels]:U=>!(0,m.R)(U)&&(0,n.Ty)(U),[M.k6.Platform]:()=>!0,[M.k6.People]:U=>!(0,m.R)(U)&&(0,n.Ty)(U),[M.k6.Huddles]:U=>(0,_.Wd)(U)&&!(0,T.LS)(U)&&!(0,m.R)(U),[M.k6.SalesHome]:U=>(0,a.hx)(U),[M.k6.Lists]:U=>((0,v.tc)((0,I.H7)(U))&&(0,h.isListsEnableFreemiumAccessEnabled)(U)||(0,h.teamHasFullListsAccess)(U))&&!(0,m.R)(U)&&!(0,p.a)(U),[M.k6.Todos]:U=>(0,h.isTodosEnabled)(U)&&!(0,g.vI)(U),[M.k6.ExternalConnections]:()=>!0,[M.k6.Today]:U=>(0,u.d)(U)},O=E(U=>(0,A.Mz)(P=>D[U](P)),"makeSelectVisibleTab"),R=E((U,P)=>O(P)(U),"getTabVisibility")},505908973:(N,y,e)=>{"use strict";e.d(y,{A:()=>q});var t=e(537208959),n=e(352142497),o=e(5858219536),s=e(2052624953),c=e(8876859727),r=e(6174202672),a=e(6644049054),i=e(7105906370),l=e(5144644376),m=e(8180302442),_=e(5624319675),h=e(6226774595),d=e(8956161330),f=e(5996639710),v=e(6878532881),u=e(9280052135),g=e(7244076749),p=e(9132066222),A=e(4249467243),C=e(3937186022),T=e(6642124196),I=e(9889493721),M=e(1552255081),D=e(6839188756),O=e(3402139184),S=e(5779706188),R=e(3559837422),U=e(7069714209),P=e(6695353875),L=e(7097705154),F=e(2584999337),x=e(7274827479),b=e(3875705815),k=e(4761125736),B=e(5332875232),W=e(4947015865),K=e(1670069836),H=e(418103123);const z={[n.D.KeyboardShortcuts]:()=>!0,[n.D.WhatsNew]:()=>!0,[n.D.RecentCanvases]:()=>!1,[n.D.CanvasesSharedWithYou]:$=>(0,M.F)($),[n.D.CanvasesCreatedByYou]:$=>(0,M.F)($),[n.D.BrowseCanvases]:$=>(0,M.F)($),[n.D.RecentFiles]:()=>!0,[n.D.FilesCreatedByYou]:()=>!0,[n.D.FilesSharedWithYou]:()=>!0,[n.D.BrowseExternalWorkspace]:U.U,[n.D.BrowseChannels]:()=>!0,[n.D.BrowsePeople]:()=>!0,[n.D.ExternalOrganizations]:()=>!0,[n.D.ExternalOrganization]:()=>!0,[n.D.ExternalPeople]:()=>!1,[n.D.SlackConnectChannels]:()=>!1,[n.D.SlackConnectInvitations]:()=>!0,[n.D.BrowseUserGroups]:$=>!(0,R.sV)($)&&(0,D.qR)((0,K.H7)($)),[n.D.SlackConnect]:$=>(0,a.A)($),[n.D.Channel]:()=>!0,[n.D.AppSpace]:()=>!0,[n.D.RecentPlatform]:$=>(0,I.MA)($),[n.D.BrowseWorkflowsManagedByYou]:$=>(0,I.EH)($),[n.D.BrowseYourWorkflowTemplates]:$=>(0,I.M7)($),[n.D.BrowseShortcuts]:$=>(0,I.S0)($),[n.D.BrowseWorkflowTemplates]:$=>(0,I.fh)($),[n.D.BrowseApps]:$=>(0,I.pr)($),[n.D.OrgDirectory]:()=>!0,[n.D.Page]:()=>!0,[n.D.Threads]:()=>!0,[n.D.Thread]:()=>!0,[n.D.Profile]:()=>!0,[n.D.FileDetails]:()=>!0,[n.D.Help]:()=>!0,[n.D.UserGroup]:()=>!0,[n.D.Feedback]:()=>!0,[n.D.List]:$=>(0,T.isListsEnabled)($),[n.D.ListRecord]:$=>(0,T.isListsEnabled)($),[n.D.ListRecordDetails]:$=>(0,T.isListsEnabled)($),[n.D.ListRecordThread]:$=>(0,T.isListsEnabled)($),[n.D.ListRecordHistory]:$=>(0,T.isListsEnabled)($),[n.D.ListHistory]:$=>(0,T.isListsHistoryEnabled)($),[n.D.DeletedLists]:$=>(0,T.isListsEnabled)($),[n.D.Tasks]:$=>(0,T.isTodosEnabled)($),[n.D.AssignedTasks]:$=>(0,T.isTodosEnabled)($),[n.D.Reminders]:$=>(0,T.isTodosEnabled)($),[n.D.Saved]:$=>(0,T.isTodosEnabled)($),[n.D.ComposeList]:()=>!0,[n.D.Compose]:()=>!0,[n.D.QuipCommentThread]:()=>!0,[n.D.QuipCommentStream]:()=>!0,[n.D.QuipActivityHistory]:()=>!0,[n.D.QuipAutomationsOverview]:()=>!0,[n.D.Quip]:()=>!0,[n.D.Canvas]:()=>!0,[n.D.ChannelCanvas]:()=>!0,[n.D.CanvasBrowser]:$=>(0,M.F)($),[n.D.DeletedCanvases]:$=>(0,M.F)($),[n.D.PaidBenefits]:()=>!0,[n.D.Setup]:()=>!0,[n.D.SearchEmpty]:()=>!0,[n.D.AboutWorkspace]:()=>!1,[n.D.Unknown]:()=>!0,[n.D.MorePeopleSidebar]:()=>!0,[n.D.MoreCanvasesSidebar]:()=>!0,[n.D.MoreSolutionsSidebar]:$=>(0,m.g)($),[n.D.AppPopout]:()=>!0,[n.D.ChannelList]:()=>!0,[n.D.BrowseFiles]:()=>!0,[n.D.BrowseUnifiedFiles]:$=>(0,F.a)($),[n.D.BrowseUnifiedFilesCanvases]:$=>(0,F.a)($),[n.D.BrowseUnifiedFilesLists]:$=>(0,F.a)($),[n.D.DeletedUnifiedFiles]:$=>(0,F.a)($),[n.D.SlackKitPlayground]:()=>(0,g.b)(),[n.D.Solutions]:$=>(0,m.g)($),[n.D.Admin]:()=>!1,[n.D.ActivityChannelUnreadsList]:$=>(0,t.Lh)($),[n.D.Agents]:$=>(0,_.mr)($),[n.D.AgentConversation]:$=>(0,_.mr)($),[n.D.AgentHomeConversation]:$=>(0,_.mr)($),[n.D.MoreAgentsSidebar]:$=>(0,_.mr)($),[n.D.Sidekicks]:$=>(0,v.Q)($),[n.D.SidekickConversation]:$=>(0,v.Q)($),[n.D.MoreSidekicksSidebar]:$=>(0,v.Q)($),[n.D.SolutionsFiltered]:$=>(0,m.g)($),[n.D.BrowseYourSolutions]:$=>(0,l.n)($),[n.D.BrowseYourCompanySolutions]:$=>(0,l.n)($),[n.D.BrowseLists]:$=>(0,T.teamHasFullListsAccess)($),[n.D.DmsList]:()=>!0,[n.D.BrowseList]:()=>!0,[n.D.ActivityList]:()=>!0,[n.D.LaterList]:()=>!0,[n.D.Search]:()=>!0,[n.D.MoreFilesSidebar]:()=>!0,[n.D.MoreListsSidebar]:()=>!0,[n.D.UnifiedFilesSidebar]:$=>(0,F.a)($),[n.D.MoreChannelsSidebar]:()=>!1,[n.D.Inbox]:()=>!1,[n.D.ActivityInbox]:$=>(0,t.Lh)($),[n.D.ActivityEmpty]:$=>(0,t.Lh)($),[n.D.MorePlatformSidebar]:()=>!0,[n.D.MoreHuddlesSidebar]:()=>!0,[n.D.MoreExternalConnectionsSidebar]:()=>!0,[n.D.HelpBrowser]:()=>!0,[n.D.Huddle]:()=>!0,[n.D.BrowseHuddles]:$=>(0,B.LS)($),[n.D.KeyboardShortcutsBrowser]:()=>!0,[n.D.WhatsNewBrowser]:()=>!0,[n.D.FeedbackBrowser]:()=>!0,[n.D.ExternalWorkspaceAllowedOrgPane]:()=>!1,[n.D.ExternalWorkspaceSidebar]:()=>!1,[n.D.ExternalWorkspacePeopleBrowser]:()=>!1,[n.D.ExternalWorkspaceChannelBrowser]:()=>!1,[n.D.PostEvent]:()=>!1,[n.D.AiSummaryDetails]:$=>(0,x.Jd)($),[n.D.DailyDigest]:$=>(0,x.hS)($),[n.D.SearchSummary]:$=>(0,x.Sl)($),[n.D.AssistantList]:$=>(0,u.l)($),[n.D.Today]:$=>(0,H._)($),[n.D.WorkObject]:$=>(0,C.HZ)($),[n.D.TableauDetails]:$=>(0,h.Z0)($),[n.D.Record]:()=>!0,[n.D.MyTaskApproval]:$=>(0,T.isApprovalsInTodosEnabled)($),[n.D.RecordChannelCreate]:()=>!0,[n.D.RecordChannelRelatedList]:()=>!0,[n.D.RecordRelatedConversationsChannelsList]:$=>(0,f.L)($),[n.D.RecordRelatedConversationsThreadsList]:$=>(0,f.L)($),[n.D.SalesAdministration]:()=>!0,[n.D.SalesBulkGrid]:()=>!0,[n.D.SalesHome]:$=>(0,d.hx)($),[n.D.SalesLogActivity]:()=>!0,[n.D.SalesCreateRecord]:()=>!0,[n.D.SalesListViewBrowser]:()=>!0,[n.D.SalesSidebar]:()=>!0,[n.D.SalesNotifications]:()=>!0,[n.D.SalesAutoSlackLaunchpad]:$=>(0,W.LI)($),[n.D.AssistantThread]:()=>!0,[n.D.ChannelFiles]:$=>(0,k._Z)($,"channel_canvas_in_bbar")==="on",[n.D.AiApp]:$=>(0,s.wP)($),[n.D.AboutAiApp]:$=>(0,s.wP)($),[n.D.MultiTurnSearch]:$=>(0,s.wP)($)&&(0,c.UF)($),[n.D.WorkflowDetails]:()=>!0,[n.D.WorkflowTemplateEditor]:$=>(0,S.S)($),[n.D.AppDetails]:()=>!0,[n.D.WorkflowEditor]:$=>(0,I.ji)($),[n.D.WorkflowBeingCreated]:$=>(0,I.ji)($),[n.D.BookmarksFolder]:$=>(0,p.U6)($),[n.D.ActionItems]:$=>(0,x.FV)($),[n.D.BBMMain]:$=>(0,b.V)($),[n.D.BBMWorkspaceSwitcher]:$=>(0,b.V)($),[n.D.SearchInChannel]:$=>(0,P.k8)($),[n.D.HuddleTranscriptDetails]:$=>(0,x.Vf)($),[n.D.HuddlePageCanvas]:()=>!0,[n.D.BBMMore]:$=>(0,b.V)($),[n.D.AssistantHome]:$=>(0,i.We)($),[n.D.TodayV2]:$=>(0,O.d)($),[n.D.MultiTurnSearchSidebar]:$=>(0,s.wP)($)&&(0,c.UF)($),[n.D.AboutUserGroup]:()=>!1,[n.D.MeetingDetails]:$=>(0,B.a0)($),[n.D.AiMessageAnalysis]:$=>(0,r.x)($),[n.D.BrowseUnifiedFilesGoogleDrive]:$=>(0,o.c)($),[n.D.BrowseUnifiedFilesOnedrive]:$=>(0,o.c)($),[n.D.BrowseUnifiedFilesExternalResults]:$=>(0,c.vE)($),[n.D.ConversationCreate]:$=>(0,L.H)($),[n.D.SlackbotAi]:$=>(0,i.gT)($),[n.D.UnifiedDirectory]:$=>(0,A.c)($)},q=E(($,le)=>z[le]($),"getViewTypeVisibility")},5731054235:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(9636997165);let n=null;function o(){if(n===null){var s,c;n=(document==null||(s=document.documentElement)===null||s===void 0||(c=s.dataset)===null||c===void 0?void 0:c.app)===t.u.APP_POPOUTS}return n}E(o,"isAppPopouts")},9038222488:(N,y,e)=>{"use strict";e.d(y,{V:()=>n});var t=e(4761125736);function n(o){return(0,t._Z)(o,"channel_hover_card")==="on"}E(n,"isChannelHoverCardEnabled")},8800777280:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n,o){return!n||!o?!1:o(n)?!0:n.parentElement?t(n.parentElement,o):!1}E(t,"isContainedBy")},6551836451:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n){return!!(n&&(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth))}E(t,"isElementScrollable")},7930183031:(N,y,e)=>{"use strict";e.d(y,{R:()=>o});var t=e(2384831516),n=e(4761125736);const o=(0,t.Mz)(s=>(0,n._Z)(s,"mpim_omniswitcher_add_timestamp")==="on");o.meta={name:"createSelector",key:"createSelectorisMpdmOmniswitcherAddTimestampEnabled",description:s=>(0,n._Z)(s,"mpim_omniswitcher_add_timestamp")==="on"}},4058658129:(N,y,e)=>{"use strict";e.d(y,{z:()=>o});var t=e(2384831516),n=e(4761125736);const o=(0,t.Mz)(s=>(0,n._Z)(s,"mpim_omniswitcher_display_topic")==="on");o.meta={name:"createSelector",key:"createSelectorisMpdmOmniswitcherDisplayTopicEnabled",description:s=>(0,n._Z)(s,"mpim_omniswitcher_display_topic")==="on"}},717227853:(N,y,e)=>{"use strict";e.d(y,{a:()=>t});const t=E(n=>{var o;if(!(n!=null&&n.is_app_unfurl))return!1;var s;return(s=n==null||(o=n.blocks)===null||o===void 0?void 0:o.some(c=>c.type==="file"&&c.source==="remote"))!==null&&s!==void 0?s:!1},"isRemoteFileAppUnfurl")},8707546752:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(2774532222),n=e(7582939986);function o(s){return(0,t.A)(s,n.Rw)}E(o,"isSlackAction")},7097705154:(N,y,e)=>{"use strict";e.d(y,{H:()=>s});var t=e(2384831516),n=e(4761125736);const o=(0,t.Mz)(c=>(0,n._Z)(c,"streamlined_conversation_flow")==="explicit_channel");o.meta={name:"createSelector",key:"createSelectorisStreamlinedConversationFlowExplicitChannelEnabled",description:c=>(0,n._Z)(c,"streamlined_conversation_flow")==="explicit_channel"};const s=(0,t.Mz)(c=>(0,n._Z)(c,"streamlined_conversation_flow")==="treatment"||o(c));s.meta={name:"createSelector",key:"createSelectorisStreamlinedConversationFlowEnabled",description:c=>(0,n._Z)(c,"streamlined_conversation_flow")==="treatment"||o(c)}},6605261507:(N,y,e)=>{"use strict";e.d(y,{Dl:()=>s,Mk:()=>n,qF:()=>o});var t=e(1269024372);const n=["about","canvas"],o=["app","about","settings","chat"];function s(c){return n.indexOf(c)!==-1||o.indexOf(c)!==-1||Object.keys(t.e).indexOf(c)!==-1}E(s,"isValidTabRoute")},2249017398:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(9636997165);let n=null;function o(){if(n===null){var s,c;n=(document==null||(s=document.documentElement)===null||s===void 0||(c=s.dataset)===null||c===void 0?void 0:c.app)===t.u.WORKFLOW_BUILDER}return n}E(o,"isWorkflowBuilder")},9497970206:(N,y,e)=>{"use strict";e.d(y,{D:()=>t});var t;(function(n){n.UP="ArrowUp",n.DOWN="ArrowDown",n.TAB="Tab",n.ENTER="Enter",n.RIGHT="ArrowRight",n.LEFT="ArrowLeft",n.HOME="Home",n.END="End",n.BACKSPACE="Backspace",n.DASH="-",n.UNDERSCORE="_",n.ESCAPE="Escape",n.SPACE=" ",n.A="a"})(t||(t={}))},5219786273:(N,y,e)=>{"use strict";e.d(y,{W:()=>n});var t=e(352142497);const n=E(o=>!!(o!=null&&o.includes(t.D.ConversationCreate)),"looksLikeConversationCreateId")},1466694191:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});const t=/^(quip|Qp):F[A-Z0-9]{8,}-(Qpv:[a-z0-9:]{8,}&Qpvs:[0-9]{1,})?$/;function n(o){return o?t.test(o):!1}E(n,"looksLikeQuipHistoryId")},6904279885:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(9746734072),n=e(6471059816);const o=new n.Ay("a11y");function s(){let{channelName:c,previousChannelName:r,workspaceName:a,orgName:i,isOrgGlobalSharedPublicOrPrivateChannel:l,isOrgSharedPublicOrPrivateChannel:m,isExternallySharedChannel:_,isArchived:h,isCurrent:d,hasUnreads:f,hasNotifications:v,isPrivate:u,isNotMember:g,isMuted:p,isStarred:A,hasDraft:C}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const T=(()=>{if(_&&a&&a.length>0){const M=(0,t.A)(a)?a:[a];return o.t("shared with {workspaceName}",{workspaceName:M[0]})}return l&&i?o.t("shared across all {orgName} workspaces",{orgName:i}):m?o.t("shared channel"):""})(),I=(()=>h?o.t("archived channel"):d&&f&&v&&u&&g&&p&&A&&C?o.t("current channel, has unread messages and notifications, private, not a member, muted, starred, has a draft message"):!d&&f&&v&&u&&g&&p&&A&&C?o.t("has unread messages and notifications, private, not a member, muted, starred, has a draft message"):d&&!f&&v&&u&&g&&p&&A&&C?o.t("current channel, has notifications, private, not a member, muted, starred, has a draft message"):!d&&!f&&v&&u&&g&&p&&A&&C?o.t("has notifications, private, not a member, muted, starred, has a draft message"):d&&f&&!v&&u&&g&&p&&A&&C?o.t("current channel, has unread messages, private, not a member, muted, starred, has a draft message"):!d&&f&&!v&&u&&g&&p&&A&&C?o.t("has unread messages, private, not a member, muted, starred, has a draft message"):d&&!f&&!v&&u&&g&&p&&A&&C?o.t("current channel, private, not a member, muted, starred, has a draft message"):!d&&!f&&!v&&u&&g&&p&&A&&C?o.t("private, not a member, muted, starred, has a draft message"):d&&f&&v&&!u&&g&&p&&A&&C?o.t("current channel, has unread messages and notifications, not a member, muted, starred, has a draft message"):!d&&f&&v&&!u&&g&&p&&A&&C?o.t("has unread messages and notifications, not a member, muted, starred, has a draft message"):d&&!f&&v&&!u&&g&&p&&A&&C?o.t("current channel, has notifications, not a member, muted, starred, has a draft message"):!d&&!f&&v&&!u&&g&&p&&A&&C?o.t("has notifications, not a member, muted, starred, has a draft message"):d&&f&&!v&&!u&&g&&p&&A&&C?o.t("current channel, has unread messages, not a member, muted, starred, has a draft message"):!d&&f&&!v&&!u&&g&&p&&A&&C?o.t("has unread messages, not a member, muted, starred, has a draft message"):d&&!f&&!v&&!u&&g&&p&&A&&C?o.t("current channel, not a member, muted, starred, has a draft message"):!d&&!f&&!v&&!u&&g&&p&&A&&C?o.t("not a member, muted, starred, has a draft message"):d&&f&&v&&u&&!g&&p&&A&&C?o.t("current channel, has unread messages and notifications, private, muted, starred, has a draft message"):!d&&f&&v&&u&&!g&&p&&A&&C?o.t("has unread messages and notifications, private, muted, starred, has a draft message"):d&&!f&&v&&u&&!g&&p&&A&&C?o.t("current channel, has notifications, private, muted, starred, has a draft message"):!d&&!f&&v&&u&&!g&&p&&A&&C?o.t("has notifications, private, muted, starred, has a draft message"):d&&f&&!v&&u&&!g&&p&&A&&C?o.t("current channel, has unread messages, private, muted, starred, has a draft message"):!d&&f&&!v&&u&&!g&&p&&A&&C?o.t("has unread messages, private, muted, starred, has a draft message"):d&&!f&&!v&&u&&!g&&p&&A&&C?o.t("current channel, private, muted, starred, has a draft message"):!d&&!f&&!v&&u&&!g&&p&&A&&C?o.t("private, muted, starred, has a draft message"):d&&f&&v&&!u&&!g&&p&&A&&C?o.t("current channel, has unread messages and notifications, muted, starred, has a draft message"):!d&&f&&v&&!u&&!g&&p&&A&&C?o.t("has unread messages and notifications, muted, starred, has a draft message"):d&&!f&&v&&!u&&!g&&p&&A&&C?o.t("current channel, has notifications, muted, starred, has a draft message"):!d&&!f&&v&&!u&&!g&&p&&A&&C?o.t("has notifications, muted, starred, has a draft message"):d&&f&&!v&&!u&&!g&&p&&A&&C?o.t("current channel, has unread messages, muted, starred, has a draft message"):!d&&f&&!v&&!u&&!g&&p&&A&&C?o.t("has unread messages, muted, starred, has a draft message"):d&&!f&&!v&&!u&&!g&&p&&A&&C?o.t("current channel, muted, starred, has a draft message"):!d&&!f&&!v&&!u&&!g&&p&&A&&C?o.t("muted, starred, has a draft message"):d&&f&&v&&u&&g&&!p&&A&&C?o.t("current channel, has unread messages and notifications, private, not a member, starred, has a draft message"):!d&&f&&v&&u&&g&&!p&&A&&C?o.t("has unread messages and notifications, private, not a member, starred, has a draft message"):d&&!f&&v&&u&&g&&!p&&A&&C?o.t("current channel, has notifications, private, not a member, starred, has a draft message"):!d&&!f&&v&&u&&g&&!p&&A&&C?o.t("has notifications, private, not a member, starred, has a draft message"):d&&f&&!v&&u&&g&&!p&&A&&C?o.t("current channel, has unread messages, private, not a member, starred, has a draft message"):!d&&f&&!v&&u&&g&&!p&&A&&C?o.t("has unread messages, private, not a member, starred, has a draft message"):d&&!f&&!v&&u&&g&&!p&&A&&C?o.t("current channel, private, not a member, starred, has a draft message"):!d&&!f&&!v&&u&&g&&!p&&A&&C?o.t("private, not a member, starred, has a draft message"):d&&f&&v&&!u&&g&&!p&&A&&C?o.t("current channel, has unread messages and notifications, not a member, starred, has a draft message"):!d&&f&&v&&!u&&g&&!p&&A&&C?o.t("has unread messages and notifications, not a member, starred, has a draft message"):d&&!f&&v&&!u&&g&&!p&&A&&C?o.t("current channel, has notifications, not a member, starred, has a draft message"):!d&&!f&&v&&!u&&g&&!p&&A&&C?o.t("has notifications, not a member, starred, has a draft message"):d&&f&&!v&&!u&&g&&!p&&A&&C?o.t("current channel, has unread messages, not a member, starred, has a draft message"):!d&&f&&!v&&!u&&g&&!p&&A&&C?o.t("has unread messages, not a member, starred, has a draft message"):d&&!f&&!v&&!u&&g&&!p&&A&&C?o.t("current channel, not a member, starred, has a draft message"):!d&&!f&&!v&&!u&&g&&!p&&A&&C?o.t("not a member, starred, has a draft message"):d&&f&&v&&u&&!g&&!p&&A&&C?o.t("current channel, has unread messages and notifications, private, starred, has a draft message"):!d&&f&&v&&u&&!g&&!p&&A&&C?o.t("has unread messages and notifications, private, starred, has a draft message"):d&&!f&&v&&u&&!g&&!p&&A&&C?o.t("current channel, has notifications, private, starred, has a draft message"):!d&&!f&&v&&u&&!g&&!p&&A&&C?o.t("has notifications, private, starred, has a draft message"):d&&f&&!v&&u&&!g&&!p&&A&&C?o.t("current channel, has unread messages, private, starred, has a draft message"):!d&&f&&!v&&u&&!g&&!p&&A&&C?o.t("has unread messages, private, starred, has a draft message"):d&&!f&&!v&&u&&!g&&!p&&A&&C?o.t("current channel, private, starred, has a draft message"):!d&&!f&&!v&&u&&!g&&!p&&A&&C?o.t("private, starred, has a draft message"):d&&f&&v&&!u&&!g&&!p&&A&&C?o.t("current channel, has unread messages and notifications, starred, has a draft message"):!d&&f&&v&&!u&&!g&&!p&&A&&C?o.t("has unread messages and notifications, starred, has a draft message"):d&&!f&&v&&!u&&!g&&!p&&A&&C?o.t("current channel, has notifications, starred, has a draft message"):!d&&!f&&v&&!u&&!g&&!p&&A&&C?o.t("has notifications, starred, has a draft message"):d&&f&&!v&&!u&&!g&&!p&&A&&C?o.t("current channel, has unread messages, starred, has a draft message"):!d&&f&&!v&&!u&&!g&&!p&&A&&C?o.t("has unread messages, starred, has a draft message"):d&&!f&&!v&&!u&&!g&&!p&&A&&C?o.t("current channel, starred, has a draft message"):!d&&!f&&!v&&!u&&!g&&!p&&A&&C?o.t("starred, has a draft message"):d&&f&&v&&u&&g&&p&&!A&&C?o.t("current channel, has unread messages and notifications, private, not a member, muted, has a draft message"):!d&&f&&v&&u&&g&&p&&!A&&C?o.t("has unread messages and notifications, private, not a member, muted, has a draft message"):d&&!f&&v&&u&&g&&p&&!A&&C?o.t("current channel, has notifications, private, not a member, muted, has a draft message"):!d&&!f&&v&&u&&g&&p&&!A&&C?o.t("has notifications, private, not a member, muted, has a draft message"):d&&f&&!v&&u&&g&&p&&!A&&C?o.t("current channel, has unread messages, private, not a member, muted, has a draft message"):!d&&f&&!v&&u&&g&&p&&!A&&C?o.t("has unread messages, private, not a member, muted, has a draft message"):d&&!f&&!v&&u&&g&&p&&!A&&C?o.t("current channel, private, not a member, muted, has a draft message"):!d&&!f&&!v&&u&&g&&p&&!A&&C?o.t("private, not a member, muted, has a draft message"):d&&f&&v&&!u&&g&&p&&!A&&C?o.t("current channel, has unread messages and notifications, not a member, muted, has a draft message"):!d&&f&&v&&!u&&g&&p&&!A&&C?o.t("has unread messages and notifications, not a member, muted, has a draft message"):d&&!f&&v&&!u&&g&&p&&!A&&C?o.t("current channel, has notifications, not a member, muted, has a draft message"):!d&&!f&&v&&!u&&g&&p&&!A&&C?o.t("has notifications, not a member, muted, has a draft message"):d&&f&&!v&&!u&&g&&p&&!A&&C?o.t("current channel, has unread messages, not a member, muted, has a draft message"):!d&&f&&!v&&!u&&g&&p&&!A&&C?o.t("has unread messages, not a member, muted, has a draft message"):d&&!f&&!v&&!u&&g&&p&&!A&&C?o.t("current channel, not a member, muted, has a draft message"):!d&&!f&&!v&&!u&&g&&p&&!A&&C?o.t("not a member, muted, has a draft message"):d&&f&&v&&u&&!g&&p&&!A&&C?o.t("current channel, has unread messages and notifications, private, muted, has a draft message"):!d&&f&&v&&u&&!g&&p&&!A&&C?o.t("has unread messages and notifications, private, muted, has a draft message"):d&&!f&&v&&u&&!g&&p&&!A&&C?o.t("current channel, has notifications, private, muted, has a draft message"):!d&&!f&&v&&u&&!g&&p&&!A&&C?o.t("has notifications, private, muted, has a draft message"):d&&f&&!v&&u&&!g&&p&&!A&&C?o.t("current channel, has unread messages, private, muted, has a draft message"):!d&&f&&!v&&u&&!g&&p&&!A&&C?o.t("has unread messages, private, muted, has a draft message"):d&&!f&&!v&&u&&!g&&p&&!A&&C?o.t("current channel, private, muted, has a draft message"):!d&&!f&&!v&&u&&!g&&p&&!A&&C?o.t("private, muted, has a draft message"):d&&f&&v&&!u&&!g&&p&&!A&&C?o.t("current channel, has unread messages and notifications, muted, has a draft message"):!d&&f&&v&&!u&&!g&&p&&!A&&C?o.t("has unread messages and notifications, muted, has a draft message"):d&&!f&&v&&!u&&!g&&p&&!A&&C?o.t("current channel, has notifications, muted, has a draft message"):!d&&!f&&v&&!u&&!g&&p&&!A&&C?o.t("has notifications, muted, has a draft message"):d&&f&&!v&&!u&&!g&&p&&!A&&C?o.t("current channel, has unread messages, muted, has a draft message"):!d&&f&&!v&&!u&&!g&&p&&!A&&C?o.t("has unread messages, muted, has a draft message"):d&&!f&&!v&&!u&&!g&&p&&!A&&C?o.t("current channel, muted, has a draft message"):!d&&!f&&!v&&!u&&!g&&p&&!A&&C?o.t("muted, has a draft message"):d&&f&&v&&u&&g&&!p&&!A&&C?o.t("current channel, has unread messages and notifications, private, not a member, has a draft message"):!d&&f&&v&&u&&g&&!p&&!A&&C?o.t("has unread messages and notifications, private, not a member, has a draft message"):d&&!f&&v&&u&&g&&!p&&!A&&C?o.t("current channel, has notifications, private, not a member, has a draft message"):!d&&!f&&v&&u&&g&&!p&&!A&&C?o.t("has notifications, private, not a member, has a draft message"):d&&f&&!v&&u&&g&&!p&&!A&&C?o.t("current channel, has unread messages, private, not a member, has a draft message"):!d&&f&&!v&&u&&g&&!p&&!A&&C?o.t("has unread messages, private, not a member, has a draft message"):d&&!f&&!v&&u&&g&&!p&&!A&&C?o.t("current channel, private, not a member, has a draft message"):!d&&!f&&!v&&u&&g&&!p&&!A&&C?o.t("private, not a member, has a draft message"):d&&f&&v&&!u&&g&&!p&&!A&&C?o.t("current channel, has unread messages and notifications, not a member, has a draft message"):!d&&f&&v&&!u&&g&&!p&&!A&&C?o.t("has unread messages and notifications, not a member, has a draft message"):d&&!f&&v&&!u&&g&&!p&&!A&&C?o.t("current channel, has notifications, not a member, has a draft message"):!d&&!f&&v&&!u&&g&&!p&&!A&&C?o.t("has notifications, not a member, has a draft message"):d&&f&&!v&&!u&&g&&!p&&!A&&C?o.t("current channel, has unread messages, not a member, has a draft message"):!d&&f&&!v&&!u&&g&&!p&&!A&&C?o.t("has unread messages, not a member, has a draft message"):d&&!f&&!v&&!u&&g&&!p&&!A&&C?o.t("current channel, not a member, has a draft message"):!d&&!f&&!v&&!u&&g&&!p&&!A&&C?o.t("not a member, has a draft message"):d&&f&&v&&u&&!g&&!p&&!A&&C?o.t("current channel, has unread messages and notifications, private, has a draft message"):!d&&f&&v&&u&&!g&&!p&&!A&&C?o.t("has unread messages and notifications, private, has a draft message"):d&&!f&&v&&u&&!g&&!p&&!A&&C?o.t("current channel, has notifications, private, has a draft message"):!d&&!f&&v&&u&&!g&&!p&&!A&&C?o.t("has notifications, private, has a draft message"):d&&f&&!v&&u&&!g&&!p&&!A&&C?o.t("current channel, has unread messages, private, has a draft message"):!d&&f&&!v&&u&&!g&&!p&&!A&&C?o.t("has unread messages, private, has a draft message"):d&&!f&&!v&&u&&!g&&!p&&!A&&C?o.t("current channel, private, has a draft message"):!d&&!f&&!v&&u&&!g&&!p&&!A&&C?o.t("private, has a draft message"):d&&f&&v&&!u&&!g&&!p&&!A&&C?o.t("current channel, has unread messages and notifications, has a draft message"):!d&&f&&v&&!u&&!g&&!p&&!A&&C?o.t("has unread messages and notifications, has a draft message"):d&&!f&&v&&!u&&!g&&!p&&!A&&C?o.t("current channel, has notifications, has a draft message"):!d&&!f&&v&&!u&&!g&&!p&&!A&&C?o.t("has notifications, has a draft message"):d&&f&&!v&&!u&&!g&&!p&&!A&&C?o.t("current channel, has unread messages, has a draft message"):!d&&f&&!v&&!u&&!g&&!p&&!A&&C?o.t("has unread messages, has a draft message"):d&&!f&&!v&&!u&&!g&&!p&&!A&&C?o.t("current channel, has a draft message"):!d&&!f&&!v&&!u&&!g&&!p&&!A&&C?o.t("has a draft message"):d&&f&&v&&u&&g&&p&&A&&!C?o.t("current channel, has unread messages and notifications, private, not a member, muted, starred"):!d&&f&&v&&u&&g&&p&&A&&!C?o.t("has unread messages and notifications, private, not a member, muted, starred"):d&&!f&&v&&u&&g&&p&&A&&!C?o.t("current channel, has notifications, private, not a member, muted, starred"):!d&&!f&&v&&u&&g&&p&&A&&!C?o.t("has notifications, private, not a member, muted, starred"):d&&f&&!v&&u&&g&&p&&A&&!C?o.t("current channel, has unread messages, private, not a member, muted, starred"):!d&&f&&!v&&u&&g&&p&&A&&!C?o.t("has unread messages, private, not a member, muted, starred"):d&&!f&&!v&&u&&g&&p&&A&&!C?o.t("current channel, private, not a member, muted, starred"):!d&&!f&&!v&&u&&g&&p&&A&&!C?o.t("private, not a member, muted, starred"):d&&f&&v&&!u&&g&&p&&A&&!C?o.t("current channel, has unread messages and notifications, not a member, muted, starred"):!d&&f&&v&&!u&&g&&p&&A&&!C?o.t("has unread messages and notifications, not a member, muted, starred"):d&&!f&&v&&!u&&g&&p&&A&&!C?o.t("current channel, has notifications, not a member, muted, starred"):!d&&!f&&v&&!u&&g&&p&&A&&!C?o.t("has notifications, not a member, muted, starred"):d&&f&&!v&&!u&&g&&p&&A&&!C?o.t("current channel, has unread messages, not a member, muted, starred"):!d&&f&&!v&&!u&&g&&p&&A&&!C?o.t("has unread messages, not a member, muted, starred"):d&&!f&&!v&&!u&&g&&p&&A&&!C?o.t("current channel, not a member, muted, starred"):!d&&!f&&!v&&!u&&g&&p&&A&&!C?o.t("not a member, muted, starred"):d&&f&&v&&u&&!g&&p&&A&&!C?o.t("current channel, has unread messages and notifications, private, muted, starred"):!d&&f&&v&&u&&!g&&p&&A&&!C?o.t("has unread messages and notifications, private, muted, starred"):d&&!f&&v&&u&&!g&&p&&A&&!C?o.t("current channel, has notifications, private, muted, starred"):!d&&!f&&v&&u&&!g&&p&&A&&!C?o.t("has notifications, private, muted, starred"):d&&f&&!v&&u&&!g&&p&&A&&!C?o.t("current channel, has unread messages, private, muted, starred"):!d&&f&&!v&&u&&!g&&p&&A&&!C?o.t("has unread messages, private, muted, starred"):d&&!f&&!v&&u&&!g&&p&&A&&!C?o.t("current channel, private, muted, starred"):!d&&!f&&!v&&u&&!g&&p&&A&&!C?o.t("private, muted, starred"):d&&f&&v&&!u&&!g&&p&&A&&!C?o.t("current channel, has unread messages and notifications, muted, starred"):!d&&f&&v&&!u&&!g&&p&&A&&!C?o.t("has unread messages and notifications, muted, starred"):d&&!f&&v&&!u&&!g&&p&&A&&!C?o.t("current channel, has notifications, muted, starred"):!d&&!f&&v&&!u&&!g&&p&&A&&!C?o.t("has notifications, muted, starred"):d&&f&&!v&&!u&&!g&&p&&A&&!C?o.t("current channel, has unread messages, muted, starred"):!d&&f&&!v&&!u&&!g&&p&&A&&!C?o.t("has unread messages, muted, starred"):d&&!f&&!v&&!u&&!g&&p&&A&&!C?o.t("current channel, muted, starred"):!d&&!f&&!v&&!u&&!g&&p&&A&&!C?o.t("muted, starred"):d&&f&&v&&u&&g&&!p&&A&&!C?o.t("current channel, has unread messages and notifications, private, not a member, starred"):!d&&f&&v&&u&&g&&!p&&A&&!C?o.t("has unread messages and notifications, private, not a member, starred"):d&&!f&&v&&u&&g&&!p&&A&&!C?o.t("current channel, has notifications, private, not a member, starred"):!d&&!f&&v&&u&&g&&!p&&A&&!C?o.t("has notifications, private, not a member, starred"):d&&f&&!v&&u&&g&&!p&&A&&!C?o.t("current channel, has unread messages, private, not a member, starred"):!d&&f&&!v&&u&&g&&!p&&A&&!C?o.t("has unread messages, private, not a member, starred"):d&&!f&&!v&&u&&g&&!p&&A&&!C?o.t("current channel, private, not a member, starred"):!d&&!f&&!v&&u&&g&&!p&&A&&!C?o.t("private, not a member, starred"):d&&f&&v&&!u&&g&&!p&&A&&!C?o.t("current channel, has unread messages and notifications, not a member, starred"):!d&&f&&v&&!u&&g&&!p&&A&&!C?o.t("has unread messages and notifications, not a member, starred"):d&&!f&&v&&!u&&g&&!p&&A&&!C?o.t("current channel, has notifications, not a member, starred"):!d&&!f&&v&&!u&&g&&!p&&A&&!C?o.t("has notifications, not a member, starred"):d&&f&&!v&&!u&&g&&!p&&A&&!C?o.t("current channel, has unread messages, not a member, starred"):!d&&f&&!v&&!u&&g&&!p&&A&&!C?o.t("has unread messages, not a member, starred"):d&&!f&&!v&&!u&&g&&!p&&A&&!C?o.t("current channel, not a member, starred"):!d&&!f&&!v&&!u&&g&&!p&&A&&!C?o.t("not a member, starred"):d&&f&&v&&u&&!g&&!p&&A&&!C?o.t("current channel, has unread messages and notifications, private, starred"):!d&&f&&v&&u&&!g&&!p&&A&&!C?o.t("has unread messages and notifications, private, starred"):d&&!f&&v&&u&&!g&&!p&&A&&!C?o.t("current channel, has notifications, private, starred"):!d&&!f&&v&&u&&!g&&!p&&A&&!C?o.t("has notifications, private, starred"):d&&f&&!v&&u&&!g&&!p&&A&&!C?o.t("current channel, has unread messages, private, starred"):!d&&f&&!v&&u&&!g&&!p&&A&&!C?o.t("has unread messages, private, starred"):d&&!f&&!v&&u&&!g&&!p&&A&&!C?o.t("current channel, private, starred"):!d&&!f&&!v&&u&&!g&&!p&&A&&!C?o.t("private, starred"):d&&f&&v&&!u&&!g&&!p&&A&&!C?o.t("current channel, has unread messages and notifications, starred"):!d&&f&&v&&!u&&!g&&!p&&A&&!C?o.t("has unread messages and notifications, starred"):d&&!f&&v&&!u&&!g&&!p&&A&&!C?o.t("current channel, has notifications, starred"):!d&&!f&&v&&!u&&!g&&!p&&A&&!C?o.t("has notifications, starred"):d&&f&&!v&&!u&&!g&&!p&&A&&!C?o.t("current channel, has unread messages, starred"):!d&&f&&!v&&!u&&!g&&!p&&A&&!C?o.t("has unread messages, starred"):d&&!f&&!v&&!u&&!g&&!p&&A&&!C?o.t("current channel, starred"):!d&&!f&&!v&&!u&&!g&&!p&&A&&!C?o.t("starred"):d&&f&&v&&u&&g&&p&&!A&&!C?o.t("current channel, has unread messages and notifications, private, not a member, muted"):!d&&f&&v&&u&&g&&p&&!A&&!C?o.t("has unread messages and notifications, private, not a member, muted"):d&&!f&&v&&u&&g&&p&&!A&&!C?o.t("current channel, has notifications, private, not a member, muted"):!d&&!f&&v&&u&&g&&p&&!A&&!C?o.t("has notifications, private, not a member, muted"):d&&f&&!v&&u&&g&&p&&!A&&!C?o.t("current channel, has unread messages, private, not a member, muted"):!d&&f&&!v&&u&&g&&p&&!A&&!C?o.t("has unread messages, private, not a member, muted"):d&&!f&&!v&&u&&g&&p&&!A&&!C?o.t("current channel, private, not a member, muted"):!d&&!f&&!v&&u&&g&&p&&!A&&!C?o.t("private, not a member, muted"):d&&f&&v&&!u&&g&&p&&!A&&!C?o.t("current channel, has unread messages and notifications, not a member, muted"):!d&&f&&v&&!u&&g&&p&&!A&&!C?o.t("has unread messages and notifications, not a member, muted"):d&&!f&&v&&!u&&g&&p&&!A&&!C?o.t("current channel, has notifications, not a member, muted"):!d&&!f&&v&&!u&&g&&p&&!A&&!C?o.t("has notifications, not a member, muted"):d&&f&&!v&&!u&&g&&p&&!A&&!C?o.t("current channel, has unread messages, not a member, muted"):!d&&f&&!v&&!u&&g&&p&&!A&&!C?o.t("has unread messages, not a member, muted"):d&&!f&&!v&&!u&&g&&p&&!A&&!C?o.t("current channel, not a member, muted"):!d&&!f&&!v&&!u&&g&&p&&!A&&!C?o.t("not a member, muted"):d&&f&&v&&u&&!g&&p&&!A&&!C?o.t("current channel, has unread messages and notifications, private, muted"):!d&&f&&v&&u&&!g&&p&&!A&&!C?o.t("has unread messages and notifications, private, muted"):d&&!f&&v&&u&&!g&&p&&!A&&!C?o.t("current channel, has notifications, private, muted"):!d&&!f&&v&&u&&!g&&p&&!A&&!C?o.t("has notifications, private, muted"):d&&f&&!v&&u&&!g&&p&&!A&&!C?o.t("current channel, has unread messages, private, muted"):!d&&f&&!v&&u&&!g&&p&&!A&&!C?o.t("has unread messages, private, muted"):d&&!f&&!v&&u&&!g&&p&&!A&&!C?o.t("current channel, private, muted"):!d&&!f&&!v&&u&&!g&&p&&!A&&!C?o.t("private, muted"):d&&f&&v&&!u&&!g&&p&&!A&&!C?o.t("current channel, has unread messages and notifications, muted"):!d&&f&&v&&!u&&!g&&p&&!A&&!C?o.t("has unread messages and notifications, muted"):d&&!f&&v&&!u&&!g&&p&&!A&&!C?o.t("current channel, has notifications, muted"):!d&&!f&&v&&!u&&!g&&p&&!A&&!C?o.t("has notifications, muted"):d&&f&&!v&&!u&&!g&&p&&!A&&!C?o.t("current channel, has unread messages, muted"):!d&&f&&!v&&!u&&!g&&p&&!A&&!C?o.t("has unread messages, muted"):d&&!f&&!v&&!u&&!g&&p&&!A&&!C?o.t("current channel, muted"):!d&&!f&&!v&&!u&&!g&&p&&!A&&!C?o.t("muted"):d&&f&&v&&u&&g&&!p&&!A&&!C?o.t("current channel, has unread messages and notifications, private, not a member"):!d&&f&&v&&u&&g&&!p&&!A&&!C?o.t("has unread messages and notifications, private, not a member"):d&&!f&&v&&u&&g&&!p&&!A&&!C?o.t("current channel, has notifications, private, not a member"):!d&&!f&&v&&u&&g&&!p&&!A&&!C?o.t("has notifications, private, not a member"):d&&f&&!v&&u&&g&&!p&&!A&&!C?o.t("current channel, has unread messages, private, not a member"):!d&&f&&!v&&u&&g&&!p&&!A&&!C?o.t("has unread messages, private, not a member"):d&&!f&&!v&&u&&g&&!p&&!A&&!C?o.t("current channel, private, not a member"):!d&&!f&&!v&&u&&g&&!p&&!A&&!C?o.t("private, not a member"):d&&f&&v&&!u&&g&&!p&&!A&&!C?o.t("current channel, has unread messages and notifications, not a member"):!d&&f&&v&&!u&&g&&!p&&!A&&!C?o.t("has unread messages and notifications, not a member"):d&&!f&&v&&!u&&g&&!p&&!A&&!C?o.t("current channel, has notifications, not a member"):!d&&!f&&v&&!u&&g&&!p&&!A&&!C?o.t("has notifications, not a member"):d&&f&&!v&&!u&&g&&!p&&!A&&!C?o.t("current channel, has unread messages, not a member"):!d&&f&&!v&&!u&&g&&!p&&!A&&!C?o.t("has unread messages, not a member"):d&&!f&&!v&&!u&&g&&!p&&!A&&!C?o.t("current channel, not a member"):!d&&!f&&!v&&!u&&g&&!p&&!A&&!C?o.t("not a member"):d&&f&&v&&u&&!g&&!p&&!A&&!C?o.t("current channel, has unread messages and notifications, private"):!d&&f&&v&&u&&!g&&!p&&!A&&!C?o.t("has unread messages and notifications, private"):d&&!f&&v&&u&&!g&&!p&&!A&&!C?o.t("current channel, has notifications, private"):!d&&!f&&v&&u&&!g&&!p&&!A&&!C?o.t("has notifications, private"):d&&f&&!v&&u&&!g&&!p&&!A&&!C?o.t("current channel, has unread messages, private"):!d&&f&&!v&&u&&!g&&!p&&!A&&!C?o.t("has unread messages, private"):d&&!f&&!v&&u&&!g&&!p&&!A&&!C?o.t("current channel, private"):!d&&!f&&!v&&u&&!g&&!p&&!A&&!C?o.t("private"):d&&f&&v&&!u&&!g&&!p&&!A&&!C?o.t("current channel, has unread messages and notifications"):!d&&f&&v&&!u&&!g&&!p&&!A&&!C?o.t("has unread messages and notifications"):d&&!f&&v&&!u&&!g&&!p&&!A&&!C?o.t("current channel, has notifications"):!d&&!f&&v&&!u&&!g&&!p&&!A&&!C?o.t("has notifications"):d&&f&&!v&&!u&&!g&&!p&&!A&&!C?o.t("current channel, has unread messages"):!d&&f&&!v&&!u&&!g&&!p&&!A&&!C?o.t("has unread messages"):d&&!f&&!v&&!u&&!g&&!p&&!A&&!C?o.t("current channel"):"")();return r&&!T&&!I?o.t("{channelName}, previously {previousChannelName}",{channelName:c,previousChannelName:r}):!r&&!T&&I?o.t("{channelName} ({context})",{channelName:c,context:I}):r&&!T&&I?o.t("{channelName}, previously {previousChannelName} ({context})",{channelName:c,previousChannelName:r,context:I}):!r&&T&&!I?o.t("{channelName}, {workspaceDescription}",{channelName:c,workspaceDescription:T}):r&&T&&!I?o.t("{channelName}, previously {previousChannelName}, {workspaceDescription}",{channelName:c,workspaceDescription:T,previousChannelName:r}):!r&&T&&I?o.t("{channelName}, {workspaceDescription} ({context})",{channelName:c,workspaceDescription:T,context:I}):r&&T&&I?o.t("{channelName}, previously {previousChannelName}, {workspaceDescription} ({context})",{channelName:c,workspaceDescription:T,previousChannelName:r,context:I}):c||""}E(s,"makeAriaLabelForChannel")},1269024372:(N,y,e)=>{"use strict";e.d(y,{e:()=>n,k:()=>o});var t=e(352142497);const n={recent:t.D.RecentPlatform,"workflows-managed-by-you":t.D.BrowseWorkflowsManagedByYou,workflows:t.D.BrowseShortcuts,"all-workflows":t.D.BrowseShortcuts,templates:t.D.BrowseWorkflowTemplates,apps:t.D.BrowseApps};function o(s){return n[s]}E(o,"maybeGetAutomationsTab")},4963023022:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(6839188756);const n=new Set(["/apps","/services","/account","/admin","/customize","/pricing","/stats","/help","/plans","/checkout","/benefits","/interop","/file-window"]);function o(s,c,r,a){if(!s)return!1;let i=s;const l=(0,t.Zl)(c);s.startsWith(l)&&(i=i.slice(l.length-1));let m=i;m.startsWith("/")||(m=`/${m}`);const _=m.indexOf("/",1);_>-1&&(m=m.slice(0,_));const h=m.indexOf("?");return h>-1&&(m=m.slice(0,h)),n.has(m)?(r&&r.preventDefault&&r.preventDefault(),r&&r.stopPropagation&&r.stopPropagation(),(0,t.gC)(c,i,a),!0):!1}E(o,"maybeOpenAuthenticatedUrlInBrowser")},264208541:(N,y,e)=>{"use strict";e.d(y,{Ey:()=>r,Hn:()=>a,gs:()=>i,mw:()=>m,nS:()=>l});var t=e(8665296019),n=e(1033764764),o;let s=!!(!(window==null||(o=window.performance)===null||o===void 0)&&o.memory);function c(){return s?window.performance.memory.jsHeapSizeLimit:null}E(c,"getMemoryLimit");function r(){return s?window.performance.memory.totalJSHeapSize:null}E(r,"getMemoryTotal");function a(){return s?window.performance.memory.usedJSHeapSize:null}E(a,"getMemoryUsed");function i(){return s}E(i,"supportsMemoryMeasurement");function l(h){const d=h/1e3/1e3;return`${d<100?d.toPrecision(3):Math.round(d)} MB`}E(l,"humanizeBytes");function m(h,d){const f=(0,t.A)(h,v=>{let{memory:u}=v;return u[d]||0});return Math.ceil((0,n.UK)(f))}E(m,"sumMemoryMetricsByKey"),Object.defineProperties({},{SUPPORTS_MEMORY_MEASUREMENT:{get:()=>s,set:h=>{s=h}}})},7598536680:(N,y,e)=>{"use strict";e.d(y,{Pw:()=>m,bC:()=>a,wn:()=>l,zC:()=>i});var t=e(1703559452),n=e(1022424641),o=e(168261570),s=e(337319621),c=e(8800777280);const r={};function a(_){let{channelId:h,functions:d,getInputInstance:f,threadTs:v,viewContext:u}=_;if(!f)throw new Error('Missing required "getInputInstance" param');const g=`${u}-${h}-${v}`;r[g]&&(0,s.Wo)().warn(`Registering duplicate input (key: "${g}")`);const p={clear:()=>{var A,C;return(A=f())===null||A===void 0||(C=A.clear)===null||C===void 0?void 0:C.call(A)},clearHistory:()=>{var A,C;return(A=f())===null||A===void 0||(C=A.clearHistory)===null||C===void 0?void 0:C.call(A)},focus:()=>{var A,C;return(A=f())===null||A===void 0||(C=A.focus)===null||C===void 0?void 0:C.call(A)},getLength:()=>{var A,C;return(A=f())===null||A===void 0||(C=A.getLength)===null||C===void 0?void 0:C.call(A)},getSelection:()=>{var A,C;return(A=f())===null||A===void 0||(C=A.getSelection)===null||C===void 0?void 0:C.call(A)},getText:()=>{var A,C;return(A=f())===null||A===void 0||(C=A.getText)===null||C===void 0?void 0:C.call(A)},hasFocus:()=>{var A,C;return!!(!((A=f())===null||A===void 0||(C=A.hasFocus)===null||C===void 0)&&C.call(A))},insertContentsAtCursor:function(){for(var A=arguments.length,C=new Array(A),T=0;T<A;T++)C[T]=arguments[T];var I,M;return(I=f())===null||I===void 0||(M=I.insertContentsAtCursor)===null||M===void 0?void 0:M.call(I,...C)},isEmpty:()=>{var A,C;return!!(!((A=f())===null||A===void 0||(C=A.isEmpty)===null||C===void 0)&&C.call(A))},isEnabled:()=>{var A,C;return!!(!((A=f())===null||A===void 0||(C=A.isEnabled)===null||C===void 0)&&C.call(A))},prependContents:A=>{var C,T;return(C=f())===null||C===void 0||(T=C.prependContents)===null||T===void 0?void 0:T.call(C,A)},setContents:function(){for(var A=arguments.length,C=new Array(A),T=0;T<A;T++)C[T]=arguments[T];var I,M;return(I=f())===null||I===void 0||(M=I.setContents)===null||M===void 0?void 0:M.call(I,...C)},setPlaceholder:A=>{var C,T;return(C=f())===null||C===void 0||(T=C.setPlaceholder)===null||T===void 0?void 0:T.call(C,A)},setText:A=>{var C,T;return(C=f())===null||C===void 0||(T=C.value)===null||T===void 0?void 0:T.call(C,A)}};return r[g]={...p,...d},()=>{delete r[g]}}E(a,"registerInputAuto");function i(_){let{viewContext:h,channelId:d,threadTs:f}=_;return r[`${h}-${d}-${f||void 0}`]}E(i,"getInputProxy");function l(_){if(!(0,o.A)(_))return;let h,d,f;if((0,c.A)(_,u=>{if(u!=null&&u.getAttribute("data-message-input")){var g;h=(g=u.getAttribute("data-channel-id"))!==null&&g!==void 0?g:void 0;var p;d=(p=u.getAttribute("data-thread-ts"))!==null&&p!==void 0?p:void 0;const A=u.getAttribute("data-view-context");return A&&(f=A),!0}return!1}))return i({viewContext:f,channelId:h,threadTs:d})}E(l,"getProxyForElement");function m(){let{channelId:_,threadTs:h}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const d=`${_}-${h}`,f=Object.keys(r);return(0,t.A)(f,v=>(0,n.A)(v,d))}E(m,"isInputRegistered")},3600241593:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(9113979368),n=e(7582939986);function o(s){return!s||(0,t.A)(s)?[]:s.map(r=>({hide_color:!0,blocks:[{type:n.WP.contact_card,contact_user_id:r.contact_user_id}]}))}E(o,"getFormattedContactCardAttachments")},1963643401:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(3078252698),n=e(9219415264);function o(s){return(0,t.A)(s)?(0,n.A)((s||"").trim().toLowerCase()):""}E(o,"normalize")},662226046:(N,y,e)=>{"use strict";e.d(y,{R2:()=>v,bP:()=>u,ec:()=>T,fU:()=>C,p6:()=>D,qe:()=>I,x2:()=>S,yj:()=>O});var t=e(6858020025),n=e(3783303734),o=e(4094753332),s=e(337319621),c=e(3855029223),r=e(2872463257),a=e(8847766420),i=e(5795074931);const l="notification:sent",m="notification:received",_="notification:opened",h="notification:quick_reply",d="notification:read_in_app",f=100;function v(R){try{return JSON.stringify(R)}catch(U){return(0,s.Wo)().warn("encodeNotificationTracePassthrough json stringify error",U),""}}E(v,"encodeNotificationTracePassthrough");function u(R){try{const{traceId:U,parentSpanId:P}=JSON.parse(R);return{traceId:U,parentSpanId:P}}catch(U){return(0,s.Wo)().warn("decodeNotificationTracePassthrough json parse error",U),{traceId:"",parentSpanId:""}}}E(u,"decodeNotificationTracePassthrough");function g(R){let{tracer:U,name:P,parentSpanId:L,traceId:F}=R;return U.createSpan({name:P,samplingOptions:{sampleType:r.nl.ALWAYS},options:{parentSpanId:L,traceId:F}})}E(g,"createSpan");function p(R){let{tracer:U,name:P,parentSpanId:L,traceId:F}=R;const x=g({tracer:U,name:P,parentSpanId:L,traceId:F});return x.close(),x}E(p,"createAndCloseSpan");function A(R,U){let{tracer:P,message:L}=U;const F=p({tracer:P,name:l}),x=(0,o.y3)()?"desktop":"browser",b=(0,i.WR)(R),k=(0,a.ZT)(R),B=(0,t.A)(L==null?void 0:L.ts,".",""),W=L==null?void 0:L.channel,K=`${b}-${W}-${B}`;return F.addTags({platform:x,encoded_user_id:b,encoded_team_id:k,encoded_channel_id:W,message_ts:B,notification_id:K}),F}E(A,"createAndCloseNotificationSentSpan");function C(R,U){let{message:P}=U;if(!P||!(P!=null&&P.ts)||!(P!=null&&P.channel))return;const L=(0,c.E)({state:R});let F,x;const b=[];if((P==null?void 0:P.type)==="desktop_notification"&&(P!=null&&P.trace_ctx))F=P.trace_ctx["x-b3-traceid"],x=P.trace_ctx["x-b3-spanid"];else{const B=A(R,{tracer:L,message:P});b.push(B),x=B.getId(),F=B.getTraceId()}const k=p({name:m,tracer:L,traceId:F,parentSpanId:x});return b.push(k),L.reportSpans(b),{traceId:F,parentSpanId:x}}E(C,"traceNotificationSentAndReceived");function T(R,U){let{notificationTracePassthroughData:P}=U;if(!P)return;const{traceId:L,parentSpanId:F}=P,x=(0,c.E)({state:R}),b=p({tracer:x,traceId:L,parentSpanId:F,name:_});x.reportSpans([b])}E(T,"traceNotificationOpened");function I(R,U){let{notificationTracePassthroughData:P,clientMsgId:L}=U;if(!P||!L)return;const{traceId:F,parentSpanId:x}=P,b=(0,c.E)({state:R}),k=p({tracer:b,traceId:F,parentSpanId:x,name:h});k.addTags({reply_message_client_message_id:L}),b.reportSpans([k])}E(I,"traceNotificationQuickReply");let M={};function D(R){return!!M[R]}E(D,"messageHasPendingNotificationTrace");function O(R,U){let{timestamp:P,notificationTracePassthroughData:L}=U;if(!L)return;(0,n.A)(M)>f&&((0,s.Ay)({state:R}).error("notification-tracing-utils: notificationTracePassThroughData exceeded maximum size"),M={});const{traceId:F,parentSpanId:x}=L,b=(0,c.E)({state:R}),k=g({tracer:b,traceId:F,parentSpanId:x,name:d});M[P]=k}E(O,"openNotificationReadSpan");function S(R,U){let{timestamp:P}=U;if(!P)return;const L=M[P];if(!L)return;const F=(0,c.E)({state:R});L.close(),F.reportSpans([L]),delete M[P]}E(S,"closeAndReportNotificationReadSpan")},5123689463:(N,y,e)=>{"use strict";e.d(y,{Kk:()=>m,N_:()=>d,Oh:()=>h,iu:()=>f,px:()=>i,rk:()=>l});var t=e(8786006583),n=e(9022734571),o=e(7732872146),s=e(7101754232),c=e(3929724715),r=e(2523456537);function a(u){const{hostname:g,pathname:p,search:A}=u;if(!g||!p)return;const C=g.split("."),T=p.split("/").slice(1);if(!(0,r.A)(g)||T.length<2)return;const I=T[0];switch(I){case"messages":case"archives":case"conversation":case"files":case"search":case"lists":break;default:return}const M=C[0],D=(0,t.A)(A.split("?")),O=D&&(0,n.nT)(D);let S;return O&&O.thread_ts&&(S=O.thread_ts),{team:M,type:I,path:T,threadTs:S}}E(a,"parsePermalinkFromUrlObject");function i(u){return l((0,o.Ay)(u))}E(i,"getPermalinkIdentifier");function l(u){const g=a(u);if(!g)return;const{path:p}=g;return p?p&&p[1]:!1}E(l,"getPermalinkIdentifierFromUrlObject");function m(u){let{team:g,channelId:p,ts:A,threadTs:C}=u,T=p&&(0,c.Bn)({team:g,channelId:p,archive:!0});return p&&A&&(T+=`/p${A.replace(".","")}`),p&&A&&C&&C!==A&&(T+=`?thread_ts=${C}&cid=${p}`),T}E(m,"getXWSPermalink");function _(u){let{encodedSearchString:g}=u;return`/search/${g}`}E(_,"getSearchPermalink");function h(u,g){return`/archives/${u}/tabs/${g}`}E(h,"getChannelTabPermalink");function d(u){return`/create/channel/${(0,s.R)(u)?u:u.toLowerCase().replace("_solution","_template")}`}E(d,"getChannelTemplatePermalink");function f(u){let{channelId:g,ts:p,threadTs:A}=u,C="/archives";return g&&(C+=`/${g}`),g&&p&&(C+=`/p${p.replace(".","")}`),g&&p&&A&&A!==p&&(C+=`?thread_ts=${A}&cid=${g}`),C}E(f,"getPermalink");var v=null},1369898444:(N,y,e)=>{"use strict";e.d(y,{M:()=>c,W:()=>s});var t=e(8749908259),n=e(2878685908),o=e(7002741921);function s(r,a){const i={resources:[],frames:[],stacks:[],samples:[]},l=new Map,m=new Map,_=new Map;function h(g){if(_.has(g))return _.get(g);const p=i.resources.length;return i.resources.push(r.resources[g]),_.set(g,p),p}E(h,"mapResource");function d(g){if(m.has(g))return m.get(g);const p=r.frames[g],A=i.frames.length;return p.resourceId!=null?i.frames.push({...p,resourceId:h(p.resourceId)}):i.frames.push(p),m.set(g,A),A}E(d,"mapFrame");function f(g){if(l.has(g))return l.get(g);const p=r.stacks[g],A=p.parentId?f(p.parentId):void 0,C=d(p.frameId),T=i.stacks.length;return i.stacks.push(A!=null?{parentId:A,frameId:C}:{frameId:C}),l.set(g,T),T}E(f,"mapStack");function v(g){g.stackId==null?i.samples.push(g):i.samples.push({timestamp:g.timestamp,stackId:f(g.stackId)})}E(v,"addSample");let u=0;for(const{start:g,end:p}of a){for(;u<r.samples.length&&r.samples[u].timestamp<g;)u+=1;for(;u<r.samples.length&&r.samples[u].timestamp<=p;)v(r.samples[u]),u+=1}return i}E(s,"filterTrace");function c(){return!(0,n.b3)()&&(0,o._)("self_profiling","enabled")&&!(0,t.b)()}E(c,"isProfilingEnabled")},5332109660:(N,y,e)=>{"use strict";e.d(y,{D:()=>t});const t=E(n=>{const o=n.split(":");return{salesforceOrgId:o[1]||"",rawRecordId:o[2]||"",relatedListId:o[3]||""}},"parseSalesforceCompositeId")},7948868735:(N,y,e)=>{"use strict";e.d(y,{F:()=>o});var t=e(1545824888),n=e(4615579178);class o extends n.l{fetchData(){return t.S.resolve()}onCacheData(c){super.onCacheData(c);const r=1e3*60*60*4;this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=null,this.refreshTimer=setTimeout(()=>{this._callCacheGet()},this.timeoutMs+Math.random()*r)}getStaleWhileRevalidate(c){return this.isStaleOrUndefined()&&(this._callCacheGet(),this.cachedData===void 0)?c:this.cachedData}constructor(){super(()=>this.fetchData(),1008e5,!1),this.refreshTimer=null}}E(o,"AutocompleteCache")},9186097751:(N,y,e)=>{"use strict";e.d(y,{S1:()=>f});var t=e(1545824888),n=e(1520110262),o=e(7679173189),s=e(7948868735),c=e(6533394955);const r=.014,a=.094,i=.148,l=.132,m=.179;class _ extends s.F{fetchData(){return(0,o.Am)(this.teamId)?(0,c.Qw)(this.teamId,(0,n.yp)()).catch(u=>({exception:u})).then(u=>new h({topEmojis:u.top_emojis,topMpims:u.top_mpims,topChannels:u.top_channels,topUsers:u.top_users,emojiFeatures:u.emoji_features,mpimFeatures:u.mpim_features,channelFeatures:u.channel_features,userFeatures:u.user_features,mpimCtr:u.mpim_ctr,channelCtr:u.channel_ctr,userCtr:u.user_ctr,emojiCtr:u.emoji_ctr,otherCtr:u.other_ctr,defaultFeatureNames:u.default_features,topAppActions:u.top_app_actions,topGlobalActions:u.top_global_actions,topSlashCommands:u.top_slash_commands,topWorkflowTriggers:u.top_workflow_triggers,topChannelActions:u.top_channel_actions,appActionCtr:u.app_action_ctr,globalActionCtr:u.global_action_ctr,slashCommandCtr:u.slash_command_ctr,workflowTriggerCtr:u.workflow_trigger_ctr,channelActionCtr:u.channel_action_ctr,usersHasDmed:u.users_has_dmed,usersHasMpdmed:u.users_has_mpdmed,channelPriority28D:u.channel_priority_28d,channelPriority90D:u.channel_priority_90d,userAffinity:u.user_affinity})):t.S.resolve(new h)}getStaleWhileRevalidate(){return super.getStaleWhileRevalidate(new h)}constructor(u){super(),this.teamId=u}}E(_,"AutocompleteFeaturesCache");class h{getFeatures(u,g){const p=this.topEntities[g],A=this.featureNames[g]||this.featureNames.default,C=this.defaultEntityFeatures[g],T=p&&p[u];if(T&&A){const I={};for(let D=0;D<A.length;D++)I[A[D]]=T[D];const M={team_ctr_90dd:C.team_ctr_90dd,user_ctr_30dd:C.user_ctr_30dd};for(const D of Object.keys(C))M[D]=I[D]||C[D];return M}return C}getEntityCtr(u){return this.entityCtr[u]||this.otherEntityCtr}getUserDmChannelMetadata(u){return this.usersHasDmed?this.usersHasDmed[u]:null}getUserMpdmChannelMetadata(u){return this.usersHasMpdmed?this.usersHasMpdmed[u]:null}getProcessedPriorityFeatures(){if(!this.priorityFeatures)return null;const{channelPriority28D:u,channelPriority90D:g,userAffinity:p,usersHasDmed:A}=this.priorityFeatures,C={topChannels28D:[],topChannels90D:[],topUsers:[],topUsersHasDmed:[]},T=E(I=>Object.entries(I).sort((M,D)=>{const O=M[1],S=D[1],R=typeof O=="number"?O:O.last_read_abs;return(typeof S=="number"?S:S.last_read_abs)-R}).slice(0,50).map(M=>M[0]),"processPriorityFeature");if(u){const I=T(u);C.topChannels28D=I}if(g){const I=T(g);C.topChannels90D=I}if(p){const I=T(p);C.topUsers=I}if(A){const I=T(A);C.topUsersHasDmed=I}return C}constructor({topEmojis:u,topMpims:g,topChannels:p,topUsers:A,emojiFeatures:C,mpimFeatures:T,channelFeatures:I,userFeatures:M,mpimCtr:D,channelCtr:O,userCtr:S,emojiCtr:R,otherCtr:U,defaultFeatureNames:P,topAppActions:L,topGlobalActions:F,topSlashCommands:x,topWorkflowTriggers:b,topChannelActions:k,appActionCtr:B,globalActionCtr:W,slashCommandCtr:K,workflowTriggerCtr:H,channelActionCtr:z,usersHasDmed:Q,usersHasMpdmed:q,channelPriority28D:$,channelPriority90D:le,userAffinity:te}={}){this.topEntities={emoji:u,mpim:g,channel:p,member:A,appAction:L,globalAction:F,slashCommand:x,workflowTrigger:b,channelAction:k},this.featureNames={emoji:C,mpim:T,channel:I,member:M,default:P},this.otherEntityCtr=U??m,this.entityCtr={mpim:D??r,channel:O??i,member:S??l,emoji:R??a,appAction:B??this.otherEntityCtr,globalAction:W??this.otherEntityCtr,slashCommand:K??this.otherEntityCtr,workflowTrigger:H??this.otherEntityCtr,channelAction:z??this.otherEntityCtr},this.defaultEntityFeatures={};for(const ce of Object.keys(this.entityCtr))this.defaultEntityFeatures[ce]={team_ctr_90dd:this.getEntityCtr(ce),user_ctr_30dd:this.getEntityCtr(ce)};this.usersHasDmed=Q,this.usersHasMpdmed=q,this.priorityFeatures={channelPriority28D:$,channelPriority90D:le,userAffinity:te,usersHasDmed:Q}}}E(h,"AutocompleteFeatures");const d={};function f(v){let{teamId:u,enterpriseId:g}=v;const p=g||u||"_default";return d[p]||(d[p]=new _(u)),d[p]}E(f,"getAutocompleteFeaturesCache")},4256321479:(N,y,e)=>{"use strict";e.d(y,{E:()=>a});var t=e(5276466411),n=e(7948868735),o=e(6533394955),s=e(474652310);class c extends n.F{handleFileDeletion(l){if(this.cachedData&&this.cachedData.length>0){const m=this.cachedData.filter(_=>!(l!=null&&l.includes(_.id)));this.cachedData=m}}fetchData(){return(0,o.Qw)(this.teamId,(0,t.z)({reason:"fetch-search-autocomplete-top-engaged-files"})).then(l=>((0,o.Qw)(this.teamId,(0,s.b)({files:l.files})),l.files))}constructor(l,m){super(),this.teamId=l,this.timeoutMs=m}}E(c,"AutocompleteTopEngagedFilesCache");const r={};function a(i){let{teamId:l}=i;const m=l||"_default",_=36e5;return r[m]||(r[m]=new c(l,_)),r[m]}E(a,"getAutocompleteTopEngagedFilesCache")},1948374838:(N,y,e)=>{"use strict";e.d(y,{X:()=>c});var t=e(2223860501),n=e(8847766420);let o=E(class{isStale(){return Date.now()-this.updatedDate>this.timeoutMs}isPrefixStale(){return Date.now()-this.prefixUpdatedDate>this.prefixTimeoutMs}clearIfStale(){this.isStale()&&(this.queryCache.clear(),this.updatedDate=Date.now())}clearPrefixIfStale(){this.isPrefixStale()&&(this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now())}contains(a){const i=this.queryCache.has(a);return this.clearIfStale(),i}containsPrefixOf(a){return this.clearPrefixIfStale(),this.prefixQueryCache.containsPrefix(a)}add(a){return this.clearIfStale(),this.queryCache.add(a)}addAsPrefix(a){return this.clearPrefixIfStale(),this.prefixQueryCache.add(a)}setRequestInFlight(){this.inFlightRequestStartTime=Date.now()}clearRequestInFlight(){delete this.inFlightRequestStartTime}isRequestInFlight(){return this.inFlightRequestStartTime?Date.now()-this.inFlightRequestStartTime<this.inFlightRequestTimeoutMs:!1}reset(){this.queryCache.clear(),this.updatedDate=Date.now(),this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now(),this.clearRequestInFlight()}constructor(){this.queryCache=new t.A,this.prefixQueryCache=new t.A,this.updatedDate=Date.now(),this.prefixUpdatedDate=Date.now(),this.timeoutMs=1e3*60*60*8,this.prefixTimeoutMs=1e3*60*15,this.inFlightRequestTimeoutMs=400}},"WorkflowTriggersAutocompleteQueryCache");const s={};function c(r){const a=(0,n.ZT)(r),l=(0,n.jV)(r)||a||"";return s[l]||(s[l]=new o),s[l]}E(c,"getWorkflowTriggersAutocompleteQueryCache")},8584282426:(N,y,e)=>{"use strict";e.d(y,{M:()=>c});var t=e(3502457281),n=e(3929724715),o=e(8921478798),s=e(5795074931);function c(r){let{state:a,mpim:i,matchData:l,equalizeMembersListToMatchData:m=!1}=r;const _=(0,s.WR)(a);let h=[];if((0,n.Ug)(i)){var d;h=((d=(0,n.Ug)(i))===null||d===void 0?void 0:d.filter(M=>_!==M))||[]}if(!l)return h;const f=!1,v=!1,u=[];l.forEach(M=>{M.map(O=>({name:(0,o.I)(a,O.id,f,v),...O})).sort((O,S)=>O.score<S.score?1:O.score>S.score?-1:(0,t.Ay)(O.name,S.name)).filter(O=>isFinite(O.score)).forEach(O=>{h.includes(O.id)&&(u.push(O.id),h.splice(h.indexOf(O.id),1))})});const g=h.map(M=>({id:M,name:(0,o.I)(a,M,f,v)})).sort((M,D)=>(0,t.Ay)(M.name,D.name)).map(M=>M.id),p=[...u,...g],A=l.length,C=p.length>A,T=m&&C,I=p.slice(0,p.length-(p.length-A));return T?I:p}E(c,"getMemberDisplayOrderForSearcherMPIM")},220244708:(N,y,e)=>{"use strict";e.d(y,{B:()=>s});var t=e(6495946979),n=e(8170643398),o=e(3730613858);function s(c,r,a){if((0,n.fy)(r))return(0,t.bl)(a);const i=(0,o.Ql)(c,a.id,r.id);return!!(i.isKnown&&i.isMember)}E(s,"isUserKnownToBeMemberOfChannel")},9703079150:(N,y,e)=>{"use strict";e.d(y,{t:()=>n});var t=e(5853759500);class n{score(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=0;const a=s.featureList.length;for(let i=0;i<a;i++)r+=this._weightForFeature(s.featureList[i],c.source||null)*((0,t.W0)(s.featureList[i])||0);return r}explain(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=c.source||null,a=s.featureList.map(m=>({id:m.id,name:m.name,value:m.valueOrNull,weight:this._weightForFeature(m,r),globalWeight:this._globalWeightForFeature(m),score:this._weightForFeature(m,r)*(0,t.W0)(m)})),i=a.filter(m=>m.score).sort((m,_)=>_.score-m.score),l=a.filter(m=>m.value&&!m.score&&m.name!=="ID");return{score:this.score(s,c),features:[...i,...l],remoteModel:this.isRemote}}_globalWeightForFeature(s){return this.weights[s.name]||0}_weightForFeature(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=0;s.name==="USER_IS_EXTERNAL"&&(r=-1);const a=this.weights[s.name]||0,l=c&&(c==="composer_page__destination"||c.startsWith("share"))?"WRITE":"READ",m=this.weights[`${l}_${s.name}`]||0;return a+m+r}constructor(s,c=!1){this.isRemote=c,this.weights=s}}E(n,"LinearModel")},1072784641:(N,y,e)=>{"use strict";e.d(y,{A:()=>w});var t=e(7715417323),n=e(5729325965),o=e(1703559452),s=e(4249070636),c=e(5238395322),r=e(8086952004),a=e(2003990933),i=e(4874502712),l=e(274973508),m=e(3037015781),_=e(8496310524),h=e(7111365413),d=e(3929724715),f=e(1407713935),v=e(8920264989),u=e(8798294025),g=e(395285811),p=e(3890290905);const A=E(Y=>Y&&(Y.displayName||Y.display_name||(0,p.Y)(Y)),"getEmojiDisplayName"),C=E(Y=>Y?(Y.aliases?[Y,...Y.aliases]:[Y]).map(Z=>({name:(0,p.Y)(Z),displayName:A(Z)})):null,"getAllEmojiNameObjects");var T=e(2647703359),I=e(102566929),M=e(5455782105),D=e(8170643398),O=e(9262712126),S=e(6120301420),R=e(3212336858),U=e(6839188756),P=e(2546018671),L=e(1033870301),F=e(337319621),x=e(4058658129),b=e(6163112184),k=e(8088280230);const B={china:["pinching_hand","pinching-hand"],dead:["older_adult"],dump:["hindu_temple"],fail:["family"],gross:["flag-progress-pride"],hi:["shit"],hit:["shit"],hitler:["white_flower"],it:["shit"],macht:["mannlichkeitssymbol"],sh:["shit"],shi:["shit"],shoot:["school_satchel"],s:["shit"],sit:["shit"],sith:["person_with_headscarf"],war:["man-wearing-turban"],whine:["menorah_with_nine_branches"],worst:["woman-wrestling"],wrong:["woman-rowing-boat"]};var W=e(1917953477),K=e(8935440161),H=e(6312133237),z=e(8518663094),Q=e(2332798892);const q=E(Y=>(Y||"").split(/\s+/)[0],"getFirstWord"),$=E(Y=>["/","\uFF0F"].includes((Y||"").charAt(0))?Y:`/${Y}`,"prependSlashToStr"),le=E(Y=>((Y||"").split(/[^\S\n\r]+/g)||[]).length>1,"strHasSpace");var te=e(8847766420),ce=e(2762206868),me=e(9101533895),_e=e(4761125736),Ae=e(8276911661),ye=e(1670069836);const oe=/\s+/g,ee=/[-]+/g,V=new l.O(2e3);let w=E(class{filterMembers(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if((0,D.Zx)(re)||this.shouldFilterItem(re,se))return ae;if(!this.query&&this.allowEmptyQuery){const ve={item:re,score:0,id:re.id};return this.selfFirst&&(0,D.fy)(re)&&(ve.isSelf=!0),ae.push(ve),ae}let pe,de;this.options.matchBeyondWordBoundaries?{score:pe,scoreDetails:de}=this.scoreMember(re,this.beyondWordBoundaryMatcher):{score:pe,scoreDetails:de}=this.scoreMember(re);const ie={item:re,score:pe,scoreDetails:de,id:re.id};!this.avoidExactMatchForMembers&&this.preferExactMatch&&(ie.isExactMatch=this.isMemberExactMatch(re),ie.exactMatchDetails=this.getMemberExactMatchDetails(re)),this.selfFirst&&(0,D.fy)(re)&&(ie.isSelf=!0);const he=this.options.matchBeyondWordBoundaries?this.beyondWordBoundaryFuzzyLimit:this.fuzzyLimit;return pe<=he&&ae.push(ie),ae},[])}scoreMember(G){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const se=1/0,ae={};if(this.queryIsMaybeSelf&&(0,D.fy)(G))ae.self_score=0;else{const ie=(0,O.j_)(G),he=(0,O.sJ)(G);ae.real_name=ie?Z.score(ie):se,ae.display_name=he?Z.score(he):se}if(this.shouldMatchEmail){const ie=(0,O.ZL)(G);ae.email=ie?this.forwardOnlyMatcher.score(ie):1/0}var re;const pe=(re=(0,n.A)(Object.values(ae)))!==null&&re!==void 0?re:se,de=Object.entries(ae).reduce((ie,he)=>{let[ve,ge]=he;return isFinite(ge)&&(ie[ve]=ge),ie},{});return{score:pe,scoreDetails:de}}filterChannels(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if((0,f.cb)(re)||(0,f.Zx)(re)||(0,g.jT)(re)||this.shouldFilterItem(re,se))return ae;if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const pe=(0,H.B)((0,v.SB)(G,re,{publicChannelIncludeHashSign:!1}));let de;this.options.matchBeyondWordBoundaries?de=this.beyondWordBoundaryMatcher.score(pe):de=this.matcher.score(pe);const ie={item:re,score:de,id:re.id};this.preferExactMatch&&(ie.isExactMatch=this.isChannelExactMatchPreNormalized(pe));const he=this.options.entities&&this.options.entities.channels&&this.options.entities.channels.searchPreviousNames,ve=re.previous_names&&re.previous_names.length;let ge=!1;if(he&&ve){var ke;const We=re==null||(ke=re.previous_names)===null||ke===void 0?void 0:ke.map(Ke=>({score:this.matcher.normalizeAndScore(Ke),name:Ke}));ie.previousNameScores=We,ge=(0,o.A)(We,Ke=>Ke.score<=this.fuzzyLimit);const Oe=ge&&de>this.fuzzyLimit;let be;if(Oe){const Ke=(0,s.A)(We,"score");be=Ke&&Ke.name}ie.bestPreviousNameMatch=be}const Ne=this.options.matchBeyondWordBoundaries?this.beyondWordBoundaryFuzzyLimit:this.fuzzyLimit;return de<=Ne||ge?ae.push(ie):this.rawQuery===re.id&&ae.push({item:re,score:0,id:re.id}),ae},[])}filterTeams(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if((0,U.Zx)(re)||this.shouldFilterItem(re,se))return ae;if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const pe=this.matcher.normalizeAndScore((0,U.F1)(re)),de={item:re,score:pe,id:re.id};return this.preferExactMatch&&(de.isExactMatch=this.isTeamExactMatch(re)),pe<=this.fuzzyLimit&&ae.push(de),ae},[])}filterUserGroups(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if((0,P.Zx)(re)||this.shouldFilterItem(re,se))return ae;if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const pe=this.scoreUserGroupName(re),de={item:re,score:pe,id:re.id};return this.preferExactMatch&&(de.isExactMatch=this.isUsergroupExactMatch(re)),pe<=this.fuzzyLimit&&ae.push(de),ae},[])}scoreUserGroupName(G){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,se=1/0,ae=1/0;const re=(0,P.TZ)(G)||(0,P.ue)(G).toLocaleLowerCase(),pe=(0,P.x_)(G,{includeAtSign:!1});return se=Z.normalizeAndScore(re),pe&&(ae=Z.normalizeAndScore(pe)),Math.min(se,ae)}getSubQueryMatchers(){return this.query.split(/[,| ]/).filter(Z=>!!Z).map(Z=>{const se=Z.charAt(0)==="@"?Z.substring(1):Z;return new K.A(se,{fuzzyLimit:this.fuzzyLimit})})}filterMpims(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const ae=(0,b.h)(G),re=(0,x.z)(G);return Z.reduce((pe,de)=>{if(this.shouldFilterItem(de,se))return pe;if(!this.query&&this.allowEmptyQuery)return pe.push({item:de,score:0,id:de.id}),pe;const ie=(0,d.cU)(de);if((ae||re)&&ie){const Fe=(0,H.B)(ie),J=this.matcher.score(Fe),ne={item:de,score:J,id:de.id};if(this.preferExactMatch&&(ne.isExactMatch=this.isChannelExactMatchPreNormalized(Fe)),J<=this.fuzzyLimit)return pe.push(ne),pe}const he=(0,d.Ug)(de);if(!he)return pe;const ve=he.map(Fe=>(0,Ae.nv)(G,Fe)).filter(Fe=>!(0,D.fy)(Fe)&&!(0,D.Zx)(Fe)),ge={},ke={},Ne=[];let We=0;const Oe=this.getSubQueryMatchers();for(const Fe of Oe){const J=[];let ne=1/0;for(const je of ve){const{score:at,scoreDetails:nt}=this.scoreMember(je,Fe),Ge=ge==null?void 0:ge[je.id];at<(Ge!==void 0?Ge:1/0)&&(ge[je.id]=at,ke[je.id]={score_details:nt}),J.push({id:je.id,score:at}),at<ne&&(ne=at)}Ne.push(J),We+=ne}let be;isFinite(We)?be=(0,c.A)(Object.values(ge).filter(isFinite)):be=We;const Ke={id:de.id,item:de,score:be,scoreDetailsByMember:ke,subqueryScoresByMember:Ne};return be<=this.fuzzyLimit?pe.push(Ke):this.rawQuery===de.id&&pe.push({item:de,score:0,id:de.id}),pe},[])}filterIms(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if(this.shouldFilterItem(re,se))return ae;const pe=(0,u.e)(re);if(!pe)return ae;const de=(0,Ae.nv)(G,pe);if((0,D.Zx)(de))return ae;if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const{score:ie,scoreDetails:he}=this.scoreMember(de),ve={item:re,score:ie,scoreDetails:he,id:re.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(ve.isExactMatch=this.isMemberExactMatch(de),ve.exactMatchDetails=this.getMemberExactMatchDetails(de)),ie<=this.fuzzyLimit?ae.push(ve):this.rawQuery===re.id&&ae.push({item:re,score:0,id:re.id}),ae},[])}filterViews(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if(this.shouldFilterItem(re,se))return ae;if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const pe=this.matcher.normalizeAndScore(re.name),de={item:re,score:pe,id:re.id};return this.preferExactMatch&&(de.isExactMatch=this.isViewOrModalExact(re)),pe<=this.fuzzyLimit&&ae.push(de),ae},[])}filterModals(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if(this.shouldFilterItem(re,se))return ae;if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const pe=this.matcher.normalizeAndScore(re.name),de={item:re,score:pe,id:re.id};return this.preferExactMatch&&(de.isExactMatch=this.isViewOrModalExact(re)),pe<=this.fuzzyLimit&&ae.push(de),ae},[])}filterAppActions(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if((0,m.GU)(re)||this.shouldFilterItem(re,se))return ae;if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const pe=(0,_.u)(re),de=(0,ce.sO)(G,re.app_id),ie=!(0,m.GU)(de)&&(0,h.fj)(de),he=ie?[`${pe} ${ie}`,`${ie} ${pe}`]:[pe],ve=he.map(Ne=>this.matcher.normalizeAndScore(Ne)),ge=Math.min(...ve),ke={item:re,score:ge,id:re.id};return this.preferExactMatch&&(ke.isExactMatch=!!(this.query&&he.map(H.B).includes(this.query))),ge<=this.fuzzyLimit&&ae.push(ke),ae},[])}filterApps(G,Z,se,ae){let re=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t.A;const pe={};return Z!=null&&Z.length&&Z.forEach(de=>{const ie=de.app_id;ie&&!pe[ie]&&(pe[ie]={id:ie,name:de.appName})}),se!=null&&se.length&&se.forEach(de=>{const ie=de==null?void 0:de.appId;ie&&!pe[ie]&&(pe[ie]={id:ie,name:de==null?void 0:de.appName})}),ae!=null&&ae.length&&ae.forEach(de=>{const ie=de.appId;ie&&!pe[ie]&&(pe[ie]={id:ie,name:de.appName})}),this.filterShortcuts(G,Object.values(pe),!1,re)}filterShortcuts(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t.A;return Z.reduce((re,pe)=>{if((0,m.GU)(pe)||this.shouldFilterItem(pe,ae))return re;if(!this.query&&this.allowEmptyQuery)return re.push({item:pe,score:0,id:pe.id}),re;const{score:de,scoreDetails:ie,bestNameMatch:he,bestNameIsExactMatch:ve}=this.scoreShortcut(pe,se),ge={item:pe,id:pe.id,score:de};if(se){ge.firstWordOfRawQuery=q(this.query);const ke=(0,Q.A)(pe,$(ge.firstWordOfRawQuery),{allowPartialMatches:!1});ge.commandMatch=ke&&this.isOpenedWithSlash,ge.isExactMatch=ge.commandMatch}return ge.scoreDetails=ie,ge.bestNameMatch=he,ge.bestNameIsExactMatch=ve,ge.isExactMatch=ge.isExactMatch||ve,(de<=this.fuzzyLimit||ge.commandMatch)&&re.push(ge),re},[])}scoreShortcut(G){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const ae=this.isQueryExactlySlash?[]:G.aliases||[];let re=(0,H.B)((0,R.fK)(G));const pe={name:se.score(re),label:se.normalizeAndScore(G.label),desc:se.normalizeAndScore((0,R.Hv)(G)),app_name:se.normalizeAndScore((0,R.qA)(G))};Z&&pe.name!==void 0&&pe.name>0&&(pe.name-=1);let de,ie,he;ae.forEach(Ne=>{let We=(0,H.B)(Ne);!this.query.startsWith("/")&&!this.query.startsWith("\uFF0F")&&(We=(0,W.O)(We));const Oe=se.score(We);We=(0,W.O)(We),!he&&(de===void 0||Oe<de)&&(de=Oe,ie=We),this.normalizedQuery===We&&(he=!0,ie=We)}),de!==void 0&&isFinite(de)&&(pe.aliases=de);var ve;const ge=(ve=(0,n.A)(Object.values(pe)))!==null&&ve!==void 0?ve:1/0;re=(0,W.O)(re),!he&&isFinite(pe.name)&&(de===void 0||pe.name<de)&&(ie=re),this.normalizedQuery===re&&(he=!0,ie=re);const ke=Object.entries(pe).reduce((Ne,We)=>{let[Oe,be]=We;return isFinite(be)&&(Ne[Oe]=be),Ne},{});return{score:ge,scoreDetails:ke,bestNameMatch:ie,bestNameIsExactMatch:he}}filterWorkflowTriggers(G,Z){const se=(0,i.y)(G);return Z.reduce((ae,re)=>{if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const pe=this.scoreWorkflowTrigger(re,this.matcher,se),de={item:re,score:pe,id:re.id};return this.preferExactMatch&&(de.isExactMatch=this.isTriggerExactMatch(re)),pe<=this.fuzzyLimit&&ae.push(de),ae},[])}scoreWorkflowTrigger(G){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var ae;const re={name:Z.normalizeAndScore(G.name),description:Z.normalizeAndScore(G.description),appName:Z.normalizeAndScore((ae=G.workflow.app)===null||ae===void 0?void 0:ae.name),...se?{shareUrl:Z.normalizeAndScore(G.share_url)}:{}};var pe;return(pe=(0,n.A)(Object.values(re)))!==null&&pe!==void 0?pe:1/0}filterBroadcastKeywords(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if(this.shouldFilterItem(re,se))return ae;if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const pe=this.scoreBroadcastKeyword(re),de={item:re,score:pe,id:re.id};return this.preferExactMatch&&(de.isExactMatch=this.isBroadcastKeywordExactMatch(re)),pe<=this.fuzzyLimit&&ae.push(de),ae},[])}scoreBroadcastKeyword(G){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,se=1/0,ae=1/0;const re=Z.normalizeAndScore(G.name);return G.id==="BKchannel"&&(se=Z.normalizeAndScore("group")),G.ms_name!==G.name&&(ae=Z.normalizeAndScore(G.ms_name)),Math.min(re,ae,se)}filterEmoji(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const ae=[];return Z.forEach(re=>{if(this.shouldFilterItem(re,se))return;if(!this.query&&this.allowEmptyQuery){var pe;ae.push({item:re,emojiScore:0,emojiMatchIndices:[],score:0,id:(pe=re.id)!==null&&pe!==void 0?pe:re.name});return}var de;const ie=(de=C(re))!==null&&de!==void 0?de:[];let he=1/0,ve,ge,ke,Ne,We,Oe;ie.forEach(je=>{let{name:at,displayName:nt}=je;if(at){const Ge=(0,H.B)(at),Pe=this.scoreEmojiName(Ge);(Pe.score<he||he===1/0)&&(he=Pe.score,ve=Pe.matchIndices,ge=at,ke=at,We=Pe.queryLengthRatio,Oe=Pe.totalComboBreaks,Ne=this.query===Ge||at==="ok_hand"&&this.query==="ok")}if(nt&&nt!==at){const Ge=(0,H.B)(nt),Pe=this.scoreEmojiName(Ge);(Pe.score<he||he===1/0)&&(he=Pe.score,ve=Pe.matchIndices,ge=nt,ke=at,We=Pe.queryLengthRatio,Oe=Pe.totalComboBreaks,Ne=this.query===Ge)}});const be=this.options&&this.options.entities&&this.options.entities.emoji&&this.options.entities.emoji.matchKeywords,Ke=re.keywords,Fe=!!(Ke&&Ke.length&&Array.isArray(Ke));Ke&&Ke.length&&!Array.isArray(Ke)&&(0,F.Ay)({state:G}).error("https://slack.zendesk.com/agent/tickets/2393782",`Emoji keywords for ${re.name} is not an array - ${re.keywords}`);let J=!1;if(he===1/0&&be&&Fe&&(J=re.keywords.some(je=>this.matcher.normalizeAndScore(je)<1/0),J&&(ge=re&&(re.displayName||re.name))),he!==1/0||J){const je=(0,r.A)(ie,Ge=>{let{name:Pe}=Ge;return Pe===ke}),at=je&&je.displayName;var ne;const nt={item:re,score:he,emojiScore:he,emojiBestNameMatch:ge,emojiBestNameMatchCanonical:ke,emojiBestNameMatchLocalized:at,emojiMatchIndices:ve,emojiQueryLengthRatio:We,emojiTotalComboBreaks:Oe,id:(ne=re.id)!==null&&ne!==void 0?ne:re.name};this.preferExactMatch&&(nt.isExactMatch=Ne,nt.isEmojiExactMatch=Ne),ae.push(nt)}}),ae}scoreEmojiName(G){const Z={score:1/0,matchIndices:[],queryLengthRatio:0,totalComboBreaks:null};if(!G)return Z;if(G==="ok_hand"&&this.query==="ok")return{score:0,matchIndices:[0,1],queryLengthRatio:1,totalComboBreaks:0};if(B[this.query]&&B[this.query].indexOf(G)!==-1)return Z;const se=this.query.length,ae=[];let re=2,pe=5;se<3?(re=0,pe=0):se===3?(re=1,pe=1):se===4&&(re=1);let de=1/0,ie=0,he=null,ve=G.indexOf(this.query);if(ve===-1&&(ve=G.indexOf(this.query[0])),ve!==-1){let ke=G,Ne=this.query;if(this.options.optimizeEmojiRegexWork)if(Ne=this.modifiedQueryForEmojiMatching,V.has(G)){var ge;ke=(ge=V.get(G))!==null&&ge!==void 0?ge:G}else ke=G.replace(ee,"_"),V.set(G,ke);else Ne=this.query.replace(oe,"").replace(ee,"_"),ke=G.replace(ee,"_");const We=Ne.split("");he=0;let Oe=0,be=0,Ke=!0;for(let Fe=ve;Fe<ke.length;Fe++){if(ke[Fe]===We[0]){if(Ke=!0,ae.push(Fe),We.shift(),be>Oe&&(Oe=be),be=0,We.length===0)break}else Ke&&(he+=1),Ke=!1,be+=1;if(he>re)return{score:de,matchIndices:ae,queryLengthRatio:ie,totalComboBreaks:he};if(be>pe)return{score:de,matchIndices:ae,queryLengthRatio:ie,totalComboBreaks:he}}if(We.length>0)return Z;ie=Ne.length/ke.length,de=1-ie,he>0&&(de+=he)}return{score:de,matchIndices:ae,queryLengthRatio:ie,totalComboBreaks:he}}filterFiles(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const ae=(0,S.hq)(G),re=(0,te.Kc)(G),pe=(0,ye._J)(G,re),de=(0,M.k)(G),ie=pe&&(0,U.qR)(pe),he=!de&&!ie,ve=(0,_e._Z)(G,"native_dlp_canvas")==="on";return Z.reduce((ge,ke)=>{var Ne,We;if((0,m.GU)(ke)||(0,T.sR)(ke))return ge;const Oe=(Ne=this.options)===null||Ne===void 0||(We=Ne.entities)===null||We===void 0?void 0:We.files,be=!!(Oe!=null&&Oe.includeChannelCanvases)||!!(Oe!=null&&Oe.onlyChannelCanvases);if(ke&&(0,T.aD)(ke)&&!be)return ge;const Ke=ke&&(0,T.CA)(ke),Fe=ke==null?void 0:ke.user_team,J=Fe?(0,ye._J)(G,Fe):null;var ne;const at=((ne=(0,U.Ss)(J??void 0))!==null&&ne!==void 0?ne:Fe)!==re;if(Ke&&(at||he)||ve&&(0,T.Sp)(ke)||ke&&ae&&(Oe!=null&&Oe.onlyChannelCanvases||he)&&(0,T.wL)(ke)||this.shouldFilterItem(ke,se))return ge;if(!this.query&&this.allowEmptyQuery)return ge.push({item:ke,score:0,id:ke.id}),ge;const nt=this.scoreFile(G,ke),Ge={item:ke,score:nt,id:ke.id};return this.preferExactMatch&&(Ge.isExactMatch=this.isFileExactMatch(ke)),nt<=this.fuzzyLimit&&ge.push(Ge),ge},[])}scoreFile(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const ae=Z.name?se.normalizeAndScore(Z.name):1/0,re=Z.title&&Z.name!==Z.title?se.normalizeAndScore(Z.title):1/0,pe=Z.external_url&&this.queryHasLink?se.normalizeAndScore(Z.external_url):1/0,de=Z.permalink&&this.queryHasLink?se.normalizeAndScore(Z.permalink):1/0;let ie=1/0;if((0,T.aD)(Z)){const he=(0,I.Iz)(Z),ve=(0,me.OL)(G,he);if(ve){const ge=(0,H.B)((0,v.SB)(G,ve,{publicChannelIncludeHashSign:!1}));ie=this.matcher.score(ge)}}return Math.min(ae,re,pe,de,ie)}filterLists(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if(this.shouldFilterItem(re,se))return ae;if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const pe=this.scoreList(re),de={item:re,score:pe,id:re.id};return this.preferExactMatch&&(de.isExactMatch=this.isListExactMatch(re)),pe<=this.fuzzyLimit&&ae.push(de),ae},[])}scoreList(G){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(G.title)}filterListRecords(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if(this.shouldFilterItem(re,se)||!re.name||!re.listTitle)return ae;if(!this.query&&this.allowEmptyQuery)return ae.push({item:re,score:0,id:re.id}),ae;const pe=this.scoreListRecord(re),de={item:re,score:pe,id:re.id};return this.preferExactMatch&&(de.isExactMatch=this.isListRecordExactMatch(re)),pe<=this.fuzzyLimit&&ae.push(de),ae},[])}scoreListRecord(G){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(G.name)}filterChannelSections(G,Z){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return Z.reduce((ae,re)=>{if(this.shouldFilterItem(re,se))return ae;const pe=(0,L.v2)(G,re),de=this.matcher.normalizeAndScore(pe),ie={item:re,score:de,id:re.id};return!this.query&&this.allowEmptyQuery?(ae.push(ie),ae):(de<=this.fuzzyLimit&&ae.push(ie),ae)},[])}shouldFilterItem(G,Z){return Z(G)===!1||this.filter(G)===!1}getMemberExactMatchDetails(G){const Z={},se=(0,O.j_)(G),ae=(0,O.sJ)(G);return Z.real_name=se===this.query,Z.display_name=ae===this.query,this.shouldMatchEmail&&(Z.email=(0,O.ZL)(G)===this.query),Z}isMemberExactMatch(G){return!this.query||!this.query.length?!1:(0,o.A)(this.getMemberExactMatchDetails(G),Boolean)}isChannelExactMatchPreNormalized(G){return!this.query||!this.query.length?!1:G===this.query}isFileExactMatch(G){if(!this.query||!this.query.length)return!1;var Z,se;return(0,H.B)(G.name)===this.query||(0,H.B)(G.title)===this.query||(0,H.B)((Z=G.external_url)!==null&&Z!==void 0?Z:void 0)===this.query||(0,H.B)((se=G.permalink)!==null&&se!==void 0?se:void 0)===this.query}isListExactMatch(G){return!this.query||!this.query.length?!1:(0,H.B)(G.title)===this.query}isListRecordExactMatch(G){return!this.query||!this.query.length?!1:(0,H.B)(G.name)===this.query}isTeamExactMatch(G){return!this.query||!this.query.length?!1:(0,H.B)((0,U.F1)(G))===this.query}isUsergroupExactMatch(G){return!this.query||!this.query.length?!1:(0,H.B)((0,P.x_)(G))===this.query||(0,H.B)((0,P.ue)(G))===this.query}isTriggerExactMatch(G){return!this.query||!this.query.length?!1:(0,H.B)(G.name)===this.query}isBroadcastKeywordExactMatch(G){return!this.query||!this.query.length?!1:(0,H.B)(G.name)===this.query||(0,H.B)(G.ms_name)===this.query}isViewOrModalExact(G){return!this.query||!this.query.length?!1:(0,H.B)(G.name)===this.query}filterHelpArticles(G,Z){const ae=Z.reduce((re,pe)=>{const de=(0,H.B)(pe.title),ie=this.substringMatcher.normalizeAndScore(pe.title);return ie>this.fuzzyLimit?re:re.concat({item:{...pe,id:String(pe.id)},score:ie,isExactMatch:de===this.query,id:String(pe.id)})},[]).sort((re,pe)=>re.score-pe.score);return ae.slice(0,Math.min(5,ae.length))}filterSalesListViews(G,Z){return Z.reduce((ae,re)=>{const pe=re.label;if(!pe)return ae;const de=(0,H.B)(pe),ie=this.substringMatcher.normalizeAndScore(de);if(ie>this.fuzzyLimit)return ae;const he=re.id;return ae.concat({item:{...re,id:he,name:pe},score:ie,isExactMatch:de===this.query,id:he})},[])}constructor({query:G="",options:Z={entities:{}}}){var se,ae,re,pe,de,ie,he,ve,ge,ke,Ne,We,Oe,be;this.options=Z,this.rawQuery=G,this.query=(0,H.B)(G);var Ke;this.fuzzyLimit=(Ke=this.options.fuzzyLimit)!==null&&Ke!==void 0?Ke:3;var Fe;this.beyondWordBoundaryFuzzyLimit=(Fe=this.options.beyondWordBoundaryFuzzyLimit)!==null&&Fe!==void 0?Fe:3,this.allowEmptyQuery=!!this.options.allowEmptyQuery,this.preferExactMatch=!!(this.options.sort&&this.options.sort.preferExactMatch),this.avoidExactMatchForMembers=!!(!((se=this.options)===null||se===void 0||(ae=se.sort)===null||ae===void 0)&&ae.avoidExactMatchForMembers),this.selfFirst=!!(!((re=this.options)===null||re===void 0||(pe=re.sort)===null||pe===void 0)&&pe.selfFirst),this.filter=this.options.filter||t.A,this.modifiedQueryForEmojiMatching=Z!=null&&Z.optimizeEmojiRegexWork&&(!(Z==null||(de=Z.entities)===null||de===void 0)&&de.emoji)?this.query.replace(oe,"").replace(ee,"_"):this.query,this.shouldMatchEmail=(0,a.A)(this.options,"entities.members.matchEmailField")||(0,a.A)(this.options,"entities.channels.matchEmailField"),this.queryIsMaybeSelf=(0,z.t)(G),this.queryHasLink=(0,k.A)({input:this.query}).length>0,this.normalizedQuery=this.query,!((ie=this.options)===null||ie===void 0||(he=ie.entities)===null||he===void 0||(ve=he.shortcuts)===null||ve===void 0)&&ve.queryStartsWithSlash&&(this.query=$(this.query)),this.matcher=new K.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK}),this.beyondWordBoundaryMatcher=new K.A(this.query,{fuzzyLimit:this.beyondWordBoundaryFuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,matchBeyondWordBoundaries:this.options.matchBeyondWordBoundaries}),this.forwardOnlyMatcher=new K.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,searchForwardOnly:this.options.fuzzyEmailSearchForwardOnly}),this.substringMatcher=new K.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,substringsOnly:!0}),this.isOpenedWithSlash=!!(!((ge=this.options)===null||ge===void 0||(ke=ge.entities)===null||ke===void 0||(Ne=ke.shortcuts)===null||Ne===void 0)&&Ne.isOpenedWithSlash),this.isQueryExactlySlash=!!(!((We=this.options)===null||We===void 0||(Oe=We.entities)===null||Oe===void 0||(be=Oe.shortcuts)===null||be===void 0)&&be.isQueryExactlySlash)}},"SearcherMatcher")},6897117289:(N,y,e)=>{"use strict";e.d(y,{A:()=>O});var t=e(3367239067),n=e(1703559452),o=e(7264301376),s=e(129753175),c=e(3502457281),r=e(3929724715),a=e(1407713935),i=e(8920264989),l=e(6007206761),m=e(6495946979),_=e(8170643398),h=e(9262712126),d=e(3534324375),f=e(6839188756),v=e(7578434623),u=e(181849556),g=e(220244708),p=e(274973508);const A=new p.O(1e3);class C{preprocessText(R,U){if(typeof R!="string")throw new TypeError("Input text must be a string.");let P=R.replace(/\s+?/g,"").toLowerCase();return U&&(P=P.replace(/[-_]/g,"")),Array.from(P)}extractNGrams(R){if(!Array.isArray(R)||R.some(x=>typeof x!="string"))throw new TypeError("textChars must be an array of strings.");const U=new Map,P=R.length,[L,F]=this.ngramRange;for(let x=L;x<=F;x++)for(let b=0;b<=P-x;b++){const k=R.slice(b,b+x).join(""),B=b+1,W=U.get(k)||[];W.push(B),U.set(k,W)}return U}computeTermFrequencies(R){const U=new Map;return R.forEach((P,L)=>{const F=P.reduce((x,b)=>x+1/b,0);U.set(L,F)}),U}cosineSimilarity(R,U){if(!(R instanceof Map)||!(U instanceof Map))throw new TypeError("tfQuery and tfCandidate must be Map instances.");const P=new Set([...R.keys(),...U.keys()]);let L=0,F=0,x=0;return P.forEach(k=>{const B=R.get(k)||0,W=U.get(k)||0;L+=B*W,F+=B*B,x+=W*W}),F===0||x===0?0:L/(Math.sqrt(F)*Math.sqrt(x))}computeSimilarity(R,U){if(typeof R!="string"||typeof U!="string")return 0;const L=/[-_]/.test(R);let F,x;if(this.optimizeNGramWork){if(A.has(R))F=A.get(R);else{const b=this.preprocessText(R,!1),k=this.extractNGrams(b);F=this.computeTermFrequencies(k),A.set(R,F)}if(A.has(U))x=A.get(U);else{const b=this.preprocessText(U,!L),k=this.extractNGrams(b);x=this.computeTermFrequencies(k),A.set(U,x)}}else{const b=this.preprocessText(R,!1),k=this.preprocessText(U,!L),B=this.extractNGrams(b),W=this.extractNGrams(k);F=this.computeTermFrequencies(B),x=this.computeTermFrequencies(W)}return!F||!x?0:this.cosineSimilarity(F,x)}constructor(R=[2,3],U=!1){if(!Array.isArray(R)||R.length!==2||typeof R[0]!="number"||typeof R[1]!="number"||R[0]>R[1]||R[0]<1)throw new Error("ngramRange must be an array of two numbers where minN >= 1 and minN <= maxN.");this.ngramRange=R,this.optimizeNGramWork=U}}E(C,"PositionAwareFuzzyMatcher");var T=e(5795074931),I=e(9101533895),M=e(8276911661);const D={starredChannel:10,memberOfThisChannel:25,archivedChannel:-50,deactivatedMember:-50,mpimWithDeactivatedMember:-50,channelFromAnotherTeam:-15,notInChannel:-25,userGroupOrKeyword:-25,fuzzyMatch:50,emojiMatch:150,exactMatch:100,matchesPreviousName:-50,workflowAssociatedWithChannel:250,popularEmoji:1,isSelf:250};let O=E(class{sort(R,U){var P;const L=(0,v.Cy)({state:R});L.mark("modern-searcher-sorting-mark");const{members:F,channels:x,mpims:b,ims:k,teams:B,userGroups:W,emoji:K,broadcastKeywords:H,views:z,modals:Q,appActions:q,channelSections:$,emails:le,files:te,lists:ce,listRecords:me,slashCommands:_e,slackGlobalActions:Ae,quipShortcutCommands:ye,canvasAiSuggestions:oe,channelActions:ee,fakeGlobalActions:V,callActions:w,apps:Y,helpArticles:G,workflowTriggers:Z,salesListViews:se}=U,ae={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};x&&x.reduce((ve,ge)=>(0,l.F)(ge.item)?(ve.archivedChannels.push(ge),ve):((0,m.bl)(ge.item)?ve.memberChannels.push(ge):ve.nonmemberChannels.push(ge),ve),ae);let re=[...F||[],...ae.memberChannels,...b||[],...k||[],...K||[],...W||[],...H||[],...z||[],...Q||[],...q||[],...$||[],...le||[],...te||[],...ce||[],...me||[],...w||[],...ee||[],...V||[],...Y||[],...G||[],...Z||[],...se||[]],pe=[...ae.nonmemberChannels,...B||[],..._e||[],...Ae||[],...ye||[],...oe||[]],de=ae.archivedChannels;const ie=this.getSortFuzzyFunction(R,{localeAware:!0});this.options.flat||(re=this.precomputeMatchNames(R,re).sort(ie),pe=this.precomputeMatchNames(R,pe).sort(ie),de=this.precomputeMatchNames(R,de).sort(ie));let he=[...re,...pe,...de];return this.options.flat&&he.sort(ie),this.options.preferExactMatch&&(he=[...(0,t.A)(he,ge=>ge.isExactMatch),...he]),this.options.frecency&&(this.options.normalize=!0,L.mark("modern-searcher-frecency-sort-mark"),this.options.modelOnly?he=(0,u.jW)(R,{query:this.query,list:he,bonusPoints:this.getFrecencyBonusPointsFunction(R)}):he=(0,u.Zh)(R,{query:this.query,list:he,bonusPoints:this.getFrecencyBonusPointsFunction(R)}),L.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),this.options.selfFirst&&!(!((P=he[0])===null||P===void 0)&&P.isSelf)&&(he=[...(0,t.A)(he,ge=>ge.isSelf),...he]),L.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),he}precomputeMatchNames(R,U){return U.map(P=>({...P,name:this.getNameForComparison(R,P)}))}getSortFuzzyFunction(R,U){let{localeAware:P}=U;return(L,F)=>{if((0,a.yz)(L.item)&&!(0,a.yz)(F.item))return 1;if((0,a.yz)(F.item)&&!(0,a.yz)(L.item)||(0,a.LI)(L.item)&&!(0,a.LI)(F.item))return-1;if((0,a.LI)(F.item)&&!(0,a.LI)(L.item))return 1;if(!(0,a.yz)(L.item)&&!(0,a.yz)(F.item)){const H=L.score-F.score;if(H!==0)return H}if((0,a.yz)(L.item)&&(0,a.yz)(F.item)){const H=L.score-F.score;if(H!==0)return H;var x,b;const z=((x=(0,r.N4)(L.item))!==null&&x!==void 0?x:0)-((b=(0,r.N4)(F.item))!==null&&b!==void 0?b:0);if(z!==0)return z}var k;const B=(k=L.name)!==null&&k!==void 0?k:"";var W;const K=(W=F.name)!==null&&W!==void 0?W:"";return P?(0,c.Ay)(B,K):B>K?1:K>B?-1:0}}getFrecencyBonusPointsFunction(R){return U=>{var P,L;const{item:F}=U,x={};if((0,a.yz)(F)){if(x.isMpim=0,this.options.preferMpimsWithActiveMembers){const b=(0,r.Ug)(F);if(!b)return x;const k=b.map(B=>(0,M.nv)(R,B));(0,n.A)(k,B=>(0,_.oy)(B)||(0,_.eJ)(B))&&(x.isMpimWithDeactivatedMember=D.mpimWithDeactivatedMember)}return x}if(U.isExactMatch?(x.isExactMatch=D.exactMatch,U.isEmojiExactMatch&&(x.isEmojiExactMatch=D.exactMatch)):U.emojiScore?x.emojiScoreBonus=this.calculateContinuousFuzzyBonusPoints(U,D.emojiMatch):(0,l.F)(F)||(0,_.oy)(F)||(0,_.eJ)(F)||(x.fuzzyScoreBonus=this.calculateContinuousFuzzyBonusPoints(U,D.fuzzyMatch)),U.bestPreviousNameMatch&&(x.onlyMatchesPreviousName=D.matchesPreviousName),this.options.preferChannelMembers&&F.presence&&this.options.currentChannel&&(0,g.B)(R,F,this.options.currentChannel)&&(x.isMemberOfThisChannel=D.memberOfThisChannel),(0,a.jq)(F)&&(0,r.m2)(R,F)&&(x.isStarred=D.starredChannel),(0,_.NB)(F)){const b=(0,I.Pu)(R,F.id);b&&(0,r.m2)(R,b)&&(x.isStarred=D.starredChannel)}return F.is_emoji&&(F.name==="thumbsup"||F.name==="point_up")&&(x.isPopularEmojiVariant=D.popularEmoji),this.options.selfFirst&&(0,_.fy)(F)&&(x.isSelf=D.isSelf),this.options.preferChannelWorkflows&&F.type==="channel_action"&&F.channelId===((P=this.options)===null||P===void 0||(L=P.currentChannel)===null||L===void 0?void 0:L.id)&&(x.isWorkflowAssociatedWithChannel=D.workflowAssociatedWithChannel),((0,a.rW)(F)||(0,a.Zp)(F))&&((0,l.F)(F)&&(x.isArchived=D.archivedChannel),(0,a.rW)(F)&&this.options.preferChannelsUserBelongsTo&&!(0,l.F)(F)&&!(0,m.bl)(F)&&(x.isNotChannelMember=D.notInChannel),(0,T.u8)(R)&&(0,r.lo)(F)&&(x.isChannelFromAnotherTeam=D.channelFromAnotherTeam)),(0,_.NB)(F)&&((0,_.oy)(F)||(0,_.eJ)(F))&&(x.isDeactivatedMember=D.deactivatedMember),(F.is_usergroup||F.is_broadcast_keyword)&&(x.isUserGroupOrKeyword=D.userGroupOrKeyword),x}}calculateNormalizedFuzzyBonusPoints(R,U,P){const L=R[U];if(!(0,o.A)(L))return 0;const F=.5**L;return Math.round(P*F)}calculateContinuousFuzzyBonusPoints(R,U){const P=E((x,b)=>x&&x.trim()?x:b,"getSafeString");return E(()=>{const x=R.item,b=R.item.name;if((0,_.NB)(x)){const k=P((0,h.j_)(x),b),B=P((0,h.sJ)(x),b);if(k===B)return this.positionAwareFuzzyMatcher.computeSimilarity(this.query,k);const W=this.positionAwareFuzzyMatcher.computeSimilarity(this.query,k),K=this.positionAwareFuzzyMatcher.computeSimilarity(this.query,B);return Math.max(W,K)}return this.positionAwareFuzzyMatcher.computeSimilarity(this.query,b)},"computeFuzzyScore")()*U}getNameForComparison(R,U){let P;const L=U.item;return(0,a.yz)(L)?P=L.name_normalized:(0,a.mz)(L)?P=(0,s.A)((0,i.SB)(R,L,{publicChannelIncludeHashSign:!1})):(0,_.NB)(L)?P=(0,d.sE)(R,L):L.is_usergroup?P=L.handle||L.name:L.team_name?P=(0,s.A)((0,f.F1)(L)):L.isEmail?P=(0,s.A)(L.value):L.title?P=L.title:P=L.name,P}constructor({query:R,options:U={}}){this.options=U,this.query=R,this.positionAwareFuzzyMatcher=new C([2,3],U.optimizeFuzzyMatchingNGramsWork)}},"SearcherSorter")},9868740303:(N,y,e)=>{"use strict";e.d(y,{A:()=>re});var t=e(8571983633),n=e(9746734072),o=e(9113979368),s=e(897091071),c=e(7715417323),r=e(1703559452),a=e(2141441167),i=e(5503876160),l=e(2156087151),m=e(1545824888),_=e(2664504268),h=e(7599421656),d=e(3924280006),f=e(9552526132),v=e(2028988448),u=e(5613323535),g=e(1197508738),p=e(5455782105),A=e(3212336858),C=e(9931116838),T=e(411655882),I=e(2229186),M=e(8668318456),D=e(9392104102),O=e(82287009),S=e(7578434623),R=e(5770715593),U=e(4096483543),P=e(6471801899),L=e(1917953477),F=e(1072784641),x=e(6897117289),b=e(7646553093),k=e(8847766420),B=e(7260478587),W=e(4119164726),K=e(6533394955),H=e(6451390137),z=e(2854654447),Q=e(9107158149),q=e(7688940281),$=e(2235302340),le=e(9101533895),te=e(6728717861),ce=e(7600673124),me=e(3829348308),_e=e(4761125736),Ae=e(937317117),ye=e(761034736),oe=e(970158643),ee=e(6304789565),V=e(9174292896);const w=(0,ee.Ay)("Fetch list records for lists mentions",async(pe,de,ie)=>{let{query:he}=ie;const ve=(0,P.V3)(he);if(!ve)return;const{listTitle:ge}=ve,ke=(0,oe.Mr)(de()),Ne=(0,P.xL)(ke,ge);if(!Ne)return;const We=Ne.id;await pe((0,V.D)({listId:We}))});w.meta={name:"createThunk",key:"createThunkfetchForMentions",description:"Fetch list records for lists mentions"};var Y=e(4525672255),G=e(8276911661),Z=e(1835177371);class se{search(de){let{query:ie,options:he}=de;var ve;if(this.maybeStartSession(ie),((0,t.A)(ie)||!ie.length)&&!he.allowEmptyQuery)return m.S.resolve(D.Ml);if((0,n.A)(ie))return this.bulkSearch({queryRecords:ie,options:he});const ge=(0,K.$D)(this.teamId),ke=(0,S.Cy)({state:ge}),Ne=(0,_.A)();ke.mark(`modern-searcher-search-mark-${Ne}`);const We=(0,L.O)(ie??"");u.LI.start({label:u.gC.Searcher,id:Ne,options:{teamId:(0,k.ZT)(ge),tags:this.getTraceTags({query:We,options:he})}});const Oe=(ve=u.LI.get({label:u.gC.Searcher,id:Ne}))===null||ve===void 0?void 0:ve.createChildSpan({name:"searcher:search"}),be=(0,d.aw)(he,d.lp,ie);if((0,_e._Z)(ge,"ml_fuzzy_match_beyond_word_boundaries")==="treatment"&&(be.matchBeyondWordBoundaries=!0,be.beyondWordBoundaryFuzzyLimit=6),(0,o.A)(be))return m.S.resolve(D.Ml);if((0,g.x)(ge)!==te.M9.ONLINE||!(he!=null&&he.allowEmptyQueryRemoteSearch)&&!We.length&&(0,U.A)()&&(0,_e._Z)(ge,"searcher_local_empty_string")==="treatment"&&!he.entities.lists)return m.S.resolve(this.searchLocal({query:We,options:be,autoTraceId:Ne,parentSpanId:Oe==null?void 0:Oe.getId()}));const Fe=this.fetchRemote({query:We,options:be,autoTraceId:Ne,parentSpanId:Oe==null?void 0:Oe.getId()}).then(J=>this.processFetchedEntities({query:We,data:J,options:be,autoTraceId:Ne,parentSpanId:Oe==null?void 0:Oe.getId()}));if(be.tiered){const J=this.searchLocal({query:We,options:be,autoTraceId:Ne,parentSpanId:Oe==null?void 0:Oe.getId()});return J.promise=Fe.finally(()=>{Oe==null||Oe.close(),u.LI.stop({label:u.gC.Searcher,id:Ne})}),m.S.resolve(J).finally(()=>{ke.measureAndClear(`modern-searcher-search-mark-${Ne}`,"modern-searcher-search-tiered")})}return Fe.finally(()=>{ke.measureAndClear(`modern-searcher-search-mark-${Ne}`,"modern-searcher-search"),Oe==null||Oe.close(),u.LI.stop({label:u.gC.Searcher,id:Ne})})}flattenResultsWithQueryId(de){let{returnedResults:ie,queryIds:he}=de;const ve=ie;for(let ge=0;ge<ie.length;ge++)for(let ke=0;ke<ie[ge].length;ke++)ve[ge][ke].queryId=he[ge];return(0,s.A)(ve)}bulkSearch(de){let{queryRecords:ie,options:he}=de;const ve=(0,K.$D)(this.teamId),ge=(0,S.Cy)({state:ve}),ke=(0,_.A)();ge.mark(`modern-searcher-search-mark-${ke}`);const Ne=(0,d.aw)(he,d.lp,"");if((0,o.A)(Ne))return m.S.resolve(D.Ml);const We=ie.map(ne=>ne.query),Oe=ie.map(ne=>ne.queryId),be=We.map(ne=>(0,L.O)(ne));let Ke,Fe;if((0,g.x)(ve)!==te.M9.ONLINE)return Fe=be.map(ne=>this.searchLocal({query:ne,options:Ne})),Ke=this.flattenResultsWithQueryId({returnedResults:Fe,queryIds:Oe}),m.S.resolve(Ke);const J=this.fetchRemote({query:be,options:Ne}).then(ne=>(Fe=ne.map((je,at)=>this.processFetchedEntities({query:be[at],data:je,options:Ne})),this.flattenResultsWithQueryId({returnedResults:Fe,queryIds:Oe})));return Ne.tiered?(Fe=be.map(ne=>this.searchLocal({query:ne,options:Ne})),Ke=this.flattenResultsWithQueryId({returnedResults:Fe,queryIds:Oe}),Ke.promise=J,m.S.resolve(Ke).finally(()=>{ge.measureAndClear(`modern-searcher-search-mark-${ke}`,"modern-searcher-search-tiered")})):J.finally(()=>{ge.measureAndClear(`modern-searcher-search-mark-${ke}`,"modern-searcher-search")})}searchLocal(de){let{query:ie,options:he,autoTraceId:ve,parentSpanId:ge}=de;var ke;const Ne=(0,K.$D)(this.teamId);let We=ve;We||(We=(0,_.A)(),u.LI.start({label:u.gC.Searcher,id:We,options:{teamId:(0,k.ZT)(Ne),tags:this.getTraceTags({query:ie,options:he})}}));const Oe=(ke=u.LI.get({label:u.gC.Searcher,id:We}))===null||ke===void 0?void 0:ke.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:ge}});if(!ie.length&&!he.allowEmptyQuery)return[];const be=(0,d.aw)(he,d.lp,ie);if((0,o.A)(be))return[];const Ke=(0,L.O)(ie),Fe=this.fetchLocal({query:ie,options:be}),J=this.processFetchedEntities({query:Ke,data:Fe,options:be,autoTraceId:We,parentSpanId:Oe==null?void 0:Oe.getId()});return Oe==null||Oe.close(),J}fetchRemote(de){let{query:ie,options:he,autoTraceId:ve,parentSpanId:ge}=de;var ke;const Ne=(0,K.$D)(this.teamId),We=(ke=u.LI.get({label:u.gC.Searcher,id:ve}))===null||ke===void 0?void 0:ke.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:ge}});this.pendingRequests.forEach(Le=>Le.cancel()),this.pendingRequests=[];const Oe=[],be=[],{channels:Ke,emoji:Fe,files:J,lists:ne,members:je,teams:at,userGroups:nt,appActions:Ge,workflowTriggers:Pe}=he.entities;if(je){let Le;(0,n.A)(ie)?Le=(0,K.Qw)(this.teamId,(0,d.U7)({queries:ie,options:he})):Le=(0,K.Qw)(this.teamId,(0,d.QH)({query:ie,options:he})),this.pendingRequests.push(Le),je.runaway?be.push(Le):Oe.push(Le)}if(Ke&&!(0,n.A)(ie)){const Le=(0,K.Qw)(this.teamId,(0,d.J6)({query:ie,options:he}));this.pendingRequests.push(Le),Ke.runaway?be.push(Le):Oe.push(Le)}if(Fe&&!(0,n.A)(ie)){const Le=(0,K.Qw)(this.teamId,(0,d.LR)({query:ie,options:he}));this.pendingRequests.push(Le),Fe.runaway?be.push(Le):Oe.push(Le)}if(J&&!(0,n.A)(ie)&&((0,l.A)(ie)||ie.length>3)){const Le=(0,K.Qw)(this.teamId,(0,d.cD)({query:ie,options:he}));this.pendingRequests.push(Le),J.runaway?be.push(Le):Oe.push(Le)}if(ne&&!(0,n.A)(ie)){const Le=m.S.resolve((0,K.Qw)(this.teamId,ie.indexOf(">")<0?(0,Y.E)({query:ie}):w({query:ie})));this.pendingRequests.push(Le),ne.runaway?be.push(Le):Oe.push(Le)}if(nt){let Le;(0,n.A)(ie)?Le=(0,K.Qw)(this.teamId,(0,d.eR)({queries:ie,options:he})):Le=(0,K.Qw)(this.teamId,(0,d.UC)({query:ie,options:he})),this.pendingRequests.push(Le),nt.runaway?be.push(Le):Oe.push(Le)}if(at&&((0,p.k)(Ne)||at.onlyExternal||at.includeExternal)&&!(0,n.A)(ie)){const Le=(0,K.Qw)(this.teamId,(0,d.DF)({query:ie,options:he}));this.pendingRequests.push(Le),at.runaway?be.push(Le):Oe.push(Le)}if((0,C.e)(Ne)&&Ge){const Le=m.S.resolve((0,K.Qw)(this.teamId,(0,z.G)())).timeout(2e3).catch(c.A);this.pendingRequests.push(Le),Ge.runaway?be.push(Le):Oe.push(Le)}if(Pe&&!(0,n.A)(ie)){const Le=(0,K.Qw)(this.teamId,(0,d.fx)({query:ie}));Pe.runaway?be.push(Le):Oe.push(Le)}return m.S.all(Oe).then(Le=>{let ze;if((0,n.A)(ie))ze=ie.map(Be=>this.fetchLocal({query:Be,options:he})).map(Be=>{const we={...Be};return we.remoteIds=(0,d.jl)(Le),we});else{if(ze=this.fetchLocal({query:ie,options:he}),ze.remoteIds=(0,d.jl)(Le),je&&je.onlyFromExternalWorkspaceId){var Me,Ce;ze.members=(Ce=(Me=Le.find(Be=>!!Be.members))===null||Me===void 0?void 0:Me.members)!==null&&Ce!==void 0?Ce:D.Ml}const Qe=(0,r.A)((0,a.A)(ze),"length");if(be.length&&!Qe)return m.S.all(be).then(()=>this.fetchLocal({query:ie,options:he}))}return We==null||We.close(),ze}).finally(()=>{this.pendingRequests=[]})}fetchLocal(de){let{query:ie,options:he}=de;const ve=(0,K.$D)(this.teamId);(0,d.ZD)(he);const ge={},{members:ke,channels:Ne,teams:We,userGroups:Oe,appActions:be,views:Ke,broadcastKeywords:Fe,emoji:J,files:ne,lists:je,channelSections:at,emails:nt,modals:Ge,shortcuts:Pe,workflowTriggers:Le,helpArticles:ze,canvasAiSuggestions:Me}=he.entities;if(Ne&&(Ne.includePublic||Ne.includePrivate)&&(ge.channels=(0,d.AC)(ve,he)),Ne&&Ne.includeMpims&&(ge.mpims=(0,le.FS)(ve)),Ne&&Ne.includeIms&&(ge.ims=(0,le._B)(ve)),ke&&(ge.members=ke.onlyFromExternalWorkspaceId?D.Ml:(0,G.I_)(ve).filter(Be=>(0,Q.zP)(ve,Be.id)&&!(0,ce.y)(ve,Be.id))),We&&(ge.teams=(0,d.mi)(ve,he)),Oe&&(ge.userGroups=(0,Z.jJ)(ve)),be&&(ge.appActions=(0,h.B)(ve)?(0,H.PL)(ve):(0,d.g2)(ve,be.channel)),ne&&(ge.files=(0,Ae.Gn)(ve)),je&&(ie.indexOf(">")<0?ge.lists=(0,oe.C0)(ve):ge.listRecords=(0,oe.vD)(ve,ie)),Ke&&(ge.views=(0,d.mK)(ve)),Ge&&(ge.modals=(0,d.A$)(ve)),Fe){var Ce;const Be=Fe.currentChannel?Fe.currentChannel.id:null;ge.broadcastKeywords=!((Ce=he.entities.broadcastKeywords)===null||Ce===void 0)&&Ce.includeAll||!Be?(0,T.A)():(0,I.A)(ve,Be)}if(J&&(ge.emoji=(0,me.Gt)(ve)),at&&(ge.channelSections=(0,a.A)((0,$.jV)(ve))),(Pe!=null&&Pe.slashCommands||Pe!=null&&Pe.fakeGlobalActions)&&!(Pe!=null&&Pe.isAnnounceOnly)&&(ge.slashCommands=(0,h.B)(ve)?(0,O.A_)(ve,Pe.channel,!!Pe.threadTs,!0).map(Be=>({...Be,id:(0,A.Bs)(Be),isSlashCommand:!0})):(0,d.lS)(ve,Pe.channel,Pe.threadTs)),Pe!=null&&Pe.slackGlobalActions&&(ge.slackGlobalActions=(0,O.Yk)(ve,Pe.channel,Pe.threadTs)),Pe!=null&&Pe.quipShortcutCommands&&(ge.quipShortcutCommands=(0,W.Aw)(ve,!!ie)),Pe!=null&&Pe.channelActions&&(ge.channelActions=(0,q.fo)(ve,Pe.channel)),Pe!=null&&Pe.fakeGlobalActions&&(ge.fakeGlobalActions=(0,O.JL)(ve,Pe.channel,Pe.threadTs)),Pe!=null&&Pe.callActions&&(ge.callActions=(0,O.Uw)(ve,Pe.channel,Pe.threadTs,Pe.isAnnounceOnly)),Le){const Be=(0,O.NJ)(ve);Le.includeAutomated?ge.workflowTriggers=Be:ge.workflowTriggers=Be.filter(we=>we.type===f.M.Shortcut)}nt&&(ge.emails=(0,d.FF)(ie));const Qe=(0,R.dL)(ve);return ze&&Qe&&(ge.helpArticles=(0,ye.Fb)(ve,"searcher/fetch_all_articles")),Me&&(ge.canvasAiSuggestions=(0,B.rW)(ve,he)),(0,d.S)(),ge}processFetchedEntities(de){let{query:ie,data:he,options:ve,autoTraceId:ge,parentSpanId:ke}=de;var Ne,We,Oe;const be=(0,K.$D)(this.teamId),Ke=(0,_e._Z)(be,"searcher_cache_fuzzy_match_n_grams")==="treatment",Fe=(Ne=u.LI.get({label:u.gC.Searcher,id:ge}))===null||Ne===void 0?void 0:Ne.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:ke}});(0,d.ZD)(ve);const J={},ne=new F.A({query:ie,options:ve}),je=(0,S.Cy)({state:be});je.mark("modern-searcher-matching-mark");const at=(We=u.LI.get({label:u.gC.Searcher,id:ge}))===null||We===void 0?void 0:We.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});if(he.channels&&(J.channels=ne.filterChannels(be,he.channels,(0,d.sr)(be,ve.entities.channels))),he.members&&(J.members=ne.filterMembers(be,he.members,(0,d.bE)(be,ve.entities.members))),he.emails&&he.members&&!(!(J==null||(Oe=J.members)===null||Oe===void 0)&&Oe.length)&&(J.emails=he.emails),he.mpims&&(J.mpims=ne.filterMpims(be,he.mpims,(0,d.AQ)(be,ve.entities.channels))),he.ims&&(J.ims=ne.filterIms(be,he.ims,(0,d.EM)(be,ve.entities.channels))),he.userGroups&&(J.userGroups=ne.filterUserGroups(be,he.userGroups,(0,d.H9)(be,ve.entities.userGroups))),he.teams&&(J.teams=ne.filterTeams(be,he.teams,(0,d.A1)(be,ve.entities.teams))),he.views&&(J.views=ne.filterViews(be,he.views)),he.modals&&(J.modals=ne.filterModals(be,he.modals)),he.appActions&&(J.appActions=ne.filterAppActions(be,he.appActions)),he.slashCommands&&(J.slashCommands=ne.filterShortcuts(be,he.slashCommands,!0)),he.slackGlobalActions&&(J.slackGlobalActions=ne.filterShortcuts(be,he.slackGlobalActions)),he.quipShortcutCommands&&(J.quipShortcutCommands=ne.filterShortcuts(be,he.quipShortcutCommands)),he.canvasAiSuggestions&&(J.canvasAiSuggestions=ne.filterShortcuts(be,he.canvasAiSuggestions)),he.channelActions&&(J.channelActions=ne.filterShortcuts(be,he.channelActions)),he.fakeGlobalActions&&(J.fakeGlobalActions=ne.filterShortcuts(be,he.fakeGlobalActions)),he.callActions&&(J.callActions=ne.filterShortcuts(be,he.callActions)),he.workflowTriggers&&(J.workflowTriggers=ne.filterWorkflowTriggers(be,he.workflowTriggers)),he.broadcastKeywords&&(J.broadcastKeywords=ne.filterBroadcastKeywords(be,he.broadcastKeywords)),he.emoji&&(J.emoji=ne.filterEmoji(be,he.emoji)),he.channelSections&&(J.channelSections=ne.filterChannelSections(be,he.channelSections,we=>{var xe,Se;return!!(!((xe=ve.entities.channelSections)===null||xe===void 0||(Se=xe.includeTypes)===null||Se===void 0)&&Se[we.type])})),he.files&&(J.files=ne.filterFiles(be,he.files,(0,d.Do)(be,ve.entities.files))),he.lists&&(J.lists=ne.filterLists(be,he.lists)),he.listRecords){var nt;const{recordQuery:we}=(nt=(0,P.V3)(ie))!==null&&nt!==void 0?nt:{},xe=new F.A({query:we,options:ve});J.listRecords=xe.filterListRecords(be,he.listRecords)}he.helpArticles&&(J.helpArticles=ne.filterHelpArticles(be,he.helpArticles)),je.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),at==null||at.close();const Ge=(0,d.SI)(J,he.remoteIds||{});let Pe=(0,s.A)(Object.values(Ge));const Le=500,ze=3;var Me;const Ce=Math.min(((Me=ve==null?void 0:ve.limit)!==null&&Me!==void 0?Me:1)*ze,Le);if(ve.sort&&!ve.sort.bypassSorting){var Qe;let we=!1;Pe.length<Ce&&(we=!0);const xe=new x.A({query:ie,options:{modelOnly:we,...ve.sort,optimizeFuzzyMatchingNGramsWork:Ke}}),Se=(Qe=u.LI.get({label:u.gC.Searcher,id:ge}))===null||Qe===void 0?void 0:Qe.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});Pe=xe.sort(be,Ge),Se==null||Se.close()}if(ve.sort&&ve.sort.frecency&&!ve.sort.bypassSorting){var Be;const we=(Be=u.LI.get({label:u.gC.Searcher,id:ge}))===null||Be===void 0?void 0:Be.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});Pe=new b.A({query:ie,options:ve.sort,teamId:(0,k.ZT)(be),enterpriseId:(0,p.k)(be)&&(0,k.jV)(be)?(0,k.jV)(be):void 0}).sort(be,Pe.slice(0,Ce)),we==null||we.close()}return ve.limit&&(Pe=(0,i.A)(Pe,ve.limit)),ve.returnMetadata||(Pe=Pe.map(we=>we.item)),(0,d.S)(),Pe||[]}clogSearcherAccept(de){let{clogger:ie,data:he}=de;const{source:ve,query:ge,results:ke,selectedItemId:Ne,displayedItemIds:We}=he,Oe=15;if(!Ne)return;const be=We?We.length:ke.length,Ke=We?We.indexOf(Ne):ke.findIndex(Me=>Me.item.id===Ne);if(Ke<0)return;const Fe=ke.find(Me=>Me.item.id===Ne);if(!Fe)return;const J=Fe.type||"other",ne=(0,n.A)(ge)?ge.map(Me=>(0,L.O)(Me)):(0,L.O)(ge),je=Fe.source||"local";let at;Fe.type==="mpim"?at=Fe.scoreDetailsByMember:Fe.type==="member"?at={[Ne]:{is_exact_match:Fe.isExactMatch,exact_match_details:Fe.exactMatchDetails,score_details:Fe.scoreDetails}}:Fe.type==="emoji"?at={[Ne]:{is_exact_match:Fe.isExactMatch}}:Fe.type==="canvasAiSuggestions"&&(at=Fe.item.category);let nt=[];ke.some(Me=>Me.featureVectorRaw)&&(We?nt=We.map(Me=>{const Ce=ke.find(Qe=>Qe.item.id===Me);return Ce&&Ce.featureVectorRaw.serialize()||""}):nt=ke.map(Me=>{var Ce,Qe;return Me==null||(Ce=Me.featureVectorRaw)===null||Ce===void 0||(Qe=Ce.serialize)===null||Qe===void 0?void 0:Qe.call(Ce)}));let Pe;(0,n.A)(ne)?Pe=ne.reduce((Me,Ce)=>Me+(0,d.Cs)((0,L.O)(Ce)),0):Pe=(0,d.Cs)(ne);var Le;const ze={source:ve,query_length:ne.length?ne.length:0,query_terms_length:Pe,results_length:be,selected_position:Ke,selected_type:J,selected_item_id:Ne,selected_source:je,selected_match_details:at,feature_vector_list:nt.slice(0,Oe),session_length:Date.now()-((Le=this.sessionTs)!==null&&Le!==void 0?Le:0)};ie.track(M.EventId.SEARCHER_ACCEPT,ze),this.endSession()}clogSearcherReject(de){let{clogger:ie,data:he}=de;const{source:ve,query:ge,results:ke,displayedItemIds:Ne}=he,We=Ne!==void 0?Ne.length:ke.length,Oe=(0,n.A)(ge)?ge.map(J=>(0,L.O)(J)):(0,L.O)(ge);let be;(0,n.A)(Oe)?be=Oe.reduce((J,ne)=>J+(0,d.Cs)((0,L.O)(ne)),0):be=(0,d.Cs)(Oe);var Ke;const Fe={source:ve,query_length:Oe.length?Oe.length:0,query_terms_length:be,results_length:We,session_length:Date.now()-((Ke=this.sessionTs)!==null&&Ke!==void 0?Ke:0)};ie.track(M.EventId.SEARCHER_REJECT,Fe),this.endSession()}maybeStartSession(de){!this.sessionId&&de!==void 0&&de.length&&(this.sessionTs=Date.now(),this.sessionId=(0,_.A)())}endSession(){this.sessionTs=null,this.sessionId=null}getTraceTags(de){let{query:ie,options:he}=de;var ve;const ge=he.entities;return{source:(he==null?void 0:he.searchViewContext)||((ve=he.sort)===null||ve===void 0?void 0:ve.source),tiered:he.tiered,is_searcher_sessions:!0,entities:Object.keys(ge).filter(ke=>!!ge[ke]).sort().toString(),query_length:ie.length}}constructor(de){this.teamId=de,this.pendingRequests=[],this.sessionId=null,this.sessionTs=null}}E(se,"Searcher");const ae={};function re(pe){let{teamId:de,key:ie}=pe;if(!de)throw new Error("Searcher must be instantiated with a team id");return ae[de]&&!ae[de][ie]&&(ae[de][ie]=new se(de)),ae[de]||(ae[de]={},ae[de][ie]=new se(de)),ae[de][ie]}E(re,"getSearcher"),(0,v.ul)("searcherObj",{search:(pe,de)=>new se(pe).search(de),searchLocal:(pe,de)=>{new se(pe).searchLocal(de)}})},4342685672:(N,y,e)=>{"use strict";e.d(y,{In:()=>o,KV:()=>n,nK:()=>s});var t=e(4761125736);const n="autocompleteFallback";function o(){return n}E(o,"getModelForSorter");function s(c){return(0,t._Z)(c,"searcher_sessions_phase_1")==="treatment"}E(s,"shouldUseSearcherSessions")},5853759500:(N,y,e)=>{"use strict";e.d(y,{Tv:()=>S,W0:()=>Pe});var t=e(1703559452),n=e(5238395322),o=e(8571983633),s=e(2774532222),c=e(7110454183),r=e(1022424641),a=e(8274921051),i=e(3929724715),l=e(1407713935),m=e(6007206761),_=e(4630136761),h=e(6495946979),d=e(8170643398),f=e(4562579337),v=e(5096647761),u=e(337319621),g=e(3051657319),p=e(7715417323);class A{writeNumericalFeature(Ie,Ue){!Ie||!isFinite(Ie)||(this.writeIdAndType(Ue,a.c.NUMERICAL),this.ensureCapacity(4),this.view.setFloat32(this.offset,Ie),this.offset+=4)}writeBinaryFeature(Ie,Ue){Ie&&this.writeIdAndType(Ue,a.c.BINARY)}writeTextFeature(Ie,Ue){if(!Ie)return;this.writeIdAndType(Ue,a.c.TEXT);const rt=unescape(encodeURIComponent(Ie));this.ensureCapacity(2+rt.length),this.view.setUint16(this.offset,rt.length),this.offset+=2,(0,g.A)(rt.length).forEach(zt=>{this.view.setUint8(this.offset,rt.charCodeAt(zt)),this.offset+=1})}writeNullFeature(){(0,p.A)()}writeIdAndType(Ie,Ue){this.ensureCapacity(2),this.view.setUint16(this.offset,Ie<<3|Ue),this.offset+=2}ensureCapacity(Ie){this.offset+Ie>this.buffer.byteLength&&this.resize(this.offset+Ie)}resize(Ie){if(this.buffer.byteLength>=Ie)return;const Ue=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(Ue).set(new Uint8Array(this.buffer)),this.buffer=Ue,this.view=new DataView(this.buffer)}serialize(){return btoa(String.fromCharCode(...new Uint8Array(this.buffer.slice(0,this.offset))))}constructor(){this.buffer=new ArrayBuffer(256),this.view=new DataView(this.buffer),this.offset=0}}E(A,"BinaryFeatureVectorSerializer");var C=e(3395271606);const T=(0,C.A)(a.Q);function I(j){return T[j]}E(I,"getFeatureNameFromId");var M=e(9150404500);const D={globalFeatures:["ID","FRECENCY","RAW_FRECENCY","FRECENCY_BONUS","FRECENCY_LOG_HIT_COUNT","FRECENCY_LOG_HIT_COUNT_SCALED","FRECENCY_HIT_COUNT","FRECENCY_WEIGHT_HIT_VISITS","FRECENCY_WEIGHT_ITEM_VISITS","FRECENCY_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT_SCALED","FRECENCY_HIT_VISITS_4H","FRECENCY_HIT_VISITS_1D","FRECENCY_HIT_VISITS_3D","FRECENCY_HIT_VISITS_1W","FRECENCY_HIT_VISITS_1M","FRECENCY_HIT_VISITS_90D","FRECENCY_ITEM_VISITS_4H","FRECENCY_ITEM_VISITS_1D","FRECENCY_ITEM_VISITS_3D","FRECENCY_ITEM_VISITS_1W","FRECENCY_ITEM_VISITS_1M","FRECENCY_ITEM_VISITS_90D","FUZZY_SCORE","FUZZY_SCORE_50","FUZZY_SCORE_25","FUZZY_SCORE_ALL","FUZZY_SCORE_SCALED_EXP","FUZZY_SCORE_SCALED_FLIPPED","FUZZY_SCORE_SCALED_SUBTRACT","NAV_EXACT_MATCH","NAV_EXACT_PREFIX_MATCH","NAV_NORMAL_MATCH","NAV_NORMAL_PREFIX_MATCH","NAV_NORMAL_MATCH_NO_USER","NAV_NORMAL_PREFIX_MATCH_NO_USER","NAV_QUERY_LENGTH","NAV_TEXT_LENGTH","NAV_QUERY_RATIO_LENGTH_STRING","EXACT_MATCH_LOG_RESULTS","USER_ENTITY_TYPE_CTR_30DD","NUM_RESULTS"],userFeatures:["TYPE_NAVIGATION_USER","USER_PRIORITY","USER_IS_ACTIVE","USER_IS_EXTERNAL","USER_IS_CURRENT_USER","MEMBER_OF_CURRENT_CHANNEL","CURRENT_USER_TEXTY","USER_SAME_TEAM","USER_IS_BOT","USER_IS_DEACTIVATED","USER_IS_IN_CURRENT_THREAD","MEMBER_FILTER_USER_IN_CHANNEL","FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL","USER_DM_IS_UNREAD","USER_DM_IS_STARRED","USER_DM_READ_AGE_DECAY_7D","USER_DM_READ_AGE_DECAY_2H","USER_DM_READ_AGE_DECAY_7D_V2","USER_DM_READ_AGE_DECAY_2H_V2","USER_DM_LATEST_MSG_AGE_DECAY_7D","USER_DM_LATEST_MSG_AGE_DECAY_2H","USER_DM_LATEST_MSG_AGE_DECAY_7D_V2","USER_DM_LATEST_MSG_AGE_DECAY_2H_V2","USER_DM_IS_FROZEN","USER_DM_HAS_DRAFT","USER_DM_NULL","USER_DM_EMPTY","USER_DM_NOT_OPEN","USER_DM_OPEN","USER_DM_LATEST_OLDER_30D","USER_DM_LATEST_OLDER_90D","USER_DM_EMPTY_V2","USER_DM_LATEST_OLDER_30D_V2","USER_DM_LATEST_OLDER_90D_V2","USER_HAS_DMED","USER_DM_READ_AGE_DECAY_2H_V3","USER_DM_READ_AGE_DECAY_7D_V3","USER_DM_READ_OLDER_7D","USER_DM_READ_OLDER_30D","USER_DM_READ_OLDER_90D","USER_QUERY_RATIO_LENGTH_STRING","NAV_NORMAL_PREFIX_MATCH_USER","NAV_NORMAL_MATCH_USER","USER_FIRST_NAME_NORMAL_MATCH","USER_FIRST_NAME_NORMAL_PREFIX_MATCH","USER_FIRST_NAME_EXACT_MATCH","USER_FIRST_NAME_EXACT_PREFIX_MATCH","USER_LAST_NAME_NORMAL_MATCH","USER_LAST_NAME_NORMAL_PREFIX_MATCH","USER_LAST_NAME_EXACT_MATCH","USER_LAST_NAME_EXACT_PREFIX_MATCH","USER_EMAIL_MATCH","USER_EMAIL_ONLY_MATCH","QUERY_IS_SELF","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","USER_MPIM_READ_AGE_DECAY_7D","USER_MPIM_READ_AGE_DECAY_2H","USER_MPIM_LATEST_MSG_AGE_DECAY_7D","USER_MPIM_LATEST_MSG_AGE_DECAY_2H","USER_MPIM_FRECENCY_LOG_ITEM_COUNT","USER_MPIM_FRECENCY_LOG_HIT_COUNT","USER_HAS_MPDMED","USER_MPIM_LOG1P_MEMBERSHIP_COUNT","USER_MPIM_GTE5_MEMBERSHIP_COUNT","USER_MPIM_GTE25_MEMBERSHIP_COUNT","USER_MPIM_READ_AGE_DECAY_7D_V2","USER_MPIM_READ_AGE_DECAY_2H_V2","MEMBER_OF_SEARCHER_DEFAULT_TEAM","HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER","NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER"],channelFeatures:["TYPE_NAVIGATION_CHANNEL","CHANNEL_IS_MEMBER","CHANNEL_PRIORITY","CHANNEL_IS_STARRED","CHANNEL_IS_ARCHIVED","CHANNEL_IS_OTHER_TEAM","CHANNEL_IS_FROZEN","CHANNEL_HAS_DRAFT","CHANNEL_QUERY_RATIO_LENGTH_STRING","QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL","NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS","CHANNEL_IS_UNREAD","CHANNEL_READ_AGE_DECAY_2H","CHANNEL_READ_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_2H","CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH","CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH","ONLY_MATCHES_PREVIOUS_NAME","CHANNEL_TEAM_CTR_90DD","CHANNEL_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION"],mpimFeatures:["TYPE_NAVIGATION_MPIM","MPIM_IS_STARRED","MPIM_READ_AGE_DECAY_2H","MPIM_READ_AGE_DECAY_7D","MPIM_LATEST_MSG_AGE_DECAY_2H","MPIM_LATEST_MSG_AGE_DECAY_7D","MPIM_IS_UNREAD","MPIM_WITH_DEACTIVATED_USER","MPIM_PRIORITY","MPIM_QUERY_RATIO_LENGTH_STRING","MPIM_MEMBERS","MPIM_MEMBER_NAME_MATCHES","MPIM_MEMBER_ALL_MATCHES","MPIM_MATCHER_SCORE","MPIM_MATCHER_SCORE_0","MPIM_MATCHER_SCORE_1","MPIM_MATCHER_SCORE_2","MPIM_MATCHER_SCORE_3","MPIM_TEAM_CTR_90DD","MPIM_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D","MPIM_USERS_PCT_NON_EMPTY_DMS","MPIM_USERS_PCT_NON_NULL_DMS","MPIM_USERS_ALL_INTERNAL","MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS","MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH"],viewFeatures:["TYPE_NAVIGATION_VIEW"],fileFeatures:["TYPE_NAVIGATION_FILE","FILE_SUGGESTION_SCORE","FILE_AGE_DECAY_7D","FILE_AGE_DECAY_28D","FILE_AGE_DECAY_90D","FILE_FROM_CURRENT_USER","FILE_LOG_PUBLIC_SHARES","FILE_LOG_PRIVATE_SHARES","FILE_LOG_ACTIONS","FILE_LATEST_ACTION_AGE_DECAY_2H","FILE_LATEST_ACTION_AGE_DECAY_7D","FILE_LATEST_ACTION_AGE_DECAY_90D","FILE_LATEST_SHARE_AGE_DECAY_2H","FILE_LATEST_SHARE_AGE_DECAY_7D","FILE_LATEST_SHARE_AGE_DECAY_90D","FILE_CHANNEL_CTR","FILE_SUGGESTIONS_SEARCHER","FILE_USER_CTR","FILE_NAME_CONTAINS_QUERY_NORMALIZED","FILE_IS_CANVAS","FILE_HAS_DMS_WITH_CREATOR","FILE_HAS_DMS_WITH_CREATOR_V2","FILE_LATEST_VIEW_BY_USER_OLDER_90D"],linkFeatures:["TYPE_NAVIGATION_LINK"],modalFeatures:["TYPE_NAVIGATION_MODAL"],teamFeatures:["TYPE_NAVIGATION_TEAM"],emojiFeatures:["EMOJI_EXACT_MATCH","EMOJI_QUERY_LENGTH_RATIO","EMOJI_TOTAL_COMBO_BREAKS","EMOJI_COMBO_BREAK_0","EMOJI_COMBO_BREAK_1","EMOJI_COMBO_BREAK_2","EMOJI_COMBO_BREAK_3","TYPE_EMOJI","FRECENCY_HIT_VISIT_DECAY_2H","FRECENCY_HIT_VISIT_DECAY_7D","FRECENCY_ITEM_VISIT_DECAY_2H","FRECENCY_ITEM_VISIT_DECAY_7D","EMOJI_TEAM_CTR_90DD","EMOJI_USER_CTR_30DD"],broadcastKeywordFeatures:["IS_BROADCAST_KEYWORD","HERE_KEYWORD","HERE_KEYWORD_EXACT_MATCH","BROADCAST_KEYWORD_NORMAL_MATCH"],queryFeatures:["TYPE_QUERY","TYPE_USER_QUERY","TYPE_QUERY_HISTORY","ACTIVE_TOKEN_STRING","ACTIVE_TOKEN_MEMBER","ACTIVE_TOKEN_PHRASE","ACTIVE_TOKEN_QUERY_SUGGESTION","ACTIVE_TOKEN_FILTER_DURING","ACTIVE_TOKEN_FILTER_FROM","ACTIVE_TOKEN_FILTER_IN","ACTIVE_TOKEN_FILTER_TO","ACTIVE_TOKEN_FILTER_BEFORE","ACTIVE_TOKEN_FILTER_HAS","ACTIVE_TOKEN_FILTER_IS","ACTIVE_TOKEN_FILTER_ON","ACTIVE_TOKEN_FILTER_AFTER","ACTIVE_TOKEN_FILTER_WITH","QUERY_SUGGESTION_SCORE_V2","QUERY_FRECENCY_RAW","QUERY_FRECENCY_WEIGHT_HIT_VISITS","QUERY_FRECENCY_HIT_COUNT","QUERY_FRECENCY_WEIGHT_ITEM_VISITS","QUERY_FRECENCY_ITEM_COUNT","QUERY_FUZZY_SCORE","QUERY_FRECENCY_BONUS","QUERY_HISTORY_AGE_DECAY_30D","QUERY_HISTORY_LOG_INDEX","FILTER_USER_IS_ACTIVE","FILTER_USER_IS_CURRENT_USER","FILTER_USER_DM_IS_STARRED","FILTER_USER_DM_IS_UNREAD","FILTER_USER_DM_READ_AGE_DECAY_7D","FILTER_USER_DM_READ_AGE_DECAY_2H","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H","FILTER_USER_FIRST_NAME_NORMAL_MATCH","FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_LAST_NAME_NORMAL_MATCH","FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_PRIORITY","FILTER_CHANNEL_IS_ARCHIVED","FILTER_CHANNEL_IS_MEMBER","FILTER_CHANNEL_IS_STARRED","FILTER_CHANNEL_IS_UNREAD","FILTER_CHANNEL_READ_AGE_DECAY_7D","FILTER_CHANNEL_READ_AGE_DECAY_2H","FILTER_CHANNEL_PRIORITY","STRING_EXACT_MATCH","STRING_EXACT_PREFIX_MATCH","STRING_NORMAL_MATCH","STRING_NORMAL_PREFIX_MATCH","STRING_SAME_NUMBER_WORDS","EXCESS_STRING_LENGTH","SUGGESTION_TEXT_LENGTH","QUERY_LENGTH","QUERY_RATIO_LENGTH_STRING","QUERY_TOKEN_NORMAL_MATCH","QUERY_TOKEN_NORMAL_PREFIX_MATCH","QUERY_LOG_HIT_COUNT"],appActionFeatures:["TYPE_APP_ACTION","APP_ACTION_TEAM_CTR","APP_ACTION_USER_CTR","OS_APP_ACTION"],shortcutFeatures:["APP_NAME_PREFIX_MATCH","SHORTCUT_ENTITY_TYPE_CTR","BEST_NAME_MATCH_LOG_RESULTS"],slashCommandFeatures:["TYPE_SLASH_COMMAND","SLASH_COMMAND_TEAM_CTR","SLASH_COMMAND_USER_CTR"],globalActionFeatures:["TYPE_GLOBAL_ACTION","IS_INVITE_WORKSPACE","GLOBAL_ACTION_TEAM_CTR","GLOBAL_ACTION_USER_CTR"],channelActionFeatures:["TYPE_CHANNEL_ACTION","CHANNEL_ACTION_TEAM_CTR","CHANNEL_ACTION_USER_CTR"],appFeatures:["TYPE_APP"],messageFeatures:["TYPE_NAVIGATION_MESSAGE"],workflowTriggerFeatures:["TYPE_WORKFLOW_TRIGGER","WORKFLOW_TRIGGER_TEAM_CTR","WORKFLOW_TRIGGER_USER_CTR"],channelAssociatedWorkflowFeatures:["HAS_CHANNEL_ASSOCIATION"]};var O=e(6312133237);function S(j,Ie){return at.fromSuggestion(j,Ie)}E(S,"featureVectorForSuggestion");function R(){return(0,u.Wo)({label:"SORTER-RANKING"})}E(R,"getLogger");function U(j){return Number.isInteger(j)}E(U,"isIntegerWithType");const P=60*60,L=24*P;var F,x,b,k,B,W,K,H,z,Q,q,$,le,te,ce,me,_e,Ae,ye,oe,ee,V,w,Y,G,Z,se,ae,re,pe,de,ie,he,ve,ge,ke,Ne,We,Oe,be,Ke,Fe,J,ne;const je={FRECENCY:j=>Me({id:a.Q.FRECENCY,value:Qe(j)}),TYPE_NAVIGATION_CHANNEL:(j,Ie)=>{let{itemIsChannel:Ue}=Ie;return Me({id:a.Q.TYPE_NAVIGATION_CHANNEL,value:Ue})},TYPE_NAVIGATION_FILE:j=>Me({id:a.Q.TYPE_NAVIGATION_FILE,value:j.suggestionType===M.fd.FILE_NAVIGATION}),TYPE_NAVIGATION_LINK:j=>Me({id:a.Q.TYPE_NAVIGATION_LINK,value:j.suggestionType===M.fd.LINK_NAVIGATION}),TYPE_NAVIGATION_MODAL:j=>Me({id:a.Q.TYPE_NAVIGATION_MODAL,value:j.suggestionType===M.fd.MODAL_NAVIGATION}),TYPE_NAVIGATION_MPIM:j=>Me({id:a.Q.TYPE_NAVIGATION_MPIM,value:!!(0,l.yz)(j.item)}),TYPE_NAVIGATION_USER:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.TYPE_NAVIGATION_USER,value:Ue})},TYPE_QUERY:j=>Me({id:a.Q.TYPE_QUERY,value:j.suggestionType===M.fd.QUERY}),TYPE_QUERY_HISTORY:j=>Me({id:a.Q.TYPE_QUERY_HISTORY,value:j.suggestionType===M.fd.QUERY_HISTORY}),ACTIVE_TOKEN_FILTER_IN:j=>Me({id:a.Q.ACTIVE_TOKEN_FILTER_IN,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.FILTER_IN}),ACTIVE_TOKEN_FILTER_FROM:j=>Me({id:a.Q.ACTIVE_TOKEN_FILTER_FROM,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.FILTER_FROM}),ACTIVE_TOKEN_FILTER_TO:j=>Me({id:a.Q.ACTIVE_TOKEN_FILTER_TO,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.FILTER_TO}),ACTIVE_TOKEN_FILTER_BEFORE:j=>Me({id:a.Q.ACTIVE_TOKEN_FILTER_BEFORE,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.FILTER_BEFORE}),ACTIVE_TOKEN_FILTER_DURING:j=>Me({id:a.Q.ACTIVE_TOKEN_FILTER_DURING,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.FILTER_DURING}),ACTIVE_TOKEN_FILTER_ON:j=>Me({id:a.Q.ACTIVE_TOKEN_FILTER_ON,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.FILTER_ON}),ACTIVE_TOKEN_FILTER_AFTER:j=>Me({id:a.Q.ACTIVE_TOKEN_FILTER_AFTER,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.FILTER_AFTER}),ACTIVE_TOKEN_FILTER_HAS:j=>Me({id:a.Q.ACTIVE_TOKEN_FILTER_HAS,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.FILTER_HAS}),ACTIVE_TOKEN_FILTER_IS:j=>Me({id:a.Q.ACTIVE_TOKEN_FILTER_IS,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.FILTER_IS}),ACTIVE_TOKEN_FILTER_WITH:j=>Me({id:a.Q.ACTIVE_TOKEN_FILTER_WITH,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.FILTER_WITH}),ACTIVE_TOKEN_MEMBER:j=>Me({id:a.Q.ACTIVE_TOKEN_MEMBER,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.MEMBER}),ACTIVE_TOKEN_STRING:j=>Me({id:a.Q.ACTIVE_TOKEN_STRING,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.STRING}),ACTIVE_TOKEN_PHRASE:j=>Me({id:a.Q.ACTIVE_TOKEN_PHRASE,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.PHRASE}),STRING_EXACT_MATCH:j=>Ce({id:a.Q.STRING_EXACT_MATCH,suggestion:j,extractionFunction:Bt}),STRING_EXACT_PREFIX_MATCH:j=>Ce({id:a.Q.STRING_EXACT_PREFIX_MATCH,suggestion:j,extractionFunction:St}),STRING_NORMAL_MATCH:j=>Ce({id:a.Q.STRING_NORMAL_MATCH,suggestion:j,extractionFunction:Gt}),STRING_NORMAL_PREFIX_MATCH:j=>Ce({id:a.Q.STRING_NORMAL_PREFIX_MATCH,suggestion:j,extractionFunction:Et}),STRING_SAME_NUMBER_WORDS:j=>Ce({id:a.Q.STRING_SAME_NUMBER_WORDS,suggestion:j,extractionFunction:wt}),EXCESS_STRING_LENGTH:j=>Ce({id:a.Q.EXCESS_STRING_LENGTH,suggestion:j,extractionFunction:Jt}),ID:j=>Me({id:a.Q.ID,value:j.logId||j.id}),FILE_SUGGESTION_SCORE:j=>Me({id:a.Q.FILE_SUGGESTION_SCORE,value:we(j)}),ACTIVE_TOKEN_QUERY_SUGGESTION:j=>Me({id:a.Q.ACTIVE_TOKEN_QUERY_SUGGESTION,value:j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.API}),QUERY_SUGGESTION_SCORE_V2:j=>Me({id:a.Q.QUERY_SUGGESTION_SCORE_V2,value:Be(j)}),TYPE_NAVIGATION_TEAM:j=>Me({id:a.Q.TYPE_NAVIGATION_TEAM,value:j&&j.suggestionType===M.fd.TEAM_NAVIGATION}),TYPE_NAVIGATION_VIEW:j=>Me({id:a.Q.TYPE_NAVIGATION_VIEW,value:j&&j.suggestionType===M.fd.VIEW_NAVIGATION}),TYPE_USER_QUERY:j=>Me({id:a.Q.TYPE_USER_QUERY,value:j&&j.suggestionType===M.fd.QUERY_USER}),NAV_EXACT_MATCH:j=>Ce({id:a.Q.NAV_EXACT_MATCH,suggestion:j,extractionFunction:Bt,text:Ye(j)}),NAV_EXACT_PREFIX_MATCH:j=>Ce({id:a.Q.NAV_EXACT_PREFIX_MATCH,suggestion:j,extractionFunction:St,text:Ye(j)}),NAV_NORMAL_MATCH:j=>Ce({id:a.Q.NAV_NORMAL_MATCH,suggestion:j,extractionFunction:Gt,text:Ye(j)}),CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH:(j,Ie)=>{let{itemIsChannel:Ue}=Ie;var rt,zt;return Ce({id:a.Q.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH,suggestion:j,extractionFunction:Wt=>{let{text:Ft,query:rn}=Wt;return Ft?(0,t.A)(Ft.split(",").map(_n=>Bt({text:_n,query:rn}))):!1},text:Ue?(rt=j.item)===null||rt===void 0||(zt=rt.previous_names)===null||zt===void 0?void 0:zt.join(","):null})},CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH:(j,Ie)=>{let{itemIsChannel:Ue}=Ie;var rt,zt;return Ce({id:a.Q.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH,suggestion:j,extractionFunction:Wt=>{let{text:Ft,query:rn}=Wt;return Ft?(0,t.A)(Ft.split(",").map(_n=>St({text:_n,query:rn}))):!1},text:Ue?j==null||(rt=j.item)===null||rt===void 0||(zt=rt.previous_names)===null||zt===void 0?void 0:zt.join(","):null})},CHANNEL_IS_ARCHIVED:(j,Ie)=>{let{itemIsChannel:Ue}=Ie;return Me({id:a.Q.CHANNEL_IS_ARCHIVED,value:Ue&&(0,m.F)(j.item)})},CHANNEL_IS_MEMBER:(j,Ie)=>{let{itemIsChannel:Ue}=Ie;return Me({id:a.Q.CHANNEL_IS_MEMBER,value:Ue&&(0,h.bl)(j.item)})},CHANNEL_IS_STARRED:(j,Ie)=>{let{itemIsChannel:Ue}=Ie;return Me({id:a.Q.CHANNEL_IS_STARRED,value:Ue&&j.isStarred})},MPIM_IS_STARRED:j=>Me({id:a.Q.MPIM_IS_STARRED,value:(0,l.yz)(j.item)&&j.isStarred}),CHANNEL_IS_UNREAD:(j,Ie)=>{let{itemIsChannel:Ue}=Ie;return Me({id:a.Q.CHANNEL_IS_UNREAD,value:Ue&&(0,i.KJ)(j.item)})},MPIM_IS_UNREAD:j=>Me({id:a.Q.MPIM_IS_UNREAD,value:(0,l.yz)(j.item)&&(0,i.KJ)(j.item)}),MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS:j=>Me({id:a.Q.MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS,value:(0,l.yz)(j.item)&&j.mpimNumOtherMembersEqualsNumQueryWords}),MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH:j=>Me({id:a.Q.MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH,value:(0,l.yz)(j.item)&&j.allOtherMemberNamesHavePrefixMatch}),CHANNEL_IS_OTHER_TEAM:(j,Ie)=>{let{itemIsChannel:Ue}=Ie;return Me({id:a.Q.CHANNEL_IS_OTHER_TEAM,value:Ue&&(0,i.lo)(j.item)})},USER_IS_ACTIVE:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_IS_ACTIVE,value:Ue&&(0,d.ls)(j.item)})},USER_IS_DEACTIVATED:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_IS_DEACTIVATED,value:Ue&&!(0,d.ls)(j.item)})},USER_IS_IN_CURRENT_THREAD:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_IS_IN_CURRENT_THREAD,value:Ue&&j.isMemberOfCurrentThread})},MEMBER_FILTER_USER_IN_CHANNEL:j=>Me({id:a.Q.MEMBER_FILTER_USER_IN_CHANNEL,value:j.lastSuggestionToken&&(j.lastSuggestionToken.type===M.S6.FILTER_FROM||j.lastSuggestionToken.type===M.S6.FILTER_WITH)&&j.isMemberOfCurrentChannel}),FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL:j=>Me({id:a.Q.FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL,value:j.isMemberFilterAndHasPreviousChannelFilter&&j.isMemberOfCurrentChannel}),USER_IS_EXTERNAL:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_IS_EXTERNAL,value:Ue&&(0,v.g)(j.item)})},USER_IS_BOT:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_IS_BOT,value:Ue&&(0,f.A)(j.item)})},USER_SAME_TEAM:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_SAME_TEAM,value:Ue&&!!j.sameTeam})},USER_IS_CURRENT_USER:(j,Ie)=>{let{isCurrentUser:Ue}=Ie;return Me({id:a.Q.USER_IS_CURRENT_USER,value:Ue})},USER_DM_IS_STARRED:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_DM_IS_STARRED,value:Ue&&j.im&&j.imIsStarred})},USER_DM_IS_UNREAD:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_DM_IS_UNREAD,value:Ue&&j.im&&(0,i.KJ)(j.im)})},CHANNEL_PRIORITY:(j,Ie)=>{let{itemIsChannel:Ue}=Ie;return Me({id:a.Q.CHANNEL_PRIORITY,value:Ue&&(j==null?void 0:j.priority)})},CHANNEL_READ_AGE_DECAY_7D:(j,Ie)=>{let{itemIsChannel:Ue,now:rt}=Ie;return Me({id:a.Q.CHANNEL_READ_AGE_DECAY_7D,value:Ue&&st(rt,parseFloat((F=j.lastReadTs)!==null&&F!==void 0?F:""),7*L)||0})},CHANNEL_READ_AGE_DECAY_2H:(j,Ie)=>{let{itemIsChannel:Ue,now:rt}=Ie;return Me({id:a.Q.CHANNEL_READ_AGE_DECAY_2H,value:Ue&&st(rt,parseFloat((x=j.lastReadTs)!==null&&x!==void 0?x:""),2*P)||0})},MPIM_READ_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_READ_AGE_DECAY_2H,value:(0,l.yz)(j.item)&&st(Ue,parseFloat((b=j.lastReadTs)!==null&&b!==void 0?b:""),2*P)||0})},MPIM_READ_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_READ_AGE_DECAY_7D,value:(0,l.yz)(j.item)&&st(Ue,parseFloat((k=j.lastReadTs)!==null&&k!==void 0?k:""),7*L)||0})},USER_DM_READ_AGE_DECAY_7D:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_READ_AGE_DECAY_7D,value:Ue&&j.im&&st(rt,parseFloat((B=j.lastReadTs)!==null&&B!==void 0?B:""),7*L)||0})},USER_DM_READ_AGE_DECAY_7D_V2:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_READ_AGE_DECAY_7D_V2,value:Ue&&j.im&&st(rt,parseFloat((W=j.lastReadImTs)!==null&&W!==void 0?W:""),7*L)||0})},USER_DM_READ_AGE_DECAY_7D_V3:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_READ_AGE_DECAY_7D_V3,value:Ue&&st(rt,parseFloat((K=Ct(j))!==null&&K!==void 0?K:""),7*L)||0})},USER_DM_READ_AGE_DECAY_2H:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_READ_AGE_DECAY_2H,value:Ue&&j.im&&st(rt,parseFloat((H=j.lastReadTs)!==null&&H!==void 0?H:""),2*P)||0})},USER_DM_READ_AGE_DECAY_2H_V2:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_READ_AGE_DECAY_2H_V2,value:Ue&&j.im&&st(rt,parseFloat((z=j.lastReadImTs)!==null&&z!==void 0?z:""),2*P)||0})},USER_DM_READ_AGE_DECAY_2H_V3:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_READ_AGE_DECAY_2H_V3,value:Ue&&st(rt,parseFloat((Q=Ct(j))!==null&&Q!==void 0?Q:""),2*P)||0})},USER_DM_NULL:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_DM_NULL,value:Ue&&!j.im})},USER_DM_EMPTY:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_DM_EMPTY,value:Ue&&j.im&&!parseFloat((q=j.latestTs)!==null&&q!==void 0?q:"")})},USER_DM_EMPTY_V2:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_DM_EMPTY_V2,value:Ue&&j.im&&!parseFloat(($=j.latestImTs)!==null&&$!==void 0?$:"")})},USER_HAS_DMED:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_HAS_DMED,value:Ue&&!!parseFloat((le=Ct(j))!==null&&le!==void 0?le:"")})},USER_HAS_MPDMED:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_HAS_MPDMED,value:Ue&&!!parseFloat((te=At(j))!==null&&te!==void 0?te:"")})},USER_DM_NOT_OPEN:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_DM_NOT_OPEN,value:Ue&&j.im&&!(0,i.nT)(j.im)})},USER_DM_OPEN:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_DM_OPEN,value:Ue&&j.im&&(0,i.nT)(j.im)})},USER_DM_LATEST_OLDER_30D:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_LATEST_OLDER_30D,value:Ue&&Nt(rt,parseFloat((ce=j.latestTs)!==null&&ce!==void 0?ce:""),30*L)})},USER_DM_LATEST_OLDER_30D_V2:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_LATEST_OLDER_30D_V2,value:Ue&&Nt(rt,parseFloat((me=j.latestImTs)!==null&&me!==void 0?me:""),30*L)})},USER_DM_LATEST_OLDER_90D:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_LATEST_OLDER_90D,value:Ue&&Nt(rt,parseFloat((_e=j.latestTs)!==null&&_e!==void 0?_e:""),90*L)})},USER_DM_LATEST_OLDER_90D_V2:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_LATEST_OLDER_90D_V2,value:Ue&&Nt(rt,parseFloat((Ae=j.latestImTs)!==null&&Ae!==void 0?Ae:""),90*L)})},USER_DM_READ_OLDER_7D:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_READ_OLDER_7D,value:Ue&&Nt(rt,parseFloat((ye=Ct(j))!==null&&ye!==void 0?ye:""),7*L)})},USER_DM_READ_OLDER_30D:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_READ_OLDER_30D,value:Ue&&Nt(rt,parseFloat((oe=Ct(j))!==null&&oe!==void 0?oe:""),30*L)})},USER_DM_READ_OLDER_90D:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_READ_OLDER_90D,value:Ue&&Nt(rt,parseFloat((ee=Ct(j))!==null&&ee!==void 0?ee:""),90*L)})},USER_MPIM_LOG1P_MEMBERSHIP_COUNT:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_MPIM_LOG1P_MEMBERSHIP_COUNT,value:Ue&&Ht((V=kt(j))!==null&&V!==void 0?V:0)||0})},USER_MPIM_GTE5_MEMBERSHIP_COUNT:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_MPIM_GTE5_MEMBERSHIP_COUNT,value:Ue&&((w=kt(j))!==null&&w!==void 0?w:0)>=5})},USER_MPIM_GTE25_MEMBERSHIP_COUNT:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_MPIM_GTE25_MEMBERSHIP_COUNT,value:Ue&&((Y=kt(j))!==null&&Y!==void 0?Y:0)>=25})},USER_MPIM_READ_AGE_DECAY_7D:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_MPIM_READ_AGE_DECAY_7D,value:Ue&&j.mpimFeatures&&st(rt,j.mpimFeatures.lastReadTs,7*L)||0})},USER_MPIM_READ_AGE_DECAY_2H:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_MPIM_READ_AGE_DECAY_2H,value:Ue&&j.mpimFeatures&&st(rt,j.mpimFeatures.lastReadTs,2*P)||0})},USER_MPIM_READ_AGE_DECAY_7D_V2:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_MPIM_READ_AGE_DECAY_7D_V2,value:Ue&&j.mpimFeatures&&st(rt,parseFloat((G=At(j))!==null&&G!==void 0?G:""),7*L)||0})},USER_MPIM_READ_AGE_DECAY_2H_V2:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_MPIM_READ_AGE_DECAY_2H_V2,value:Ue&&j.mpimFeatures&&st(rt,parseFloat((Z=At(j))!==null&&Z!==void 0?Z:""),2*P)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_7D:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_7D,value:Ue&&j.mpimFeatures&&st(rt,j.mpimFeatures.latestMsgTs,7*L)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_2H:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_2H,value:Ue&&j.mpimFeatures&&st(rt,j.mpimFeatures.latestMsgTs,2*P)||0})},USER_MPIM_FRECENCY_LOG_ITEM_COUNT:(j,Ie)=>{let{itemIsMember:Ue}=Ie;var rt;return Me({id:a.Q.USER_MPIM_FRECENCY_LOG_ITEM_COUNT,value:Ue&&((rt=j.mpimFeatures)===null||rt===void 0?void 0:rt.itemCount)&&Math.log1p(j.mpimFeatures.itemCount)||0})},USER_MPIM_FRECENCY_LOG_HIT_COUNT:(j,Ie)=>{let{itemIsMember:Ue}=Ie;var rt;return Me({id:a.Q.USER_MPIM_FRECENCY_LOG_HIT_COUNT,value:Ue&&((rt=j.mpimFeatures)===null||rt===void 0?void 0:rt.hitCount)&&Math.log1p(j.mpimFeatures.hitCount)||0})},QUERY_LENGTH:j=>Ce({id:a.Q.QUERY_LENGTH,suggestion:j,extractionFunction:qt}),NAV_QUERY_LENGTH:j=>Ce({id:a.Q.NAV_QUERY_LENGTH,suggestion:j,extractionFunction:qt,text:Ye(j)}),SUGGESTION_TEXT_LENGTH:j=>Ce({id:a.Q.SUGGESTION_TEXT_LENGTH,suggestion:j,extractionFunction:tt}),NAV_TEXT_LENGTH:j=>Ce({id:a.Q.NAV_TEXT_LENGTH,suggestion:j,extractionFunction:tt,text:Ye(j)}),RAW_FRECENCY:j=>Me({id:a.Q.RAW_FRECENCY,value:j.rawFrecencyScore}),MPIM_PRIORITY:j=>Me({id:a.Q.MPIM_PRIORITY,value:(0,l.yz)(j.item)&&(j==null?void 0:j.priority)}),QUERY_RATIO_LENGTH_STRING:j=>Ce({id:a.Q.QUERY_RATIO_LENGTH_STRING,suggestion:j,extractionFunction:Lt}),NAV_QUERY_RATIO_LENGTH_STRING:j=>Ce({id:a.Q.NAV_QUERY_RATIO_LENGTH_STRING,suggestion:j,extractionFunction:Lt,text:Ye(j)}),USER_QUERY_RATIO_LENGTH_STRING:j=>Ce({id:a.Q.USER_QUERY_RATIO_LENGTH_STRING,suggestion:j,extractionFunction:Lt,text:ot(j,M.fd.USER_NAVIGATION)}),CHANNEL_QUERY_RATIO_LENGTH_STRING:j=>Ce({id:a.Q.CHANNEL_QUERY_RATIO_LENGTH_STRING,suggestion:j,extractionFunction:Lt,text:ot(j,M.fd.CHANNEL_NAVIGATION)}),MPIM_QUERY_RATIO_LENGTH_STRING:j=>Ce({id:a.Q.MPIM_QUERY_RATIO_LENGTH_STRING,suggestion:j,extractionFunction:Lt,text:ot(j,M.fd.MPIM_NAVIGATION)}),MPIM_WITH_DEACTIVATED_USER:j=>Me({id:a.Q.MPIM_WITH_DEACTIVATED_USER,value:(0,l.yz)(j.item)&&j.isMpimWithDeactivatedMember}),NAV_NORMAL_PREFIX_MATCH:j=>Ce({id:a.Q.NAV_NORMAL_PREFIX_MATCH,suggestion:j,extractionFunction:Et,text:Ye(j)}),FRECENCY_BONUS:j=>Me({id:a.Q.FRECENCY_BONUS,value:(0,n.A)(Object.values(j.bonusPointMap||{}))||0}),USER_FIRST_NAME_EXACT_MATCH:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Ce({id:a.Q.USER_FIRST_NAME_EXACT_MATCH,suggestion:j,extractionFunction:Bt,text:Ue&&(0,d.XS)(j.item)})},USER_FIRST_NAME_EXACT_PREFIX_MATCH:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Ce({id:a.Q.USER_FIRST_NAME_EXACT_PREFIX_MATCH,suggestion:j,extractionFunction:St,text:Ue&&(0,d.XS)(j.item)})},USER_FIRST_NAME_NORMAL_MATCH:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Ce({id:a.Q.USER_FIRST_NAME_NORMAL_MATCH,suggestion:j,extractionFunction:Gt,text:Ue&&(0,d.XS)(j.item)})},USER_FIRST_NAME_NORMAL_PREFIX_MATCH:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Ce({id:a.Q.USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:j,extractionFunction:Et,text:Ue&&(0,d.XS)(j.item)})},USER_LAST_NAME_EXACT_MATCH:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Ce({id:a.Q.USER_LAST_NAME_EXACT_MATCH,suggestion:j,extractionFunction:Bt,text:Ue&&(0,d.lQ)(j.item)})},USER_LAST_NAME_EXACT_PREFIX_MATCH:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Ce({id:a.Q.USER_LAST_NAME_EXACT_PREFIX_MATCH,suggestion:j,extractionFunction:St,text:Ue&&(0,d.lQ)(j.item)})},USER_LAST_NAME_NORMAL_MATCH:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Ce({id:a.Q.USER_LAST_NAME_NORMAL_MATCH,suggestion:j,extractionFunction:Gt,text:Ue&&(0,d.lQ)(j.item)})},USER_LAST_NAME_NORMAL_PREFIX_MATCH:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Ce({id:a.Q.USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:j,extractionFunction:Et,text:Ue&&(0,d.lQ)(j.item)})},USER_EMAIL_MATCH:j=>{var Ie,Ue;return Me({id:a.Q.USER_EMAIL_MATCH,value:((Ie=j.scoreDetails)===null||Ie===void 0?void 0:Ie.email)!==void 0?((Ue=j.scoreDetails)===null||Ue===void 0?void 0:Ue.email)>=0:!1})},USER_EMAIL_ONLY_MATCH:j=>{var Ie,Ue;return Me({id:a.Q.USER_EMAIL_ONLY_MATCH,value:((Ie=j.scoreDetails)===null||Ie===void 0?void 0:Ie.email)!==void 0&&((Ue=j.scoreDetails)===null||Ue===void 0?void 0:Ue.email)>=0&&Object.keys((se=j.scoreDetails)!==null&&se!==void 0?se:{}).length===1})},USER_PRIORITY:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_PRIORITY,value:Ue&&j.im&&(j==null?void 0:j.priority)||0})},ONLY_MATCHES_PREVIOUS_NAME:j=>Me({id:a.Q.ONLY_MATCHES_PREVIOUS_NAME,value:j.bestPreviousNameMatch?1:null}),FRECENCY_WEIGHT_HIT_VISITS:j=>Me({id:a.Q.FRECENCY_WEIGHT_HIT_VISITS,value:j.weightHitVisits}),FRECENCY_HIT_VISITS_4H:j=>Me({id:a.Q.FRECENCY_HIT_VISITS_4H,value:j.hitVisits4h}),FRECENCY_HIT_VISITS_1D:j=>Me({id:a.Q.FRECENCY_HIT_VISITS_1D,value:j.hitVisits1d}),FRECENCY_HIT_VISITS_3D:j=>Me({id:a.Q.FRECENCY_HIT_VISITS_3D,value:j.hitVisits3d}),FRECENCY_HIT_VISITS_1W:j=>Me({id:a.Q.FRECENCY_HIT_VISITS_1W,value:j.hitVisits1w}),FRECENCY_HIT_VISITS_1M:j=>Me({id:a.Q.FRECENCY_HIT_VISITS_1M,value:j.hitVisits1m}),FRECENCY_HIT_VISITS_90D:j=>Me({id:a.Q.FRECENCY_HIT_VISITS_90D,value:j.hitVisits90d}),FRECENCY_ITEM_VISITS_4H:j=>Me({id:a.Q.FRECENCY_ITEM_VISITS_4H,value:j.itemVisits4h}),FRECENCY_ITEM_VISITS_1D:j=>Me({id:a.Q.FRECENCY_ITEM_VISITS_1D,value:j.itemVisits1d}),FRECENCY_ITEM_VISITS_3D:j=>Me({id:a.Q.FRECENCY_ITEM_VISITS_3D,value:j.itemVisits3d}),FRECENCY_ITEM_VISITS_1W:j=>Me({id:a.Q.FRECENCY_ITEM_VISITS_1W,value:j.itemVisits1w}),FRECENCY_ITEM_VISITS_1M:j=>Me({id:a.Q.FRECENCY_ITEM_VISITS_1M,value:j.itemVisits1m}),FRECENCY_ITEM_VISITS_90D:j=>Me({id:a.Q.FRECENCY_ITEM_VISITS_90D,value:j.itemVisits90d}),FRECENCY_HIT_COUNT:j=>Me({id:a.Q.FRECENCY_HIT_COUNT,value:j.hitCount}),FRECENCY_WEIGHT_ITEM_VISITS:j=>Me({id:a.Q.FRECENCY_WEIGHT_ITEM_VISITS,value:j.weightItemVisits}),FRECENCY_ITEM_COUNT:j=>Me({id:a.Q.FRECENCY_ITEM_COUNT,value:j.itemCount}),NAV_NORMAL_MATCH_USER:j=>Ce({id:a.Q.NAV_NORMAL_MATCH_USER,suggestion:j,extractionFunction:Ie=>{let{text:Ue,normalizedQuery:rt}=Ie;return Gt({text:Ue,normalizedQuery:rt})&&!Et({text:(0,d.XS)(j.item),normalizedQuery:rt})},text:ot(j,M.fd.USER_NAVIGATION)}),NAV_NORMAL_PREFIX_MATCH_USER:j=>Ce({id:a.Q.NAV_NORMAL_PREFIX_MATCH_USER,suggestion:j,extractionFunction:Ie=>{let{text:Ue,normalizedQuery:rt}=Ie;return Et({text:Ue,normalizedQuery:rt})&&!Et({text:(0,d.XS)(j.item),normalizedQuery:rt})},text:ot(j,M.fd.USER_NAVIGATION)}),NAV_NORMAL_MATCH_NO_USER:j=>Ce({id:a.Q.NAV_NORMAL_MATCH_NO_USER,suggestion:j,extractionFunction:Gt,text:_t(j)}),NAV_NORMAL_PREFIX_MATCH_NO_USER:j=>Ce({id:a.Q.NAV_NORMAL_PREFIX_MATCH_NO_USER,suggestion:j,extractionFunction:Et,text:_t(j)}),CHANNEL_LATEST_MSG_AGE_DECAY_7D:(j,Ie)=>{let{itemIsChannel:Ue,now:rt}=Ie;return Me({id:a.Q.CHANNEL_LATEST_MSG_AGE_DECAY_7D,value:Ue&&st(rt,parseFloat((ae=j.latestTs)!==null&&ae!==void 0?ae:""),7*L)||0})},CHANNEL_LATEST_MSG_AGE_DECAY_2H:(j,Ie)=>{let{itemIsChannel:Ue,now:rt}=Ie;return Me({id:a.Q.CHANNEL_LATEST_MSG_AGE_DECAY_2H,value:Ue&&st(rt,parseFloat((re=j.latestTs)!==null&&re!==void 0?re:""),2*P)||0})},MPIM_LATEST_MSG_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_LATEST_MSG_AGE_DECAY_2H,value:(0,l.yz)(j.item)&&st(Ue,parseFloat((pe=j.latestTs)!==null&&pe!==void 0?pe:""),2*P)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H,value:(0,l.yz)(j.item)&&st(Ue,j.maxLatestMsgTsOfAllMembers,2*P)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D,value:(0,l.yz)(j.item)&&st(Ue,j.maxLatestMsgTsOfAllMembers,7*L)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H,value:(0,l.yz)(j.item)&&st(Ue,j.avgLatestMsgTsOfAllMembers,2*P)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D,value:(0,l.yz)(j.item)&&st(Ue,j.avgLatestMsgTsOfAllMembers,7*L)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H,value:(0,l.yz)(j.item)&&st(Ue,j.maxLastReadTsOfAllMembers,2*P)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D,value:(0,l.yz)(j.item)&&st(Ue,j.maxLastReadTsOfAllMembers,7*L)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H,value:(0,l.yz)(j.item)&&st(Ue,j.avgLastReadTsOfAllMembers,2*P)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D,value:(0,l.yz)(j.item)&&st(Ue,j.avgLastReadTsOfAllMembers,7*L)||0})},MPIM_USERS_PCT_NON_EMPTY_DMS:j=>Me({id:a.Q.MPIM_USERS_PCT_NON_EMPTY_DMS,value:(0,l.yz)(j.item)&&j.pctNonEmptyDmsForAllMembers||0}),MPIM_USERS_PCT_NON_NULL_DMS:j=>Me({id:a.Q.MPIM_USERS_PCT_NON_NULL_DMS,value:(0,l.yz)(j.item)&&j.pctNonNullDmsForAllMembers||0}),MPIM_USERS_ALL_INTERNAL:j=>Me({id:a.Q.MPIM_USERS_ALL_INTERNAL,value:(0,l.yz)(j.item)&&j.isMpimWithOnlyInternalMembers}),MPIM_LATEST_MSG_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.MPIM_LATEST_MSG_AGE_DECAY_7D,value:(0,l.yz)(j.item)&&st(Ue,parseFloat((de=j.latestTs)!==null&&de!==void 0?de:""),7*L)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D,value:Ue&&j.im&&st(rt,parseFloat((ie=j.latestTs)!==null&&ie!==void 0?ie:""),7*L)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2,value:Ue&&j.im&&st(rt,parseFloat((he=j.latestImTs)!==null&&he!==void 0?he:""),7*L)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H,value:Ue&&j.im&&st(rt,parseFloat((ve=j.latestTs)!==null&&ve!==void 0?ve:""),2*P)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H_V2:(j,Ie)=>{let{itemIsMember:Ue,now:rt}=Ie;return Me({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2,value:Ue&&j.im&&st(rt,parseFloat((ge=j.latestImTs)!==null&&ge!==void 0?ge:""),2*P)||0})},FRECENCY_LOG_HIT_COUNT:j=>Me({id:a.Q.FRECENCY_LOG_HIT_COUNT,value:Math.log1p((ke=j.hitCount)!==null&&ke!==void 0?ke:0)||0}),FRECENCY_LOG_HIT_COUNT_SCALED:j=>Me({id:a.Q.FRECENCY_LOG_HIT_COUNT_SCALED,value:j.logHitCountScaled}),FRECENCY_LOG_ITEM_COUNT:j=>Me({id:a.Q.FRECENCY_LOG_ITEM_COUNT,value:Math.log1p((Ne=j.itemCount)!==null&&Ne!==void 0?Ne:0)||0}),FRECENCY_LOG_ITEM_COUNT_SCALED:j=>Me({id:a.Q.FRECENCY_LOG_ITEM_COUNT_SCALED,value:j.logItemCountScaled}),QUERY_FRECENCY_RAW:j=>Me({id:a.Q.QUERY_FRECENCY_RAW,value:(j.suggestionType===M.fd.QUERY||j.suggestionType===M.fd.QUERY_USER)&&j.scoringContext.frecencyScoreRaw}),QUERY_FRECENCY_WEIGHT_HIT_VISITS:j=>Me({id:a.Q.QUERY_FRECENCY_WEIGHT_HIT_VISITS,value:(j.suggestionType===M.fd.QUERY||j.suggestionType===M.fd.QUERY_USER)&&j.scoringContext.frecencyWeightHitVisits}),QUERY_FRECENCY_HIT_COUNT:j=>Me({id:a.Q.QUERY_FRECENCY_HIT_COUNT,value:(j.suggestionType===M.fd.QUERY||j.suggestionType===M.fd.QUERY_USER)&&j.scoringContext.frecencyHitCount}),QUERY_LOG_HIT_COUNT:j=>Me({id:a.Q.QUERY_LOG_HIT_COUNT,value:(j.suggestionType===M.fd.QUERY||j.suggestionType===M.fd.QUERY_USER)&&Ht(j.scoringContext.frecencyHitCount)||j.suggestionType===M.fd.QUERY_HISTORY&&Ht((We=j.count)!==null&&We!==void 0?We:0)||0}),QUERY_FRECENCY_WEIGHT_ITEM_VISITS:j=>Me({id:a.Q.QUERY_FRECENCY_WEIGHT_ITEM_VISITS,value:(j.suggestionType===M.fd.QUERY||j.suggestionType===M.fd.QUERY_USER)&&j.scoringContext.frecencyWeightItemVisits}),QUERY_FRECENCY_ITEM_COUNT:j=>Me({id:a.Q.QUERY_FRECENCY_ITEM_COUNT,value:(j.suggestionType===M.fd.QUERY||j.suggestionType===M.fd.QUERY_USER)&&j.scoringContext.frecencyItemCount}),QUERY_FUZZY_SCORE:j=>Me({id:a.Q.QUERY_FUZZY_SCORE,value:(j.suggestionType===M.fd.QUERY||j.suggestionType===M.fd.QUERY_USER)&&j.scoringContext.fuzzyScore}),QUERY_FRECENCY_BONUS:j=>{var Ie;return Me({id:a.Q.QUERY_FRECENCY_BONUS,value:(j.suggestionType===M.fd.QUERY||j.suggestionType===M.fd.QUERY_USER)&&(0,n.A)(Object.values(((Ie=j.scoringContext)===null||Ie===void 0?void 0:Ie.frecencyScoreBonus)||{}))||0})},QUERY_HISTORY_LOG_INDEX:j=>Me({id:a.Q.QUERY_HISTORY_LOG_INDEX,value:j.suggestionType===M.fd.QUERY_HISTORY&&Ht(j.index)||0}),QUERY_HISTORY_AGE_DECAY_30D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.QUERY_HISTORY_AGE_DECAY_30D,value:j.suggestionType===M.fd.QUERY_HISTORY&&st(Ue,j.lastUpdateTs,30*L)||0})},FUZZY_SCORE:j=>Me({id:a.Q.FUZZY_SCORE,value:j.score}),FUZZY_SCORE_SCALED_EXP:j=>Me({id:a.Q.FUZZY_SCORE_SCALED_EXP,value:U(j.score)&&.5**Math.min(j.score,10)}),FUZZY_SCORE_SCALED_FLIPPED:j=>Me({id:a.Q.FUZZY_SCORE_SCALED_FLIPPED,value:U(j.score)&&10-Math.min(j.score,10)}),FUZZY_SCORE_SCALED_SUBTRACT:j=>Me({id:a.Q.FUZZY_SCORE_SCALED_SUBTRACT,value:U(j.score)&&Math.min(j.score,10)-1}),FUZZY_SCORE_50:j=>Me({id:a.Q.FUZZY_SCORE_50,value:j.bonusPointMap&&j.bonusPointMap.fuzzyScoreBonus===50}),FUZZY_SCORE_25:j=>Me({id:a.Q.FUZZY_SCORE_25,value:j.bonusPointMap&&j.bonusPointMap.fuzzyScoreBonus===25}),FUZZY_SCORE_ALL:j=>Me({id:a.Q.FUZZY_SCORE_ALL,value:j.bonusPointMap&&j.bonusPointMap.fuzzyScoreBonus&&j.bonusPointMap.fuzzyScoreBonus<25}),FILTER_USER_IS_ACTIVE:j=>Me({id:a.Q.FILTER_USER_IS_ACTIVE,value:j.lastSuggestionToken&&j.lastTokenMemberOrNull&&(0,d.ls)(j.lastTokenMemberOrNull)}),FILTER_USER_IS_CURRENT_USER:j=>Me({id:a.Q.FILTER_USER_IS_CURRENT_USER,value:j.lastSuggestionToken&&j.lastTokenMemberOrNull&&(0,d.fy)(j.lastTokenMemberOrNull)}),FILTER_USER_DM_IS_STARRED:j=>Me({id:a.Q.FILTER_USER_DM_IS_STARRED,value:j.lastTokenIm&&j.lastTokenImIsStarred}),FILTER_USER_DM_IS_UNREAD:j=>Me({id:a.Q.FILTER_USER_DM_IS_UNREAD,value:j.lastTokenIm&&(0,i.KJ)(j.lastTokenIm)}),FILTER_USER_DM_READ_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILTER_USER_DM_READ_AGE_DECAY_7D,value:j.lastTokenIm&&st(Ue,j.lastTokenImLastRead,7*L)||0})},FILTER_USER_DM_READ_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILTER_USER_DM_READ_AGE_DECAY_2H,value:j.lastTokenIm&&st(Ue,j.lastTokenImLastRead,2*P)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D,value:j.lastTokenIm&&st(Ue,parseFloat((Oe=j.lastTokenImLatest)!==null&&Oe!==void 0?Oe:""),7*L)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H,value:j.lastTokenIm&&st(Ue,parseFloat((be=j.lastTokenImLatest)!==null&&be!==void 0?be:""),2*P)||0})},FILTER_USER_FIRST_NAME_NORMAL_MATCH:j=>Ce({id:a.Q.FILTER_USER_FIRST_NAME_NORMAL_MATCH,suggestion:j,extractionFunction:Gt,text:yt(j)}),FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH:j=>Ce({id:a.Q.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:j,extractionFunction:Et,text:yt(j)}),FILTER_USER_LAST_NAME_NORMAL_MATCH:j=>Ce({id:a.Q.FILTER_USER_LAST_NAME_NORMAL_MATCH,suggestion:j,extractionFunction:Gt,text:Tt(j)}),FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH:j=>Ce({id:a.Q.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:j,extractionFunction:Et,text:Tt(j)}),FILTER_USER_PRIORITY:j=>Me({id:a.Q.FILTER_USER_PRIORITY,value:j.lastTokenIm&&(j==null?void 0:j.priority)}),HERE_KEYWORD:j=>Me({id:a.Q.HERE_KEYWORD,value:j.name==="here"}),HERE_KEYWORD_EXACT_MATCH:j=>Me({id:a.Q.HERE_KEYWORD_EXACT_MATCH,value:j.name==="here"&&j.query==="here"}),IS_BROADCAST_KEYWORD:j=>Me({id:a.Q.IS_BROADCAST_KEYWORD,value:!!(j.type&&j.type==="broadcastKeyword")}),BROADCAST_KEYWORD_NORMAL_MATCH:j=>Me({id:a.Q.BROADCAST_KEYWORD_NORMAL_MATCH,value:!!(j.type&&j.type==="broadcastKeyword"&&Gt({text:(Ke=j.name)!==null&&Ke!==void 0?Ke:"",normalizedQuery:j.normalizedQuery}))}),EMOJI_EXACT_MATCH:j=>Me({id:a.Q.EMOJI_EXACT_MATCH,value:j.bonusPointMap&&j.bonusPointMap.isEmojiExactMatch&&1}),QUERY_TOKEN_NORMAL_MATCH:j=>Ce({id:a.Q.QUERY_TOKEN_NORMAL_MATCH,suggestion:j,extractionFunction:Gt,text:ft(j)}),QUERY_TOKEN_NORMAL_PREFIX_MATCH:j=>Ce({id:a.Q.QUERY_TOKEN_NORMAL_PREFIX_MATCH,suggestion:j,extractionFunction:Et,text:ft(j)}),FILTER_CHANNEL_IS_ARCHIVED:j=>Me({id:a.Q.FILTER_CHANNEL_IS_ARCHIVED,value:(0,m.F)(j.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_MEMBER:j=>Me({id:a.Q.FILTER_CHANNEL_IS_MEMBER,value:(0,h.bl)(j.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_STARRED:j=>Me({id:a.Q.FILTER_CHANNEL_IS_STARRED,value:j.lastTokenChannelIsStarred}),FILTER_CHANNEL_IS_UNREAD:j=>Me({id:a.Q.FILTER_CHANNEL_IS_UNREAD,value:(0,i.KJ)(j.lastTokenChannelOrNull)}),FILTER_CHANNEL_READ_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILTER_CHANNEL_READ_AGE_DECAY_7D,value:st(Ue,j.lastTokenChannelLastRead,7*L)})},FILTER_CHANNEL_READ_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILTER_CHANNEL_READ_AGE_DECAY_2H,value:st(Ue,j.lastTokenChannelLastRead,2*P)})},FILTER_CHANNEL_PRIORITY:j=>Me({id:a.Q.FILTER_CHANNEL_PRIORITY,value:j==null?void 0:j.priority}),CHANNEL_IS_FROZEN:(j,Ie)=>{let{itemIsChannel:Ue}=Ie;return Me({id:a.Q.CHANNEL_IS_FROZEN,value:Ue&&(0,_.Zz)(j.item)})},USER_DM_IS_FROZEN:(j,Ie)=>{let{itemIsMember:Ue}=Ie;return Me({id:a.Q.USER_DM_IS_FROZEN,value:Ue&&j.im&&(0,_.Zz)(j.im)})},CHANNEL_HAS_DRAFT:j=>Me({id:a.Q.CHANNEL_HAS_DRAFT,value:j.hasDraft}),USER_DM_HAS_DRAFT:j=>Me({id:a.Q.USER_DM_HAS_DRAFT,value:j.imHasDraft}),EMOJI_QUERY_LENGTH_RATIO:j=>Me({id:a.Q.EMOJI_QUERY_LENGTH_RATIO,value:j.emojiQueryLengthRatio}),EMOJI_TOTAL_COMBO_BREAKS:j=>Me({id:a.Q.EMOJI_TOTAL_COMBO_BREAKS,value:j.emojiTotalComboBreaks}),EMOJI_COMBO_BREAK_0:j=>Me({id:a.Q.EMOJI_COMBO_BREAK_0,value:j.emojiTotalComboBreaks===0}),EMOJI_COMBO_BREAK_1:j=>Me({id:a.Q.EMOJI_COMBO_BREAK_1,value:j.emojiTotalComboBreaks===1}),EMOJI_COMBO_BREAK_2:j=>Me({id:a.Q.EMOJI_COMBO_BREAK_2,value:j.emojiTotalComboBreaks===2}),EMOJI_COMBO_BREAK_3:j=>Me({id:a.Q.EMOJI_COMBO_BREAK_3,value:j.emojiTotalComboBreaks===3}),TYPE_APP_ACTION:j=>Me({id:a.Q.TYPE_APP_ACTION,value:j.suggestionType===M.fd.APP_ACTION}),OS_APP_ACTION:(j,Ie)=>{let{source:Ue}=Ie;return Me({id:a.Q.OS_APP_ACTION,value:(Ue==null?void 0:Ue.startsWith("omniswitcher"))&&j.suggestionType===M.fd.APP_ACTION})},TYPE_APP:j=>Me({id:a.Q.TYPE_APP,value:j.suggestionType===M.fd.APP}),TYPE_SLASH_COMMAND:j=>Me({id:a.Q.TYPE_SLASH_COMMAND,value:j.suggestionType===M.fd.SLASH_COMMAND}),TYPE_GLOBAL_ACTION:j=>Me({id:a.Q.TYPE_GLOBAL_ACTION,value:j.suggestionType===M.fd.GLOBAL_ACTION}),IS_INVITE_WORKSPACE:j=>Me({id:a.Q.IS_INVITE_WORKSPACE,value:j.id==="slack-invite-to-workspace"}),TYPE_CHANNEL_ACTION:j=>Me({id:a.Q.TYPE_CHANNEL_ACTION,value:j.suggestionType===M.fd.CHANNEL_ACTION}),TYPE_WORKFLOW_TRIGGER:j=>Me({id:a.Q.TYPE_WORKFLOW_TRIGGER,value:j.suggestionType===M.fd.WORKFLOW_TRIGGER}),TYPE_NAVIGATION_MESSAGE:j=>Me({id:a.Q.TYPE_NAVIGATION_MESSAGE,value:j.suggestionType===M.fd.MESSAGE_NAVIGATION}),TYPE_EMOJI:j=>Me({id:a.Q.TYPE_EMOJI,value:j.suggestionType===M.fd.EMOJI}),HAS_CHANNEL_ASSOCIATION:j=>Me({id:a.Q.HAS_CHANNEL_ASSOCIATION,value:j.associatedWithCurrentChannel}),MEMBER_OF_CURRENT_CHANNEL:j=>Me({id:a.Q.MEMBER_OF_CURRENT_CHANNEL,value:j.isMemberOfCurrentChannel}),QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL:j=>Ce({id:a.Q.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL,suggestion:j,extractionFunction:Zt,text:ot(j,M.fd.CHANNEL_NAVIGATION)}),FRECENCY_HIT_VISIT_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FRECENCY_HIT_VISIT_DECAY_2H,value:st(Ue,j.latestHitVisit,2*P)||0})},FRECENCY_HIT_VISIT_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FRECENCY_HIT_VISIT_DECAY_7D,value:st(Ue,j.latestHitVisit,7*L)||0})},FRECENCY_ITEM_VISIT_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FRECENCY_ITEM_VISIT_DECAY_2H,value:st(Ue,j.latestItemVisit,2*P)||0})},FRECENCY_ITEM_VISIT_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FRECENCY_ITEM_VISIT_DECAY_7D,value:st(Ue,j.latestItemVisit,7*L)||0})},MPIM_MEMBERS:j=>Me({id:a.Q.MPIM_MEMBERS,value:j.item.members.length}),MPIM_MEMBER_NAME_MATCHES:j=>Me({id:a.Q.MPIM_MEMBER_NAME_MATCHES,value:j.scoreDetailsByMember&&Object.values(j.scoreDetailsByMember).filter(Ie=>((Fe=Ie.score_details.real_name)!==null&&Fe!==void 0?Fe:-1/0)>=0||((J=Ie.score_details.display_name)!==null&&J!==void 0?J:-1/0)>=0).length}),MPIM_MEMBER_ALL_MATCHES:j=>Me({id:a.Q.MPIM_MEMBER_ALL_MATCHES,value:j.scoreDetailsByMember&&Object.keys(j.scoreDetailsByMember).length}),MPIM_MATCHER_SCORE:j=>Me({id:a.Q.MPIM_MATCHER_SCORE,value:j.score}),MPIM_MATCHER_SCORE_0:j=>Me({id:a.Q.MPIM_MATCHER_SCORE_0,value:j.score===0}),MPIM_MATCHER_SCORE_1:j=>Me({id:a.Q.MPIM_MATCHER_SCORE_1,value:j.score===1}),MPIM_MATCHER_SCORE_2:j=>Me({id:a.Q.MPIM_MATCHER_SCORE_2,value:j.score===2}),MPIM_MATCHER_SCORE_3:j=>Me({id:a.Q.MPIM_MATCHER_SCORE_3,value:j.score===3}),EMOJI_TEAM_CTR_90DD:j=>{var Ie;return Me({id:a.Q.EMOJI_TEAM_CTR_90DD,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.team_ctr_90dd})},EMOJI_USER_CTR_30DD:j=>{var Ie;return Me({id:a.Q.EMOJI_USER_CTR_30DD,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.user_ctr_30dd})},MPIM_TEAM_CTR_90DD:j=>{var Ie;return Me({id:a.Q.MPIM_TEAM_CTR_90DD,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.team_ctr_90dd})},MPIM_USER_CTR_30DD:j=>{var Ie;return Me({id:a.Q.MPIM_USER_CTR_30DD,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.user_ctr_30dd})},CHANNEL_TEAM_CTR_90DD:j=>{var Ie;return Me({id:a.Q.CHANNEL_TEAM_CTR_90DD,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.team_ctr_90dd})},CHANNEL_USER_CTR_30DD:j=>{var Ie;return Me({id:a.Q.CHANNEL_USER_CTR_30DD,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.user_ctr_30dd})},USER_ENTITY_TYPE_CTR_30DD:j=>Me({id:a.Q.USER_ENTITY_TYPE_CTR_30DD,value:j.entityTypeCtr}),NUM_RESULTS:j=>Me({id:a.Q.NUM_RESULTS,value:j.numResults}),QUERY_IS_SELF:j=>{var Ie;return Me({id:a.Q.QUERY_IS_SELF,value:((Ie=j.scoreDetails)===null||Ie===void 0?void 0:Ie.self_score)===0})},CURRENT_USER_TEXTY:(j,Ie)=>{let{isCurrentUser:Ue,source:rt}=Ie;return Me({id:a.Q.CURRENT_USER_TEXTY,value:rt==="texty-autocomplete"&&Ue})},FILE_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILE_AGE_DECAY_7D,value:j.item&&st(Ue,j.item.created,7*L)})},FILE_AGE_DECAY_28D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILE_AGE_DECAY_28D,value:j.item&&st(Ue,j.item.created,28*L)})},FILE_AGE_DECAY_90D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILE_AGE_DECAY_90D,value:j.item&&st(Ue,j.item.created,90*L)})},FILE_FROM_CURRENT_USER:j=>Me({id:a.Q.FILE_FROM_CURRENT_USER,value:j.fromCurrentUser}),NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:j=>Ce({id:a.Q.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS,suggestion:j,extractionFunction:Gt,text:ot(j,M.fd.CHANNEL_NAVIGATION),multiplier:Ht(j.numResults)}),FILE_LOG_PUBLIC_SHARES:j=>{var Ie,Ue;return Me({id:a.Q.FILE_LOG_PUBLIC_SHARES,value:((Ie=j.item)===null||Ie===void 0||(Ue=Ie.shares)===null||Ue===void 0?void 0:Ue.public)&&Ht(Object.keys(j.item.shares.public).length)})},FILE_LOG_PRIVATE_SHARES:j=>{var Ie,Ue;return Me({id:a.Q.FILE_LOG_PRIVATE_SHARES,value:((Ie=j.item)===null||Ie===void 0||(Ue=Ie.shares)===null||Ue===void 0?void 0:Ue.private)&&Ht(Object.keys(j.item.shares.private).length)})},FILE_LOG_ACTIONS:j=>{var Ie;return Me({id:a.Q.FILE_LOG_ACTIONS,value:((Ie=j.item)===null||Ie===void 0?void 0:Ie.actions)&&Ht(j.item.actions.length)})},FILE_LATEST_ACTION_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILE_LATEST_ACTION_AGE_DECAY_2H,value:st(Ue,j.latestActionTs,2*P)})},FILE_LATEST_ACTION_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILE_LATEST_ACTION_AGE_DECAY_7D,value:st(Ue,j.latestActionTs,7*L)})},FILE_LATEST_ACTION_AGE_DECAY_90D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILE_LATEST_ACTION_AGE_DECAY_90D,value:st(Ue,j.latestActionTs,90*L)})},FILE_LATEST_SHARE_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILE_LATEST_SHARE_AGE_DECAY_2H,value:st(Ue,j.latestShareTs,2*P)})},FILE_LATEST_SHARE_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILE_LATEST_SHARE_AGE_DECAY_7D,value:st(Ue,j.latestShareTs,7*L)})},FILE_LATEST_SHARE_AGE_DECAY_90D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILE_LATEST_SHARE_AGE_DECAY_90D,value:st(Ue,j.latestShareTs,90*L)})},FILE_CHANNEL_CTR:j=>Me({id:a.Q.FILE_CHANNEL_CTR,value:j.fileChannelCtr}),FILE_SUGGESTIONS_SEARCHER:j=>Me({id:a.Q.FILE_SUGGESTIONS_SEARCHER,value:j.fileSuggestionsFromSearcher}),FILE_USER_CTR:j=>Me({id:a.Q.FILE_USER_CTR,value:j.fileUserCtr}),FILE_NAME_CONTAINS_QUERY_NORMALIZED:j=>Ce({id:a.Q.FILE_NAME_CONTAINS_QUERY_NORMALIZED,suggestion:j,extractionFunction:Xt,text:ot(j,M.fd.FILE_NAVIGATION)}),FILE_IS_CANVAS:j=>Me({id:a.Q.FILE_IS_CANVAS,value:pt(j,"quip")}),FILE_HAS_DMS_WITH_CREATOR:j=>Me({id:a.Q.FILE_HAS_DMS_WITH_CREATOR,value:j.hasNonNullDmsWithCreator}),FILE_HAS_DMS_WITH_CREATOR_V2:j=>Me({id:a.Q.FILE_HAS_DMS_WITH_CREATOR_V2,value:j.hasNonNullLocalOrRemoteDmsWithCreator}),FILE_LATEST_VIEW_BY_USER_OLDER_90D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.FILE_LATEST_VIEW_BY_USER_OLDER_90D,value:Nt(Ue,parseFloat((ne=j.lastReadTs)!==null&&ne!==void 0?ne:"")/1e3,90*L)})},APP_NAME_PREFIX_MATCH:j=>{var Ie;return Ce({id:a.Q.APP_NAME_PREFIX_MATCH,suggestion:j,extractionFunction:Et,text:(Ie=j.item)===null||Ie===void 0?void 0:Ie.appName})},BEST_NAME_MATCH_LOG_RESULTS:j=>Me({id:a.Q.BEST_NAME_MATCH_LOG_RESULTS,value:j.bestNameIsExactMatch&&Ht(j.numResults)}),SLASH_COMMAND_USER_CTR:j=>{var Ie;return Me({id:a.Q.SLASH_COMMAND_USER_CTR,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.user_ctr_30dd})},WORKFLOW_TRIGGER_USER_CTR:j=>{var Ie;return Me({id:a.Q.WORKFLOW_TRIGGER_USER_CTR,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.user_ctr_30dd})},GLOBAL_ACTION_USER_CTR:j=>{var Ie;return Me({id:a.Q.GLOBAL_ACTION_USER_CTR,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.user_ctr_30dd})},CHANNEL_ACTION_USER_CTR:j=>{var Ie;return Me({id:a.Q.CHANNEL_ACTION_USER_CTR,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.user_ctr_30dd})},APP_ACTION_USER_CTR:j=>{var Ie;return Me({id:a.Q.APP_ACTION_USER_CTR,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.user_ctr_30dd})},SLASH_COMMAND_TEAM_CTR:j=>{var Ie;return Me({id:a.Q.SLASH_COMMAND_TEAM_CTR,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.team_ctr_90dd})},WORKFLOW_TRIGGER_TEAM_CTR:j=>{var Ie;return Me({id:a.Q.WORKFLOW_TRIGGER_TEAM_CTR,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.team_ctr_90dd})},GLOBAL_ACTION_TEAM_CTR:j=>{var Ie;return Me({id:a.Q.GLOBAL_ACTION_TEAM_CTR,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.team_ctr_90dd})},CHANNEL_ACTION_TEAM_CTR:j=>{var Ie;return Me({id:a.Q.CHANNEL_ACTION_TEAM_CTR,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.team_ctr_90dd})},APP_ACTION_TEAM_CTR:j=>{var Ie;return Me({id:a.Q.APP_ACTION_TEAM_CTR,value:(Ie=j.offlineFeatures)===null||Ie===void 0?void 0:Ie.team_ctr_90dd})},SHORTCUT_ENTITY_TYPE_CTR:j=>Me({id:a.Q.SHORTCUT_ENTITY_TYPE_CTR,value:j.entityTypeCtr}),EXACT_MATCH_LOG_RESULTS:j=>Me({id:a.Q.EXACT_MATCH_LOG_RESULTS,value:(j.isExactMatch?1:0)*Ht(j.numResults)}),HISTORY_AGE_DECAY_2H:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.HISTORY_AGE_DECAY_2H,value:st(Ue,j.historyTs,2*P)})},HISTORY_AGE_DECAY_7D:(j,Ie)=>{let{now:Ue}=Ie;return Me({id:a.Q.HISTORY_AGE_DECAY_7D,value:st(Ue,j.historyTs,7*L)})},HISTORY_POSITION:j=>Me({id:a.Q.HISTORY_POSITION,value:j.historyPosition}),MEMBER_OF_SEARCHER_DEFAULT_TEAM:j=>Me({id:a.Q.MEMBER_OF_SEARCHER_DEFAULT_TEAM,value:j.isMemberOfSearcherDefaultTeam}),HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER:j=>Me({id:a.Q.HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER,value:(j.numWorkspacesIntersectingWithSearcher||0)>0}),NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER:j=>Me({id:a.Q.NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER,value:j.numWorkspacesIntersectingWithSearcher||0})};class at{serialize(){const Ie=new A;this.featureList.forEach(rt=>ze({feature:rt,serializer:Ie}));const Ue=Ie.serialize();return`${this.featuresVersion}:${Ue}`}valueForFeature(Ie){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Ie==null)return R().error(`Invalid feature id: ${Ie}`),null;const rt=this.featureList.find(zt=>zt.id===Ie);if(!(0,o.A)(rt))return Ue?Le(rt)||"":Pe(rt)||0}static fromSuggestion(Ie,Ue){const rt=Date.now()/1e3,zt=!!(0,d.NB)(Ie.item),Wt=!!((0,l.rW)(Ie.item)||(0,l.Zp)(Ie.item)),Ft=zt&&(0,d.fy)(Ie.item),rn={itemIsChannel:Wt,itemIsMember:zt,now:rt,isCurrentUser:Ft,source:Ue};return new this(nt(Ie,Ue).map(_n=>je[_n]&&je[_n](Ie,rn)||null))}constructor(Ie){this.featureList=Ie,this.featuresVersion="v8"}}E(at,"SuggestionFeatureVector");function nt(j,Ie){return Ie==="slash-command-menu"?[...D.globalFeatures]:j.suggestionType===M.fd.USER_NAVIGATION?[...D.globalFeatures,...D.userFeatures]:j.suggestionType===M.fd.CHANNEL_NAVIGATION?[...D.globalFeatures,...D.channelFeatures]:j.suggestionType===M.fd.MPIM_NAVIGATION?[...D.globalFeatures,...D.mpimFeatures]:j.suggestionType===M.fd.VIEW_NAVIGATION?[...D.globalFeatures,...D.viewFeatures]:j.suggestionType===M.fd.FILE_NAVIGATION?[...D.globalFeatures,...D.fileFeatures,...D.queryFeatures]:j.suggestionType===M.fd.LINK_NAVIGATION?[...D.globalFeatures,...D.linkFeatures]:j.suggestionType===M.fd.MODAL_NAVIGATION?[...D.globalFeatures,...D.modalFeatures]:j.suggestionType===M.fd.TEAM_NAVIGATION?[...D.globalFeatures,...D.teamFeatures]:j.type==="emoji"?[...D.globalFeatures,...D.emojiFeatures]:j.type==="broadcastKeyword"?[...D.globalFeatures,...D.broadcastKeywordFeatures]:j.suggestionType===M.fd.QUERY||j.suggestionType===M.fd.QUERY_USER?[...D.globalFeatures,...D.queryFeatures]:j.suggestionType===M.fd.APP_ACTION?[...D.globalFeatures,...D.shortcutFeatures,...D.appActionFeatures]:j.suggestionType===M.fd.SLASH_COMMAND?[...D.globalFeatures,...D.shortcutFeatures,...D.slashCommandFeatures]:j.suggestionType===M.fd.GLOBAL_ACTION?[...D.globalFeatures,...D.shortcutFeatures,...D.globalActionFeatures]:j.suggestionType===M.fd.CHANNEL_ACTION?[...D.globalFeatures,...D.shortcutFeatures,...D.channelActionFeatures]:j.suggestionType===M.fd.WORKFLOW_TRIGGER?[...D.globalFeatures,...D.shortcutFeatures,...D.workflowTriggerFeatures]:j.suggestionType===M.fd.APP?[...D.globalFeatures,...D.appFeatures]:j.suggestionType===M.fd.MESSAGE_NAVIGATION?[...D.globalFeatures,...D.messageFeatures]:j.suggestionType===M.fd.QUERY_HISTORY?[...D.globalFeatures,...D.queryFeatures]:D.globalFeatures}E(nt,"getFeaturesForExtraction");class Ge{constructor({id:Ie,value:Ue}){Ie==null&&R().error(`Invalid feature id: ${Ie}`);const rt=I(Ie);rt||R().error(`Missing feature name for id: ${Ie}`),this.id=Ie,this.name=rt,this.valueOrNull=Ue}}E(Ge,"Feature");function Pe(j){return typeof j.valueOrNull=="number"&&isFinite(j.valueOrNull)?j.valueOrNull:typeof j.valueOrNull=="boolean"&&j.valueOrNull?1:0}E(Pe,"getNumericValueForFeature");function Le(j){return j.valueOrNull===null||j.valueOrNull===void 0?"":j.valueOrNull.toString()}E(Le,"getStringValueForFeature");function ze(j){let{feature:Ie,serializer:Ue}=j;Ie.valueOrNull===null&&Ue.writeNullFeature(),typeof Ie.valueOrNull=="number"&&Ue.writeNumericalFeature(Ie.valueOrNull,Ie.id),typeof Ie.valueOrNull=="boolean"&&Ue.writeBinaryFeature(Ie.valueOrNull,Ie.id),typeof Ie.valueOrNull=="string"&&Ue.writeTextFeature(Ie.valueOrNull,Ie.id)}E(ze,"serializeFeature");function Me(j){let{id:Ie,value:Ue}=j;const rt=(0,o.A)(Ue)?null:Ue;return new Ge({id:Ie,value:rt})}E(Me,"makeFeature");function Ce(j){let{id:Ie,suggestion:Ue,extractionFunction:rt,text:zt=Se(Ue),multiplier:Wt=1}=j;if(!zt)return Me({id:Ie,value:null});const Ft=rt({text:zt,query:Ue.query||"",normalizedQuery:Ue.normalizedQuery||""}),rn=Ft===!0?1:Ft===!1?0:Ft;return Me({id:Ie,value:(rn??0)*Wt})}E(Ce,"makeTextFeature");function Qe(j){let Ie=null;return(j.suggestionType===M.fd.QUERY||j.suggestionType===M.fd.QUERY_USER||j.suggestionType===M.fd.CHANNEL_NAVIGATION||j.suggestionType===M.fd.MPIM_NAVIGATION||j.suggestionType===M.fd.USER_NAVIGATION||j.suggestionType===M.fd.TEAM_NAVIGATION||j.suggestionType===M.fd.VIEW_NAVIGATION||j.suggestionType===M.fd.FILE_NAVIGATION)&&(Ie=j.frecencyScore),Ie}E(Qe,"getFrecencyScoreForSuggestion");function Be(j){let Ie=null;return j.suggestionType===M.fd.QUERY&&j.lastSuggestionToken&&j.lastSuggestionToken.type===M.S6.API&&(Ie=j.lastSuggestionToken.querySuggestionScore),Ie}E(Be,"getQuerySuggestionScoreV2");function we(j){let Ie=null;return j.suggestionType===M.fd.FILE_NAVIGATION&&(Ie=j.rawScore),Ie}E(we,"getFileSuggestionScore");function xe(j){return j&&j.lastSuggestionToken?j.lastSuggestionToken.toString():""}E(xe,"getLastSuggestionTokenString");function Se(j){return vt(j)?xe(j):j.suggestionType===M.fd.FILE_NAVIGATION?j.name:null}E(Se,"getTextOrNullFromQuerySuggestion");function Ye(j){return j.isNavigational||j.isAction||j.isApp?j.name:null}E(Ye,"getTextOrNullFromNavigationalSuggestion");function ot(j,Ie){return j.suggestionType===Ie?j.name:null}E(ot,"getTextOrNullFromSuggestionWithType");function _t(j){return j.suggestionType===M.fd.USER_NAVIGATION||(0,o.A)(j.name)?null:j.name}E(_t,"getTextOrNullFromSuggestionNotUser");function pt(j,Ie){return j.suggestionType!==M.fd.FILE_NAVIGATION?!1:j.fileType===Ie}E(pt,"isFileTypeMatch");function vt(j){return j.lastSuggestionToken?j.lastSuggestionToken.type===M.S6.STRING||j.lastSuggestionToken.type===M.S6.PHRASE||j.lastSuggestionToken.type===M.S6.API:!1}E(vt,"isActiveTokenStringLike");function yt(j){return j.lastTokenMemberOrNull&&j.lastTokenMemberOrNull.profile&&j.lastTokenMemberOrNull.profile.first_name}E(yt,"getLastTokenUserFirstName");function Tt(j){return j.lastTokenMemberOrNull&&j.lastTokenMemberOrNull.profile&&j.lastTokenMemberOrNull.profile.last_name}E(Tt,"getLastTokenUserLastName");function ft(j){return j.lastTokenMemberName||j.lastTokenChannelName||null}E(ft,"lastTokenName");function Ct(j){return j?j.im&&j.lastReadImTs?j.lastReadImTs:j.remoteImMetadata&&j.lastReadRemoteImMetadataTs?(j.lastReadRemoteImMetadataTs/1e6).toString():null:null}E(Ct,"imLastReadFromLocalClientElseCachedRemote");function At(j){return j?j.mpimFeatures&&j.mpimFeatures.lastReadTs?j.mpimFeatures.lastReadTs:j.remoteMpimMetadata&&j.lastReadRemoteMpimMetadataTs?(j.lastReadRemoteMpimMetadataTs/1e6).toString():null:null}E(At,"mpimLastReadFromLocalClientElseCachedRemote");function kt(j){return j?j.remoteMpimMetadata&&j.remoteMpimMembershipCount?j.remoteMpimMembershipCount:j.mpimFeatures&&j.mpimFeatures.membershipCount?j.mpimFeatures.lastReadTs:null:null}E(kt,"mpimMembershipCountFromCachedRemoteElseLocalClient");function Bt(j){let{text:Ie,query:Ue}=j;return Ie===Ue}E(Bt,"isExactMatch");function St(j){let{text:Ie,query:Ue}=j;return!!(Ue&&Ie&&(0,s.A)(Ie,Ue))}E(St,"isPrefixMatch");function Gt(j){let{text:Ie,normalizedQuery:Ue}=j;return(0,O.B)(Ie).replace(/^[@#]/g,"")===Ue}E(Gt,"isNormalizedExactMatch");function Et(j){let{text:Ie,normalizedQuery:Ue}=j;const rt=(0,O.B)(Ie).replace(/^[@#]/g,"");return!!(rt&&Ue&&(0,s.A)(rt,Ue))}E(Et,"isNormalizedPrefixMatch");function wt(j){let{text:Ie,query:Ue}=j;return(0,c.A)(Ie).length+((0,r.A)(Ie," ")?1:0)===(0,c.A)(Ue).length}E(wt,"stringSameNumberWordsValueFromSuggestion");function Jt(j){let{text:Ie,query:Ue}=j;return Math.max(0,Ie.length-Ue.length)}E(Jt,"excessStringLengthValueFromSuggestion");function Lt(j){let{text:Ie,query:Ue}=j;return Ie.length>0?Ue.length/Ie.length:0}E(Lt,"queryRatioLengthValueFromSuggestion");function Zt(j){let{text:Ie,normalizedQuery:Ue}=j;return Gt({text:Ie,normalizedQuery:Ue})&&Ue.length>1?2**-Ue.length:null}E(Zt,"queryLengthDecayNormalMatch");function qt(j){let{normalizedQuery:Ie}=j;return Ie.length}E(qt,"queryLength");function tt(j){let{text:Ie}=j;return Ie.length}E(tt,"suggestionTextLength");function st(j,Ie,Ue){if(Ie){var rt;return Math.min(1,Math.exp(Math.log(.5)/Ue*((rt=gt(j,Ie))!==null&&rt!==void 0?rt:0)))}return 0}E(st,"expAgeDecay");function gt(j,Ie){return Ie?Math.max(0,j-Ie):null}E(gt,"age");function Nt(j,Ie,Ue){if(!Ie)return!0;const rt=gt(j,Ie);return!rt||rt>Ue}E(Nt,"ageLatestOlderOrMissing");function Ht(j){return j>0?Math.log1p(j):0}E(Ht,"log1pSafe");function Xt(j){let{text:Ie,normalizedQuery:Ue}=j;const rt=(0,O.B)(Ie).replace(/^[@#]/g,"");return!!(rt&&Ue&&rt.includes(Ue))}E(Xt,"stringContainsQueryNormalized")},7646553093:(N,y,e)=>{"use strict";e.d(y,{A:()=>ie});var t=e(3367239067),n=e(9087248458),o=e(7174777686),s=e(3783303734),c=e(362134992),r=e(1703559452),a=e(9816084745),i=e(5141066605),l=e(3037015781),m=e(3929724715),_=e(1407713935),h=e(8920264989),d=e(6007206761),f=e(6495946979);function v(he){var ve;const ge=(ve=he.actions)===null||ve===void 0?void 0:ve[0];if(!ge)return 0;const ke=parseFloat(ge.ts);return isNaN(ke)?0:ke}E(v,"getLatestActionTs");var u=e(8170643398),g=e(9262712126),p=e(5096647761),A=e(6536982570),C=e(7578434623),T=e(4477620356),I=e(6471059816),M=e(9540555535),D=e(7930183031),O=e(4096483543),S=e(8040098042),R=e(4496040127),U=e(9186097751),P=e(1041273904),L=e(1520110262),F=e(7948868735),x=e(9703079150),b=e(6533394955);class k extends F.F{fetchData(){return(0,b.Qw)(this.teamId,(0,L.ej)({reason:"AutocompleteModelCache"})).catch(ve=>({model:null,exception:ve})).then(ve=>{const ge={model:null};if(ve.model){const ke=(0,P.A)(Object.entries(ve.model).map(Ne=>{let[We,Oe]=Ne;return[We.toUpperCase(),Oe]}));ge.model=new x.t(ke,!0)}else return null;return ge})}constructor(ve){super(),this.teamId=ve}}E(k,"AutocompleteModelCache");let B=null;function W(he){return B||(B=new k(he)),B}E(W,"getAutocompleteModelCache");var K=e(9150404500),H=e(1917953477),z=e(220244708),Q=e(6312133237);const q=new x.t({ACTIVE_TOKEN_FILTER_AFTER:-1.3342286966503,ACTIVE_TOKEN_FILTER_BEFORE:-1.5840743442206,ACTIVE_TOKEN_FILTER_DURING:-1.5067377681356,ACTIVE_TOKEN_FILTER_FROM:-.32097975590927,ACTIVE_TOKEN_FILTER_HAS:.12307720392367,ACTIVE_TOKEN_FILTER_IN:-.20437151727999,ACTIVE_TOKEN_FILTER_ON:-.2331890332635,ACTIVE_TOKEN_FILTER_TO:-.39179992363572,ACTIVE_TOKEN_FILTER_WITH:-2.6491467875516,ACTIVE_TOKEN_MEMBER:3.3152339724625,ACTIVE_TOKEN_PHRASE:1.6227243782418,ACTIVE_TOKEN_STRING:1.2377431959723,APP_NAME_PREFIX_MATCH:.41310546603391,CHANNEL_ACTION_TEAM_CTR:5.3683432201332,CHANNEL_ACTION_USER_CTR:-3.0316210543763,CHANNEL_IS_ARCHIVED:-.87858649301233,CHANNEL_IS_MEMBER:.77730174627333,CHANNEL_IS_OTHER_TEAM:-.61919041941926,CHANNEL_IS_STARRED:.42983549335324,CHANNEL_IS_UNREAD:.32493583671244,CHANNEL_READ_AGE_DECAY_7D:1.7862684517169,CURRENT_USER_TEXTY:-2.0962311707595,EMOJI_COMBO_BREAK_0:.034181103626295,EMOJI_COMBO_BREAK_1:-1.5404314842404,EMOJI_COMBO_BREAK_2:-2.2796470967609,EMOJI_EXACT_MATCH:.183283071987,EMOJI_QUERY_LENGTH_RATIO:1.0690358111219,EMOJI_USER_CTR_30DD:5.1931307714537,FILE_AGE_DECAY_7D:.094311459141267,FILE_AGE_DECAY_90D:-.068414601197763,FILE_FROM_CURRENT_USER:-.053638049001005,FILE_HAS_DMS_WITH_CREATOR:-.0061128361931085,FILE_IS_CANVAS:.3,FILE_LATEST_ACTION_AGE_DECAY_90D:.22470956185502,FILE_LATEST_VIEW_BY_USER_OLDER_90D:-1.5,FILE_LOG_ACTIONS:.31755825349717,FILE_LOG_PRIVATE_SHARES:.63647050316634,FILE_LOG_PUBLIC_SHARES:-.4105759438314,FILE_NAME_CONTAINS_QUERY_NORMALIZED:1,FILTER_USER_DM_READ_AGE_DECAY_2H:-.39943623618561,FILTER_USER_DM_READ_AGE_DECAY_7D:.8400841724556,FILTER_USER_IS_ACTIVE:.42798763518113,FILTER_USER_PRIORITY:.71416734958181,FRECENCY_BONUS:.0083562726103486,FRECENCY_LOG_HIT_COUNT_SCALED:1.0221320483578,FRECENCY_LOG_ITEM_COUNT_SCALED:.93494415431914,FRECENCY_WEIGHT_HIT_VISITS:.010783602348951,FRECENCY_WEIGHT_ITEM_VISITS:.019341183576389,FUZZY_SCORE_50:.95744512772969,FUZZY_SCORE_ALL:-2.1179514334905,GLOBAL_ACTION_USER_CTR:6.0311738732755,HERE_KEYWORD_EXACT_MATCH:2.8669041266612,HISTORY_AGE_DECAY_7D:.66414153833523,IS_BROADCAST_KEYWORD:3.4759283393419,MEMBER_OF_CURRENT_CHANNEL:3.3022467998568,MPIM_MATCHER_SCORE_0:-.02289922354073,MPIM_MATCHER_SCORE_1:-1.2162030026989,MPIM_MATCHER_SCORE_2:-2.3109629676003,MPIM_MATCHER_SCORE_3:-2.545746172366,MPIM_MEMBER_ALL_MATCHES:.040175375087294,MPIM_MEMBER_NAME_MATCHES:.071667207602181,MPIM_READ_AGE_DECAY_7D:2.0911081748312,MPIM_USER_CTR_30DD:10.134770283044,MPIM_WITH_DEACTIVATED_USER:-1.1657978882602,NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:.49306597435127,NAV_NORMAL_MATCH_USER:.83230837935037,NAV_NORMAL_PREFIX_MATCH_NO_USER:.4852904832645,NAV_NORMAL_PREFIX_MATCH_USER:-.12081821144909,ONLY_MATCHES_PREVIOUS_NAME:-1.248003231081,OS_APP_ACTION:-1.381807580371,QUERY_FRECENCY_BONUS:.011725693517502,QUERY_FRECENCY_RAW:.0071433931825349,QUERY_FRECENCY_WEIGHT_HIT_VISITS:.0047962209104509,QUERY_TOKEN_NORMAL_PREFIX_MATCH:.38593901851901,SLASH_COMMAND_USER_CTR:3.2204170381454,STRING_EXACT_PREFIX_MATCH:-.53245135333594,STRING_NORMAL_PREFIX_MATCH:-.4692069451129,TYPE_APP:-2.0995766663586,TYPE_APP_ACTION:-.15299090921826,TYPE_CHANNEL_ACTION:-.97398280475431,TYPE_GLOBAL_ACTION:.24313716972704,TYPE_NAVIGATION_CHANNEL:-.99949500941624,TYPE_NAVIGATION_FILE:-.60870055140391,TYPE_NAVIGATION_MODAL:-1.2540608783032,TYPE_NAVIGATION_MPIM:-.13640397661212,TYPE_NAVIGATION_TEAM:-.74505579518249,TYPE_NAVIGATION_USER:.19845685040217,TYPE_NAVIGATION_VIEW:-.06828592658814,TYPE_QUERY:-.34666651828357,TYPE_QUERY_HISTORY:-.89886675989568,TYPE_SLASH_COMMAND:-.18074491193454,TYPE_USER_QUERY:1.2730815188112,TYPE_WORKFLOW_TRIGGER:-1.2028127578536,USER_DM_EMPTY_V2:1.4226370781581,USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:.40074999941377,USER_DM_LATEST_OLDER_90D_V2:-1.2419114598606,USER_EMAIL_ONLY_MATCH:-1.2756812486684,USER_ENTITY_TYPE_CTR_30DD:3.7407446891213,USER_FIRST_NAME_NORMAL_MATCH:.36402719522123,USER_IS_ACTIVE:.58279556397075,USER_IS_DEACTIVATED:-.58279556397075,USER_IS_BOT:-.76450720727465,USER_IS_EXTERNAL:.27225738168756,USER_LAST_NAME_NORMAL_MATCH:.19972040917946,USER_MPIM_READ_AGE_DECAY_7D:.56565249217787,USER_PRIORITY:.29699660378898,USER_SAME_TEAM:.17696933968657}),$=new x.t({FRECENCY_LOG_ITEM_COUNT:1}),le=new x.t({FRECENCY:1}),te=new x.t({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_WORKFLOW_TRIGGER:1,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_HIT_COUNT_SCALED:.45581873094776,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),ce=new x.t({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_LOG_HIT_COUNT_SCALED:4,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),me=new x.t({ACTIVE_TOKEN_QUERY_SUGGESTION:1,BM25_SCORE:1,CHANNEL_IS_MEMBER:0,EXCESS_STRING_LENGTH:1,FRECENCY:.01,MPIM_IS_STARRED:0,NAV_EXACT_MATCH:0,NAV_EXACT_PREFIX_MATCH:0,NAV_EXCESS_STRING_LENGTH:2.5,NAV_NORMAL_MATCH:0,QUERY_SUGGESTION_SCORE_V2:3,STRING_EXACT_PREFIX_MATCH:1,STRING_NORMAL_PREFIX_MATCH:1,TYPE_NAVIGATION_CHANNEL:4,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7,TYPE_NAVIGATION_USER:4,TYPE_QUERY:1,HERE_KEYWORD_EXACT_MATCH:5}),_e=new x.t({FRECENCY:.01,TYPE_NAVIGATION_USER:4,TYPE_NAVIGATION_CHANNEL:4,QUERY_SUGGESTION_SCORE_V2:3,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7}),ye={testing:me,testing_2:_e,frecency:le,autocompleteFallback:q,shortcuts1:te,shortcuts3:ce,emojiFrequentlyUsed:$};var oe=e(5853759500),ee=e(8847766420),V=e(7384121809),w=e(5795074931),Y=e(4078320572),G=e(9101533895),Z=e(4761125736),se=e(8719147933),ae=e(8276911661),re=e(6562711329);const pe=new I.Ay("search"),de="autocompleteFallback";let ie=E(class{sort(ve,ge){var ke;const Ne=(0,C.Cy)({state:ve});Ne.mark("sorter-sort-mark");const We=this.prepSuggestions(ve,ge);this.extractFeatures(ve,We);const Oe=this.scoreItems(ve,We),be=((ke=this.options)===null||ke===void 0?void 0:ke.dryRun)===!0?Oe:this.sortByScore(Oe);Ne.measureAndClear("sorter-sort-mark","sorter-sort");const Ke=2,Fe=this.boostExactMatches(be,Ke);return this.forceMatches(Fe)}boostExactMatches(ve,ge){const ke=ve.slice(0,ge),Ne=[],We=[];for(let Oe=ge;Oe<ve.length;Oe++){const be=ve[Oe];be.isExactMatch||be.bestNameIsExactMatch?Ne.push(be):We.push(be)}return[...ke,...Ne,...We]}forceMatches(ve){var ge,ke;return!((ge=this.options)===null||ge===void 0)&&ge.selfFirst&&!(!((ke=ve[0])===null||ke===void 0)&&ke.isSelf)?[...(0,t.A)(ve,We=>We.isSelf),...ve]:ve}getModel(ve,ge){let ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const Ne={model:ye[ve]};if(!ke&&ge){const Oe=W(ge).getStaleWhileRevalidate(Ne);return Oe===null||Oe.model===null||Oe.model===void 0?Ne:Oe}return Ne}getHistoryChannels(ve){if((0,Z._Z)(ve,"sq_sorter_history")!=="treatment")return{};if(!(0,O.A)())return{};var ge;const ke=[...(ge=(0,se.t)((0,V.Ry)()))!==null&&ge!==void 0?ge:[]];if(!ke)return{};for(let We=0;We<ke.length;We++)ke[We].position=We+1;const Ne={};return ke.filter(We=>!(0,R.VA)()&&We.teamId!==this.teamId||!We.primaryView?!1:(0,S.A)(We.primaryView)).forEach(We=>{if(We.primaryView&&!(We.primaryView in Ne)){var Oe;Ne[We.primaryView]={ts:We.ts/1e3,position:(Oe=We==null?void 0:We.position)!==null&&Oe!==void 0?Oe:-1}}}),Ne}prepSuggestions(ve,ge){var ke,Ne,We,Oe;const be=(0,Z._Z)(ve,"fe_search_context_aware_flannel_current_channel")==="on",Ke=(0,D.R)(ve),Fe=(0,M.L)(ve),J=(0,Q.B)((0,H.O)(this.query));if(!((ke=this.options)===null||ke===void 0)&&ke.currentChannel&&J.length<=1&&!(0,_.yz)((Ne=this.options)===null||Ne===void 0?void 0:Ne.currentChannel)&&!(0,_.LI)((We=this.options)===null||We===void 0?void 0:We.currentChannel)){const Ce=ge.filter(Qe=>Qe.type==="member"||(0,u.NB)(Qe.item)).map(Qe=>(Qe.item||Qe).id);(0,b.Qw)(this.teamId,(0,re.z)({channelId:this.options.currentChannel.id,userIds:Ce}))}let ne=null;if(this.teamId){var je;ne=(0,U.S1)({teamId:this.teamId,enterpriseId:(je=this.enterpriseId)!==null&&je!==void 0?je:void 0}).getStaleWhileRevalidate()}const at=ge.length,nt=(0,w.WR)(ve),Ge=(0,ae.cA)(ve),Pe=(0,A.dQ)(Ge),Le=(Oe=this.options)===null||Oe===void 0?void 0:Oe.currentChannel,ze=this.getHistoryChannels(ve),Me={};return ge.forEach(Ce=>{const Qe=Ce.item;(Ce.type==="mpim"||(0,_.yz)(Ce.item))&&((0,m.Ug)(Qe)||[]).forEach(we=>{if(we!==nt){const xe=Me[we]||{itemCount:0,hitCount:0,membershipCount:0},Se=(0,m._V)(ve,Qe),Ye=Se?parseFloat(Se):void 0,ot=(0,Y.b5)(ve,Qe.id),_t=ot?parseFloat(ot):void 0;Ye&&(xe.lastReadTs?xe.lastReadTs=Math.max(xe.lastReadTs,Ye):xe.lastReadTs=Ye),_t&&(xe.latestMsgTs?xe.latestMsgTs=Math.max(xe.latestMsgTs,_t):xe.latestMsgTs=_t),xe.hitCount+=(Ce==null?void 0:Ce.hitCount)||0,xe.itemCount+=(Ce==null?void 0:Ce.itemCount)||0,xe.membershipCount+=1,Me[we]=xe}})}),ge.map(Ce=>{const Qe=Ce.item||Ce,Be={...Ce,query:this.query,normalizedQuery:J,id:Qe.id,suggestionType:K.fd.UNKNOWN,numResults:at};if(Ce.type==="member"||(0,u.NB)(Ce.item)){var we,xe,Se,Ye;const Lt=Qe.id&&(0,G.Pu)(ve,Qe.id),Zt=Qe.id&&ne&&ne.getUserDmChannelMetadata(Qe.id);Be.remoteImMetadata=Zt;const qt=Qe.id&&ne&&ne.getUserMpdmChannelMetadata(Qe.id);if(Be.remoteMpimMetadata=qt,Be.im=Lt,Be.latestImTs=Lt&&(0,Y.b5)(ve,Lt.id),Be.imHasDraft=Lt&&(0,m.yc)(ve,Lt.id),Be.imIsStarred=Lt&&(0,m.m2)(ve,Lt),Be.name=(0,g.Gt)(Ce.item),Be.lastReadImTs=(0,m._V)(ve,Lt),Be.lastReadRemoteImMetadataTs=Zt==null?void 0:Zt.last_read_abs,Be.lastReadRemoteMpimMetadataTs=qt==null?void 0:qt.last_read_abs,Be.remoteMpimMembershipCount=qt==null?void 0:qt.membership_count,this.enterpriseId&&this.enterpriseId===((we=Ce.item)===null||we===void 0?void 0:we.enterprise_id)){const gt=(0,ee.kN)(ve)||[],Nt=(0,ee.E$)(ve),Ht=Ce.item.enterprise_user.teams||[],Xt=(0,n.A)(gt,Ht);Be.isMemberOfSearcherDefaultTeam=(0,o.A)(Xt,Nt),Be.numWorkspacesIntersectingWithSearcher=(0,s.A)(Xt)}if((0,A.dQ)(Ce.item)===Pe&&(Be.sameTeam=!0),Le)if((0,_.yz)(Le)){var ot,_t;Be.isMemberOfCurrentChannel=(_t=Le==null||(ot=Le.members)===null||ot===void 0?void 0:ot.includes(Ce.item.id))!==null&&_t!==void 0?_t:!1}else(0,_.LI)(Le)||(Be.isMemberOfCurrentChannel=(0,z.B)(ve,Qe,Le));!((xe=this.options)===null||xe===void 0)&&xe.currentThreadUsers&&(Be.isMemberOfCurrentThread=this.options.currentThreadUsers.includes(Qe.id)),Be.priority=(0,m.dh)(ve,Lt),Be.suggestionType=K.fd.USER_NAVIGATION,Be.isNavigational=!0,Be.historyTs=Lt&&((Se=ze[Lt.id])===null||Se===void 0?void 0:Se.ts),Be.historyPosition=Lt&&((Ye=ze[Lt.id])===null||Ye===void 0?void 0:Ye.position);const st=Me[Qe.id];st&&(Be.mpimFeatures=st)}else Be.name=Qe.name||Qe.string;if(Ce.type==="channel"||(0,_.jq)(Ce.item)){var pt,vt;Be.suggestionType=K.fd.CHANNEL_NAVIGATION,Be.isNavigational=!0,Be.isChannelMember=(0,_.rW)(Qe)&&!(0,d.F)(Qe)&&(0,f.bl)(Qe),Be.hasDraft=(0,m.yc)(ve,Qe.id),Be.offlineFeatures=ne&&ne.getFeatures(Ce.item.id,"channel"),Be.historyTs=(pt=ze[Qe.id])===null||pt===void 0?void 0:pt.ts,Be.historyPosition=(vt=ze[Qe.id])===null||vt===void 0?void 0:vt.position,Be.latestTs=Ke?(0,Y.U1)(ve,Qe.id):(0,Y.b5)(ve,Qe.id),Be.lastReadTs=(0,m._V)(ve,Qe),Be.priority=(0,m.dh)(ve,Qe),Be.isStarred=(0,m.m2)(ve,Qe)}if(Ce.type==="mpim"||(0,_.yz)(Ce.item)){var yt,Tt;Be.suggestionType=K.fd.MPIM_NAVIGATION,Be.isNavigational=!0;const Lt=(0,m.Ug)(Qe)||[],Zt=Be.normalizedQuery.split(" ");Be.mpimNumOtherMembersEqualsNumQueryWords=(0,s.A)(Zt)===(0,s.A)(Lt)-1;const qt=Lt.map(Xt=>(0,ae.nv)(ve,Xt));if((0,s.A)(Be.normalizedQuery)>0){const Xt=E(rt=>{const zt=(0,c.A)(qt.map(Wt=>{if((0,u.fy)(Wt))return null;const Ft=Wt==null?void 0:Wt.real_name;return Ft&&rt.filter(An=>An.length>1).some(An=>Ft.toLowerCase().startsWith(An.toLowerCase()))?Ft:null}));return(0,s.A)(zt)===(0,s.A)(Lt)-1},"allOtherMembersHavePrefixMatch"),j=Be.normalizedQuery.split(" ").map(rt=>rt.trim()).filter(rt=>(0,s.A)(rt)>0),Ie=j.reduce((rt,zt,Wt,Ft)=>(Wt%2===0&&(Wt===Ft.length-1?rt.push(zt):rt.push(`${zt} ${Ft[Wt+1]}`)),rt),[]),Ue=Be.normalizedQuery.split(",").map(rt=>rt.trim()).filter(rt=>(0,s.A)(rt)>0);Be.allOtherMemberNamesHavePrefixMatch=Xt(j)||Xt(Ie)||Xt(Ue)}Be.isMpimWithDeactivatedMember=(0,r.A)(qt,Xt=>(0,u.oy)(Xt)||(0,u.eJ)(Xt)),Be.isMpimWithOnlyInternalMembers=(0,a.A)(qt,Xt=>!(0,p.g)(Xt)),Be.hasDraft=(0,m.yc)(ve,Qe.id),Be.name=(0,m.Oi)(ve,Ce.item),Be.offlineFeatures=ne&&ne.getFeatures(Ce.item.id,"mpim"),Be.historyTs=(yt=ze[Qe.id])===null||yt===void 0?void 0:yt.ts,Be.historyPosition=(Tt=ze[Qe.id])===null||Tt===void 0?void 0:Tt.position,Be.priority=(0,m.dh)(ve,Qe),Be.maxLastReadTsOfAllMembers=null,Be.maxLatestMsgTsOfAllMembers=null;let tt=0,st=0,gt=0,Nt=0,Ht=0;qt.forEach(Xt=>{if(Xt.id!==nt){const Ue=Xt.id?(0,G.Pu)(ve,Xt.id):void 0,rt=Ue&&(0,m._V)(ve,Ue),zt=Xt.id&&ne&&ne.getUserDmChannelMetadata(Xt.id),Wt=zt&&zt.last_read_abs/1e6,Ft=Ue||zt,rn=rt?parseFloat(rt):Wt;if(Ft){if(Ht+=1,rn){gt+=1;var j;Be.maxLastReadTsOfAllMembers=Math.max((j=Be.maxLastReadTsOfAllMembers)!==null&&j!==void 0?j:-1/0,rn),tt+=rn}const _n=(0,Y.b5)(ve,Ue==null?void 0:Ue.id),An=Ue&&_n?parseFloat(_n):void 0;if(An){Nt+=1;var Ie;Be.maxLatestMsgTsOfAllMembers=Math.max((Ie=Be.maxLatestMsgTsOfAllMembers)!==null&&Ie!==void 0?Ie:-1/0,An),st+=An}}}}),Be.avgLastReadTsOfAllMembers=tt===0?null:tt/gt,Be.avgLatestMsgTsOfAllMembers=st===0?null:st/Nt,Be.pctNonEmptyDmsForAllMembers=gt/(qt.length-1)*100,Be.pctNonNullDmsForAllMembers=Ht/(qt.length-1)*100,Fe&&(Be.membersForEscapeHatchQuery=qt)}if(Ce.type==="team"&&(Be.suggestionType=K.fd.TEAM_NAVIGATION,Be.isNavigational=!0),Ce.type==="view"&&(Be.suggestionType=K.fd.VIEW_NAVIGATION,Be.isNavigational=!0),Ce.type==="appAction"&&(Be.suggestionType=K.fd.APP_ACTION,Be.isAction=!0,Be.offlineFeatures=ne&&ne.getFeatures(Ce.item.id,"appAction")),Ce.type==="app"&&(Be.suggestionType=K.fd.APP,Be.isApp=!0),Ce.type==="emoji"&&(Be.name=Be.emojiBestNameMatch,Be.suggestionType=K.fd.EMOJI,Be.isNavigational=!0,Be.offlineFeatures=ne&&ne.getFeatures(Ce.item.id,"emoji")),Ce.type==="slashCommand"){var ft;Be.suggestionType=K.fd.SLASH_COMMAND,Be.isApp=!0,Be.name=(ft=Be.name)===null||ft===void 0?void 0:ft.substring(1),Be.firstWordOfRawQuery&&(Be.query=Be.firstWordOfRawQuery,Be.normalizedQuery=Be.firstWordOfRawQuery),Be.offlineFeatures=ne&&ne.getFeatures(Ce.item.id,"slashCommand")}if(Ce.type==="globalAction"&&(Be.suggestionType=K.fd.GLOBAL_ACTION,Be.isApp=!0,Be.offlineFeatures=ne&&ne.getFeatures(Ce.item.id,"globalAction")),Ce.type==="quipShortcutCommand"&&(Be.suggestionType=K.fd.QUIP_SHORTCUT),Ce.type==="canvasAiSuggestion"&&(Be.suggestionType=K.fd.CANVAS_AI_SUGGESTION),Ce.type==="channelAction"&&(Be.suggestionType=K.fd.CHANNEL_ACTION,Be.isApp=!0,Be.offlineFeatures=ne&&ne.getFeatures(Ce.item.id,"channelAction")),Ce.type==="workflowTrigger"&&(Be.suggestionType=K.fd.WORKFLOW_TRIGGER,Be.isApp=!0,Be.offlineFeatures=ne&&ne.getFeatures(Ce.item.id,"workflowTrigger")),Ce.type==="file"){Be.suggestionType=K.fd.FILE_NAVIGATION,Be.isNavigational=!0,Be.fileSuggestionsFromSearcher=!0;const Lt=Be.item;Be.id=Lt.id,Be.fileId=Lt.id,Be.logId=Lt.id,Be.fileType=Lt.highlight_type||Lt.filetype,Be.name=Lt.title,Be.fileTypeDescription=Lt.is_external?(0,i.A)(Lt):Lt.pretty_type,Be.fileTypeDescription==="Arugula"&&(Be.fileTypeDescription=pe.t("Post")),Be.fromCurrentUser=Lt.user===nt;const Zt=Lt.user&&(0,G.Pu)(ve,Lt.user),qt=Lt.user&&ne&&ne.getUserDmChannelMetadata(Lt.user);if(Be.hasNonNullDmsWithCreator=Zt!==null,Be.hasNonNullLocalOrRemoteDmsWithCreator=Zt!==null||qt!==null,Be.lastReadTs=Lt.last_read,Lt.shares){const st=Lt.shares.public&&Math.max(...Object.values(Lt.shares.public).flatMap(Nt=>Nt.map(Ht=>Ht.ts?parseFloat(Ht.ts):-1/0))),gt=Lt.shares.private&&Math.max(...Object.values(Lt.shares.private).flatMap(Nt=>Nt.map(Ht=>Ht.ts?parseFloat(Ht.ts):-1/0)));st&&gt?Be.latestShareTs=st>gt?st:gt:Be.latestShareTs=st||gt}const tt=v(Lt);if(tt&&(Be.latestActionTs=tt),ne){const st=Lt.channels&&Array.isArray(Lt.channels)&&Lt.channels.length&&Math.max(...Lt.channels.map(Nt=>ne.getFeatures(Nt,"channel").user_ctr_30dd)),gt=Lt.groups&&Array.isArray(Lt.groups)&&Lt.groups.length&&Math.max(...Lt.groups.map(Nt=>ne.getFeatures(Nt,"mpim").user_ctr_30dd));st>0&&gt>0?Be.fileChannelCtr=Math.max(st,gt):st>0?Be.fileChannelCtr=st:gt>0&&(Be.fileChannelCtr=gt),Lt.user?Be.fileUserCtr=ne.getFeatures(Lt.user,"member").user_ctr_30dd:Be.fileUserCtr=ne.getEntityCtr("member")}}if(Ce.type==="link"&&(Be.suggestionType=K.fd.LINK_NAVIGATION,Be.isNavigational=!0,Be.name=Ce.item.title||Ce.item.url),Ce.type==="modal"&&(Be.suggestionType=K.fd.MODAL_NAVIGATION,Be.name=Ce.item.name),Ce.type==="queryHistory"&&(Be.suggestionType=K.fd.QUERY_HISTORY,Be.is_type_query_history=!0,Be.id=(0,T.B)(Ce.id||Ce.name||Ce.string),Be.logId=Be.id,Be.exact_string=Ce.string),Ce.type==="query"||Ce.type==="queryUser"||Ce.type==="queryHistory"){var Ct,At,kt;if(Be.is_type_query_completion=!0,Be.lastSuggestionToken=!Be.suggestionTokenList||Be.suggestionTokenList.length<1?null:Be.suggestionTokenList[Be.suggestionTokenList.length-1],be&&Be.suggestionTokenList){var Bt,St;let tt=!1;for(const gt of Be.suggestionTokenList)if((gt==null?void 0:gt.type)===K.S6.FILTER_IN){tt=!0;break}if(Le)if((0,_.yz)(Le)){var Gt,Et;Be.isMemberOfCurrentChannel=(Et=Le==null||(Gt=Le.members)===null||Gt===void 0?void 0:Gt.includes(Ce.item.id))!==null&&Et!==void 0?Et:!1}else(0,_.LI)(Le)||(Be.isMemberOfCurrentChannel=(0,z.B)(ve,Qe,Le));const st=(((Bt=Be.lastSuggestionToken)===null||Bt===void 0?void 0:Bt.type)===K.S6.FILTER_FROM||((St=Be.lastSuggestionToken)===null||St===void 0?void 0:St.type)===K.S6.FILTER_WITH)&&tt;Be.isMemberFilterAndHasPreviousChannelFilter=st}Be.frecencyScore=Be.lastSuggestionToken&&Be.lastSuggestionToken._frecencyScore,Be.scoringContext=((Ct=Be.lastSuggestionToken)===null||Ct===void 0?void 0:Ct._scoringContext)||{},Be.lastTokenMemberOrNull=null,Be.lastTokenChannelOrNull=null;const Lt=Be.lastSuggestionToken&&(Be.lastSuggestionToken.type===K.S6.FILTER_FROM||Be.lastSuggestionToken.type===K.S6.FILTER_TO||Be.lastSuggestionToken.type===K.S6.FILTER_WITH),Zt=Be.lastSuggestionToken&&Be.lastSuggestionToken.type===K.S6.FILTER_IN;if(!((At=Be.lastSuggestionToken)===null||At===void 0)&&At._id&&(Be.lastTokenMemberOrNull=Lt&&(0,ae.nv)(ve,Be.lastSuggestionToken._id),Be.lastTokenChannelOrNull=Zt&&((0,G.OL)(ve,Be.lastSuggestionToken._id)||(0,G.Pu)(ve,Be.lastSuggestionToken._id)),Be.priority=Be.lastTokenChannelOrNull?(0,m.dh)(ve,Be.lastTokenChannelOrNull):void 0),Be.lastSuggestionToken&&Be.lastSuggestionToken._name&&(Be.lastTokenMemberOrNull||(Be.lastTokenMemberOrNull=Lt&&(0,ae.H6)(ve,Be.lastSuggestionToken._name)),Be.lastTokenChannelOrNull||(Be.lastTokenChannelOrNull=Zt&&(0,G.Os)(ve,Be.lastSuggestionToken._name))),(0,l.GU)(Be.lastTokenMemberOrNull)&&(Be.lastTokenMemberOrNull=null),Be.lastTokenMemberName=(0,g.Gt)(Be.lastTokenMemberOrNull)||void 0,(0,l.GU)(Be.lastTokenChannelOrNull))Be.lastTokenChannelOrNull=null;else{const tt=(0,m._V)(ve,Be.lastTokenChannelOrNull);Be.lastTokenChannelLastRead=tt?parseFloat(tt):void 0,Be.lastTokenChannelIsStarred=(0,m.m2)(ve,Be.lastTokenChannelOrNull)}Be.lastTokenChannelName=(0,h.SB)(ve,Be.lastTokenChannelOrNull)||void 0,Be.lastTokenIm=Be.lastTokenMemberOrNull&&Be.lastTokenMemberOrNull.id?(0,G.Pu)(ve,Be.lastTokenMemberOrNull.id):void 0,Be.lastTokenImLatest=(0,Y.b5)(ve,(kt=Be.lastTokenIm)===null||kt===void 0?void 0:kt.id);const qt=(0,m._V)(ve,Be.lastTokenIm);qt&&(Be.lastTokenImLastRead=qt?parseFloat(qt):void 0),Be.lastTokenIm&&(Be.priority=(0,m.dh)(ve,Be.lastTokenIm)),Be.lastTokenImIsStarred=(0,m.m2)(ve,Be.lastTokenIm)}if(Ce.type==="query"&&(Be.suggestionType=K.fd.QUERY),Ce.type==="queryUser"&&(Be.suggestionType=K.fd.QUERY_USER),Ce.type==="queryConvoSearch"&&(Be.suggestionType=K.fd.QUERY_CONVO_SEARCH),Ce.type==="queryHistory"&&(Be.suggestionType=K.fd.QUERY_HISTORY),Ce.type==="querySalesforce"&&(Be.suggestionType=K.fd.QUERY_SALESFORCE),Ce.type==="query"||Ce.type==="queryUser"||Ce.type==="queryConvoSearch"||Ce.type==="queryHistory"||Ce.type==="querySalesforce"){var wt;Be.normalizedQuery=(0,Q.B)((0,H.O)(Be.query)),Be.logId=((wt=Be.lastSuggestionToken)===null||wt===void 0?void 0:wt.logId)||"";var Jt;Be.name=((Jt=Be.suggestionTokenList)!==null&&Jt!==void 0?Jt:[]).map(Lt=>Lt.toString()).join(" ")}return Ce.type==="quickMessage"&&(Be.isNavigational=!0,Be.suggestionType=K.fd.MESSAGE_NAVIGATION),Be.entityTypeCtr=ne?ne.getEntityCtr(Ce.type):void 0,Be})}extractFeatures(ve,ge){ge.forEach(ke=>{var Ne;const We=(0,oe.Tv)(ke,(Ne=this.options)===null||Ne===void 0?void 0:Ne.source);this.featureVectors[ke.id]=We})}selectModelForScoring(){return this.model}scoreItems(ve,ge){var ke;const Ne={source:(ke=this.options)===null||ke===void 0?void 0:ke.source},We=this.selectModelForScoring();return ge.map(Oe=>{var be;const Ke=this.featureVectors[Oe.id],Fe=We.score(Ke,Ne);let J;return!((be=this.options)===null||be===void 0)&&be.explain&&(J=We.explain(Ke,Ne)),{...Oe,modelScore:Fe,featureVectorRaw:Ke,explain:J}})}sortByScore(ve){var ge,ke;return ve.sort((Ne,We)=>((ge=We==null?void 0:We.modelScore)!==null&&ge!==void 0?ge:0)-((ke=Ne==null?void 0:Ne.modelScore)!==null&&ke!==void 0?ke:0))}constructor({query:ve,options:ge={},teamId:ke=null,enterpriseId:Ne=null}){this.query=ve,this.options=ge;let We=ge.model;We===void 0&&(We=de);var Oe;const be=this.getModel(We,ke||Ne,(Oe=this.options.modelLocal)!==null&&Oe!==void 0?Oe:!1);this.model=be.model,this.teamId=ke,this.enterpriseId=Ne,this.featureVectors={}}},"Sorter")},4291335534:(N,y,e)=>{"use strict";e.d(y,{Og:()=>s,Pc:()=>n,dx:()=>c,fN:()=>o});var t=e(9219415264);function n(r){const a=(0,t.A)(r);return a&&a.toLowerCase()}E(n,"normalizeName");function o(r,a){const i=n(r.replace(/^[@\uFF20]/,"")),l=n(a.replace(/^[@\uFF20]/,"")),m=i==null?void 0:i.split(/[ ._]/),_=l==null?void 0:l.split(/[ \-._]/);if(!m||!_)return!1;for(let h=0;h<m.length;h++)if(m[h].split(/[-]/)[0]===_[0])return!0;return!1}E(o,"isNameMatchGoodEnoughForRealMention");function s(r,a){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return n(r)===n(a.substr(i,r.length))}E(s,"isNameSubstrMatch");function c(r,a){if(!r)return null;for(let i=0;i<r.length;i++){const l=r[i];if(l.name===a||l.ms_name===a||(0,t.A)(l.name)===a)return l}return null}E(c,"getBroadcastMatch")},2332798892:(N,y,e)=>{"use strict";e.d(y,{A:()=>l});var t=e(1703559452),n=e(7174777686),o=e(9219415264),s=e(3212336858);const c=["`","\xB4","\u02C6","\xA8","\u02DC"],r=new RegExp(`[${c.join("")}]$`);function a(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(r,"")}E(a,"trim_trailing_composition_char");const i={COMPOSITION_CHARS:c};function l(m,_){let{allowPartialMatches:h=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!_||!m)return!1;let d=_.toLowerCase().replace(/^\uFF0F/,"/");d=(0,o.A)(d),d=a(d);const f=[(0,s.fK)(m),(0,s.Bs)(m),...(0,s.qc)(m)||[]];return(0,t.A)(f,v=>{const u=(0,o.A)(v);return h?(0,n.A)(u,d):u===d})}E(l,"is_match_for_command")},475074488:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>r,lr:()=>a,nf:()=>i});var t=e(6313685253),n=e(4178261413),o=e(5797466484),s=e(9746734072),c=e(8840779375);function r(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,t.A)(m,(_,h,d)=>({..._,[(0,n.A)(d)]:h}),{})}E(r,"snakeCaseKeys");const a=5;function i(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2?arguments[2]:void 0;return l(m,_,h)}E(i,"snakeCaseKeysDeep");function l(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2?arguments[2]:void 0;var d;if(!(0,o.A)(m)&&!(0,s.A)(m)||_>((d=h==null?void 0:h.maxDepth)!==null&&d!==void 0?d:a)||!m)return m;const f=_+1;let v={};return(0,s.A)(m)?(0,s.A)(m)&&(v=(0,c.A)(m,u=>i(u,f,h))):v=(0,t.A)(m,(u,g,p)=>{var A;const C=!(h==null||(A=h.ignoredKeys)===null||A===void 0)&&A.includes(p)?p:(0,n.A)(p);return{...u,[C]:i(g,f,h)}},{}),v}E(l,"snakeCaseKeysDeepPrivate")},8664881451:(N,y,e)=>{"use strict";e.d(y,{Dd:()=>u,Rj:()=>p,TQ:()=>g,ZH:()=>f,_$:()=>h,ds:()=>v});var t=e(6998663753),n=e(938698950),o=e(4094753332),s=e(337319621);const c={},r={},a={},i=(0,s.Wo)({label:"SOUND-PLAYBACK"});function l(A){return`${A}-repeat`}E(l,"createRepeatKey");const m="default";let _=!1;const h=(0,t.A)(A=>{i.info(`Setting sound playback to prefer OS default sink: ${A}`),_=A}),d=E(async function(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;try{if(!A||!("setSinkId"in A)||(0,o.gm)())return;let T=m;_?T=C?(0,n._o)():m:T=(0,n._o)(),i.info(`Setting sound playback sink id to ${T}`),await A.setSinkId(T)}catch(T){i.warn(`Failed to set sink id with reason: ${T}`)}},"maybeSetAudioSinkId"),f=E(async function(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!A)return null;const T=u(A)||g(A);T.loop=!!C.loop,T.currentTime=0;var I;T.volume=(I=C.volume)!==null&&I!==void 0?I:1,await d(T,!!C.useSlackPreferredSink);try{await T.play()}catch(M){i.warn(`Failed to play sound: ${A} with reason: ${M}`)}},"play");function v(A){let{logFailure:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{logFailure:!0};const T=u(A),I=l(A),M=u(I);if(!T&&!M){C&&i.warn(`Tried to stop sound, but no sound was playing matching url: ${A}. Available cached element urls are ${Object.keys(c).join(", ")}`);return}if(M){M.pause(),clearTimeout(a[I]),r[I]=0;const D=M.src;M.src="",M.src=D}if(T){T.pause();const D=T.src;T.src="",T.src=D}}E(v,"stop");function u(A){return c[A]}E(u,"getAudioElement");function g(A){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const T=new Audio(A);C.ended&&T.addEventListener("ended",C.ended);const I=C.customCacheKey||A;return c[I]=T,T}E(g,"createAudioElement");function p(A,C,T){if(!A||!C||!T)return;const I=u(A);I&&I.removeEventListener(C,T)}E(p,"removeAudioElementListener")},6013332081:(N,y,e)=>{"use strict";e.d(y,{C8:()=>a,CE:()=>i,ND:()=>l,R$:()=>m,VN:()=>p,Xq:()=>g,zz:()=>_});var t=e(4459152581),n=e(2508519639),o=e(9907843289),s=e(2384837025),c=e(9157930672);function r(A,C){const T=(0,c.q)(A);if(T){for(const I of T.namedInputs)if(I.parameter===C)return I.value}}E(r,"extractNamedInput");function a(A){return r(A,"timezone")}E(a,"extractLocalizedTimezone");function i(A){const C=r(A,"locale");return(0,o.YI)(C)?C:void 0}E(i,"extractLocale");function l(A){return A?!!(0,c.q)(A):!1}E(l,"isIdWrappedWithMacro");function m(A){let{type:C,arrayItemType:T,id:I}=A;return C?!!_({type:C,arrayItemType:T,variableId:I}):!1}E(m,"isTypeMacroSupported");function _(A){let{type:C,callbackId:T,fromRichText:I,arrayItemType:M,variableId:D,parameterType:O}=A;var S,R;if(!((S=s.ss[C])===null||S===void 0)&&S.call(s.ss,{})){const F=s.ss[C]({parameterType:O});return h({options:F,callbackId:T,fromRichText:I})}if(C===n.TE.Array&&M){var U;const F=(U=s.Wy[M])===null||U===void 0?void 0:U.call(s.Wy);return h({options:F,callbackId:T,fromRichText:I})}if(C===n.TE.String){var P,L;return(L=d(D))!==null&&L!==void 0?L:(P=s.ss[C])===null||P===void 0?void 0:P.call(s.ss,{parameterType:O})}return(R=s.ss[C])===null||R===void 0?void 0:R.call(s.ss,{parameterType:O})}E(_,"getMacroOptions");function h(A){let{options:C,callbackId:T,fromRichText:I}=A;if(!T)return C;const M=Object.entries(C??{}).filter(D=>{let[,O]=D;const{macroDetails:S,onlyRichTextAllowed:R,disallowedCallbackIds:U,allowedCallbackIds:P}=O;return!I&&(S==null?void 0:S.outputParameter.type)==="slack#/types/blocks"||R&&!I?!1:U?!U.includes(T):P?P.includes(T):!0});return Object.fromEntries(M)}E(h,"filterMacroOptions");function d(A){if(A!=null&&A.includes("__reaction"))return s.ss[n.sR.CustomTypeEmojiReaction]({})}E(d,"getMacroOptionsFromId");function f(A,C){if(A!=null&&A.includes("__reaction"))return s.T$[n.sR.CustomTypeEmojiReaction](C)}E(f,"getDefaultMacroFromId");function v(A,C){let{type:T,variableId:I}=A;var M,D;return(D=f(I,C))!==null&&D!==void 0?D:(M=s.T$[T])===null||M===void 0?void 0:M.call(s.T$,C)}E(v,"getDefaultMacro");function u(A,C,T,I){var M,D,O,S;if(A&&(!((M=s.fU[A])===null||M===void 0||(D=M[T])===null||D===void 0)&&D.call(M,I)))return s.fU[A][T](I);if(C&&(!((O=s.fU[C])===null||O===void 0||(S=O[T])===null||S===void 0)&&S.call(O,I)))return s.fU[C][T](I)}E(u,"getDefaultMacroForStepOrApp");function g(A,C){const T=p(A,C);return T?{...A,id:T}:A}E(g,"applyDefaultMacroForVariable");function p(A,C){const{id:T,type:I,items:M,sourceSubtype:D}=A,O=M&&M.type,R=I===n.TE.Array&&O?O:I;var U;const P=(U=u(C==null?void 0:C.stepId,C==null?void 0:C.appId,R,{isReactionTriggerInsideGsheetStep:D===t.$.ReactionAdded&&(C==null?void 0:C.appId)===s.xM,parameterType:C==null?void 0:C.parameterType}))!==null&&U!==void 0?U:v({type:R,variableId:T},{parameterType:C==null?void 0:C.parameterType});if(P){var L;const F=(L=_({type:I,arrayItemType:O,callbackId:C==null?void 0:C.callbackId,variableId:T,fromRichText:C==null?void 0:C.fromRichText,parameterType:C==null?void 0:C.parameterType}))===null||L===void 0?void 0:L[P];if(F)return F.wrapWithMacro(T,C)}}E(p,"wrapIdWithDefaultMacro")},4244114639:(N,y,e)=>{"use strict";e.d(y,{A:()=>b});var t=e(4711108074),n=e.n(t),o=e(6717607339),s=e(6217320234),c=e(6313685253),r=e(8786006583),a=e(1699044291),i=e(2774532222),l=e(1022424641),m=e(8283510982),_=e(2048590538),h=e(9283953805);function d(k,B){for(let W=0;W<k.length;W++){const K=k[W];K==="`"||K==="\uFF40"||K.match(/\s/)||K.match(">")||K.match("\uFF1E")?B.delete(1):B.retain(1)}return B}E(d,"deleteBackticksAndWhitespace");function f(k,B){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const H=k&&k.ops;if(!H)return[new(n()),K];let z=new(n()),Q=!1;const q=(0,h.A)(H),$=q.match(_.qv)||q.match(_.K),le=q.match(/```|\uFF40\uFF40\uFF40/);$!=null&&$[0]&&(($==null?void 0:$.index)||0)<((le==null?void 0:le.index)||0)?Q=!0:K=!1;let te="";B&&B.ops&&(te=(0,h.A)(B.ops));const ce=[];[m.u_,m.Xr].forEach(Ae=>{q.replace(Ae,(ye,oe,ee,V,w)=>{if(!ee||!ee.length)return;const Y=q[w+ye.length],G=Y&&Y.match(/\s/)?`${V}${Y}`:V;ce.push({phraseToFormatPrefix:oe,phraseToFormat:ee,phraseToFormatSuffix:G,matchOffset:w,backTicksStart:w+oe.length-3,backTicksEnd:w+oe.length+ee.length+3})})});const me=(0,s.A)(ce,"matchOffset"),_e=(0,c.A)(me,(Ae,ye)=>{const oe=(0,r.A)(Ae);return(!oe||oe.backTicksEnd<=ye.backTicksStart)&&Ae.push(ye),Ae},[]);return(0,a.A)(_e).forEach((Ae,ye)=>{let{phraseToFormatPrefix:oe,phraseToFormat:ee,phraseToFormatSuffix:V,matchOffset:w}=Ae,Y=new(n());Y.retain(w);const Z=_.zd.test(oe)||Q||K?1:void 0,se=(0,i.A)(oe,`
`);se?(Y.retain(1),Y=d(oe.substring(1),Y)):Y=d(oe,Y),!se&&(w>0||te&&!(0,l.A)(te,`
`))&&Y.insert(`
`);const ae=_e[ye+1];ae&&w===ae.backTicksEnd&&Y.insert(`
`);const re=ee.split(`
`);if(re.forEach((pe,de)=>{if(Y.retain(pe.length),de===0&&pe.length===0)Y.delete(1);else if(de!==re.length-1){const ie={"code-block":!0};Z&&(ie.border=Z),Y.retain(1,ie)}}),(0,r.A)(re)!==""){const pe={"code-block":!0};Z&&(pe.border=Z),Y.insert(`
`,pe)}d(V,Y),z=z.compose(Y)}),[z,K]}E(f,"buildMarkdownChangeDeltaForCodeBlocks");var v=e(8571983633),u=e(8389327410),g=e(7582939986);const p=["*","-"];function A(k){return p.includes(k)?u.L1.BULLET:k.match(m.X$)?u.L1.ORDERED:""}E(A,"determineListTypeFromListSymbol");const C=4;function T(k,B){let W=B;const K=k&&k.ops;if(!K)return[new(n()),W];let H=new(n()),z=-1,Q="",q=0,$=!1,le={};const te=(0,h.A)(K),ce=[...te.matchAll(m.u_)],me=[],_e=te.match(_.qv)||te.match(_.K);_e!=null&&_e[0]&&($=!0,W=!0);const Ae=m.Dk.test(te);return te.replace(m.AY,(oe,ee,V,w,Y,G,Z,se)=>{const ae=se,re=ae+ee.length+V.length+w.length+Y.length,pe=A(w);if((ce||[]).some(Oe=>se>((Oe==null?void 0:Oe.index)||0)&&re+G.length<=((Oe==null?void 0:Oe.index)||0)+Oe[0].length))return;let ie=V.length?Math.floor(V.length/C):0;ie=Math.min(g.Az-1,ie);const he=te.substring(te.indexOf(oe)),ve=te.substring(te.indexOf(oe)-2,te.indexOf(oe));if(pe===u.L1.ORDERED){if(!Ae||ie===0&&le[ie]===void 0&&w===m.v0&&!m.IK.test(he))return;if(/\n\n/.test(ve)&&w!==m.v0){le={};return}if((0,v.A)(le[ie])&&w!==m.v0)return}let ge={list:pe||!1,indent:ie,border:void 0};(ee.length||$)&&(!_e||se>((_e==null?void 0:_e.index)||0))&&(ge={...ge,border:1});const ke=q+Q.length===se,Ne=z!==-1&&z<ie;(!ke||Ne)&&(le[ie]=0),z!==-1&&ke&&ie!==z&&le[ie]>0&&(ge={...ge,offset:le[ie]}),(0,v.A)(le[ie])&&(le[ie]=0),le[ie]+=1,z=ie,Q=oe,q=se;const We=new(n());Z?We.retain(se).retain(oe.length-1).retain(1,ge):We.retain(se).retain(oe.length).insert(`
`,ge),H=H.compose(We);for(let Oe=ae;Oe<re;Oe++)me.push(Oe)}),me.sort((oe,ee)=>ee-oe).forEach(oe=>{H=H.compose(new(n())().retain(oe).delete(1))}),[H,W]}E(T,"buildMarkdownChangeDeltaForLists");var I=e(9113979368),M=e(1703559452),D=e(8088280230),O=e(4584833195),S=e(9189262068),R=e(9592753406),U=e(7732872146);const P="mailto:";function L(k,B){const{protocol:W,pathname:K}=(0,U.Ay)(B);return W===P&&K===k?!0:k===B}E(L,"isValidLinkForMrkdwn");const F={link:[m.p7],bold:[m.wq,m.H_],italic:[m.dc,m.QX],code:[m.q6,m.j5],strike:[m.d9]};function x(k){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!k||!k.ops)return[new(n()),K];let H="";B&&B.ops&&(H=(0,h.A)(B.ops));let z=new(n()),Q=0;const q=[],$={},le=[];if(k.eachLine((me,_e)=>{le.push({line:me,attributes:_e})}),!le.length)return[z,K];let te=!1;return le.forEach(function(me){let{line:_e,attributes:Ae}=me,ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var oe,ee,V,w,Y;const G=_e&&_e.ops;let Z=!1,se=!1,ae=(0,h.A)(G);if((0,R.Zz)(Ae))te=!1;else if(te){if(Z=!0,ae.match(_.zd)&&!(ae.match(_.qv)||ae.match(_.K))){var re;se=!0;const Fe=((re=ae.match(_.zd))===null||re===void 0?void 0:re[0])||"";for(let J=0;J<Fe.length;J++)q.push(Q+J);ae=ae.substring(Fe.length),Q+=Fe.length}}else if(ye!==0||!H||(0,l.A)(H,`
`)){const Fe=ae.match(_.qv)||ae.match(_.K),J=ae.match(_.zd),ne=Fe||J;if(ye===0&&J&&(J==null?void 0:J.index)===0&&((J==null?void 0:J.input)===">"||(J==null?void 0:J.input)==="\uFF1E"||(J==null?void 0:J.input)==="> "||(J==null?void 0:J.input)==="\uFF1E "))return;if(!Fe&&K&&J&&(se=!0),ne){Z=!0;const je=ne[0];for(let nt=0;nt<je.length;nt++)q.push(Q+nt);if(ae=ae.substring(je.length),Q+=je.length,Fe&&(te=!0,K||(K=!0),ae==="")){const nt=new(n())().retain(Q+ae.length);nt.delete(1),z=z.compose(nt);return}const at=ae.match(_.zd);if(at){se=!0;const nt=at[0];for(let Ge=0;Ge<nt.length;Ge++)q.push(Q+Ge);ae=ae.substring(nt.length),Q+=nt.length}}}const pe=le[ye-1],de=le[ye+1],ie=le[ye],he=(pe==null||(oe=pe.attributes)===null||oe===void 0?void 0:oe.border)||0,ve=(de==null||(ee=de.attributes)===null||ee===void 0?void 0:ee.border)||0;if((he>=1&&ve>=1||he>=1&&_.zd.test(de==null||(V=de.line)===null||V===void 0||(w=V.ops)===null||w===void 0||(Y=w[0])===null||Y===void 0?void 0:Y.insert)&&K)&&(ae!=null&&ae.length)&&(0,I.A)(ie==null?void 0:ie.attributes)&&(Z=!0),he>=1&&(0,I.A)(ie==null?void 0:ie.attributes)&&de!==le[le.length-1]&&K&&(Z=!0),Z){const Ke=se?1:void 0,Fe=new(n())().retain(Q+ae.length),J={blockquote:!0};Ke&&(J.border=Ke),!(0,S.A)(k)&&ye===le.length-1?Fe.insert(`
`,J):Fe.retain(1,J),z=z.compose(Fe)}const ge=Ae["code-block"],{code:ke,...Ne}=F,We=[["code",ke],...Object.entries(Ne)],Oe=[],be=[];We.forEach(Ke=>{let[Fe,J]=Ke;J.forEach(ne=>{if(!(!ae||ge)){if(Fe==="link"){ae.replace(ne,(je,at,nt,Ge)=>{const Pe=Q+Ge,Le=Pe+je.length;if((0,M.A)(Oe,pt=>{let{codeStart:vt,codeEnd:yt}=pt;const Tt=Pe>=vt&&Pe<=yt,ft=Le>=vt&&Le<=yt;return Tt||ft}))return;const Me=(0,O.w)(je),Ce=(0,O.w)(nt),Qe=(0,D.A)({input:Ce,ignorePhoneMatches:!1,ignoreEmailMatches:!1,includePhoneMatchesWithTelPrefix:!0}),Be=Qe.length===1&&L(Qe[0].text,Ce);if(Qe.length===0||!Be)return;const we=Q+Ge+1,xe=at.length,Se=we+at.length,Ye=Q+Ge+Me.length,ot=Qe[0].url,_t=new(n())().retain(we).retain(xe,{link:ot});z=z.compose(_t),q.push(we-1);for(let pt=Se;pt<Ye;pt++)q.push(pt);be.push({linkStart:we,linkEnd:Ye}),$[Fe]=!0});return}ae.replace(ne,(je,at,nt,Ge)=>{const Pe=Q+Ge+at.length,Le=nt.length,ze=Pe+Le;if((0,M.A)(be,Qe=>{let{linkStart:Be,linkEnd:we}=Qe;return Pe>=Be&&ze<=we})||Fe==="italic"&&nt==="(\u30C4)")return;if(Fe==="code")Oe.push({codeStart:Pe,codeEnd:ze});else if((0,M.A)(Oe,Be=>{let{codeStart:we,codeEnd:xe}=Be;const Se=Pe>=we&&Pe<=xe,Ye=ze>=we&&ze<=xe;return Se||Ye}))return;const Ce=new(n())().retain(Pe).retain(Le,{[Fe]:!0});z=z.compose(Ce),q.push(Pe-1),q.push(Pe+Le),$[Fe]=!0})}})}),Q+=(ae?ae.length:0)+1}),q.sort((me,_e)=>_e-me).forEach(me=>{z=z.compose(new(n())().retain(me).delete(1))}),[z,K]}E(x,"buildMarkdownChangeDeltaForSingleLineFormatting");function b(k){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,K=!1;if(!k||!k.ops)return new(n());const H=W;let z=new(n()),Q=new(n());if(H){const[ye,oe]=T(k,K);z=ye,K=oe,Q=k.compose(z)}const[q,$]=f(H?Q:k,B||new(n()),K);K=$;const le=k.compose(q),te=H?Q.compose(q):le,[ce,me]=x(te,B,K);K=me;const _e=H?z.compose(q).compose(ce):q.compose(ce),Ae=(0,o.A)(k.compose(_e));return _e.compose(Ae)}E(b,"buildMarkdownChangeDelta")},512148710:(N,y,e)=>{"use strict";e.d(y,{Fh:()=>s,Hm:()=>r,Nb:()=>n,Sf:()=>o,z1:()=>c});var t=e(8668318456);const n=[".",",",";",":","?","!","]",")","*","_","~",">"],o=(()=>{const a=n.map(i=>`\\${i}`).join("");return new RegExp(`[${a}]$`)})(),s=[".",",",";",":","?","!","[","(","*","_","~","<"],c=[["(",")"],["[","]"],["<",">"]],r={bold:t.MsgFormattingInputFormat.BOLD,italic:t.MsgFormattingInputFormat.ITALIC,strike:t.MsgFormattingInputFormat.STRIKE,code:t.MsgFormattingInputFormat.CODE,underline:t.MsgFormattingInputFormat.UNDERLINE,link:t.MsgFormattingInputFormat.LINK,"bullet-list":t.MsgFormattingInputFormat.BULLET_LIST,"ordered-list":t.MsgFormattingInputFormat.ORDERED_LIST,"check-list":t.MsgFormattingInputFormat.CHECK_LIST,"code-block":t.MsgFormattingInputFormat.CODE_BLOCK,blockquote:t.MsgFormattingInputFormat.BLOCKQUOTE,h1:t.MsgFormattingInputFormat.H1,h2:t.MsgFormattingInputFormat.H2,hr:t.MsgFormattingInputFormat.HR}},5143598415:(N,y,e)=>{"use strict";e.d(y,{T:()=>b,A:()=>Q});var t=e(9816084745),n=e(8571983633),o=e(3783303734),s=e(9686962598),c=e(9746734072),r=e(897091071),a=e(3078252698),i=e(8891672792),l=e(4711108074),m=e.n(l),_=e(8389327410),h=e(2647703359),d=e(4897863105),f=e(4921059838),v=e(9936232041),u=e(8405695339),g=e(9189262068),p=e(4029059089),A=e(3183335528),C=e(9017940688),T=e(2827252833);function I(V){return!!(V&&V.attributes&&V.attributes.header)}E(I,"isOpHeader");var M=e(5701872082),D=e(308057085),O=e(5591756507),S=e(117342833),R=e(3904348617),U=e(796745801),P=e(3829348308),L=e(937317117);const F=/(^|\S)( +)(\n)/gm,x=/(^|\s|\{|\[|\(|>|<|\*|_|\/|"|\u201C|\u2018|'|,)#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,b=/^[0-9a-fA-F]{6}$/,{SECTION:k,LIST:B,PREFORMATTED:W,QUOTE:K,HEADER:H,DIVIDER:z}=_.Lv;function Q(){let{delta:V,options:{convertEmpty:w=!1,trimEndingWhitespace:Y=!1,trimStartingWhitespace:G=!0,expandTruncatedLinks:Z=!1,useExpandedRichText:se=!1}={},state:ae}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!V||!ae)return[];const re=(0,U.A)({delta:V,trimEnd:Y,trimStart:G});if((0,g.A)(re)||re.insert(`
`),re.length()<=1&&!w)return[];let pe=[],de=new(m()),ie=k;return(0,u.A)(re,(he,ve)=>{const ge=q(he,ve);ge!==ie&&(pe=$(pe,ie,de,ae,{stripTrailingWhitespace:!1,expandTruncatedLinks:Z}),ie=ge,de=new(m())),he.insert&&de.insert(he.insert,he.attributes)}),pe=$(pe,ie,de,ae,{stripTrailingWhitespace:!0,expandTruncatedLinks:Z}),{blocks:[{type:se?"expanded_rich_text":"rich_text",elements:pe}]}}E(Q,"convertDeltaToBlocks");function q(V,w){return(0,C.A)(w)?W:(0,p.A)(w)?K:(0,O.A)(w)?B:I(w)?H:(0,M.A)(V)?z:k}E(q,"getElementType");function $(V,w,Y,G){let Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{stripTrailingWhitespace:!1,expandTruncatedLinks:!1};if(Y.ops.length<=0)return V;let se=[];if(w===B)se=[],se=le(Y,G,{expandTruncatedLinks:Z.expandTruncatedLinks});else if(w===W){se=[];const ae=Y.filter(pe=>(0,C.A)(pe)),re=(ae==null?void 0:ae.length)>0&&(0,t.A)(ae,pe=>{var de;return((pe==null||(de=pe.attributes)===null||de===void 0?void 0:de.border)||0)>=1});se.push({type:W,border:re?1:0,elements:ce(Y,G,{...Z,preformattedStyle:!0,stripTrailingWhitespace:!0})})}else if(w===K){se=[];const ae=Y.filter(re=>{var pe;return(0,p.A)(re)&&((re==null||(pe=re.attributes)===null||pe===void 0?void 0:pe.border)||0)>=1});(ae==null?void 0:ae.length)>0?Y.eachLine((re,pe)=>{se.push({type:K,border:pe!=null&&pe.border?pe.border:void 0,elements:ce(re,G,{...Z,preformattedStyle:!1,stripTrailingWhitespace:!0})})}):se.push({type:K,elements:ce(Y,G,{...Z,preformattedStyle:!1,stripTrailingWhitespace:!0})})}else w===H?se=te(Y,G):w===z?(se=[],se.push({type:z})):(se=[],se.push({type:w,elements:ce(Y,G,{...Z,preformattedStyle:!1})}));return V.concat(se)}E($,"addDeltaToElements");function le(V,w){let Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{expandTruncatedLinks:!1};const G=[];let Z=null,se=null,ae=null,re={},pe=[];V.eachLine((ie,he)=>{if(Z===null&&(Z=he.list),se===null&&(se=he.indent||0),ae===null&&(ae=he.border||0),(0,n.A)(re[se])&&(re[se]=0),Z!==he.list||se!==(he.indent||0)){const ve={type:B,style:Z||"bullet",indent:se,border:ae,elements:pe.map(ge=>({type:k,elements:ge}))};Z==="ordered"&&re[se]>0&&(ve.offset=re[se]),G.push(ve),he.list!==_.L1.ORDERED&&he.list!==_.L1.BULLET&&he.list!==_.L1.CHECKED&&he.list!==_.L1.UNCHECKED?re={}:(se<(he.indent||0)&&he.list===_.L1.ORDERED&&(re[he.indent||0]=0),Z===_.L1.ORDERED&&(re[se]=(re[se]||0)+(0,o.A)(pe))),Z=he.list,se=he.indent||0,ae=he.border||0,pe=[]}pe.push(ce(new(m())(ie),w,{stripTrailingWhitespace:!1,preformattedStyle:!1,...Y}))});const de={type:B,style:Z||"bullet",indent:se||0,border:ae||0,elements:pe.map(ie=>({type:k,elements:ie}))};return Z==="ordered"&&!(0,s.A)(se)&&re[se]>0&&(de.offset=re[se]),G.push(de),G}E(le,"processDeltaAsList");function te(V,w){const Y=[];let G=null,Z=[],se=0;V.eachLine((re,pe)=>{if(G===null&&(G=pe.header),G!==pe.header||se>0&&(pe!=null&&pe.header)){const de={type:H,level:G||1,elements:Z};Y.push(de),Z=[],G=pe.header}Z=ce(new(m())(re),w,{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1}),se+=1});const ae={type:H,level:G||1,elements:Z};return Y.push(ae),Y}E(te,"processDeltaAsHeader");function ce(V,w){let Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1};const G=V.ops[V.ops.length-1];let Z=V;Y.stripTrailingWhitespace&&(G==null?void 0:G.insert)===`
`&&(Z=new(m())(V.ops.slice(0,V.ops.length-1)));let se=[];return Z.forEach(ae=>{let re;if((0,T.Ay)(ae)?re=ye(ae,w,{preformattedStyle:Y.preformattedStyle}):(0,S.Ay)(ae)&&!(0,S.zJ)(ae)&&!(0,S.gC)(ae)?re=ee(ae,w,{preformattedStyle:Y.preformattedStyle}):(0,D.Ay)(ae)?re=Ae(ae,{preformattedStyle:Y.preformattedStyle,expandTruncatedLinks:Y.expandTruncatedLinks}):(0,R.Ay)(ae)?re=oe(ae):re=_e(ae,{stripTrailingWhitespace:!!(Y.stripTrailingWhitespace&&ae===G),preformattedStyle:Y.preformattedStyle,skipConversions:!1}),!re)return;const pe=se.length&&se[se.length-1],de=(0,c.A)(re)?re.shift():re;de&&de.type==="text"&&!de.style&&pe&&pe.type==="text"&&!pe.style?se[se.length-1].text=`${se[se.length-1].text}${de.text}`:de&&se.push(de),(0,c.A)(re)&&re.length&&(se=se.concat(re))}),(0,r.A)(se)}E(ce,"createRichTextChunkElements");function me(V,w){const Y={};return w.attributes&&(w.attributes.bold&&(Y.bold=!0),w.attributes.italic&&(Y.italic=!0),w.attributes.strike&&(Y.strike=!0),w.attributes.code&&(Y.code=!0),w.attributes.unlink&&!(0,S.Ay)(w)&&!(0,T.Ay)(w)&&(Y.unlink=!0)),{...V,...(0,o.A)(Y)&&{style:Y}}}E(me,"annotateChunkWithStyle");function _e(V){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!1},Y=(0,a.A)(V.insert)?V.insert:"";if(w.stripTrailingWhitespace&&(Y=(0,i.A)(Y)),w.preformattedStyle||(Y=Y.replace(F,"$1$3")),!Y)return;const G=!w.skipConversions&&!w.preformattedStyle&&!(V.attributes&&V.attributes.code),Z={type:"text",text:Y},se=w.preformattedStyle?Z:me(Z,V);if(G){const ae=[];if(Y.replace(x,(de,ie,he,ve)=>{const ge=(0,i.A)(he,"_-.\u2026");if(ge.match(b)){const ke=ve+ie.length;ae.push({start:ke,end:ke+ge.length+1,color:`#${ge.toUpperCase()}`})}}),!ae.length)return se;const re=[];let pe=0;return ae.forEach(de=>{pe<de.start&&re.push({type:"text",text:Y.slice(pe,de.start)}),re.push({type:"color",value:de.color}),pe=de.end}),pe<Y.length&&re.push({type:"text",text:Y.slice(pe)}),re.map(de=>me(de,V))}return se}E(_e,"createTextChunkFromOp");function Ae(V){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1,expandTruncatedLinks:!1};var Y,G;const Z={type:"link",url:((Y=V.attributes)===null||Y===void 0?void 0:Y.link)||""};return(0,a.A)(V.insert)&&V.insert!==((G=V.attributes)===null||G===void 0?void 0:G.link)&&!(w.expandTruncatedLinks&&(0,D.uK)(V))&&(Z.text=V.insert),w.preformattedStyle?Z:me(Z,V)}E(Ae,"createLinkChunkFromOp");function ye(V,w){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||(0,A.A)(V))return _e({insert:(0,T.Um)(V)},{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const G=(0,T.Um)(V),Z={type:"emoji",name:""};if(w&&(0,f.A)(w,G)){var se;const{name:re="",unicode:pe=""}=(se=(0,P.i8)(w,G))!==null&&se!==void 0?se:{},[de]=re.split("::")||[];Z.name=de,Z.unicode=pe}else{var ae;const{skinTone:re="",name:pe=""}=(ae=(0,v.A)(G))!==null&&ae!==void 0?ae:{};Z.name=pe,re&&(Z.skin_tone=+re)}if(!(!Z.name&&!Z.unicode))return Z&&me(Z,V)}E(ye,"createEmojiChunkFromOp");function oe(V){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1};const Y={type:"workflowtoken",id:(0,R.PJ)(V),data_type:(0,R.sR)(V),property:(0,R.Lp)(V)};return(w==null?void 0:w.preformattedStyle)===!0?Y:me(Y,V)}E(oe,"createWorkflowTokenChunkFromOp");function ee(V,w){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||(0,A.A)(V))return _e(V,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const G=(0,S.I4)(V),Z=(0,S.zv)(V);let se;if((0,d.c)().includes(G))se=me({type:"broadcast",range:G.substr(2)},V);else if(G.charAt(0)==="S")se=me({type:"usergroup",usergroup_id:G},V);else if((0,S.BQ)(V))se=me({type:"channel",channel_id:G},V);else if((0,S.KT)(V)){const ae=(0,L.Lp)(w,G);ae&&(0,h.l7)(ae)?se=me({type:"list_record",file_id:G},V):se=me({type:"file",file_id:G},V)}else se=me({type:"user",user_id:G},V);if((0,a.A)(V.insert)&&V.insert.length>Z.length){const ae=V.insert.split(Z);return ae.length>1?(ae.shift(),ae.fill(se)):[se]}return Z===V.insert?[se]:_e(V,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0})}E(ee,"createMentionChunksFromOp")},8405695339:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n,o){n.eachLine((s,c)=>{s.insert(`
`,c);const r={insert:`
`,attributes:c};s.forEach(a=>{o(a,r)})})}E(t,"deltaForEachWithLineData")},1089076149:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(8841789548);function n(o,s,c){return(0,t.A)(o?o.ops:[]).substr(s,c)}E(n,"getDeltaSubStr")},8967399401:(N,y,e)=>{"use strict";e.d(y,{A:()=>c});var t=e(6696292586),n=e(8405695339),o=e(3726677001);const c=E((r,a)=>{if(!r||!(0,t.A)(a))return null;let i=0,l;return(0,n.A)(r,(m,_)=>{if(l)return;const h=i+(0,o.A)(m);if(a>=i&&a<h){const d=m.attributes||{},f=_.attributes||{};l={...d,...f}}i=h}),l},"getFormatAtIndex")},3726677001:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(3078252698),n=e(4200148118);function o(s){return s?(0,n.A)(s)?1:(0,t.A)(s.insert)?s.insert.length:1:0}E(o,"getOpLength")},8841789548:(N,y,e)=>{"use strict";e.d(y,{A:()=>r});var t=e(6313685253),n=e(3078252698),o=e(3183335528),s=e(4200148118),c=e(308057085);function r(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!a)return"";const l=i.embedReplacement||" ";return(0,t.A)(a,(_,h)=>{if((0,s.A)(h))return`${_}${l}`;if(i.replaceLinks&&(0,c.Ay)(h)||i.replaceCode&&(0,o.A)(h)){const d=(0,n.A)(h.insert)?h.insert.length:0,f=Array.apply(null,Array(d+1)).join(l);return`${_}${f}`}return _+h.insert},"")}E(r,"getTextFromOps")},9189262068:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(8786006583),n=e(4547907890);function o(s){if(!s||s.length()===0)return!1;const c=s.slice(s.length()-1);if(!c)return!1;const r=(0,t.A)(c.ops)||{};return!r||!(0,n.A)(r)?!1:r.insert===`
`}E(o,"hasTrailingNewline")},9592753406:(N,y,e)=>{"use strict";e.d(y,{Fr:()=>c,G$:()=>s,Zz:()=>o});var t=e(1703559452),n=e(3867135795);function o(r){if(!r)return!1;const a=["code-block","blockquote","list"];return(0,t.A)(a,l=>(0,n.A)(r,l))}E(o,"doesAttributesContainBlockFormatting");function s(r){if(!r)return!1;const{insert:a,attributes:i}=r;return a!==`
`||!i?!1:o(i)}E(s,"isOpOnlyBlockFormatting");function c(r){if(!r)return!1;const a=r.ops;if(!a||a.length!==1)return!1;const i=r.ops[0];return i?s(i):!1}E(c,"isDeltaOnlyBlockFormatting")},5939082889:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n){return!n||!n.ops?!0:!(n.ops.length>0)}E(t,"isDeltaEmpty")},1615300784:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(8088280230),n=e(308057085);function o(s){let{userDidDelete:c,userDidInsertSpace:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{userDidDelete:void 0,userDidInsertSpace:void 0};var a;if(!(0,n.Ay)(s))return!1;const i=(s==null||(a=s.attributes)===null||a===void 0?void 0:a.link)||"",l=(0,n.AQ)(s),m=i==null?void 0:i.match(/^(https?:\/\/)(.+)/);if(!m)return!1;const _=m[2].split(".");if((c||r)&&_.length===2&&_[0]===s.insert)return!1;const h=`${m[1]}${s.insert}`;if(!c&&!r&&h.length>((i==null?void 0:i.length)||0)&&h.substr(0,i==null?void 0:i.length)===i)return!0;const d=i==null?void 0:i.substr((l==null?void 0:l.length)*-1),f=i==null?void 0:i.substr(0,h.length);if(c&&(f===h||d===s.insert&&!(0,t.A)({input:h}).length))return!0;if(r){const v=l==null?void 0:l.split(" ");if(v.length===1||v.length===2){const u=`${m[1]}${v[0]}`,g=v[1]||"";if(u.length+g.length<=((i==null?void 0:i.length)||0)&&(i==null?void 0:i.substr(0,u.length))===u&&(i.substr(g.length*-1)===g||g.length===0))return!0}}return!1}E(o,"isOpBrokenAutolink")},3183335528:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n){return!!(n&&n.insert&&n.attributes&&n.attributes.code)}E(t,"isOpCode")},4200148118:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(2827252833),n=e(5701872082),o=e(3904348617);function s(c){return!!((0,t.Ay)(c)||(0,o.Ay)(c)||(0,n.A)(c))}E(s,"isOpEmbed")},5701872082:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(3078252698);function n(o){var s;return!!(o&&(o!=null&&o.insert)&&!(0,t.A)(o.insert)&&(!(o==null||(s=o.insert)===null||s===void 0)&&s.slackhorizontalrule))}E(n,"isOpHorizontalRule")},9935649141:(N,y,e)=>{"use strict";e.d(y,{Ay:()=>F,L2:()=>L});var t=e(2208015175),n=e(8086952004),o=e(235108050),s=e(1649982175),c=e(9113979368),r=e(4711108074),a=e.n(r),i=e(8088280230),l=e(512148710),m=e(8405695339),_=e(5354964300),h=e(3726677001),d=e(8841789548),f=e(9189262068),v=e(1615300784),u=e(9017940688),g=e(4200148118),p=e(308057085),A=e(117342833),C=e(4547907890);function T(x){var b;return!!(!(x==null||(b=x.attributes)===null||b===void 0)&&b.unlink)}E(T,"isOpUnlink");var I=e(4332759902);const M=/https?:\/\/.*\.(fbcdn|cdninstagram|twimg)\.(net|com)\/.*(\.|=)(jpe?g|gif|png|svg|bmp)/,D=null,O=E(x=>x&&(M.test(x)?x:x.split("?")[0]),"sanitizeImageUrlWithParams"),S=E(x=>{const b=O(x);return b?/(\.|=)(jpe?g|gif|png|svg|bmp)/.test(b):!1},"isImageUrl"),R=E(x=>{if(x){for(let b=0;b<D.length;b++)if(x.indexOf(D[b])>=0)return!0}return!1},"isImageFromDeniedDomains"),U=E(function(x){let{ignoreExistingLinks:b,limitCodeBlockLinksToFullURLs:k,ignoreUnbalancedParentheses:B=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!x)return new(a());const W=(0,f.A)(x),K=new(a());return(0,m.A)(x,(H,z)=>{const Q=(0,u.A)(z);if(!(0,C.A)(H)||b&&(0,p.Ay)(H)||T(H)||(0,p.uK)(H)){K.insert(H.insert||"",{...H.attributes});return}const q=(0,_.A)(H),$=k&&Q,le=(0,i.A)({input:q,ignorePhoneMatches:$,ignoreEmailMatches:$,ignoreLinksWithoutHttp:$,ignoreUnbalancedParentheses:!!B});if(!le.length){K.insert(H.insert||"",{...H.attributes});return}let te=0;const ce=H&&H.attributes;if((0,t.A)(le,me=>{const{url:_e,text:Ae,offset:ye}=me||{};ye>te&&(K.insert(q.slice(te,ye),ce),te=ye),!(!_e||!Ae)&&(K.insert(Ae,{...ce,link:_e}),te=ye+Ae.length)}),te<q.length&&te>=0){const me=q.slice(te);K.insert(me,ce)}}),W?K:(0,I.A)(K)},"linkifyDeltaText"),P=E((x,b,k)=>{const B=b+(0,h.A)(x);return(0,n.A)(k,W=>{if(W.text===x.insert)return!1;const K=W.offset,H=W.offset+W.text.length;return K>=b&&K<=B||H<=b&&H<=B||K<b&&H<=B})},"isOpInRangeOfMatches"),L=E(x=>{if(!x)return new(a());const b=(0,o.A)(l.Fh.concat(l.Nb)),k=(0,d.A)(x.ops,{replaceLinks:!1,replaceCode:!0,embedReplacement:" "}),B=(0,i.A)({input:k});let W=0;const K=x.map(z=>{const Q=W,q=(0,h.A)(z);let $=!1;if(W+=q,!(0,p.Ay)(z))return z;if((0,g.A)(z)||(0,A.Ay)(z))return{...z,attributes:{...(0,s.A)(z.attributes,"link")}};if((0,p.uK)(z))return z;P(z,Q,B)&&($=!0);const le=Q===0?" ":k.substr(Q-1,1),te=le.match(/^\s$/)||b.includes(le),ce=Q+q===k.length?" ":k.substr(Q+q,1),me=b.includes(ce)||ce.match(/^\s$/);if(!$&&(!te||!me)){var _e;const Ae=(0,_.A)(z),ye=!$&&(0,i.A)({input:Ae});ye&&ye.length===1&&ye[0].url===((_e=z.attributes)===null||_e===void 0?void 0:_e.link)&&($=!0)}if(!$&&(0,v.A)(z)&&($=!0),$){const Ae={insert:z.insert},ye={...z.attributes};return delete ye.link,(0,c.A)(ye)||(Ae.attributes=ye),Ae}return z}),H=new(a())().compose(new(a())(K));return U(H)},"relinkifyDeltaTextWhileRetainingExistingLinks"),F=U},6717607339:(N,y,e)=>{"use strict";e.d(y,{A:()=>A});var t=e(8840779375),n=e(9087248458),o=e(4103274853),s=e(7156798807),c=e(4711108074),r=e.n(c),a=e(8405695339),i=e(3726677001),l=e(3183335528),m=e(9017940688),_=e(2827252833),h=e(308057085),d=e(117342833),f=e(3904348617),v=e(3078252698),u=e(2547625647),g=e(6013332081);function p(C){if(!(0,f.Ay)(C))return!1;const{type:T,property:I,id:M}=C.insert.workflowtoken;if((0,v.A)(C.insert))return!1;if(T===u.GA)return!0;if(T===u.sD)return I===u.yG||I===u.tj;if(T==="string")return!0;const D=(0,g.zz)({type:T,variableId:M});if(D)for(const R of Object.values(D)){var O,S;if(((O=R.macroDetails)===null||O===void 0||(S=O.outputParameter)===null||S===void 0?void 0:S.type)==="string")return!0}return!1}E(p,"isOpWorkflowTokenForText");function A(C){let{removeEmbedsFromCode:T=!0,stripAllInlineFormatting:I=!1,stripInlineFormattingFromCodeBlock:M=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!C)return new(r());if(T&&M&&!I&&!C.ops.some(O=>(0,l.A)(O)||(0,m.A)(O)))return new(r())().retain(C.length());const D=new(r());return(0,a.A)(C,(O,S)=>{const R=(0,i.A)(O),U=(0,l.A)(O)||(0,m.A)(S);if(T&&U||I){let P={...O.attributes};if((0,m.A)(S)&&(P={}),(0,_.Ay)(O)){D.delete(1).insert((0,_.Um)(O),{...P});return}if((0,d.Ay)(O)){delete P.slackmention,D.delete((0,d._z)(O).length).insert((0,d._z)(O),{...P});return}if((0,h.Ay)(O)){delete P.link,D.delete((0,h.AQ)(O).length).insert((0,h.AQ)(O),{...P});return}if((0,f.Ay)(O)&&!p(O)){D.delete(1);return}}if((0,m.A)(S)&&M||I){const P=["bold","italic","strike","code","underline","slackmention","unlink"],L=(0,t.A)(O.attributes||{},(x,b)=>({key:b,value:x})).filter(x=>!!x.value).map(x=>x.key),F=(0,n.A)(P,L);D.retain(R,(0,o.A)((0,s.A)(F,x=>x),()=>!1));return}R&&D.retain(R)}),D}E(A,"stripFormattingFromDelta")},4332759902:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(8786006583),n=e(9592753406);function o(s){if(!s||s.length()===0)return s;const c=s.slice(s.length()-1);if(!c)return s;const r=(0,t.A)(c.ops)||{};return!r||(r==null?void 0:r.insert)!==`
`||(0,n.G$)(r)?s:s.slice(0,s.length()-1)}E(o,"stripTrailingNewline")},796745801:(N,y,e)=>{"use strict";e.d(y,{A:()=>u,Z:()=>v});var t=e(498506970),n=e(8825197919),o=e(8289365785),s=e(2749086681),c=e(8786006583),r=e(4711108074),a=e.n(r),i=e(8967399401),l=e(9592753406),m=e(5939082889),_=e(4547907890);const h=/^\s+$/,d=/^\s+/,f=/\s+$/;function v(){let{ops:g,trimStart:p=!0,trimEnd:A=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!g||!g.length||!p&&!A)return g;let C=(0,t.A)(g);if(p){C=(0,n.A)(C,M=>(0,_.A)(M)&&((0,_.$)(M).match(h)||M.insert==="")&&!(0,l.Zz)(M.attributes||{}));const T=(0,o.A)(C)||{},I=(0,i.A)(new(a())(C),0);if((0,_.A)(T||{})&&!(0,l.Zz)(I||{})){const M=(0,_.$)(T).replace(d,()=>"");T.insert=M}}if(A){C=(0,s.A)(C,I=>(0,_.A)(I)&&((0,_.$)(I).match(h)||I.insert==="")&&!(0,l.Zz)(I.attributes||{}));const T=(0,c.A)(C)||{};if((0,_.A)(T)&&!(0,l.Zz)(T.attributes||{})){const I=(0,_.$)(T).replace(f,()=>"");T.insert=I}}return C}E(v,"trimOps");function u(){let{delta:g,trimStart:p=!0,trimEnd:A=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g&&(0,m.A)(g))return g;const C=g==null?void 0:g.ops,T=v({ops:C,trimStart:p,trimEnd:A});return new(a())(T)}E(u,"trimDelta")},4504227813:(N,y,e)=>{"use strict";e.d(y,{A:()=>m});var t=e(1699044291),n=e(4711108074),o=e.n(n),s=e(3726677001),c=e(4200148118),r=e(2827252833),a=e(8283510982),i=e(9283953805);function l(_){const h=_&&_.ops;if(!h)return[];const d=(0,i.A)(h),f=[];return d.replace(a.u_,(v,u,g,p,A)=>{f.push({index:A+u.length,length:g?g.length:0})}),f}E(l,"findMarkdownCodeBlockRanges");function m(_){if(!(_&&_.ops))return new(o());let d=new(o());const f=l(_);return(0,t.A)(f).forEach(v=>{let{index:u,length:g}=v;const p=new(o());p.retain(u),_.slice(u,u+g).forEach(A=>{(0,c.A)(A)?(p.delete(1),(0,r.Ay)(A)&&p.insert((0,r.Um)(A))):p.retain((0,s.A)(A),{bold:!1,italic:!1,strike:!1,code:!1,underline:!1,slackmention:!1,link:!1,unlink:!1})}),d=d.compose(p)}),d}E(m,"buildChangeDeltaToFixEmbedsInTripleBackticks")},2048590538:(N,y,e)=>{"use strict";e.d(y,{K:()=>c,Ru:()=>n,hJ:()=>o,qv:()=>s,zd:()=>r});var t=e(8283510982);const n={"*":"bold",_:"italic","`":"code","~":"strike",">":"blockquote","\uFF0A":"bold","\uFF40":"code","\uFF3F":"italic","\uFF1E":"blockquote"},o={"*":t.wq,_:t.dc,"`":t.q6,"~":t.d9,"\uFF0A":t.H_,"\uFF40":t.j5,"\uFF3F":t.QX},s=/^>>> ?/m,c=/^\uFF1E\uFF1E\uFF1E ?/m,r=/^[>\uFF1E]($| |(?=[^_]))/},9283953805:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(8841789548),n=e(8283510982);function o(s){const c=!(0,t.A)(s).match(n.zI);return(0,t.A)(s,{replaceLinks:c,replaceCode:!0,embedReplacement:"!"})}E(o,"getTextForRegex")},2414816894:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(4897863105);function n(o){return(0,t.c)().indexOf(o)!==-1}E(n,"mentionIdIsKeyword")},5003409852:(N,y,e)=>{"use strict";e.d(y,{A:()=>t});function t(n){return n==="UNVERIFIED"}E(t,"mentionIdIsUnverified")},5619542846:(N,y,e)=>{"use strict";e.d(y,{A:()=>s});var t=e(3803027235),n=e.n(t);const o={"&Aacute;":"\xC1","&Aacute":"\xC1","&aacute;":"\xE1","&aacute":"\xE1","&Abreve;":"\u0102","&abreve;":"\u0103","&ac;":"\u223E","&acd;":"\u223F","&acE;":"\u223E\u0333","&Acirc;":"\xC2","&Acirc":"\xC2","&acirc;":"\xE2","&acirc":"\xE2","&acute;":"\xB4","&acute":"\xB4","&Acy;":"\u0410","&acy;":"\u0430","&AElig;":"\xC6","&AElig":"\xC6","&aelig;":"\xE6","&aelig":"\xE6","&af;":"\u2061","&Afr;":"\u{1D504}","&afr;":"\u{1D51E}","&Agrave;":"\xC0","&Agrave":"\xC0","&agrave;":"\xE0","&agrave":"\xE0","&alefsym;":"\u2135","&aleph;":"\u2135","&Alpha;":"\u0391","&alpha;":"\u03B1","&Amacr;":"\u0100","&amacr;":"\u0101","&amalg;":"\u2A3F","&AMP;":"&","&AMP":"&","&amp;":"&","&amp":"&","&And;":"\u2A53","&and;":"\u2227","&andand;":"\u2A55","&andd;":"\u2A5C","&andslope;":"\u2A58","&andv;":"\u2A5A","&ang;":"\u2220","&ange;":"\u29A4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29A8","&angmsdab;":"\u29A9","&angmsdac;":"\u29AA","&angmsdad;":"\u29AB","&angmsdae;":"\u29AC","&angmsdaf;":"\u29AD","&angmsdag;":"\u29AE","&angmsdah;":"\u29AF","&angrt;":"\u221F","&angrtvb;":"\u22BE","&angrtvbd;":"\u299D","&angsph;":"\u2222","&angst;":"\xC5","&angzarr;":"\u237C","&Aogon;":"\u0104","&aogon;":"\u0105","&Aopf;":"\u{1D538}","&aopf;":"\u{1D552}","&ap;":"\u2248","&apacir;":"\u2A6F","&apE;":"\u2A70","&ape;":"\u224A","&apid;":"\u224B","&apos;":"'","&ApplyFunction;":"\u2061","&approx;":"\u2248","&approxeq;":"\u224A","&Aring;":"\xC5","&Aring":"\xC5","&aring;":"\xE5","&aring":"\xE5","&Ascr;":"\u{1D49C}","&ascr;":"\u{1D4B6}","&Assign;":"\u2254","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224D","&Atilde;":"\xC3","&Atilde":"\xC3","&atilde;":"\xE3","&atilde":"\xE3","&Auml;":"\xC4","&Auml":"\xC4","&auml;":"\xE4","&auml":"\xE4","&awconint;":"\u2233","&awint;":"\u2A11","&backcong;":"\u224C","&backepsilon;":"\u03F6","&backprime;":"\u2035","&backsim;":"\u223D","&backsimeq;":"\u22CD","&Backslash;":"\u2216","&Barv;":"\u2AE7","&barvee;":"\u22BD","&Barwed;":"\u2306","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23B5","&bbrktbrk;":"\u23B6","&bcong;":"\u224C","&Bcy;":"\u0411","&bcy;":"\u0431","&bdquo;":"\u201E","&becaus;":"\u2235","&Because;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29B0","&bepsi;":"\u03F6","&bernou;":"\u212C","&Bernoullis;":"\u212C","&Beta;":"\u0392","&beta;":"\u03B2","&beth;":"\u2136","&between;":"\u226C","&Bfr;":"\u{1D505}","&bfr;":"\u{1D51F}","&bigcap;":"\u22C2","&bigcirc;":"\u25EF","&bigcup;":"\u22C3","&bigodot;":"\u2A00","&bigoplus;":"\u2A01","&bigotimes;":"\u2A02","&bigsqcup;":"\u2A06","&bigstar;":"\u2605","&bigtriangledown;":"\u25BD","&bigtriangleup;":"\u25B3","&biguplus;":"\u2A04","&bigvee;":"\u22C1","&bigwedge;":"\u22C0","&bkarow;":"\u290D","&blacklozenge;":"\u29EB","&blacksquare;":"\u25AA","&blacktriangle;":"\u25B4","&blacktriangledown;":"\u25BE","&blacktriangleleft;":"\u25C2","&blacktriangleright;":"\u25B8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20E5","&bnequiv;":"\u2261\u20E5","&bNot;":"\u2AED","&bnot;":"\u2310","&Bopf;":"\u{1D539}","&bopf;":"\u{1D553}","&bot;":"\u22A5","&bottom;":"\u22A5","&bowtie;":"\u22C8","&boxbox;":"\u29C9","&boxDL;":"\u2557","&boxDl;":"\u2556","&boxdL;":"\u2555","&boxdl;":"\u2510","&boxDR;":"\u2554","&boxDr;":"\u2553","&boxdR;":"\u2552","&boxdr;":"\u250C","&boxH;":"\u2550","&boxh;":"\u2500","&boxHD;":"\u2566","&boxHd;":"\u2564","&boxhD;":"\u2565","&boxhd;":"\u252C","&boxHU;":"\u2569","&boxHu;":"\u2567","&boxhU;":"\u2568","&boxhu;":"\u2534","&boxminus;":"\u229F","&boxplus;":"\u229E","&boxtimes;":"\u22A0","&boxUL;":"\u255D","&boxUl;":"\u255C","&boxuL;":"\u255B","&boxul;":"\u2518","&boxUR;":"\u255A","&boxUr;":"\u2559","&boxuR;":"\u2558","&boxur;":"\u2514","&boxV;":"\u2551","&boxv;":"\u2502","&boxVH;":"\u256C","&boxVh;":"\u256B","&boxvH;":"\u256A","&boxvh;":"\u253C","&boxVL;":"\u2563","&boxVl;":"\u2562","&boxvL;":"\u2561","&boxvl;":"\u2524","&boxVR;":"\u2560","&boxVr;":"\u255F","&boxvR;":"\u255E","&boxvr;":"\u251C","&bprime;":"\u2035","&Breve;":"\u02D8","&breve;":"\u02D8","&brvbar;":"\xA6","&brvbar":"\xA6","&Bscr;":"\u212C","&bscr;":"\u{1D4B7}","&bsemi;":"\u204F","&bsim;":"\u223D","&bsime;":"\u22CD","&bsol;":"\\","&bsolb;":"\u29C5","&bsolhsub;":"\u27C8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224E","&bumpE;":"\u2AAE","&bumpe;":"\u224F","&Bumpeq;":"\u224E","&bumpeq;":"\u224F","&Cacute;":"\u0106","&cacute;":"\u0107","&Cap;":"\u22D2","&cap;":"\u2229","&capand;":"\u2A44","&capbrcup;":"\u2A49","&capcap;":"\u2A4B","&capcup;":"\u2A47","&capdot;":"\u2A40","&CapitalDifferentialD;":"\u2145","&caps;":"\u2229\uFE00","&caret;":"\u2041","&caron;":"\u02C7","&Cayleys;":"\u212D","&ccaps;":"\u2A4D","&Ccaron;":"\u010C","&ccaron;":"\u010D","&Ccedil;":"\xC7","&Ccedil":"\xC7","&ccedil;":"\xE7","&ccedil":"\xE7","&Ccirc;":"\u0108","&ccirc;":"\u0109","&Cconint;":"\u2230","&ccups;":"\u2A4C","&ccupssm;":"\u2A50","&Cdot;":"\u010A","&cdot;":"\u010B","&cedil;":"\xB8","&cedil":"\xB8","&Cedilla;":"\xB8","&cemptyv;":"\u29B2","&cent;":"\xA2","&cent":"\xA2","&CenterDot;":"\xB7","&centerdot;":"\xB7","&Cfr;":"\u212D","&cfr;":"\u{1D520}","&CHcy;":"\u0427","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&Chi;":"\u03A7","&chi;":"\u03C7","&cir;":"\u25CB","&circ;":"\u02C6","&circeq;":"\u2257","&circlearrowleft;":"\u21BA","&circlearrowright;":"\u21BB","&circledast;":"\u229B","&circledcirc;":"\u229A","&circleddash;":"\u229D","&CircleDot;":"\u2299","&circledR;":"\xAE","&circledS;":"\u24C8","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&cirE;":"\u29C3","&cire;":"\u2257","&cirfnint;":"\u2A10","&cirmid;":"\u2AEF","&cirscir;":"\u29C2","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201D","&CloseCurlyQuote;":"\u2019","&clubs;":"\u2663","&clubsuit;":"\u2663","&Colon;":"\u2237","&colon;":":","&Colone;":"\u2A74","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2A6D","&Congruent;":"\u2261","&Conint;":"\u222F","&conint;":"\u222E","&ContourIntegral;":"\u222E","&Copf;":"\u2102","&copf;":"\u{1D554}","&coprod;":"\u2210","&Coproduct;":"\u2210","&COPY;":"\xA9","&COPY":"\xA9","&copy;":"\xA9","&copy":"\xA9","&copysr;":"\u2117","&CounterClockwiseContourIntegral;":"\u2233","&crarr;":"\u21B5","&Cross;":"\u2A2F","&cross;":"\u2717","&Cscr;":"\u{1D49E}","&cscr;":"\u{1D4B8}","&csub;":"\u2ACF","&csube;":"\u2AD1","&csup;":"\u2AD0","&csupe;":"\u2AD2","&ctdot;":"\u22EF","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22DE","&cuesc;":"\u22DF","&cularr;":"\u21B6","&cularrp;":"\u293D","&Cup;":"\u22D3","&cup;":"\u222A","&cupbrcap;":"\u2A48","&CupCap;":"\u224D","&cupcap;":"\u2A46","&cupcup;":"\u2A4A","&cupdot;":"\u228D","&cupor;":"\u2A45","&cups;":"\u222A\uFE00","&curarr;":"\u21B7","&curarrm;":"\u293C","&curlyeqprec;":"\u22DE","&curlyeqsucc;":"\u22DF","&curlyvee;":"\u22CE","&curlywedge;":"\u22CF","&curren;":"\xA4","&curren":"\xA4","&curvearrowleft;":"\u21B6","&curvearrowright;":"\u21B7","&cuvee;":"\u22CE","&cuwed;":"\u22CF","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232D","&Dagger;":"\u2021","&dagger;":"\u2020","&daleth;":"\u2138","&Darr;":"\u21A1","&dArr;":"\u21D3","&darr;":"\u2193","&dash;":"\u2010","&Dashv;":"\u2AE4","&dashv;":"\u22A3","&dbkarow;":"\u290F","&dblac;":"\u02DD","&Dcaron;":"\u010E","&dcaron;":"\u010F","&Dcy;":"\u0414","&dcy;":"\u0434","&DD;":"\u2145","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21CA","&DDotrahd;":"\u2911","&ddotseq;":"\u2A77","&deg;":"\xB0","&deg":"\xB0","&Del;":"\u2207","&Delta;":"\u0394","&delta;":"\u03B4","&demptyv;":"\u29B1","&dfisht;":"\u297F","&Dfr;":"\u{1D507}","&dfr;":"\u{1D521}","&dHar;":"\u2965","&dharl;":"\u21C3","&dharr;":"\u21C2","&DiacriticalAcute;":"\xB4","&DiacriticalDot;":"\u02D9","&DiacriticalDoubleAcute;":"\u02DD","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02DC","&diam;":"\u22C4","&Diamond;":"\u22C4","&diamond;":"\u22C4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xA8","&DifferentialD;":"\u2146","&digamma;":"\u03DD","&disin;":"\u22F2","&div;":"\xF7","&divide;":"\xF7","&divide":"\xF7","&divideontimes;":"\u22C7","&divonx;":"\u22C7","&DJcy;":"\u0402","&djcy;":"\u0452","&dlcorn;":"\u231E","&dlcrop;":"\u230D","&dollar;":"$","&Dopf;":"\u{1D53B}","&dopf;":"\u{1D555}","&Dot;":"\xA8","&dot;":"\u02D9","&DotDot;":"\u20DC","&doteq;":"\u2250","&doteqdot;":"\u2251","&DotEqual;":"\u2250","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22A1","&doublebarwedge;":"\u2306","&DoubleContourIntegral;":"\u222F","&DoubleDot;":"\xA8","&DoubleDownArrow;":"\u21D3","&DoubleLeftArrow;":"\u21D0","&DoubleLeftRightArrow;":"\u21D4","&DoubleLeftTee;":"\u2AE4","&DoubleLongLeftArrow;":"\u27F8","&DoubleLongLeftRightArrow;":"\u27FA","&DoubleLongRightArrow;":"\u27F9","&DoubleRightArrow;":"\u21D2","&DoubleRightTee;":"\u22A8","&DoubleUpArrow;":"\u21D1","&DoubleUpDownArrow;":"\u21D5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&Downarrow;":"\u21D3","&downarrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21F5","&DownBreve;":"\u0311","&downdownarrows;":"\u21CA","&downharpoonleft;":"\u21C3","&downharpoonright;":"\u21C2","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295E","&DownLeftVector;":"\u21BD","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295F","&DownRightVector;":"\u21C1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22A4","&DownTeeArrow;":"\u21A7","&drbkarow;":"\u2910","&drcorn;":"\u231F","&drcrop;":"\u230C","&Dscr;":"\u{1D49F}","&dscr;":"\u{1D4B9}","&DScy;":"\u0405","&dscy;":"\u0455","&dsol;":"\u29F6","&Dstrok;":"\u0110","&dstrok;":"\u0111","&dtdot;":"\u22F1","&dtri;":"\u25BF","&dtrif;":"\u25BE","&duarr;":"\u21F5","&duhar;":"\u296F","&dwangle;":"\u29A6","&DZcy;":"\u040F","&dzcy;":"\u045F","&dzigrarr;":"\u27FF","&Eacute;":"\xC9","&Eacute":"\xC9","&eacute;":"\xE9","&eacute":"\xE9","&easter;":"\u2A6E","&Ecaron;":"\u011A","&ecaron;":"\u011B","&ecir;":"\u2256","&Ecirc;":"\xCA","&Ecirc":"\xCA","&ecirc;":"\xEA","&ecirc":"\xEA","&ecolon;":"\u2255","&Ecy;":"\u042D","&ecy;":"\u044D","&eDDot;":"\u2A77","&Edot;":"\u0116","&eDot;":"\u2251","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&Efr;":"\u{1D508}","&efr;":"\u{1D522}","&eg;":"\u2A9A","&Egrave;":"\xC8","&Egrave":"\xC8","&egrave;":"\xE8","&egrave":"\xE8","&egs;":"\u2A96","&egsdot;":"\u2A98","&el;":"\u2A99","&Element;":"\u2208","&elinters;":"\u23E7","&ell;":"\u2113","&els;":"\u2A95","&elsdot;":"\u2A97","&Emacr;":"\u0112","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&EmptySmallSquare;":"\u25FB","&emptyv;":"\u2205","&EmptyVerySmallSquare;":"\u25AB","&emsp;":"\u2003","&emsp13;":"\u2004","&emsp14;":"\u2005","&ENG;":"\u014A","&eng;":"\u014B","&ensp;":"\u2002","&Eogon;":"\u0118","&eogon;":"\u0119","&Eopf;":"\u{1D53C}","&eopf;":"\u{1D556}","&epar;":"\u22D5","&eparsl;":"\u29E3","&eplus;":"\u2A71","&epsi;":"\u03B5","&Epsilon;":"\u0395","&epsilon;":"\u03B5","&epsiv;":"\u03F5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2A96","&eqslantless;":"\u2A95","&Equal;":"\u2A75","&equals;":"=","&EqualTilde;":"\u2242","&equest;":"\u225F","&Equilibrium;":"\u21CC","&equiv;":"\u2261","&equivDD;":"\u2A78","&eqvparsl;":"\u29E5","&erarr;":"\u2971","&erDot;":"\u2253","&Escr;":"\u2130","&escr;":"\u212F","&esdot;":"\u2250","&Esim;":"\u2A73","&esim;":"\u2242","&Eta;":"\u0397","&eta;":"\u03B7","&ETH;":"\xD0","&ETH":"\xD0","&eth;":"\xF0","&eth":"\xF0","&Euml;":"\xCB","&Euml":"\xCB","&euml;":"\xEB","&euml":"\xEB","&euro;":"\u20AC","&excl;":"!","&exist;":"\u2203","&Exists;":"\u2203","&expectation;":"\u2130","&ExponentialE;":"\u2147","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&Fcy;":"\u0424","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\uFB03","&fflig;":"\uFB00","&ffllig;":"\uFB04","&Ffr;":"\u{1D509}","&ffr;":"\u{1D523}","&filig;":"\uFB01","&FilledSmallSquare;":"\u25FC","&FilledVerySmallSquare;":"\u25AA","&fjlig;":"fj","&flat;":"\u266D","&fllig;":"\uFB02","&fltns;":"\u25B1","&fnof;":"\u0192","&Fopf;":"\u{1D53D}","&fopf;":"\u{1D557}","&ForAll;":"\u2200","&forall;":"\u2200","&fork;":"\u22D4","&forkv;":"\u2AD9","&Fouriertrf;":"\u2131","&fpartint;":"\u2A0D","&frac12;":"\xBD","&frac12":"\xBD","&frac13;":"\u2153","&frac14;":"\xBC","&frac14":"\xBC","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215B","&frac23;":"\u2154","&frac25;":"\u2156","&frac34;":"\xBE","&frac34":"\xBE","&frac35;":"\u2157","&frac38;":"\u215C","&frac45;":"\u2158","&frac56;":"\u215A","&frac58;":"\u215D","&frac78;":"\u215E","&frasl;":"\u2044","&frown;":"\u2322","&Fscr;":"\u2131","&fscr;":"\u{1D4BB}","&gacute;":"\u01F5","&Gamma;":"\u0393","&gamma;":"\u03B3","&Gammad;":"\u03DC","&gammad;":"\u03DD","&gap;":"\u2A86","&Gbreve;":"\u011E","&gbreve;":"\u011F","&Gcedil;":"\u0122","&Gcirc;":"\u011C","&gcirc;":"\u011D","&Gcy;":"\u0413","&gcy;":"\u0433","&Gdot;":"\u0120","&gdot;":"\u0121","&gE;":"\u2267","&ge;":"\u2265","&gEl;":"\u2A8C","&gel;":"\u22DB","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2A7E","&ges;":"\u2A7E","&gescc;":"\u2AA9","&gesdot;":"\u2A80","&gesdoto;":"\u2A82","&gesdotol;":"\u2A84","&gesl;":"\u22DB\uFE00","&gesles;":"\u2A94","&Gfr;":"\u{1D50A}","&gfr;":"\u{1D524}","&Gg;":"\u22D9","&gg;":"\u226B","&ggg;":"\u22D9","&gimel;":"\u2137","&GJcy;":"\u0403","&gjcy;":"\u0453","&gl;":"\u2277","&gla;":"\u2AA5","&glE;":"\u2A92","&glj;":"\u2AA4","&gnap;":"\u2A8A","&gnapprox;":"\u2A8A","&gnE;":"\u2269","&gne;":"\u2A88","&gneq;":"\u2A88","&gneqq;":"\u2269","&gnsim;":"\u22E7","&Gopf;":"\u{1D53E}","&gopf;":"\u{1D558}","&grave;":"`","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22DB","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2AA2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2A7E","&GreaterTilde;":"\u2273","&Gscr;":"\u{1D4A2}","&gscr;":"\u210A","&gsim;":"\u2273","&gsime;":"\u2A8E","&gsiml;":"\u2A90","&GT;":">","&GT":">","&Gt;":"\u226B","&gt;":">","&gt":">","&gtcc;":"\u2AA7","&gtcir;":"\u2A7A","&gtdot;":"\u22D7","&gtlPar;":"\u2995","&gtquest;":"\u2A7C","&gtrapprox;":"\u2A86","&gtrarr;":"\u2978","&gtrdot;":"\u22D7","&gtreqless;":"\u22DB","&gtreqqless;":"\u2A8C","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\uFE00","&gvnE;":"\u2269\uFE00","&Hacek;":"\u02C7","&hairsp;":"\u200A","&half;":"\xBD","&hamilt;":"\u210B","&HARDcy;":"\u042A","&hardcy;":"\u044A","&hArr;":"\u21D4","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21AD","&Hat;":"^","&hbar;":"\u210F","&Hcirc;":"\u0124","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22B9","&Hfr;":"\u210C","&hfr;":"\u{1D525}","&HilbertSpace;":"\u210B","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21FF","&homtht;":"\u223B","&hookleftarrow;":"\u21A9","&hookrightarrow;":"\u21AA","&Hopf;":"\u210D","&hopf;":"\u{1D559}","&horbar;":"\u2015","&HorizontalLine;":"\u2500","&Hscr;":"\u210B","&hscr;":"\u{1D4BD}","&hslash;":"\u210F","&Hstrok;":"\u0126","&hstrok;":"\u0127","&HumpDownHump;":"\u224E","&HumpEqual;":"\u224F","&hybull;":"\u2043","&hyphen;":"\u2010","&Iacute;":"\xCD","&Iacute":"\xCD","&iacute;":"\xED","&iacute":"\xED","&ic;":"\u2063","&Icirc;":"\xCE","&Icirc":"\xCE","&icirc;":"\xEE","&icirc":"\xEE","&Icy;":"\u0418","&icy;":"\u0438","&Idot;":"\u0130","&IEcy;":"\u0415","&iecy;":"\u0435","&iexcl;":"\xA1","&iexcl":"\xA1","&iff;":"\u21D4","&Ifr;":"\u2111","&ifr;":"\u{1D526}","&Igrave;":"\xCC","&Igrave":"\xCC","&igrave;":"\xEC","&igrave":"\xEC","&ii;":"\u2148","&iiiint;":"\u2A0C","&iiint;":"\u222D","&iinfin;":"\u29DC","&iiota;":"\u2129","&IJlig;":"\u0132","&ijlig;":"\u0133","&Im;":"\u2111","&Imacr;":"\u012A","&imacr;":"\u012B","&image;":"\u2111","&ImaginaryI;":"\u2148","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22B7","&imped;":"\u01B5","&Implies;":"\u21D2","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221E","&infintie;":"\u29DD","&inodot;":"\u0131","&Int;":"\u222C","&int;":"\u222B","&intcal;":"\u22BA","&integers;":"\u2124","&Integral;":"\u222B","&intercal;":"\u22BA","&Intersection;":"\u22C2","&intlarhk;":"\u2A17","&intprod;":"\u2A3C","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&IOcy;":"\u0401","&iocy;":"\u0451","&Iogon;":"\u012E","&iogon;":"\u012F","&Iopf;":"\u{1D540}","&iopf;":"\u{1D55A}","&Iota;":"\u0399","&iota;":"\u03B9","&iprod;":"\u2A3C","&iquest;":"\xBF","&iquest":"\xBF","&Iscr;":"\u2110","&iscr;":"\u{1D4BE}","&isin;":"\u2208","&isindot;":"\u22F5","&isinE;":"\u22F9","&isins;":"\u22F4","&isinsv;":"\u22F3","&isinv;":"\u2208","&it;":"\u2062","&Itilde;":"\u0128","&itilde;":"\u0129","&Iukcy;":"\u0406","&iukcy;":"\u0456","&Iuml;":"\xCF","&Iuml":"\xCF","&iuml;":"\xEF","&iuml":"\xEF","&Jcirc;":"\u0134","&jcirc;":"\u0135","&Jcy;":"\u0419","&jcy;":"\u0439","&Jfr;":"\u{1D50D}","&jfr;":"\u{1D527}","&jmath;":"\u0237","&Jopf;":"\u{1D541}","&jopf;":"\u{1D55B}","&Jscr;":"\u{1D4A5}","&jscr;":"\u{1D4BF}","&Jsercy;":"\u0408","&jsercy;":"\u0458","&Jukcy;":"\u0404","&jukcy;":"\u0454","&Kappa;":"\u039A","&kappa;":"\u03BA","&kappav;":"\u03F0","&Kcedil;":"\u0136","&kcedil;":"\u0137","&Kcy;":"\u041A","&kcy;":"\u043A","&Kfr;":"\u{1D50E}","&kfr;":"\u{1D528}","&kgreen;":"\u0138","&KHcy;":"\u0425","&khcy;":"\u0445","&KJcy;":"\u040C","&kjcy;":"\u045C","&Kopf;":"\u{1D542}","&kopf;":"\u{1D55C}","&Kscr;":"\u{1D4A6}","&kscr;":"\u{1D4C0}","&lAarr;":"\u21DA","&Lacute;":"\u0139","&lacute;":"\u013A","&laemptyv;":"\u29B4","&lagran;":"\u2112","&Lambda;":"\u039B","&lambda;":"\u03BB","&Lang;":"\u27EA","&lang;":"\u27E8","&langd;":"\u2991","&langle;":"\u27E8","&lap;":"\u2A85","&Laplacetrf;":"\u2112","&laquo;":"\xAB","&laquo":"\xAB","&Larr;":"\u219E","&lArr;":"\u21D0","&larr;":"\u2190","&larrb;":"\u21E4","&larrbfs;":"\u291F","&larrfs;":"\u291D","&larrhk;":"\u21A9","&larrlp;":"\u21AB","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21A2","&lat;":"\u2AAB","&lAtail;":"\u291B","&latail;":"\u2919","&late;":"\u2AAD","&lates;":"\u2AAD\uFE00","&lBarr;":"\u290E","&lbarr;":"\u290C","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298B","&lbrksld;":"\u298F","&lbrkslu;":"\u298D","&Lcaron;":"\u013D","&lcaron;":"\u013E","&Lcedil;":"\u013B","&lcedil;":"\u013C","&lceil;":"\u2308","&lcub;":"{","&Lcy;":"\u041B","&lcy;":"\u043B","&ldca;":"\u2936","&ldquo;":"\u201C","&ldquor;":"\u201E","&ldrdhar;":"\u2967","&ldrushar;":"\u294B","&ldsh;":"\u21B2","&lE;":"\u2266","&le;":"\u2264","&LeftAngleBracket;":"\u27E8","&LeftArrow;":"\u2190","&Leftarrow;":"\u21D0","&leftarrow;":"\u2190","&LeftArrowBar;":"\u21E4","&LeftArrowRightArrow;":"\u21C6","&leftarrowtail;":"\u21A2","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27E6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21C3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230A","&leftharpoondown;":"\u21BD","&leftharpoonup;":"\u21BC","&leftleftarrows;":"\u21C7","&LeftRightArrow;":"\u2194","&Leftrightarrow;":"\u21D4","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21C6","&leftrightharpoons;":"\u21CB","&leftrightsquigarrow;":"\u21AD","&LeftRightVector;":"\u294E","&LeftTee;":"\u22A3","&LeftTeeArrow;":"\u21A4","&LeftTeeVector;":"\u295A","&leftthreetimes;":"\u22CB","&LeftTriangle;":"\u22B2","&LeftTriangleBar;":"\u29CF","&LeftTriangleEqual;":"\u22B4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21BF","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21BC","&LeftVectorBar;":"\u2952","&lEg;":"\u2A8B","&leg;":"\u22DA","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2A7D","&les;":"\u2A7D","&lescc;":"\u2AA8","&lesdot;":"\u2A7F","&lesdoto;":"\u2A81","&lesdotor;":"\u2A83","&lesg;":"\u22DA\uFE00","&lesges;":"\u2A93","&lessapprox;":"\u2A85","&lessdot;":"\u22D6","&lesseqgtr;":"\u22DA","&lesseqqgtr;":"\u2A8B","&LessEqualGreater;":"\u22DA","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&lessgtr;":"\u2276","&LessLess;":"\u2AA1","&lesssim;":"\u2272","&LessSlantEqual;":"\u2A7D","&LessTilde;":"\u2272","&lfisht;":"\u297C","&lfloor;":"\u230A","&Lfr;":"\u{1D50F}","&lfr;":"\u{1D529}","&lg;":"\u2276","&lgE;":"\u2A91","&lHar;":"\u2962","&lhard;":"\u21BD","&lharu;":"\u21BC","&lharul;":"\u296A","&lhblk;":"\u2584","&LJcy;":"\u0409","&ljcy;":"\u0459","&Ll;":"\u22D8","&ll;":"\u226A","&llarr;":"\u21C7","&llcorner;":"\u231E","&Lleftarrow;":"\u21DA","&llhard;":"\u296B","&lltri;":"\u25FA","&Lmidot;":"\u013F","&lmidot;":"\u0140","&lmoust;":"\u23B0","&lmoustache;":"\u23B0","&lnap;":"\u2A89","&lnapprox;":"\u2A89","&lnE;":"\u2268","&lne;":"\u2A87","&lneq;":"\u2A87","&lneqq;":"\u2268","&lnsim;":"\u22E6","&loang;":"\u27EC","&loarr;":"\u21FD","&lobrk;":"\u27E6","&LongLeftArrow;":"\u27F5","&Longleftarrow;":"\u27F8","&longleftarrow;":"\u27F5","&LongLeftRightArrow;":"\u27F7","&Longleftrightarrow;":"\u27FA","&longleftrightarrow;":"\u27F7","&longmapsto;":"\u27FC","&LongRightArrow;":"\u27F6","&Longrightarrow;":"\u27F9","&longrightarrow;":"\u27F6","&looparrowleft;":"\u21AB","&looparrowright;":"\u21AC","&lopar;":"\u2985","&Lopf;":"\u{1D543}","&lopf;":"\u{1D55D}","&loplus;":"\u2A2D","&lotimes;":"\u2A34","&lowast;":"\u2217","&lowbar;":"_","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&loz;":"\u25CA","&lozenge;":"\u25CA","&lozf;":"\u29EB","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21C6","&lrcorner;":"\u231F","&lrhar;":"\u21CB","&lrhard;":"\u296D","&lrm;":"\u200E","&lrtri;":"\u22BF","&lsaquo;":"\u2039","&Lscr;":"\u2112","&lscr;":"\u{1D4C1}","&Lsh;":"\u21B0","&lsh;":"\u21B0","&lsim;":"\u2272","&lsime;":"\u2A8D","&lsimg;":"\u2A8F","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201A","&Lstrok;":"\u0141","&lstrok;":"\u0142","&LT;":"<","&LT":"<","&Lt;":"\u226A","&lt;":"<","&lt":"<","&ltcc;":"\u2AA6","&ltcir;":"\u2A79","&ltdot;":"\u22D6","&lthree;":"\u22CB","&ltimes;":"\u22C9","&ltlarr;":"\u2976","&ltquest;":"\u2A7B","&ltri;":"\u25C3","&ltrie;":"\u22B4","&ltrif;":"\u25C2","&ltrPar;":"\u2996","&lurdshar;":"\u294A","&luruhar;":"\u2966","&lvertneqq;":"\u2268\uFE00","&lvnE;":"\u2268\uFE00","&macr;":"\xAF","&macr":"\xAF","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&Map;":"\u2905","&map;":"\u21A6","&mapsto;":"\u21A6","&mapstodown;":"\u21A7","&mapstoleft;":"\u21A4","&mapstoup;":"\u21A5","&marker;":"\u25AE","&mcomma;":"\u2A29","&Mcy;":"\u041C","&mcy;":"\u043C","&mdash;":"\u2014","&mDDot;":"\u223A","&measuredangle;":"\u2221","&MediumSpace;":"\u205F","&Mellintrf;":"\u2133","&Mfr;":"\u{1D510}","&mfr;":"\u{1D52A}","&mho;":"\u2127","&micro;":"\xB5","&micro":"\xB5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2AF0","&middot;":"\xB7","&middot":"\xB7","&minus;":"\u2212","&minusb;":"\u229F","&minusd;":"\u2238","&minusdu;":"\u2A2A","&MinusPlus;":"\u2213","&mlcp;":"\u2ADB","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22A7","&Mopf;":"\u{1D544}","&mopf;":"\u{1D55E}","&mp;":"\u2213","&Mscr;":"\u2133","&mscr;":"\u{1D4C2}","&mstpos;":"\u223E","&Mu;":"\u039C","&mu;":"\u03BC","&multimap;":"\u22B8","&mumap;":"\u22B8","&nabla;":"\u2207","&Nacute;":"\u0143","&nacute;":"\u0144","&nang;":"\u2220\u20D2","&nap;":"\u2249","&napE;":"\u2A70\u0338","&napid;":"\u224B\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266E","&natural;":"\u266E","&naturals;":"\u2115","&nbsp;":"\xA0","&nbsp":"\xA0","&nbump;":"\u224E\u0338","&nbumpe;":"\u224F\u0338","&ncap;":"\u2A43","&Ncaron;":"\u0147","&ncaron;":"\u0148","&Ncedil;":"\u0145","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2A6D\u0338","&ncup;":"\u2A42","&Ncy;":"\u041D","&ncy;":"\u043D","&ndash;":"\u2013","&ne;":"\u2260","&nearhk;":"\u2924","&neArr;":"\u21D7","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&NegativeMediumSpace;":"\u200B","&NegativeThickSpace;":"\u200B","&NegativeThinSpace;":"\u200B","&NegativeVeryThinSpace;":"\u200B","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&NestedGreaterGreater;":"\u226B","&NestedLessLess;":"\u226A","&NewLine;":`
`,"&nexist;":"\u2204","&nexists;":"\u2204","&Nfr;":"\u{1D511}","&nfr;":"\u{1D52B}","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2A7E\u0338","&nges;":"\u2A7E\u0338","&nGg;":"\u22D9\u0338","&ngsim;":"\u2275","&nGt;":"\u226B\u20D2","&ngt;":"\u226F","&ngtr;":"\u226F","&nGtv;":"\u226B\u0338","&nhArr;":"\u21CE","&nharr;":"\u21AE","&nhpar;":"\u2AF2","&ni;":"\u220B","&nis;":"\u22FC","&nisd;":"\u22FA","&niv;":"\u220B","&NJcy;":"\u040A","&njcy;":"\u045A","&nlArr;":"\u21CD","&nlarr;":"\u219A","&nldr;":"\u2025","&nlE;":"\u2266\u0338","&nle;":"\u2270","&nLeftarrow;":"\u21CD","&nleftarrow;":"\u219A","&nLeftrightarrow;":"\u21CE","&nleftrightarrow;":"\u21AE","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2A7D\u0338","&nles;":"\u2A7D\u0338","&nless;":"\u226E","&nLl;":"\u22D8\u0338","&nlsim;":"\u2274","&nLt;":"\u226A\u20D2","&nlt;":"\u226E","&nltri;":"\u22EA","&nltrie;":"\u22EC","&nLtv;":"\u226A\u0338","&nmid;":"\u2224","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xA0","&Nopf;":"\u2115","&nopf;":"\u{1D55F}","&Not;":"\u2AEC","&not;":"\xAC","&not":"\xAC","&NotCongruent;":"\u2262","&NotCupCap;":"\u226D","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226F","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226B\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2A7E\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224E\u0338","&NotHumpEqual;":"\u224F\u0338","&notin;":"\u2209","&notindot;":"\u22F5\u0338","&notinE;":"\u22F9\u0338","&notinva;":"\u2209","&notinvb;":"\u22F7","&notinvc;":"\u22F6","&NotLeftTriangle;":"\u22EA","&NotLeftTriangleBar;":"\u29CF\u0338","&NotLeftTriangleEqual;":"\u22EC","&NotLess;":"\u226E","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226A\u0338","&NotLessSlantEqual;":"\u2A7D\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2AA2\u0338","&NotNestedLessLess;":"\u2AA1\u0338","&notni;":"\u220C","&notniva;":"\u220C","&notnivb;":"\u22FE","&notnivc;":"\u22FD","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2AAF\u0338","&NotPrecedesSlantEqual;":"\u22E0","&NotReverseElement;":"\u220C","&NotRightTriangle;":"\u22EB","&NotRightTriangleBar;":"\u29D0\u0338","&NotRightTriangleEqual;":"\u22ED","&NotSquareSubset;":"\u228F\u0338","&NotSquareSubsetEqual;":"\u22E2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22E3","&NotSubset;":"\u2282\u20D2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2AB0\u0338","&NotSucceedsSlantEqual;":"\u22E1","&NotSucceedsTilde;":"\u227F\u0338","&NotSuperset;":"\u2283\u20D2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2AFD\u20E5","&npart;":"\u2202\u0338","&npolint;":"\u2A14","&npr;":"\u2280","&nprcue;":"\u22E0","&npre;":"\u2AAF\u0338","&nprec;":"\u2280","&npreceq;":"\u2AAF\u0338","&nrArr;":"\u21CF","&nrarr;":"\u219B","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219D\u0338","&nRightarrow;":"\u21CF","&nrightarrow;":"\u219B","&nrtri;":"\u22EB","&nrtrie;":"\u22ED","&nsc;":"\u2281","&nsccue;":"\u22E1","&nsce;":"\u2AB0\u0338","&Nscr;":"\u{1D4A9}","&nscr;":"\u{1D4C3}","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22E2","&nsqsupe;":"\u22E3","&nsub;":"\u2284","&nsubE;":"\u2AC5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20D2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2AC5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2AB0\u0338","&nsup;":"\u2285","&nsupE;":"\u2AC6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20D2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2AC6\u0338","&ntgl;":"\u2279","&Ntilde;":"\xD1","&Ntilde":"\xD1","&ntilde;":"\xF1","&ntilde":"\xF1","&ntlg;":"\u2278","&ntriangleleft;":"\u22EA","&ntrianglelefteq;":"\u22EC","&ntriangleright;":"\u22EB","&ntrianglerighteq;":"\u22ED","&Nu;":"\u039D","&nu;":"\u03BD","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvap;":"\u224D\u20D2","&nVDash;":"\u22AF","&nVdash;":"\u22AE","&nvDash;":"\u22AD","&nvdash;":"\u22AC","&nvge;":"\u2265\u20D2","&nvgt;":">\u20D2","&nvHarr;":"\u2904","&nvinfin;":"\u29DE","&nvlArr;":"\u2902","&nvle;":"\u2264\u20D2","&nvlt;":"<\u20D2","&nvltrie;":"\u22B4\u20D2","&nvrArr;":"\u2903","&nvrtrie;":"\u22B5\u20D2","&nvsim;":"\u223C\u20D2","&nwarhk;":"\u2923","&nwArr;":"\u21D6","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&Oacute;":"\xD3","&Oacute":"\xD3","&oacute;":"\xF3","&oacute":"\xF3","&oast;":"\u229B","&ocir;":"\u229A","&Ocirc;":"\xD4","&Ocirc":"\xD4","&ocirc;":"\xF4","&ocirc":"\xF4","&Ocy;":"\u041E","&ocy;":"\u043E","&odash;":"\u229D","&Odblac;":"\u0150","&odblac;":"\u0151","&odiv;":"\u2A38","&odot;":"\u2299","&odsold;":"\u29BC","&OElig;":"\u0152","&oelig;":"\u0153","&ofcir;":"\u29BF","&Ofr;":"\u{1D512}","&ofr;":"\u{1D52C}","&ogon;":"\u02DB","&Ograve;":"\xD2","&Ograve":"\xD2","&ograve;":"\xF2","&ograve":"\xF2","&ogt;":"\u29C1","&ohbar;":"\u29B5","&ohm;":"\u03A9","&oint;":"\u222E","&olarr;":"\u21BA","&olcir;":"\u29BE","&olcross;":"\u29BB","&oline;":"\u203E","&olt;":"\u29C0","&Omacr;":"\u014C","&omacr;":"\u014D","&Omega;":"\u03A9","&omega;":"\u03C9","&Omicron;":"\u039F","&omicron;":"\u03BF","&omid;":"\u29B6","&ominus;":"\u2296","&Oopf;":"\u{1D546}","&oopf;":"\u{1D560}","&opar;":"\u29B7","&OpenCurlyDoubleQuote;":"\u201C","&OpenCurlyQuote;":"\u2018","&operp;":"\u29B9","&oplus;":"\u2295","&Or;":"\u2A54","&or;":"\u2228","&orarr;":"\u21BB","&ord;":"\u2A5D","&order;":"\u2134","&orderof;":"\u2134","&ordf;":"\xAA","&ordf":"\xAA","&ordm;":"\xBA","&ordm":"\xBA","&origof;":"\u22B6","&oror;":"\u2A56","&orslope;":"\u2A57","&orv;":"\u2A5B","&oS;":"\u24C8","&Oscr;":"\u{1D4AA}","&oscr;":"\u2134","&Oslash;":"\xD8","&Oslash":"\xD8","&oslash;":"\xF8","&oslash":"\xF8","&osol;":"\u2298","&Otilde;":"\xD5","&Otilde":"\xD5","&otilde;":"\xF5","&otilde":"\xF5","&Otimes;":"\u2A37","&otimes;":"\u2297","&otimesas;":"\u2A36","&Ouml;":"\xD6","&Ouml":"\xD6","&ouml;":"\xF6","&ouml":"\xF6","&ovbar;":"\u233D","&OverBar;":"\u203E","&OverBrace;":"\u23DE","&OverBracket;":"\u23B4","&OverParenthesis;":"\u23DC","&par;":"\u2225","&para;":"\xB6","&para":"\xB6","&parallel;":"\u2225","&parsim;":"\u2AF3","&parsl;":"\u2AFD","&part;":"\u2202","&PartialD;":"\u2202","&Pcy;":"\u041F","&pcy;":"\u043F","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22A5","&pertenk;":"\u2031","&Pfr;":"\u{1D513}","&pfr;":"\u{1D52D}","&Phi;":"\u03A6","&phi;":"\u03C6","&phiv;":"\u03D5","&phmmat;":"\u2133","&phone;":"\u260E","&Pi;":"\u03A0","&pi;":"\u03C0","&pitchfork;":"\u22D4","&piv;":"\u03D6","&planck;":"\u210F","&planckh;":"\u210E","&plankv;":"\u210F","&plus;":"+","&plusacir;":"\u2A23","&plusb;":"\u229E","&pluscir;":"\u2A22","&plusdo;":"\u2214","&plusdu;":"\u2A25","&pluse;":"\u2A72","&PlusMinus;":"\xB1","&plusmn;":"\xB1","&plusmn":"\xB1","&plussim;":"\u2A26","&plustwo;":"\u2A27","&pm;":"\xB1","&Poincareplane;":"\u210C","&pointint;":"\u2A15","&Popf;":"\u2119","&popf;":"\u{1D561}","&pound;":"\xA3","&pound":"\xA3","&Pr;":"\u2ABB","&pr;":"\u227A","&prap;":"\u2AB7","&prcue;":"\u227C","&prE;":"\u2AB3","&pre;":"\u2AAF","&prec;":"\u227A","&precapprox;":"\u2AB7","&preccurlyeq;":"\u227C","&Precedes;":"\u227A","&PrecedesEqual;":"\u2AAF","&PrecedesSlantEqual;":"\u227C","&PrecedesTilde;":"\u227E","&preceq;":"\u2AAF","&precnapprox;":"\u2AB9","&precneqq;":"\u2AB5","&precnsim;":"\u22E8","&precsim;":"\u227E","&Prime;":"\u2033","&prime;":"\u2032","&primes;":"\u2119","&prnap;":"\u2AB9","&prnE;":"\u2AB5","&prnsim;":"\u22E8","&prod;":"\u220F","&Product;":"\u220F","&profalar;":"\u232E","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221D","&Proportion;":"\u2237","&Proportional;":"\u221D","&propto;":"\u221D","&prsim;":"\u227E","&prurel;":"\u22B0","&Pscr;":"\u{1D4AB}","&pscr;":"\u{1D4C5}","&Psi;":"\u03A8","&psi;":"\u03C8","&puncsp;":"\u2008","&Qfr;":"\u{1D514}","&qfr;":"\u{1D52E}","&qint;":"\u2A0C","&Qopf;":"\u211A","&qopf;":"\u{1D562}","&qprime;":"\u2057","&Qscr;":"\u{1D4AC}","&qscr;":"\u{1D4C6}","&quaternions;":"\u210D","&quatint;":"\u2A16","&quest;":"?","&questeq;":"\u225F","&QUOT;":'"',"&QUOT":'"',"&quot;":'"',"&quot":'"',"&rAarr;":"\u21DB","&race;":"\u223D\u0331","&Racute;":"\u0154","&racute;":"\u0155","&radic;":"\u221A","&raemptyv;":"\u29B3","&Rang;":"\u27EB","&rang;":"\u27E9","&rangd;":"\u2992","&range;":"\u29A5","&rangle;":"\u27E9","&raquo;":"\xBB","&raquo":"\xBB","&Rarr;":"\u21A0","&rArr;":"\u21D2","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21E5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291E","&rarrhk;":"\u21AA","&rarrlp;":"\u21AC","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&Rarrtl;":"\u2916","&rarrtl;":"\u21A3","&rarrw;":"\u219D","&rAtail;":"\u291C","&ratail;":"\u291A","&ratio;":"\u2236","&rationals;":"\u211A","&RBarr;":"\u2910","&rBarr;":"\u290F","&rbarr;":"\u290D","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298C","&rbrksld;":"\u298E","&rbrkslu;":"\u2990","&Rcaron;":"\u0158","&rcaron;":"\u0159","&Rcedil;":"\u0156","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&Rcy;":"\u0420","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201D","&rdquor;":"\u201D","&rdsh;":"\u21B3","&Re;":"\u211C","&real;":"\u211C","&realine;":"\u211B","&realpart;":"\u211C","&reals;":"\u211D","&rect;":"\u25AD","&REG;":"\xAE","&REG":"\xAE","&reg;":"\xAE","&reg":"\xAE","&ReverseElement;":"\u220B","&ReverseEquilibrium;":"\u21CB","&ReverseUpEquilibrium;":"\u296F","&rfisht;":"\u297D","&rfloor;":"\u230B","&Rfr;":"\u211C","&rfr;":"\u{1D52F}","&rHar;":"\u2964","&rhard;":"\u21C1","&rharu;":"\u21C0","&rharul;":"\u296C","&Rho;":"\u03A1","&rho;":"\u03C1","&rhov;":"\u03F1","&RightAngleBracket;":"\u27E9","&RightArrow;":"\u2192","&Rightarrow;":"\u21D2","&rightarrow;":"\u2192","&RightArrowBar;":"\u21E5","&RightArrowLeftArrow;":"\u21C4","&rightarrowtail;":"\u21A3","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27E7","&RightDownTeeVector;":"\u295D","&RightDownVector;":"\u21C2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230B","&rightharpoondown;":"\u21C1","&rightharpoonup;":"\u21C0","&rightleftarrows;":"\u21C4","&rightleftharpoons;":"\u21CC","&rightrightarrows;":"\u21C9","&rightsquigarrow;":"\u219D","&RightTee;":"\u22A2","&RightTeeArrow;":"\u21A6","&RightTeeVector;":"\u295B","&rightthreetimes;":"\u22CC","&RightTriangle;":"\u22B3","&RightTriangleBar;":"\u29D0","&RightTriangleEqual;":"\u22B5","&RightUpDownVector;":"\u294F","&RightUpTeeVector;":"\u295C","&RightUpVector;":"\u21BE","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21C0","&RightVectorBar;":"\u2953","&ring;":"\u02DA","&risingdotseq;":"\u2253","&rlarr;":"\u21C4","&rlhar;":"\u21CC","&rlm;":"\u200F","&rmoust;":"\u23B1","&rmoustache;":"\u23B1","&rnmid;":"\u2AEE","&roang;":"\u27ED","&roarr;":"\u21FE","&robrk;":"\u27E7","&ropar;":"\u2986","&Ropf;":"\u211D","&ropf;":"\u{1D563}","&roplus;":"\u2A2E","&rotimes;":"\u2A35","&RoundImplies;":"\u2970","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2A12","&rrarr;":"\u21C9","&Rrightarrow;":"\u21DB","&rsaquo;":"\u203A","&Rscr;":"\u211B","&rscr;":"\u{1D4C7}","&Rsh;":"\u21B1","&rsh;":"\u21B1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22CC","&rtimes;":"\u22CA","&rtri;":"\u25B9","&rtrie;":"\u22B5","&rtrif;":"\u25B8","&rtriltri;":"\u29CE","&RuleDelayed;":"\u29F4","&ruluhar;":"\u2968","&rx;":"\u211E","&Sacute;":"\u015A","&sacute;":"\u015B","&sbquo;":"\u201A","&Sc;":"\u2ABC","&sc;":"\u227B","&scap;":"\u2AB8","&Scaron;":"\u0160","&scaron;":"\u0161","&sccue;":"\u227D","&scE;":"\u2AB4","&sce;":"\u2AB0","&Scedil;":"\u015E","&scedil;":"\u015F","&Scirc;":"\u015C","&scirc;":"\u015D","&scnap;":"\u2ABA","&scnE;":"\u2AB6","&scnsim;":"\u22E9","&scpolint;":"\u2A13","&scsim;":"\u227F","&Scy;":"\u0421","&scy;":"\u0441","&sdot;":"\u22C5","&sdotb;":"\u22A1","&sdote;":"\u2A66","&searhk;":"\u2925","&seArr;":"\u21D8","&searr;":"\u2198","&searrow;":"\u2198","&sect;":"\xA7","&sect":"\xA7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&Sfr;":"\u{1D516}","&sfr;":"\u{1D530}","&sfrown;":"\u2322","&sharp;":"\u266F","&SHCHcy;":"\u0429","&shchcy;":"\u0449","&SHcy;":"\u0428","&shcy;":"\u0448","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&shortmid;":"\u2223","&shortparallel;":"\u2225","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&shy;":"\xAD","&shy":"\xAD","&Sigma;":"\u03A3","&sigma;":"\u03C3","&sigmaf;":"\u03C2","&sigmav;":"\u03C2","&sim;":"\u223C","&simdot;":"\u2A6A","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2A9E","&simgE;":"\u2AA0","&siml;":"\u2A9D","&simlE;":"\u2A9F","&simne;":"\u2246","&simplus;":"\u2A24","&simrarr;":"\u2972","&slarr;":"\u2190","&SmallCircle;":"\u2218","&smallsetminus;":"\u2216","&smashp;":"\u2A33","&smeparsl;":"\u29E4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2AAA","&smte;":"\u2AAC","&smtes;":"\u2AAC\uFE00","&SOFTcy;":"\u042C","&softcy;":"\u044C","&sol;":"/","&solb;":"\u29C4","&solbar;":"\u233F","&Sopf;":"\u{1D54A}","&sopf;":"\u{1D564}","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\uFE00","&sqcup;":"\u2294","&sqcups;":"\u2294\uFE00","&Sqrt;":"\u221A","&sqsub;":"\u228F","&sqsube;":"\u2291","&sqsubset;":"\u228F","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25A1","&Square;":"\u25A1","&square;":"\u25A1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228F","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&squarf;":"\u25AA","&squf;":"\u25AA","&srarr;":"\u2192","&Sscr;":"\u{1D4AE}","&sscr;":"\u{1D4C8}","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22C6","&Star;":"\u22C6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03F5","&straightphi;":"\u03D5","&strns;":"\xAF","&Sub;":"\u22D0","&sub;":"\u2282","&subdot;":"\u2ABD","&subE;":"\u2AC5","&sube;":"\u2286","&subedot;":"\u2AC3","&submult;":"\u2AC1","&subnE;":"\u2ACB","&subne;":"\u228A","&subplus;":"\u2ABF","&subrarr;":"\u2979","&Subset;":"\u22D0","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2AC5","&SubsetEqual;":"\u2286","&subsetneq;":"\u228A","&subsetneqq;":"\u2ACB","&subsim;":"\u2AC7","&subsub;":"\u2AD5","&subsup;":"\u2AD3","&succ;":"\u227B","&succapprox;":"\u2AB8","&succcurlyeq;":"\u227D","&Succeeds;":"\u227B","&SucceedsEqual;":"\u2AB0","&SucceedsSlantEqual;":"\u227D","&SucceedsTilde;":"\u227F","&succeq;":"\u2AB0","&succnapprox;":"\u2ABA","&succneqq;":"\u2AB6","&succnsim;":"\u22E9","&succsim;":"\u227F","&SuchThat;":"\u220B","&Sum;":"\u2211","&sum;":"\u2211","&sung;":"\u266A","&Sup;":"\u22D1","&sup;":"\u2283","&sup1;":"\xB9","&sup1":"\xB9","&sup2;":"\xB2","&sup2":"\xB2","&sup3;":"\xB3","&sup3":"\xB3","&supdot;":"\u2ABE","&supdsub;":"\u2AD8","&supE;":"\u2AC6","&supe;":"\u2287","&supedot;":"\u2AC4","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&suphsol;":"\u27C9","&suphsub;":"\u2AD7","&suplarr;":"\u297B","&supmult;":"\u2AC2","&supnE;":"\u2ACC","&supne;":"\u228B","&supplus;":"\u2AC0","&Supset;":"\u22D1","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2AC6","&supsetneq;":"\u228B","&supsetneqq;":"\u2ACC","&supsim;":"\u2AC8","&supsub;":"\u2AD4","&supsup;":"\u2AD6","&swarhk;":"\u2926","&swArr;":"\u21D9","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292A","&szlig;":"\xDF","&szlig":"\xDF","&Tab;":"	","&target;":"\u2316","&Tau;":"\u03A4","&tau;":"\u03C4","&tbrk;":"\u23B4","&Tcaron;":"\u0164","&tcaron;":"\u0165","&Tcedil;":"\u0162","&tcedil;":"\u0163","&Tcy;":"\u0422","&tcy;":"\u0442","&tdot;":"\u20DB","&telrec;":"\u2315","&Tfr;":"\u{1D517}","&tfr;":"\u{1D531}","&there4;":"\u2234","&Therefore;":"\u2234","&therefore;":"\u2234","&Theta;":"\u0398","&theta;":"\u03B8","&thetasym;":"\u03D1","&thetav;":"\u03D1","&thickapprox;":"\u2248","&thicksim;":"\u223C","&ThickSpace;":"\u205F\u200A","&thinsp;":"\u2009","&ThinSpace;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223C","&THORN;":"\xDE","&THORN":"\xDE","&thorn;":"\xFE","&thorn":"\xFE","&Tilde;":"\u223C","&tilde;":"\u02DC","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&times;":"\xD7","&times":"\xD7","&timesb;":"\u22A0","&timesbar;":"\u2A31","&timesd;":"\u2A30","&tint;":"\u222D","&toea;":"\u2928","&top;":"\u22A4","&topbot;":"\u2336","&topcir;":"\u2AF1","&Topf;":"\u{1D54B}","&topf;":"\u{1D565}","&topfork;":"\u2ADA","&tosa;":"\u2929","&tprime;":"\u2034","&TRADE;":"\u2122","&trade;":"\u2122","&triangle;":"\u25B5","&triangledown;":"\u25BF","&triangleleft;":"\u25C3","&trianglelefteq;":"\u22B4","&triangleq;":"\u225C","&triangleright;":"\u25B9","&trianglerighteq;":"\u22B5","&tridot;":"\u25EC","&trie;":"\u225C","&triminus;":"\u2A3A","&TripleDot;":"\u20DB","&triplus;":"\u2A39","&trisb;":"\u29CD","&tritime;":"\u2A3B","&trpezium;":"\u23E2","&Tscr;":"\u{1D4AF}","&tscr;":"\u{1D4C9}","&TScy;":"\u0426","&tscy;":"\u0446","&TSHcy;":"\u040B","&tshcy;":"\u045B","&Tstrok;":"\u0166","&tstrok;":"\u0167","&twixt;":"\u226C","&twoheadleftarrow;":"\u219E","&twoheadrightarrow;":"\u21A0","&Uacute;":"\xDA","&Uacute":"\xDA","&uacute;":"\xFA","&uacute":"\xFA","&Uarr;":"\u219F","&uArr;":"\u21D1","&uarr;":"\u2191","&Uarrocir;":"\u2949","&Ubrcy;":"\u040E","&ubrcy;":"\u045E","&Ubreve;":"\u016C","&ubreve;":"\u016D","&Ucirc;":"\xDB","&Ucirc":"\xDB","&ucirc;":"\xFB","&ucirc":"\xFB","&Ucy;":"\u0423","&ucy;":"\u0443","&udarr;":"\u21C5","&Udblac;":"\u0170","&udblac;":"\u0171","&udhar;":"\u296E","&ufisht;":"\u297E","&Ufr;":"\u{1D518}","&ufr;":"\u{1D532}","&Ugrave;":"\xD9","&Ugrave":"\xD9","&ugrave;":"\xF9","&ugrave":"\xF9","&uHar;":"\u2963","&uharl;":"\u21BF","&uharr;":"\u21BE","&uhblk;":"\u2580","&ulcorn;":"\u231C","&ulcorner;":"\u231C","&ulcrop;":"\u230F","&ultri;":"\u25F8","&Umacr;":"\u016A","&umacr;":"\u016B","&uml;":"\xA8","&uml":"\xA8","&UnderBar;":"_","&UnderBrace;":"\u23DF","&UnderBracket;":"\u23B5","&UnderParenthesis;":"\u23DD","&Union;":"\u22C3","&UnionPlus;":"\u228E","&Uogon;":"\u0172","&uogon;":"\u0173","&Uopf;":"\u{1D54C}","&uopf;":"\u{1D566}","&UpArrow;":"\u2191","&Uparrow;":"\u21D1","&uparrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21C5","&UpDownArrow;":"\u2195","&Updownarrow;":"\u21D5","&updownarrow;":"\u2195","&UpEquilibrium;":"\u296E","&upharpoonleft;":"\u21BF","&upharpoonright;":"\u21BE","&uplus;":"\u228E","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03D2","&upsi;":"\u03C5","&upsih;":"\u03D2","&Upsilon;":"\u03A5","&upsilon;":"\u03C5","&UpTee;":"\u22A5","&UpTeeArrow;":"\u21A5","&upuparrows;":"\u21C8","&urcorn;":"\u231D","&urcorner;":"\u231D","&urcrop;":"\u230E","&Uring;":"\u016E","&uring;":"\u016F","&urtri;":"\u25F9","&Uscr;":"\u{1D4B0}","&uscr;":"\u{1D4CA}","&utdot;":"\u22F0","&Utilde;":"\u0168","&utilde;":"\u0169","&utri;":"\u25B5","&utrif;":"\u25B4","&uuarr;":"\u21C8","&Uuml;":"\xDC","&Uuml":"\xDC","&uuml;":"\xFC","&uuml":"\xFC","&uwangle;":"\u29A7","&vangrt;":"\u299C","&varepsilon;":"\u03F5","&varkappa;":"\u03F0","&varnothing;":"\u2205","&varphi;":"\u03D5","&varpi;":"\u03D6","&varpropto;":"\u221D","&vArr;":"\u21D5","&varr;":"\u2195","&varrho;":"\u03F1","&varsigma;":"\u03C2","&varsubsetneq;":"\u228A\uFE00","&varsubsetneqq;":"\u2ACB\uFE00","&varsupsetneq;":"\u228B\uFE00","&varsupsetneqq;":"\u2ACC\uFE00","&vartheta;":"\u03D1","&vartriangleleft;":"\u22B2","&vartriangleright;":"\u22B3","&Vbar;":"\u2AEB","&vBar;":"\u2AE8","&vBarv;":"\u2AE9","&Vcy;":"\u0412","&vcy;":"\u0432","&VDash;":"\u22AB","&Vdash;":"\u22A9","&vDash;":"\u22A8","&vdash;":"\u22A2","&Vdashl;":"\u2AE6","&Vee;":"\u22C1","&vee;":"\u2228","&veebar;":"\u22BB","&veeeq;":"\u225A","&vellip;":"\u22EE","&Verbar;":"\u2016","&verbar;":"|","&Vert;":"\u2016","&vert;":"|","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200A","&Vfr;":"\u{1D519}","&vfr;":"\u{1D533}","&vltri;":"\u22B2","&vnsub;":"\u2282\u20D2","&vnsup;":"\u2283\u20D2","&Vopf;":"\u{1D54D}","&vopf;":"\u{1D567}","&vprop;":"\u221D","&vrtri;":"\u22B3","&Vscr;":"\u{1D4B1}","&vscr;":"\u{1D4CB}","&vsubnE;":"\u2ACB\uFE00","&vsubne;":"\u228A\uFE00","&vsupnE;":"\u2ACC\uFE00","&vsupne;":"\u228B\uFE00","&Vvdash;":"\u22AA","&vzigzag;":"\u299A","&Wcirc;":"\u0174","&wcirc;":"\u0175","&wedbar;":"\u2A5F","&Wedge;":"\u22C0","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&Wfr;":"\u{1D51A}","&wfr;":"\u{1D534}","&Wopf;":"\u{1D54E}","&wopf;":"\u{1D568}","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&Wscr;":"\u{1D4B2}","&wscr;":"\u{1D4CC}","&xcap;":"\u22C2","&xcirc;":"\u25EF","&xcup;":"\u22C3","&xdtri;":"\u25BD","&Xfr;":"\u{1D51B}","&xfr;":"\u{1D535}","&xhArr;":"\u27FA","&xharr;":"\u27F7","&Xi;":"\u039E","&xi;":"\u03BE","&xlArr;":"\u27F8","&xlarr;":"\u27F5","&xmap;":"\u27FC","&xnis;":"\u22FB","&xodot;":"\u2A00","&Xopf;":"\u{1D54F}","&xopf;":"\u{1D569}","&xoplus;":"\u2A01","&xotime;":"\u2A02","&xrArr;":"\u27F9","&xrarr;":"\u27F6","&Xscr;":"\u{1D4B3}","&xscr;":"\u{1D4CD}","&xsqcup;":"\u2A06","&xuplus;":"\u2A04","&xutri;":"\u25B3","&xvee;":"\u22C1","&xwedge;":"\u22C0","&Yacute;":"\xDD","&Yacute":"\xDD","&yacute;":"\xFD","&yacute":"\xFD","&YAcy;":"\u042F","&yacy;":"\u044F","&Ycirc;":"\u0176","&ycirc;":"\u0177","&Ycy;":"\u042B","&ycy;":"\u044B","&yen;":"\xA5","&yen":"\xA5","&Yfr;":"\u{1D51C}","&yfr;":"\u{1D536}","&YIcy;":"\u0407","&yicy;":"\u0457","&Yopf;":"\u{1D550}","&yopf;":"\u{1D56A}","&Yscr;":"\u{1D4B4}","&yscr;":"\u{1D4CE}","&YUcy;":"\u042E","&yucy;":"\u044E","&Yuml;":"\u0178","&yuml;":"\xFF","&yuml":"\xFF","&Zacute;":"\u0179","&zacute;":"\u017A","&Zcaron;":"\u017D","&zcaron;":"\u017E","&Zcy;":"\u0417","&zcy;":"\u0437","&Zdot;":"\u017B","&zdot;":"\u017C","&zeetrf;":"\u2128","&ZeroWidthSpace;":"\u200B","&Zeta;":"\u0396","&zeta;":"\u03B6","&Zfr;":"\u2128","&zfr;":"\u{1D537}","&ZHcy;":"\u0416","&zhcy;":"\u0436","&zigrarr;":"\u21DD","&Zopf;":"\u2124","&zopf;":"\u{1D56B}","&Zscr;":"\u{1D4B5}","&zscr;":"\u{1D4CF}","&zwj;":"\u200D","&zwnj;":"\u200C"};function s(c){return c&&c.replace(/&#?[a-z0-9]+;/gi,r=>{if(o[r])return o[r];if(r.match(/^&#x[0-9a-f]+;$/i)){const a=r.substring(3,r.length-1),i=parseInt(a,16);return String.fromCodePoint(i)}if(r.match(/^&#[0-9]+;$/)){const a=r.substring(2,r.length-1),i=parseInt(a,10);return String.fromCodePoint(i)}return r})}E(s,"unescapeEntities")},6764196364:(N,y,e)=>{"use strict";e.d(y,{A:()=>n});var t=e(7171435821);function n(){return`https://${(0,t.Xk)()}`}E(n,"getSlackRootUrl")},4252064756:(N,y,e)=>{"use strict";e.d(y,{A:()=>o,D:()=>s});var t=e(7171435821),n=e(7732872146);function o(c){return s((0,n.Ay)(c))}E(o,"isGantryUrl");function s(c){if(c.pathname==="/ssb/signin")return!1;const r=c.hostname,[a]=r.split(".");return a==="app"&&(0,t.Ed)(c)}E(s,"isGantryUrlFromUrlObject")},7383598433:(N,y,e)=>{"use strict";e.d(y,{J:()=>n});var t=e(4178531214);function n(o){return!!(0,t.ss)(o)}E(n,"isXWSUserGroupsEnabled")},7216810781:(N,y,e)=>{"use strict";e.d(y,{z:()=>h});var t=e(3134334389),n=e(4844578989),o=e.n(n),s=e(6690263587),c=e(4173072539),r=e(3694049677),a=e(2408732225),i=e(9874616273),l=e(6471059816),m=e(1318506593);const _=new l.Ay("shared_channel_invites"),h=E(d=>{let{invite:f,bottomMargin:v}=d;if(!f)return null;const{inviting_team:u,inviting_user:g,shared_workspace:p}=f,A=!!(0,m.qN)(window.location.search).is_link,C=t.createElement(a.n,{team:u,user:g,size:40,shouldRenderTeamBadge:!0,allowDefaultProfileImage:!0,allowTeamInitials:!0,isInteractive:!1,className:"margin_right_75",hideUserIcon:A}),T=t.createElement(r.A,{invitingUser:g}),I=t.createElement(c.A,{invitingTeam:u}),M=t.createElement(s.A,{id:p.id,team:p,bold:!0});return t.createElement("div",{className:o()("p-accept_slack_connect_workspace_invite_header__header_container",{margin_bottom_200:v})},t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header__header_subcontainer"},t.createElement(i.A,{width:160,height:40,className:"margin_bottom_125"}),t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header padding_0"},C,t.createElement("span",null,A?_.rt("You were invited by {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:I,sharedWorkspaceName:M}):_.rt("You were invited by <strong>{invitingUserName}</strong> from {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:I,invitingUserName:T,sharedWorkspaceName:M})))))},"AcceptSlackConnectWorkspaceHeader");h.displayName="AcceptSlackConnectWorkspaceHeader"},1073393277:(N,y,e)=>{"use strict";e.d(y,{Sp:()=>v,a5:()=>u});var t=e(1764426410),n=e(4509434386),o=e(9733150292),s=e(9323322135),c=e(4923013394),r=e(252204565),a=e(5829624088);const i=".p-client_container_placeholder",l=".p-client_container_placeholder__nav",m=260,_=60,h=70;function d(p){let{name:A,hex:C,iaTheming:T,customTheme:I}=p;const M=(0,t.zK)({hex:C,name:A}),D=(T==null?void 0:T.mode)||"light",O=(T==null?void 0:T.brightness)||n.GK,S=(0,n.XW)({mode:(0,a.Gk)(T,T==null?void 0:T.mode),primary:T==null?void 0:T.primary,highlight1:T==null?void 0:T.highlight1,brightness:O,useCustomHex:I&&(T==null?void 0:T.useCustomHex)});let R;A.includes("Primary")?R=S.primary.shade:R=S.highlight1.shade;const U=n.sC.indexOf(R);return{shade:R,value:D==="light"?M.light[U].value:M.dark[U].value}}E(d,"generateCustomHEXChromeColors");function f(p){let{iaTheming:A,customTheme:C}=p;return!A.primary.custom||!t.$V.test(A.primary.custom)?null:d({name:"bootPrimary",hex:A.primary.custom.startsWith("#")?A.primary.custom:`#${A.primary.custom}`,iaTheming:A,customTheme:C})}E(f,"getBootPrimary");function v(p){let{teamId:A}=p;const C=(0,o._z)(A,"channelSidebarBackground"),T=parseInt((0,o.W6)("viewLayoutLastSidebarWidth"),10)||m,I=(0,o._z)(A,"textColor"),M=(0,o._z)(A,"topNavBackground")||C,D=(0,o._z)(A,"topNavTextColor")||I,O=document.querySelector(i),S=(0,o._z)(A,"iaTheming"),R=(0,o._z)(A,"customTheme"),U=(0,o._z)(A,"windowGradient"),P=(0,o._z)(A,"isCreatorInSetupFlow"),L=(0,o._z)(A,"bbmEnabled"),F=(0,o.W6)("viewLayoutIsWorkspaceSwitcherVisible"),x=F?_:0;if(!O)return;const b=O.querySelector(l);if(!C||P){u();return}if(b&&I&&C){const W=document.createElement("div");W.classList.add("p-ia4_client_container_placeholder--sidebar"),W.style.width=`${T}px`;const K=document.createElement("div");K.classList.add("p-ia4_client_container_placeholder--tab_rail");const H=document.createElement("div");if(H.classList.add("p-ia4_client_container_placeholder--content"),H.style.left=`${x+h+T}px`,O.appendChild(W),F&&(O.insertBefore(K,W),W.classList.add("p-ia4_client_container_placeholder--sidebar_with_workspace_switcher"),W.style.boxShadow=(S==null?void 0:S.mode)==="dark"||S!=null&&S.sidebarInverted?"-1px 0px 0px 0px rgba(255, 255, 255, 0.15)":"-1px 0px 0px 0px rgba(112, 112, 112, 0.15)",H.classList.add("p-ia4_client_container_placeholder--content_with_workspace_switcher")),O.appendChild(H),O.classList.add("p-ia4_client_container_placeholder--theme-background"),L&&(W.style.display="none",K.style.display="none",H.classList.add("p-ia4_client_container_placeholder--content--bbm")),S){let z="rgba(255,255,255,0.9)";if(S.mode==="light"&&S.sidebarInverted&&(z="rgba(255,255,255,0.11)"),S.mode==="dark"){var k,B;z="rgba(16,18,20,0.6)",(B=(k=window.document)===null||k===void 0?void 0:k.querySelector("body"))===null||B===void 0||B.classList.add(n.RD)}if(W.style.backgroundColor=z,K.style.backgroundColor=z,R&&S.useCustomHex){if(S.primary.custom){const Q="bootPrimary",q=f({iaTheming:S,customTheme:R});q&&O.style.setProperty(`--dt_color-plt-${Q}-${q.shade}`,q.value)}if(S.highlight1.custom){const Q="bootHighlight1",q=d({name:"bootHighlight1",hex:S.highlight1.custom.startsWith("#")?S.highlight1.custom:`#${S.highlight1.custom}`,iaTheming:S,customTheme:R});O.style.setProperty(`--dt_color-plt-${Q}-${q.shade}`,q.value)}}if(U){const Q=(0,n.Lp)({mode:(0,a.Gk)(S,S.mode),primary:S.primary,highlight1:S.highlight1,brightness:S.brightness,useCustomHex:R&&S.useCustomHex}).replace(/primary/g,"bootPrimary").replace(/highlight1/g,"bootHighlight1");O.style.background=Q}else{const Q="bootPrimary",q=f({iaTheming:S,customTheme:!!R}),$=(0,a.Gk)(S,S.mode),le=(0,n.VS)({mode:$,role:$==="light-inverted-sidebar"?"highlight1":"primary",brightness:(S==null?void 0:S.brightness)||n.GK});O.style.backgroundColor=R&&S.useCustomHex&&q?`rgb(var(--dt_color-plt-${Q}-${q.shade}))`:`rgb(var(--dt_color-plt-${S.primary.palette}-${le}))`}}else if(W.style.backgroundColor=C,M){const z=M,Q=(0,r.fl)(M,25);O.style.background=`radial-gradient(
						circle at 50% 50%,
						${z} 20%,
						transparent 80%
					),
					conic-gradient(
            from 45deg at 50% 50%,
            ${Q} 0%,
            ${z} 25%,
            ${Q} 50%,
            ${z} 75%,
            ${Q} 100%
          )`}b.classList.add("p-ia4_client_container_placeholder--top-nav"),(0,c.ve)()&&M&&s.ea3.isAvailable()&&(0,s.ea3)((0,s.Xgz)(),{color:M,symbolColor:D})}O.style.opacity="1"}E(v,"renderBootPlaceholder");function u(){const p=document.querySelector(i);p&&p.remove()}E(u,"removeBootPlaceholder"),Object.defineProperty({removeBootPlaceholder:u},"removeBootPlaceholder",{get:()=>u,set:p=>{u=p}})},8090212505:(N,y,e)=>{"use strict";var t=e(7031360717),n=e(8749908259),o=e(2878685908),s=e(7171435821),c=e(7344959578),r=e(9104574897),a=e(7668372645),i=e(1658558415),l=e(8223354444),m=e(1535672935),_=e(7384121809);function h(qe,Xe){var lt,Mt,$t,en,tn,Qt;const jt=(0,_.en)();if(jt.dispatch((0,m.setWorkspaceFailedToBoot)(qe)),!(Xe==null||(lt=Xe.data)===null||lt===void 0)&&lt.active_migration){var cn,Pn;jt.dispatch((0,m.setWorkspaceIsMigrating)({teamId:qe,migrationId:Xe==null||(cn=Xe.data)===null||cn===void 0?void 0:cn.migration_id,canViewMigrationStatus:Xe==null||(Pn=Xe.data)===null||Pn===void 0?void 0:Pn.can_view_migration_status})),(0,t.R8)("BOOT",`(${qe}) Workspace boot failed due to active migration`)}if((Xe==null||(Mt=Xe.data)===null||Mt===void 0?void 0:Mt.error)==="accesslimited"&&jt.dispatch((0,m.setWorkspaceIsAccessLimited)(qe)),(Xe==null||($t=Xe.data)===null||$t===void 0?void 0:$t.error)==="two_factor_setup_required"&&jt.dispatch((0,m.setWorkspaceNeeds2FASetup)(qe)),(Xe==null||(en=Xe.data)===null||en===void 0?void 0:en.error)==="user_in_no_workspaces"&&jt.dispatch((0,m.setUserNotMemberOfAnyWorkspaceInOrg)(qe)),(Xe==null||(tn=Xe.data)===null||tn===void 0?void 0:tn.error)==="mobile_login_required"&&jt.dispatch((0,m.setUserRequiresMobileLogin)(qe)),(Xe==null||(Qt=Xe.data)===null||Qt===void 0?void 0:Qt.error)==="user_needs_to_accept_custom_tos"){var Tn;jt.dispatch((0,m.setWorkspaceNeedsToAcceptCustomTOS)({teamId:qe,url:Xe==null||(Tn=Xe.data)===null||Tn===void 0?void 0:Tn.url}))}}E(h,"markTeamBootFailed");var d=e(6329712420),f=e(6188550760),v=e(9012396182);function u(qe){const Xe=(0,_.en)();var lt;const Mt=(lt=(0,v.getNavigateToUnbootedWorkspace)(Xe.getState()))!==null&&lt!==void 0?lt:{},{bootingTeamId:$t,navigateToRouteProps:en}=Mt;return $t===qe?((0,f._U)((en==null?void 0:en.routeName)||d.o,{teamId:qe,...(en==null?void 0:en.params)||{}},{reason:"delayed-unbooted-team-switch",...(en==null?void 0:en.options)||{}}),Xe.dispatch((0,m.setNavigateToUnbootedWorkspace)({})),!0):!1}E(u,"maybeNavigateToUnbootedWorkspace");function g(qe,Xe){if(!qe)throw new Error("Missing team id, cannot thin boot team.");h(qe,Xe),u(qe)}E(g,"thinBootTeam");var p=e(1073393277),A=e(2212859256),C=e(1044468604),T=e(3945243579);const I={[C.F9.API]:M,[C.F9.BOOT_APP]:D,[C.F9.BOOT_TEAM]:O,[C.F9.DEFAULT]:S};function M(qe,Xe,lt){var Mt;const $t=lt==null?void 0:lt.teamId;if(window.isReloading){(0,t.pq)("BOOT",`(${$t}) Ongoing reload detected during Gantry API error handler; Halting error handler.`);return}C.XB[C.F9.API](qe,Xe,{...lt,shouldDisplayErrorView:!1,shouldBeaconError:(qe==null||(Mt=qe.data)===null||Mt===void 0?void 0:Mt.error)!=="user_needs_to_accept_custom_tos"}),g($t,qe),Xe!=null&&Xe.isForegroundTeam&&Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,8570069737)).then(en=>{let{renderClient:tn}=en;(0,p.a5)(),(0,T.A)(),tn()})}E(M,"handleApiError");function D(qe,Xe,lt){(0,p.a5)(),C.XB[C.F9.BOOT_APP](qe,Xe,lt)}E(D,"handleBootAppError");function O(qe,Xe,lt){if(lt){const{teamId:Mt}=lt;(0,A.y)(Mt)}(0,p.a5)(),C.XB[C.F9.BOOT_TEAM](qe,Xe,lt)}E(O,"handleBootTeamError");function S(qe,Xe,lt){(0,p.a5)(),C.XB[C.F9.DEFAULT](qe,Xe,lt)}E(S,"handleDefaultError");const R={handleApiError:M,handleBootAppError:D,handleBootTeamError:O,handleDefaultError:S};var U=e(9113979368),P=e(1197598850),L=e(1092614768),F=e(2325478352),x=e(7530010356),b=e(337319621),k=e(2250002584),B=e(2872463257);const W="cse-api",K="cse-boot-api";async function H(qe){const{teamId:Xe,userId:lt,isBootingWarm:Mt}=qe,$t=await Mt,en=$t?"deferred-data":"initial-data";let tn=null;((0,F.EZ)()||(0,x.MA)())&&$t&&(tn=await(0,L.z6)({teamId:Xe,userId:lt}));const Qt=P.V$.bind(null,{...qe,reason:en,minChannelUpdated:tn});return z(Qt,{teamId:Xe,userId:lt,reason:en})}E(H,"fetchBootData");function z(qe){let Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const lt=(0,k.F)(),Mt=lt.createTrace({traceName:W,tags:Xe,samplingOptions:{sampleType:B.nl.ALWAYS}});if(!(Mt!=null&&Mt.traceFn))return(0,b.Wo)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.userBoot data fetch."),qe();const $t=E((tn,Qt)=>{if((0,U.A)(Qt)){const jt={state:B.$m.SUCCESS,message:"client_userBoot_empty"};tn==null||tn.addTags(jt),tn==null||tn.close(),lt.reportTrace(Mt)}else lt.clearTrace(Mt)},"onResolve"),en=E((tn,Qt)=>{var jt;const cn={state:B.$m.ERROR};Qt!=null&&Qt.status&&(cn.status=Qt.status),Qt!=null&&Qt.message&&(cn.message=Qt.message),!(Qt==null||(jt=Qt.data)===null||jt===void 0)&&jt.error&&(cn.reason=Qt.data.error),tn==null||tn.addTags(cn),tn==null||tn.close(),lt.reportTrace(Mt)},"onError");return Mt.traceFn({name:K,onError:en,onResolve:$t},qe)}E(z,"maybeTraceClientUserBootDataFetch"),Object.defineProperty({CSE_API_TRACE_LABEL:W,CLIENT_BOOT_SPAN_LABEL:K},"fetchBootData",{get:()=>H,set:qe=>{H=qe}});var q=e(3398586081),$=e(9733150292),le=e(4178531214);const te=(0,q.A)(me,qe=>qe.enterpriseId);async function ce(qe){return qe.enterpriseId?te(qe):{}}E(ce,"maybeFetchEnterpriseData");async function me(qe){const{teamId:Xe,enterpriseId:lt}=qe;var Mt;let $t=(Mt=(0,$._z)(Xe??"","enterprise_api_token"))!==null&&Mt!==void 0?Mt:"";if(Xe&&(0,le.ZN)(Xe)&&!$t){var en;$t=(en=(0,$._z)(Xe,"token"))!==null&&en!==void 0?en:""}const[tn,Qt]=await Promise.all([(0,P.YH)(qe),(0,P.O5)({...qe,token:$t})]),jt={enterprise_id:lt,page_needs_enterprise:!0,enterprise_api_token:$t};return{enterpriseData:tn==null?void 0:tn.enterprise,enterprisePrefsData:Qt,enterpriseBootData:jt}}E(me,"fetchAllEnterpriseData");const _e={resetMemoizedFetchEnterpriseDataCache:()=>{te.cache.clear()}};var Ae=e(3914849812),ye=e(4892637646),oe=e(6998663753),ee=e(2028988448),V=e(4094753332),w=e(7206034624),Y=e(9706702639),G=e(6533394955),Z=e(5313493085);function se(qe){let{params:Xe,routeName:lt}=qe;const Mt=Xe.teamId||Xe.teamOrEnterpriseId,{dispatch:$t}=(0,G.oK)(Mt);$t((0,Z.M)({routeName:lt,routeParams:Xe}))}E(se,"channelCanvasListener");var ae=e(9268451279),re=e(2805462396),pe=e(4386248732),de=e(7765212398),ie=e(9460580631);function he(qe){let{params:Xe,prevRouteInfo:lt,prevTeamId:Mt}=qe;const $t=lt==null?void 0:lt.params;if(!$t||$t.entityId!=="composer"||!$t.draftId||$t.draftId===(Xe==null?void 0:Xe.draftId))return!0;const{dispatch:en,getState:tn}=(0,G.oK)(Mt),Qt=tn(),jt=(0,pe.di)($t.draftId);if(!jt)return!0;const cn=(0,de.YI)(Qt,jt);return(0,ae.v7)(cn,{trimWhitespace:!0})||(0,re.A)(Qt,cn)||en((0,ie.A)({ids:[jt],reason:"draftsListenerBefore"})),!0}E(he,"draftsListenerBefore");var ve=e(4446301238),ge=e(3929724715),ke=e(1407713935),Ne=e(8040098042),We=e(9101533895),Oe=e(7053828403);async function be(qe,Xe){const lt=qe.getState(),Mt=(0,We.OL)(lt,Xe,!1);return(0,ke.hc)(Mt)?Mt:qe.dispatch((0,ve.pX)({ids:[Xe],reason:"sonic/route-listeners/ensure-channel",callSource:ve.aI.EnsureChannel})).then($t=>{if(!$t)return;const{channels:en,resolved:tn}=$t;if(!(!tn||!tn.includes(Xe)))return en[0]})}E(be,"ensureChannel");const Ke=E(async qe=>{let{prevTeamId:Xe,nextTeamId:lt,routeName:Mt,params:$t={}}=qe;const en=(0,G.oK)(lt);if(!(0,Ne.A)($t.entityId))return Promise.resolve(void 0);const tn=$t.entityId;return be(en,tn).then(Qt=>{if(Qt&&!(0,ge.lo)(Qt))return Promise.resolve(void 0);if(Xe!==lt){const jt=(0,Oe.EI)(en.getState(),{mainView:!0});return jt===tn?Promise.reject(new Error("fallback channel ID === target channel ID, can\u2019t switch workspaces")):((0,f._U)(Mt,{...$t,entityId:jt},{shouldReplaceState:!0}),Promise.resolve(!1))}return Qt?Promise.reject(new Error("tried to switch to a channel from another team")):Promise.resolve(!1)})},"ensure_channel");var Fe=e(6248475576);function J(qe){let{nextTeamId:Xe,prevTeamId:lt}=qe;const{dispatch:Mt}=(0,G.oK)(Xe);lt!==Xe&&Mt((0,Fe.yh)({teamId:Xe}))}E(J,"permissionsListener");var ne=e(3614984351),je=e(9005797924),at=e(4496040127);const nt=E(qe=>{let{prevTeamId:Xe,nextTeamId:lt}=qe;if(!(0,at.VA)()||Xe===lt||!lt)return!0;if((0,ne.A)(lt,Xe))return!1;const Mt=(0,_.Ry)();return(0,v.isWorkspaceExpired)(Mt,lt)||(0,v.isWorkspacePendingAuth)(Mt,lt)?((0,je.A)(lt),!1):!0},"maybe_finish_signin");var Ge=e(4992650731);const Pe=E(qe=>{let{prevTeamId:Xe,nextTeamId:lt,routeName:Mt,params:$t}=qe;if((0,at.VA)()||Xe===lt)return!0;const en=(0,f.M5)(Mt,{...$t,teamId:lt});if(!lt)return!0;const tn=(0,_.Ry)(),Qt=(0,v.getWorkspacesMeta)(tn),jt=Qt&&Qt[lt]&&Qt[lt].subdomain,cn=(0,at.eb)(jt)||`_team_${lt}`;return(0,Ge.A)(en,cn),!1},"maybe_open_other_team_in_browser");var Le=e(8959118205),ze=e(7679173189),Me=e(7770205178),Ce=e(9132066222),Qe=e(8414867410),Be=e(5084575109),we=e(6605261507);const xe=["invitations","contacts"];function Se(qe){return xe.includes(qe)}E(Se,"isValidViewName");var Ye=e(6471801899),ot=e(8834730594),_t=e(4588963228);const pt=[/^people[ -~]{1,27}$/,/^contacts[ -~]{1,27}$/,/^otherContacts[ -~]{1,27}$/,/^slackUsers[ -~]{1,27}$/];function vt(qe){return pt.some(Xe=>Xe.test(qe))}E(vt,"looksLikeContactExternalId");var yt=e(497761763),Tt=e(7174777686),ft=e(7752506476);function Ct(qe){return(0,Tt.A)(ft.M,qe)||qe===""}E(Ct,"looksLikeFlexpaneSectionId");var At=e(1233969417);const kt=/^[\d]{13}$/;function Bt(qe){return qe?kt.test(qe):!1}E(Bt,"looksLikeLastReadTs");var St=e(4327331459),Gt=e(6427150145),Et=e(2960290117),wt=e(8237194282),Jt=e(1826991857),Lt=e(4862221402),Zt=e(8305125093);const qt=["received","sent"];function tt(qe){return qt.includes(qe)}E(tt,"looksLikeInvitationsTabRouteParam");var st=e(8538260492),gt=e(3468466741),Nt=e(4425811520);function Ht(qe){return!!Le.as[qe]}E(Ht,"isEntityRedirectKey");const Xt=E(qe=>Object.keys(Le.as).includes(qe),"isRedirectRoute"),j={entityId:qe=>(0,ot.A)(qe)||(0,_t.A)(qe)||(0,Ne.A)(qe)||(0,yt.A)(qe)||(0,St.A)(qe)||(0,ze.Ay)(qe)||(0,Lt.A)(qe)||(0,Be.n)(qe)||(0,Qe.bd)(qe)||Xt(qe)||(0,Et.Ay)(qe)||(0,Nt.xL)(qe),appOrServiceId:qe=>(0,_t.A)(qe)||(0,ot.A)(qe),timestamp:Gt.A,threadId:Jt.A,threadPageId:Jt.A,replyTs:Gt.A,sectionId:Ct,tabId:qe=>(0,we.Dl)(qe),viewName:qe=>Se(qe),listsViewName:Ye.FO,draftId:pe.ai,invitationsTabId:tt,channelId:Ne.A,channelFilesId:qe=>/^files-.+/.test(qe),searchQuery:qe=>/^search-.+/.test(qe),articleId:qe=>(0,At.A)(qe),tileEntityId:qe=>(0,Ne.A)(qe)||(0,Be.n)(qe)||(0,Qe.bd)(qe),scTeamOrEnterpriseId:qe=>(0,ze.Am)(qe),quipDocId:Et.Ay,channelCanvasId:Et.Ay,contactExternalId:vt,itemId:gt.Ny,recordId:Ye.pq,focusRecordId:Ye.or,listViewId:Ye._o,lastReadTs:Bt,canvasOpenedFromId:qe=>(0,Ne.A)(qe)||(0,St.A)(qe)||qe===st.eE.QUIP_FILES,externalWorkspacePage:Me.W_,channelTabId:Ce.jK,salesforceRecordId:wt.V,workflowTemplateId:Zt.A},Ie={[d.o]:{paths:["/"]},[Le._G]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:viewName","/:entityId/:viewName/:invitationsTabId","/:entityId/:listsViewName","/:entityId/:listsViewName/:focusRecordId","/:entityId/:listsViewName/:listViewId","/:entityId/:draftId","/:entityId/:threadPageId","/:entityId/:searchQuery","/:entityId/:channelFilesId","/:entityId/:scTeamOrEnterpriseId","/:entityId/:itemId","/:entityId/:channelCanvasId","/:entityId/:canvasOpenedFromId","/:entityId/:externalWorkspacePage","/:entityId/tabs/:channelTabId","/:entityId/:salesforceRecordId"]},[Le.lM]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:viewName/thread/:threadId","/:entityId/:viewName/:invitationsTabId/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId","/:entityId/:searchQuery/thread/:threadId","/:entityId/:channelFilesId/thread/:threadId","/:entityId/:scTeamOrEnterpriseId/thread/:threadId","/:entityId/:listsViewName/thread/:threadId","/:entityId/:canvasOpenedFromId/thread/:threadId"]},[Le.w7]:{paths:["/:entityId/messages/:channelId","/:entityId/messages/:channelId/:timestamp"]},[Le.Vy]:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:viewName/channel_info","/:entityId/:viewName/:invitationsTabId/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info","/:entityId/:threadPageId/channel_info","/:entityId/:searchQuery/channel_info","/:entityId/:channelFilesId/channel_info","/:entityId/:scTeamOrEnterpriseId/channel_info","/:entityId/:listsViewName/channel_info","/:entityId/:canvasOpenedFromId/channel_info"]},[Le.o6]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[Le.p3]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:viewName/activity","/:entityId/:viewName/:invitationsTabId/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity","/:entityId/:threadPageId/activity","/:entityId/:searchQuery/activity","/:entityId/:channelFilesId/activity","/:entityId/:scTeamOrEnterpriseId/activity","/:entityId/:canvasOpenedFromId/activity"]},[Le.W2]:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:viewName/starred_items","/:entityId/:viewName/:invitationsTabId/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items","/:entityId/:threadPageId/starred_items","/:entityId/:searchQuery/starred_items","/:entityId/:channelFilesId/starred_items","/:entityId/:scTeamOrEnterpriseId/starred_items","/:entityId/:listsViewName/starred_items","/:entityId/:canvasOpenedFromId/starred_items"]},[Le.ym]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:viewName/saved","/:entityId/:viewName/:invitationsTabId/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved","/:entityId/:threadPageId/saved","/:entityId/:searchQuery/saved","/:entityId/:channelFilesId/saved","/:entityId/:scTeamOrEnterpriseId/saved","/:entityId/:listsViewName/saved","/:entityId/:canvasOpenedFromId/saved"]},[Le.fr]:{paths:["/:entityId/appspane","/:entityId/:timestamp/appspane","/:entityId/:viewName/appspane","/:entityId/:viewName/:invitationsTabId/appspane","/:entityId/:tabId/appspane","/:entityId/:draftId/appspane","/:entityId/:threadPageId/appspane","/:entityId/:searchQuery/appspane","/:entityId/:channelFilesId/appspane","/:entityId/:scTeamOrEnterpriseId/appspane","/:entityId/:listsViewName/appspane","/:entityId/:canvasOpenedFromId/appspane"]},[Le.M9]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:viewName/files","/:entityId/:viewName/:invitationsTabId/files","/:entityId/:tabId/files","/:entityId/:draftId/files","/:entityId/:threadPageId/files","/:entityId/:searchQuery/files","/:entityId/:channelFilesId/files","/:entityId/:scTeamOrEnterpriseId/files","/:entityId/:listsViewName/files"]},[Le.T$]:{paths:["/:entityId/filespane","/:entityId/:timestamp/filespane","/:entityId/:viewName/filespane","/:entityId/:viewName/:invitationsTabId/filespane","/:entityId/:tabId/filespane","/:entityId/:draftId/filespane","/:entityId/:threadPageId/filespane","/:entityId/:searchQuery/filespane","/:entityId/:channelFilesId/filespane","/:entityId/:scTeamOrEnterpriseId/filespane","/:entityId/:listsViewName/filespane"]},[Le.De]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:viewName/files/:fileId","/:entityId/:viewName/:invitationsTabId/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId","/:entityId/:threadPageId/files/:fileId","/:entityId/:searchQuery/files/:fileId","/:entityId/:channelFilesId/files/:fileId","/:entityId/:scTeamOrEnterpriseId/files/:fileId","/:entityId/:listsViewName/files/:fileId","/:entityId/:canvasOpenedFromId/files/:fileId"]},[Le.wA]:{paths:["/:entityId/comments/:quipDocId","/:entityId/:canvasOpenedFromId/comments/:quipDocId"]},[Le.li]:{paths:["/:entityId/history/:quipDocId","/:entityId/:canvasOpenedFromId/history/:quipDocId"]},[Le.mj]:{paths:["/:entityId/docs/:quipDocId","/:entityId/docs/:quipDocId/:lastReadTs","/:entityId/:timestamp/docs/:quipDocId","/:entityId/:viewName/docs/:quipDocId","/:entityId/:viewName/:invitationsTabId/docs/:quipDocId","/:entityId/:tabId/docs/:quipDocId","/:entityId/:draftId/docs/:quipDocId","/:entityId/:threadPageId/docs/:quipDocId","/:entityId/:searchQuery/docs/:quipDocId","/:entityId/:channelFilesId/docs/:quipDocId","/:entityId/:listsViewName/docs/:quipDocId"]},[Le.y0]:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:viewName/files/type","/:entityId/:viewName/:invitationsTabId/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type","/:entityId/:threadPageId/files/type","/:entityId/:searchQuery/files/type","/:entityId/:channelFilesId/files/type","/:entityId/:scTeamOrEnterpriseId/files/type","/:entityId/:listsViewName/files/type"]},[Le.Nh]:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:viewName/files/memberId","/:entityId/:viewName/:invitationsTabId/files/memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId","/:entityId/:threadPageId/files/:memberId","/:entityId/:searchQuery/files/:memberId","/:entityId/:channelFilesId/files/:memberId","/:entityId/:scTeamOrEnterpriseId/files/:memberId","/:entityId/:listsViewName/files/:memberId","/:entityId/:canvasOpenedFromId/files/:memberId"]},[Le.$s]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:viewName/user_groups","/:entityId/:viewName/:invitationsTabId/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups","/:entityId/:threadPageId/user_groups","/:entityId/:searchQuery/user_groups","/:entityId/:channelFilesId/user_groups","/:entityId/:scTeamOrEnterpriseId/user_groups","/:entityId/:listsViewName/user_groups","/:entityId/:canvasOpenedFromId/user_groups"]},[Le.Mu]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:viewName/user_groups/:userGroupId","/:entityId/:viewName/:invitationsTabId/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId","/:entityId/:threadPageId/user_groups/:userGroupId","/:entityId/:searchQuery/user_groups/:userGroupId","/:entityId/:channelFilesId/user_groups/:userGroupId","/:entityId/:scTeamOrEnterpriseId/user_groups/:userGroupId","/:entityId/:listsViewName/user_groups/:userGroupId","/:entityId/:canvasOpenedFromId/user_groups/:userGroupId"]},[Le.Ns]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:viewName/whats_new","/:entityId/:viewName/:invitationsTabId/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new","/:entityId/:threadPageId/whats_new","/:entityId/:searchQuery/whats_new","/:entityId/:channelFilesId/whats_new","/:entityId/:scTeamOrEnterpriseId/whats_new","/:entityId/:listsViewName/whats_new","/:entityId/:canvasOpenedFromId/whats_new"]},[Le.IN]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:viewName/shortcuts","/:entityId/:viewName/:invitationsTabId/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts","/:entityId/:threadPageId/shortcuts","/:entityId/:searchQuery/shortcuts","/:entityId/:channelFilesId/shortcuts","/:entityId/:scTeamOrEnterpriseId/shortcuts","/:entityId/:listsViewName/shortcuts","/:entityId/:canvasOpenedFromId/shortcuts"]},[Le.Q$]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:viewName/user_profile/:memberId","/:entityId/:viewName/:invitationsTabId/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId","/:entityId/:threadPageId/user_profile/:memberId","/:entityId/:searchQuery/user_profile/:memberId","/:entityId/:channelFilesId/user_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/user_profile/:memberId","/:entityId/:listsViewName/user_profile/:memberId","/:entityId/:canvasOpenedFromId/user_profile/:memberId"]},[Le.E2]:{paths:["/:entityId/help","/:entityId/:timestamp/help","/:entityId/:viewName/help","/:entityId/:viewName/:invitationsTabId/help","/:entityId/:tabId/help","/:entityId/:draftId/help","/:entityId/:threadPageId/help","/:entityId/:searchQuery/help","/:entityId/:channelFilesId/help","/:entityId/:scTeamOrEnterpriseId/help","/:entityId/:listsViewName/help","/:entityId/:canvasOpenedFromId/help"]},[Le.vA]:{paths:["/:entityId/help/:articleId","/:entityId/:timestamp/help/:articleId","/:entityId/:viewName/help/:articleId","/:entityId/:viewName/:invitationsTabId/help/:articleId","/:entityId/:tabId/help/:articleId","/:entityId/:draftId/help/:articleId","/:entityId/:threadPageId/help/:articleId","/:entityId/:searchQuery/help/:articleId","/:entityId/:channelFilesId/help/:articleId","/:entityId/:scTeamOrEnterpriseId/help/:articleId","/:entityId/:listsViewName/help/:articleId","/:entityId/:canvasOpenedFromId/help/:articleId"]},[Le.Dn]:{paths:["/:entityId/rimeto_profile/:memberId","/:entityId/:timestamp/rimeto_profile/:memberId","/:entityId/:viewName/rimeto_profile/:memberId","/:entityId/:viewName/:invitationsTabId/rimeto_profile/:memberId","/:entityId/:tabId/rimeto_profile/:memberId","/:entityId/:searchQuery/rimeto_profile/:memberId","/:entityId/:draftId/rimeto_profile/:memberId","/:entityId/:threadPageId/rimeto_profile/:memberId","/:entityId/:channelFilesId/rimeto_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/rimeto_profile/:memberId","/:entityId/:listsViewName/rimeto_profile/:memberId","/:entityId/:canvasOpenedFromId/rimeto_profile/:memberId"]},[Le.Ie]:{paths:["/:entityId/feedback","/:entityId/:timestamp/feedback","/:entityId/:viewName/feedback","/:entityId/:viewName/:invitationsTabId/feedback","/:entityId/:tabId/feedback","/:entityId/:draftId/feedback","/:entityId/:threadPageId/feedback","/:entityId/:searchQuery/feedback","/:entityId/:channelFilesId/feedback","/:entityId/:scTeamOrEnterpriseId/feedback","/:entityId/:listsViewName/feedback","/:entityId/:canvasOpenedFromId/feedback"]},[Le.Bh]:{paths:["/:channelId/huddle"]},[Le.Mv]:{paths:["/:entityId/huddles_captions","/:entityId/:timestamp/huddles_captions","/:entityId/:viewName/huddles_captions","/:entityId/:viewName/:invitationsTabId/huddles_captions","/:entityId/:tabId/huddles_captions","/:entityId/:draftId/huddles_captions","/:entityId/:threadPageId/huddles_captions","/:entityId/:searchQuery/huddles_captions","/:entityId/:channelFilesId/huddles_captions","/:entityId/:scTeamOrEnterpriseId/huddles_captions","/:entityId/:listsViewName/huddles_captions","/:entityId/:canvasOpenedFromId/huddles_captions"]},[Le.d2]:{paths:["/:entityId/contact_profile/:contactExternalId","/:entityId/:timestamp/contact_profile/:contactExternalId","/:entityId/:viewName/contact_profile/:contactExternalId","/:entityId/:viewName/:invitationsTabId/contact_profile/:contactExternalId","/:entityId/:tabId/contact_profile/:contactExternalId","/:entityId/:draftId/contact_profile/:contactExternalId","/:entityId/:threadPageId/contact_profile/:contactExternalId","/:entityId/:searchQuery/contact_profile/:contactExternalId","/:entityId/:channelFilesId/contact_profile/:contactExternalId","/:entityId/:scTeamOrEnterpriseId/contact_profile/:contactExternalId","/:entityId/:listsViewName/contact_profile/:contactExternalId","/:entityId/:canvasOpenedFromId/contact_profile/:contactExternalId"]},[Le.p$]:{paths:["/:entityId/record/:recordId","/:entityId/:timestamp/record/:recordId","/:entityId/:viewName/record/:recordId","/:entityId/:viewName/:invitationsTabId/record/:recordId","/:entityId/:tabId/record/:recordId","/:entityId/:draftId/record/:recordId","/:entityId/:threadPageId/record/:recordId","/:entityId/:searchQuery/record/:recordId","/:entityId/:channelFilesId/record/:recordId","/:entityId/:scTeamOrEnterpriseId/record/:recordId","/:entityId/:listsViewName/record/:recordId","/:entityId/:canvasOpenedFromId/record/:recordId"]},[Le.td]:{paths:["/:entityId/:tabId/:workflowTemplateId"]}};function Ue(){(0,f.S2)(j,Ie)}E(Ue,"setRoutes");const rt=E(qe=>{let{routeName:Xe,params:lt={}}=qe;const{entityId:Mt}=lt;return Mt&&Ht(Mt)?((0,f._U)(Xe,{...lt,entityId:Le.as[Mt]},{shouldReplaceState:!0}),!1):!0},"maybe_redirect_entity");var zt=e(9823696244),Wt=e(109860581),Ft=e(5223893135),rn=e(5250801180),_n=e(3193155968),An=e(7429662208);function un(qe){let{prevTeamId:Xe,nextTeamId:lt}=qe;if(!lt||Xe===lt)return;const Mt=(0,G.oK)(lt),$t=Mt.getState(),en=(0,An.e6)($t),tn=(0,An.Le)($t,{tab:en}),Qt=(0,An.Oy)($t),jt=(0,Ft.V)($t),cn=(0,Ft.V)((0,_.Ry)()),Tn=jt||cn?(0,Ft.T)($t,{id:_n.N2}):void 0;Mt.dispatch((0,rn.I)()),Mt.dispatch((0,zt.C)({prevViewSet:void 0,prevTab:void 0,nextViewSet:tn,nextTab:en,windowId:_n.N2,navigateParams:{destinationContainer:Tn,teamId:lt},triggerType:Wt.w.TEAM_SWITCH,prevSplitView:Qt,nextSplitView:Qt}))}E(un,"maybeRunTeamSwitchNavigateListeners");var Rn=e(6555262004),Un=e(5078290763),Wn=e(4656278360),vn=e(2567914105),Ln=e(9003400431),On=e(8243624171);function kn(qe){let{nextTeamId:Xe,prevTeamId:lt}=qe;const{dispatch:Mt,getState:$t}=(0,G.oK)(lt),en=$t();return(0,vn.iS)(en)?new Promise((Qt,jt)=>{Mt((0,Un.P)({openModalProps:{isStackable:!0},onConfirmClose:()=>{Mt((0,Wn.U)(!1)),Mt((0,Ln.O)({closeAll:!0})),Qt()},onCancelClose:()=>{jt()}}))}):(lt&&!(0,On.Vq)({teamId:lt})&&Mt(Xe===lt?(0,Ln.O)({closeNamed:Rn.N}):(0,Ln.O)({closeAll:!0})),!0)}E(kn,"modalListenerBefore");var Hn=e(6088404775);function Bn(qe){const Xe=(0,Hn.h)();return Xe!=null&&Xe.onClose&&(Xe==null||Xe.onClose()),!0}E(Bn,"pinsPopoverListenerAfter");var Jn=e(3982416567),ts=e(6304789565),on=e(1466694191),$n=e(6078549397),zn=e(7307560139),Zn=e(6822097892),yn=e(4033441523);const Kn=["comment_thread","activity_history","files","rimeto_profile","thread",Le.li,Le.lM,Le.De,Le.Dn,Le.Q$],Cn=(0,ts.Ay)("Post activity history routing side effects",(qe,Xe,lt)=>{let{params:Mt,prevRouteInfo:$t,routeName:en}=lt;var tn;const Qt=Mt==null?void 0:Mt.entityId,jt=$t==null||(tn=$t.params)===null||tn===void 0?void 0:tn.entityId,cn=_n.N2;if(en===Le._G&&Qt&&(0,on.A)(Qt)){const{fileIdOrQuipThreadId:qn}=(0,$n.EX)(Qt);Kn.includes($t==null?void 0:$t.routeName)&&qe((0,Zn.A)({fileId:qn,windowId:cn,source:yn.f.QUIP_ACTIVITY_HISTORY_LISTENER,isFromCloseActivityHistory:!0}))}let Pn=Qt,Tn=jt;(0,Et.Ay)(jt)&&(0,Et.Ay)(Qt)&&(Pn=(0,$n.EX)(jt).fileIdOrQuipThreadId,Tn=(0,$n.EX)(Qt).fileIdOrQuipThreadId),Pn!==Tn&&qe((0,zn.NA)({windowId:cn}))});Cn.meta={name:"createThunk",key:"createThunkpostQuipActivityHistoryRouting",description:"Post activity history routing side effects"};function os(qe){let{params:Xe,prevRouteInfo:lt,routeName:Mt,reason:$t}=qe;const en=Xe.teamId||Xe.teamOrEnterpriseId,{dispatch:tn,getState:Qt}=(0,G.oK)(en);(0,Jn.O4)(Qt())&&tn(Cn({routeName:Mt,params:Xe,prevRouteInfo:lt,reason:$t}))}E(os,"quipActivityHistoryListener");const _s=E(qe=>{let{nextTeamId:Xe,routeName:lt,params:Mt}=qe;const $t={routeName:lt,params:Mt};return Xe&&(0,$.t2)(Xe,"lastRoute",$t),!0},"save_route_to_local_config");var ms=e(210422728),Je=e(9551235052);function X(qe){let{prevTeamId:Xe}=qe;const lt=(0,G.oK)(Xe);return(0,Je.J)(lt.getState())&&(lt.dispatch((0,ms.T)(!0)),Y.g.delete("setNavigatedDuringWarmBoot")),Promise.resolve()}E(X,"setNavigatedDuringWarmBoot");var ue=e(6495946979),Ee=e(8473952534),Te=e(8213251995),He=e(3977512448);function $e(qe){let{nextTeamId:Xe,prevRouteInfo:lt,params:Mt}=qe;var $t;const en=(0,G.oK)(Xe),tn=en.getState(),Qt=(0,Te.c8)(tn),jt=(0,We.OL)(tn,Mt.entityId),cn=(lt==null||($t=lt.params)===null||$t===void 0?void 0:$t.entityId)||"";(cn===st.eE.CHANNELS||cn===He.b||cn===He.Z1)&&(Mt!=null&&Mt.entityId)&&jt&&!(0,ue.bl)(jt)&&en.dispatch((0,Ee.Tm)({channelId:Mt.entityId,prevRoute:cn})),Qt&&(lt==null?void 0:lt.routeName)==="ROUTE_ENTITY"&&(0,Ne.A)(cn)&&en.dispatch((0,Ee.Tm)({channelId:null,prevRoute:null}))}E($e,"setPreviewingFromChannelBrowserOrLaunchpad");var it=e(8628205589),ht=e(4529239752),Kt=e(9795506498);function It(qe){let{nextTeamId:Xe,uuid:lt,shouldReplaceState:Mt,reason:$t}=qe;var en;if(!Xe||!lt)return;if($t!==f.GB)if(Mt)(0,_.dispatchForClientStore)((0,it.HQ)({windowId:_n.N2,entry:{id:lt,ts:Date.now(),teamId:Xe,isIA4:!1}}));else{const cn=(0,ht.XG)((0,_.Ry)());cn>0&&(0,_.dispatchForClientStore)((0,it.$E)({windowId:_n.N2,index:cn})),(0,_.dispatchForClientStore)((0,it.y2)({windowId:_n.N2,entry:{id:lt,ts:Date.now(),teamId:Xe,isIA4:!1}}))}const tn=(0,G.oK)(Xe),Qt=tn.getState();if(!((en=window.history.state)===null||en===void 0)&&en.isIA4)return;const jt=(0,An.Gl)(Qt);tn.dispatch((0,Kt.A)({windowId:_n.N2,entry:jt}))}E(It,"updateIA4History");var Ut=e(235108050);const ln=E(qe=>{let{prevTeamId:Xe,nextTeamId:lt}=qe;if(Xe===lt||!lt)return;const Mt=(0,$.W6)("recentlyUsedTeamIds")||Xe&&[Xe]||[];Mt.unshift(lt),(0,$.q9)("recentlyUsedTeamIds",(0,Ut.A)(Mt)),(0,$.t2)(lt,"mostRecentlyUsedDate",new Date)},"update_recently_used_teams");var sn=e(7502434758),dn;(function(qe){qe.JA_JP="ja-JP",qe.EN_US="en-US",qe.EN_GB="en-GB",qe.ES_ES="es-ES",qe.ES_LA="es-LA",qe.FR_FR="fr-FR",qe.DE_DE="de-DE",qe.PT_BR="pt-BR",qe.KO_KR="ko-KR",qe.IT_IT="it-IT",qe.ZH_CN="zh-CN",qe.ZH_TW="zh-TW"})(dn||(dn={}));const gn=dn.EN_US;var In=e(7729538251),Vn=e(2554594353),bn=e(3080748521);function xn(qe){let{nextTeamId:Xe,routeName:lt,params:Mt}=qe;Xe&&((0,_.dispatchForClientStore)((0,Vn.b)({teamId:Xe,routeName:lt,params:Mt,fromNavigation:!0})),(0,G.oK)(Xe)&&(0,G.Qw)(Xe,(0,ms.w)({routeName:lt,params:Mt})))}E(xn,"syncRouteStoreWithUrl");async function Qn(qe){let{prevTeamId:Xe,nextTeamId:lt,navigationTimestamp:Mt}=qe;const $t=(0,_.Ry)();if(!lt||(0,v.hasWorkspaceFailedToBoot)($t,lt)||(0,v.doesWorkspaceNeed2FASetup)($t,lt)||(0,v.isWorkspaceExpired)($t,lt)||(0,v.isWorkspacePendingAuth)($t,lt))return!0;const en=(0,G.oK)(lt),tn=en&&en.getState(),Qt=(0,bn.MC)(tn),jt=(0,bn.D8)(tn)||Le._G;if((0,V.y3)()&&jt===d.o)return!0;const cn=!Xe;return await(0,f._U)(jt,{...Qt,teamId:lt},{reason:"navigateToLastSavedRoute",shouldReplaceState:cn,navigationTimestamp:Mt}),!1}E(Qn,"navigateToLastSavedRoute");function hn(qe){let{prevTeamId:Xe,nextTeamId:lt}=qe;if(!Xe||!lt||Xe===lt)return;const Mt=rs(lt);return Promise.resolve((0,In.xS)(Mt,lt)).then(()=>{})}E(hn,"ensureCorrectLocaleForTeam");function as(qe){let{prevTeamId:Xe,nextTeamId:lt}=qe;if(!Xe||!lt||Xe===lt)return;const Mt=rs(lt);if(Mt)return(0,w.zI)(Mt)}E(as,"ensureCorrectLocaleForExternalLibs");function rs(qe){const Xe=window.location.search.match(/[&?]locale=([a-zA-Z-]*)/),lt=Xe?Xe[1]:(0,$._z)(qe,"user_locale");return lt&&(0,w.YI)(lt)?lt:gn}E(rs,"getLocaleForTeam");const ys=(0,oe.A)(Is);function Is(){Y.g.set("maybeOpenOtherTeamInBrowser",(0,f.Y8)(Pe)),Y.g.set("modalListenerBefore",(0,f.Y8)(kn)),Y.g.set("maybeFinishSignin",(0,f.Y8)(nt)),Y.g.set("maybeRedirectEntity",(0,f.Y8)(rt)),Y.g.set("navigateToLastSavedRoute",(0,f.Y8)(Qn,[d.o])),Y.g.set("ensureChannel",(0,f.Y8)(Ke,[])),Y.g.set("draftsListenerBefore",(0,f.Y8)(he)),Y.g.set("ensureCorrectLocaleForExternalLibs",(0,f.Dd)(as)),Y.g.set("updateIA4History",(0,f.Dd)(It)),Y.g.set("maybeRunTeamSwitchNavigateListeners",(0,f.Dd)(un)),Y.g.set("setNavigatedDuringWarmBoot",(0,f.Dd)(X)),Y.g.set("pinsPopoverListenerAfter",(0,f.Y8)(Bn)),Y.g.set("syncRouteStoreWithUrl",(0,f.Dd)(xn)),Y.g.set("ensureCorrectLocaleForTeam",(0,f.Dd)(hn)),Y.g.set("setLocalConfigForTeamWithKey",(0,f.Dd)(_s)),Y.g.set("updateRecentlyUsedTeams",(0,f.Dd)(ln)),Y.g.set("maybeFetchClientPermissions",(0,f.Dd)(J)),Y.g.set("maybeIncrementHistoryLength",(0,f.Dd)(sn.Cu)),Y.g.set("setPreviewingFromChannelBrowserOrLaunchpad",(0,f.Dd)($e)),Y.g.set("channelCanvasListener",(0,f.Dd)(se)),Y.g.set("quipActivityHistoryListener",(0,f.Dd)(os))}E(Is,"registerRouteListenersInner"),(0,ee.ul)("router.listeners",()=>[...Y.g.entries()]);const Xn={syncRouteStoreWithUrl:xn,navigateToLastSavedRoute:Qn,ensureCorrectLocaleForTeam:hn,ensureCorrectLocaleForExternalLibs:as,getLocaleForTeam:rs};Object.defineProperty(Xn,"syncRouteStoreWithUrl",{get:()=>xn,set:qe=>{xn=qe}}),Object.defineProperty(Xn,"navigateToLastSavedRoute",{get:()=>Qn,set:qe=>{Qn=qe}}),Object.defineProperty(Xn,"ensureCorrectLocaleForTeam",{get:()=>hn,set:qe=>{hn=qe}}),Object.defineProperty(Xn,"ensureCorrectLocaleForExternalLibs",{get:()=>as,set:qe=>{as=qe}}),Object.defineProperty(Xn,"getLocaleForTeam",{get:()=>rs,set:qe=>{rs=qe}});var hs=e(9323322135);const Ms=E(()=>({deviceId:hs.iCQ}),"getSharedTracerTags");var Ws=e(7302681637),Ys=e(719020269);const Us=E(async()=>{hs.goh.isAvailable()&&(0,hs.goh)().includes("DisableServiceWorker")&&await(0,Ys._E)()},"disableServiceWorkerForClientConfig"),Fs=E(async()=>{(0,V.X5)()===V.h5.SAFARI&&await(0,Ys._E)()},"disableServiceWorkerForSafari"),Hs=E(async()=>{await Fs(),await Us()},"maybeDisableServiceWorker");var Yn=e(397226212),ps=e(6123258136),ls=e(1319016163);async function Rs(qe){let{contextualInfo:Xe}=qe;return{contextualInfo:Xe,otherTeamsToBoot:(0,ls.gv)()}}E(Rs,"setupOtherTeamsToBoot");var Ls=e(5695315324),et=e(4148579738),xt=e(7202182728);async function bt(){if((0,o.$i)()||(0,o.b3)()||(0,o.Cu)()){const Xe=(await e.e("sqlite-worker-dev").then(e.bind(e,5776851262))).default;return new Xe}return new Worker("/sqlite.worker.js")}E(bt,"initSqliteWorker");const dt=xt.D;var mt=e(3803432550),Pt=e(2750801670),Rt=e(4157777698);Hs(),window.boot_html__initial_boot_duration=Date.now()-window.sonic_boot__phase_1_5__start,window.boot_render_start=Date.now();const Vt=E(qe=>({...(0,Pt.s)(qe),actionSanitizer:Rt.g}),"createReduxDevtools");function nn(qe){return qe.registerConfig({isPersistenceEnabled:!0,isMultiTeamEnabled:(0,at.VA)(),getCreateReduxDevtools:()=>Vt}),qe.registerErrorHandlers(I),qe.registerDynamicImportFns({data:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-data")]).then(e.bind(e,9428507909)),apis:()=>Promise.all([e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-async-client-boot-apis")]).then(e.bind(e,6959220389)),render:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,8570069737)),deferred:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-deferred")]).then(e.bind(e,1009905056))}),qe.registerInitialApiCalls({experimentData:P.dC,featureFlagData:P.BG,clientBootData:H,viewData:Ae.L$,allEnterpriseData:ce,featureAccessData:P.jH,shouldReloadData:Ws.zw}),et.e.register(Ms),(0,ye.b)(qe),qe.hooks.beforeDynamicImportsStart.tap("Render Placeholder",async Xe=>{let{contextualInfo:lt}=Xe;return(0,p.Sp)({teamId:lt.teamOrEnterpriseBootId}),{contextualInfo:lt}}),qe.hooks.beforeDynamicImportsStart.tap("[experiment:wasm_sqlite_spike] Start downloading the sqlite worker",async Xe=>{let{contextualInfo:lt}=Xe;return(0,x.MA)()&&bt(),{contextualInfo:lt}}),qe.hooks.afterDynamicImportsStart.tap("[experiment:wasm_sqlite_spike] Start the sqlite client",async Xe=>{let{contextualInfo:lt}=Xe;return(0,x.MA)()&&await dt(),{contextualInfo:lt}}),qe.hooks.afterDynamicImportsStart.tap("Set routes",async Xe=>{let{contextualInfo:lt}=Xe;return Ue(),{contextualInfo:lt}}),qe.hooks.afterDynamicImportsStart.tap("Set up client store",async Xe=>{let{contextualInfo:lt}=Xe;return(0,mt.x)(lt.teamId),{contextualInfo:lt}}),qe.hooks.afterDynamicImportsStart.tap("Register route listeners",async Xe=>{let{contextualInfo:lt}=Xe;return ys(),{contextualInfo:lt}}),qe.hooks.afterDynamicImportsStart.tap("Update last active team ID in localConfig",async Xe=>{let{contextualInfo:lt}=Xe;const{teamId:Mt}=lt;return Mt?(Mt!==(0,$.W6)("lastActiveTeamId")&&(0,$.q9)("lastActiveTeamId",Mt),{contextualInfo:lt}):{contextualInfo:lt}}),qe.hooks.beforeInitializeTeam.tap("Halt further boot if client is reloading",async Xe=>{let{contextualInfo:lt}=Xe;return window.isReloading?((0,t.pq)("BOOT",`(${lt.teamId}) Ongoing reload detected; Cancelling boot.`),(0,r.A)()):{contextualInfo:lt}}),qe.hooks.beforeInitializeTeam.tap("[experiment:wasm_sqlite_spike] Init tables for team and user",async Xe=>{let{contextualInfo:lt}=Xe;const{teamId:Mt,userId:$t}=lt;if((0,x.MA)()&&Mt&&$t){const en=(0,xt.D)(),tn=2500,Qt="[BOOT] sqlite.initTables";try{await(0,l.wj)(en.initTables({teamId:Mt,userId:$t}),tn,Qt)}catch(jt){(0,t.pq)("BOOT","Could not init SQLite tables, moving on. See error:",jt)}}return{contextualInfo:lt}}),qe.hooks.beforeInitializeTeam.tap("Set tokens",async Xe=>{let{contextualInfo:lt}=Xe;return(0,ps.L)({contextualInfo:lt})}),qe.hooks.beforeInitializeTeam.tap(" Kick off objectStore fetch for minChannelUpdated ",async Xe=>{let{contextualInfo:lt}=Xe;return((0,F.EZ)()||(0,x.MA)())&&(0,L.z6)({teamId:lt.teamId,userId:lt.userId}),{contextualInfo:lt}}),qe.hooks.setupMultiTeam.tap("Set up all other teams to boot if in multi team mode",Rs),qe.run()}if(E(nn,"boot"),!(0,i.A)()){const qe=(0,Yn.z4)(Ls.Y.CLIENT_V2);if(!(0,a.z$)()&&(0,o.KV)()&&(0,n.b)()){const Xe=e(8904626639);Xe.init({dsn:`https://4162106b525941d087e5f8f5e446ae9b@app.${(0,s.Xk)()}/apps/sentryproxy/5865811`,release:`webapp@${(0,c.HF)()}`,defaultIntegrations:!1,integrations:[Xe.browserTracingIntegration({enableInp:!0}),Xe.browserProfilingIntegration(),Xe.httpContextIntegration()],sampleRate:1,tracesSampleRate:1,profilesSampleRate:1,tracePropagationTargets:[],replaysSessionSampleRate:0,replaysOnErrorSampleRate:0})}nn(qe)}const En={boot:nn}},3914849812:(N,y,e)=>{"use strict";e.d(y,{L$:()=>_});var t=e(7031360717),n=e(1460808057),o=e(5695315324),s=e(8187930033),c=e(8414867410),r=e(337319621),a=e(5084575109),i=e(8834730594),l=e(8040098042),m=e(2960290117);async function _(v){const{appName:u,bootQueue:g,token:p,teamId:A}=v;if(!p)return(0,r.Ay)({teamOrEnterpriseId:A,label:"BOOT"}).error(new Error("Token missing; Unable to fetch messages data.")),null;if(!A)return(0,r.Ay)({teamOrEnterpriseId:A,label:"BOOT"}).error(new Error("teamId missing; Unable to fetch messages data.")),null;const C=await(0,n.E)({contextualInfo:v});return h({bootQueue:g,token:p,teamId:A,routeInfo:C,appName:u})}E(_,"maybeFetchMessagesData");async function h(v){let{bootQueue:u,token:g,teamId:p,routeInfo:A,appName:C}=v;var T;const I=A==null||(T=A.params)===null||T===void 0?void 0:T.entityId;return I&&(0,l.A)(I)&&!(0,a.n)(I)&&!(0,c.bd)(I)&&!(0,i.A)(I)&&!(0,m.Ay)(I)?((0,t.pq)("BOOT",`Booting into channel: ${I}`),d({appName:C,bootQueue:u,token:g,teamId:p,id:I})):!(0,a.n)(I)&&!(0,c.bd)(I)&&!(0,i.A)(I)&&!(0,m.Ay)(I)?((0,t.pq)("BOOT","Couldn't determine boot channel. Falling back to default channel"),d({appName:C,bootQueue:u,token:g,teamId:p})):null}E(h,"fetchMessagesDataForRoute");function d(v){let{bootQueue:u,token:g,teamId:p,id:A,appName:C}=v;const T={token:g,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,include_stories:!0,no_members:!0,include_mutation_timestamps:!0,count:28,include_free_team_extra_messages:!0};A&&(T.channel=A),C===o.Y.SINGLE_CHANNEL_CLIENT&&(T.is_single_channel_boot=1);const I=new s.Ay({method:"conversations.view",args:T,teamId:p});return u.q(I).catch(M=>((0,r.Ay)({teamOrEnterpriseId:p,label:"BOOT"}).error(new Error(`unable to fetch messages data ${M}`)),null))}E(d,"fetchMessagesData");const f={fetchMessagesData:d}},879418974:(N,y,e)=>{"use strict";e.d(y,{d:()=>s});var t=e(8798294025),n=e(7530171941),o=e(6113051341);function s(c){let{channels:r,selfId:a}=c;const i={};return r.some((l,m)=>{const _=l==null?void 0:l.id;return(0,o.N)(l)?(i.general=_,!0):((0,n.D)(l)&&(i.slackbot=_),a&&(0,t.e)(l)===a&&(i.self=_),m||(i.first=_),!1)}),i.general||i.slackbot||i.self||i.first}E(s,"getAnyChannelForRouting")},1460808057:(N,y,e)=>{"use strict";e.d(y,{E:()=>s});var t=e(879418974),n=e(8959118205),o=e(771196083);async function s(a){let{contextualInfo:i,channels:l}=a;const{isForegroundTeam:m}=i,_=(0,o.Gf)({shouldSetFocus:m});return _||c({contextualInfo:i,channels:l})}E(s,"getRouteInfo");function c(a){let{contextualInfo:i,channels:l}=a;const{teamId:m}=i;if(!m)return null;const _=(0,o.lQ)(m);if(_)return _;if(l){const h=i.userId;return r({channels:l,selfId:h})}return null}E(c,"calculateRouteInfo");function r(a){let{channels:i,selfId:l}=a;if(!i.length)return null;const m={routeName:n._G,params:{}},_=(0,t.d)({channels:i,selfId:l});return _&&(m.params.entityId=_),m}E(r,"getRouteFromBootData")},2212859256:(N,y,e)=>{"use strict";e.d(y,{y:()=>c});var t=e(7031360717),n=e(9706702639),o=e(6533394955),s=e(1314103953);function c(r){if(!r)return;const a=(0,o.oK)(r);a&&((0,t.pq)("BOOT",`(${r}) Boot complete`),n.g.delete("setNavigatedDuringWarmBoot"),a.dispatch((0,s.b)(!1)),a.dispatch((0,s.k)(!1)))}E(c,"markTeamBootCompleted")},4892637646:(N,y,e)=>{"use strict";e.d(y,{b:()=>s,h:()=>o});var t=e(7906695911),n=e(2872463257);async function o(a){let{contextualInfo:i}=a;const{getTraceMeta:l,isBootingWarm:m,appName:_}=i,{getTracer:h,tags:d}=l(),f=await m?t.H.WARM:t.H.COLD,v=h().createTrace({traceName:t.S.BOOT_INITIAL_LOAD,tags:{boot_type:f,app_name:_,...d},autoCreateRootSpan:!1,samplingOptions:{sampleType:n.nl.ALWAYS}});v.startSpan(t.S.BOOT_INITIAL_LOAD,{setAsRootSpan:!0,startTime:performance.timing.fetchStart,closeTime:window.boot_render_start}),v.startSpan(t.S.BOOT_INITIAL_LOAD_HTML,{startTime:performance.timing.fetchStart,closeTime:performance.timing.fetchStart+window.sonic_boot__phase_1__duration}),v.startSpan(t.S.BOOT_INITIAL_LOAD_JS,{startTime:window.sonic_boot__phase_1_5__start,closeTime:window.sonic_boot__phase_1_5__start+window.boot_html__initial_boot_duration}),h().reportTrace(v)}E(o,"collectInitialPageLoadMetrics");function s(a){a.hooks.beforeDynamicImportsStart.addCallIntercept(i=>c(i)),a.hooks.renderApp.addCallIntercept(i=>r(i))}E(s,"setupBootMetricsTracing");function c(a){return i=>{const{getTracer:l,setTrace:m,rootTrace:_}=i.contextualInfo.getTraceMeta(),d=l().createTrace({traceName:t.S.BOOT_TIME_TO_START_RENDER,autoCreateRootSpan:!1,parentSpanId:_.getRootSpanId(),traceId:_.getTraceId()});return d.startSpan(t.S.BOOT_TIME_TO_START_RENDER,{setAsRootSpan:!0,startTimeMs:window.boot_render_start}),m(d),a(i)}}E(c,"startTimeToRenderTrace");function r(a){return async i=>{const{isBootingWarm:l,getTraceMeta:m,isForegroundTeam:_}=i.contextualInfo,{getTracer:h,getTrace:d,setTrace:f,rootTrace:v}=m(),u=h(),g=d(),p=await l?t.H.WARM:t.H.COLD;return g.addTags({boot_type:p,is_foreground_team:_}),u.reportTrace(g),f(v),a(i)}}E(r,"endTimeToRenderTrace")},7906695911:(N,y,e)=>{"use strict";e.d(y,{H:()=>n,S:()=>t});var t;(function(o){o.BOOT_INITIAL_LOAD="boot:initial_load",o.BOOT_INITIAL_LOAD_HTML="boot:initial_load:html",o.BOOT_INITIAL_LOAD_JS="boot:initial_load:js",o.BOOT_TIME_TO_START_RENDER="boot:time_to_start_render",o.BOOT_TIME_TO_MOUNT_CLIENT="boot:time_to_mount_client"})(t||(t={}));var n;(function(o){o.COLD="cold",o.WARM="warm"})(n||(n={}))},9706702639:(N,y,e)=>{"use strict";e.d(y,{g:()=>t});const t=new Map},5088972093:(N,y,e)=>{"use strict";e.d(y,{Ys:()=>o,jJ:()=>n,xn:()=>t});const t=[],n=["at_user","at_user_group","at_channel","at_everyone","dm","mpdm","keyword","message_reaction","list_record_assigned","list_user_mentioned","list_todo_notification","bot_dm_bundle","thread_v2","saved_reminder","calendar_upcoming_event","internal_channel_invite","external_channel_invite","external_dm_invite","shared_workspace_invite","list_record_edited","example_user_alert","list_record_edited_bundle"],o={NEWEST:"newest",VIP:"vip",UNREADS:"unreads"}},1609960255:(N,y,e)=>{"use strict";e.d(y,{A:()=>o});var t=e(5088972093),n=e(7114008777);const o=E(s=>{let{selectedTab:c,unreadsFilterToggleSelected:r=!1,vipFilterToggleSelected:a,preferredActivityFeedSortOrder:i,isVipEnabled:l,experimentDMInActivityGroupOn:m,experimentActivityInboxGroupOn:_}=s;return _?i===t.Ys.VIP?"priority_unreads_first_v1":i===t.Ys.UNREADS?"unreads_first_v1":"chrono_v1":r&&(c===n.Li.Vip||a)?"chrono_priority_only_unreads_v1":c===n.Li.Vip||a?"chrono_priority_only_reads_and_unreads_v1":l&&c===n.Li.All?r?"priority_unreads_v1":"priority_reads_and_unreads_v1":m&&r&&c===n.Li.Replies?"chrono_unreads":m&&!r&&c===n.Li.Replies?"chrono_reads_and_unreads":r&&c===n.Li.Replies?"chrono_threads_unreads_v2":r&&c===n.Li.Replies?"chrono_threads_unreads":c===n.Li.Replies?"chrono_threads_reads_and_unreads_v2":r?"chrono_unreads":"chrono_reads_and_unreads"},"getFetchMode")},2784941542:(N,y,e)=>{"use strict";e.d(y,{fd:()=>a,zT:()=>i});var t=e(2028988448),n=e(8162259364),o=e(4518410378),s=e(337319621);const c=["cpu"],r=new Map;async function a(){if(!o.J.PressureObserver||!(0,n.A)())return;const m=o.J.PressureObserver.knownSources;if(!m||m.length===0)return;const _=c.filter(f=>m.includes(f));if(_.length===0)return;const h=(0,s.Wo)({label:"PRESSURE-OBSERVER"});h.debug("Registering pressure observer",{supportedSources:m,desiredSources:_});let d;try{d=new o.J.PressureObserver(f=>{h.debug("PressureObserver callback",{changes:f});for(const v of f)r.set(v.source,v)})}catch(f){f.name==="NotAllowedError"?h.error(new Error(`PressureObserver not allowed: ${f}`)):h.error(new Error(`Failed to create PressureObserver: ${f}`));return}await Promise.all(_.map(async f=>{try{await d.observe(f),r.set(f,void 0)}catch(v){v.name==="NotSupportedError"?h.warn(`PressureObserver source "${f}" not supported`):h.error(new Error(`Failed to observe PressureObserver soure "${f}": ${v}`))}})),h.debug("Registered pressure observer",{currentPressureStates:r})}E(a,"registerPressureObserver");function i(){const m={};for(const[_,h]of r)h&&(m[`pressure_${_}_state`]=h.state);return m}E(i,"getPressureTags"),(0,t.zv)("currentPressureStates",()=>r);const l={currentPressureStates:r,desiredSources:c}},4577150972:(N,y,e)=>{"use strict";e.d(y,{c:()=>i});var t=e(3398586081),n=e(1609960255),o=e(7114008777),s=e(6786905431),c=e(8352634987),r=e(7912281988),a=e(6533394955);const i=(0,t.A)(function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.Li.All,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new c.Ay({storeKey:"activityIA4",fetch:_=>(0,a.Qw)(_,(0,r.Q)({limit:s.Q1,filter:l,fetchNew:!0,mode:(0,n.A)({selectedTab:l,unreadsFilterToggleSelected:m})})),isEnabled:()=>!0,metricsName:"activity",markStaleAfterSlowReconnect:()=>!0})})},1247361162:(N,y,e)=>{"use strict";e.d(y,{$K:()=>R,$T:()=>T,ES:()=>l,KD:()=>u,MJ:()=>U,cJ:()=>C,f7:()=>A,fB:()=>S,gW:()=>g,j1:()=>h,mt:()=>D,rz:()=>m,sG:()=>_,ut:()=>d,yC:()=>I,yN:()=>O});var t=e(537208959),n=e(7114008777),o=e(4577150972),s=e(5921578648),c=e(3009309149),r=e(8847766420);const a=E((P,L)=>{var F,x;const b=(0,t.Fu)(L),k=P===n.Li.Reactions?P:(0,s.S)({filter:P,isUnreadMode:!!(!(L==null||(F=L.activityIA4)===null||F===void 0)&&F.filterUnreads),isConsolidatedList:b});return(x=L.activityIA4)===null||x===void 0?void 0:x[k]},"getActivityListForFilter"),i=(0,c.Ay)(P=>{var L,F,x;const b=(0,r.ZT)(P),k=(L=P.activityIA4)===null||L===void 0?void 0:L.all;return((P==null||(F=P.activityIA4)===null||F===void 0?void 0:F.selectedTabId)===n.Li.All||!(!(P==null||(x=P.activityIA4)===null||x===void 0)&&x.selectedTabId))&&(k!=null&&k.length)&&(0,o.c)(n.Li.All,!1).maybeRefetch(b,n.N2),P&&P.activityIA4&&k});i.meta={name:"createSelector",key:"createSelectorgetReadAndUnreadActivityList",description:P=>{var L,F,x;const b=(0,r.ZT)(P),k=(L=P.activityIA4)===null||L===void 0?void 0:L.all;return((P==null||(F=P.activityIA4)===null||F===void 0?void 0:F.selectedTabId)===n.Li.All||!(!(P==null||(x=P.activityIA4)===null||x===void 0)&&x.selectedTabId))&&(k!=null&&k.length)&&(0,o.c)(n.Li.All,!1).maybeRefetch(b,n.N2),P&&P.activityIA4&&k}};const l=(0,c.Ay)(P=>{var L,F;const x=(0,r.ZT)(P),b=a(n.Li.All,P);if(((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.All||!(!(P==null||(F=P.activityIA4)===null||F===void 0)&&F.selectedTabId))&&(b!=null&&b.length)){var k;(0,o.c)(n.Li.All,(k=P.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(x,n.N2)}return P&&P.activityIA4&&b});l.meta={name:"createSelector",key:"createSelectorgetActivityList",description:P=>{var L,F;const x=(0,r.ZT)(P),b=a(n.Li.All,P);if(((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.All||!(!(P==null||(F=P.activityIA4)===null||F===void 0)&&F.selectedTabId))&&(b!=null&&b.length)){var k;(0,o.c)(n.Li.All,(k=P.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(x,n.N2)}return P&&P.activityIA4&&b}};const m=(0,c.Ay)(P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Mentions,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Mentions&&x.length){var b;(0,o.c)(n.Li.Mentions,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x});m.meta={name:"createSelector",key:"createSelectorgetActivityListMentions",description:P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Mentions,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Mentions&&x.length){var b;(0,o.c)(n.Li.Mentions,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x}};const _=(0,c.Ay)(P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Replies,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Replies&&x.length){var b;(0,o.c)(n.Li.Replies,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x});_.meta={name:"createSelector",key:"createSelectorgetActivityListReplies",description:P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Replies,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Replies&&x.length){var b;(0,o.c)(n.Li.Replies,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x}};const h=(0,c.Ay)(P=>{var L,F,x;const b=(0,r.ZT)(P),k=a(n.Li.Reminders,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Reminders&&(!(P==null||(F=P.activityIA4)===null||F===void 0||(x=F.reminders)===null||x===void 0)&&x.length)){var B;(0,o.c)(n.Li.Reminders,(B=P.activityIA4)===null||B===void 0?void 0:B.filterUnreads).maybeRefetch(b,n.N2)}return P&&P.activityIA4&&k});h.meta={name:"createSelector",key:"createSelectorgetActivityListReminders",description:P=>{var L,F,x;const b=(0,r.ZT)(P),k=a(n.Li.Reminders,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Reminders&&(!(P==null||(F=P.activityIA4)===null||F===void 0||(x=F.reminders)===null||x===void 0)&&x.length)){var B;(0,o.c)(n.Li.Reminders,(B=P.activityIA4)===null||B===void 0?void 0:B.filterUnreads).maybeRefetch(b,n.N2)}return P&&P.activityIA4&&k}};const d=(0,c.Ay)(P=>{var L,F,x;const b=(0,r.ZT)(P),k=a(n.Li.Reactions,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Reactions&&(!(P==null||(F=P.activityIA4)===null||F===void 0||(x=F.reactions)===null||x===void 0)&&x.length)){var B;(0,o.c)(n.Li.Reactions,(B=P.activityIA4)===null||B===void 0?void 0:B.filterUnreads).maybeRefetch(b,n.N2)}return P&&P.activityIA4&&k});d.meta={name:"createSelector",key:"createSelectorgetActivityListReactions",description:P=>{var L,F,x;const b=(0,r.ZT)(P),k=a(n.Li.Reactions,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Reactions&&(!(P==null||(F=P.activityIA4)===null||F===void 0||(x=F.reactions)===null||x===void 0)&&x.length)){var B;(0,o.c)(n.Li.Reactions,(B=P.activityIA4)===null||B===void 0?void 0:B.filterUnreads).maybeRefetch(b,n.N2)}return P&&P.activityIA4&&k}};const f=(0,c.Ay)(P=>{var L,F,x,b;const k=(0,r.ZT)(P),B=(0,s.S)({filter:n.Li.Huddles,isUnreadMode:!1}),W=((L=P.activityIA4)===null||L===void 0?void 0:L[B]).filter(H=>H.isUnread&&H.calendarEventPayload);if((P==null||(F=P.activityIA4)===null||F===void 0?void 0:F.selectedTabId)===n.Li.Huddles&&(!(P==null||(x=P.activityIA4)===null||x===void 0||(b=x.huddles)===null||b===void 0)&&b.length)){var K;(0,o.c)(n.Li.Huddles,(K=P.activityIA4)===null||K===void 0?void 0:K.filterUnreads).maybeRefetch(k,n.N2)}return P&&P.activityIA4&&W||[]});f.meta={name:"createSelector",key:"createSelectorgetActivityListHuddlesForJustInTime",description:P=>{var L,F,x,b;const k=(0,r.ZT)(P),B=(0,s.S)({filter:n.Li.Huddles,isUnreadMode:!1}),W=((L=P.activityIA4)===null||L===void 0?void 0:L[B]).filter(H=>H.isUnread&&H.calendarEventPayload);if((P==null||(F=P.activityIA4)===null||F===void 0?void 0:F.selectedTabId)===n.Li.Huddles&&(!(P==null||(x=P.activityIA4)===null||x===void 0||(b=x.huddles)===null||b===void 0)&&b.length)){var K;(0,o.c)(n.Li.Huddles,(K=P.activityIA4)===null||K===void 0?void 0:K.filterUnreads).maybeRefetch(k,n.N2)}return P&&P.activityIA4&&W||[]}};const v=(0,c.Ay)(P=>{var L;const F=(0,r.ZT)(P);if(!(P==null||(L=P.activityIA4)===null||L===void 0)&&L.filterUnreads){var x;(0,o.c)(n.Li.Unreads,(x=P.activityIA4)===null||x===void 0?void 0:x.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&P.activityIA4.unreads});v.meta={name:"createSelector",key:"createSelectorgetActivityListUnreads",description:P=>{var L;const F=(0,r.ZT)(P);if(!(P==null||(L=P.activityIA4)===null||L===void 0)&&L.filterUnreads){var x;(0,o.c)(n.Li.Unreads,(x=P.activityIA4)===null||x===void 0?void 0:x.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&P.activityIA4.unreads}};const u=(0,c.Ay)(P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Apps,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Apps&&x.length){var b;(0,o.c)(n.Li.Apps,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x});u.meta={name:"createSelector",key:"createSelectorgetActivityListApps",description:P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Apps,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Apps&&x.length){var b;(0,o.c)(n.Li.Apps,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x}};const g=(0,c.Ay)(P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Channels,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Channels&&x.length){var b;(0,o.c)(n.Li.Channels,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x});g.meta={name:"createSelector",key:"createSelectorgetActivityListChannels",description:P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Channels,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Channels&&x.length){var b;(0,o.c)(n.Li.Channels,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x}};const p=(0,c.Ay)(P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Priority,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Priority&&x.length){var b;(0,o.c)(n.Li.Priority,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x});p.meta={name:"createSelector",key:"createSelectorgetActivityListPriority",description:P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Priority,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Priority&&x.length){var b;(0,o.c)(n.Li.Priority,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x}};const A=(0,c.Ay)(P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Vip,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Vip&&x.length){var b;(0,o.c)(n.Li.Vip,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x});A.meta={name:"createSelector",key:"createSelectorgetActivityListVip",description:P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Vip,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Vip&&x.length){var b;(0,o.c)(n.Li.Vip,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x}};const C=(0,c.Ay)(P=>P&&P.activityIA4&&P.activityIA4.unreadVip);C.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadVip",description:P=>P&&P.activityIA4&&P.activityIA4.unreadVip};const T=(0,c.Ay)(P=>P&&P.activityIA4&&P.activityIA4.unreadOther);T.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadOther",description:P=>P&&P.activityIA4&&P.activityIA4.unreadOther};const I=(0,c.Ay)(P=>P&&P.activityIA4&&P.activityIA4.other);I.meta={name:"createSelector",key:"createSelectorgetActivityListOther",description:P=>P&&P.activityIA4&&P.activityIA4.other};const M=(0,c.Ay)(P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.EverythingElse,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.EverythingElse&&x.length){var b;(0,o.c)(n.Li.EverythingElse,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x});M.meta={name:"createSelector",key:"createSelectorgetActivityListEverythingElse",description:P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.EverythingElse,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.EverythingElse&&x.length){var b;(0,o.c)(n.Li.EverythingElse,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x}};const D=(0,c.Ay)(P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.DMS,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.DMS&&x.length){var b;(0,o.c)(n.Li.DMS,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x});D.meta={name:"createSelector",key:"createSelectorgetActivityListDms",description:P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.DMS,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.DMS&&x.length){var b;(0,o.c)(n.Li.DMS,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x}};const O=(0,c.Ay)(P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Invitations,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Invitations&&(x!=null&&x.length)){var b;(0,o.c)(n.Li.Invitations,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x});O.meta={name:"createSelector",key:"createSelectorgetActivityListInvitations",description:P=>{var L;const F=(0,r.ZT)(P),x=a(n.Li.Invitations,P);if((P==null||(L=P.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===n.Li.Invitations&&(x!=null&&x.length)){var b;(0,o.c)(n.Li.Invitations,(b=P.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(F,n.N2)}return P&&P.activityIA4&&x}};const S=(0,c.Ay)(P=>{var L;return P&&P.activityIA4&&((L=P.activityIA4)===null||L===void 0?void 0:L.multipleFilters)});S.meta={name:"createSelector",key:"createSelectorgetActivityMultipleFilters",description:P=>{var L;return P&&P.activityIA4&&((L=P.activityIA4)===null||L===void 0?void 0:L.multipleFilters)}};const R=(0,c.Ay)((P,L)=>{var F;return P&&P.activityIA4&&((F=P.activityIA4)===null||F===void 0?void 0:F[L])});R.meta={name:"createSelector",key:"createSelectorgetActivityForFilter",description:(P,L)=>{var F;return P&&P.activityIA4&&((F=P.activityIA4)===null||F===void 0?void 0:F[L])}};const U=(0,c.Ay)(P=>P&&P.activityIA4&&P.activityIA4.results);U.meta={name:"createSelector",key:"createSelectorgetActivityListResults",description:P=>P&&P.activityIA4&&P.activityIA4.results}},5972646104:(N,y,e)=>{"use strict";e.d(y,{R:()=>n});var t=e(7114008777);const n=E((o,s)=>{switch(o){case t.gb.DMS:return[t.Li.DMS];case t.gb.Threads:return[t.Li.Replies];case t.gb.ForYou:default:return s==null?void 0:s.filterActivityTypes}},"getActivityTypeFiltersForSubView")},5921578648:(N,y,e)=>{"use strict";e.d(y,{S:()=>s});var t=e(5235917009),n=e(5088972093),o=e(7114008777);const s=E(c=>{let{filter:r,isUnreadMode:a,mode:i,useMultipleFilters:l,preferredActivityFeedSortOrder:m,isConsolidatedList:_}=c;return _?"results":l&&r===o.Li.All?m===n.Ys.UNREADS||m===n.Ys.VIP?"other":"multipleFilters":i==="chrono_priority_only_unreads_v1"?"unreadVip":i==="priority_reads_and_unreads_v1"?"other":i==="priority_unreads_v1"?"unreadOther":a&&r===o.Li.EverythingElse?`unread${r.charAt(0).toUpperCase()+r.slice(1)}`:a?`unread${(0,t.A)(r)}`:r},"getFilterForSelectedMode")},2309387455:(N,y,e)=>{"use strict";e.d(y,{N:()=>l,v:()=>i});var t=e(9087248458),n=e(5088972093),o=e(3929724715),s=e(1407713935),c=e(8798294025),r=e(6795500641),a=e(9101533895);const i=E((m,_)=>{const h=_!=null&&_.item&&"message"in(_==null?void 0:_.item)?_==null?void 0:_.item.message.channel:void 0,d=(0,a.OL)(m,h),f=(0,r.MY)(m);return(_==null?void 0:_.item.type)==="dm"&&f&&((0,s.LI)(d)&&(0,c.e)(d)&&(f!=null&&f.includes((0,c.e)(d)||""))||(0,s.yz)(d)&&(0,t.A)((0,o.Ug)(d)||[],f).length>0)?!0:_&&"priority"in _},"isActivityFeedEntryVip"),l=E(function(m,_){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unreads",d;if(h===n.Ys.VIP){var f;d=(f=_.findIndex(A=>!(i(m,A)&&A.is_unread)))!==null&&f!==void 0?f:0}else{var v;d=(v=_.findIndex(A=>!A.is_unread))!==null&&v!==void 0?v:0}const u=d===-1?_.length:d,g=_.slice(0,u),p=_.slice(u);return[g,p]},"getSeparateLists")},7912281988:(N,y,e)=>{"use strict";e.d(y,{Q:()=>b});var t=e(8851980998),n=e(1545824888),o=e(4459831283),s=e(3106223098),c=e(537208959),r=e(5088972093),a=e(7114008777),i=e(4746302747),l=e(9648131521),m=e(3622175906),_=e(6917756165),h=e(337319621),d=e(3855029223),f=e(9006747218),v=e(4577150972),u=e(5972646104),g=e(5921578648),p=e(2309387455),A=e(6845763719),C=e(5728184452),T=e(6304789565),I=e(8847766420),M=e(3128675849),D=e(3634026875),O=e(1935129173),S=e(1496122061),R=e(6111266013),U=e(2047021170),P=e(3683482182),L=e(3193155968),F=e(7429662208);const x={"action-items":!0},b=(0,T.Ay)("Fetch user activity",function(k,B){let{limit:W,filter:K,mode:H,fetchNew:z,isUnreadMode:Q,types:q,fetchForAgentforce:$,incompleteFetchDataCursor:le}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{limit:20,mode:"chrono_reads_and_unreads",filter:a.Li.All};k((0,f.G3)(!0));const te=B(),ce=(0,I.ZT)(te),me=(0,A.F)(te),_e=(0,A.S1)(te),Ae=(0,A.d5)(te),ye=(0,c.Gg)(te),oe=(0,c.Lh)(te),ee=(0,c.ki)(te),V=(0,c.P4)(te),w=(0,o.YE)(te),Y=(0,c.Fu)(te),G=(0,D.U)(te),Z=(0,s.Gn)(te),se=(0,F.e6)(te),ae=(0,A.Zt)(te),re=(0,A.qq)(te,ae),pe=(0,u.R)(ae,re),{filterVipSelected:de,filterArchiveSelected:ie,filterSnoozeSelected:he,filterUnreadsSelected:ve}=re,ge=(0,A.F2)(te),ke=ge==null?void 0:ge.filterChannels,Ne=ge==null?void 0:ge.filterChannelSections,We=(0,U.ty)(te,"activity_feed_sort"),Oe=(0,g.S)({filter:K,isUnreadMode:Q!==void 0?Q:ve,mode:H,useMultipleFilters:oe,preferredActivityFeedSortOrder:We,isConsolidatedList:Y&&oe});let be=me==null?void 0:me[Oe];le&&(be=le);const Ke=q||(0,C.TO)(Oe,{experimentDMInActivityGroupOn:ye,experimentActivityInboxGroupOn:oe,experimentPriorityAppsBotsAgentsGroupOn:w,useMultipleFilters:oe,mode:H,selectedFilters:pe,fetchForAgentforce:$});return x!=null&&x[K]||!z&&!be?(k((0,f.G3)(!1)),n.S.resolve()):((0,v.c)(K,ve).markObjectsAsFresh(ce,[a.N2]),k((0,l.X)({limit:W,reason:"fetchActivityFeed",types:Ke,mode:H,cursor:z?void 0:be,archiveOnly:ee&&ie,snoozeOnly:V&&he,channelIds:(0,_.E)(ke)?ke:void 0,channelSectionIds:(0,_.E)(Ne)?Ne:void 0,unreadOnly:oe&&ve,priorityOnly:oe&&de})).then(Fe=>{var J,ne,je;if(!Fe.items)return;if(oe&&se===L.k6.ActivityInbox&&Fe.items.length<10&&(!(Fe==null||(J=Fe.response_metadata)===null||J===void 0)&&J.next_cursor)&&((Fe==null||(ne=Fe.response_metadata)===null||ne===void 0?void 0:ne.next_cursor)!==be||(Fe==null||(je=Fe.response_metadata)===null||je===void 0?void 0:je.next_cursor)===be&&z)){var at;k((0,f.G7)(!1)),k(b({limit:W,filter:K,mode:H,fetchNew:!1,isUnreadMode:Q,types:Ke,fetchForAgentforce:$,incompleteFetchDataCursor:Fe==null||(at=Fe.response_metadata)===null||at===void 0?void 0:at.next_cursor}))}else k((0,f.G7)(!0));if(Y&&oe){var nt;k((0,f.bl)({nextCursor:Fe==null||(nt=Fe.response_metadata)===null||nt===void 0?void 0:nt.next_cursor,items:Fe.items,filter:"results",refreshItems:z}))}if(!Y&&oe&&K==="all"&&We===r.Ys.UNREADS){var Ge;const[Me,Ce]=(0,p.N)(te,Fe.items);k((0,f.VT)("unreadOther")),k((0,f.bl)({nextCursor:me.unreadOther,items:Me,filter:"unreadOther",refreshItems:oe&&z})),k((0,f.bl)({nextCursor:Fe==null||(Ge=Fe.response_metadata)===null||Ge===void 0?void 0:Ge.next_cursor,items:Ce,filter:"other",refreshItems:oe&&z}))}else if((Z||oe&&K==="all"&&We===r.Ys.VIP)&&(H==="priority_reads_and_unreads_v1"||H==="priority_unreads_v1")){var Pe;const[Me,Ce]=(0,p.N)(te,Fe.items,r.Ys.VIP);k((0,f.VT)("unreadVip")),k((0,f.bl)({nextCursor:me==null?void 0:me.unreadVip,items:Me,filter:"unreadVip",refreshItems:(oe||Z)&&z})),k((0,f.bl)({nextCursor:Fe==null||(Pe=Fe.response_metadata)===null||Pe===void 0?void 0:Pe.next_cursor,items:Ce,filter:oe&&We===r.Ys.VIP?"other":Oe,refreshItems:(ye||Z||oe)&&z}))}else{var Le;k((0,f.VT)(Oe)),k((0,f.bl)({nextCursor:Fe==null||(Le=Fe.response_metadata)===null||Le===void 0?void 0:Le.next_cursor,items:Fe.items,filter:Oe,refreshItems:(ye||Z||oe)&&z}))}if(H==="chrono_unreads"){const Me=(0,A.cJ)(B()),Ce=(0,P.xY)(B());Fe.items.length!==Me&&k((0,i.O)()).then(Qe=>{k((0,M.Q)(Qe));const Be=(0,d.E)({state:te}),we=(0,h.Ay)({getState:B,label:"ACTIVITY_BADGING"});try{const xe=Be.createSpan({name:"ia4client_activity_badge:mismatch",samplingOptions:{sampleType:t.tS.ALWAYS},options:{tags:{num_unread_activity_items:Fe.items.length,old_activity_badge_count:Me,new_channel_badges:JSON.stringify(Qe.channelBadges),old_channel_badges:JSON.stringify(Ce)}}});xe.close(),Be.reportSpans([xe]),we.info(`Activity badge mismatch. number of unread activity.feed items: ${Fe.items.length} activityBadgeCount: ${Me}: counts.channelBadges: ${JSON.stringify(Qe==null?void 0:Qe.channelBadges)} old channelBadges: ${JSON.stringify(Ce)}`)}catch{}})}const ze="slack-connect-fetch-invites-for-activity-feed";z&&!_e&&["all","invitations","unreadAll","unreadInvitations"].includes(K)&&Fe.items.some(Me=>{let{item:Ce}=Me;return C.Oi.includes(Ce.type)})&&k((0,R.p)({direction:m.D.Incoming,reason:ze})).then(()=>k((0,f.xv)(!0))),z&&!Ae&&["all","invitations","unreadAll","unreadInvitations"].includes(K)&&k((0,S.d)({reason:ze})).then(()=>k((0,f.ae)(!0))),oe&&G&&se===L.k6.ActivityInbox&&K===a.Li.All&&z&&k((0,O.i)())}).finally(()=>k((0,f.G3)(!1))))});b.meta={name:"createThunk",key:"createThunkfetchActivityFeed",description:"Fetch user activity"}},5728184452:(N,y,e)=>{"use strict";e.d(y,{Oi:()=>s,TO:()=>i,b8:()=>m});var t=e(9113979368),n=e(7174777686),o=e(6626377467);const s=["external_channel_invite","shared_workspace_invite","external_dm_invite"],c=["at_user","at_user_group","at_channel","at_everyone","keyword","list_record_assigned","list_user_mentioned","list_todo_notification"],r=["at_user","at_user_group","at_channel","at_everyone","keyword"],a=["at_user","at_user_group","at_channel","at_everyone","keyword","bot_dm_bundle"],i=E((_,h)=>{let{experimentDMInActivityGroupOn:d,experimentPriorityAppsBotsAgentsGroupOn:f,mode:v,useMultipleFilters:u,selectedFilters:g,experimentActivityInboxGroupOn:p,fetchForAgentforce:A}=h;const C="bot_dm_bundle";let T=["thread_v2","message_reaction","internal_channel_invite","list_record_edited",C,...c,...s];u&&!(0,t.A)(g)&&(T=[]);const I=_.toLowerCase(),M=v==="chrono_priority_only_reads_and_unreads_v1"||v==="chrono_priority_only_unreads_v1";return(v==="chrono_priority_only_reads_and_unreads_v1"||v==="chrono_priority_only_unreads_v1")&&(T=f?a:r,(I.includes("vip")||I.includes("all"))&&(T=[...f?a:r,"thread_v2","internal_channel_invite"]),u&&!(0,t.A)(g)&&(T=[])),u&&(0,n.A)(g,"mentions")?M?T=f?a:r:T.push(...c):I.includes("mentions")&&(T=c),u&&(0,n.A)(g,"replies")&&T.push("thread_v2"),u&&(0,n.A)(g,"apps")&&!M?T.push(C):I.includes("apps")&&(T=[C]),I.includes("replies")&&(T=void 0),d&&I.includes("replies")&&!A&&(T=["thread_v2"]),u&&(0,n.A)(g,"reactions")&&T&&!M?T.push("message_reaction"):I.includes("reactions")&&(T=["message_reaction"]),I.includes("unreads")&&(T=[C,"thread_v2","internal_channel_invite",...c,...s]),u&&(0,n.A)(g,"invitations")&&T?M?T.push("internal_channel_invite"):T.push("internal_channel_invite",...s):I.includes("invitations")&&(T=["internal_channel_invite",...s]),d&&T&&(!p&&["all","unreads","other","unreadother"].includes(I)||u&&(g!=null&&g.includes("dms")||(g==null?void 0:g.length)===0))&&T.push("dm"),d&&(I.includes("dms")||u&&g&&g.length===1&&g.includes("dms"))&&(T=["dm"]),T},"getActivityTypes"),l=E(_=>(_==null?void 0:_.type)==="section_bundle"&&"section"in _,"isSectionBundle"),m=E(_=>{let{items:h}=_;return(0,o.A)(h,d=>{if("key"in d&&(d==null?void 0:d.type)==="non_collapsible_header")return`item-by-feed-key-${d==null?void 0:d.key}`;if("ts"in d&&(d==null?void 0:d.type)==="channel_bundle")return`channel-bundle-${d==null?void 0:d.ts}`;if(l(d)){var f;return`section-bundle-${d==null||(f=d.section)===null||f===void 0?void 0:f.channelSection.id}`}const{messageTs:v,type:u,threadTs:g,channelId:p,invite:A,key:C}=d;return u==="message_reaction"?`reaction-${v}`:u==="thread_v2"?`thread-${g}`:u==="external_channel_invite"?`external-channel-invite-${A}`:u==="external_dm_invite"?`external-dm-invite-${A}`:u==="shared_workspace_invite"?`shared-workspace-invite-${A}`:u==="im"?`im${p}`:u==="dm"?`im${p}`:C!==void 0?`item-by-feed-key-${C}`:`mention-${v}`})},"getUniqueActivityItems")},1567823503:(N,y,e)=>{"use strict";e.d(y,{A:()=>Rl});var t=e(1416482128),n=e(7763652800),o=e(3087712927),s=e(337319621),c=e(2028988448),r=e(2878685908),a=e(2791814261),i=e(1535672935),l=e(6304789565),m=e(6776011876);const _=(0,l.Ay)("maybeDisableDebugger side effect handler",()=>{if(!((0,r.Yj)()||(0,r.Cu)()||(0,r.$i)())){if((0,a.c)()){(0,c.Jb)();return}(0,c.CP)()||(0,c.YF)()}});_.meta={name:"createThunk",key:"createThunkmaybeDisableDebugger",description:"maybeDisableDebugger side effect handler"};const h=(0,m.kt)([i.setDidBootAllWorkspaces],_);var d=e(3571452446),f=e(4094753332),v=e(9323322135),u;(function(De){De.DOGFOOD="dogfood",De.BETA="beta",De.PROD="prod"})(u||(u={}));var g;(function(De){De.BETA="beta",De.PROD="prod"})(g||(g={}));const p=E(De=>De!==u.PROD,"isPreRelease");var A;(function(De){De.NIGHTLY="nightly",De.ALPHA="alpha",De.ETA="eta",De.PILOT="pilot",De.BETA="beta",De.PROD="prod"})(A||(A={}));var C;(function(De){De.BETA="beta",De.PROD="prod"})(C||(C={}));const T=[A.ALPHA,A.ETA,A.BETA,A.PILOT,A.PROD],I=E(De=>De!==A.PROD,"release_channels_4_31_0_isPreRelease");var M=e(1583163054),D=e(8520727613),O=e(4096483543),S=e(8002659820),R=e(9012396182),U=e(7384121809);const P=(0,l.Ay)("Add channels to the desktop search index when initial teams are booted",async()=>{if(!(0,f.y3)())return;const De=(0,U.Ry)(),fe=(0,R.getBootedWorkspaces)(De);fe.length&&await(0,S.jM)(fe)});P.meta={name:"createThunk",key:"createThunkindexAllBootedTeamChannels",description:"Add channels to the desktop search index when initial teams are booted"};const L=(0,l.Ay)("Add channels to the desktop search index as additional teams are booted",async(De,fe,Re)=>{if(!(0,f.y3)())return;const Ve=fe();if(!(0,R.didBootAllWorkspaces)(Ve))return;const Ze=Re.payload;Ze&&await(0,S.jM)([Ze])});L.meta={name:"createThunk",key:"createThunkindexAdditionalBootedTeamChannels",description:"Add channels to the desktop search index as additional teams are booted"};const F=(0,m.kt)([i.setDidBootAllWorkspaces],P),x=(0,m.kt)([i.setWorkspaceBooted],L);var b=e(6533394955),k=e(1670069836);const B=(0,l.Ay)("maybeSetReleaseChannelOverrideHandler",(De,fe,Re)=>{!(0,f.y3)()||!(0,v.g9M)()||H(fe)});B.meta={name:"createThunk",key:"createThunkmaybeSetReleaseChannelOverrideHandler",description:"maybeSetReleaseChannelOverrideHandler"};const W=(0,m.kt)([i.setDidBootAllWorkspaces],B),K="nightly-promotion-state";function H(De){const fe=(0,v.oQe)("environment","releaseChannel"),Re=(0,v.oQe)("settings","releaseChannelOverride");let Ve=Re;if(!Ve&&(fe==="beta"||fe==="alpha")&&(Ve=fe),Ve==="eta"&&(Ve=u.BETA),(0,O.A)()&&(0,f.dY)("4.31.150")){const Ze=De();if((0,D.A)(Ze,"ssb_dogfood_automatic_promotion","on")&&(0,a.c)()&&Ve!==M.zS)try{window.localStorage.getItem(K)!=="2"&&(Ve=M.zS,window.localStorage.setItem(K,"1"))}catch{}Ve==="alpha"&&(Ve=u.BETA)}Ve!==Re&&((0,v.cGU)({name:"releaseChannelOverride",value:Ve}),v.NjF.cache&&v.NjF.cache.clear())}E(H,"maybeSetReleaseChannelOverride");const z=["domain","enterprise_id","enterprise_name","id","icon","name","url","variant"],Q=(0,l.Ay)("Sync workspaces state with desktop",(De,fe)=>{if(!(0,f.y3)())return;const Re=fe(),Ve=(0,R.getBootedWorkspaces)(Re),Ze=(0,R.getAllWorkspaces)(Re);var ut;const Dt=(ut=(0,R.getWorkspacesMeta)(Re))!==null&&ut!==void 0?ut:{},ct=Ve==null?void 0:Ve.reduce((an,pn)=>{const wn=(0,b.$D)(pn),Yt={...(0,k._J)(wn,pn,!1),...Dt==null?void 0:Dt[pn]};return an[pn]={...(0,d.A)(Yt,z),order:Ze.indexOf(pn)},an},{});(0,v.CIW)(ct)});Q.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktop",description:"Sync workspaces state with desktop"};const q=(0,l.Ay)("Sync workspaces state with desktop when a new team has booted",(De,fe)=>{if(!(0,f.y3)())return;const Re=fe();(0,R.didBootAllWorkspaces)(Re)&&De(Q())});q.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktopOnAdditionalTeamBoot",description:"Sync workspaces state with desktop when a new team has booted"};const $=(0,m.kt)([i.setDidBootAllWorkspaces,i.setWorkspaceOrder],Q),le=(0,m.kt)([i.setWorkspaceBooted],q),te=[$,le,W,x,F];var ce=e(4932704503),me=e(1378315125);const _e="DESKTOP-SIDE-EFFECT",Ae=(0,l.Ay)("logUpdateFromDesktop",(De,fe,Re)=>{(0,s.Wo)().info(_e,"Update from desktop for keys ",Object.keys(Re.payload))});Ae.meta={name:"createThunk",key:"createThunklogUpdateFromDesktop",description:"logUpdateFromDesktop"};const ye=(0,m.kt)([me.Ez],Ae),oe=(0,l.Ay)("maybeHandleWindowFocusEvent",(De,fe,Re)=>{(0,O.A)()&&Re.payload&&Re.payload.windows&&De((0,ce.pz)({isFocused:document.hasFocus()}))});oe.meta={name:"createThunk",key:"createThunkmaybeHandleWindowFocusEvent",description:"maybeHandleWindowFocusEvent"};const ee=(0,m.kt)([me.Ez],oe);var V=e(3398586081),w=e(8646192222),Y=e(8439865561),G=e(5105455463);(0,V.A)(()=>{if((0,w.Nu)())try{window.matchMedia(G.og).onchange=De=>{const fe=(0,U.en)();fe&&fe.dispatch((0,Y.N)(De.matches))}}catch(De){(0,s.Wo)().warn("ACCESSIBILITY-STORE","window.matchMedia hook failed; system high contrast theme will not be updated.",De)}})();const se=(0,l.Ay)("maybeUpdateShouldUseHighContrastColors",(De,fe,Re)=>{if(!(0,w.Nu)()&&(0,w.hk)()){var Ve,Ze;const ut=Re==null||(Ve=Re.payload)===null||Ve===void 0||(Ze=Ve.settings)===null||Ze===void 0?void 0:Ze.shouldUseHighContrastColors;ut!==void 0&&De((0,Y.N)(ut))}});se.meta={name:"createThunk",key:"createThunkmaybeUpdateShouldUseHighContrastColors",description:"maybeUpdateShouldUseHighContrastColors"};const ae=(0,m.kt)([me.Ez],se);var re=e(1703559452),pe=e(7639461119),de=e(9196706215),ie=e(1658558415),he=e(8170643398),ve=e(6839188756),ge=e(6954805277),ke=e(7002741921),Ne=e(8276911661),We=e(9733150292);const Oe="workspace_switcher_awareness_for_invoice",be=(0,V.A)(()=>(0,ie.A)()?"treatment":(0,pe.B9)(Oe)),Ke=(0,V.A)(()=>(0,pe.fW)(Oe)),Fe=(0,V.A)(()=>be()===pe.dw.Control),J=(0,V.A)(()=>{const De=Object.values((0,b.jm)());return(0,re.A)(De,fe=>{if(!fe)return!1;const Re=fe.getState(),Ve=(0,Ne.cA)(Re),Ze=(0,he.yF)(Ve),ut=Ze&&(0,ge.KR)((0,de.Ay)().toDate(),de.Ay.unix(Ze).toDate());return!!(ut&&ut>30)})}),ne=(0,V.A)(()=>{const De=Object.values((0,b.jm)());let fe=0;return(0,re.A)(De,Re=>{if(!Re)return!1;const Ve=Re.getState();return(0,ve.qR)((0,k.H7)(Ve))&&!(0,ve.kA)((0,k.H7)(Ve))&&(fe+=1),(0,ve.tc)((0,k.H7)(Ve))&&(fe+=1),fe>1})}),je=(0,V.A)(()=>{const De=Object.values((0,b.jm)());return(0,re.A)(De,fe=>{if(!fe)return!1;const Re=fe.getState();return!!(0,ve.kA)((0,k.H7)(Re))})}),at=(0,V.A)(()=>Object.values((0,b.jm)()).length>1),nt=E(()=>{(0,We.q9)("hasSeenWorkspaceSwitcherAwareness",!0)},"markWorkspaceSwitcherAwarenessAsSeen"),Ge=E(()=>(0,We.W6)("hasSeenWorkspaceSwitcherAwareness"),"hasSeenWorkspaceSwitcherAwareness"),Pe=E(()=>Ke()||ne()&&J(),"isEligibleForWorkspaceSwitcherAwareness"),Le=E(()=>{Ge()&&setLocalConfigForKey("hasSeenWorkspaceSwitcherAwareness",!1)},"workspaceSwitcherAwarenessCleanupCallback"),ze=E(De=>{let{toggleName:fe,toggleGroup:Re}=De;return(0,ke._)(fe,Re,!1)&&je()&&J()&&at()},"validateWorkspaceSwitcherAwarenessInvoiceTargetAudiance");var Me=e(4766735965),Ce=e(6290537170);const Qe=(0,l.Ay)("Opens workspace switcher if the user is part of experiment",(De,fe)=>{const Re=fe();(0,f.y3)()&&!Ge()&&!(0,Ce.v8)(Re)&&Pe()&&(De((0,Me.A)()),nt())});Qe.meta={name:"createThunk",key:"createThunkmaybeToggleWorkspaceSwitcherForAwarenessThunk",description:"Opens workspace switcher if the user is part of experiment"};const Be=(0,m.kt)([i.setDidBootAllWorkspaces],Qe);var we=e(6766954308),xe=e(2633701976),Se=e(2047021170);const Ye=(0,l.Ay)("Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref",(De,fe)=>{var Re;const Ve=fe(),Ze=(0,R.getFocusedWorkspace)(Ve),ut=(0,b.oK)(Ze),Dt=ut==null||(Re=ut.getState)===null||Re===void 0?void 0:Re.call(ut);if(!Dt||(0,we.gR)(Ve)!==void 0)return;const an=(0,Se.ty)(Dt,"a11y_read_out_incoming_dm");if(an!==void 0){De((0,xe.p)(an));return}De((0,xe.p)(!0))});Ye.meta={name:"createThunk",key:"createThunkmaybeMigrateDmAnnouncementPref",description:"Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref"};const ot=(0,m.kt)([i.setDidBootAllWorkspaces],Ye);var _t=e(2517531287);const pt=(0,l.Ay)("Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs",(De,fe)=>{var Re;const Ve=fe(),Ze=(0,R.getFocusedWorkspace)(Ve),ut=(0,b.oK)(Ze),Dt=ut==null||(Re=ut.getState)===null||Re===void 0?void 0:Re.call(ut);if(!Dt)return;if((0,we.u$)(Ve)===""){const pn=(0,Se.ty)(Dt,"a11y_play_sound_for_incoming_dm_choice"),wn=pn??"";De((0,_t.R)(wn))}if((0,we.kd)(Ve)===""){const pn=(0,Se.ty)(Dt,"a11y_play_sound_for_sent_dm_choice"),wn=pn??"";De((0,_t.r)(wn))}});pt.meta={name:"createThunk",key:"createThunkmaybeMigrateDmSoundPrefs",description:"Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs"};const vt=(0,m.kt)([i.setDidBootAllWorkspaces],pt);var yt=e(9113979368),Tt=e(3297051565),ft=e.n(Tt),Ct=e(1545824888),At=e(1874577777),kt=e(6439846314),Bt=e(5257368278),St=e(4294892493),Gt=e(3009309149);const Et=(0,Gt.Ay)(De=>De&&De.persistedApiCalls);Et.meta={name:"createSelector",key:"createSelectorgetPersistedApiCalls",description:De=>De&&De.persistedApiCalls};const wt="OFFLINE",Jt=(0,Bt.A)("Replay persisted API calls",function(De,fe){let Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Et(fe());const Ve=fe();if(!(0,At.A)(Ve)||(0,yt.A)(Re))return;const Ze=(0,s.Ay)({state:Ve});Ze.info(wt,"replayPersistedApiCalls called after workspace booted");const ut=Object.keys(Re).sort().map(Dt=>Re[Dt]);Ct.K.each(ut,Dt=>De((0,kt.apiCall)(Dt)).catch(ct=>{Ze.error(wt,`Error replaying ${Dt.method} (${Dt.persistKey})`,ct)}).finally(()=>{Ze.info(wt,`Clearing persisted payload for ${Dt.method} (${Dt.persistKey})`),De((0,St.M)(Dt.persistKey))}))});Jt.meta={name:"createFetcher",key:"createFetcherreplayPersistedApiCalls",description:"Replay persisted API calls"},Jt.propTypes=ft().object;const Lt=(0,l.Ay)("triggerReplayPersistedApiCalls",(De,fe,Re)=>{const Ve=Re.payload;(0,b.Qw)(Ve,Jt())});Lt.meta={name:"createThunk",key:"createThunktriggerReplayPersistedApiCalls",description:"triggerReplayPersistedApiCalls"};const Zt=(0,m.kt)([i.setWorkspaceBooted],Lt);var qt=e(859310680),tt=e(3855029223),st=e(2872463257);const gt=(0,l.Ay)("recordExperimentGroupsAsTrace side effect handler",(De,fe,Re)=>{const Ve=(0,U.Ry)(),Ze=(0,R.getBootedWorkspaces)(Ve)||[];try{const ut=st.nl.ALWAYS;Ze.forEach(Dt=>{const ct=(0,b.$D)(Dt),an=(0,qt.xy)(ct),pn=JSON.stringify(an),wn=(0,tt.E)({state:ct}),is=wn.createSpan({name:"experiment_groups",options:{tags:{experiment_groups:pn}},samplingOptions:{sampleType:ut}});is.close(),wn.reportSpans([is])})}catch(ut){(0,s.Wo)().warn("BOOT-TEAM","could not report experiment groups in trace",ut)}});gt.meta={name:"createThunk",key:"createThunkrecordExperimentGroupsAsTrace",description:"recordExperimentGroupsAsTrace side effect handler"};const Nt=(0,m.kt)([i.setDidBootAllWorkspaces],gt);var Ht=e(5613323535),Xt=e(7604576471);const j=(0,l.Ay)("setAutoTracerTagProvider side effect handler",(De,fe,Re)=>{Ht.LI.isEnabled()&&Ht.LI.setTagProvider((Ve,Ze)=>{if(!Ve)return{};switch(Ze){case Xt.az.Lightweight:return{lightweight:!0};default:return(0,qt.go)(Ve)}})});j.meta={name:"createThunk",key:"createThunksetAutoTracerTagProvider",description:"setAutoTracerTagProvider side effect handler"};const Ie=(0,m.kt)([i.setDidBootAllWorkspaces],j);var Ue=e(8591884052),rt=e(2763437247),zt=e(3146263870),Wt=e(8749908259),Ft=e(9714187984),rn=e(2230482111),_n=e(8668318456),An=e(56548687),un=e(5795074931);const Rn=(0,l.Ay)("Clog experiment related meta data for session toggles",(De,fe,Re)=>{let{experimentNames:Ve}=Re;const Ze=(0,rn.v8)(rn.i$),ut=(0,v.sST)(),Dt=(0,U.en)(),ct=(0,R.getFocusedWorkspace)(Dt.getState()),an=(0,R.getBootedWorkspaces)(Dt.getState()),pn=an.join(","),wn=an.map(is=>{var Yt;const mn=(Yt=(0,b.oK)(is))===null||Yt===void 0?void 0:Yt.getState();return(0,un.WR)(mn)}).join(",");Ve.forEach(is=>{const Yt=(0,pe.B9)(is);if(Yt===rt.dw.Control||Yt===rt.dw.Treatment||Yt===rt.dw.On){var mn;(0,An.e)({getState:(mn=(0,b.oK)(ct))===null||mn===void 0?void 0:mn.getState}).track(_n.EventId.CLIENT_SESSION_TOGGLE_CLOG,{contexts:{experimentName:is,experimentGroup:Yt,teamIds:pn,userIds:wn,visitorCookie:Ze,clientId:ut}})}})});Rn.meta={name:"createThunk",key:"createThunkclogDataForSessionToggles",description:"Clog experiment related meta data for session toggles"};var Un=e(306687250),Wn=e(9681594967),vn=e(2325478352),Ln=e(6143061638),On=e(7530010356),kn=e(8363626823);const Hn=E(()=>{try{Wn.qV.deleteDatabase()}catch(De){Wn.qV.getLogger().error(`caught error from deleteDatabase: ${De}`)}},"objectStoreCallback"),Bn={[vn.Wv]:{cleanupCallback:Hn},[Ue.f]:{},[Un.z]:{},[Wt.i]:{},[On.Dm]:{forceReloadOnRollback:!0},[zt.P]:{},[Oe]:{customToggleGroupMatcher:ze},[kn.A]:{},...Ft.nD};(0,rt.k8)(Bn);const Jn=(0,l.Ay)("setToggleGroupsForNextSession",(De,fe,Re)=>{De(Rn({experimentNames:Object.keys(Bn)})),Object.entries(Bn).forEach(Ve=>{let[Ze,ut]=Ve;(0,Ln.ig)(Ze,ut)})});Jn.meta={name:"createThunk",key:"createThunksetToggleGroupsForNextSession",description:"setToggleGroupsForNextSession"};const ts=(0,m.kt)([i.setDidBootAllWorkspaces],Jn);var on=e(4250409994),$n=e(2766373332);const zn=(0,l.Ay)("maybeToggleGlobalMuteShortcutHandler",(De,fe,Re)=>(0,$n.N$)(Re.payload));zn.meta={name:"createThunk",key:"createThunkmaybeToggleGlobalMuteShortcutHandler",description:"maybeToggleGlobalMuteShortcutHandler"};const Zn=(0,m.kt)([on.Bk],zn),yn=(0,l.Ay)("updateLocalConfigOrderedTeamIds side effect handler",(De,fe,Re)=>{const Ve=(0,s.Wo)({label:We.o7}),Ze=(0,U.Ry)(),ut=(0,R.getAllWorkspaces)(Ze);(!ut||ut.length===0)&&Ve.warn("Skipping update to orderedTeamIds, allWorkspaces is empty"),Ve.info(`Updating orderedTeamIds to ${ut.join(",")}`),(0,We.q9)("orderedTeamIds",ut)});yn.meta={name:"createThunk",key:"createThunkupdateLocalConfigOrderedTeamIds",description:"updateLocalConfigOrderedTeamIds side effect handler"};const Kn=(0,m.kt)([i.addWorkspace],yn);var Cn=e(2250002584);const os=(0,l.Ay)("recordWssRailVisibility side effect handler",(De,fe)=>{const Re=(0,Cn.F)(),Ve=fe(),Ze=(0,Ce.v8)(Ve)?1:0,ut=Re.createMetricsTrace({samplingOptions:{sampleType:st.nl.SESSION}});ut.store({name:"wss_rail:visible",value:Ze}),Re.reportTrace(ut)});os.meta={name:"createThunk",key:"createThunkrecordWssRailVisibility",description:"recordWssRailVisibility side effect handler"};const _s=(0,m.kt)([i.setDidBootAllWorkspaces],os);var ms=e(3875705815),Je=e(6452473925),X=e(6696292586);function ue(){let De;return fe=>fe===De?!1:(De=fe,!0)}E(ue,"getDidUpdate");const Ee=ue(),Te=(0,l.Ay)("updateFromDesktop side effect handler",(De,fe,Re)=>{var Ve;const Ze=fe(),ut=R.getFocusedWorkspace===null||R.getFocusedWorkspace===void 0?void 0:(0,R.getFocusedWorkspace)(Ze);if(!ut)return;const Dt=(0,b.$D)(ut);if(!(0,ms.V)(Dt))return;const ct=(Ve=Re.payload.settings)===null||Ve===void 0?void 0:Ve.zoomLevel;(0,X.A)(ct)&&Ee(ct)&&(0,U.dispatchForClientStore)((0,Je.Q)(ct))});Te.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const He=(0,m.kt)([me.Ez],Te);var $e=e(4134037340),it=e(2413251042),ht=e(6303140164);const Kt=(0,l.Ay)("Set zoom value for client before starting BBM",(De,fe,Re)=>{const{error:Ve}=(0,s.Wo)();(0,$e.A)(fe())||Ve(new Error("you must call setZoom for a client store"));try{(0,We.q9)(ht.UY,Re)}catch(Ze){Ve(new Error(`failed to store zoom in local storage: ${Ze}`))}De((0,it.x8)(Re))});Kt.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client before starting BBM"};function It(){let De;return fe=>fe===De?!1:(De=fe,!0)}E(It,"side_effects_getDidUpdate");const Ut=It(),ln=(0,l.Ay)("updateFromDesktop side effect handler",(De,fe,Re)=>{var Ve;const Ze=fe(),ut=R.getFocusedWorkspace===null||R.getFocusedWorkspace===void 0?void 0:(0,R.getFocusedWorkspace)(Ze);if(!ut)return;const Dt=(0,b.$D)(ut);if((0,ms.V)(Dt))return;const ct=(Ve=Re.payload.settings)===null||Ve===void 0?void 0:Ve.zoomLevel;(0,X.A)(ct)&&Ut(ct)&&(0,U.dispatchForClientStore)(Kt(ct))});ln.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const sn=(0,m.kt)([me.Ez],ln),dn=[h,ye,ee,Zt,Ie,ae,ts,...te,Nt,Zn,vt,ot,_s,Kn,sn,Be,He];var gn=e(4900557724);const In=50,Vn="recents";var bn=e(8628205589),xn=e(2384831516);let Qn;function hn(De){Qn&&(0,gn.GP)(Qn),Qn=(0,gn.BB)(()=>{Qn=void 0,(0,We.q9)(Vn,De)})}E(hn,"persistRecents");function as(){var De;return(De=(0,We.W6)(Vn))!==null&&De!==void 0?De:[]}E(as,"loadRecents");const rs=as(),Is=(0,xn.vy)({},rs,{persistenceEnabled:!1,storeKey:"recents"}).on(bn.Eg,(De,fe)=>{let{entry:Re}=fe;const Ve=[Re,...De].slice(0,In);return hn(Ve),Ve}).on(bn.PP,(De,fe)=>{let{entry:Re}=fe;const Ve=[Re,...De.slice(1)].slice(0,In);return hn(Ve),Ve}).on(bn.TP,De=>{const fe=De.slice(0,1);return hn(fe),fe});var Xn=e(3193155968),hs=e(9936094925);const Ms={[Xn.N2]:{index:0,previousIndex:null,stack:[]}},Ws={persistenceEnabled:!1,storeKey:"mainWindowHistory"},Us=(0,xn.vy)({},Ms,Ws).on(bn.Eg,(De,fe)=>{let{windowId:Re,entry:Ve}=fe;return{...De,[Re]:(0,hs.wg)({windowState:De[Re],entry:Ve})}}).on(bn.jW,()=>Ms).on(bn.cM,(De,fe)=>{let{windowId:Re,index:Ve,previousIndex:Ze}=fe;return{...De,[Re]:(0,hs.ds)({windowState:De[Re],index:Ve,previousIndex:Ze})}}).on(bn.$E,(De,fe)=>{let{windowId:Re,index:Ve}=fe;return{...De,[Re]:(0,hs.cB)({windowState:De[Re],index:Ve})}}).on(bn.PP,(De,fe)=>{let{windowId:Re,entry:Ve}=fe;return{...De,[Re]:(0,hs.w9)({windowState:De[Re],entry:Ve})}});(0,c.ul)("mainWindowHistory",{getState:()=>(0,U.Ry)().mainWindowHistory[Xn.N2]});var Fs=e(7715417323);function Hs(){let{state:De,prevState:fe,workspaces:Re=[],broadcastSelector:Ve=Fs.A,broadcastAction:Ze=Fs.A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ut=Ve(De),Dt=Ve(fe);ut!==Dt&&Re.forEach(ct=>{(0,b.Qw)(ct,Ze(ut))})}E(Hs,"maybeBroadcastStateToWorkspaces");const Yn=Hs;var ps=e(1527536225);const ls=(0,ps.Ay)("Broadcast accessibility state to other stores",(De,fe,Re)=>{const Ve=De.getState(),Ze=fe(Re),ut=De.getState(),Dt=(0,R.getBootedWorkspaces)(ut);return Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.VH)(ct),broadcastAction:ct=>(0,Y.Jq)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.nQ)(ct),broadcastAction:ct=>(0,Y.N)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.dF)(ct),broadcastAction:ct=>(0,Y.KQ)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.jX)(ct),broadcastAction:ct=>(0,Y.Tv)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.gb)(ct),broadcastAction:ct=>(0,Y.C_)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.zm)(ct),broadcastAction:ct=>(0,Y.XE)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.K9)(ct),broadcastAction:ct=>(0,Y.Mq)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.u$)(ct),broadcastAction:ct=>(0,Y.Sr)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.kd)(ct),broadcastAction:ct=>(0,Y.mw)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.gR)(ct),broadcastAction:ct=>(0,Y.Ap)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,we.u)(ct),broadcastAction:ct=>(0,Y.V_)(ct)}),Ze});ls.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityMiddleware",description:"Broadcast accessibility state to other stores"};const Rs=ls;var Ls=e(1004520977),et=e(9234290540);const xt=(0,ps.Ay)("Broadcast accessibility persistent state to other stores",(De,fe,Re)=>{const Ve=De.getState(),Ze=fe(Re),ut=De.getState(),Dt=(0,R.getBootedWorkspaces)(ut);return Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,et.i)(ct),broadcastAction:ct=>(0,Ls.w)(ct)}),Ze});xt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityPersistentMiddleware",description:"Broadcast accessibility persistent state to other stores"};const bt=xt;var dt=e(3749529250);const mt=(0,ps.Ay)("Broadcast big button mode state to other stores",(De,fe,Re)=>{const Ve=De.getState(),Ze=fe(Re),ut=De.getState(),Dt=(0,R.getBootedWorkspaces)(ut);return Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,ms.V)(ct),broadcastAction:ct=>ct?(0,dt.z)():(0,dt.K)()}),Ze});mt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMMiddleware",description:"Broadcast big button mode state to other stores"};var Pt=e(5107871484),Rt=e(3029055053);const Vt=(0,ps.Ay)("Broadcast big button mode settings state to other stores",(De,fe,Re)=>{const Ve=De.getState(),Ze=fe(Re),ut=De.getState(),Dt=(0,R.getBootedWorkspaces)(ut);return Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,Rt.N6)(ct),broadcastAction:ct=>(0,Pt.Yf)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,Rt.lz)(ct),broadcastAction:ct=>(0,Pt.w6)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,Rt.Tr)(ct),broadcastAction:()=>(0,Pt.Ol)()}),Ze});Vt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMSettingsMiddleware",description:"Broadcast big button mode settings state to other stores"};var nn=e(2456103428),En=e(6728717861);const qe=(0,ps.Ay)("Broadcast connectivity state to other stores",(De,fe,Re)=>{const Ve=De.getState(),Ze=fe(Re),ut=De.getState(),Dt=(0,R.getBootedWorkspaces)(ut);return Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,En.Pb)(ct),broadcastAction:ct=>(0,nn.p9)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,En.XQ)(ct),broadcastAction:ct=>(0,nn.pm)(ct)}),Ze});qe.meta={name:"createMiddleware",key:"createMiddlewarebroadcastConnectivityMiddleware",description:"Broadcast connectivity state to other stores"};const Xe=qe;var lt=e(848813706),Mt=e(5223893135),$t=e(5095654950);const en=(0,ps.Ay)("Broadcast fullscreen state to other stores",(De,fe,Re)=>{const Ve=De.getState(),Ze=fe(Re),ut=De.getState(),Dt=(0,R.getBootedWorkspaces)(ut);return Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,Mt.V)(ct),broadcastAction:ct=>ct?(0,$t.J)():(0,lt.sM)()}),Ze});en.meta={name:"createMiddleware",key:"createMiddlewarebroadcastFullscreenMiddleware",description:"Broadcast fullscreen state to other stores"};var tn=e(4309043566);const Qt=(0,xn.Ny)("Broadcasts overlays state from client store to workspace stores",(De,fe,Re)=>{const Ve=De.getState(),Ze=fe(Re),ut=De.getState(),Dt=(0,R.getBootedWorkspaces)(ut);return Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>ct.overlays,broadcastAction:tn.l}),Ze});Qt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastOverlaysMiddleware",description:"Broadcasts overlays state from client store to workspace stores"};var jt=e(9083290776);const cn=(0,ps.Ay)("Broadcast workspaces state to other stores",(De,fe,Re)=>{const Ve=De.getState(),Ze=fe(Re),ut=De.getState(),Dt=(0,R.getBootedWorkspaces)(ut),ct=Ve&&(0,R.getBootedWorkspaces)(Ve),an=(0,R.getAllWorkspaces)(ut),pn=(0,R.getAllWorkspaces)(Ve),wn=!pn||an.some((mn,fn)=>mn!==pn[fn]),is=(0,R.getRecentlyFocusedWorkspaces)(ut),Yt=Ve&&(0,R.getRecentlyFocusedWorkspaces)(Ve);return(ct!==Dt||wn||Yt!==is)&&Pn(Dt,is),Ze});cn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspacesMiddleware",description:"Broadcast workspaces state to other stores"};function Pn(De,fe){const Re=fe[0];Re&&(De==null||De.forEach(Ve=>{(0,b.Qw)(Ve,(0,jt.K$)(fe)),(0,b.Qw)(Ve,(0,jt.fw)(fe))}),(0,v.ny2)(Re))}E(Pn,"broadcastFocusedWorkspaces");const Tn=cn;var qn=e(252549317),vs=e(9042410435),Cs=e(8736071954),cs=e(7450490805),Sn=e(5470425448),Gn=e(5071086688),Es=e(6117529990),bs=e(4761125736);function Os(De){switch((0,bs._Z)(De,"calls_transport_type")){case"udp":return["udp"];case"tls":return["tls"];case"tcp_tls":return["tcp","tls"];case"udp_tls":return["udp","tls"];case"disabled":default:return["udp","tcp","tls"]}}E(Os,"getAllowedTurnTransportTypes");var Fn=e(5332875232);function Bs(){return!(!("MediaStreamTrackProcessor"in globalThis)||!("MediaStreamTrackGenerator"in globalThis)||!("OffscreenCanvas"in globalThis)||!("ImageBitmap"in globalThis)||!("createImageBitmap"in globalThis))}E(Bs,"isHuddlesBackgroundWorkerSupported");const ta=(0,s.Wo)({label:"HUDDLE-INIT-OPTIONS"}),Ps=E((De,fe)=>{let{server:Re,isPrejoin:Ve}=fe;if(!De){ta.error("teamState is not defined. Returning empty init options");return}const Ze={};return Ze.serverConfig={...Re,transportProtocols:Os(De)},Ze.isPrejoin=Ve,Ze.useChimeSdkExp=(0,Es.OV)(De),Ze.useDevicesExp=(0,Fn.ZI)(De),Ze.useVideoUplinkPolicy=(0,Fn.Jf)(De),Ze.useH264BaselineScreenshare=(0,Es.OV)(De)&&(0,Fn.RM)(De),Ze.useH264Baseline=(0,Es.OV)(De)&&(0,Fn.er)(De),Ze.useAv1Screenshare=(0,Fn.Cu)(De),Ze.huddlesJukeboxEnabled=(0,Fn.lV)(De),Ze.disableAudioRedundancy=(0,Fn.JQ)(De),Ze.expectAv1EncoderFreeze=(0,Fn.Gh)(De),Ze.useSimulcast=!1,Ze.usePriorityDownlinkPolicy=!(0,f.gm)(),Ze.disableVp9=(0,Fn.lH)(De),Ze.useHuddlesFilterWorker=Bs()&&(0,Fn.lz)(De),Ze.useHuddlesSignalStartDelay=(0,Fn._V)(De),ta.info("returning init options: ",Ze),Ze},"getSdkInitOptions");var Ts=e(6246464105),Ss=e(6815073048),ia=e(2709531527),Xo=e(164795489),Oa=e(3300324857),Zo=e(4708000837),Za=e(1371073900),qa=e(2457673737),Pa=e(7299481592),eo=e(9372409576),Dn=e(387328355);const to=(0,l.Ay)("Send call analytics to the server",(De,fe,Re)=>{const Ve=fe().activeCall;let Ze;if(Re&&Re.callId?Ze=Re.callId:Ve&&Ve.id&&(Ze=Ve.id),!Ze){(0,Pa.M)("There should be an active call in progress in order to send analytics.");return}const ut=qo(new eo.$.calls.analytics.Report(Re.stats),fe()),Dt=eo.$.calls.analytics.Report.encode(ut).finish(),ct=String.fromCharCode(...Dt);return De((0,kt.apiCall)({method:"screenhero.rooms.postAnalytics",args:{room:Ze,analytics:btoa(ct)},reason:"calls-analytics"}))});to.meta={name:"createThunk",key:"createThunksendAnalytics",description:"Send call analytics to the server"};function qo(De,fe){const Re=De;return Re.recv=De.recv.map(Ve=>{if(Ve.peerId){const Ze=(0,Dn.C1)(fe,Ve.peerId);if(Ze){const ut=Ve;ut.userId=Ze.userId}}if(Ve.peerIdString){const Ze=(0,Dn.C1)(fe,Ve.peerIdString);if(Ze){const ut=Ve;ut.userId=Ze.userId}}return Ve}),Re.recv=Re.recv.filter(Ve=>!!Ve.userId),De}E(qo,"mapPeerIdsToUserIds");var na=e(6664301844),la=e(415910655),fa=e(2825968873),no=e(5954792826),gs=e(9680914051),ca=e(9853754481),pa=e(1829947126),er=e(9009528296),tr=e(6470070112),so=e(2527782504),ao=e(9640070512),As=e(462591818),Vs=e(1990810649),nr=e(8556787853),$s=e(7578434623),sr=e(6155974509);const oo=(0,l.Ay)("Maybe disable the screen share",async(De,fe)=>{const Re=(0,fa.tZ)("CALLS-REDUX");fe().peers.self.isScreenshareEnabled&&(Re.info("Attempted to turn off screen sharing"),De((0,Dn.kT)({id:"self",isScreenshareEnabled:!1,selectedScreenId:void 0}))),(0,sr.a)()});oo.meta={name:"createThunk",key:"createThunkdisableScreenShareIfEnabled",description:"Maybe disable the screen share"};var Qs=e(7366481123),ar=e(1289024643),ro=e(7439555287),va=e(7592559649),Ds=e(700984029),or=e(9365970888),Sa=e(6251210828),io=e(5145584581),Ks=e(6758774099),rr=e(4988306802);const lo=(0,l.Ay)("Process AWS transcript event",(De,fe,Re)=>{var Ve;if((0,na.VW)(Re))return;const Ze=Re.results[0];if(!(Ze!=null&&Ze.resultId)||!(0,rr.TP)(fe()))return;const ut=(Ve=Ze.alternatives[0])===null||Ve===void 0?void 0:Ve.items;if(!(ut!=null&&ut.length)){De((0,Ks.h2)({resultId:Ze.resultId,transcriptions:[]}));return}const Dt=[];ut.forEach(ct=>{var an;const pn=Dt[Dt.length-1],wn=(0,no.l)((an=ct.attendee)===null||an===void 0?void 0:an.externalUserId);wn&&(ct.type===na.E9.PUNCTUATION?pn&&(pn.content=`${pn.content}${ct.content}`,pn.endTimeMs=ct.endTimeMs):Dt.push({memberId:wn,timestampMs:ct.startTimeMs,endTimeMs:ct.endTimeMs||Date.now(),content:ct.content}))}),De((0,Ks.h2)({resultId:Ze.resultId,transcriptions:Dt}))});lo.meta={name:"createThunk",key:"createThunkprocessAwsTranscription",description:"Process AWS transcript event"};const ir=lo;var Js=e(8783285437),ns=e(5286203919),Mn=e(3065433701),lr=e(5253428843),cr=e(5046160032),Ra=e(8935621861),dr=e(4914127094),co=e(7344959578);const ur=(0,s.Wo)({label:"SEND-MEETING-EVENTS-LOGGER"}),uo="screenhero.rooms.proxyMeetingEvents",_o=(0,l.Ay)("Send meeting events to the server",async(De,fe,Re)=>{let Ve;try{Ve=JSON.stringify(Re.events)}catch(ct){ur.error(ct.message);return}const{metrics:Ze,teamId:ut}=_r();if(Re.isUnloading){const ct={app:Re.app,meeting_id:Re.meetingId,media_region:Re.mediaRegion,attendee_id:Re.attendeeId,call_id:Re.callId,ua:window.navigator.userAgent,event_type:"calls-chime-events",encoding:"none",events:Ve,preferred_media_region:await Ra.A.getInstance().getNearestChimeMediaRegion(ut),audio_connected_time:(Ze==null?void 0:Ze.audioConnectedTime)||0,first_presence_time:(Ze==null?void 0:Ze.firstPresenceTime)||0,rooms_join_time:(Ze==null?void 0:Ze.roomsJoinTime)||0,sdk_initialized_time:(Ze==null?void 0:Ze.sdkInitializedTime)||0,chime_attendee_presence_time:Re.attendeePresenceDuration?Re.attendeePresenceDuration:(Ze==null?void 0:Ze.attendeePresenceDuration)||0,chime_meeting_start_time:Re.meetingStartDuration?Re.meetingStartDuration:(Ze==null?void 0:Ze.meetingStartDuration)||0,chime_signaling_open_time:Re.signalingOpenDuration?Re.signalingOpenDuration:(Ze==null?void 0:Ze.signalingOpenDuration)||0,chime_ice_gathering_time:Re.iceGatheringDuration?Re.iceGatheringDuration:(Ze==null?void 0:Ze.iceGatheringDuration)||0,voice_focus_init_time:(Ze==null?void 0:Ze.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(Ze==null?void 0:Ze.credentialsToVoiceFocusInitializedTime)||0};return(0,cr.A)({apiUrl:"/api/",method:uo,token:(0,dr.F)(fe()),versionTs:(0,co.HF)(),versionUid:(0,co.X3)(),args:ct})?Ct.S.resolve():Ct.S.reject(new Error("sendMeetingEvents: beacon failed"))}const Dt=Re.isEnding?{app:Re.app,meeting_id:Re.meetingId,media_region:Re.mediaRegion,attendee_id:Re.attendeeId,events:Ve,call_id:Re.callId,preferred_media_region:await Ra.A.getInstance().getNearestChimeMediaRegion(ut),audio_connected_time:(Ze==null?void 0:Ze.audioConnectedTime)||0,first_presence_time:(Ze==null?void 0:Ze.firstPresenceTime)||0,rooms_join_time:(Ze==null?void 0:Ze.roomsJoinTime)||0,sdk_initialized_time:(Ze==null?void 0:Ze.sdkInitializedTime)||0,chime_attendee_presence_time:Re.attendeePresenceDuration?Re.attendeePresenceDuration:(Ze==null?void 0:Ze.attendeePresenceDuration)||0,chime_meeting_start_time:Re.meetingStartDuration?Re.meetingStartDuration:(Ze==null?void 0:Ze.meetingStartDuration)||0,chime_signaling_open_time:Re.signalingOpenDuration?Re.signalingOpenDuration:(Ze==null?void 0:Ze.signalingOpenDuration)||0,chime_ice_gathering_time:Re.iceGatheringDuration?Re.iceGatheringDuration:(Ze==null?void 0:Ze.iceGatheringDuration)||0,voice_focus_init_time:(Ze==null?void 0:Ze.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(Ze==null?void 0:Ze.credentialsToVoiceFocusInitializedTime)||0}:{app:Re.app,meeting_id:Re.meetingId,media_region:Re.mediaRegion,attendee_id:Re.attendeeId,events:Ve,call_id:Re.callId};return De((0,kt.apiCall)({method:uo,args:Dt,reason:"calls-chime-events"}))});_o.meta={name:"createThunk",key:"createThunksendMeetingEvents",description:"Send meeting events to the server"};function _r(){const De=(0,U.Ry)(),{teamId:fe}=(0,ns.Qn)(De)||{};return{metrics:(0,la.s2)(),teamId:fe}}E(_r,"getCallMetricsAndTeamId");const mr=(0,s.Wo)({label:"HANDLE-MEETING-EVENTS-LOGGER"}),mo=(0,l.Ay)("Handle Chime meeting events",(De,fe,Re)=>{let{events:Ve,callId:Ze,meetingId:ut,mediaRegion:Dt,attendeeId:ct,isUnloading:an,isEnding:pn}=Re;const wn=hr(Ve);!(0,yt.A)(wn)&&!an&&!pn&&(0,la.jm)(wn),De(_o({events:Ve,app:"huddles",callId:Ze,meetingId:ut,mediaRegion:Dt,attendeeId:ct,isUnloading:an,isEnding:pn,attendeePresenceDuration:wn.attendeePresenceDuration,signalingOpenDuration:wn.signalingOpenDuration,iceGatheringDuration:wn.iceGatheringDuration,meetingStartDuration:wn.meetingStartDuration}))});mo.meta={name:"createThunk",key:"createThunkhandleMeetingEvents",description:"Handle Chime meeting events"};function hr(De){const fe={};return De.forEach(Re=>{let{message:Ve}=Re;try{const an=JSON.parse(Ve);switch(an.name){case"attendeePresenceReceived":var Ze;fe.attendeePresenceDuration=(Ze=an.attributes)===null||Ze===void 0?void 0:Ze.attendeePresenceDurationMs;break;case"meetingStartSucceeded":var ut,Dt,ct;fe.signalingOpenDuration=(ut=an.attributes)===null||ut===void 0?void 0:ut.signalingOpenDurationMs,fe.iceGatheringDuration=(Dt=an.attributes)===null||Dt===void 0?void 0:Dt.iceGatheringDurationMs,fe.meetingStartDuration=(ct=an.attributes)===null||ct===void 0?void 0:ct.meetingStartDurationMs;break;default:break}}catch(an){mr.error("Invalid JSON in meeting event",an)}}),fe}E(hr,"parseMeetingEventMetrics");const Er=mo;var Nn=e(3134334389),fr=e(9322124936),pr=e(862210999),vr=e(8645544190),gr=e(8921478798),Ar=e(6066192332),La=e(6471059816),yr=e(3288567831),sa=e(2778217221),Cr=e(8847766420),aa=e(6839101721),Tr=e(5323669031),Ir=e(3094144240),Dr=e(9477894139),ba=e(9391594207),Mr=e(4844578989),Xs=e.n(Mr),Or=e(3534324375),ho=e(4954329752);let Pr=E(class extends Nn.PureComponent{static getDerivedStateFromProps(fe,Re){return fe.mediaStream!==Re.currentMediaStream?fe.mediaStream&&Re.currentMediaStream&&fe.mediaStream.id===Re.currentMediaStream.id?{currentMediaStream:fe.mediaStream,isFlipped:fe.isFlipped,isCurrentMediaStreamReady:!1,prevMediaStream:void 0}:{prevMediaStream:fe.mediaStream?Re.currentMediaStream:void 0,currentMediaStream:fe.mediaStream,isFlipped:fe.isFlipped,wasFlipped:Re.isFlipped,isCurrentMediaStreamReady:!1}:null}componentDidMount(){this.setupMedia()}componentDidUpdate(){this.setupMedia()}componentWillUnmount(){const fe=this.videoRef.current,Re=this.prevVideoRef.current;fe&&(fe.removeEventListener("canplay",this.onCanPlay),fe.removeEventListener("pause",this.onPause),fe.removeEventListener("resize",this.onResize)),Re&&(Re.removeEventListener("canplay",this.onCanPlay),Re.removeEventListener("pause",this.onPause),Re.removeEventListener("resize",this.onResize)),this.props.onVideoReady&&this.props.onVideoReady(!1)}onCanPlay(){const{currentMediaStream:fe}=this.state,Re=fe&&fe.getVideoTracks()[0];this.isDataStopped&&Re&&Re.readyState==="live"&&(this.props.onVideoReady&&this.props.onVideoReady(!0),this.setState(()=>({isCurrentMediaStreamReady:!0})))}onPause(fe){this.state.currentMediaStream&&fe.target.srcObject instanceof MediaStream&&fe.target.srcObject.id===this.state.currentMediaStream.id&&(this.props.onVideoReady&&this.props.onVideoReady(!1),this.isDataStopped=!0)}setupMedia(){const{currentMediaStream:fe,prevMediaStream:Re}=this.state,Ve=this.videoRef.current,Ze=this.prevVideoRef.current;Ve&&(Ve.muted=!0,Ve.srcObject!==fe&&(Ve.addEventListener("canplay",this.onCanPlay),Ve.addEventListener("pause",this.onPause),Ve.addEventListener("resize",this.onResize),Ve.srcObject=fe||null)),Ze&&(Ze.muted=!0,Ze.srcObject!==Re&&(Ze.removeEventListener("canplay",this.onCanPlay),Ze.removeEventListener("pause",this.onPause),Ze.removeEventListener("resize",this.onResize),Ze.srcObject=Re||null))}onResize(){const fe=this.videoRef.current;fe&&(this.props.isSharingScreen?fe.style.objectFit="contain":fe.style.objectFit=fe.videoWidth>fe.videoHeight?"cover":"contain")}render(){const{className:fe,isFlipped:Re,refToForward:Ve}=this.props,{currentMediaStream:Ze,prevMediaStream:ut,isCurrentMediaStreamReady:Dt,wasFlipped:ct}=this.state;return Nn.createElement(Nn.Fragment,null,!Dt&&ut&&Nn.createElement("video",{key:ut&&ut.id,className:Xs()("p-calls_video",fe,{flipped:ct}),ref:this.prevVideoRef,autoPlay:!0}),Nn.createElement("video",{className:Xs()("p-calls_video",fe,{flipped:Re,hidden:!Dt}),ref:(0,ho.P)(this.videoRef,Ve),autoPlay:!0,key:Ze&&Ze.id}))}constructor(fe){super(fe),this.prevVideoRef=Nn.createRef(),this.videoRef=Nn.createRef(),this.isDataStopped=!0,this.state={isCurrentMediaStreamReady:!1,isFlipped:!1,wasFlipped:!1},this.onCanPlay=this.onCanPlay.bind(this),this.onPause=this.onPause.bind(this),this.onResize=this.onResize.bind(this)}},"CallsOriginalVideoElement");function ka(){return ka=Object.assign||function(De){for(var fe=1;fe<arguments.length;fe++){var Re=arguments[fe];for(var Ve in Re)Object.prototype.hasOwnProperty.call(Re,Ve)&&(De[Ve]=Re[Ve])}return De},ka.apply(this,arguments)}E(ka,"_extends");const Sr=E((De,fe)=>{const Re=(0,Dn.JZ)(De,fe.id);return{mediaStream:Re.mediaStream,isFlipped:(0,Dn.fy)(Re)&&!Re.isScreenshareEnabled,isSharingScreen:Re.isScreenshareEnabled}},"mapStateToProps"),Rr=(0,ba.N)(Sr)(Pr),Lr=Nn.forwardRef((De,fe)=>Nn.createElement(Rr,ka({},De,{refToForward:fe})));var br=e(3150724727),kr=e(6308822),Ur=e(5956851410),Br=e(6909784049),Nr=e(8558782493),xr=e(2843556239),Eo=e(1975685771);function Wr(De,fe){const Re=Math.min(fe.width,fe.height*De),Ve=Math.min(fe.height,fe.width/De);return{top:fe.top+(fe.height-Ve)/2,left:fe.left+(fe.width-Re)/2,width:Re,height:Ve}}E(Wr,"getLargestRectForAspectRatioCenteredWithinRect");let Ua=E(class extends Nn.PureComponent{detectDifference(fe,Re){return Math.abs(fe-Re)>1}componentDidMount(){var fe;(0,fa.tZ)("GUEST-DRAW-WINDOW").info("Guest draw window mounted"),(0,Nr.k)(_n.EventId.CALLS_GUEST_DRAW_ACTIVATED,{}),(fe=this.context.windowRef.deref())===null||fe===void 0||fe.addEventListener("resize",this.onResize),(0,Eo.Z)(this.videoRef.current,"Expected videoRef to be bound after mounting")&&(this.props.addEventListeners&&this.props.addEventListeners(this.videoRef,this.onResize,!0),this.onResize(),this.resizeTimeout=window.setTimeout(()=>{this.onResize()},4e3),this.videoRef.current.dispatchEvent(new Event("resize")))}componentDidUpdate(fe){let{isVideoReady:Re}=fe;!Re&&this.props.isVideoReady&&this.onResize()}componentWillUnmount(){var fe;this.props.removeEventListeners&&this.props.removeEventListeners(this.videoRef,this.onResize,!0),(fe=this.context.windowRef.deref())===null||fe===void 0||fe.removeEventListener("resize",this.onResize),window.clearTimeout(this.resizeTimeout)}onResize(){if(!(0,Eo.Z)(this.videoRef.current,"Expected videoRef to be bound on resize"))return;const fe=this.videoRef.current;!fe||fe.videoHeight===0||this.setState(()=>({videoRect:Wr(fe.videoWidth/fe.videoHeight,fe.getBoundingClientRect())}))}render(){const fe=Nn.Children.only(this.props.children),Re=Nn.cloneElement(fe,{ref:(0,ho.N)(this.videoRef,fe)});return Nn.createElement(Nn.Fragment,null,Re,this.state.videoRect&&Nn.createElement(Ur.u,{ref:this.drawRenderRef,isHidden:!this.props.isScreenShareEnabled,targetRect:this.state.videoRect}),this.props.isDrawEnabled&&this.state.videoRect&&Nn.createElement(Br.o,{ref:this.drawTargetRef,targetRect:this.state.videoRect}))}constructor(fe){super(fe),this.videoRef=Nn.createRef(),this.drawTargetRef=Nn.createRef(),this.drawRenderRef=Nn.createRef(),this.onResize=this.onResize.bind(this),this.state={}}},"GuestDraw");Ua.contextType=xr._0,Ua.displayName="GuestDraw";const Fr=E((De,fe)=>{const Re=(0,Dn.gl)(De);if(!Re)throw Error("Guest draw should not be mounted without an active peer");const Ve=(0,Dn.JZ)(De,Re);return{isDrawEnabled:!!Ve.isScreenshareEnabled&&!!Ve.isDrawEnabled,isScreenShareEnabled:!!Ve.isScreenshareEnabled}},"guest_draw_mapStateToProps"),fo=(0,ba.N)(Fr)(Ua),Kr={isVideoReady:!1};let po=E(class extends Nn.PureComponent{onVideoReady(fe){this.setState(Re=>({...Re,isVideoReady:fe}))}renderVideo(){const{id:fe,renderVideo:Re,tileId:Ve}=this.props;if(Re)return Re(this.isVideoEnabledAndReady());if(!fe){(0,Pa.M)("Cannot render video without a peer id");return}return Nn.createElement(fo,{isVideoReady:this.state.isVideoReady},Nn.createElement(Lr,{id:fe,tileId:Ve,onVideoReady:this.onVideoReady,className:Xs()({hidden:!this.state.isVideoReady})}))}renderImage(){const{isSpinning:fe,prefCompliantUserName:Re,member:Ve}=this.props;return Nn.createElement("div",{className:Xs()({hidden:this.state.isVideoReady})},Nn.createElement("div",{className:"p-active_speaker__member_image_wrapper"},Nn.createElement(br.Ay,{className:Xs()({"p-active_speaker__member_image--spinning":fe}),size:180,userId:Ve&&Ve.id,isInteractive:!1,tabIndex:-1}),fe&&Nn.createElement("div",{className:"p-active_speaker__member_image__spinner_wrapper"},Nn.createElement(kr.A,{color:"white"}))),Nn.createElement("div",{className:"p-active_speaker__member_name"},Re))}isVideoEnabledAndReady(){const{isVideoEnabled:fe,isVideoEnabledAndReady:Re}=this.props;return Re?Re(fe):!!(fe&&this.state.isVideoReady)}render(){const{isVideoEnabled:fe}=this.props,Re=Xs()("p-active_speaker",{"p-active_speaker--video_enabled":this.isVideoEnabledAndReady()});return Nn.createElement("div",{"data-qa":"active-speaker",className:Re},fe&&this.renderVideo(),!this.isVideoEnabledAndReady()&&this.renderImage())}constructor(fe){super(fe),this.state=Kr,this.onVideoReady=this.onVideoReady.bind(this)}},"ActiveSpeaker");po.displayName="ActiveSpeaker";function wr(De,fe){const Re=(0,Ne.nv)(De,fe),Ve=(0,Or.sE)(De,Re);return{member:Re,prefCompliantUserName:Ve}}E(wr,"mapCommonMemberState");const Hr=E((De,fe)=>{const Re=(0,Dn.JZ)(De,fe.id),Ve=Re.isCameraEnabled,Ze=Re.isScreenshareEnabled,ut=(0,Dn.fy)(Re)?(0,un.WR)(De):Re.userId;return{tileId:fe.tileId,isVideoEnabled:Ve||Ze,isSpinning:Re.isConnected===!1,...wr(De,ut)}},"active_speaker_mapStateToProps"),Vr=(0,ba.N)(Hr)(po);var jr=e(1429018002);function Ba(){return Ba=Object.assign||function(De){for(var fe=1;fe<arguments.length;fe++){var Re=arguments[fe];for(var Ve in Re)Object.prototype.hasOwnProperty.call(Re,Ve)&&(De[Ve]=Re[Ve])}return De},Ba.apply(this,arguments)}E(Ba,"with_free_willy_guest_draw_extends");const vo=E(De=>E(class extends Nn.PureComponent{addEventListeners(Re,Ve,Ze){Re.current&&(Re.current.addEventListener("canplay",Ve),Ze&&Re.current.addEventListener("resize",Ve))}removeEventListeners(Re,Ve,Ze){Re.current&&(Re.current.removeEventListener("canplay",Ve),Ze&&Re.current.removeEventListener("resize",Ve))}render(){return Nn.createElement(De,Ba({},this.props,{addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners}))}},"WithFreeWillyGuestDraw"),"withFreeWillyGuestDraw");vo.displayName="withFreeWillyGuestDraw";const Gr=vo;function Na(){return Na=Object.assign||function(De){for(var fe=1;fe<arguments.length;fe++){var Re=arguments[fe];for(var Ve in Re)Object.prototype.hasOwnProperty.call(Re,Ve)&&(De[Ve]=Re[Ve])}return De},Na.apply(this,arguments)}E(Na,"with_free_willy_active_speaker_extends");const zr=Gr(fo),go=E(De=>E(class extends Nn.PureComponent{isVideoEnabledAndReady(Re){return Re}renderVideo(Re){const{id:Ve,tileId:Ze}=this.props;if(!Ve){(0,Pa.M)("Cannot render video without a peer id");return}return Nn.createElement(zr,{isVideoReady:Re},Nn.createElement(jr.A,{id:Ve,tileId:Ze,shouldAttachStream:!0,"data-qa":"free-willy-peer-video-element"}))}render(){return Nn.createElement(De,Na({},this.props,{renderVideo:this.renderVideo,isVideoEnabledAndReady:this.isVideoEnabledAndReady}))}constructor(Re){super(Re),this.isVideoEnabledAndReady=this.isVideoEnabledAndReady.bind(this),this.renderVideo=this.renderVideo.bind(this)}},"WithFreeWillyActiveSpeaker"),"withFreeWillyActiveSpeaker");go.displayName="withFreeWillyActiveSpeaker";const Yr=go;var $r=e(6122756707),Qr=e(5043394918),Jr=e(6084388622),xa=e(9506008067),Ao=e(1049642794);const Xr=new La.Ay("huddles"),yo=E(()=>{const De=(0,$r.wA)(),fe=(0,xa.d4)(Ve=>!!(0,Dn.WQ)(Ve,"isMicrophoneEnabled")),Re=(0,Nn.useCallback)(()=>{De((0,Ao.A)(!fe))},[fe,De]);return Nn.createElement("div",{className:"p-huddle_screen_viewer__mic_button_container"},Nn.createElement(Jr.Ay,{className:Xs()("p-huddle_screen_viewer__mic_button p-huddle_screen_viewer__mic_button--mute",{"p-huddle_screen_viewer__mic_button--active":fe}),onClick:Re,type:"outline",role:"switch",size:"large","aria-label":Xr.t("Microphone"),"aria-checked":fe,disabled:!self},Nn.createElement(Qr.A,{peerId:"self",isMicrophoneEnabled:fe,allowMuteIconAnimation:!0})))},"HuddleScreenViewerMicButton");yo.displayName="HuddleScreenViewerMicButton";const Zr=yo,qr=Yr(Vr),ei=new La.Ay("huddles");function Co(De){const{peerId:fe,isError:Re}=De,Ve=(0,xa.d4)(Dn.vz),Ze=(0,xa.d4)(pn=>fe?(0,Dn.JZ)(pn,fe):null);let ut;if(Ve){var Dt,ct;ut=Ze!=null&&Ze.isScreenshareEnabled?Ze==null||(Dt=Ze.tileIds)===null||Dt===void 0||(ct=Dt.screenshare)===null||ct===void 0?void 0:ct.tileId:null}const an=Nn.createElement("span",{className:"p-huddle_screen_viewer__error"},ei.t("The screen share has ended."));return Nn.createElement("div",{className:"p-huddle_screen_viewer__container"},fe&&!Re&&Nn.createElement(qr,{id:fe,tileId:ut}),Re?an:Nn.createElement(Zr,null))}E(Co,"HuddleScreenViewer"),Co.displayName="HuddleScreenViewer";var ti=e(4385664584),ni=e(6165267850);const ds={childWindow:void 0,childWindowToken:void 0,container:void 0,containerTileId:void 0},bl=null,To=new La.Ay("huddles"),si=E(De=>{var fe;const Re=De==null||(fe=De.document)===null||fe===void 0?void 0:fe.querySelectorAll(".p-huddle_screen_viewer__container"),Ve=Re?Re.length:0,Ze=(0,fa.tZ)("SCREENSHARE-VIEWER-APP");Ve>1?Ze.info("Multiple containers rendered in viewing window. Shared stream may be hidden from view."):Ze.info(`${Ve} containers rendered in viewing window.`)},"logRenderedApplicationsCount"),ga=E(()=>{const{container:De,childWindow:fe}=ds;De&&(fr.unmountComponentAtNode(De),ds.containerTileId=void 0,ds.container=void 0),fe&&(fe.removeEventListener("beforeunload",ga),fe.close(),ds.childWindow=void 0,ds.childWindowToken=void 0)},"closeScreenShareWindow"),ai=(0,l.Ay)("Launch the window that renders screen share media",async(De,fe,Re)=>{var Ve,Ze,ut;const Dt=fe(),ct=(0,s.Ay)({state:Dt}),an=Re!=null&&Re.screenSharePeerId?Re.screenSharePeerId:(0,Dn.vN)(Dt);let pn=!1;const{container:wn,containerTileId:is}=ds;an||(ct.warn(sa.o7,"lastRemoteScreensharePeerId is not found"),pn=!0);const Yt=(0,Dn.JZ)(Dt,an||""),mn=Yt.userId?(0,gr.I)(Dt,Yt.userId):"";let fn=To.t("Screen share");mn&&(fn=To.t("{memberName} screen share",{memberName:(0,yr.A)(mn)}));const jn={...Ir.P,backgroundColor:"black",title:fn,type:"huddle-call-screen-share"},es=(0,U.Ry)();(0,ns.Ak)(es)||(ct.warn(sa.o7,"no active huddle found"),pn=!0);const us=(Yt==null||(Ve=Yt.tileIds)===null||Ve===void 0||(Ze=Ve.screenshare)===null||Ze===void 0?void 0:Ze.tileId)||0;(0,U.dispatchForClientStore)((0,aa.cn)({tileId:us}))||(ct.warn(sa.o7,"video tile does not have stream"),pn=!0);const qs=!ds.childWindow||ds.childWindow.closed;if(qs&&(0,f.y3)()){const{window:ra,windowToken:ha}=await(0,vr.wK)("",jn);ds.childWindow=ra,ds.childWindowToken=ha}else qs&&(ds.childWindow=window.open("",fn,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=480")||void 0);if(!ds.childWindow){ct.warn(sa.o7,"No child window available. Exiting screen share window launch");return}const _a=(0,Cr.ZT)(Dt);ds.childWindow.document&&(ds.childWindow.document.body.style.background="black");const ws=(0,ni.O)(ds.childWindow);if(qs&&(ds.childWindow.addEventListener("beforeunload",ga),window.addEventListener("beforeunload",ga)),!(wn&&is===us)||qs){ds.containerTileId=us;const ra=(0,b.oK)(_a);ds.container=await(0,Tr.s)(ds.childWindow,Nn.createElement(ti.A,{store:ra},Nn.createElement(Ar.D,{windowRef:ws},Nn.createElement(Dr.A,{shouldStopHuddle:!0},Nn.createElement(Co,{peerId:an,isError:pn})))),{useContainer:!0})}const ma=(ut=ds.childWindow)===null||ut===void 0?void 0:ut.browserWindowId;ma?(0,v.hN0)(ma):(0,pr.A)(ds.childWindow.focus)&&ds.childWindow.focus(),si(ds.childWindow)});ai.meta={name:"createThunk",key:"createThunklaunchScreenShareWindow",description:"Launch the window that renders screen share media"};var oi=e(5761207079);const Io=(0,l.Ay)("alerts if a user joins the huddle and the current user has hidden that user",(De,fe,Re)=>{let{userId:Ve}=Re;const Ze=fe();(0,oi.a)(Ze,Ve)&&De((0,Qs.Iw)(Qs.vT.HiddenUserJoinedHuddle))});Io.meta={name:"createThunk",key:"createThunkmaybeAlertHiddenUserJoinedHuddle",description:"alerts if a user joins the huddle and the current user has hidden that user"};var Wa=e(5378147939);const Do=(0,l.Ay)("Resolve a pending huddle",(De,fe,Re)=>(0,Wa.A)().resolvePendingJoin(Re));Do.meta={name:"createThunk",key:"createThunkresolvePendingHuddle",description:"Resolve a pending huddle"};const ri=Do;var ii=e(6310192986),li=e(6694086724),ci=e(9548972574),di=e(3474336343),ui=e(3263322402),Mo=e(3977512448);const Fa=(0,l.Ay)("update client huddle membership timers join",(De,fe)=>{const Re=fe(),Ve=(0,s.Ay)({state:Re}),Ze=(0,U.Ry)(),ut=(0,ns.Ak)(Ze),Dt=(0,di.Wg)(Re,{tip:Mo.ml.Huddles});if(!ut){Ve.warn(sa.o7,"no active huddle found, cannot update state to together or alone");return}const ct=(0,ci.Sx)(Re);if(ct===0){(0,Wa.A)().setAloneInHuddle();return}ct>0&&(Dt&&De((0,ui._A)(!0)),(0,Wa.A)().setOthersInHuddle(),De((0,li.e)({clearOnEndedCallback:!0,logContext:"on-peer-joined"})))});Fa.meta={name:"createThunk",key:"createThunkupdateAloneOrTogetherInHuddle",description:"update client huddle membership timers join"};var Aa=e(9712681361);let _i=E(class{onPeerMuted(fe,Re){this.dispatch((0,Dn.kT)({id:fe,isMicrophoneEnabled:!Re}))}onPeerJoined(fe,Re){if(this.maybeRecordFirstPresenceTime(),Re&&fe){this.dispatch((0,Dn.Uu)({id:fe,userId:Re,isMicrophoneEnabled:!0})),this.dispatch(Fa());const Ve=(0,Dn.Ng)(this.store.getState());(0,U.dispatchForClientStore)((0,on.Rr)({isDrawEnabled:Ve.isDrawEnabled||!1})),this.dispatch((0,Ks.U$)({type:Js.v.JOIN,memberId:Re,timestampMs:Date.now()})),this.maybeRemoveUserAsPending(Re),this.dispatch(Io({userId:Re}))}}onPeerLeft(fe){var Re;const Ve=(Re=(0,Dn.jB)(this.store.getState(),fe))===null||Re===void 0?void 0:Re.userId;Ve&&(this.callLogger.info(`Peer left the huddle. userId=${Ve} peerId=${fe}`),this.dispatch((0,Ks.U$)({type:Js.v.LEAVE,memberId:Ve,timestampMs:Date.now()}))),this.dispatch((0,Dn.xx)(fe)),this.dispatch(Fa())}onSelfJoined(){const fe=this.recordTiming(gs.qK);this.maybeRecordFirstPresenceTime(),this.dispatch(ri(fe)),(0,U.dispatchForClientStore)((0,on.wr)())}onSelfLeft(){this.dispatch((0,Qs.LL)(Mn.vT.HiddenUserJoinedHuddle))}onNewActiveSpeaker(fe){this.dispatch((0,Dn.FX)(fe))}onPeerReacji(fe,Re,Ve,Ze,ut){var Dt;const ct=this.store.getState(),an=ut?(0,nr.Ay)(ct,{url:ut}):void 0;this.dispatch((0,Dn._x)({peerId:fe,emoji:Re,isEmoji:Ve,reactionType:Ze,emojiUrl:an}));const pn=(Dt=(0,Dn.jB)(this.store.getState(),fe))===null||Dt===void 0?void 0:Dt.userId;pn&&this.dispatch((0,Ks.U$)({type:Js.v.SEND_REACTION,memberId:pn,timestampMs:Date.now(),emoji:Re}))}onPeerMuteRequest(fe,Re){Re===this.selfAttendeeId&&(this.dispatch((0,Ao.A)(!1)),this.dispatch((0,Mn.CE)({alert:Mn.vT.PeerMuteRequest,peerId:fe})),this.callLogger.info(`Peer muted self microphone : peerId:${fe}`))}onError(fe,Re){let Ve;Re===na.b9[na.b9.AudioJoinedFromAnotherDevice]?Ve=Aa.M6.AudioJoinedFromAnotherDevice:Re===na.b9[na.b9.MeetingEnded]&&(Ve=(0,tr.ew)((0,ro.KA)().getState())?Aa.M6.ChimeMeetingEndedFromTimeLimit:Aa.M6.ChimeMeetingEnded),this.dispatch((0,lr.A)({terminalState:Ve||fe})),this.callLogger.info(`tearDown executed: terminalState: ${fe}, statusCodeName: ${Re} tearDownState: ${Ve}`)}onClogError(fe){}onMeetingSessionInitialized(){this.recordTiming(gs.W_);const fe=(0,$s.Cy)({state:this.store.getState()}),Re=fe.measure(gs.Bq,gs.CY);fe.count(gs.CY,Re),(0,la.jm)({sdkInitializedTime:Re})}onSelfPermissionUpdated(fe,Re){this.callLogger.info(`Received permission update from type:${Re}, isDenied: ${fe}`);let Ve;(0,f.y3)()?Ve=Re===Cs.lW.Microphone?Mn.vT.NoSystemAudio:Mn.vT.NoSystemVideo:Ve=Re===Cs.lW.Microphone?Mn.vT.NoBrowserAudioPermission:Mn.vT.NoBrowserVideoPermission,fe?this.dispatch((0,Mn.CE)({alert:Ve})):this.dispatch((0,Mn.Gu)(Ve))}onSelfVideoTileUpdate(fe){if(!fe.tileId)return;const Re=(0,Dn.Ng)(this.getState());if(!fe.isContent&&!Re.isCameraEnabled)return;if(!(0,Dn.vz)(this.getState()))this.dispatch((0,Ks.U$)({type:Js.v.SCREENSHARE_START,memberId:(0,un.WR)(this.getState()),timestampMs:Date.now()})),this.dispatch((0,Dn.kT)({id:"self",tileId:fe.tileId,isScreenshareEnabled:!!fe.isContent}));else if(fe.isContent){var Ze,ut;this.dispatch((0,Ks.U$)({type:Js.v.SCREENSHARE_START,memberId:(0,un.WR)(this.getState()),timestampMs:Date.now()}));const Dt=(0,Dn.JC)(this.getState());((Ze=Re.tileIds)===null||Ze===void 0||(ut=Ze.screenshare)===null||ut===void 0?void 0:ut.tileId)!==fe.tileId&&Dt!==Vs.cM.Screenshare&&this.dispatch((0,io.x)({peerId:"self",contentViewType:Vs.cM.None,contentViewConfig:{}})),this.dispatch((0,Dn.kT)({id:"self",tileId:fe.tileId,isScreenshareEnabled:!!fe.isContent}))}else this.dispatch((0,Dn.kT)({id:"self",tileId:fe.tileId,isCameraEnabled:!0}))}onPeerVideoTileUpdate(fe,Re){if(!Re.tileId)return;const Ve=Re.boundExternalUserId&&(0,no.l)(Re.boundExternalUserId);Re.isContent&&Ve&&(this.callLogger.info(`Peer screenshare started: userId=${Ve}`),this.dispatch((0,Ks.U$)({type:Js.v.SCREENSHARE_START,memberId:Ve,timestampMs:Date.now()}))),this.dispatch((0,Dn.BD)({id:fe,tileId:Re.tileId,isContent:Re.isContent,isPaused:Re.paused}))}onVideoTileRemoved(fe){var Re,Ve;const Ze=this.store.getState(),ut=(0,Dn.v2)(Ze,fe);ut&&(this.callLogger.info(`Peer screenshare stopped: userId=${ut}`),this.dispatch((0,Ks.U$)({type:Js.v.SCREENSHARE_STOP,memberId:ut,timestampMs:Date.now()}))),this.dispatch((0,Dn.Qr)({tileId:fe})),ga();const Dt=(0,Dn.Ng)(Ze);((Re=Dt.tileIds)===null||Re===void 0||(Ve=Re.screenshare)===null||Ve===void 0?void 0:Ve.tileId)===fe&&Dt.contentViewType===Vs.cM.Screenshare&&this.dispatch((0,io.x)({peerId:"self",contentViewType:Vs.cM.None,contentViewConfig:{}}))}onVideoTileWillPause(fe){this.dispatch((0,Dn.K3)({tileId:fe}))}onVideoTileWillUnpause(fe){this.dispatch((0,Dn.XS)({tileId:fe}))}onDeviceAccessApproved(fe){switch(fe){case As.mT.MICROPHONE:{(0,f.y3)()?(this.dispatch((0,Mn.Gu)(Mn.vT.NoSystemAudio)),this.dispatch((0,Ds.er)())):(this.dispatch((0,Mn.Gu)(Mn.vT.NoBrowserAudioPermission)),this.dispatch((0,Ds.ZY)()));break}case As.mT.CAMERA:{(0,f.y3)()?(this.dispatch((0,Mn.Gu)(Mn.vT.NoSystemVideo)),this.dispatch((0,Ds.NH)())):(this.dispatch((0,Mn.Gu)(Mn.vT.NoBrowserVideoPermission)),this.dispatch((0,Ds.in)()));break}default:}}onCheckSystemMediaAccess(fe){switch(fe){case As.mT.MICROPHONE:{this.dispatch((0,Ds.tG)()),this.dispatch((0,Mn.CE)({alert:Mn.vT.NoSystemAudio}));break}case As.mT.CAMERA:{this.dispatch((0,Ds.Yr)()),this.dispatch((0,Mn.CE)({alert:Mn.vT.NoSystemVideo}));break}case As.mT.SCREEN:{this.dispatch((0,Ds.J3)()),this.dispatch((0,Mn.CE)({alert:Mn.vT.NoSystemScreenShare}));break}default:}}onBrowserMediaDeviceAccessDenied(fe){switch(this.callLogger.error(`Self ${fe} device access denied`),fe){case As.mT.MICROPHONE:{this.dispatch((0,Ds.cH)()),this.dispatch((0,Mn.CE)({alert:Mn.vT.NoBrowserAudioPermission}));break}case As.mT.CAMERA:{this.dispatch((0,Ds.px)()),this.dispatch((0,Mn.CE)({alert:Mn.vT.NoBrowserVideoPermission}));break}default:}}onStartSessionTimeout(){}onSetNoMediaInput(fe){switch(fe){case As.mT.MICROPHONE:{this.dispatch((0,Mn.CE)({alert:Mn.vT.NoUserAudioStream}));break}case As.mT.CAMERA:{const Re=(0,or.ly)(this.getState());if((0,U.dispatchForClientStore)((0,on.WM)({setVideoEnabled:!1})),!(0,f.y3)()&&Re)break;this.dispatch((0,Mn.CE)({alert:Mn.vT.NoUserVideoStream}));break}default:}}onClearNoMediaInput(fe){switch(fe){case As.mT.MICROPHONE:{this.dispatch((0,Mn.Gu)(Mn.vT.NoUserAudioStream));break}case As.mT.CAMERA:{this.dispatch((0,Mn.Gu)(Mn.vT.NoUserVideoStream));break}default:}}onSetNoAudioOutput(fe){switch(fe){case As.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,Mn.CE)({alert:Mn.vT.NoAudioOutputAudioElementError}));break}case As.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,Mn.CE)({alert:Mn.vT.NoAudioOutputAudioLevelError}));break}default:}}onClearNoAudioOutput(fe){switch(fe){case As.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,Mn.Gu)(Mn.vT.NoAudioOutputAudioElementError));break}case As.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,Mn.Gu)(Mn.vT.NoAudioOutputAudioLevelError));break}default:}}onSelfConnected(){this.callLogger.info("Self connected to chime media server"),this.dispatch((0,Dn.kT)({id:"self",isConnected:!0,noInternet:!1}))}onSelfDisconnected(){this.callLogger.info("Self disconnected from chime media server"),this.dispatch((0,Dn.kT)({id:"self",isConnected:!1})),Gn.A.publish({type:Sn.lx.NetworkDisconnect,update:{peerId:"self"}})}onSelfConnectionQualityChanged(fe,Re){this.callLogger.info(`${fe} audio packet loss changed to: ${Re}`)}onPeerConnected(fe){this.callLogger.info(`peer connnected to chime media server ${fe}`),this.dispatch((0,Dn.E3)({id:fe,isConnected:!0}))}onPeerDisconnected(fe){this.callLogger.info(`peer disconnected from chime media server ${fe}`),this.dispatch((0,Dn.E3)({id:fe,isConnected:!1}))}onPeerConnectionQualityChanged(fe,Re,Ve){}onSelfMediaStreamChanged(fe){}onNewPeerMediaStream(fe,Re){}onScreenThumbnails(fe){}onUpdatedSelfAudioLevel(fe){pa.A.publish("self",fe/ca.Ep),er.A.publish(fe/ca.Ep);const Re=this.store.getState();(0,Fn.lV)(Re)&&pa.A.publishAll("self",fe/ca.Ep)}onUpdatedPeerAudioLevels(fe){const Re=this.store.getState();Object.entries(fe).forEach(Ze=>{let[ut,Dt]=Ze;pa.A.publish(ut,Dt/ca.Ep)}),(0,Fn.lV)(Re)&&Object.entries(fe).forEach(Ze=>{let[ut,Dt]=Ze;pa.A.publishAll(ut,Dt/ca.Ep)})}onPeerCameraActive(fe,Re){const Ve=fe==="self";this.callLogger.info(`${Ve?"Self":`Peer (${fe})`} camera turned ${Re?"on":"off"}`),this.dispatch((0,Dn.kT)({id:fe,isCameraEnabled:Re}))}onPeerScreenShareActive(fe,Re){const Ve=fe==="self";this.callLogger.info(`${Ve?"Self":`Peer (${fe})`} screenshare ${Re?"started":"stopped"}`)}onPeerDrawMessage(fe,Re){Oa.A.publish({id:fe,...Re})}onPeerDrawEnabled(fe,Re){this.dispatch((0,Dn.kT)({id:fe,isDrawEnabled:Re}))}onMediaStats(fe,Re){this.dispatch(to({stats:fe,callId:Re}))}onAppMetrics(fe){let{appMetrics:Re,clientMetricReport:Ve,screenshareRtcStats:Ze}=fe;const ut=(0,ii.Ay)({state:this.getState(),appMetrics:Re});Gn.A.publish({type:Sn.lx.AppMetrics,update:{huddleStateSnapshot:ut,clientMetricReport:Ve,screenshareRtcStats:Ze}})}onDevicesUpdated(fe){this.dispatch((0,Ds.Fb)(fe))}onOutputDeviceChanged(fe){this.callLogger.info(`Self audio output device changed: device: ${fe.id}`),this.dispatch((0,Ds.AS)(fe))}onDeviceTypeBlocked(fe){}onTokenRefreshRequest(){}onScreenShareStopped(){this.dispatch(oo());const Re=(0,U.en)().getState(),Ve=(0,ns.Ak)(Re);!Ve||(0,yt.A)(Ve)||Ve.huddleState===Aa.RJ.ENDING||this.dispatch((0,ao.H)({focusKey:so.Ay.HUDDLE_SIDEBAR_FOOTER}))}onScreenShareStarted(){this.callLogger.info("Self screenshare started"),this.dispatch((0,ao.H)({focusKey:so.Ay.HUDDLE_SIDEBAR_FOOTER}))}onSetNoOrLowInputAudioLevel(){Gn.A.publish({type:Sn.lx.NoAudio,update:{direction:"send",noAudio:!0}})}onClearNoOrLowInputAudioLevel(){Gn.A.publish({type:Sn.lx.NoAudio,update:{direction:"send",noAudio:!1}})}onSetNoOrLowOutputAudioLevel(){Gn.A.publish({type:Sn.lx.NoAudio,update:{direction:"recv",noAudio:!0}})}onClearNoOrLowOutputAudioLevel(){Gn.A.publish({type:Sn.lx.NoAudio,update:{direction:"recv",noAudio:!1}})}onAudioVideoDidStartConnecting(){this.recordTiming(gs.dk)}onStart(){this.recordTiming(gs.Nh)}onAudioVideoDidStart(){this.recordTiming(gs.ck),(0,U.dispatchForClientStore)((0,on._U)(Date.now()))}onAudioVideoDidStop(){const fe=(0,U.en)(),Re=(0,ns.cN)(fe==null?void 0:fe.getState()),Ve=Date.now(),Ze=Ve-Re;(0,U.dispatchForClientStore)((0,on.bV)(Ve)),(0,U.dispatchForClientStore)((0,on.qr)(Ze))}onMaxTileSizeUpdated(fe){this.dispatch((0,Dn.l$)(fe))}onInit(){this.recordTiming(gs.cP)}onVoiceFocusLoaded(){const fe=(0,$s.Cy)({state:this.store.getState()}),Re=fe.measure(gs.aN,gs.pz);fe.count(gs.pz,Re),this.recordTiming(gs.qb)}onVoiceFocusStartLoading(){(0,$s.Cy)({state:this.store.getState()}).mark(gs.aN)}recordTiming(fe){const Re=(0,$s.Cy)({state:this.store.getState()}),Ve=Re.measure(gs.qr,fe);return Re.count(fe,Ve),Ve}onMeetingEvents(fe,Re,Ve,Ze,ut,Dt,ct){this.dispatch(Er({events:ut,callId:Ze,meetingId:fe,mediaRegion:Re,attendeeId:Ve,isUnloading:Dt,isEnding:ct}))}onMaybeVoiceFocusInitialized(fe){const Ve=(0,$s.Cy)({state:this.store.getState()}).measure(gs.Bq,gs.bv);(0,la.jm)({voiceFocusInitializedTime:fe,credentialsToVoiceFocusInitializedTime:Ve})}onScreenShareError(fe){switch(this.callLogger.error(`an error occurred while initiating a screenshare: type: ${fe}`),fe){case As.lD.NOT_FOUND_ERROR:{this.dispatch((0,Mn.CE)({alert:Mn.vT.SSNotFoundError}));break}case As.lD.NOT_READABLE_ERROR:{this.dispatch((0,Mn.CE)({alert:Mn.vT.SSNotReadableError}));break}case As.lD.ERROR:{this.dispatch((0,Mn.CE)({alert:Mn.vT.ScreenShareError}));break}default:break}}onNoiseSuppressionCPUThrottled(){this.dispatch((0,Mn.CE)({alert:Mn.vT.NoiseSuppressionCPUThrottled}))}onTranscriptionEvent(fe){this.dispatch(ir(fe))}setSelfAttendeeId(fe){this.selfAttendeeId=fe}maybeRecordFirstPresenceTime(){this.firstPresenceTimeMs>0||(this.firstPresenceTimeMs=this.recordTiming(gs.dP),(0,la.jm)({firstPresenceTime:this.firstPresenceTimeMs}))}onAudioInputTrackMuted(){this.dispatch((0,Mn.CE)({alert:Mn.vT.AudioInputTrackMuted}))}onAudioInputTrackUnMuted(){this.dispatch((0,Mn.Gu)(Mn.vT.AudioInputTrackMuted))}onAudioInitPossiblyFailed(){this.dispatch((0,Ds.Mb)())}onAudioInitTimeTaken(fe){this.dispatch((0,Ds.Ee)(fe))}onJukeboxRequest(fe){if(!(0,Fn.lV)(this.getState()))return;const Ve=this.isDj(),ut=(0,Sa.Rl)(this.getState())[fe];!Ve||!ut||((0,U.dispatchForClientStore)((0,on.bk)({song:ut})),(0,U.dispatchForClientStore)((0,on._u)({song:ut})),(0,U.dispatchForClientStore)((0,on.WY)(ut)))}onJukeboxStopRequest(){!(0,Fn.lV)(this.getState())||!this.isDj()||((0,U.dispatchForClientStore)((0,on.JM)()),(0,U.dispatchForClientStore)((0,on._u)({song:void 0})))}isDj(){var fe;const Re=(0,un.WR)(this.getState()),Ve=(0,U.en)(),Ze=(fe=(0,ns.Qn)(Ve==null?void 0:Ve.getState()))===null||fe===void 0?void 0:fe.callId,ut=(0,va.gV)(this.getState(),{callId:Ze}),Dt=(0,va.gV)(this.getState(),{callId:Ze,userId:Re});return!ut||!!Dt}maybeRemoveUserAsPending(fe){const Re=(0,U.en)(),Ve=(0,ns.E9)(Re==null?void 0:Re.getState());Ve&&this.dispatch((0,ar.r_)({callId:Ve,userId:fe}))}onContentShareDetailsUpdate(fe,Re,Ve){this.dispatch((0,Dn.kT)({id:fe,isDrawEnabled:Re,contentShareSource:Ve}))}constructor(fe){this.firstPresenceTimeMs=0,this.callLogger=(0,fa.Jt)("HUDDLE-DISPATCHER"),this.selfAttendeeId=void 0,this.dispatch=fe.dispatch,this.getState=fe.getState,this.store=fe}},"HuddleActionDispatcher");var mi=e(1890776492),da=e(4066669727),js=e(8778137680),hi=e(7434063642),Oo=e(4156857608);let Ot,Ka,Gs;const Ei="HUDDLE-SDK",fi="HUDDLE-CLIENT-MIDDLEWARE",ks=(0,s.Wo)({label:fi}),Po=E(De=>{De.id==="self"&&(Ot==null||Ot.sendDrawMessage(De))},"onPeerDrawPublish");function wa(De,fe,Re,Ve){const Ze=(0,ns.E9)(De),ut=(0,ns.l4)(De),Dt=ut?(0,b.oK)(ut):void 0,ct=Dt?Dt.getState():void 0,an=ct?(0,un.WR)(ct):void 0;Ze&&an&&(Dt==null||Dt.dispatch(fe({user:an,channel:Ze,fieldValue:Re,experimentHuddlesMultiDeviceGroupOn:Ve})))}E(wa,"maybeDispatchAwarenessUpdate");function ua(De,fe,Re){const Ve=(0,ns.E9)(De),Ze=(0,ns.l4)(De),ut=Ze?(0,b.oK)(Ze):void 0,Dt=ut?ut.getState():void 0,ct=Dt?(0,un.WR)(Dt):void 0;Ve&&ct&&(ut==null||ut.dispatch(fe({user:ct,channel:Ve,experimentHuddlesMultiDeviceGroupOn:Re})))}E(ua,"maybeDispatchAwarenessRemove");const So=(0,ps.Ay)("dispatches actions to huddles SDK",(De,fe,Re)=>{const Ve=De.getState(),Ze=E(()=>{const Yt=(0,ns.l4)(Ve),mn=(0,b.oK)(Yt);if(!mn)return{};const fn=mn==null?void 0:mn.getState();if(!fn)return{};const jn=(0,Dn.Ng)(fn)||{};return{huddlesVideoActive:(0,Dn.vz)(fn),self:jn}},"getIsHuddlesVideoActive");switch(Re.type){case on.kn.getType():{var ut;const Yt=Re.payload;Ka=Yt==null||(ut=Yt.audioOutputRef)===null||ut===void 0?void 0:ut.current,Ra.A.getInstance().init();break}case on.Sd.getType():{const{huddlesVideoActive:Yt,self:mn}=Ze();Ot&&Ot.hasSession()&&(Yt?Ot.selfVideoEnabled(!0,!!(mn!=null&&mn.isScreenshareEnabled)):Ot.selfVideoEnabled(!0,!1));break}case on._I.getType():{const{huddlesVideoActive:Yt,self:mn}=Ze();Ot&&Ot.hasSession()&&(Yt?Ot.selfVideoEnabled(!1,!!(mn!=null&&mn.isScreenshareEnabled)):Ot.selfVideoEnabled(!1,!1));break}case on.qW.getType():{ks.info("BOOT","user agent:",navigator.userAgent);const Yt=Re.payload;let mn=Yt.isStartMuted;if(!Ka){ks.error("Missing audio output element");return}const{server:fn,roomId:jn}=Yt.callResult,es=fn.attendee.AttendeeId,ss=Yt.waitForHuddleStart,us=Yt.isPrejoin;(0,U.dispatchForClientStore)((0,on.og)(us));const Ns=us?(0,ns.Qn)(Ve):(0,ns.Ak)(Ve),{teamId:qs}=Ns||{},_a=(0,R.getFocusedWorkspace)(Ve),ws=(0,b.oK)(qs||_a),Da=ws?ws.getState():void 0;if(!Da){ks.error("team state not available while initializing huddlesSdk. Returning early");return}ks.info("client-huddles-middleware: Dispatching resetPeersStore"),ws.dispatch((0,Dn.VL)({huddlesVideoActive:!0})),ws.dispatch((0,hi.X6)()),mn=mn||(0,Se.ty)(Da,"huddles_mute_by_default"),mn&&(ks.info("Start huddle as muted as specified in user prefs"),ws.dispatch((0,Dn.kT)({id:"self",isMicrophoneEnabled:!1}))),Gs&&Gs.stop(!0),(0,ro.Gc)(_a),Gs=new Xo.w,Gs.start(jn);const ma=(0,mi.u)();ma.then(zs=>{zs&&(ks.info("Log reporter stopped"),Gs==null||Gs.stop(!0,!1),Gs=void 0)});const ra=new _i(ws),{ttiTrace:ha}=(0,Ss.A)().getAllTraceHandlers();Ot=new cs.Y(ra,Ka,Ei),(0,Ts.Y)({name:Ts.R1.HuddlesSdk,ref:Ot});const Qa=(0,Zo.Y)(fn.attendee.ExternalUserId),$o=Ps(Da,{server:fn,isPrejoin:us});if(!$o){ks.error("sdk options not available. Returning early");return}const Ja=[],Ma=qs||_a;if(Qa&&Ma){const zs=new da.SV({teamId:Ma,peerId:es,topicId:Qa,isHuddlesAwarenessTimestampEnabled:(0,Fn.gG)(ws.getState())});Ja.push(zs);const Qo=new da.MC({teamId:Ma});Ja.push(Qo),da.PL.watch(Ma,Qa,zs),(0,Ts.Y)({name:Ts.R1.ChimeChannelListener,ref:Qo}),(0,Ts.Y)({name:Ts.R1.ChimeChannelBroadcaster,ref:zs})}Ot.initialize($o,[As.mT.MICROPHONE],!!mn,ss,ma,Ja).then(()=>{const zs=Ot==null?void 0:Ot.getMeetingMediaRegion();ha==null||ha.setMediaRegionTag(zs),Gn.A.publish({type:Sn.lx.SelectedMediaRegion,update:{mediaRegionSelected:zs}}),Ot&&!us&&(Ot==null||Ot.maybeBindAudioOutputElement(),Ot==null||Ot.setIncludeSelfAndNoneActiveSpeaker(!0,!0))}),ra.setSelfAttendeeId(es),Oa.A.subscribe(Po),ks.info("User started huddle");break}case on.pl.getType():{const Yt=Re.payload;if(Ot){const{waitForHuddleEnd:mn}=Yt;Ot.shutdown(()=>{mn.resolve()});const fn=(0,R.getFocusedWorkspace)(Ve),jn=(0,b.oK)(fn);jn==null||jn.dispatch((0,Qs.LL)(Qs.vT.SpeakingWhenMuted));const es=(0,Fn.pL)(jn==null?void 0:jn.getState()),ss=(0,ns.E9)(Ve);ss&&(ua(Ve,js.RZ,es),ua(Ve,js.Lm,es),da.PL.unwatch(ss)),Oa.A.unsubscribe(Po),ks.info("User left huddle")}Ot=void 0,da.PL.unwatchAll(),(0,Ts.N5)();break}case on.I9.getType():{const Yt=Re.payload;if(Ot&&Ot.hasSession()&&(Ot.selfMicrophoneEnabled(Yt),Yt)){const mn=(0,R.getFocusedWorkspace)(Ve),fn=(0,b.oK)(mn);fn==null||fn.dispatch((0,Qs.LL)(Qs.vT.SpeakingWhenMuted))}break}case on.nU.getType():{const Yt=Re.payload;Ot&&Ot.hasSession()&&Ot.sendReacji(Yt.emoji,Yt.reactionType,Yt.emojiUrl);break}case on.M4.getType():{const Yt=Re.payload;if(Ot&&Ot.hasSession()){const mn=(0,ns.l4)(Ve),fn=(0,b.oK)(mn);if(!fn)return;const jn=(0,Fn.pL)(fn.getState()),es=(0,ns.E9)(Ve),ss=(0,un.WR)(fn.getState());if(es){var Dt;if(((Dt=(0,va.Fb)(fn.getState(),es,ss,jn?"self":void 0))===null||Dt===void 0?void 0:Dt.field_value)===Yt)ua(Ve,js.RZ,jn),(0,ns.Rv)(Ve)&&Yt!=="speaker"&&(fn==null||fn.dispatch((0,Oo.a)({emoji:"speaker",reactionType:Vs.o.Sticker})));else{wa(Ve,js.z7,Yt,jn);const{huddleEventsTrace:Ns}=(0,Ss.A)().getAllTraceHandlers();Ns==null||Ns.update({name:ia.p.REACTION,type:ia.G.ONCE,tags:{reactionType:Vs.o.Sticker}})}}}break}case on.so.getType():{const Yt=Re.payload;Ot&&Ot.hasSession()&&Ot.sendMuteRequest(Yt);break}case on.ol.getType():{const Yt=Re.payload;Ot&&Ot.hasSession()&&Ot.setAGC(Yt);break}case on.HC.getType():{const Yt=Re.payload;Ot&&Ot.hasSession()&&Ot.setNewPreferredDevice(Yt==null?void 0:Yt.id,Yt==null?void 0:Yt.type);break}case on.yR.getType():{const Yt=Re.payload;Ot&&Ot.hasSession()&&Ot.setNoiseSuppression(Yt);break}case on.Rb.getType():{const Yt=Re.payload;Ot&&Ot.hasSession()&&Ot.setVideoBackgroundEffect(Yt);break}case on.YA.getType():{const{huddlesVideoActive:Yt,self:mn}=Ze(),fn=Re.payload,jn=!!(mn!=null&&mn.isCameraEnabled);if(Ot&&Ot.hasSession()){var ct,an;const es=(0,ns.l4)(Ve),ss=(0,b.oK)(es);Yt?Ot.selfVideoEnabled(jn,!0,fn==null?void 0:fn.mediaSourceId,fn):Ot.selfVideoEnabled(!1,!0,fn==null?void 0:fn.mediaSourceId,fn);let us=(fn==null||(ct=fn.mediaSourceId)===null||ct===void 0?void 0:ct.startsWith("screen:"))||!1;!(fn==null||(an=fn.mediaSourceId)===null||an===void 0)&&an.startsWith("window:")&&(0,qn.LD)()&&(us=!0),Ot.selfDrawEnabled((0,Za.A)()&&us);const Ns=(0,qn.k0)((fn==null?void 0:fn.mediaSourceId)||"");Ot.sendContentShareDetails(Ns),ss==null||ss.dispatch((0,Dn.kT)({id:"self",isDrawEnabled:us,isCameraEnabled:jn,contentShareSource:Ns}))}break}case on.QZ.getType():{const{huddlesVideoActive:Yt,self:mn}=Ze(),fn=Yt?mn.isCameraEnabled:!1;if(Ot&&Ot.hasSession()){const jn=(0,ns.l4)(Ve),es=(0,b.oK)(jn);Ot.selfVideoEnabled(!!fn,!1),es==null||es.dispatch((0,Dn.kT)({id:"self",isDrawEnabled:!1,contentShareSource:void 0}))}break}case Ds.Oh.getType():return Ot&&Ot.hasSession()?Ot.getScreenThumbnails():Ct.S.resolve(null);case on.nI.getType():{const Yt=Re.payload;if(Ot&&Ot.hasSession()){var pn;const mn=(0,ns.l4)(Ve),fn=(0,b.oK)(mn);if(!fn)return;const jn=(0,Fn.pL)(fn.getState()),es=(0,ns.E9)(Ve),ss=(0,un.WR)(fn.getState());if(!es)return;const us=(pn=(0,va.Fb)(fn.getState(),es,ss,jn?"self":void 0))===null||pn===void 0?void 0:pn.field_value;return(Yt||us==="speaker")&&(0,U.dispatchForClientStore)((0,Oo.a)({emoji:"speaker",reactionType:Vs.o.Sticker})),Ot.toggleAllIncomingVideo(Yt)}return Ct.S.resolve(null)}case on.WY.getType():{const Yt=Re.payload;if(Ot&&Ot.hasSession()){const mn=(0,ns.l4)(Ve);if(!(0,b.oK)(mn))return;(0,ns.E9)(Ve)&&wa(Ve,js.yT,Yt.key)}break}case on.Lx.getType():{const Yt=Re.payload;Ot&&Ot.hasSession()&&Ot.sendJukeboxRequest(Yt.key);break}case on.OA.getType():{Ot&&Ot.hasSession()&&Ot.sendJukeboxStopRequest();break}case on.Db.getType():{Ot&&Ot.hasSession()&&Ot.sendRecordingStartNotification();break}case on.bk.getType():{const Yt=Re.payload;if(Ot&&Ot.hasSession()){const mn=(0,ns.l4)(Ve),fn=(0,b.oK)(mn);if(!(0,Fn.lV)(fn.getState()))return;Ot.startContentShareJukebox({song:Yt.song})}break}case on.JM.getType():{if(Ot&&Ot.hasSession()){const Yt=(0,ns.l4)(Ve),mn=(0,b.oK)(Yt);if(!mn||!(0,Fn.lV)(mn.getState()))return;Ot.selfStopJukebox(),ua(Ve,js.S)}break}case Ds.e$.getType():{if(Ot&&Ot.hasSession()){const Yt=Re.payload.mediaResourceType;return Ot.maybeCheckSystemMediaAccess(Yt)}return Ct.S.resolve(null)}case aa.d2.getType():{if(Ot&&Ot.hasSession()){const{payload:{tileId:Yt,videoRef:mn,shouldAttachStream:fn}}=Re;Ot.bindVideo(Yt,mn.current,fn)}break}case aa.gJ.getType():{if(Ot&&Ot.hasSession()){const{payload:{tileId:Yt,videoRef:mn,shouldDetachStream:fn}}=Re;Ot.unbindVideo(Yt,mn.current,fn)}break}case aa.WY.getType():{if(Ot&&Ot.hasSession()){const{payload:{tileId:Yt}}=Re;Ot.pauseVideo(Yt)}break}case aa.D8.getType():{if(Ot&&Ot.hasSession()){const{payload:{tileId:Yt}}=Re;Ot.unpauseVideo(Yt)}break}case on.WM.getType():{const Yt=Re.payload;if(Ot&&Ot.hasSession()){const mn=(0,ns.l4)(Ve),fn=(0,b.oK)(mn),jn=fn==null?void 0:fn.getState();if(!fn){ks.info("client-huddles-middleware","no team store found when user toggles video");return}if(!jn){ks.info("client-huddles-middleware","no team state found when user toggles video");return}const{huddlesVideoActive:es}=Ze(),ss=(0,Dn.Ng)(jn);let us;(Yt==null?void 0:Yt.setVideoEnabled)!==void 0?us=Yt.setVideoEnabled:us=!(ss!=null&&ss.isCameraEnabled),us?(ks.info("client-huddles-middleware","user toggling ON video"),Ot.setCameraQuality(...(0,qa.cg)()),es?Ot.maybeEnableSelfCamera({isScreenshareEnabled:ss.isScreenshareEnabled}):Ot.maybeEnableSelfCamera()):(ks.info("client-huddles-middleware","user toggling OFF video"),es?Ot.selfVideoEnabled(!1,!!(ss!=null&&ss.isScreenshareEnabled)):Ot.selfVideoEnabled(!1,!1),fn.dispatch((0,Dn.kT)({id:"self",isCameraEnabled:!1})))}break}case aa.cn.getType():{if(Ot&&Ot.hasSession()){const{payload:{tileId:Yt}}=Re;return(Ot==null?void 0:Ot.videoTileHasStream(Yt))||!1}return Ct.S.resolve(!1)}case Dn.xz.getType():{const{huddlesVideoActive:Yt,self:mn}=Ze();Ot&&Re.payload.isContent&&(Yt?Ot.selfVideoEnabled(!!(mn!=null&&mn.isCameraEnabled),!1):Ot.selfVideoEnabled(!1,!1));break}case on.Dj.getType():{Ot!=null&&Ot.hasSession()&&(Ot==null||Ot.initVideoPermission());break}case on._H.getType():{if(Ot!=null&&Ot.hasSession()){const{videoElement:Yt,deviceId:mn}=Re.payload;Ot.stopVideoPreviewForVideoInput(Yt),Ot.setCameraQuality(...(0,qa.cg)()),Ot.requestPreviewStreamForDeviceId(mn,Cs.lW.Camera,Yt)}break}case on.yi.getType():{if(Ot!=null&&Ot.hasSession()){const Yt=Re.payload;Ot.stopVideoPreviewForVideoInput(Yt)}break}case on.Rr.getType():{const{self:Yt}=Ze();if(Ot&&Ot.hasSession()){const mn=(Yt==null?void 0:Yt.contentShareSource)||vs.R.Unknown;if(mn!==vs.R.Unknown){const fn=(Yt==null?void 0:Yt.isDrawEnabled)||!1;Ot.selfDrawEnabled((0,Za.A)()&&fn),Ot.sendContentShareDetails(mn);const jn=(0,b.oK)(Re.payload.teamId);jn==null||jn.dispatch((0,Dn.kT)({id:"self",isDrawEnabled:fn}))}}break}case on.HF.getType():{const Yt=Re.payload.isHostDrawEnabled,mn=(0,b.oK)(Re.payload.teamId);mn==null||mn.dispatch((0,Dn.kT)({id:"self",isHostDrawEnabled:Yt}));break}case on.B5.getType():{Ot==null||Ot.handleClientOffline();break}case on.f2.getType():{const Yt=Re.payload,{isStartMuted:mn}=Yt,{teamId:fn}=(0,ns.Ak)(Ve)||{},jn=(0,R.getFocusedWorkspace)(Ve),es=(0,b.oK)(fn||jn),{ttiTrace:ss}=(0,Ss.A)().getAllTraceHandlers();if(ss==null||ss.setMediaRegionTag(Ot==null?void 0:Ot.getMeetingMediaRegion()),es&&mn&&Ot)return Ot.completePrejoin(Yt).then(()=>{es.dispatch((0,Dn.kT)({id:"self",isMicrophoneEnabled:!1}))});if(Ot)return Ot.completePrejoin({});break}case on.xq.getType():{const Yt=Re.payload.contentViewType,mn=Re.payload.contentViewConfig;if(Ot&&Ot.hasSession()&&(0,ns.E9)(Ve)){var wn;const jn=(0,ns.l4)(Ve),es=(0,b.oK)(jn);if(!es)return;const ss=(0,Fn.pL)(es.getState());if(Yt!==Vs.cM.Screenshare)ua(Ve,js.Lm,ss);else if(!(mn==null||(wn=mn.item)===null||wn===void 0)&&wn.id){let us;if(mn.item.id==="self")us=(0,un.WR)(es.getState());else{var is;us=(is=(0,Dn.jB)(es.getState(),mn.item.id))===null||is===void 0?void 0:is.userId}wa(Ve,js.fv,us,ss)}}break}case on.wr.getType():{const Yt=(0,ns.l4)(Ve),mn=(0,b.oK)(Yt);if(!mn)return;const fn=mn.getState();if(!(0,Fn.Rk)(fn))return;if(Ot&&Ot.hasSession()){const jn=(0,ns.J0)(Ve);if(jn===void 0)break;const es=(0,Sa.gW)(fn,{channelId:jn}),ss=(0,Sa.zK)(fn,{channelId:jn});Ot.selfMicrophoneEnabled(es),(0,U.dispatchForClientStore)((0,on.WM)({setVideoEnabled:ss}))}break}default:return fe(Re)}return null});So.meta={name:"createMiddleware",key:"createMiddlewareclientHuddlesMiddleware",description:"dispatches actions to huddles SDK"};const pi=So;Object.defineProperty({huddlesSdk:Ot},"huddlesSdk",{get:()=>Ot,set:De=>{Ot=De}});var ya=e(4653418008),Ca=e(3328068409);const Ro=(0,ps.Ay)("Broadcast client theme state to other stores",(De,fe,Re)=>{const Ve=De.getState(),Ze=fe(Re),ut=De.getState(),Dt=(0,R.getBootedWorkspaces)(ut);return Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,Ca.to)(ct),broadcastAction:ct=>(0,ya.yg)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,Ca.FW)(ct),broadcastAction:ct=>(0,ya.kl)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,Ca.VD)(ct),broadcastAction:ct=>(0,ya.LA)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,Ca.pg)(ct),broadcastAction:ct=>(0,ya.Th)(ct)}),Ze});Ro.meta={name:"createMiddleware",key:"createMiddlewarebroadcastClientThemeMiddleware",description:"Broadcast client theme state to other stores"};const vi=Ro;var Lo=e(1201539379),gi=e(8707579690),Ai=e(2779520532),yi=e(7128275929),Ci=e(9341298);const bo=(0,ps.Ay)("Broadcast view layout state across all teams",(De,fe,Re)=>{const Ve=De.getState(),Ze=fe(Re),ut=De.getState(),Dt=(0,R.getBootedWorkspaces)(ut);return Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>{var an,pn;return`${ct==null||(an=ct.viewLayout)===null||an===void 0?void 0:an.sidebarWidthIntent}-${ct==null||(pn=ct.viewLayout)===null||pn===void 0?void 0:pn.sidebarWidthMode}`},broadcastAction:ct=>{const an=ct.split("-");return(0,Ai.R)({sidebarWidthIntent:Number(an[0]),sidebarWidthMode:an[1]})}}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>{var an,pn;return`${ct==null||(an=ct.viewLayout)===null||an===void 0?void 0:an.sidebarWideWidthIntent}-${ct==null||(pn=ct.viewLayout)===null||pn===void 0?void 0:pn.sidebarWideWidthMode}`},broadcastAction:ct=>{const an=ct.split("-");return(0,Ci.q)({sidebarWideWidthIntent:Number(an[0]),sidebarWideWidthMode:an[1]})}}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>{var an,pn;return`${ct==null||(an=ct.viewLayout)===null||an===void 0?void 0:an.sidebarExtraWideWidthIntent}-${ct==null||(pn=ct.viewLayout)===null||pn===void 0?void 0:pn.sidebarExtraWideWidthMode}`},broadcastAction:ct=>{const an=ct.split("-");return(0,yi.a)({sidebarExtraWideWidthIntent:Number(an[0]),sidebarExtraWideWidthMode:an[1]})}}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,Ce.Vo)(ct),broadcastAction:ct=>(0,Lo.KY)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>(0,Ce.v8)(ct),broadcastAction:ct=>(0,Lo.mV)(ct)}),Yn({state:ut,prevState:Ve,workspaces:Dt,broadcastSelector:ct=>{var an,pn;return`${ct==null||(an=ct.viewLayout)===null||an===void 0?void 0:an.secondaryWidthIntent}-${ct==null||(pn=ct.viewLayout)===null||pn===void 0?void 0:pn.secondaryWidthMode}`},broadcastAction:ct=>{const an=ct.split("-");return(0,gi.J)({secondaryWidthIntent:Number(an[0]),secondaryWidthMode:an[1]})}}),Ze});bo.meta={name:"createMiddleware",key:"createMiddlewarebroadcastViewLayoutMiddleware",description:"Broadcast view layout state across all teams"};const Ti=bo;var Ii=e(6174593183),Di=e(3934091301);const Mi=E(()=>{var De;return(De=(0,We.W6)(Di.c))!==null&&De!==void 0?De:[]},"loadRecentlyClosedWindows")(),Oi=(0,xn.vy)({},Mi,{persistenceEnabled:!1,storeKey:"recentlyClosedWindows"}).on(Ii.U,(De,fe)=>{let{windows:Re}=fe;return Re});var Pi=e(9524650809),ko=e(1649982175),Uo=e(352142497),oa=e(2870224675),Si=e(9932860381),Bo=e(3034856104);const Ha=50;function No(){return(0,Pi.A)("tabSoda_")}E(No,"generateTabSodaTabId");function Ri(){return{activeTab:void 0,tabs:{},tabOrder:[]}}E(Ri,"getInitialState");function xo(){return{entries:[],currentIndex:-1}}E(xo,"createEmptyHistoryState");function Li(De,fe){if(De&&fe){var Re,Ve,Ze,ut;const an=(Re=De[De[Xn.jf]])===null||Re===void 0?void 0:Re.primary,pn=(Ve=De[De[Xn.jf]])===null||Ve===void 0?void 0:Ve.secondary,wn=(Ze=fe[fe[Xn.jf]])===null||Ze===void 0?void 0:Ze.primary,is=(ut=fe[fe[Xn.jf]])===null||ut===void 0?void 0:ut.secondary;if(De.teamId===fe.teamId&&De[Xn.jf]===fe[Xn.jf]&&(an==null?void 0:an.id)===(wn==null?void 0:wn.id)&&(pn==null?void 0:pn.id)===(is==null?void 0:is.id)){var Dt,ct;return!((an==null?void 0:an.viewType)===Uo.D.Thread&&(wn==null?void 0:wn.viewType)===Uo.D.Thread&&(an==null||(Dt=an.params)===null||Dt===void 0?void 0:Dt.threadId)!==(wn==null||(ct=wn.params)===null||ct===void 0?void 0:ct.threadId))}}return!1}E(Li,"areViewsSame");function Wo(De){let{reducerState:fe,entry:Re,eventType:Ve}=De,Ze=fe.activeTab,ut=[...fe.tabOrder];Ze||(Ze=No(),ut.push(Ze));const Dt=fe.tabs[Ze]||xo();let ct={...fe.tabs};const an=Dt.currentIndex;if(Ve==="replace"&&an>=0){const pn=[...Dt.entries];pn[an]=Re,ct[Ze]={entries:pn.slice(0,Ha),currentIndex:an}}else{const pn=[...Dt.entries.slice(0,an+1),Re];ct[Ze]={entries:pn.slice(0,Ha),currentIndex:Math.min(an+1,Ha-1)}}if(!Dt.entries.length){const pn=fe.tabOrder.find(wn=>{const is=fe.tabs[wn];return is&&Li(Re,is.entries[is.currentIndex])});pn&&Ze!==pn&&(ut=fe.tabOrder.filter(wn=>wn!==Ze),ct=(0,ko.A)(fe.tabs,Ze),Ze=pn)}return{activeTab:Ze,tabs:ct,tabOrder:ut}}E(Wo,"getTabSodaStateFromWindowHistoryEvent");const bi=Ri(),ki=(0,xn.vy)({},bi,{persistenceEnabled:!1,storeKey:"tabSoda"}).on(oa.nz,(De,fe)=>{let{setAsActive:Re}=fe;const Ve=No(),Ze={...De.tabs,[Ve]:xo()},ut=[...De.tabOrder],Dt=De.activeTab?ut.indexOf(De.activeTab):-1;return ut.splice(Dt+1,0,Ve),{activeTab:Re?Ve:De.activeTab,tabs:Ze,tabOrder:ut}}).on(oa.yw,(De,fe)=>({...De,activeTab:fe})).on(oa.oT,(De,fe)=>{const{activeTab:Re,tabs:Ve,tabOrder:Ze}=De;let ut=Re;fe===Re&&(ut=(0,Si.fe)(Re,Ze));const Dt=[...Ze],ct=Ze.indexOf(fe);Dt.splice(ct,1);const an={...Ve};return delete an[fe],{tabs:an,tabOrder:Dt,activeTab:ut}}).on(oa.Uz,(De,fe)=>({...De,tabOrder:fe})).on(oa.Wz,(De,fe)=>{const Re=De.tabs[fe];if(!Re||Re.currentIndex<=0)return De;const Ve={...De.tabs,[fe]:{...Re,currentIndex:Re.currentIndex-1}};return{...De,tabs:Ve}}).on(oa.GJ,(De,fe)=>{const Re=De.tabs[fe];if(!Re||Re.currentIndex>=Re.entries.length-1)return De;const Ve={...De.tabs,[fe]:{...Re,currentIndex:Re.currentIndex+1}};return{...De,tabs:Ve}}).on(bn.Eg,(De,fe)=>{let{entry:Re}=fe;return(0,Bo.H)(Re)?Wo({eventType:"push",reducerState:De,entry:Re}):De}).on(bn.PP,(De,fe)=>{let{entry:Re}=fe;return(0,Bo.H)(Re)?Wo({eventType:"replace",reducerState:De,entry:Re}):De});var Ui=e(6027162153),Bi=e(9087248458),Ni=e(5503876160),Zs=e(9139930183);const xi={bootedWorkspaces:[],failedToBootWorkspaces:[],needs2FASetup:[],needsToAcceptCustomTOS:[],userNotMemberOfAnyWorkspaceInOrg:[],userRequiresMobileLogin:[],migratingWorkspaces:{},completedMigrationWorkspaces:[],accessLimitedWorkspaces:[],recentlyFocusedWorkspaces:[],navigateToUnbootedWorkspace:{},removedWorkspaces:[]},Wi="WORKSPACES",Fo=16,Fi=(0,Zs.Ay)({},xi,{storeKey:"workspaces",persistenceEnabled:!0}).on(i.initialize,(De,fe)=>Ki(De,fe)).on(i.setDidBootAllWorkspaces,De=>({...De,didBootAllWorkspaces:!0})).on(i.setWorkspaceOrder,(De,fe)=>wi(De,fe)).on(i.setWorkspaceBooted,(De,fe)=>Hi(De,fe)).on(i.setWorkspaceFailedToBoot,(De,fe)=>Vi(De,fe)).on(i.setWorkspaceNeeds2FASetup,(De,fe)=>ji(De,fe)).on(i.setWorkspaceNeedsToAcceptCustomTOS,(De,fe)=>Gi(De,fe)).on(i.setNavigateToUnbootedWorkspace,(De,fe)=>({...De,navigateToUnbootedWorkspace:fe})).on(i.setWorkspaceIsMigrating,(De,fe)=>zi(De,fe)).on(i.setWorkspaceMigrationIsComplete,(De,fe)=>Yi(De,fe)).on(i.setWorkspaceIsAccessLimited,(De,fe)=>$i(De,fe)).on(i.setUserNotMemberOfAnyWorkspaceInOrg,(De,fe)=>Qi(De,fe)).on(i.setUserRequiresMobileLogin,(De,fe)=>Ji(De,fe)).on(i.addWorkspace,function(De){let{id:fe,meta:Re}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!fe||!Re)throw new Error("'id' and 'meta' are both required when adding a workspace");if(De.allWorkspaces.includes(fe))return(0,s.Wo)({label:Wi}).warn(`Cannot add workspace; it is already present: ${fe}`),De;const{allWorkspaces:Ve,workspacesMeta:Ze}=De;return{...De,allWorkspaces:[...Ve,fe],workspacesMeta:{...Ze,[fe]:Re}}}).on(i.updateWorkspaceMeta,function(De){let{id:fe,meta:Re}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{workspacesMeta:Ve}=De;if(!Ve[fe])throw new Error(`Cannot update workspace meta for ${fe}; no such team`);return{...De,workspacesMeta:{...Ve,[fe]:Re}}}).on(i.internalSetFocusedWorkspaceType,(De,fe)=>({...De,focusedWorkspace:fe,recentlyFocusedWorkspaces:Xi(De.recentlyFocusedWorkspaces,fe)})).on(i.internalRemoveWorkspaceType,(De,fe)=>({...De,allWorkspaces:(0,Ui.A)(De.allWorkspaces,fe)})).on(i.addRemovedWorkspace,(De,fe)=>Zi(De,fe));function Ki(De){let{focusedWorkspace:fe,allWorkspaces:Re,workspacesMeta:Ve}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(De.allWorkspaces)throw new Error("workspaces-store:initialize cannot be called more than once");if(!fe)throw new Error("workspaces-store:initialize must be given a focusedWorkspace");if(!Re)throw new Error("workspaces-store:initialize must be given an array of workspaces");if(Re.indexOf(fe)<0)throw new Error(`workspaces-store:initialize ${fe} is not one of the valid workspaces: ${Re}`);return{...De,focusedWorkspace:fe,allWorkspaces:Re,workspacesMeta:Ve,recentlyFocusedWorkspaces:[fe]}}E(Ki,"initializeWorkspacesState");function wi(De,fe){const Re=De.allWorkspaces;if((0,Bi.A)(Re,fe).length!==Re.length)throw new Error("workspaces-store:setWorkspaceOrder can only re-order items in the array; additions or removals are not allowed");return(0,We.q9)("orderedTeamIds",fe),{...De,allWorkspaces:fe}}E(wi,"updateWorkspaceOrder");function Hi(De,fe){const Re=De.bootedWorkspaces.includes(fe)?De.bootedWorkspaces:[...De.bootedWorkspaces,fe];return{...De,bootedWorkspaces:Re}}E(Hi,"updateWorkspaceBooted");function Vi(De,fe){if(!fe)return De;const Re=De.failedToBootWorkspaces.includes(fe)?De.failedToBootWorkspaces:[...De.failedToBootWorkspaces,fe];return{...De,failedToBootWorkspaces:Re}}E(Vi,"updateWorkspaceFailedToBoot");function ji(De,fe){if(!fe)return De;const Re=De.needs2FASetup.includes(fe)?De.needs2FASetup:[...De.needs2FASetup,fe];return{...De,needs2FASetup:Re}}E(ji,"updateWorkspaceNeeds2FASetup");function Gi(De,fe){if(!fe)return De;const Re=De.needsToAcceptCustomTOS.find(Ve=>{let{teamId:Ze}=Ve;return fe.teamId===Ze})?De.needsToAcceptCustomTOS:[...De.needsToAcceptCustomTOS,fe];return{...De,needsToAcceptCustomTOS:Re}}E(Gi,"updateWorkspaceNeedsToAcceptCustomTOS");function zi(De,fe){let{teamId:Re,migrationId:Ve,canViewMigrationStatus:Ze}=fe;if(!Re)return De;const{migratingWorkspaces:ut}=De;return{...De,migratingWorkspaces:{...ut,[Re]:{migrationId:Ve,canViewMigrationStatus:Ze}}}}E(zi,"updateWorkspaceIsMigrating");function Yi(De,fe){if(!fe)return De;const Re=De.completedMigrationWorkspaces.includes(fe)?De.completedMigrationWorkspaces:[...De.completedMigrationWorkspaces,fe];return{...De,completedMigrationWorkspaces:Re}}E(Yi,"updateWorkspaceMigrationIsComplete");function $i(De,fe){if(!fe)return De;const Re=De.accessLimitedWorkspaces.includes(fe)?De.accessLimitedWorkspaces:[...De.accessLimitedWorkspaces,fe];return{...De,accessLimitedWorkspaces:Re}}E($i,"updateWorkspaceIsAccessLimited");function Qi(De,fe){if(!fe)return De;const Re=De.userNotMemberOfAnyWorkspaceInOrg.includes(fe)?De.userNotMemberOfAnyWorkspaceInOrg:[...De.userNotMemberOfAnyWorkspaceInOrg,fe];return{...De,userNotMemberOfAnyWorkspaceInOrg:Re}}E(Qi,"updateUserNotMemberOfAnyWorkspaceInOrg");function Ji(De,fe){if(!fe)return De;const Re=De.userRequiresMobileLogin.includes(fe)?De.userRequiresMobileLogin:[...De.userRequiresMobileLogin,fe];return{...De,userRequiresMobileLogin:Re}}E(Ji,"updateUserRequiresMobileLogin");function Xi(De,fe){const Re=[fe,...De.filter(Ve=>Ve!==fe)];return Re.length>Fo?(0,Ni.A)(Re,Fo):Re}E(Xi,"updateRecentlyFocusedWorkspaces");function Zi(De,fe){if(!fe)return De;const Re=De.removedWorkspaces.includes(fe)?De.removedWorkspaces:[...De.removedWorkspaces,fe];return{...De,removedWorkspaces:Re}}E(Zi,"updateRemovedWorkspaces");var qi=e(7798793495),el=e(8749931423),tl=e(7206394193),nl=e(773865333),sl=e(7156104699),al=e(582577127),ol=e(2732935554),rl=e(3034787354),il=e(9651400563),ll=e(4614661813),cl=e(2140362605);const Va=(0,cl.Ay)("sets the client side effect map on the store");Va.meta={name:"createAction",key:"createActionsetClientSideEffectsMap",description:"sets the client side effect map on the store"};const dl={clientSideEffectsMap:{}},ul=(0,Zs.Ay)({},dl,{storeKey:"clientSideEffects",persistenceEnabled:!1}).on(Va,(De,fe)=>({...De,clientSideEffectsMap:fe}));var _l=e(5923036663),ml=e(6168781067),hl=e(7902571278),El=e(56562029);const fl={isHuddlesEnabled:!1,channelToJoinCredentials:{},showDiscoveryBanner:!1,screenshareActivePanel:0,songPlaying:void 0,jukeboxLocalVolume:1,canRenderActiveInviteCardInSidebar:!0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,unreadInvites:[],huddleJoinPreviewChannelId:void 0,huddleJoinPreviewBackgroundEffect:void 0,huddleJoinPreviewBackgroundBlurIsEnabled:!1},pl=(0,Zs.Ay)({},fl,{storeKey:"clientHuddles",persistenceEnabled:!1}).on(on.VU,(De,fe)=>De.isHuddlesEnabled?De:{...De,isHuddlesEnabled:fe}).on(on.xf,(De,fe)=>({...De,mostRecentHuddle:fe})).on(on.Rh,(De,fe)=>{const{mostRecentHuddle:Re}=De;if(!Re||fe.teamId&&fe.teamId!==Re.teamId||fe.channelId&&fe.channelId!==Re.channelId)return De;const Ve={...De,mostRecentHuddle:{...Re,...fe}},Ze=Ve.mostRecentHuddle;return Ze&&(0,s.Wo)().info(sa.o7,`updateActiveHuddleReference huddleState ${Ze.huddleState}, substate ${Ze.huddleSubState}, optimisticState ${Ze.optimisticHuddleState}`),Ve}).on(on.Jc,(De,fe)=>{const{mostRecentHuddle:Re}=De;return!Re||fe===Re.channelId?De:{...De,mostRecentHuddle:{...Re,channelId:fe}}}).on(on.hB,(De,fe)=>({...De,activeInvite:fe,unreadInvites:[...De.unreadInvites,{invite:fe,receivedTimestampMs:Date.now()}]})).on(on.fP,(De,fe)=>{let{teamId:Re,markBeforeMs:Ve}=fe;const Ze=De.unreadInvites.filter(ut=>ut.invite.teamId!==Re||ut.receivedTimestampMs>Ve);return De.unreadInvites.length===Ze.length?De:{...De,unreadInvites:Ze}}).on(on.u8,(De,fe)=>{var Re;return{...De,unreadInvites:De.unreadInvites.filter(Ve=>Ve.invite.channelId!==fe),activeInvite:((Re=De.activeInvite)===null||Re===void 0?void 0:Re.channelId)!==fe?De.activeInvite:void 0}}).on(on.Ko,(De,fe)=>De.forceMiniPanelVisible===fe?De:{...De,forceMiniPanelVisible:fe}).on(on.Yi,(De,fe)=>{let{channelId:Re,joinCredentials:Ve,expiry:Ze,fromInvite:ut}=fe;var Dt;if(!Re||!Ve)return De;const ct=De.channelToJoinCredentials;ct[Re]={credentials:Ve,expiry:Ze,fromInvite:ut};const an=(Dt=De.activeInvite)===null||Dt===void 0?void 0:Dt.teamId;return an&&(0,$s.Cy)({state:(0,b.$D)(an)}).count(gs.ir),{...De,channelToJoinCredentials:ct}}).on(on.WB,(De,fe)=>{let{channelId:Re}=fe;if(!Re)return De;if(De.channelToJoinCredentials[Re]){var Ve;const Ze=(Ve=De.activeInvite)===null||Ve===void 0?void 0:Ve.teamId;Ze&&(0,$s.Cy)({state:(0,b.$D)(Ze)}).count(gs.sQ)}return{...De,channelToJoinCredentials:(0,ko.A)(De.channelToJoinCredentials,[Re])}}).on(on.aO,(De,fe)=>De.showDiscoveryBanner===fe?De:{...De,showDiscoveryBanner:fe}).on(on.Ag,(De,fe)=>De.isLoungeMusicPlaying===fe?De:{...De,isLoungeMusicPlaying:!!fe}).on(on._U,(De,fe)=>De.lastStartTs===fe?De:{...De,lastStartTs:fe}).on(on.bV,(De,fe)=>De.lastEndTs===fe?De:{...De,lastEndTs:fe}).on(on.qr,(De,fe)=>De.lastDurationTs===fe?De:{...De,lastDurationTs:fe}).on(on.Gx,(De,fe)=>De.screenshareActivePanel===fe?De:{...De,screenshareActivePanel:fe}).on(on.cx,De=>({...De,screenshareActivePanel:0,songPlaying:void 0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,huddleJoinPreviewChannelId:void 0})).on(on._u,(De,fe)=>{let{song:Re}=fe;return De.songPlaying===(Re==null?void 0:Re.key)?De:{...De,songPlaying:Re==null?void 0:Re.key}}).on(on.nw,(De,fe)=>De.canRenderActiveInviteCardInSidebar===fe?De:{...De,canRenderActiveInviteCardInSidebar:fe}).on(on.o9,(De,fe)=>De.isHuddleWindowFocused===fe?De:{...De,isHuddleWindowFocused:fe}).on(on.TK,(De,fe)=>De.isHuddleWindowOpen===fe?De:{...De,isHuddleWindowOpen:fe}).on(on.kg,(De,fe)=>De.isAudioOnlyModeEnabled===fe?De:{...De,isAudioOnlyModeEnabled:fe}).on(on.Hg,(De,fe)=>De.wasCameraEnabledWhenAudioOnlyModeWasActivated===fe?De:{...De,wasCameraEnabledWhenAudioOnlyModeWasActivated:fe}).on(on.t2,(De,fe)=>De.isHuddleMiniPlayerHidden===fe?De:{...De,isHuddleMiniPlayerHidden:!!fe}).on(on.og,(De,fe)=>De.wasJoinedFromPrejoin===fe?De:{...De,wasJoinedFromPrejoin:!!fe}).on(on._o,(De,fe)=>{let{channelId:Re}=fe;return De.huddleJoinPreviewChannelId===Re?De:{...De,huddleJoinPreviewChannelId:Re}}).on(on.yW,(De,fe)=>{let{backgroundEffectBgKey:Re,blurEffectIsEnabled:Ve}=fe;return De.huddleJoinPreviewBackgroundEffect===Re&&De.huddleJoinPreviewBackgroundBlurIsEnabled===Ve?De:{...De,huddleJoinPreviewBackgroundEffect:Re,huddleJoinPreviewBackgroundBlurIsEnabled:Ve}}),Fl=100,Ko="client-ia-history",vl=[...Object.values(Mo.mH)||[]];var Ta=e(1521690892);const gl=E(()=>{try{const De=localStorage.getItem(Ko);return De?JSON.parse(De):[]}catch(De){return(0,s.Wo)().error("Failed to read IA history from storage",De),[]}},"readStackFromStorage"),Ia=E(De=>{try{localStorage.setItem(Ko,JSON.stringify(De))}catch(fe){(0,s.Wo)().error("Failed to write IA history to storage",fe)}},"writeStackToStorage"),Al=(0,Zs.Ay)({},{stack:gl()},{storeKey:"iaHistory",persistenceEnabled:!1}).on(Ta.nb,(De,fe)=>{if(!fe||vl.includes(fe==null?void 0:fe.primaryView))return De;const Re=1e3,Ve=[fe].concat(De.stack).slice(0,Re);return window.setTimeout(()=>Ia(Ve),0),{stack:Ve}}).on(Ta.JG,(De,fe)=>{const Re=De.stack.indexOf(fe);if(Re===-1)return De;const Ve=De.stack.slice();return Ve.splice(Re,1),window.setTimeout(()=>Ia(Ve),0),{stack:Ve}}).on(Ta.Si,De=>{if(!De.stack)return De;const fe=De.stack.slice(0,1);return window.setTimeout(()=>Ia(fe),0),{stack:fe}}).on(Ta.kM,()=>{const De=[];return Ia(De),{stack:De}}),yl=!0,wo=(0,Zs.Ay)({},yl,{storeKey:"isClient",persistenceEnabled:!1});wo.meta={name:"createReducer",key:"createReducerisClientReducer"};const Cl=wo;let Ho;try{var ja;Ho=(ja=(0,We.W6)(ht.Vb))!==null&&ja!==void 0?ja:void 0}catch{}let Vo;try{var Ga;Vo=(Ga=(0,We.W6)(ht._J))!==null&&Ga!==void 0?Ga:void 0}catch{}let jo;try{var za;jo=(za=(0,We.W6)(ht.UY))!==null&&za!==void 0?za:void 0}catch{}let Go;try{var Ya;Go=(Ya=(0,We.W6)(ht.xN))!==null&&Ya!==void 0?Ya:void 0}catch{}const Tl={invertedSidebar:Ho,peeksEnabledOnMouseEnter:Vo,zoom:jo,isSidebarVisible:Go},Il=(0,Zs.Ay)({},Tl,{storeKey:"nonBBMSettings",persistenceEnabled:!1}).on(it.p$,(De,fe)=>({...De,invertedSidebar:fe})).on(it.rB,(De,fe)=>({...De,peeksEnabledOnMouseEnter:fe})).on(it.x8,(De,fe)=>({...De,zoom:fe})).on(it.KY,(De,fe)=>({...De,isSidebarVisible:fe}));var Dl=e(4686544804),Ml=e(3180420025),$a=e(2696160384);const zo={isDocked:!1,miniPlayerConfig:{fileId:""}},Ol=(0,Zs.Ay)({},zo,{storeKey:"videoClips",persistenceEnabled:!1}).on($a.FI,(De,fe)=>({...De,isDocked:fe})).on($a.D_,(De,fe)=>{let{fileId:Re,teamId:Ve,mediaId:Ze,channelId:ut,threadTs:Dt,timeElapsed:ct,isPlaying:an}=fe;return{...De,miniPlayerConfig:{fileId:Re,teamId:Ve,mediaId:Ze,channelId:ut,threadTs:Dt,timeElapsed:ct,isPlaying:an}}}).on($a.Sr,De=>({...De,...zo}));var Pl=e(9813790040),Sl=e(4256476552);function Yo(){let{extraMiddlewares:De=[],customEnhancers:fe=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Re=(0,o.A)({teamOrEnterpriseId:"client",middlewares:[...De,tl.A,n.P,nl.A,Tn,Xe,vi,Ti,Rs,bt,Qt,en,mt,Vt,sl.N,pi],customEnhancers:fe}),Ve=(0,el.A)({workspaces:Fi,window:Sl.A,connectivity:ml.A,accessibility:rl.A,accessibilityPersistent:ol.A,desktop:hl.A,clientTheme:_l.A,iaHistory:Al,mainWindowHistory:Us,isClient:Cl,isState:qi.G,viewLayout:Pl.A,noop:Dl.A,clientHuddles:pl,clientSideEffects:ul,recents:Is,recentlyClosedWindows:Oi,overlays:Ml.y,tabSoda:ki,fullscreen:El.G,bbm:ll.Y,videoClips:Ol,nonBBMSettings:Il,bbmSettings:il.Z});return(0,t.Yl)(Ve,Re)}E(Yo,"createClientStore");function Rl(){const De=(0,U.en)();if(De)return(0,s.Wo)().warn("[CLIENT-STORE]","we\u2019ve called configureClientStore before and already have an instance. This is likely a programming error."),De;const fe=Yo();(0,U.kA)(fe);const{clientSideEffectsMap:Re,sideEffectsMap:Ve}=(0,al.g)(dn);if(Object.keys(Ve).length)throw new Error("Passed non-client side effects into client store. This is a programming error and the app will not work properly.");return fe.dispatch(Va(Re)),fe}E(Rl,"configureClientStore");const Hl={createClientStore:Yo}},3803432550:(N,y,e)=>{"use strict";e.d(y,{x:()=>l});var t=e(8148939499),n=e(6508028729),o=e(2028988448),s=e(4496040127),c=e(1567823503),r=e(1535672935),a=e(9012396182),i=e(7384121809);function l(_){if(!_||(0,i.en)())return;const h=(0,c.A)(),d=(0,s.VA)()?(0,t.A)():[_],f=(0,n.A)();h.dispatch((0,r.initialize)({focusedWorkspace:_,allWorkspaces:d,workspacesMeta:f})),m(h)}E(l,"initializeClientStore");function m(_){(0,o.ul)("clientStore",_),(0,o.zv)("teamIds",()=>{const d=_.getState();return a.getAllWorkspaces(d)}),(0,o.zv)("activeTeam",()=>{const d=_.getState(),f=a.getFocusedWorkspace(d);return window.slackDebug[f]}),(0,o.zv)("activeTeamId",()=>{const d=_.getState();return a.getFocusedWorkspace(d)}),(0,o.zv)("activeEnterprise",()=>{var d,f;const v=_.getState(),u=(d=a.getWorkspacesMeta(v))===null||d===void 0||(f=d[a.getFocusedWorkspace(v)])===null||f===void 0?void 0:f.enterprise_id;return window.slackDebug[u]});const h={};Object.keys(r).forEach(d=>{h[d]=function(){for(var f=arguments.length,v=new Array(f),u=0;u<f;u++)v[u]=arguments[u];return _.dispatch(r[d](...v))}}),Object.keys(a).forEach(d=>{h[d]=function(){for(var f=arguments.length,v=new Array(f),u=0;u<f;u++)v[u]=arguments[u];return a[d](_.getState(),...v)}}),(0,o.ul)("clientStore.workspaces",h)}E(m,"setupClientStoreDebugger")},4460213392:(N,y,e)=>{"use strict";e.d(y,{BY:()=>s,Cy:()=>n,DU:()=>r,RA:()=>i,bW:()=>l,es:()=>c,kU:()=>m,nR:()=>o,s8:()=>h,tZ:()=>_,uM:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Set sidebar priority toggle state");n.meta={name:"createAction",key:"createActionsetPrioritySidebarToggleSelected",description:"Set sidebar priority toggle state"};const o=(0,t.Ay)("Upserts strings from conversations.recommend to priority store");o.meta={name:"createAction",key:"createActionupsertPriorityChannelIds",description:"Upserts strings from conversations.recommend to priority store"};const s=(0,t.Ay)("Upserts strings from users.recommend to priority store");s.meta={name:"createAction",key:"createActionupsertPriorityUserIds",description:"Upserts strings from users.recommend to priority store"};const c=(0,t.Ay)("Removes user ids from priority store");c.meta={name:"createAction",key:"createActionremovePriorityUserIds",description:"Removes user ids from priority store"};const r=(0,t.Ay)("Resets priority user ids with data from vip_users pref");r.meta={name:"createAction",key:"createActionsetPriorityUserIdsFromPref",description:"Resets priority user ids with data from vip_users pref"};const a=(0,t.Ay)("reset priority store");a.meta={name:"createAction",key:"createActionresetPriority",description:"reset priority store"};const i=(0,t.Ay)("sets loading state for Priority");i.meta={name:"createAction",key:"createActionsetPriorityLoading",description:"sets loading state for Priority"};const l=(0,t.Ay)("sets recommended priority users with data from users.recommend");l.meta={name:"createAction",key:"createActionupsertRecommendedPriorityUsers",description:"sets recommended priority users with data from users.recommend"};const m=(0,t.Ay)("Upserts users.recommend request_id");m.meta={name:"createAction",key:"createActionupsertRecommendedPriorityUserRequestId",description:"Upserts users.recommend request_id"};const _=(0,t.Ay)("sets loading state for recommendations");_.meta={name:"createAction",key:"createActionsetRecommendationsLoading",description:"sets loading state for recommendations"};const h=(0,t.Ay)("Priority prototype: sets NUX screen state for Priority");h.meta={name:"createAction",key:"createActionsetPriorityNuxScreen",description:"Priority prototype: sets NUX screen state for Priority"}},2338429587:(N,y,e)=>{"use strict";e.d(y,{C:()=>A});var t=e(3134334389),n=e(3106223098),o=e(7779511999),s=e(4275787242),c=e(6471059816),r=e(9506008067);const a=new c.Ay("priority_manage"),i={name:"check-circle"},l={name:"warning"},m=E(C=>{let{memberName:T,isUserVIP:I}=C;return(0,r.d4)(n.Gn)?t.createElement(s.A,{svgIconProps:i,duration:3e3},t.createElement("span",null,I?a.rt("Removed <b>{memberName}</b> from VIPs",{memberName:T}):a.rt("Added <b>{memberName}</b> to VIPs",{memberName:T}))):null},"PriorityToast");m.displayName="PriorityToast";const _=E(C=>{let{errorData:T,memberName:I}=C;if(!(0,r.d4)(n.Gn))return null;const D=E(()=>{switch(T.error){case o.a.UserNotFound:return a.t("User is not eligible to be added as VIP.",{fallbackHash:"83743049d08a764e93ca79d5621ee1e19f02bc75",fallbackHashNs:"slack_connect_hub_next"});case o.a.TooManyVips:return a.rt("<b>{memberName}</b> could not be added to VIP. You can only have a maximum of {maxVIPCount} VIPs.",{memberName:I,maxVIPCount:T.max_vip_limit});default:return a.t("Hmm, something went wrong. Try again?",{fallbackHash:"83743049d08a764e93ca79d5621ee1e19f02bc75",fallbackHashNs:"slack_connect_hub_next"})}},"getErrorText");return t.createElement(s.A,{svgIconProps:l},t.createElement("span",null,D()))},"PriorityErrorToast");_.displayName="PriorityErrorToast";var h=e(5876398840),d=e(3534324375),f=e(4460213392),v=e(6795500641),u=e(6304789565),g=e(8276911661),p=e(5060694341);const A=(0,u.Ay)("Add/remove user from priority status",async(C,T,I)=>{if(!I)return;const M=T(),D=(0,d.sE)(M,(0,g.nv)(M,I)),O=(0,v.mF)(M,I);O?(C((0,f.es)({userIds:[I]})),C((0,h.O)({user:I,reason:"remove-user-from-priority"})).then(()=>{C((0,p.M)({element:t.createElement(m,{memberName:D,isUserVIP:O})}))})):(C((0,f.BY)({userIds:[I]})),C((0,o.p)({user:I,reason:"add-user-to-priority"})).then(()=>{C((0,p.M)({element:t.createElement(m,{memberName:D,isUserVIP:O})}))}).catch(S=>{C((0,f.es)({userIds:[I]})),S!=null&&S.data&&C((0,p.M)({element:t.createElement(_,{errorData:S==null?void 0:S.data,memberName:D})}))}))});A.meta={name:"createThunk",key:"createThunktogglePriorityUserById",description:"Add/remove user from priority status"}},6174593183:(N,y,e)=>{"use strict";e.d(y,{U:()=>n});var t=e(2140362605);const n=(0,t.Ay)("SET_RECENTLY_CLOSED_WINDOWS");n.meta={name:"createAction",key:"createActionsetRecentlyClosedWindows",description:"SET_RECENTLY_CLOSED_WINDOWS"}},3934091301:(N,y,e)=>{"use strict";e.d(y,{c:()=>t,j:()=>n});const t="window-last-closed-restoration",n=20},2870224675:(N,y,e)=>{"use strict";e.d(y,{GJ:()=>s,Uz:()=>a,Wz:()=>o,nz:()=>n,oT:()=>r,yw:()=>c});var t=e(2140362605);const n=(0,t.Ay)("Adds a new emtpy tab-soda tab");n.meta={name:"createAction",key:"createActiontabSodaAddNewTab",description:"Adds a new emtpy tab-soda tab"};const o=(0,t.Ay)("Moves the current history index back for a tab soda tab");o.meta={name:"createAction",key:"createActiontabSodaGoBackInTab",description:"Moves the current history index back for a tab soda tab"};const s=(0,t.Ay)("Moves the current history index forward for a tab soda tab");s.meta={name:"createAction",key:"createActiontabSodaGoForwardInTab",description:"Moves the current history index forward for a tab soda tab"};const c=(0,t.Ay)("Select a tab by id");c.meta={name:"createAction",key:"createActiontabSodaSelectTab",description:"Select a tab by id"};const r=(0,t.Ay)("Remove a tab soda tab");r.meta={name:"createAction",key:"createActiontabSodaRemoveTab",description:"Remove a tab soda tab"};const a=(0,t.Ay)("Re-order tab soda tabs");a.meta={name:"createAction",key:"createActiontabSodaReorderTabs",description:"Re-order tab soda tabs"}},9932860381:(N,y,e)=>{"use strict";e.d(y,{Fp:()=>r,Xy:()=>c,fe:()=>s});var t=e(6471801899),n=e(8040098042),o=e(2960290117);function s(a,i){const l=i.indexOf(a),m=l<i.length-1?l+1:l-1;return m>=0?i[m]:void 0}E(s,"tabSodaGetNextActiveTab");function c(a){return(0,n.A)(a)||a==="thread"}E(c,"canOpenInTabSodaTab");function r(a){return(0,o.Ay)(a)||(0,t.pI)(a)||(0,t.or)(a)||(0,n.A)(a)||a==="thread"||a==="comment_thread"}E(r,"tabSodaCanViewBeEjected")},7176966205:(N,y,e)=>{"use strict";e.d(y,{$:()=>d});var t=e(4117634716),n=e(8822892075),o=e(395285811),s=e(2647703359),c=e(3634593162),r=e(3110884894),a=e(2823938397),i=e(8040098042),l=e(2870224675),m=e(6304789565),_=e(7384121809),h=e(937317117);const d=(0,m.Ay)("Opens a view in a new tab",function(f,v){let{viewId:u,params:g}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=v(),A=(0,l.nz)({setAsActive:!0});if(!u)return(0,_.dispatchForClientStore)(A);if(u&&(0,i.A)(u))return(0,_.dispatchForClientStore)(A),f((0,t.o)((0,n.pr)(u)));if(u==="thread"&&(g!=null&&g.threadId)){const{channelId:C,threadTs:T}=(0,r.Sb)(g==null?void 0:g.threadId);if(C&&T){if((0,_.dispatchForClientStore)(A),(0,o.OR)(p,C)){const S=(0,c.l)(C),R=(0,h.Lp)(p,S);if(R&&(0,a.uz)(R)&&(0,s.DQ)(R))return f((0,t.o)((0,n.m3)({channelId:C,threadTs:T})))}const{replyTs:M,highlightRoot:D,dangerouslyOverrideRouting:O}=g;return f((0,t.o)((0,n.UX)({channelId:C,threadTs:T,replyTs:M,highlightRoot:D,dangerouslyOverrideRouting:O})))}}});d.meta={name:"createThunk",key:"createThunkmaybeOpenInTabSodaTab",description:"Opens a view in a new tab"}},4326266690:(N,y,e)=>{"use strict";e.d(y,{B:()=>c,fK:()=>s,lw:()=>i,uV:()=>a,ud:()=>r});var t=e(9932860381),n=e(2384831516),o=e(3193155968);const s=(0,n.Mz)(l=>l.tabSoda);s.meta={name:"createSelector",key:"createSelectorgetTabSoda",description:l=>l.tabSoda};const c=(0,n.Mz)(l=>{const m=s(l);return m.activeTab?m.tabs[m.activeTab].entries:[]});c.meta={name:"createSelector",key:"createSelectortabSodaGetRecentsForActiveTab",description:l=>{const m=s(l);return m.activeTab?m.tabs[m.activeTab].entries:[]}};const r=(0,n.Mz)(l=>{const m=s(l);if(!m.activeTab)return!0;const _=m.tabs[m.activeTab];return!_||_.currentIndex<=0});r.meta={name:"createSelector",key:"createSelectortabSodaIsBackDisabledForActiveTab",description:l=>{const m=s(l);if(!m.activeTab)return!0;const _=m.tabs[m.activeTab];return!_||_.currentIndex<=0}};const a=(0,n.Mz)(l=>{const m=s(l);if(!m.activeTab)return!0;const _=m.tabs[m.activeTab];return!_||_.currentIndex>=_.entries.length-1});a.meta={name:"createSelector",key:"createSelectortabSodaIsForwardDisabledForActiveTab",description:l=>{const m=s(l);if(!m.activeTab)return!0;const _=m.tabs[m.activeTab];return!_||_.currentIndex>=_.entries.length-1}};const i=(0,n.Mz)((l,m)=>{var _,h;const f=s(l).tabs[m];if(!f)return!1;const v=f.entries[f.currentIndex],u=v==null?void 0:v.teamId;if(!v||!u)return!1;const g=v==null?void 0:v[o.jf],p=v==null||(_=v[g])===null||_===void 0||(h=_[o.mq.Primary])===null||h===void 0?void 0:h.id;return!!p&&(0,t.Fp)(p)});i.meta={name:"createSelector",key:"createSelectortabSodaCanEjectTab",description:(l,m)=>{var _,h;const f=s(l).tabs[m];if(!f)return!1;const v=f.entries[f.currentIndex],u=v==null?void 0:v.teamId;if(!v||!u)return!1;const g=v==null?void 0:v[o.jf],p=v==null||(_=v[g])===null||_===void 0||(h=_[o.mq.Primary])===null||h===void 0?void 0:h.id;return!!p&&(0,t.Fp)(p)}}},8620339321:(N,y,e)=>{"use strict";e.d(y,{UN:()=>h,oX:()=>f,qu:()=>v,wm:()=>d});var t=e(9823696244),n=e(109860581),o=e(2870224675),s=e(9932860381),c=e(6304789565),r=e(6533394955),a=e(9108490430),i=e(3193155968),l=e(9012396182),m=e(2554594353);const _=(0,c.Ay)("Update currently visible viewset as part of TabSoda tab switching",(u,g,p)=>{(0,r.Qw)(p.teamId,(0,a.cQ)(p)),l.getFocusedWorkspace&&m.b&&(0,l.getFocusedWorkspace)(g())!==p.teamId&&u((0,m.b)({teamId:p.teamId,fromNavigation:!0}));const{tabSoda:A}=g(),C=A.activeTab;if(C){const T=A.tabs[C],I=T.entries[T.currentIndex],M=I[i.jf],D=I[M],O=p[i.jf],S=p[O];if(!S)return;(0,r.Qw)(p.teamId,(0,t.C)({prevViewSet:D,prevTab:M,nextViewSet:S,nextTab:O,windowId:i.N2,navigateParams:{},triggerType:n.w.HISTORY_NAVIGATION}))}});_.meta={name:"createThunk",key:"createThunkupdateVisibleView",description:"Update currently visible viewset as part of TabSoda tab switching"};const h=(0,c.Ay)("Switch current TabSoda tab",(u,g,p)=>{let{tabId:A}=p;const{tabSoda:C}=g();if(C.activeTab===A)return;const T=C.tabs[A],I=T.entries[T.currentIndex];u(_(I)),u((0,o.yw)(A))});h.meta={name:"createThunk",key:"createThunktabSodaSwitchTab",description:"Switch current TabSoda tab"};const d=(0,c.Ay)("Close active TabSoda tab and switch to the nearest open tab",(u,g,p)=>{let{tabId:A}=p;const{tabSoda:C}=g(),T=C.activeTab,I=(0,s.fe)(T,C.tabOrder);if(A===T&&I){const M=C.tabs[I],D=M.entries[M.currentIndex];u(_(D))}u((0,o.oT)(A))});d.meta={name:"createThunk",key:"createThunktabSodaCloseTab",description:"Close active TabSoda tab and switch to the nearest open tab"};const f=(0,c.Ay)("Go back in history in a currently active TabSoda tab",(u,g)=>{const{tabSoda:p}=g(),A=p.activeTab;if(!A)return;const C=p.tabs[A];if(!C||C.currentIndex<=0)return;const T=C.entries[C.currentIndex-1];u(_(T)),u((0,o.Wz)(A))});f.meta={name:"createThunk",key:"createThunktabSodaGoBackInActiveTab",description:"Go back in history in a currently active TabSoda tab"};const v=(0,c.Ay)("Go forward in history in a currently active TabSoda tab",(u,g)=>{const{tabSoda:p}=g(),A=p.activeTab;if(!A)return;const C=p.tabs[A];if(!C||C.currentIndex>=C.entries.length-1)return;const T=C.entries[C.currentIndex+1];u(_(T)),u((0,o.GJ)(A))});v.meta={name:"createThunk",key:"createThunktabSodaGoForwardInActiveTab",description:"Go forward in history in a currently active TabSoda tab"}},4766735965:(N,y,e)=>{"use strict";e.d(y,{A:()=>g});var t=e(2664504268),n=e(9121100949),o=e(2527782504),s=e(2495064448),c=e(9392104102),r=e(6471059816),a=e(4496040127),i=e(9012396182),l=e(6304789565),m=e(7384121809),_=e(8439865561),h=e(1201539379),d=e(6290537170),f=e(9733150292);const v=new r.Ay("team_picker"),u=(0,l.Ay)("Sets whether or not the protype full rail workspace switcher is showing",function(p,A){let{shouldTransitionFocus:C=!1,shouldAnnounceStateChange:T=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=arguments.length>3?arguments[3]:void 0;const M=A();if(!(0,a.VA)())return;const D=(0,m.en)().getState();var O;if(((O=(0,i.getAllWorkspaces)(D))!==null&&O!==void 0?O:c.Ml).length<=1)return;const R=(0,d.v8)(M),U=!R;(0,f.q9)(n.WU,U),p((0,h.mV)(U)),(0,m.dispatchForClientStore)((0,h.mV)(U));const P=v.t("Workspaces tabs shown",{fallbackHash:"4276daaa1e74cec8e94f7b39a26c73cd406b09c7"}),L=v.t("Workspaces tabs hidden",{fallbackHash:"895e322ca1828738617068cee955516bd71149cd"});if(T&&p((0,_.rl)({message:R?L:P,uuid:(0,t.A)()})),!C)return;const{transitionFocusTo:F}=(0,s.$P)(A(),I),x=R?o.Ay.TAB_RAIL:o.Ay.WORKSPACE_SWITCHER_TAB_LIST;F({focusKey:x})});u.meta={name:"createThunk",key:"createThunktoggleWorkspaceSwitcherVisibility",description:"Sets whether or not the protype full rail workspace switcher is showing"};const g=u},8729431059:(N,y,e)=>{"use strict";e.d(y,{p:()=>a});var t=e(3551081743),n=e(1771500940),o=e(4117634716),s=e(337319621),c=e(6304789565);const r=(0,s.Wo)(),a=(0,c.Ay)("Open in split view",async(i,l,m)=>{if(!t.P.includes(m.viewType)){r.info("SPLIT_VIEW",`Navigation not implemented for view type: ${m.viewType}`);return}try{i((0,o.o)((0,n.b)(m)))}catch(_){r.error(`Navigation failed for view type: ${m.viewType}`,_)}});a.meta={name:"createThunk",key:"createThunkopenInSplitView",description:"Open in split view"}},4052707080:(N,y,e)=>{"use strict";e.d(y,{A:()=>c,t:()=>s});var t=e(219228829),n=e(2384831516),o=e(961375946);const s=(0,n.Mz)((r,a)=>{let{e:i}=a;return(0,o.Jz)(r)?c(i):!1});s.meta={name:"createSelector",key:"createSelectorshouldSplitSelector",description:(r,a)=>{let{e:i}=a;return(0,o.Jz)(r)?c(i):!1}};function c(r){return!r||!(0,t.A)(r)?!1:r.altKey}E(c,"shouldSplit")},8002659820:(N,y,e)=>{"use strict";e.d(y,{E3:()=>u,jM:()=>f});var t=e(9323322135),n=e(3929724715),o=e(1407713935),s=e(8920264989),c=e(4094753332),r=e(337319621),a=e(6533394955),i=e(1711848812),l=e(4761125736);const m="DESKTOP-SEARCH-INDEX-SIDE-EFFECT",_=604800;function h(g){return(0,l._Z)(g,"desktop_search_indexing")==="on"}E(h,"isDesktopSearchIndexingEnabled");async function d(g,p){if(!(!(0,c.y3)()||!(0,t.g9M)()||!t.AjU.isAvailable()||!await(0,t.AjU)()))try{return p(g)}catch(A){(0,r.Wo)().warn(m,p.name,"Failed",A)}}E(d,"doIfIndexingAvailable");const f=E(async g=>d(g,E(async function(A){const C=A.flatMap(T=>{const I=(0,a.$D)(T);if(h(I))return(0,i.E)(I).reduce((M,D)=>((0,o.JM)(D)||M.push({identifier:`slack://channel?team=${T}&id=${(0,n.FB)(D)}`,contentDescription:(0,n.z8)(D)||(0,n.cU)(D)||" ",domainIdentifier:T,expirationDate:_,title:(0,s.SB)(I,D)}),M),[])}).filter(T=>typeof T<"u");C.length&&await(0,t.zOA)(C)},"addChannels")),"addChannelsToSearchIndex"),v=E(async g=>d(g,E(async function(A){await removeFromIndex(A)},"removeItems")),"removeItemsFromSearchIndex"),u=E(async g=>d(g,E(async function(A){await(0,t.Oes)(A)},"removeAllItems")),"removeAllItemsFromSearchIndex")},859310680:(N,y,e)=>{"use strict";e.d(y,{go:()=>q,xy:()=>K});var t=e(2028988448),n=e(7639461119),o=e(5057176955),s=e(9714187984),c=e(8426925643),r=e(2784941542),a=e(9733150292),i=e(4588514760),l=e(7729538251),m=e(9681594967),_=e(2325478352),h=e(7770551414),d=e(6470070112),f=e(337319621),v=e(2250002584),u=e(264208541),g=e(9012396182),p=e(8847766420),A=e(5583430912),C=e(7384121809),T=e(6533394955),I=e(9101533895),M=e(7765212398),D=e(4761125736),O=e(8276911661),S=e(7115106069),R=e(8233775522);function U(){var $,le;return{hardware_concurrency:($=window.navigator)===null||$===void 0?void 0:$.hardwareConcurrency,device_memory:(le=window.navigator)===null||le===void 0?void 0:le.deviceMemory}}E(U,"getDeviceStats");function P(){const $=localStorage==null?void 0:localStorage.getItem("client_metrics_client_redux_size"),le=(0,u.Hn)(),te=(0,u.Ey)(),ce=le&&te?(le/te).toPrecision(4):null;return{total_client_redux_size:$,js_heap_used:le,js_heap_total:te,js_heap_used_percentage:ce}}E(P,"getPerfMemoryStats");function L(){const $=localStorage==null?void 0:localStorage.getItem("client_metrics_app_stats");if(!$)return{};try{return JSON.parse($)}catch(le){return(0,f.Wo)().warn("Error parsing appStats in localStorage:",$,le),{}}}E(L,"getDesktopAppStats");function F(){return{...(0,c.JP)(),...(0,c.I5)(),num_started_sockets:(0,h.eK)(),object_store_redux_group:(0,n.B9)(_.Wv)}}E(F,"getClientStateTags");function x($,le){const te=le.startSpan("add_tags:channels_info",{tags:{_auto_analytics:""}}),ce=Object.values((0,I.DM)($)).length,me=Object.values((0,I.h3)($)).length,_e=Object.values((0,I._B)($)).length,Ae=Object.values((0,I.FS)($)).length;return te.close(),{num_channels_in_redux:ce,num_all_channels_user_is_in:me,num_dms_user_is_in:_e,num_group_dms_user_is_in:Ae}}E(x,"getChannelInfoTags");function b($,le){const te=le.startSpan("add_tags:drafts_info",{tags:{_auto_analytics:""}}),ce=Object.keys((0,M.Hw)($)||{}).length,me=(0,o.sZ)((0,M.my)($));return te.close(),{num_drafts:ce,drafts_store_size:me}}E(b,"getDraftsInfoTags");function k($){return{user_locale:(0,l.JK)({teamOrEnterpriseId:(0,p.JY)($)})}}E(k,"getLocaleTags");function B($){return{active_collab_instance_count:(0,A.Ui)(),open_quip_embed_instance_count:(0,S.oj)($).length,canvas_child_window_count:(0,i.CJ)()}}E(B,"getCanvasTags");const W=E($=>{const le=["selector_memo"],te={};return le.forEach(me=>{const _e=(0,D._Z)($,me,!1);_e&&(te[me]=_e)}),[...Object.keys(s.nD)].forEach(me=>{const _e=(0,n.B9)(me);_e!==n.dw.NoGroup&&(te[me]=_e)}),te},"getExperimentTagsForTraces"),K=E(($,le)=>{const te=le??[],ce={},me=(0,D.Vs)($),_e=Date.now()/1e3,Ae=60*60*24*7*4;for(const[ye,oe]of Object.entries(me)){const{trigger:ee,schedule_ts:V}=oe;(te.includes(ye)||ee&&V&&ee!=="finished"&&ee!=="force_debug"&&V>_e-Ae)&&(ce[ye]=oe.group)}return ce},"getExperimentTags");function H($){return{num_members_in_redux:(0,O.I_)($).length}}E(H,"getMembersTags");function z($){const le=(0,a.W6)("lastColdBootTs"),te=(0,R.pp)($);return{last_cold_boot_ts:le,boot_type:te}}E(z,"getConfigTags");function Q(){return{is_in_active_huddle:(0,d.NZ)()}}E(Q,"getHuddleTags");function q($){const le=(0,C.Ry)();if(!le)return{};const te=$??(0,g.getFocusedWorkspace)(le),ce=(0,T.$D)(te),me=(0,v.F)(),_e=me.createTrace({traceName:"add_tags:performance_tracing_tags"}),Ae=(0,c.Kh)(te),ye=F(),oe=x(ce,_e),ee=b(ce,_e),V=U(),w=P(),Y=L(),G=k(ce),Z=H(ce),se=z(ce),ae=m.qV.getTraceTags(),re=W(ce),pe=B(ce),de=Q(),ie=(0,c.G1)(),he=(0,r.zT)(),ve={...Ae,...ye,...oe,...ee,...V,...w,...Y,...G,...Z,...se,...ae,...re,...pe,...de,...ie,...he};return me.reportTrace(_e),ve}E(q,"getPerformanceTracingTags"),(0,t.zv)("performanceTracingTags",q)},3614984351:(N,y,e)=>{"use strict";e.d(y,{A:()=>Ge});var t=e(3134334389),n=e(2850141087),o=e(1545824888),s=e(6329712420),c=e(6471059816),r=e(9733150292),a=e(4979734995),i=e(7173172014),l=e(2308565927),m=e(9539184071),_;(function(Pe){Pe.INVALID_CODE="invalid_pin",Pe.RATE_LIMITED="ratelimited",Pe.SMS_RATE_LIMITED="two_factor_sms_rate_limited",Pe.TOO_MANY_ATTEMPTS="two_factor_too_many_attempts",Pe.INTERNAL_ERROR="internal_error"})(_||(_={}));var h;(function(Pe){Pe.SMS="sms",Pe.APP="app",Pe.EMAIL="email",Pe.EMERGENCY="emergency"})(h||(h={}));var d;(function(Pe){Pe.REQUEST_CODE="request_primary",Pe.REQUEST_BACKUP="request_backup",Pe.SUBMIT_PRIMARY="submit_primary",Pe.SUBMIT_BACKUP="submit_backup",Pe.SUBMIT_EMERGENCY="submit_emergency"})(d||(d={}));var f=e(581167618);const v=new c.Ay("sign_in");function u(Pe){let Le=null;return Pe.error===_.SMS_RATE_LIMITED?Le=v.rt("Apologies! There were too many SMS message requests in a short period, so you\u2019ll have to wait a moment to try again."):Pe.error===_.INVALID_CODE?Le=v.rt("Your two-factor authentication code was incorrect. Please try again."):Pe.error===_.RATE_LIMITED?Le=v.rt("You\u2019ve been trying to log in too often. Wait a few minutes and try again."):Pe.error===_.TOO_MANY_ATTEMPTS?Le=v.rt("We\u2019ve detected too many failed attempts to enter a code. For safety we\u2019ve reset your password. Please check your email for further information.",{fallbackHash:"7773426b227dec3b18a254adf97a7e212e998276"}):Le=v.rt("An unknown error occurred."),t.createElement(f.Ay,{className:"p-enter-code-error__alert",type:f.QE.boxed,icon:"lock-o",level:f.A_.error,align:f.AO.left,"data-qa":"2fa_code_error_alert"},t.createElement("span",null,Le))}E(u,"EnterCodeError");var g=e(1610251172),p=e(8739505998),A=e(7171435821);const C=new c.Ay("sign_in"),T={elementName:"help_button",onClick:{enableClogAction:!0}},I=E(Pe=>{const Le=Pe.action===d.REQUEST_BACKUP||Pe.action===d.SUBMIT_BACKUP;return Le&&Pe.twoFactorBackupType===h.APP||!Le&&Pe.twoFactorType===h.APP},"currentMethodIsApp"),M=E(Pe=>I(Pe)?C.t("Problems with your authentication app?"):C.t("Problems with your code?"),"renderProblemsString"),D=E(Pe=>I(Pe)?t.createElement("div",{className:"subtle_silver small medium_top_margin"},t.createElement("p",{className:"no_bottom_margin"},C.t("Check your authentication app for your code.")),t.createElement("p",null,C.rt("<a>Having trouble finding your code?</a>",null,Le=>{let{tag:ze,text:Me}=Le;return ze==="a"?t.createElement(p.A,{href:`https://${(0,A.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Me):null})),t.createElement("p",null,C.rt("If your app is unavailable, use a <a>backup code</a>.",null,Le=>{let{tag:ze,text:Me}=Le;return ze==="a"?t.createElement(p.A,{href:`https://${(0,A.qF)()}/help/articles/204509068#troubleshoot-2fa`,target:"_blank"},Me):null}))):t.createElement("p",{className:"align_left subtle_silver small"},C.rt("You can also try a backup code, if you have one. For other issues, read more about <a>two-factor authentication</a>, or contact your workspace administrator for help.",null,Le=>{let{tag:ze,text:Me}=Le;return ze==="a"?t.createElement(p.A,{href:`https://${(0,A.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Me):null})),"renderProblems");D.displayName="renderProblems";const O=E(Pe=>{const[Le,ze]=(0,t.useState)(!1);return t.createElement("div",{className:"p-enter-code__help_button"},t.createElement(p.A,{tabIndex:0,className:"p-enter-code__get_help_link",onClick:()=>ze(!Le),autoClogProps:T},t.createElement(g.A,{type:"question-circle"})," ",M(Pe)),Le&&t.createElement("div",{className:"send_code_block"},Pe.children,t.createElement("div",{className:"col span_4_of_6 float_none margin_auto"},t.createElement("hr",{className:"medium_bottom_margin"}),D(Pe))))},"GetHelpButton");O.displayName="GetHelpButton";var S=e(9867500491),R=e(4844578989),U=e.n(R),P=e(8646591923),L=e(3700949338),F=e(219228829);function x(){return x=Object.assign||function(Pe){for(var Le=1;Le<arguments.length;Le++){var ze=arguments[Le];for(var Me in ze)Object.prototype.hasOwnProperty.call(ze,Me)&&(Pe[Me]=ze[Me])}return Pe},x.apply(this,arguments)}E(x,"_extends");let b=E(class extends t.Component{render(){const{ariaDescribedBy:Le}=this.props;return t.createElement("div",{className:U()("two_factor_input_item",{focused:this.props.hasFocus})},t.createElement("input",{autoComplete:this.props.autocomplete,ref:this.props.refToForward,type:"text",inputMode:"numeric",pattern:"\\d*",value:this.props.value,"aria-disabled":this.props.disabled,disabled:this.props.disabled,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":Le}))}constructor(...Le){super(...Le),this.onKeyDown=ze=>{switch(ze.keyCode){case P.G_:{ze.currentTarget.value||this.props.moveLeft();return}case P.UQ:return ze.preventDefault(),this.props.moveLeft();case P.LE:return ze.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=ze=>{!(0,L.A)(ze.which)&&ze.charCode&&!(0,F.A)(ze)&&ze.preventDefault()},this.onChange=ze=>{const Me=ze.target.value;(/^[0-9]$/.test(Me)||Me==="")&&this.props.onChange(Me)},this.onPaste=ze=>{ze.preventDefault();const Me=window.clipboardData||ze.clipboardData,Ce=Me.getData("text")||Me.getData("text/plain"),Qe=/\D/g,Be=Ce.replace(Qe,"");this.props.onPaste(Be)}}},"TwoFactorDigitInput");b.displayName="TwoFactorDigitInput";const k=t.forwardRef((Pe,Le)=>t.createElement(b,x({},Pe,{refToForward:Le}))),B=new c.Ay("team_creation");let W=E(class extends t.Component{focusInput(Le){const ze=this.inputRefs[Le];ze!=null&&ze.current&&ze.current.focus()}moveLeft(Le){Le<=0||this.focusInput(Le-1)}moveRight(Le){Le>=this.state.values.length-1||this.focusInput(Le+1)}isComplete(Le){return!Le.some(ze=>!ze)}clear(){this.setState(Le=>({values:Le.values.map(()=>""),focusedInputIndex:0})),this.focusInput(0)}onChange(Le,ze){const Me=this.state.values.slice();Me[Le]=ze,this.setState(()=>({values:Me}),()=>{ze&&!this.isComplete(this.state.values)&&this.moveRight(Le)})}componentDidUpdate(Le,ze){var Me;if(this.state.focusedInputIndex!==-1&&document.activeElement!==((Me=this.inputRefs[this.state.focusedInputIndex])===null||Me===void 0?void 0:Me.current)&&this.focusInput(this.state.focusedInputIndex),this.props.codeLength!==Le.codeLength&&this.onCodeLengthChange(ze),!this.isComplete(ze.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&ze.values.join("")!==this.state.values.join("")){const Ce=this.state.values.join("");this.props.onFillCode(Ce)}else ze.values.join(",")!==this.state.values.join(",")&&this.props.onChange()}componentDidMount(){this.focusInput(0)}renderInputs(Le,ze){return this.state.values.slice(Le,ze).map((Me,Ce)=>{const Qe=Ce+Le;return t.createElement(k,{autocomplete:Qe===0?"one-time-password":"off",key:Qe,ref:this.inputRefs[Qe],moveLeft:()=>this.moveLeft(Qe),moveRight:()=>this.moveRight(Qe),onChange:Be=>this.onChange(Qe,Be),onPaste:this.onPaste,onFocus:()=>{this.setState(()=>({focusedInputIndex:Qe}))},onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===Qe,value:this.state.values[Qe],ariaLabel:B.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:Qe+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:this.props.ariaDescribedBy,disabled:this.props.disabled})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input"},t.createElement("div",{className:"display_flex"},this.renderInputs(0,this.props.codeLength)))}constructor(Le){super(Le),this.onPaste=ze=>{const Me=this.state.focusedInputIndex;if(Me===-1)return;const Ce=this.state.values.length-Me,Qe=ze.substring(0,Ce).split(""),Be=this.state.values.slice();Qe.forEach((we,xe)=>{const Se=xe+Me;Be[Se]=we}),this.setState(()=>({values:Be}),()=>{this.focusInput(Math.min(this.state.values.length-1,Me+Qe.length))})},this.onCodeLengthChange=ze=>{const Me=(0,S.A)(this.props.codeLength,()=>"");ze.values.forEach((Ce,Qe)=>{Qe<Me.length&&(Me[Qe]=Ce)}),this.setState(()=>({values:Me})),this.inputRefs=Me.map(()=>t.createRef())},this.state={values:(0,S.A)(Le.codeLength,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"TwoFactorCodeInput");W.defaultProps={isNumbersOnly:!0};var K=e(6084388622);const H=new c.Ay("sign_in");function z(Pe){const{isSSB:Le,isSSBSignIn:ze,hasPromoOffer:Me,shouldRedirect:Ce,redirectURL:Qe,loggedInTeams:Be,entryPoint:we=""}=Pe;return t.createElement("div",{className:"align_center","data-qa":"signedin_workspaces"},!Me&&!Le&&t.createElement("p",{className:"small_bottom_margin"},H.t("You're already signed in to {loggedInTeams, plural, =1 {this workspace} other {these workspaces}}:",{loggedInTeams:Be})),t.createElement("p",{className:"col span_4_of_6 margin_auto float_none"},Be.map((xe,Se)=>t.createElement(K.z9,{key:xe.id,"data-qa":`signedin_workspace_link_${Se+1}`,className:"team-signin-link small_margin","data-team-id":xe.id,autoClogProps:{elementName:"team_domain",elementValue:xe.id.toString(),entryPoint:we,onClick:{enableClogAction:!0}},href:ze?`${xe.url}ssb/signin_redirect`:`${xe.url}${Ce?`?redir=${Qe}`:""}`,"aria-label":H.t("Go to {teamName} on Slack",{teamName:xe.name}),type:"outline"},xe.name))))}E(z,"SignedInWorkspaces");var Q=e(1236965385),q=e(8668318456),$=e(9506008067),le=e(3328068409),te=e(4761125736);function ce(){return ce=Object.assign||function(Pe){for(var Le=1;Le<arguments.length;Le++){var ze=arguments[Le];for(var Me in ze)Object.prototype.hasOwnProperty.call(ze,Me)&&(Pe[Me]=ze[Me])}return Pe},ce.apply(this,arguments)}E(ce,"enter_code_root_extends");const me=new c.Ay("sign_in"),_e=5*60*1e3,Ae={elementName:"resend_button",onClick:{enableClogAction:!0}},ye={elementName:"backup_button",onClick:{enableClogAction:!0}},oe={elementName:"emergency_backup_button",onClick:{enableClogAction:!0}},ee="two_factor_form",V="enter-code",w=6;var Y;(function(Pe){Pe.Request="request_primary",Pe.RequestBackup="request_backup",Pe.SubmitPrimary="submit_primary",Pe.SubmitBackup="submit_backup",Pe.SubmitEmergency="submit_emergency",Pe.None="none"})(Y||(Y={}));function G(Pe){const[Le,ze]=(0,t.useState)(Pe.twoFactorType),[Me,Ce]=(0,t.useState)("");var Qe;const[Be,we]=(0,t.useState)((Qe=Pe.action)!==null&&Qe!==void 0?Qe:Y.None),[xe,Se]=(0,t.useState)(!1),[Ye,ot]=(0,t.useState)(w),[_t,pt]=(0,t.useState)(!1),vt=(0,$.d4)(Xt=>(0,te._Z)(Xt,"screen_text_2fa")==="on"),yt=t.useRef(null),Tt=t.createRef(),ft=Pe.submitOverride,{trackClogAuthRef:Ct,clogAuthLoginClick:At,trackClog:kt}=(0,Q.$A)(),Bt=Ct({eventId:q.EventId.AUTH_WORKSPACE_ENTER_CODE,uiPage:V});(0,t.useEffect)(()=>{if(xe){var Xt,j;if((Xt=kt.current)===null||Xt===void 0||(j=Xt.track)===null||j===void 0||j.call(Xt,{elementName:ee,elementValue:Be}),At({eventId:q.EventId.AUTH_WORKSPACE_ENTER_CODE,elementName:ee,uiPage:V,elementValue:Be})(),ft&&Tt.current)Se(!1),pt(!0),ft(Me,Be,Pe.magicLogin).then(()=>{var Ue;(Ue=yt.current)===null||Ue===void 0||Ue.clear(),pt(!1)});else{var Ie;(Ie=Tt.current)===null||Ie===void 0||Ie.submit()}}},[Be,xe,Tt,kt,Me,ft,Pe.magicLogin,At]),(0,t.useEffect)(()=>{(Pe.error===_.RATE_LIMITED||Pe.error===_.TOO_MANY_ATTEMPTS)&&pt(!0),Pe.error===_.RATE_LIMITED&&setTimeout(()=>{pt(!1)},_e)},[Pe.error]);const St=Le===h.EMERGENCY,Gt=Be===Y.RequestBackup||Be===Y.SubmitBackup,Et=!St&&(Gt&&Pe.twoFactorBackupType===h.SMS||!Gt&&Pe.twoFactorType===h.SMS||Pe.twoFactorType===h.EMAIL),wt=Pe.twoFactorType===h.EMAIL,Jt=Pe.twoFactorType===h.SMS?me.rt("Send Code to Primary Phone"):me.rt("Use Authentication App"),Lt=Pe.twoFactorBackupType===h.SMS?me.rt("Send Code to Backup Phone"):me.rt("Use Backup Authentication App"),Zt=E(()=>t.createElement(K.$n,{type:"outline",onClick:()=>{we(Gt?Y.RequestBackup:Y.Request),Se(!0)},autoClogProps:Ae},Gt?me.rt("Resend Code to Backup Phone"):me.rt("Resend Code")),"ResendButton"),qt=E(()=>t.createElement(K.$n,{type:"outline",onClick:()=>{we(Gt?Y.Request:Y.RequestBackup),Se(!0)},autoClogProps:ye},Gt?Jt:Lt),"BackupButton");qt.displayName="BackupButton";const tt=E(()=>{let Xt;return St?Xt=Gt?Lt:Jt:Xt=me.rt("Use Emergency Backup Code",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"}),t.createElement(K.$n,{type:"outline",onClick:()=>{St?(ze(Pe.twoFactorType),ot(w)):(ze(h.EMERGENCY),ot(Pe.emergencyCodeLength))},autoClogProps:oe},Xt)},"EmergencyButton");tt.displayName="EmergencyButton";const st=E(()=>Pe.twoFactorType===h.EMAIL?Pe.isClientApp?me.rt("We don\u2019t recognize this device",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):me.rt("We don\u2019t recognize this browser",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):vt?me.rt("Enter the code from your two-factor authentication app or SMS"):me.rt("Enter your authentication code"),"GetHeader"),gt=E(()=>{if(St)return me.rt("Check the list of emergency backup codes provided when setting up 2FA.",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"});if(Gt)return Pe.twoFactorBackupType===h.APP?me.rt("Check your authentication app for your code."):me.rt("We\u2019ve sent an authentication code to your backup phone <br></br> for signing into <strong>{teamName}</strong>.",{teamName:Pe.teamName});switch(Pe.twoFactorType){case h.APP:return me.rt("Check your authentication app for your code.");case h.EMAIL:return me.rt("We hate to be a bother, but we need to do our due diligence to keep your account safe. Please enter the code we\u2019ve just sent to {emailAddress} below to complete your sign-in.",{teamName:Pe.teamName,emailAddress:Pe.emailAddress,fallbackHash:"482df38f5efc61b851c499bff4080846e0f2b65b"});default:return me.rt("We\u2019ve sent an authentication code to your phone for signing into <strong>{teamName}</strong>.",{teamName:Pe.teamName})}},"GetSubheader"),Nt=E(Xt=>{let j;St?j=Y.SubmitEmergency:j=Gt?Y.SubmitBackup:Y.SubmitPrimary,Ce(Xt),we(j),Se(!0)},"onFillCode"),Ht=(0,$.d4)(le.to);return t.createElement(i.A,{eventId:q.EventId.TWO_FACTOR_AUTH,uiPage:V,trackClogRef:Bt},t.createElement(m.A,{clientTheme:Ht},t.createElement(l.A,{heading:st(),subHeading:gt(),subHeadingClassName:"p-enter_code_app__view_sub_header"},Pe.codeResent&&t.createElement(f.Ay,{className:"p-enter-code-error__alert",type:f.QE.boxed,icon:"paper-plane",level:f.A_.info,align:f.AO.left,"data-qa":"2fa_code_resent_alert"},wt?me.rt("We\u2019ve sent a fresh code to {emailAddress} for signing into <strong>{teamName}</strong>.",{teamName:Pe.teamName,emailAddress:Pe.emailAddress,fallbackHash:"ed10973da08d5a9563d5aa07b51e6771457ef6b0",fallbackHashNs:"find_team"}):me.rt("We\u2019ve sent a fresh code to your phone for signing into <strong>{teamName}</strong>.",{teamName:Pe.teamName})),Pe.error&&t.createElement(u,{error:Pe.error}),t.createElement("form",{ref:Tt,className:"p-enter_code",method:"POST"},t.createElement("div",{className:"p-enter_code__input_container"},t.createElement("fieldset",{className:"p-enter_code__input_fieldset"},t.createElement("legend",{className:"offscreen"},me.rt("{codeLength}-digit confirmation code",{codeLength:Ye,fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),t.createElement(W,{ref:yt,onFillCode:Nt,onChange:()=>{},hideDash:!0,error:Pe.error,disabled:_t,codeLength:Ye}),t.createElement("input",{type:"hidden",name:"2fa_magiclogin",value:Pe.magicLogin}),Pe.redir.length>0&&t.createElement("input",{type:"hidden",name:"redir",value:Pe.redir}),t.createElement("input",{type:"hidden",name:"remember",value:Pe.remember?"1":"0"}),t.createElement("input",{type:"hidden",name:"has_remember",value:Pe.hasRemember}),t.createElement("input",{type:"hidden",name:"2fa_code",value:Me}),t.createElement("input",{type:"hidden",name:"2fa_action",value:Be})))),t.createElement(O,ce({},Pe),t.createElement("div",{className:"p-enter-code__button"},Et&&t.createElement(Zt,null),Pe.twoFactorBackupType&&!St&&t.createElement(qt,null),!wt&&t.createElement(tt,null))),Pe.loggedInTeams.length>0&&t.createElement("div",{className:"p-enter-code__logged_in_teams"},t.createElement(z,ce({},Pe))))))}E(G,"EnterCodeRoot");var Z=e(4979382452),se=e(3602521375),ae=e(4636370173),re=e(2465132699),pe=e(8523371695),de=e(3606117573),ie=e(8029613601),he=e(4947127560),ve=e(9310872914),ge=e(6533394955),ke=e(3051824855);function Ne(){return Ne=Object.assign||function(Pe){for(var Le=1;Le<arguments.length;Le++){var ze=arguments[Le];for(var Me in ze)Object.prototype.hasOwnProperty.call(ze,Me)&&(Pe[Me]=ze[Me])}return Pe},Ne.apply(this,arguments)}E(Ne,"enter_2fa_code_modal_extends");const We=new c.Ay("2fa_modal"),Oe={enter2faCodeModal:"enter_2fa_code_modal",cancelButton:"enter_2fa_code_modal_cancel_button"},be={isSSB:!0,isSSBSignIn:!0,hasPromoOffer:!1,shouldRedirect:!1,redirectURL:"",loggedInTeams:[],remember:!1,hasRemember:"",children:void 0,isOpen:!0};function Ke(Pe,Le){const ze=(0,r.vS)();if(Pe!==void 0){const Ce=ze[Pe].two_factor_magic_login;Ce!==void 0&&Ce.token&&(Ce.token=Le),(0,r.q9)("pendingAuthTeams",ze)}}E(Ke,"updateLocalConfig2fa");function Fe(Pe){const Le=(0,r.vS)();if(Pe!==void 0){const ze=Le[Pe];ze.two_factor_magic_login=void 0,(0,r.q9)("pendingAuthTeams",Le)}}E(Fe,"clearLocalConfig2faMagicLogin");function J(Pe){let{magicLogin:Le,teamId:ze,type:Me,backupType:Ce,emergencyLength:Qe,emailAddress:Be,teamName:we,currentTeamId:xe,isOpen:Se,closeModal:Ye}=Pe;const[ot,_t]=(0,t.useState)(Le),[pt,vt]=(0,t.useState)(null),[yt,Tt]=(0,t.useState)(!1),ft=xe?(0,ge.oK)(xe):void 0,Ct=(0,t.useCallback)((kt,Bt,St)=>{const Gt={magic_token:St,ssb:!0,two_factor_native_supported_v2:!0,two_factor_pin:kt,two_factor_is_backup:Bt===d.REQUEST_BACKUP||Bt===d.SUBMIT_BACKUP};return Bt===d.REQUEST_CODE||Bt===d.REQUEST_BACKUP?(Gt.two_factor_pin="",Tt(!0)):Tt(!1),new o.S(Et=>{(0,a.j)("auth.loginMagic",Gt,(wt,Jt)=>{if(wt&&Jt.refreshed_magic_login){var Lt;_t(Jt.refreshed_magic_login),Ke(ze,Jt.refreshed_magic_login),!((Lt=Jt.reason)===null||Lt===void 0)&&Lt.match(/^missing_/)||vt(Jt.reason),Et(wt)}else wt&&Jt.team?(0,ve.A)({currentTeamStore:ft,newWorkspaceId:ze,navigateToRouteProps:{routeName:s.o},shouldAutoSignIn:!0}).then(()=>{Ye(),Et(wt)}):(Fe(ze),(0,ve.A)({currentTeamStore:ft,newWorkspaceId:ze,navigateToRouteProps:{routeName:s.o}}).then(()=>{Ye(),Et(wt)}))})})},[ze,ft,Ye]);(0,n.A)(()=>{Ct("",d.SUBMIT_PRIMARY,ot??"")},[]);const At=We.t("Finish signing into {teamName}",{teamName:we,fallbackHash:"e27938a88eacaa79d651d3aeb0bc39d128f0dd6c",fallbackHashNs:"team_picker"});return t.createElement(Z.A,{isOpen:Se,contentLabel:"two_factor",maxWidth:"800px",centered:!0,closeModal:Ye,dataQa:Oe.enter2faCodeModal},t.createElement(ie.A,null,t.createElement(he.A,{title:At})),t.createElement(ae.A,null,t.createElement(re.A,null,t.createElement("div",{id:"enter-code-app-root"},t.createElement(G,Ne({},be,{teamName:we,error:pt,action:null,magicLogin:ot||"",twoFactorType:Me,twoFactorBackupType:Ce,emailAddress:Be,codeResent:yt,redir:"",emergencyCodeLength:Qe,isClientApp:!0,submitOverride:Ct}))))),t.createElement(pe.A,null,t.createElement(de.A,null,t.createElement(se.A,{type:"outline","data-qa":Oe.cancelButton,"aria-label":We.t("Cancel")},We.t("Cancel")))))}E(J,"TwoFAModal"),J.displayName="TwoFAModal";const ne=(0,ke.e)(J);var je=e(337319621),at=e(7384121809),nt=e(9012396182);function Ge(Pe,Le){const ze=(0,at.Ry)();if(!(0,nt.isWorkspacePendingTwoFactor)(ze,Pe))return!1;const Me=(0,nt.getWorkspacesMeta)(ze),Ce=Me==null?void 0:Me[Pe],{two_factor_magic_login:Qe,name:Be}=Ce,{token:we,user_2fa_type:xe,user_2fa_backup_type:Se,user_emergency_code_length:Ye,email:ot}=Qe;let _t;return Le?_t=(0,ge.oK)(Le):_t=(0,ge.oK)((0,nt.getFocusedWorkspace)(ze)),_t?(_t.dispatch(ne({magicLogin:we,teamId:Pe,type:xe,backupType:Se,emergencyLength:Ye,teamName:Be,currentTeamId:Le,emailAddress:ot})),!0):((0,je.Wo)().error("TWO_FACTOR_SSB",`${Pe} is pending 2fa, but no store for ${Le}, falling back to openSignIn()`),!1)}E(Ge,"maybeRenderTwoFactorModal")},7302681637:(N,y,e)=>{"use strict";e.d(y,{aT:()=>F,zw:()=>k,qG:()=>L});var t=e(7823346015),n=e(8086952004),o=e(7031360717),s=e(7668372645),c=e(7311246228),r=e(1197598850),a=e(1319016163),i=e(6273911963),l=e(2878685908),m=e(9283444310),_=e(337319621),h=e(7344959578),d=e(4096483543);const f={is_expired:!1,ok:!0},v={is_expired:!1,ok:!1};async function u(K){let{teamIds:H}=K;if((0,l.b3)())return(0,_.Wo)().warn("MIN-VERSION","Cannot check whether to reload when using js_path. Skipping client.checkVersion call."),f;if(!(0,d.A)())throw new Error("client.checkVersion should only be used in the client.");try{var z;const Q={team_ids:H,build_version_ts:parseInt((z=(0,h.xb)())!==null&&z!==void 0?z:"",10),build_manifest_last_modified:(0,h.z8)()},q=(0,h.Cy)();q&&(Q.config_version_ts=q);const $=g(Q),le=await i.A.fetch({url:"/api/client.checkVersion",httpMethod:"POST",payload:$});return JSON.parse(le)}catch(Q){return(0,_.Wo)().error("Failed to fetch/parse client.checkVersion response",Q),v}}E(u,"clientCheckVersion");function g(K){return(0,m.t)(K,"client.checkVersion")}E(g,"getClientCheckVersionPayload");var p=e(9113979368),A=e(4015010068),C=e(7204143202),T=e(5257368278);const I=(0,T.A)("Check to see whether we need to reload",async(K,H,z)=>{let{reason:Q="unknown",teamIds:q=[],skipExpiryCheck:$=!1}=z;const le=(0,_.Wo)();if((0,l.b3)())return le.warn("MIN-VERSION","Cannot check whether to reload when using js_path. Skipping client.shouldReload call."),{should_reload:!1,reason:"js_path"};if(!(0,d.A)())throw new Error("client.shouldReload should only be used in the client.");const te=(0,h.fj)();if(!te)throw new Error("Cannot check whether to reload if we\u2019re missing versionTs");const ce=(0,h.z8)(),me=(0,h.xb)(),_e=parseInt(me??"",10),Ae={versionTs:te,reason:Q,buildVersionTs:_e,skipExpiryCheck:$,buildManifestLastModified:ce};(0,p.A)(q)||(Ae.teamIds=q),(0,A.A)(_e)&&(0,_.Wo)().error("MIN-VERSION",`Invalid build version timestamp: ${me}`);const ye=(0,h.Cy)();ye&&(Ae.configVersionTs=ye),(0,_.Wo)().info("MIN-VERSION",`teamIds: ${(q==null?void 0:q.join(","))||"NONE"}; versionTs: ${te}; buildVersionTs: ${_e}; buildManifestLastModified: ${ce}; configVersionTs: ${ye}; All config versions: ${(0,h.r6)()}`);try{return K((0,C.t)(Ae))}catch(ee){var oe;throw(ee==null||(oe=ee.data)===null||oe===void 0?void 0:oe.error)==="invalid_arguments"&&(0,_.Wo)().error(`client.shouldReload failed with invalid arguments: team_ids=${q.join(",")}; version=${Ae.buildVersionTs} buildManifestLastModified=${Ae.buildManifestLastModified}`,ee),ee}});I.meta={name:"createFetcher",key:"createFetcherclientShouldReloadImmediately",description:"Check to see whether we need to reload"};var M=e(2250002584),D=e(2872463257),O=e(8363626823),S=e(9012396182),R=e(7384121809),U=e(6533394955);const P="MIN-VERSION";async function L(K){const H=(0,R.en)();if((0,s.z$)())return b(K);const z=(0,S.getFocusedWorkspace)(H.getState()),Q=(0,U.oK)(z),q=(0,S.getBootedWorkspaces)(H.getState());return Q.dispatch(I({teamIds:q,reason:K}))}E(L,"checkForMinVersionBumpUsingRedux");async function F(K){let{reason:H,apiQ:z,teamId:Q,teamIds:q}=K;if(!(0,O.r)())return Promise.resolve(r.Yp);if(z===void 0||Q===void 0)return(0,o.z3)(P,`invalid apiQ or teamId passed to checkForMinVersionBump. teamId: ${Q}`),{reason:"undefined team id or apiQ",...r.Yp};const $=q??(0,a.Ay)();return(0,s.z$)()?x({bootingTeamIds:$,reason:H,apiQ:z}):(0,r.kK)({bootingTeamIds:$,reason:H,apiQ:z,teamId:Q})}E(F,"checkForMinVersionBump");async function x(K){let{bootingTeamIds:H,reason:z,apiQ:Q}=K;const q=await u({teamIds:H}),$=q.is_expired;var le;const te=(le=q.client_min_build_version)!==null&&le!==void 0?le:0;var ce;const me=(ce=q.recommended_build_version)!==null&&ce!==void 0?ce:0;var _e;const Ae=(_e=q.build_manifest_last_modified)!==null&&_e!==void 0?_e:0;if(!$)return{ok:!0,client_min_version:te,client_min_build_version:te,should_reload:!1,recommended_build_version:me,build_manifest_last_modified:Ae};const ye=(0,M.F)(),oe=ye.createMetricsTrace({label:"gov_mvb",samplingOptions:{sampleType:D.nl.ALWAYS}}),[ee,V]=(0,t.A)(H,se=>(0,c.H)(se));oe.addTags({client_min_version:te,recommended_build_version:me,build_manifest_last_modified:Ae,has_gov_teams:!!ee.length,has_commercial_teams:!!V.length});const{should_reload:w,reason:Y}=await(0,r.kK)({bootingTeamIds:ee,reason:z,apiQ:Q,teamId:ee[0]});if(!w)return oe.count({name:"prevent"}).addTags({environment:"gov",reason:Y??"none"}),ye.reportTrace(oe),(0,_.Wo)().info(P,`Gov teams failed rate limit check with reason ${Y??"none"}; Preventing reload. teams: (${ee.join(",")}) `),{ok:!0,client_min_version:te,client_min_build_version:te,should_reload:!1,recommended_build_version:me,build_manifest_last_modified:Ae,reason:Y};const{should_reload:G,reason:Z}=V.length!==0?await(0,r.kK)({bootingTeamIds:V,reason:z,apiQ:Q,teamId:V[0],skipExpiryCheck:!0}):{should_reload:!0,reason:"no_commercial_teams"};return G?(oe.count({name:"reload"}),ye.reportTrace(oe),{ok:!0,client_min_version:te,client_min_build_version:te,should_reload:!0,recommended_build_version:me,build_manifest_last_modified:Ae}):(oe.count({name:"prevent"}).addTags({environment:"commercial",reason:Z??"none"}),ye.reportTrace(oe),(0,_.Wo)().info(P,`Commercial teams failed rate limit check with reason ${Z??"none"}; Preventing reload. teams: (${V.join(",")})`),{ok:!0,client_min_version:te,client_min_build_version:te,should_reload:!1,recommended_build_version:me,build_manifest_last_modified:Ae,reason:Z})}E(x,"checkForMinVersionBumpInGovClients");async function b(K){const H=(0,R.en)();var z;const Q=(z=(0,S.getBootedWorkspaces)(H.getState()))!==null&&z!==void 0?z:[],{is_expired:q,client_min_build_version:$,recommended_build_version:le,build_manifest_last_modified:te}=await u({teamIds:Q});if(!q)return{should_reload:!1,client_min_version:$,recommended_build_version:le,build_manifest_last_modified:te};const ce=(0,M.F)(),me=ce.createMetricsTrace({label:"gov_mvb",samplingOptions:{sampleType:D.nl.ALWAYS}}),[_e,Ae]=(0,t.A)(Q,w=>(0,c.H)(w));me.addTags({client_min_version:$,recommended_build_version:le,build_manifest_last_modified:te,has_gov_teams:!!_e.length,has_commercial_teams:!!Ae.length});const{should_reload:ye,reason:oe}=await B({teamIds:_e,reason:K});if(!ye)return me.count({name:"prevent"}).addTags({environment:"gov",reason:oe??"none"}),ce.reportTrace(me),(0,_.Wo)().info(P,`Gov teams failed rate limit check with reason ${oe??"none"}; Preventing reload. teams: (${_e.join(",")}) `),{should_reload:!1,client_min_version:$,recommended_build_version:le,build_manifest_last_modified:te,reason:oe};const{should_reload:ee,reason:V}=await B({teamIds:Ae,reason:K});return ee?(me.count({name:"reload"}),ce.reportTrace(me),{should_reload:!0,client_min_version:$,recommended_build_version:le,build_manifest_last_modified:te}):(me.count({name:"prevent"}).addTags({environment:"commercial",reason:V??"none"}),ce.reportTrace(me),(0,_.Wo)().info(P,`Commercial teams failed rate limit check with reason ${V??"none"}; Preventing reload. teams: (${Ae.join(",")})`),{should_reload:!1,client_min_version:$,recommended_build_version:le,build_manifest_last_modified:te,reason:V})}E(b,"checkForMinVersionBumpInGovClientsUsingRedux");function k(K){return F({apiQ:K.bootQueue.apiQ,reason:"boot",...K})}E(k,"checkForMinVersionBumpOnBoot");async function B(K){let{teamIds:H,reason:z}=K;const Q=W(H);return Q?Q.dispatch(I({teamIds:H,reason:z,skipExpiryCheck:!0})):{should_reload:!0}}E(B,"shouldClientReloadForTeams");function W(K){const H=(0,n.A)(K,z=>!!(0,U.oK)(z));if(H)return(0,U.oK)(H)}E(W,"findAnyStoreInstanceForTeamIds")},4626613428:(N,y,e)=>{"use strict";e.d(y,{S4:()=>v,Ty:()=>P,ez:()=>f,lf:()=>U});var t=e(6839188756),n=e(9392104102),o=e(6323355797),s=e(1247361162),c=e(3009309149),r=e(9186462665),a=e(2047021170),i=e(7268021173),l=e(6827180593),m=e(772817784),_=e(117899263),h=e(3265910753),d=e(1670069836),f;(function(L){L.HAS_MENTIONS="has_mentions",L.HAS_SLACK_CONNECT_INVITE="has_slack_connect_invite",L.HAS_THREADS="has_threads",L.IS_ENTERPRISE="is_enterprise",L.IS_EXISTING_JOINER="is_existing_joiner",L.IS_IN_SOLUTIONS_ONBOARDING_TRIAL="is_in_solutions_onboarding_trial",L.IS_IN_ACTIVATE_SOLUTIONS_GALLERY_TRIAL="is_in_activate_solutions_gallery_trial",L.IS_IN_TRIAL="is_in_trial",L.IS_ONBOARDING_COMPLETED="is_onboarding_completed",L.IS_OVER_TWO_WEEKS_OLD="is_over_two_weeks_old",L.IS_USER_PREF_ENABLED="is_user_pref_enabled"})(f||(f={}));const v="should_show_ia4_tabs",u={reason:f.IS_ENTERPRISE,shouldShowTabs:!0},g={reason:f.IS_EXISTING_JOINER,shouldShowTabs:!0},p={reason:f.IS_USER_PREF_ENABLED,shouldShowTabs:!0},A={reason:f.HAS_MENTIONS,shouldShowTabs:!0},C={reason:f.HAS_THREADS,shouldShowTabs:!0},T={reason:f.HAS_SLACK_CONNECT_INVITE,shouldShowTabs:!0},I={reason:f.IS_IN_ACTIVATE_SOLUTIONS_GALLERY_TRIAL,shouldShowTabs:!0},M={reason:f.IS_IN_TRIAL,shouldShowTabs:!0},D={reason:f.IS_IN_SOLUTIONS_ONBOARDING_TRIAL,shouldShowTabs:!0},O={reason:f.IS_ONBOARDING_COMPLETED,shouldShowTabs:!0},S={shouldShowTabs:!0,reason:f.IS_OVER_TWO_WEEKS_OLD},R={shouldShowTabs:!1},U=(0,c.Ay)(L=>{const F=(0,d.H7)(L);if((0,t.r7)(F))return u;const b=(0,m.w)(L);if(!(0,_._)(L)&&b)return g;if((0,a.ty)(L,v))return p;var W;if(((W=(0,s.rz)(L))!==null&&W!==void 0?W:n.Ml).length>0)return A;var H;return((H=(0,s.sG)(L))!==null&&H!==void 0?H:n.Ml).length>0?C:(0,r.RU)(L)?T:(0,i.iH)(L)?(0,i.G)(L,o.ZO.SolutionsGalleryPromo)?I:(0,h.BX)(L)?D:M:(0,a.ty)(L,"onboarding_complete")?O:(0,l.H)(L)>=14?S:R});U.meta={name:"createSelector",key:"createSelectorshouldShowTabsWithReason",description:L=>{const F=(0,d.H7)(L);if((0,t.r7)(F))return u;const b=(0,m.w)(L);if(!(0,_._)(L)&&b)return g;if((0,a.ty)(L,v))return p;var W;if(((W=(0,s.rz)(L))!==null&&W!==void 0?W:n.Ml).length>0)return A;var H;return((H=(0,s.sG)(L))!==null&&H!==void 0?H:n.Ml).length>0?C:(0,r.RU)(L)?T:(0,i.iH)(L)?(0,i.G)(L,o.ZO.SolutionsGalleryPromo)?I:(0,h.BX)(L)?D:M:(0,a.ty)(L,"onboarding_complete")?O:(0,l.H)(L)>=14?S:R}};const P=(0,c.Ay)(L=>U(L).shouldShowTabs);P.meta={name:"createSelector",key:"createSelectorshouldShowTabs",description:L=>U(L).shouldShowTabs}},4459152581:(N,y,e)=>{"use strict";e.d(y,{$:()=>t});const t={ReactionAdded:"slack#/events/reaction_added",UserJoinedChannel:"slack#/events/user_joined_channel",ListRecordCreated:"slack#/events/list_record_created",ListRecordUpdated:"slack#/events/list_record_updated",ChannelCreated:"slack#/events/channel_created",MessagePosted:"slack#/events/message_posted"}},7798793495:(N,y,e)=>{"use strict";e.d(y,{G:()=>n});var t=e(9139930183);const n=(0,t.Ay)({},!0,{persistenceEnabled:!1,storeKey:"isState"});n.meta={name:"createReducer",key:"createReducerisStateReducer"}},9121100949:(N,y,e)=>{"use strict";e.d(y,{$D:()=>m,OR:()=>r,RC:()=>v,Ts:()=>i,WU:()=>f,f9:()=>h,gN:()=>a,jG:()=>d,jr:()=>u,jt:()=>c,kU:()=>_,ke:()=>t,qD:()=>l,r1:()=>s,ts:()=>n,u1:()=>o});const t="viewLayoutSidebarWidthIntent",n="viewLayoutSidebarWidthMode",o="viewLayoutSidebarWideWidthIntent",s="viewLayoutSidebarWideWidthMode",c="viewLayoutSidebarExtraWideWidthIntent",r="viewLayoutSidebarExtraWideWidthMode",a="viewLayoutSecondaryWidthIntent",i="viewLayoutSecondaryWidthMode",l="viewLayoutSplitWidthIntent",m="viewLayoutSplitWidthMode",_="viewLayoutsplitAIAppsWidthIntent",h="viewLayoutsplitAIAppsWidthMode",d="viewLayoutIsSidebarVisible",f="viewLayoutIsWorkspaceSwitcherVisible",v="viewLayoutCompactModeEnabled",u="viewLayoutLastSidebarWidth"}},N=>{var y=E(t=>N(N.s=t),"__webpack_exec__");N.O(0,["gantry-v2-vendors","gantry-v2-vendors-client","gantry-v2-shared","client-boot-styles"],()=>y(8090212505));var e=N.O()}]);})();

//# sourceMappingURL=https://slack.com/source-maps/bv1-13/client-boot.8457e8d93be94de96811.min.js.map